<html>
<head>
<title>Graph or Networks — Chapter 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图形或网络—第4章</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/graph-or-networks-chapter-4-a04a34a2f084?source=collection_archive---------8-----------------------#2022-05-21">https://medium.com/geekculture/graph-or-networks-chapter-4-a04a34a2f084?source=collection_archive---------8-----------------------#2022-05-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a173" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">通过深度优先搜索找到图形组件的数量</strong></p><p id="d6bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你没有读过以前的文章，并且是图论的新手，我强烈建议你访问下面的链接，以便更好地理解。</p><ul class=""><li id="a23b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae jm" rel="noopener" href="/geekculture/graphs-or-networks-chapter-1-57aa9497be06">第1章</a></li><li id="848d" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><a class="ae jm" rel="noopener" href="/geekculture/graphs-or-networks-chapter-2-2af64596858e">第二章</a></li><li id="a855" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><a class="ae jm" rel="noopener" href="/p/d3d4f6a66f01">第三章</a></li></ul><p id="a0ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">问题陈述:</strong>在下图中找出不同部件的数量。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/e93cda45319e142ee4a7cce87a0c9539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXQ8ORWRmJ0ScNcMv-akuA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Graph 1</figcaption></figure><pre class="jt ju jv jw fd ki kj kk kl aw km bi"><span id="15fd" class="kn ko hi kj b fi kp kq l kr ks">import networkx as nx<br/>import matplotlib.pyplot as plt<br/>import pandas as pd<br/><br/>data = [('A','B','e1'),("A","C",'e2'),("D","F",'e6'),("S","S",'e7')]<br/>df = pd.DataFrame(data=data,columns=['node1','node2','edge'])<br/>graph = nx.from_pandas_edgelist(df=df, source='node1', target='node2', edge_attr='edge',create_using=nx.Graph())<br/>pos = nx.spring_layout(graph, k=5)<br/>nx.draw(graph, pos, with_labels=True)<br/>labels = {edge_attribute: graph.edges[edge_attribute]['edge'] for edge_attribute in graph.edges}<br/>nx.draw_networkx_edge_labels(graph, pos, edge_labels=labels)<br/>plt.show()</span></pre><p id="cb52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过视觉观察，我们可以看到图1包含3个不同的部分，即(D，F)，(A，B，C)和(S)。</p><p id="5315" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在DFS算法之上添加一个逻辑来获得组件的数量。</p><ul class=""><li id="c45b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">存储元件数量的计数器。</li><li id="9bac" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated">DFS上的一个循环和条件，用于检查是否所有的节点都被访问过。</li></ul><pre class="jt ju jv jw fd ki kj kk kl aw km bi"><span id="ee00" class="kn ko hi kj b fi kp kq l kr ks">import networkx as nx<br/>import pandas as pd<br/><br/><br/>data = [('A','B','e1'),("A","C",'e2'),("D","F",'e6'),("S","S",'e7')]<br/>df = pd.DataFrame(data=data,columns=['node1','node2','edge'])<br/>graph = nx.from_pandas_edgelist(df=df, source='node1', target='node2', edge_attr='edge',create_using=nx.Graph())<br/>total_nodes = len(graph.nodes)<br/>is_seen = [False] * total_nodes<br/>n_component = 0<br/><br/>def depth_first_algo(graph,start_node='A'):<br/>    start_node_index = list(graph.nodes).index(start_node)<br/>    if is_seen[start_node_index]:<br/>        # print('retracting from',start_node)<br/>        return 0<br/>    is_seen[start_node_index] = True<br/>    node_neighbours = graph.neighbors(start_node)<br/>    for neighbour in node_neighbours:<br/>        # print('neighbour:',neighbour)<br/>        depth_first_algo(graph,start_node=neighbour)<br/><br/>for i in range(total_nodes):<br/>    if False in is_seen:<br/>        start_node = list(graph.nodes)[is_seen.index(False)]<br/>        depth_first_algo(graph,start_node=start_node)<br/>        n_component += 1<br/><br/>print(n_component)</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kt"><img src="../Images/40c343cb75b192e2aa6f79863bd6557f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*gCz1Upb_Wk4X6d2dG1FcGA.png"/></div></figure><p id="4f34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，我们在一个循环中调用DFS算法(循环限制设置为图中的节点数)。</p><ul class=""><li id="2437" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">一个循环从图中的一个根节点开始，并在解析所有邻居时结束。</li><li id="73e5" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated">在循环期间，代码更新“<strong class="ih hj"> is_seen </strong>”列表，在被访问节点的索引处具有真值。</li><li id="b707" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated">在迭代之后，如果一些节点没有被访问，则意味着这些节点不在与开始节点相同的组件中。</li><li id="4c63" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated">DFS算法仅当在"<strong class="ih hj"> is_seen" </strong>列表中找到任何"<strong class="ih hj"> False" </strong>值时才运行。因此，DFS运行的次数表示图中出现的组件数量("<strong class="ih hj"> n_component" </strong>)。</li></ul><p id="d941" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在评论区分享您的观点或对后续文章的任何建议。干杯！</p><h1 id="8378" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">舒巴姆·萨凯特</h1><ul class=""><li id="8eaf" class="jd je hi ih b ii lr im ls iq lt iu lu iy lv jc ji jj jk jl bi translated">如果你喜欢这篇文章，请关注我的<strong class="ih hj"><em class="lw"/></strong><a class="ae jm" href="https://saket-shubham16.medium.com" rel="noopener"><strong class="ih hj"><em class="lw">中的</em> </strong> </a> <em class="lw">以获取更多此类文章。</em></li><li id="5513" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><em class="lw">在</em><a class="ae jm" href="https://www.linkedin.com/in/shubham-saket" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="lw">LinkedIn</em></strong></a><strong class="ih hj"><em class="lw">上跟我连线。</em> </strong></li></ul></div></div>    
</body>
</html>