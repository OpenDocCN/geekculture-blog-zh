<html>
<head>
<title>World’s Top Movies: My CLI Ruby application project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">世界顶级电影:我的CLI Ruby应用项目</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/worlds-top-movies-my-cli-ruby-application-project-e365cb82d792?source=collection_archive---------21-----------------------#2021-10-13">https://medium.com/geekculture/worlds-top-movies-my-cli-ruby-application-project-e365cb82d792?source=collection_archive---------21-----------------------#2021-10-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/cbddb01c9546e3066b51be8bd902f50f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*flP9Gz-3dFxuJsDm"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@jontyson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jon Tyson</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e054" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将分享我在软件开发研究中对Ruby学习过程的思考，包括我的最终项目《T2世界顶级电影》。</p><h1 id="9716" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">这期间我学到了什么？</h1><p id="f322" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">在使用<em class="jt"> JavaScript </em>及其<em class="jt"> ReactJS </em> <strong class="ix hj"> </strong>库完成我的前端<a class="ae iu" rel="noopener" href="/nerd-for-tech/pokémon-matching-cards-my-reactjs-app-project-8f69bee496a2">T5】神奇宝贝匹配卡 </a>项目后，是时候深入后端了。Ruby被指定为完成这项任务的开源编程语言。原因？它的简单性和高效性，伴随着自然易读的语法。</p><p id="21e2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">冒险从大多数编程语言共有的所有常见主题开始:<em class="jt">变量和方法、布尔、逻辑</em>和<em class="jt">条件、循环、数组、迭代、散列</em>和<em class="jt">数据结构</em>。在这里，当我设法在短短几天内回顾所有这些主题时，我可以亲眼看到已经拥有一种编程语言(<em class="jt"> JavaScript </em>)的经验的神奇之处。与其说是适应新语法背后的逻辑，不如说是适应新语法的问题。</p><p id="acc0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在完成了程序性Ruby概念之后，我钻研了<em class="jt">面向对象</em>中的主题，在那里我了解了<em class="jt">类对象、对象属性、Self、类变量和方法、对象关系</em>和<em class="jt">继承</em>。在我学习JavaScript的过程中，我也了解了其中的一些主题，但是这次我明白了为什么<em class="jt"> OOP </em>如此强大。作为奖励，我学习了<em class="jt">正则表达式的基础知识。</em></p><p id="b394" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从那时起，在我看来，事情开始变得更具挑战性。以下要回顾的主题是<em class="jt">元编程、配置应用程序、SQL、对象关系映射、使用ActiveRecord、从远程源获取数据</em>和<em class="jt"> Rack。这是一大堆需要消化的信息，但是我做了大量的编码练习来更好地理解它们。</em></p><h1 id="bba9" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">我的项目:一个名为世界顶级电影的CLI应用程序</h1><p id="64dd" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我做的项目的最初要求如下:</p><ol class=""><li id="5779" class="kx ky hi ix b iy iz jc jd jg kz jk la jo lb js lc ld le lf bi translated">它必须提供一个命令行界面。</li><li id="f3e6" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated">应用程序必须提供对来自网页或API的数据的访问</li><li id="975f" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated">提供的数据必须至少深入一个级别。</li><li id="6970" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated">使用良好的面向对象的设计模式，如创建对象集合，而不是散列，避免在每个网页上多次抓取数据，以提高应用程序的性能。</li><li id="bf7f" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated">可选地从应用程序创建一个gem。</li></ol><p id="2dfb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想更进一步，所以我添加了数据库功能，并且我使用了<em class="jt"> SQLite3 </em>来完成这项工作。</p><h1 id="ebdd" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结构和特征</h1><p id="3aa7" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我的项目是一个CLI应用程序，它利用<em class="jt">网络抓取</em>从IMDB获取数据，IMDB是亚马逊的一个电视、视频游戏，尤其是电影<em class="jt">的在线数据库。</em>该应用程序根据IMDB用户评论抓取全球收视率最高的电影，并在CLI上显示，同时还拥有一个数据库，可帮助用户存储他们最喜爱的电影并留下注释。</p><h2 id="139f" class="ll jv hi bd jw lm ln lo ka lp lq lr ke jg ls lt ki jk lu lv km jo lw lx kq ly bi translated">数据库模式</h2><p id="10f7" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我上面说过，我在这段学习期间学习的课题之一是<em class="jt">活动记录</em>，这是一个对象关系映射框架。我使用这个Ruby gem是因为它允许我快速有效地处理关系数据库。它是Ruby和数据库之间的纽带。</p><p id="1475" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我使用的三个主要表格是:</p><ul class=""><li id="c6d3" class="kx ky hi ix b iy iz jc jd jg kz jk la jo lb js lz ld le lf bi translated"><strong class="ix hj">用户</strong>:存储<em class="jt">用户名</em></li><li id="732f" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lz ld le lf bi translated"><strong class="ix hj">电影</strong>:存储所有喜爱的电影和带注释的电影</li><li id="a453" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lz ld le lf bi translated"><strong class="ix hj">备注</strong>:通过<em class="jt"> movie_id </em>外键存储<strong class="ix hj">用户</strong>给出的所有<em class="jt">备注信息</em>以及与每个备注相关联的电影。</li></ul><p id="a68b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了创建关联，我必须创建两个表。</p><ul class=""><li id="0e8a" class="kx ky hi ix b iy iz jc jd jg kz jk la jo lb js lz ld le lf bi translated"><strong class="ix hj">用户_电影:</strong>通过<em class="jt">用户_id </em>和<em class="jt">电影_id </em>外键将用户与电影链接起来</li><li id="f8ba" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lz ld le lf bi translated"><strong class="ix hj"> User_notes: </strong>通过<em class="jt"> user_id </em>和<em class="jt"> note_id </em>外键将用户与notes链接起来</li></ul><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/2050fba21cfd18b30ba91a4f61f48ab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jDCshrJy1wIr8uBGIxpopw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Database schema</figcaption></figure><p id="f3d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该应用程序的结构由以下部分组成:</p><ul class=""><li id="89a3" class="kx ky hi ix b iy iz jc jd jg kz jk la jo lb js lz ld le lf bi translated">简介&amp;注册或登录</li><li id="9634" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lz ld le lf bi translated">热门电影查找</li><li id="59bf" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lz ld le lf bi translated">我最喜欢的电影</li><li id="7ee7" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lz ld le lf bi translated">我的电影笔记</li></ul><p id="c041" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在您可能对模型有了一个概念，我将从用户的角度解释每一部分。</p><h2 id="b2d0" class="ll jv hi bd jw lm ln lo ka lp lq lr ke jg ls lt ki jk lu lv km jo lw lx kq ly bi translated">简介&amp;注册或登录部分</h2><p id="9603" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">首先，用户会看到标题、我的联系信息、一个简短的<em class="jt">介绍</em>，紧接着，他们被要求<em class="jt">登录或注册</em>。用户键入用户名，应用程序检查该用户名是否存储在数据库中。如果存储，则登录；否则，它会创建一个新用户名并将其保存在数据库中。在这个动作之后，用户被询问他们是否想要去<em class="jt">热门电影查找</em>、<strong class="ix hj"> </strong> <em class="jt">我最喜欢的电影部分</em>或<em class="jt">我的电影笔记</em>。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/86dc18e986af4826ab53eae3e3ce61fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9z2jpF_XtaOvmEHHdIxsxw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Introduction &amp; sign up or log in.</figcaption></figure><h2 id="69e9" class="ll jv hi bd jw lm ln lo ka lp lq lr ke jg ls lt ki jk lu lv km jo lw lx kq ly bi translated">热门电影查找部分</h2><p id="7244" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi">If users go to the Top Movies Lookup, they’re asked to see the list of top movies by genre or a general lookup (not considering genre but merely by rating). Then the application does web scraping to retrieve the world’s top movies as per user specifications. To scrape the data, I utilised the <em class="jt">HTTParty </em>gem<em class="jt"> </em>to get the response from a GET request and <em class="jt">Nokogiri (鋸)</em> for parsing the body of HTML responses and work efficiently with XML.</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/c9859dae9f0474370d6041577b687c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9yH-slep7ZHy7CeQQ-61gg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">A user chooses Top Movies Lookup to look up movies by genre.</figcaption></figure><p id="11b8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，用户被询问他们是否想要从该列表中查看任何电影的详细信息，或者将它们中的任何一个添加到他们最喜欢的列表中。此外，他们可以离开并开始新的查找，转到我最喜欢的电影或我的电影笔记部分，或者打印到目前为止已显示的所有电影，以防用户查找到更多电影。</p><p id="2672" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果用户选择查看一部电影的详细信息，他们将会看到下面的屏幕截图，最后，他们会被询问是否要将该电影添加到他们的收藏夹或留下注释。如果用户将电影添加到他们的收藏夹，应用程序将首先检查这些电影是否已经在数据库中链接到该用户。如果电影尚未链接，则添加电影；否则，用户会收到一条提示消息，说明它已经存储在他们最喜欢的电影部分。</p><p id="f298" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另一方面，如果用户想留个便条，他们可以输入并按回车键。注释消息将自动保存在注释表中，并与数据库中的用户id相链接。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/037f0cc6469b12dda9f54b1aab02cd82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2aFbehcHbft7mcBs4EcrWQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">A user chooses to see detailed info about one of the movies and leave a note.</figcaption></figure><p id="61a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如前所述，用户可以将多部电影添加到收藏夹中。所以，他们不需要看到详细的信息来这样做。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/39e9e7c566137c88f4a81c1485bccf0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2QTU8qG8obZaY_PL7t4A-Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">A user can add multiple movies to their favourites.</figcaption></figure><h2 id="e7c6" class="ll jv hi bd jw lm ln lo ka lp lq lr ke jg ls lt ki jk lu lv km jo lw lx kq ly bi translated">我最喜欢的电影部分</h2><p id="95ad" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">这个部分包含了管理用户最喜欢的电影的所有内容。他们可以打印他们最喜欢的电影列表，查看其中任何一部电影的详细信息，或者从他们最喜欢的电影中删除电影。</p><p id="a214" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果用户想看他们喜欢的电影，CLI将显示与在查找部分查找电影相同的视图。我尽可能做到“干巴巴”，所以我使用了电影中的同一个类方法来完成这两个动作。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/3ddcf7d45a1c8513804e76a35a79e028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b4BYduglSZZv9DqvyjFPRw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">The list of a user’s favourite movies</figcaption></figure><p id="47f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">类似地，如果用户想要查看他们最喜欢的电影的详细信息，视图将与查找部分的电影相同。唯一的区别是底部，因为他们可以看到自己的笔记(如果有的话)。值得澄清的是，电影不一定是他们最喜欢的，才能留下注释。我将在<em class="jt">我的电影笔记</em>部分对此进行更多解释。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/692dbb0623b98ee0cb45c13497eefb30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YobSTrcCZxReBdk3j3Adbg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Detailed information of a favourite movie which also has a given note</figcaption></figure><p id="1ea5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如前所述，用户也可以从他们的最爱列表中删除电影。这个动作是通过从数据库中删除电影id和用户id的关联来完成的。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/09e5b3dec96c6c1e6128ec34ff1df5c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lzyMXc4hSbKWkXwRmTwWCA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Users can select the movies they want to delete</figcaption></figure><h2 id="3823" class="ll jv hi bd jw lm ln lo ka lp lq lr ke jg ls lt ki jk lu lv km jo lw lx kq ly bi translated">我的电影笔记部分</h2><p id="0fdb" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">在这个部分，用户可以看到他们所有的笔记和与这些笔记相关的电影。他们还可以通过注释查看任何电影的详细信息。最后但同样重要的是，他们可以删除任何笔记。</p><p id="6573" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果用户想看到他们所有的笔记，他们会看到它们按时间顺序排列，有相关的电影和日期以及留言的当地时间。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/c4f32ebf02e43a483f86de3f55b46105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vd-e2Thz09AtBxjZeH1nSw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Notes list from a given user</figcaption></figure><p id="4841" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如上所述，用户可以打开一部特定的电影，看到详细的信息。由于这些电影有注释信息，他们可以在底部看到与他们的用户id相关联的注释。如果他们想删除任何短信，他们也可以这样做。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/adc77591266068157b53886f218425e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y14p00LCybW16y5DMG-sPg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Users can the notes of a given movie and delete any notes from any movie.</figcaption></figure><h1 id="e6fa" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">式样</h1><p id="fb37" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">你可能会问颜色、字体风格、命令行界面提示和标题风格怎么样。对于颜色和字体样式，我使用了一种叫做<em class="jt">的宝石，它做得非常好。对于CLI提示，我使用了<em class="jt"> TTY提示</em> gem。为了标题，我使用了一种叫做<em class="jt"> Artii的宝石。</em></em></p><h1 id="22eb" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">挑战</h1><p id="4e5a" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">在开发这个CLI应用程序的过程中，我必须克服一些困难:</p><ol class=""><li id="e2e5" class="kx ky hi ix b iy iz jc jd jg kz jk la jo lb js lc ld le lf bi translated"><strong class="ix hj">找到正确的CSS选择器:</strong>找到正确的CSS选择器是一个很大的障碍。有些情况下，CSS选择器在一个网页上工作，但在另一个网页上就不工作了。比如有的电影有官网，有的没有。这种情况使我找到了使用CSS选择器的方法，而不会影响获得想要的信息。</li><li id="5a0b" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated"><strong class="ix hj">所有可能场景的bug:</strong>在开发过程中，我不得不不断地思考哪些地方可能会出错，这取决于具体的场景。值得一提的是，当两个用户有一部共同的电影时，其中一个用户决定从他们的收藏夹中删除这部电影。我必须确保我从<em class="jt">用户_电影</em>表中删除了电影记录，而不是从<em class="jt">电影</em>表中删除。这种情况似乎很明显，但我没有考虑到这一点，这些电影实际上已经从所有用户那里删除了。另一种情况是，当用户没有任何喜欢的电影或笔记时，他们不应该访问<em class="jt">我最喜欢的电影</em>和<em class="jt">我的电影笔记</em>。用<em class="jt">撬</em>被<em class="jt">套下的</em> ace。多亏了这个工具，我学到了很多关于如何调试的知识。</li><li id="9bdc" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated"><strong class="ix hj">字符串操作:</strong>对于一些电影，网站没有按照我想要的方式显示一些数据，因为我需要它们存储在我的类实例和数据库中。例如，当我只需要在电影实例和记录中存储数字时，像投票数这样的数值就用逗号分隔。另一种情况是用逗号分隔流派和星星，我想将它们存储为数组，当我只需要数字时，年份在括号内。我使用了一些基本的正则表达式和ruby方法来按照我想要的方式检索数据。</li><li id="8170" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated"><strong class="ix hj">定义模型之间的适当关系:</strong>在定义表之间的关系时，我必须回顾一些关系数据库的概念，如<em class="jt">属于、拥有、拥有、拥有、拥有、拥有、拥有、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一个、一例如，如果一个注释被销毁，那么与该注释相关联的user_note记录也必须被销毁。</em></li><li id="35cb" class="kx ky hi ix b iy lg jc lh jg li jk lj jo lk js lc ld le lf bi translated">为这个项目制作一个宝石并在<em class="jt">rubygems.org</em><em class="jt">:</em>上发布这个任务非常具有挑战性。我不知道如何创建一个宝石，所以我必须阅读文档。我最终用<a class="ae iu" href="https://bundler.io/v2.0/guides/creating_gem.html" rel="noopener ugc nofollow" target="_blank"> <em class="jt">捆绑器</em> </a>创造了宝石。这个过程并不简单，也许是因为我缺乏制作宝石的经验。其中一个问题是我必须删除<em class="jt">require _ all</em>gem<em class="jt"/>，因为它似乎只适用于开发，所以我必须重新设计所有的<em class="jt"> require </em>和<em class="jt"> require_relative </em>引用。另一个问题，也可能是最难解决的问题，是如何将数据库连接到安装gem的用户的本地文件夹。使用<em class="jt"> __dir__ </em>是解决这个问题的关键(感谢这位，<a class="ae iu" href="https://twitter.com/sandyleo26" rel="noopener ugc nofollow" target="_blank">沙</a>！).</li></ol><p id="7782" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总而言之，在我学习Ruby的过程中，我对自己的成绩非常满意。在学习期间，尤其是在CLI应用程序开发期间，我所经历的时间让我对所获得的技能充满信心。我已经准备好开始学习Ruby on Rails了！</p><p id="8b0d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里是宝石储存库:<a class="ae iu" href="https://github.com/CodeHunt101/world-top-movies" rel="noopener ugc nofollow" target="_blank">https://github.com/CodeHunt101/world-top-movies</a></p><p id="c8ea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想试试我的宝石，你可以在下面的链接找到它:<a class="ae iu" href="https://rubygems.org/gems/world_top_movies" rel="noopener ugc nofollow" target="_blank">https://rubygems.org/gems/world_top_movies</a>。</p><p id="3412" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想看看我是如何从头开始构建我的项目的，请打开我的项目的资源库:<a class="ae iu" href="https://github.com/CodeHunt101/top-movies-web-scraping-project-phase-3" rel="noopener ugc nofollow" target="_blank">https://github . com/codehunt 101/top-movies-web-scraping-project-phase-3</a></p></div></div>    
</body>
</html>