<html>
<head>
<title>10 Python snippets that you should use every day</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该每天使用的10个Python片段</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/10-python-snippets-that-you-should-use-every-day-6c1f076fd341?source=collection_archive---------4-----------------------#2022-01-02">https://medium.com/geekculture/10-python-snippets-that-you-should-use-every-day-6c1f076fd341?source=collection_archive---------4-----------------------#2022-01-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="0982" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">№8将使你成为专业的python程序员</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/2fd67e251625e019c7964c983d0fdd06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ga4EtE6YXbaDnGaOpz-MyQ.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Credits: Wayhomestudio at Freepik.com</figcaption></figure><p id="422b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果你每天都在使用Python，并且想学习一些技巧让你的代码更具可读性，那么你可以看看下面的18个片段。</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="5202" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated"><strong class="ak"> 1。插值格式字符串</strong></h1><p id="8d84" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">f字符串解决了C风格格式字符串的最大问题，并且非常强大，因为它们允许任意的Python表达式直接嵌入到格式说明符中。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="454e" class="ls kr hi lo b fi lt lu l lv lw">val = 108<br/>print(f'Value: {val}')</span></pre><h1 id="3ba9" class="kq kr hi bd ks kt lx kv kw kx ly kz la io lz ip lc ir ma is le iu mb iv lg lh bi translated"><strong class="ak"> 2。偏好多重作业解包过度索引</strong></h1><p id="7a75" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">可读性是Python的主要优点之一，它有一个特殊的语法叫做解包，用于在一个语句中分配多个值。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="95df" class="ls kr hi lo b fi lt lu l lv lw">dict = {'apple' " 120, 'banana': 60, 'nuts': 102}<br/>items = tuple(dict.items())<br/>print(items)<br/>apple, banana, nuts = items #<strong class="lo hj">unpacking</strong></span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="2b5a" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">3.Python中的三元运算符</h1><p id="221b" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">阅读起来过于复杂的单行表达式可以很容易地用Python编写。If/Else表达式为使用布尔运算符和in表达式提供了一种可读性更好的替代方法。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="28ae" class="ls kr hi lo b fi lt lu l lv lw"><strong class="lo hj">syntax : value if true else false</strong></span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="709d" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">4.列举的是新的<em class="mc">系列</em></h1><p id="c956" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">如果你想迭代一个iterable，也想获取一个迭代器，你可以使用enumerate()函数。您可以提供第二个参数来枚举，以指定开始计数的数字(零:默认值)</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="cdab" class="ls kr hi lo b fi lt lu l lv lw">l = ['deku', 'bakugo', 'todoroki', 'naruto']<br/>for indx, val in enumerate(l):<br/>  print(f'Value at index {indx} is: {val}')</span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="5b03" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">5.使用<em class="mc"> zip </em>来并行处理迭代器</h1><p id="1cfb" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">当迭代多个可迭代对象时，整个循环语句的问题是视觉上的噪音。使用<em class="md">枚举</em>稍微改善了这一点，但仍然不理想。拉链前来救援。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="7dbb" class="ls kr hi lo b fi lt lu l lv lw">agents = ['Reyna', 'Jett', 'Viper']<br/>kills = [13, 2, 14]<br/>for agent, kill in zip(agents, kills):<br/>  print(f'Agent {agent} : Kills {kill}')</span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="4b92" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">6.使用新的walrus运算符</h1><p id="91e5" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">很多时候，我们程序员看到这种获取一个值，检查它是否非零，然后使用它的模式。这使得编写程序时很难保持Python的核心特性即可读性。因此，在Python 3.8中，增加了walrus操作符来简化这种类型的代码。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="09e7" class="ls kr hi lo b fi lt lu l lv lw">if killCount := mostKills('Jett', 0)<br/>   killFeed(killCount)<br/>else:<br/>   print('Jett noob')</span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="22ef" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">7.知道如何分割你的序列</h1><p id="880f" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">在蛋糕上切片和Python中的切片语法符合它们的本性。切片允许您以最小的努力访问序列项的子集。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="6538" class="ls kr hi lo b fi lt lu l lv lw">l = [1, 2, 3, 4, 5, 6]<br/>syntax : l[start:end]</span><span id="2b57" class="ls kr hi lo b fi me lu l lv lw">l[:] # all elements<br/>l[:3] # start at 0 and end at 3rd element<br/>l[3:] # start from 3rd element and end at last</span><span id="fe86" class="ls kr hi lo b fi me lu l lv lw">use negative slicing<br/>l[:-1] # all elements except 6 (ie last)<br/>l[2:-1] # start from 2nd element and end and remove last element</span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="0c2d" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">8.知道何时使用切片和索引</h1><p id="7856" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">你可以依靠索引和切片，但是很多时候你会不知道iterable的大小，那时候你会遇到一个运行时错误。解决这个问题的最好方法是使用带星号的表达式。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="3ab6" class="ls kr hi lo b fi lt lu l lv lw">first, *middleIDK, last = [1, 2, 3, 4, 5]</span><span id="b31c" class="ls kr hi lo b fi me lu l lv lw">first # 1<br/>middleIDK # 2, 3, 4<br/>last # 5</span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="461c" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">9.将任何类转换成字典</h1><p id="3861" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">类有一个内置的属性__dict__这意味着创建的对象是字典，需要时可以像字典一样使用。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="fa7a" class="ls kr hi lo b fi lt lu l lv lw">class Obj:<br/> def __init__(self, a = 'test', b = 108):<br/>    self.a = a<br/>    self.b = b<br/>obj = Obj()<br/>print(vars(obj)) # vars() is pythonic way to convert to dictionary</span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="a235" class="kq kr hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">10.使用get处理缺少的字典键</h1><p id="9d70" class="pw-post-body-paragraph jn jo hi jp b jq li ij js jt lj im jv jw lk jy jz ka ll kc kd ke lm kg kh ki hb bi translated">如果你通常使用in来检查一个关键字是否在字典中，那么你就错过了一个更好的选择。</p><p id="b5d9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">您可以使用<em class="md"> setdefault </em>方法<em class="md"> </em>来获取一个键值，如果它不存在，该方法会将该键值赋给所提供的默认值。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="f867" class="ls kr hi lo b fi lt lu l lv lw">agents = leaderboard.setdefault(key, [])</span></pre><p id="0c33" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">您最好不要使用它，因为它会为每个找不到的键创建一个默认值，并且会导致性能开销。</p><p id="416e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">然而，如果你想要一个可读性更好的方法，你可以使用<em class="md"> get </em>方法和一个walrus操作符，就像这样。</p><pre class="iy iz ja jb fd ln lo lp lq aw lr bi"><span id="fafd" class="ls kr hi lo b fi lt lu l lv lw">if (agents := ) is None:<br/>   leaderboad[key] = agents = [] </span></pre></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><blockquote class="mf"><p id="43ec" class="mg mh hi bd mi mj mk ml mm mn mo ki dx translated">如果您喜欢这篇文章，并且想了解更多关于Python的内容，请查看这些文章。</p></blockquote><div class="mp mq mr ms mt mu"><a rel="noopener follow" target="_blank" href="/codex/5-advanced-automation-scripts-in-python-7dc0ff845099"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">5个高级Python脚本，像专业人员一样实现自动化！</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">这些都是生活窍门！</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">medium.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni jh mu"/></div></div></a></div><div class="nj nk ez fb nl mu"><a rel="noopener follow" target="_blank" href="/codex/5-advanced-code-snippets-for-your-python-programs-3377baa3d544"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">Python程序的5个高级代码片段</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">使用它们，让人们惊奇</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">medium.com</p></div></div><div class="nd l"><div class="nm l nf ng nh nd ni jh mu"/></div></div></a></div><div class="nj nk ez fb nl mu"><a href="https://python.plainenglish.io/python-functions-that-make-life-easier-9d0c41b986a8" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">让生活更简单的5个Python函数</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">让生活更简单的Python函数列表。</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">python .平原英语. io</p></div></div><div class="nd l"><div class="nn l nf ng nh nd ni jh mu"/></div></div></a></div><div class="nj nk ez fb nl mu"><a href="https://python.plainenglish.io/if-you-are-using-assert-you-must-read-this-7256e46dc816" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">停止使用Assert进行数据验证</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">对于那些使用断言操作进行数据验证的人来说，这是一篇必读的文章。</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">python .平原英语. io</p></div></div><div class="nd l"><div class="no l nf ng nh nd ni jh mu"/></div></div></a></div></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><p id="f17d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">你可以在我的个人资料中找到更多这样的内容。</p><div class="nj nk ez fb nl mu"><a rel="noopener follow" target="_blank" href="/@rahulbhatt1899"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">拉胡尔·布哈特—中等</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">阅读媒体上的拉胡尔·布哈特作品。我写Python脚本和文章。GitHub…</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">medium.com</p></div></div><div class="nd l"><div class="np l nf ng nh nd ni jh mu"/></div></div></a></div></div></div>    
</body>
</html>