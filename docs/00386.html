<html>
<head>
<title>Visualize and Examine 3D Medical Images for Machine Learning Using ITK-SNAP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用ITK快照可视化和检查用于机器学习的3D医学图像</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/visualize-and-examine-3d-medical-images-for-machine-learning-using-itk-snap-55a6b9c2c5ae?source=collection_archive---------3-----------------------#2021-01-28">https://medium.com/geekculture/visualize-and-examine-3d-medical-images-for-machine-learning-using-itk-snap-55a6b9c2c5ae?source=collection_archive---------3-----------------------#2021-01-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><div class="im in io ip fd ab cb"><figure class="iq ir is it iu iv iw paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><img src="../Images/a2f2457d106950d67bdc9da3fcc61641.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*mR_gpAsYPAPES2sID-sgSw.jpeg"/></div></figure><figure class="iq ir jd it iu iv iw paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><img src="../Images/49d2290f0d4e02a19c0e455e799ac944.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/format:webp/1*tLrOfUhpcbvQPk7vmHD2HA.jpeg"/></div></figure><figure class="iq ir je it iu iv iw paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><img src="../Images/77a2a416245bb4aa7c0dc0402dace002.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*1z_9HLfZxM1Kp0bgk8mUtA.jpeg"/></div></figure></div><p id="354f" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">在医疗保健中，<strong class="jh hj">机器学习和深度学习技术的使用急剧增加，特别是在使用医疗图像方面，如<strong class="jh hj"> CT扫描、MRI扫描、PET图像</strong>来训练诊断预测、ROI分割等算法。</strong></p><p id="d3c2" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">在选择算法和建立模型之前，必须熟悉他们正在处理的数据。一般来说，医疗数据是在<a class="ae kd" href="https://nifti.nimh.nih.gov/" rel="noopener ugc nofollow" target="_blank"> <em class="ke"> NIfTI(。nii) </em> </a>，或者<em class="ke"> </em> <a class="ae kd" href="https://docs.fileformat.com/image/dicom/" rel="noopener ugc nofollow" target="_blank"> <em class="ke"> DICOM(。</em>DCM)</a>文件格式。与2D影像相比，3D影像难以可视化，并且还包含可以提取的元数据。</p><p id="359d" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated"><a class="ae kd" href="http://www.itksnap.org/pmwiki/pmwiki.php" rel="noopener ugc nofollow" target="_blank"> <strong class="jh hj"> ITK快照</strong> </a> <strong class="jh hj"> </strong>是处理3D医学图像最流行的工具之一，支持大多数文件格式。就是<strong class="jh hj"> <em class="ke">免费</em></strong><strong class="jh hj"><em class="ke">开源</em></strong><strong class="jh hj"><em class="ke">多平台</em> </strong>。</p><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es kf"><img src="../Images/280431d6d92ce2fa4300664ea67a9e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*trsjKKg121s6yivbUSrzBg.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx"><em class="kk">Fig 1 : Visualization with ITK Snap [</em><a class="ae kd" href="http://www.itksnap.org/pmwiki/pmwiki.php" rel="noopener ugc nofollow" target="_blank"><em class="kk">source</em></a><em class="kk">]</em></figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="4538" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">设置ITK快照</strong></h1><p id="e00a" class="pw-post-body-paragraph jf jg hi jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hb bi translated">要使用ITK快照，请在此处安装<a class="ae kd" href="http://www.itksnap.org/pmwiki/pmwiki.php?n=Downloads.SNAP3" rel="noopener ugc nofollow" target="_blank">的最新版本。根据您的操作系统选择版本。成功安装后，打开应用程序。</a></p><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es lo"><img src="../Images/8ea0f0d169b068eea09aeea3b0461347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9K44Va1xlj8e2-O0BBcmQg.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 2 : ITK-SNAP Installation</figcaption></figure><p id="44aa" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">下一步将是上传你的三维图像到ITK快照。</p><p id="6022" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">在这个例子中，我们使用了<strong class="jh hj">新冠肺炎受影响肺部的CT扫描</strong>。你可以从<strong class="jh hj"> </strong> <a class="ae kd" href="https://drive.google.com/file/d/1ZtoAM5_HWasBuBjBYgb05AQ8C4UTuSwH/view?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="jh hj">这里</strong> </a>下载NIfTI(.nii.gz)图片。因为它们的尺寸很大，所以通常以压缩的形式提供。ITK可以自动提取NifTI文件(。nii)从压缩的(. nii.gz)格式。</p><p id="fbd8" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated"><strong class="jh hj">上传3D图像</strong></p><ol class=""><li id="dc52" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc lu lv lw lx bi translated">通过以下方式打开图像</li></ol><ul class=""><li id="d55f" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc ly lv lw lx bi translated">使用键盘快捷键<strong class="jh hj"> CTRL+G . </strong></li><li id="e89f" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated">通过<strong class="jh hj">文件导航- &gt;打开主图像。</strong></li><li id="86cc" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated">直接使用右下角的<strong class="jh hj">打开图像</strong>按钮。</li></ul><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es me"><img src="../Images/ac17d60941d838a3f096e9df47d1eba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fmZkrpo8PeuDS29jInDlOw.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 3: ITK-SNAP landing page</figcaption></figure><p id="03d0" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">2.浏览本地计算机上的图像，然后按下一步。该格式将被自动识别，但是如果需要可以调整。</p><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es mf"><img src="../Images/3868bbeafb929bb50d654c9e9fa5a16a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZ9hRmQlkpqZ0xixxtjdQA.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 4 : Selecting Image</figcaption></figure><p id="25e3" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">3.您将被导航到<strong class="jh hj">图像摘要</strong>页面。这为我们提供了图像元数据的重要信息。</p><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es mg"><img src="../Images/208b8ac3b399749e0738385d3b29fde5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGskD8gEcTTDC5C-5Ga3bQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 5 : Image Summary</figcaption></figure><p id="1601" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">4.浏览完图像信息后，点击<strong class="jh hj">完成</strong>。将出现如下所示的窗口。</p><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es me"><img src="../Images/e3495c552982205d3819fbeb066040a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TVD_9VB0GOKDXenWG6hXRw.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 6 : 3D Visualization of Lung CT Scan</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="20ec" class="mh km hi bd kn mi mj mk kr ml mm mn kv jq mo mp kz ju mq mr ld jy ms mt lh mu bi translated">解读可视化</h2><p id="08c6" class="pw-post-body-paragraph jf jg hi jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hb bi translated">现在有趣的部分来了。物体的3D表示由沿着一个轴采集的彼此靠近的<strong class="jh hj"> <em class="ke"> 2D切片</em> </strong>的集合构建。</p><ul class=""><li id="a9ed" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc ly lv lw lx bi translated"><strong class="jh hj">体素:</strong>切片中的每一个像素都代表从一个小体积中采集的<strong class="jh hj">光强</strong> : <em class="ke">像素变成</em> <a class="ae kd" href="https://svi.nl/VoXel" rel="noopener ugc nofollow" target="_blank"> <strong class="jh hj"> <em class="ke">体素</em> </strong> </a> <em class="ke">。</em></li><li id="c0bb" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated"><strong class="jh hj">体积:</strong>体积(3D)图像，表示作为三个空间坐标的函数的<strong class="jh hj">物理量。在数字体积图像中，每个样本(体素)代表在特定位置测量的这个量。</strong></li><li id="7b9a" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated"><strong class="jh hj">切片:</strong>图像由包含感兴趣对象的2D切片的空间序列构成。一个<strong class="jh hj">切片</strong>被表示为一个像素 (X和Y坐标)的<strong class="jh hj">图像矩阵。<strong class="jh hj">切片号</strong>表示Z坐标。</strong></li></ul><p id="d5f1" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">在ITK-SNAP中，从<strong class="jh hj"> <em class="ke"> </em> </strong>图6<strong class="jh hj"><em class="ke"/></strong>中可以看到，每个卷都显示了4个面板。</p><ul class=""><li id="7a96" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc ly lv lw lx bi translated"><strong class="jh hj">这些面板中的三个</strong>通过图像显示<strong class="jh hj">正交切片</strong>。</li><li id="cb95" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated">第四个<strong class="jh hj">第四个</strong>位于<strong class="jh hj">左下方</strong>，显示分割的<strong class="jh hj">三维视图。</strong></li></ul><p id="e7f8" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">让我们把注意力集中在切片窗口上。三个切片窗口在正交的<strong class="jh hj">轴向</strong>、<strong class="jh hj">冠状面</strong>和<strong class="jh hj">矢状面</strong>中显示图像体积的三个视图。</p><blockquote class="mv mw mx"><p id="0d9e" class="jf jg ke jh b ji jj jk jl jm jn jo jp my jr js jt mz jv jw jx na jz ka kb kc hb bi translated">请注意，滚动条位于每个切片窗口的旁边。在每个滚动条下有一个<strong class="jh hj">切片计数器</strong>，它显示所显示切片的索引和垂直于切片方向的切片总数。</p></blockquote><ul class=""><li id="8541" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc ly lv lw lx bi translated"><strong class="jh hj">轴面:</strong>又称<strong class="jh hj">横面或水平面</strong>，与地面平行，将车身分为<strong class="jh hj">顶部和</strong>底部。他们是<strong class="jh hj"> <em class="ke"> x-z </em>位面</strong>。</li></ul><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es nb"><img src="../Images/df78852c056b43d02cf4464a605cc1fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rEbP7azXzD9e2KVnNbS8tQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 7: Axial view of Lung</figcaption></figure><ul class=""><li id="45a4" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc ly lv lw lx bi translated"><strong class="jh hj">矢状面</strong> <strong class="jh hj"> : </strong>又称<strong class="jh hj">侧平面</strong>，将身体分为<strong class="jh hj">左右两半</strong>，是一个<strong class="jh hj"> y <em class="ke"> -z </em>平面</strong>。也就是说，矢状面正好穿过身体左半部分和右半部分的中间。</li></ul><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es nb"><img src="../Images/7e686ff7ee950adc117d48f13a327bb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2MrzVBp8mS1Q-dRRXZZtQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Fig 8: Sagittal view of Lung</figcaption></figure><ul class=""><li id="7066" class="lp lq hi jh b ji jj jm jn jq lr ju ls jy lt kc ly lv lw lx bi translated"><strong class="jh hj">冠状面:</strong>也就是<strong class="jh hj">额面</strong>，将身体分为<strong class="jh hj">前部和</strong>(也叫背侧和腹侧或后前)部分，是<strong class="jh hj"> <em class="ke"> x-y </em>平面</strong>。</li></ul><figure class="im in io ip fd ir er es paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="er es nb"><img src="../Images/74ee6f3a78e6208fb19000548bf36abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nkI74KrzAl2a6VbstaWQZQ.png"/></div></div></figure><blockquote class="mv mw mx"><p id="d112" class="jf jg ke jh b ji jj jk jl jm jn jo jp my jr js jt mz jv jw jx na jz ka kb kc hb bi translated">视图是链接的，在一个窗口中导航也会调整其他窗口中的相应位置，从而提供无缝体验。</p></blockquote></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="113b" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">如果数据集为您提供了掩膜或标注，它们可以覆盖在3D扫描上并适当可视化。例如，您可以从<a class="ae kd" href="https://drive.google.com/file/d/1T_5d3qevPbNZ-I-5vLJtbnba8CXNNzXR/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">这里</a>下载我们CT扫描的气道标签。</p><p id="ddde" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">进入<strong class="jh hj">分割- &gt;打开分割</strong>，浏览并选择您的掩膜。如果遮罩用于工作空间中的图像，则尺寸必须相同。确认后，分割可以在同一个工作空间清晰可视化。</p><div class="im in io ip fd ab cb"><figure class="iq ir nc it iu iv iw paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><img src="../Images/91bde6b02d209d1f7d74498ecf713535.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*jXtN8cUSHLWVDNaI_DL4JQ.png"/></div></figure><figure class="iq ir nc it iu iv iw paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><img src="../Images/7ca197e6a9a2f376beaa4f88f68660cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*v3DeOos6G7SxAd8HcFCo_Q.png"/></div></figure><figure class="iq ir nc it iu iv iw paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><img src="../Images/478a75145c6efe85bde6eb5ef65256b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*lEZkOUbaEEwbvgmQHqca9A.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx nd di ne nf">Fig 10 Segmented Trachea in all 3 views</figcaption></figure></div><p id="c732" class="pw-post-body-paragraph jf jg hi jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hb bi translated">总之，ITK快照有助于我们理解和探索我们正在处理的3D数据，并有助于决策过程。如果任务是分割，可以使用ITK快照来测试生成的掩模，以查看所需的感兴趣区域是否被适当地分割。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="3ab5" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">参考</h1><ul class=""><li id="c3a3" class="lp lq hi jh b ji lj jm lk jq ng ju nh jy ni kc ly lv lw lx bi translated"><a class="ae kd" href="http://www.itksnap.org/" rel="noopener ugc nofollow" target="_blank">http://www.itksnap.org/</a></li><li id="5b06" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated"><a class="ae kd" href="https://svi.nl/ThreeDeeImage" rel="noopener ugc nofollow" target="_blank">https://svi.nl/ThreeDeeImage</a></li><li id="d85e" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated"><a class="ae kd" href="http://dicom.nema.org/medical/dicom/current/output/chtml/part10/chapter_7.html" rel="noopener ugc nofollow" target="_blank">http://DICOM . NEMA . org/medical/DICOM/current/output/chtml/part 10/chapter _ 7 . html</a></li><li id="f977" class="lp lq hi jh b ji lz jm ma jq mb ju mc jy md kc ly lv lw lx bi translated"><a class="ae kd" href="https://nifti.nimh.nih.gov/" rel="noopener ugc nofollow" target="_blank">https://nifti.nimh.nih.gov/</a></li></ul></div></div>    
</body>
</html>