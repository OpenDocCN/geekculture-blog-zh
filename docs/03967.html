<html>
<head>
<title>Quick company diagnosis with Life Cycle Grids on Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python上的生命周期网格进行快速公司诊断</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/quick-company-diagnosis-with-life-cycle-grids-on-python-7c19123cb9e3?source=collection_archive---------16-----------------------#2021-06-18">https://medium.com/geekculture/quick-company-diagnosis-with-life-cycle-grids-on-python-7c19123cb9e3?source=collection_archive---------16-----------------------#2021-06-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="78cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一家公司的交易不仅是其当前状态的强大信息来源，也是一个洞察公司过去甚至未来的仓库。用我在Python上的实现来认识一下生命周期网格的应用方法…</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/9ce8f874fcef7c5eaee953e64c3a02e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*LeNBiqhvBvYmfKnpKUrQyw.png"/></div></figure><p id="13ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">简介</strong></p><p id="fae8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想象一种情况，下一个报告期已经结束，你作为某公司的经理，收到销售的信息。例如，让我们以众所周知的Kaggle <a class="ae jm" href="https://www.kaggle.com/juhi1994/superstore" rel="noopener ugc nofollow" target="_blank">超市2011-2014年办公用品销售</a>数据集为例。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jn"><img src="../Images/294cc0a3aec78da469f8e04ad53f42f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*Ij1cdf7We96H8K5Efho-ZQ.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jo"><img src="../Images/c2675f0f25b3fda87486433627dcb957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*wTL7qktHsAL7REY8cSVoyA.png"/></div></figure><p id="ea40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在不同的类别和部分看到很多关于销售和盈利能力的信息。它们还包含各种见解，但现在让我们直接关注销售交易。值得注意的是，销售量是研究公司的人(外部和内部)首先感兴趣的事情。</p><p id="24c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，让我们建立一个简单的按月销售动态图。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jp"><img src="../Images/8a7e2e55e9869ad8bde76a903ac715c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*pRbRdexHWWYsRlbtvEAUIg.png"/></div></figure><p id="d896" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看起来一切都很成功——经过前两年的停滞期后，公司开始扩大规模，并开始明显增长。我们甚至可以通过任何自回归模型(无需详细的超参数调整)对未来做出简单的预测，例如SARIMA。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jq"><img src="../Images/7b4d9b33acba65b9e353fac4dea55da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*eQ-v8Vw76WjUKU0jiAYhWQ.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jr"><img src="../Images/244f5eed7b6fe3c69f4042be2327e1a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*SOp_ImjpqKuaL2DUHOgsSA.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es js"><img src="../Images/34450445f2e033a81f1582f9ccd4c0df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*CMB5SevJK4DJULdT3WAp-A.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jt"><img src="../Images/9f7d4f6d5db87aa872e202c8e3aa2ac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*1riqN8vLGufXThoJay0TDA.png"/></div></figure><p id="0216" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">毫无疑问，成功就在前方，或者不是…让我们更深入地看看一家公司的销售交易。</p><p id="41d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">生命周期网格(LCG)矩阵</strong></p><p id="3dca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注:</strong>一些材料摘自伟大的产品分析师的博客——analyzecore.com<a class="ae jm" href="https://www.analyzecore.com/2015/02/16/customer-segmentation-lifecycle-grids-with-r/" rel="noopener ugc nofollow" target="_blank">和ecommerce-in-ukraine.blogspot.com</a>。</p><p id="cd23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，在你生命周期网格之前<strong class="ih hj"> (LCG)。</strong>它基于客户的生命周期，客户的生命周期基于购买的频率和新近度(其来源是公司的销售交易——订单ID、订单日期、客户ID、销售额)。这种强大的客户细分方法的名称和概念给了marketeer <a class="ae jm" href="https://blog.jimnovo.com/2007/04/25/engagement-customers/" rel="noopener ugc nofollow" target="_blank"> Jim Novo </a>。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ju"><img src="../Images/a8796c67c34007282de4a16fb3b56caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*vb9-nDALPZWdhocOPEctHQ.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jv"><img src="../Images/a0448db24d3cb70da78c255ef08bb4f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*ToN6STbvc0PRy1G6wJ9E6Q.png"/></div></figure><p id="4d0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个想法来自于RFM的分析，<strong class="ih hj"> LCG </strong>这是<a class="ae jm" href="http://www.dbmarketing.com/2010/03/making-your-database-pay-off-using-recency-frequency-and-monetary-analysis/" rel="noopener ugc nofollow" target="_blank"> RF(M) </a>矩阵:</p><p id="e974" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-在水平轴上，您查看最近(最近一次购买)；</p><p id="e00a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-纵轴上，你看的是频率(购买次数)；</p><p id="14ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-在每个单元格中，您可以看到具有特定参数R和F的客户端数量；</p><p id="0e7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">——第二个表格中的每个单元格你看到LTV顾客通过参数R和F来确定日期(但对LTV *的确定要严格一些，它是通过R和F的平均值来检查的)。</p><blockquote class="jw jx jy"><p id="5604" class="if ig jd ih b ii ij ik il im in io ip jz ir is it ka iv iw ix kb iz ja jb jc hb bi translated"><strong class="ih hj"> *- LTV(终身价值)根据边际贡献基数而非收入计算。</strong></p><p id="71b7" class="if ig jd ih b ii ij ik il im in io ip jz ir is it ka iv iw ix kb iz ja jb jc hb bi translated">边际贡献或利润是收入和与销售的产品或服务直接相关的所有成本之间的差额。</p></blockquote><p id="8493" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">彩色方块表示:</p><p id="22fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">绿色</strong> —业务关键型客户，他们的新客户少于90天。这表明他们很可能会重复购买(最近的价格越低，他们就越有可能再次购买)他们的<strong class="ih hj"> LTV到目前为止</strong>是巨大的；</p><p id="b1ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">黄色</strong>——需要进一步开发和增加频率的新客户，即参与购买转移到绿区；</p><p id="bd9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">白色</strong> —对业务不感兴趣的客户(一次性买家)，他们的最近交易超过90天，他们的LTD较低；</p><p id="84db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">红色</strong> —可能失去业务的客户(作为一种选择，他们已经过了产品饱和期)。</p><p id="dcda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">建立了这样一个矩阵(包括各种产品类别)，我们可以立即回答许多问题。你可以在上面提到的博客中读到更多关于它在与客户群合作中的应用。</p><p id="a318" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是现在，我们将根据来自<strong class="ih hj"> LCG的一般信息，尝试了解公司已经发生和将要发生的事情。</strong></p><p id="f11c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用Python执行LCG</strong></p><p id="3459" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们做一些代码…</p><p id="4473" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们将计算每个客户的最近度、频率和货币价值:</p><blockquote class="jw jx jy"><p id="c964" class="if ig jd ih b ii ij ik il im in io ip jz ir is it ka iv iw ix kb iz ja jb jc hb bi translated"><strong class="ih hj">重要提示:</strong>在每个订单的数据中，我们有多个包含$ sales信息的条目(行)，因此这将是“订单ID”的依赖聚合方法(参见下面的代码)</p></blockquote><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kc"><img src="../Images/06f0024760fda71b2ac13a3f5079d269.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*ov4IAete3vWvBCmonI9kxg.png"/></div></figure><p id="b67f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为<strong class="ih hj"> LCG </strong>矩阵定义颜色函数:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kd"><img src="../Images/541f2f63b45155d930245c583024c64c.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*rWGYhhGUoz9Eyu8-YO0kPA.png"/></div></figure><p id="ccc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将根据Jim概念中的近期和频率界限对每个客户进行细分。</p><blockquote class="jw jx jy"><p id="e12c" class="if ig jd ih b ii ij ik il im in io ip jz ir is it ka iv iw ix kb iz ja jb jc hb bi translated"><strong class="ih hj">重要提示:</strong>需要根据过去的分布情况和每种业务类型来定义射频箱。</p></blockquote><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ke"><img src="../Images/556526863d147c28e711d44e799a2bc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*xqePSYwBuEjSKAh1vDEMSg.png"/></div></figure><p id="7925" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，将客户端组合成段，并使用以下代码创建<strong class="ih hj"> LCG </strong>矩阵:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kf"><img src="../Images/c40dbd36b3d9128e46ab642c1916b32f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*Wg9_2mQhunhOYZT2JperkQ.png"/></div></figure><p id="80a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，我们得到4个LCG矩阵</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kg"><img src="../Images/cc50093417d6bad3b3a926a1b013faba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*Zcc_v6JkvV8vA2PyUfcr2Q.png"/></div></figure><blockquote class="jw jx jy"><p id="b05f" class="if ig jd ih b ii ij ik il im in io ip jz ir is it ka iv iw ix kb iz ja jb jc hb bi translated"><strong class="ih hj">重要提示:</strong>这些矩阵包括2011年至2014年的所有收入和客户信息，类似于累计总数。</p></blockquote><p id="7085" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，为了对公司历史和未来事件做出假设，我们应该启动LCG矩阵。这意味着需要了解动态，并在每年/每一时期创建这样的集合。</p><p id="43f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，我们需要从销售数据中减去2014年</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kh"><img src="../Images/ed313589899cd2799e427a3726e2c915.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*-_-CBwCZ6nOGjeiBCfZyPQ.png"/></div></figure><p id="eece" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重复上面的代码，得到2011年、2012年、2013年每年的<strong class="ih hj"> LCG </strong>的集合。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ki"><img src="../Images/46c2156b3c6ecfc5ed8245fbfbbea17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*6IzzbL8nVMEF08HX7GvK1w.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kj"><img src="../Images/a740351611aae33133d8518693d19ed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*xK1aAovV_yuv4l0WThym5A.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kk"><img src="../Images/14aed19d2e42b76ef13d53e68335e9a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*eGStJy2ARPWdywKEUdRnrA.png"/></div></figure><p id="a7f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将把<strong class="ih hj">客户编号</strong>和<strong class="ih hj">Avg LTD(Avg check)</strong>中的每个彩色象限合并到表格中，以查看同比变化。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kl"><img src="../Images/0d54de8ed6c5366b99f4db008e4e3047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*Pf-CWGtyAy5BskFI4b3CIg.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es km"><img src="../Images/246a1979444e2007c774157aa1d8f797.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*fxVEgi9SIejUlLW9Iufv3A.png"/></div></div></figure><p id="c0f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">快速诊断和结论</strong></p><p id="0899" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2013–2014年的收入增长与重复购买区(从黄色区流向绿色区)的客户数量增加以及1个客户带来的价值增加相关。</p><p id="058b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">客户群并没有从2012年的731个客户增加到2014年的793个，也就是说，可以认为增长的驱动力是在保留和锁定客户方面的出色工作。同时，甚至有可能来自白色区域的客户被激活。营销/销售团队干得好！</p><p id="851b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2011年和2012年之间的销售额/平稳期略有下降，这可能与绿区客户购买更便宜的商品(尽管客户数量增长，但平均支票下降)和开始向红区外流有关。</p><p id="03b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主要的担忧是，该公司很有可能面临有限的增长，并且明年销售额可能会下降:</p><ul class=""><li id="8581" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">客户群的增长在2014年几乎停止了+11个客户；</li><li id="7dfd" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">2014年新客户来源基本耗尽(黄白区)；</li><li id="ff6b" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">绿区的客户“老化”率很高，在向红区过渡时接近饱和(公司销售非必需品和非常规需求):</li></ul><ol class=""><li id="966f" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc lf kx ky kz bi translated">平均支票的增长明显放缓，2013年为+ 1663美元，2014年为+ 104美元；</li><li id="1337" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc lf kx ky kz bi translated">2014年，3965美元的绿区支票相当于红区的近3989美元。</li></ol><ul class=""><li id="494b" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">2014年向新城市的扩张不再允许客户群有效增长。</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lg"><img src="../Images/26671c9744b91e64888c5eb7b3fcffdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*cGNd8vhJY7BpvhF6uc9g_A.png"/></div></figure><p id="8541" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">PS:通过不同的细分市场来构建LCG将会给你更多的洞察力。</p><p id="74e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读！</p></div></div>    
</body>
</html>