<html>
<head>
<title>Implementing progressive bar with React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React钩子实现进度条</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/implementing-progressive-bar-with-react-hooks-24e45ba7f6ce?source=collection_archive---------23-----------------------#2021-10-04">https://medium.com/geekculture/implementing-progressive-bar-with-react-hooks-24e45ba7f6ce?source=collection_archive---------23-----------------------#2021-10-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/af7d9b9b0c4072e06e3660e6a559b99a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AwSSPaLq_DvptdRd"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@jckbck?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jakub Dziubak</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="43ee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">游戏节目《谁想成为百万富翁》是游戏节目中的一个，它将价格进程整合到一个问题的每一个正确答案上。</p><p id="1ab0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦用<strong class="ix hj"> REACTJS </strong>正确回答了一个问题，我将指导你如何整合这个价格进程。</p><p id="7ae7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本教程中，我将使用Visual studio代码(VSCode)。</p><p id="24d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">先决条件</strong></p><ul class=""><li id="36ce" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">安装npm或纱线</li><li id="c47a" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">了解Javascript</li><li id="66cc" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">React的基础</li></ul><p id="abfc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们开始吧。让我们到终端运行以下命令:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="11a7" class="kq kr hi km b fi ks kt l ku kv">cd Desktop<br/>npx create-react-app game-application<br/>cd game-application<br/>code .</span></pre><p id="253d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在桌面文件夹中创建了一个名为game-application的react项目，并在vscode中打开了这个项目。</p><p id="ae4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们进入src文件夹，在终端中运行以下命令:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="823b" class="kq kr hi km b fi ks kt l ku kv">mkdir component util pages</span></pre><p id="3f29" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在src文件夹中创建了三个新文件夹。让我们进入组件文件夹，创建以下组件:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="f6f0" class="kq kr hi km b fi ks kt l ku kv">DisplayGame.js PriceProgress.jsx</span></pre><p id="45af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在DisplayGame组件中，我将添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/03f44af4e6591ae008cef245b25b65e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*Vs_c8EEu26rA5PxQdhdKug.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">game display</figcaption></figure><p id="6150" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我刚刚创建了一个钩子，它将呈现将在浏览器中显示的问题。同时，让我们进入之前创建的util文件夹，创建一个名为container.js的util文件，它将保存我们所有的容器(问题和价格数组),并向其中添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/04402196a847faf825830644c4128571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*dch988uWeoiW_HawtWWcwA.png"/></div></figure><p id="ff13" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的代码片段中，我导出了两个变量，一个是问题数组，另一个是每个正确答案的价格。</p><p id="695c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们进入显示游戏组件，将第一个问题设置为页面安装时的状态，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/46824907cb6f7bd80c137d037a890271.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*uAzVCWNHz68O19Xywd2v5Q.png"/></div></figure><p id="a657" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我使用useEffect钩子从问题数组中获取第一个问题，并将其订阅到一个状态，该状态在每个进度中都保存当前问题。最后，每当页面被卸载时，我都会取消订阅状态。</p><p id="ae04" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们看看当前问题将如何在下面呈现:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/f05389299a7d978158ff0c9e3ea16f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*otYVvXuk89M5RzRNPHTsZg.png"/></div></figure><p id="1384" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的代码片段中，我遍历了questo display——这是一个在每个进度中保存当前问题的状态。一个段落元素用于显示每个进度的问题，一个表单用于呈现用户必须从中选择的问题选项，一个按钮用于处理每个正确问题的价格进度。</p><p id="69d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意:我将所有选项键都放入了options keys变量中，这样我就可以根据键动态地设置选项。所以option[key(a|b|c)]保存选项的每个值。</p><p id="85b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果仔细观察上面的代码片段，您会注意到在radio输入中添加了一个handle change函数，以获取事件和用户检查任何输入时选择的当前选项。</p><p id="1fb1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们在下面的代码片段中处理当选择一个答案时会发生什么。</p><p id="886b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同时，让我们声明一个状态来处理选中的无线电输入，另一个状态来处理选中的选项(a|b|c ),如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es la"><img src="../Images/e42b6660b728b3ebda9f47073db5237e.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*sMfssFvTrnY4CKa2X-fZ7A.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">state variables</figcaption></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/17b86ce8ce9b935e0491552c32f81973.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*OthY-18BCs-_1vCLrCf0xw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">onchange handler</figcaption></figure><p id="87db" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">每当收音机输入发生变化时，当前检查的收音机和选择的选项将被设置为状态。</p><p id="e234" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是处理用户提交响应时发生的事情的时候了。下面，让我们添加handleSubmit函数:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/a52afe06e389884731a175b77f9b35ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*OZR2qiR2FdafKULIGaIDjw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">submit function</figcaption></figure><p id="7ece" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的片段中，我检查了所选答案是否与该问题的正确答案相匹配。如果匹配，我将setpriceProgress(一个保存正确答案标志的状态)设置为true。否则，错误值将被打印到控制台。</p><p id="3cbf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将priceProgress设置为true后，让我们在useEffect中将它设置为true两秒钟后，将其重置回false，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/7e5d519436486eb501216c74bc515b12.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*oeutG_r6ylko6lKkCgg_jw.png"/></div></div></figure><p id="e73b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们进入PriceProgress组件并添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es le"><img src="../Images/73c683f347d65c5c1142e5b4fbe0b601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*ZIe-TBIZmLxLJSekVRyiGg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">price progress component</figcaption></figure><p id="a7c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">价格集合是从util导入的，我遍历它，并将各种价格呈现在一个列表元素中。priceProgress状态是从price progress属性中析构的。</p><p id="735f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今后，一旦用户的答案是正确的，我将处理价格如何进展。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/5dfa6ed7ed1788f7b293d8583f358778.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*JBb1MWjGU0yFHOvKkVxvVQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">price progress handler</figcaption></figure><p id="2a46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我给保存价格列表的UL元素分配了一个引用。我在价格中循环，添加了一个样式，它将颜色保存在任何正确答案的价格中，并将颜色从其他价格中删除。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/0f9b62d8e0197be5f9fa41395b034e55.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*aFCjRh_0Bfegg7FXmf_0ng.png"/></div></figure><p id="3f8a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">价格进度组件已导入到DisplayGame组件中。PriceProgress和当前问题的索引作为道具传递给它。</p><p id="ec08" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在DisplayGame组件中，让我们添加一个按钮，它将为我们提供下一个问题和一个处理程序，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/c95698d318abe87e28afe47f7ca4da38.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*P464RNEQcJ5a7LMyU-nCkg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">next button handler</figcaption></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/436f24134ae7ab0bd9d4e4c177afe03a.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*9h_P4Eap_qpFTqcQi-O6Xw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">next function</figcaption></figure><p id="9005" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的代码片段中，我在form元素后面添加了一个按钮，还添加了一个从问题数组中获取下一个问题的处理程序，并将其设置为呈现问题的状态。</p><p id="4505" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在之前创建的页面文件夹中，我们在其中创建一个名为View.js的组件，并将DisplayGame组件导入其中，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lj"><img src="../Images/2cf99aa155a90dfd7860bfff132bb762.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*hDe0MATrMBJsrPV-pyhaCQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">View component</figcaption></figure><p id="a7b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么让我们进入浏览器，看看下面的<a class="ae iu" href="https://res.cloudinary.com/hobbyluv07/video/upload/v1633346230/Screencast_from_04-10-2021_11_42_23_fvuxfb.webm" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="lk">演示</em> </strong> </a>中游戏应用是如何工作的</p><p id="c8ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随着演示，我想我可以称之为成功。当问题回答正确时，我现在可以指定用户的当前价格。</p><p id="75e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，这是这篇牛逼文章的结尾。点击下面的<a class="ae iu" href="https://github.com/chibuike07/price-progress-game-application" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="lk">为来源</em> </strong> </a></p><p id="0fda" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">告诉我，你的下一个应用程序会是什么样的？如果这篇文章对你有帮助，别忘了点击拍手图标，分享这篇文章，关注我的<a class="ae iu" href="https://princewillchime43.medium.com/" rel="noopener"> <strong class="ix hj"> <em class="lk">中的</em> </strong> </a>和<a class="ae iu" href="https://www.linkedin.com/in/chime-princewill-3a2b1b192/" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"><em class="lk">Linkedin</em></strong></a>以查看我的更多文章。</p><p id="5f00" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请放弃任何评论或建议。如果你有一个基于JavaScript/React.js生态系统的主题，请随时联系我，我很乐意就此进行写作。谢了。</p></div></div>    
</body>
</html>