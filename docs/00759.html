<html>
<head>
<title>Webapp Deployment Checklist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webapp部署清单</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/webapp-deployment-checklist-987bb84d9e43?source=collection_archive---------19-----------------------#2021-03-12">https://medium.com/geekculture/webapp-deployment-checklist-987bb84d9e43?source=collection_archive---------19-----------------------#2021-03-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2a2d4101a9d28d31b6d9f3c5ed6dd573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EUoXCLJi931d3iXczRfw0A.png"/></div></div></figure><p id="dd45" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将尽量不写太多，只提供一个webapp部署清单的大纲(以及一些内容),该web app具有以下高级架构:</p><ul class=""><li id="42bd" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">web客户端</li><li id="6a0c" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">应用服务器</li><li id="baf2" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">数据库</li><li id="5086" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">云服务</li><li id="843c" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">其他集成(服务、应用程序数据导出)</li></ul><p id="b4b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这不仅仅是为了部署一个网站——你可以在网上找到很多这样的网站。我假设你已经完成了开发，没有任何错别字，你的SEO策略已经定好了。此外，你有相当高的知识水平，所以你会明白这一切没有帮助。这个列表并不全面，所以请务必在评论中添加您自己的建议！现在来说更大的事情。</p><h2 id="5de4" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">部署任务</h2><p id="c57f" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">创建生产静态资源桶(用于提供图像、pdf等)</p><p id="7814" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">设置资源的公共访问策略</p><p id="4519" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">克-奥二氏分级量表</p><p id="9c1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建具有适当安全性的生产数据库资源和帐户</p><p id="a132" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过IaC(即Terraform)自动创建生产资源</p><p id="20f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建网站的生产URL推送至DNS</p><p id="af7b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">部署生产无服务器资源</p><p id="53d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用秘密管理器的系统？</p><p id="574c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您是否有维护窗口，能否自动部署到该窗口？</p><h2 id="3b85" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">数据库ˌ资料库</h2><p id="6cfe" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">准备第一次使用-是否加载了参考表？加载了其他固定数据吗？删除所有测试数据？</p><p id="1086" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据库备份设置？正确的周期？</p><p id="e659" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果出现问题，知道如何恢复站点吗？</p><p id="767f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">识别数据库脚本来修复出错的地方</p><p id="a0bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">生产中的需求并不总是预先知道的，所以要准备好提供专门的数据库报告</p><p id="97e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你是否已经为你的查询所搜索的每一个字段建立了索引？排序依据等？</p><h2 id="c3d1" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">建立工作关系网</h2><p id="6444" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">实例都是私有的并且只能通过WAF/NAT访问吗？</p><p id="3848" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通信流中的任何组件是否会导致超时，从而中断某些进程？</p><p id="cb57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您是否在需要的地方设置了SSH访问？</p><h2 id="d2e8" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">安全测试</h2><p id="3e30" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">运行OWASP ZAP。云提供商允许这样做。你可能需要暂时禁用你的WAF，以避免它把你列入黑名单！！</p><p id="d933" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">跟踪、评估和补救问题</p><p id="e7a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">生产URL的SSL证书“打开”且没有错误？</p><p id="7ef6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是否为生产访问设置了2FA？(例如用于管理控制台访问)</p><h2 id="9271" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">测试</h2><p id="cc3c" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">如果可能，在试运行前对生产系统进行测试，并且不要忘记清理！</p><p id="3bb1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">即使你已经这样做了一千次，在流行的浏览器和移动设备上再次浏览这个网站！</p><h2 id="ab33" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">负载和容量测试</h2><p id="8aae" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">这里还得多说一点。不抱歉。</p><p id="0b3a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">批量测试</strong> —测试所有你想测试的，但是如果你没有数据库中的生产量级别，你就是在浪费时间。你需要模拟数据，比如来自https://mockaroo.com/ T4的数据。加载数千或数百万行的数据库——无论您需要什么——这样您就可以真正测试您的查询有多快，以及完成数据导出需要多长时间。</p><p id="33c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">提示:产生电话号码的模拟数据网站有时会产生真实的电话号码。如果使用虚假号码发短信，请清理你的数据。</p><p id="a6c9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">负载测试</strong>——所有的单用户测试都是为了展示你的网站在阳光明媚的场景下工作。当负载变高时会发生什么？JMeter(【https://jmeter.apache.org/】T4)非常适合负载测试。您还可以设计模拟真实用户的测试，并深入到您的站点来测试数据库——这非常重要！Jmeter还可以处理GET、POST、登录表单以及那些讨厌的CSRF令牌。报告也不错。</p><h2 id="9cfd" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated"><strong class="ak">第三方服务</strong></h2><p id="c395" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">生产系统的IP是否与外部服务一起列入白名单？</p><p id="ae1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您是否调用了正确的生产服务端点？</p><p id="99f0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您是否考虑过通过队列系统使用限速或异步调用来解决外部服务中的瓶颈？观看那些TPS报告，不要忘记封面页！</p><h2 id="650c" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">文本消息传送</h2><p id="bee5" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">生产实例中的消息传递工作正常吗？</p><p id="f23a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是否为生产副测试设定了定期信息？</p><p id="8f30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您的邮件配额限制设置是否适合生产？</p><h2 id="728a" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">晶圆设置</h2><p id="63a3" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">这不仅仅是一个防火墙，而是一个数据包检查器，旨在保护webapps免受常见攻击。这些都可以根据您正在运行的webapp类型进行配置，因此请正确设置！你不能只是“打开它”然后继续你的一天。WAF也是动态的，会根据攻击模式改变其规则(软件定义的网络)。</p><h2 id="43bd" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">网站(全球资讯网的主机站)</h2><p id="0d54" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">测试您的自动伸缩，并验证所有创建的实例都是可访问的并且配置正确</p><p id="3d53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有正确的生产环境变量吗？</p><p id="ad3c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有翻译吗？检查您的资源是否已经为生产系统进行了转换(包括错误消息！).这并不总是正常构建的一部分。</p><p id="5d7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">验证所有网站链接(内部和外部)</p><h2 id="8650" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">现场监控</h2><p id="7d8f" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">是否设置了带有警报的生产监控？</p><p id="42ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">制定一个计划来执行各种指标的交叉检查，这样您就可以看到在生产负载下事情是否有意义</p><p id="4ed9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">报告系统是否已配置并能够使用生产资源？</p><h1 id="b74c" class="le kd hi bd ke lf lg lh ki li lj lk km ll lm ln kp lo lp lq ks lr ls lt kv lu bi translated">那是一个包裹。去部署些东西！</h1></div></div>    
</body>
</html>