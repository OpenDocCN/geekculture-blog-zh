<html>
<head>
<title>Hack This Site: Realistic Web Mission — Level 16</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">黑客这个网站:现实的网络任务-16级</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/hack-this-site-realistic-web-mission-level-16-30aac04d9dcb?source=collection_archive---------9-----------------------#2021-10-18">https://medium.com/geekculture/hack-this-site-realistic-web-mission-level-16-30aac04d9dcb?source=collection_archive---------9-----------------------#2021-10-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ae88564d72c5cb94a6d9d7eef17a174c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yg9youRnIRDmRk-0"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Hack This Site: Realistic Web Mission — Level 16</figcaption></figure><p id="b69c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你好，环球网，欢迎来到<a class="ae js" href="https://haxez.org/" rel="noopener ugc nofollow" target="_blank"> HaXeZ </a>，今天我们来看看<a class="ae js" href="https://hackthissite.org/" rel="noopener ugc nofollow" target="_blank">黑客网站</a>的最后一个现实的网络应用任务。由于种种错误的原因，这项任务很困难。这并不是因为它是以一种富有挑战性的方式设计的。不，这是因为它使用的Adobe Flash已经死了一段时间了。尽管一路上遇到了技术问题，但挑战本身充满了乐趣。我不知道为什么我会诚实地抱怨，我在这个过程中学到了额外的信息。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/ffa2cceaed79f1319b7e89cbf3fe7c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*beLw_NEXPgHC4K7l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Realistic 16</figcaption></figure><h1 id="b121" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="1647" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">我们收到一个忘记留下姓名的人的信息。留言解释，他们怀疑女朋友出轨。此外，他们已经注意到他们的女朋友经常使用simplemail.com。他们认为这可能是他的女朋友给她的秘密情人发信息的方式。我们被要求黑进simplemail，阅读他女朋友的电子邮件。我不想成为一名美德战士，但在正常情况下，这将是我的通行证。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/1f5bdc758ed3341cd85e63565dd12794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*NU2LXkj-2NJ0Ams2"/></div><figcaption class="iq ir et er es is it bd b be z dx">Message From Concerned Boyfriend</figcaption></figure><h1 id="5e6b" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">探索Web应用程序</h1><p id="518d" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">在导航到应用程序时，我们看到一个可爱的酸橙绿色装饰，让人想起旧的KazaA下载应用程序。在互联网退化的X天里，Limewire和KazaA是下载应用程序的首选。唉，该应用程序有许多选项，允许你注册，登录，搜索和执行其他活动。我真的很喜欢这个应用程序的外观和感觉。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/f7c7ffabc2852b1f724b0fbdc3212017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*Shv-S2Vv4F0y32Rj"/></div><figcaption class="iq ir et er es is it bd b be z dx">Simple Mail Web Application</figcaption></figure><h1 id="f750" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">搜寻源头</h1><p id="c60d" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">首先，让我们看看这个装饰精美的复古应用程序的内部是什么。这几乎就是你所期望的。然而，有一些评论引起了我的注意。从下面的截图可以看到，有一条评论提到了管理员登录。让我们前往网址，看看发生了什么。</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="ad69" class="lg jz hi lc b fi lh li l lj lk"><a class="ae js" href="https://www.hackthissite.org/missions/realistic/16/index.php?module=admin_login" rel="noopener ugc nofollow" target="_blank">https://www.hackthissite.org/missions/realistic/16/index.php?module=admin_login</a></span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/097c8225aee3f2930cbee81a6394fd57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*joP99hM1VwvwKmu1"/></div><figcaption class="iq ir et er es is it bd b be z dx">Web Application — Page Source</figcaption></figure><h1 id="f224" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">死路还是弯路？</h1><p id="82e4" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">这可不是你每天都能看到的。登录页面使用Adobe Flash，自2020年12月31日<strong class="iw hj">* Google it *</strong>以来，浏览器就不再支持该页面。好吧，它还没死那么久，但令人惊讶的是Adobe Flash已经感觉像古代互联网的遗物了。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/3ec0c4dfe4db2f8703f7c2636e4c39c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*P52Cm_oMZSKJarJ1"/></div><figcaption class="iq ir et er es is it bd b be z dx">Simple Mail Flash Requirement</figcaption></figure><p id="1ed4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们知道，大多数浏览器不再支持Adobe Flash。我试着先安装一个旧版本的Firefox来让它工作，但是运气不太好。在谷歌搜索了一会儿之后，我偶然发现了这个奇迹，那就是莱夫。我首先尝试了一些其他的插件，但是没有一个能成功。然而，莱夫是惊人的，完美地完成了它的工作。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/f7d5104983ff0f043456c8aba0cf7750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*_qC6eW9X88KwLB60"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Ruffle</figcaption></figure><h1 id="e3c6" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">网络浏览器满足Ruffle</h1><p id="9823" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">由于Ruffle还没有出现在任何流行浏览器的默认插件商店中，你需要下载它并自己手动添加。为了在Firefox网络浏览器中做到这一点，你需要进入关于:在URL中调试。然后点击这个Firefox，然后选择Load temporary Add-ons，导航到你下载的文件。加载了该文件后，我们现在应该能够访问URL了。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/ab4a19587eb65ad6df191c15ed87d4db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*4hxCHRIrAaFzdA_9"/></div><figcaption class="iq ir et er es is it bd b be z dx">Web Application With Flash</figcaption></figure><h1 id="fdfd" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">拦截Web请求</h1><p id="04df" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">在继续之前，请确保您打开了您最喜欢的web应用程序渗透测试工具(Burp Suite ),并配置为拦截流量。然后用测试数据填充用户名和密码表单，并单击submit。检查进入Burp的请求，您会注意到它正在向config.txt文件发送GET请求。这让我想到，在尝试对我们进行身份验证之前，登录表单正在检查config.txt中的某些内容。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/94d41465545ac30a0479fcb05220b382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*khxbyjW0UrIibpDy"/></div><figcaption class="iq ir et er es is it bd b be z dx">Burp Suite Intercepted Auth Request</figcaption></figure><h1 id="0f7e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">注册网络邮件</h1><p id="b932" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">现在我们知道了一点关于管理员登录的工作原理，让我们注册自己的帐户，看看是否有什么有趣的东西。我用test的密码注册了test的用户，因为谁会关心用户名和密码的复杂性要求。登录后，我环顾四周，注意到我们可以编辑我们的个人资料。如果我们查看这个应用程序的页面源代码，我们会注意到它链接到了一个edit.php页面。如果我们单击edit.php的链接来查看该页面的源代码，我们会注意到我们的配置文件配置存储在以下位置/users/username/config.txt</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/6f7fc49590fb8c630832e87a19466712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*govl-VskpWIXafZn"/></div><figcaption class="iq ir et er es is it bd b be z dx">Edit Profile</figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/28429949cdb0323686b00ed61e6a29b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/0*vqxTRIBD2BV45ECN"/></div><figcaption class="iq ir et er es is it bd b be z dx">Config.txt</figcaption></figure><h1 id="5577" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">注册目录遍历</h1><p id="a9d9" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">我们知道我们的配置文件存储在config.txt中，并且管理员身份验证脚本正在检查根目录(一个目录，还是两个目录？在我们上面)。也许我们可以用用户名注册一个目录遍历用户，这样当我们编辑我们的配置文件时，我们最终会编辑admin config.txt。注销并转到注册页面，用用户名'<code class="du lm ln lo lc b">..</code>'注册一个用户。您将收到一条错误消息，称无法创建电子邮件地址，但您将收到一条冲突消息，称注册成功。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/47b8e06f622e779b30f4a05b0ea477c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*aL4_Qln6-drHNVr8"/></div><figcaption class="iq ir et er es is it bd b be z dx">Registering Directory Traversal</figcaption></figure><h1 id="3423" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">管理员认证</h1><p id="5917" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">对于新创建的用户，我们需要返回到编辑个人资料页面。这一次，我们将使用编辑配置文件来编辑根目录中的config.txt文件。我们需要在'【T1]'中输入以下值，这将允许我们进行身份验证。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/149341ae4b2f5f206aabdf3d726b48ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*ZiLBz9LcFIZIFWS0"/></div><figcaption class="iq ir et er es is it bd b be z dx">Editing Profile</figcaption></figure><h1 id="2f08" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">管理员访问</h1><p id="3c02" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">好了，现在我们已经完成了。注销并返回到管理员URL，用我们创建的另一个帐户登录。我用了用户名测试和密码测试。这次我们不应该再出现错误消息。相反，我们应该被重定向到管理面板。管理面板有许多选项，包括让我们阅读用户的电子邮件。然而，在提交我们客户的女朋友的电子邮件地址时，我们得到一条错误消息，说该功能因用户隐私而被禁用。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/9a3700606b745f30b8ebb5456d3595a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*rqPSwvaDjYJoYA4f"/></div><figcaption class="iq ir et er es is it bd b be z dx">Admin Panel</figcaption></figure><h1 id="f078" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">混账闪！</h1><p id="bc69" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">如果我们再次查看页面源代码，我们可以看到这个“检查电子邮件”功能是由另一个Flash提供的。swf文件。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/c68b2437f7bbc913fc049463ec793a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*3firLVpzuDVw__em"/></div><figcaption class="iq ir et er es is it bd b be z dx">Web Application Page Source</figcaption></figure><p id="d3d2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是我们需要切换到我们的Linux虚拟机的部分。我们需要对文件运行wget，然后分解它，看看发生了什么。启动您的linux终端并运行以下wget命令。但是，如果您遇到错误，告知您HackThisSite SSL证书已经过期(像我一样)，那么您需要告诉wget跳过SSL检查。我会让你谷歌一下那个。</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="a8f6" class="lg jz hi lc b fi lh li l lj lk">wget <a class="ae js" href="https://www.hackthissite.org/missions/realistic/16/check_email.swf" rel="noopener ugc nofollow" target="_blank">https://www.hackthissite.org/missions/realistic/16/check_email.swf</a></span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/a90aec712a9eff2996dcdf096e750ea0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*upb3YF4nS4keP6hb"/></div><figcaption class="iq ir et er es is it bd b be z dx">Wget</figcaption></figure><h1 id="5813" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">拆卸闪光灯</h1><p id="7a9d" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">现在我们需要分解Flash文件，为此我使用了swfmill工具将其转换为XML文件。一旦Flash文件是一个XML文件，我们就可以通过它来找出为什么它不让我们检查用户的电子邮件。或者更好的是，我们可以找到它如何检查用户的电子邮件，我们可以用它来代替。将SWF转换为XML的命令如下:</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="a4a6" class="lg jz hi lc b fi lh li l lj lk">swfmill swf2xml check_email.swf test.xml</span></pre><p id="552b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后，您可以grep the和XML，您应该可以在文件中找到以下引用。</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="25f4" class="lg jz hi lc b fi lh li l lj lk">/check_email.php?auth=true&amp;amp;id=63a4bf12cd&amp;amp;email=</span></pre><p id="3e39" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通过一些小的调整，我们可以添加链接到Hack This Site URL并解决这个问题。</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="1ece" class="lg jz hi lc b fi lh li l lj lk"><a class="ae js" href="https://www.hackthissite.org/missions/realistic/16/check_email.php?auth=true&amp;id=63a4bf12cd&amp;email=jenn@simplemail.com" rel="noopener ugc nofollow" target="_blank">https://www.hackthissite.org/missions/realistic/16/check_email.php?auth=true&amp;id=63a4bf12cd&amp;email=jenn@simplemail.com</a></span></pre><p id="0cbe" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">就这样了，你现在已经完成了系列的最后一个现实任务，恭喜你。开始下一轮任务。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/cfd51b62794cd8c881841a7151099369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*BpnUyvtzl5vU0D6Y"/></div><figcaption class="iq ir et er es is it bd b be z dx">Congratulations</figcaption></figure><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure></div></div>    
</body>
</html>