<html>
<head>
<title>Concurrency in Golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Golang中的并发性</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/concurrency-in-golang-6ea38c1cb323?source=collection_archive---------0-----------------------#2020-12-20">https://medium.com/geekculture/concurrency-in-golang-6ea38c1cb323?source=collection_archive---------0-----------------------#2020-12-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/677ad9f8933d1bf4d0a3a1149c5f03d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sv6PGGmQXR-PA-kHA5571A.jpeg"/></div></div></figure><p id="2f72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个典型的系统由较小的组件和子系统组成，这些组件和子系统一起工作。软件程序通常也由更小的子程序组成。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/df00777fbfc7c8c86603343b1fd65faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0FTH7KiK_DJhEkYm"/></div></div></figure><p id="5e95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，<a class="ae jt" href="https://httpd.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache </a>这样的web服务器处理来自web客户端的请求，并提供静态或动态内容或HTML网页作为响应。每个请求都像一个小程序一样，在一系列的响应和请求周期中被处理。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/c870661410f54386655d956d1559b56d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WRF9iSyEHwtwPvHt"/></div></div></figure><p id="942d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于大型程序来说，独立地同时运行较小的组件是多么理想啊🤔！？</p><blockquote class="ju jv jw"><p id="e738" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">同时在一个以上的任务上取得进展被称为并发。</p></blockquote><p id="3821" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Golang ，在语言层面，提供了一些很棒的并发原语，使得实现并发系统变得极其容易。Go为并发性提供了丰富的支持</p><ul class=""><li id="4993" class="kb kc hi is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj bi translated">Goroutines &amp;</li><li id="d3cf" class="kb kc hi is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj bi translated">渠道。</li></ul><h1 id="1cca" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">戈鲁廷斯</h1><p id="610c" class="pw-post-body-paragraph iq ir hi is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hb bi translated">Goroutine总是在后台工作。它们是在同一个线程或一组线程中与其他goroutines同时执行的函数。为了创建一个goroutine，我们使用关键字<code class="du ls lt lu lv b">go</code>后跟一个函数调用:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="ab28" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每个程序包含至少一个Goroutine，该Goroutine被称为<strong class="is hj">主Goroutine </strong>。</p><p id="5c5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的程序由三个goroutines组成。第一个goroutine是隐式的，它是主函数本身，所有go routine都在<strong class="is hj">主go routine</strong>下工作。</p><p id="4e6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第二个和第三个goroutine是在我们调用函数时创建的；在这种情况下通过调用<code class="du ls lt lu lv b">go say("Hey") &amp; go say("There")</code>。</p><p id="bcb3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按照惯例，当一个函数被调用时，我们的程序将执行函数中的所有语句，然后返回到调用后的下一行。但是使用goroutine，我们会立即返回到下一行，而不会等待函数完成。</p><p id="bb18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以通过设置一些延迟来研究这种并发性和程序执行时间。</p><p id="cfc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">黑客👨‍💻我发现是用了<code class="du ls lt lu lv b">sleep</code>的方法<code class="du ls lt lu lv b">time.Sleep(time.Second)</code>。</p><p id="c61d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果没有这个，程序将在有机会打印所有字符串“hey”和“there”之前退出。</p><p id="5461" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Goroutines是轻量级的，我们可以很容易地在程序中创建它们。我们可以修改上面的程序来运行20😃goroutines通过这样做:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="58b3" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">频道</h1><p id="6ab6" class="pw-post-body-paragraph iq ir hi is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hb bi translated">通道用于通信，有时也用于两个正在执行的goroutines之间的同步。下面是一个使用通道的示例程序:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="eca7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用<code class="du ls lt lu lv b">make</code>函数和<code class="du ls lt lu lv b">chan</code>关键字创建通道，然后传递给对<code class="du ls lt lu lv b">greeting</code>函数的调用，该函数接受一个字符串和一个数据类型字符串的通道。for循环是在主通道中创建的，用于接收和打印每一条传入的消息。</p><p id="1911" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ls lt lu lv b">close()</code>功能表示关闭一个通道；因此，它不会再发送任何值。这对于向信道的接收者传达完成是有用的。</p><p id="128e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以使用这样的通道可以同步两个goroutines。</p><h1 id="9594" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><p id="bb68" class="pw-post-body-paragraph iq ir hi is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hb bi translated">我简单讲了Golang中的基本概念，比如goroutines和channels，它们是并发在<a class="ae jt" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank"> Go </a>中的实现。我希望这篇文章能帮助你了解更多关于Golang的特性😃。</p><p id="f78e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我很喜欢写这篇文章，希望这篇文章对你有所帮助🤗。随时联系我关于<a class="ae jt" href="https://github.com/nextwebb" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">Github</strong></a><strong class="is hj"/><a class="ae jt" href="https://twitter.com/i_am_nextwebb" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">Twitter</strong></a><strong class="is hj">，以及</strong><a class="ae jt" href="https://www.linkedin.com/in/peterson-oaikhenah-102645144/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">LinkedIn</strong></a><strong class="is hj">。一定要点赞、评论和分享😌。</strong></p><p id="a219" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请务必观看由<em class="jx"> Rob Pike </em>制作的<a class="ae jt" href="https://www.youtube.com/watch?v=oV9rvDllKEg&amp;t=502s" rel="noopener ugc nofollow" target="_blank"> Go-Routines </a>视频，并享受Golang编程的乐趣。</p><p id="1ea2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">直到下一次…</p><h1 id="9b40" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">进一步阅读</h1><ul class=""><li id="1ff0" class="kb kc hi is b it ln ix lo jb ly jf lz jj ma jn kg kh ki kj bi translated"><a class="ae jt" href="https://tour.golang.org/concurrency/1" rel="noopener ugc nofollow" target="_blank">了解更多关于Go并发的信息</a></li></ul></div><div class="ab cl mb mc gp md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hb hc hd he hf"><p id="e043" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jx">最初发布于</em><a class="ae jt" href="https://blog.nextwebb.tech/concurrency-in-golang" rel="noopener ugc nofollow" target="_blank"><em class="jx">https://blog . next Webb . tech</em></a><em class="jx">。</em></p></div></div>    
</body>
</html>