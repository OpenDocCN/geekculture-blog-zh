<html>
<head>
<title>Three Python Tips to Improve Your Workflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改善工作流程的三个Python技巧</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/three-python-tips-to-improve-your-workflow-8029782a7e93?source=collection_archive---------27-----------------------#2021-06-25">https://medium.com/geekculture/three-python-tips-to-improve-your-workflow-8029782a7e93?source=collection_archive---------27-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5c63acf00277c662fb96b2ff7fafea0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1X0-98EiQNkwBJj2vnTTqQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><a class="ae iu" href="https://unsplash.com/photos/ieic5Tq8YMk" rel="noopener ugc nofollow" target="_blank">Photo</a> by <a class="ae iu" href="https://unsplash.com/@cdr6934" rel="noopener ugc nofollow" target="_blank">Chris Ried</a> on <a class="ae iu" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dbd7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里有三个我最喜欢的Python“生活窍门”，它们帮助我改进了工作流程。</p><p id="b974" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">准备好了吗？</p><h1 id="319c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">1.使用列表理解</h1><p id="3424" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">没有多少人完全理解列表理解，因此他们没有充分利用它的潜力。然而，如果使用得当，列表理解会是一个非常强大的工具。</p><blockquote class="kw kx ky"><p id="bad5" class="iv iw kz ix b iy iz ja jb jc jd je jf la jh ji jj lb jl jm jn lc jp jq jr js hb bi translated">当您想要基于现有列表的值创建一个新列表时，List comprehension提供了一个较短的语法。(<a class="ae iu" href="https://www.w3schools.com/python/python_lists_comprehension.asp" rel="noopener ugc nofollow" target="_blank"> W3学校</a>)</p></blockquote><p id="5908" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它们的语法如下:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="15ef" class="lm ju hi li b fi ln lo l lp lq">[expression for item in list if condition]</span></pre><p id="b6a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们来看一个例子:</p><p id="0394" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设你有一个列表，包含不同的食物和它们各自的甜度。例如，如果您想获得甜度高于3的食物列表，您可以使用以下代码:</p><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="93d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不要只相信我的话，试试看！如果您想复制粘贴它，下面是代码:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="aa5c" class="lm ju hi li b fi ln lo l lp lq">list_of_foods = [[“Apples”, 3],[“Bananas”, 5], [“Rice”, 2], [“Ice Cream”, 10]]<br/>list_of_filtered_foods = [x for x in list_of_foods if x[1]&gt;3]<br/>print(list_of_filtered_foods)</span></pre><p id="9779" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有了正确的列表理解，你可以很容易地提高效率，促进你的工作流程。</p><p id="3041" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">列表理解也适用于字典。</p><h1 id="0c08" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">2.有效导入</h1><p id="b258" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">这个技巧实际上是3个不同技巧的结合</p><h2 id="90b8" class="lm ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">2.1 —提醒服务</h2><p id="7a43" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我们都有过这样的经历:运行python文件时，意识到丢失了这么多导入，因为您以为自己导入了它们，但实际上并没有。大多数时候，一个好的IDE会有自动导入。但是有时候，即使是最好的ide也会忘记导入一些东西。</p><p id="46e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好了，不用再担心了，因为有一个快速解决这个问题的方法。</p><p id="6ab7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">只需在开始编码时添加一条注释，提醒自己导入所需的包。像这样的消息就可以了:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="bd0b" class="lm ju hi li b fi ln lo l lp lq"># Did you import?</span></pre><p id="1293" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">确保注释总是在代码的底部。这样，当你编码时，你总是会看到一个提示，提醒你导入！</p><h2 id="bc49" class="lm ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">2.2 —使用多行</h2><p id="d211" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我们都倾向于在同一行中导入许多东西，尤其是如果它们是相关的。</p><p id="481d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，这是错误的习惯。尽管为每个导入创建一个新行是非常乏味的，但是它可以帮助您停下来思考是否真的需要这个导入，以及是否还需要其他的导入。</p><p id="120e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用多行代码还可以让您轻松识别哪些导入抛出了错误。例如，看一下下面的代码:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="ed86" class="lm ju hi li b fi ln lo l lp lq">import numpy, pd</span></pre><p id="ee43" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">解释器会抛出一个错误，让您知道numpy丢失了。但是，IDE可能无法判断出问题所在。而且，如果您的所有导入都在同一行上，那么即使找到numpy也是好运，更不用说删除它了。</p><p id="7d9e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用多行对于IPYNB python来说非常有用。同样，如果所有的导入都在同一个代码块中，那么整个过程可能会失败。这并不是说每次导入一个代码块，而是不要把所有东西都塞进一个代码块。</p><h2 id="c462" class="lm ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">2.3 —从___进口*</h2><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/a3567b63ccae4cd9611e2c67f1ac11e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/0*EIyzbsUeOV4QuAbD"/></div><figcaption class="iq ir et er es is it bd b be z dx">Picture from <a class="ae iu" href="https://nerdlettering.com/products/from-coffee-import-python-sticker" rel="noopener ugc nofollow" target="_blank">Nerd Lettering</a></figcaption></figure><p id="0824" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">命令有时非常有用，但有时非常危险。这就是为什么最好考虑偶尔使用，但不要频繁使用。</p><p id="fc81" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您从同一个包或类中导入多个不同的类或函数，那么最好的方法可能是全部导入。</p><p id="081f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，不要过度使用它，否则您可能会由于两个导入的类或函数具有相同的名称而导致一些奇怪的错误。</p><p id="8224" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个建议与使用<code class="du mh mi mj li b">import ___ as ___</code>命令密切相关，该命令可用于导入不同名称的函数或类。</p><h1 id="1c8f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">3.三元运算符及其变通方法</h1><p id="8d35" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在Python 2.4中，引入了三元运算符。</p><p id="1ee8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不要马上打开一个闲置的测试出来，因为它可能不是你认为的那样。</p><p id="70d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在真正的pythonic风格中，三元运算符是这样引入的:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="c6e2" class="lm ju hi li b fi ln lo l lp lq">value if condition else value</span></pre><p id="b799" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是一些示例代码，请试用一下:</p><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="7e5b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，这实在是罗嗦，只是没有必要。相反，我们可以做以下事情来简化它:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="c5e0" class="lm ju hi li b fi ln lo l lp lq">(value_if_false, value_if_true)[condition]</span></pre><p id="2f0b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这段代码要简单得多(但是只短了4个字符),并且使用了1是真，0是假的事实。但是，有一点需要注意的是<strong class="ix hj">的真值和假值被切换</strong>。</p><p id="9790" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是一些示例代码:</p><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="lr ls l"/></div></figure><h2 id="6b6d" class="lm ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">结论</h2><p id="ad64" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">使用列表理解、有效导入和利用三元运算符。这是我用Python提升你的工作流程的3个主要技巧。如果你实现了这些技巧，我相信你会发现自己花在挠头上的时间更少了，而花在享受代码上的时间更多了。</p><p id="716c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您确实喜欢阅读这篇文章，并且想要更多的技巧、窍门或教程，请务必关注我，并且在阅读这篇文章时为它鼓掌。</p></div></div>    
</body>
</html>