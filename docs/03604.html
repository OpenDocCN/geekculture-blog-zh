<html>
<head>
<title>Data Science Basics: Numpy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学基础:Numpy</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/data-science-basics-numpy-23593d2f955d?source=collection_archive---------17-----------------------#2021-06-11">https://medium.com/geekculture/data-science-basics-numpy-23593d2f955d?source=collection_archive---------17-----------------------#2021-06-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="605b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">NumPy入门</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/47a6468da6dab0bd7dffefaf2c200852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cE73IkJ3ghgyB1NB"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pawel Czerwinski</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="5f05" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">Numpy</h1><p id="384d" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated"><a class="ae jn" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> Numpy </a>是一个流行于数据科学社区的python库。它可以用于多维大数组操作。它还用于数组的数学运算。</p></div><div class="ab cl lc ld gp le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hb hc hd he hf"><p id="0d09" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">Numpy是有用的，因为它容易学习，高效，并具有很高的计算能力。</p><p id="72ae" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">要使用NumPy，我们首先必须导入它。我们使用一个更短的别名<code class="du lo lp lq lr b">np</code>来使用numpy。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="a1cd" class="lw jp hi lr b fi lx ly l lz ma">import numpy as np</span></pre><h2 id="b5ac" class="lw jp hi bd jq mb mc md ju me mf mg jy kp mh mi ka kt mj mk kc kx ml mm ke mn bi translated">Numpy数组创建</h2><p id="5db9" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">Numpy数组是同构的数据结构，数组中的数据必须是相同的数据类型。</p><p id="e755" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">Numpy数组可以从列表中创建。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="d934" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; a_list = [1,2,3,4,5,6,7,8,9]<br/>&gt;&gt;&gt; a_arr=np.array(a_list)<br/>&gt;&gt;&gt; print(a_arr)<br/>[1 2 3 4 5 6 7 8 9]</span></pre><p id="9fa1" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">如果列表不是同类的，则向上转换项目以匹配数据类型。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="00bb" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; a_list = [1,2,3.9]<br/>&gt;&gt;&gt; a_arr=np.array(a_list)<br/>&gt;&gt;&gt; print(a_arr)<br/>[1.  2.  3.9]<br/>&gt;&gt;&gt; print(a_arr.dtype)<br/>float64<br/>&gt;&gt;&gt; a_list = [1,'2',3.9]<br/>&gt;&gt;&gt; a_arr=np.array(a_list)<br/>&gt;&gt;&gt; print(a_arr)<br/>['1' '2' '3.9']<br/>&gt;&gt;&gt; print(a_arr.dtype)<br/>&lt;U21</span></pre><p id="593c" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">还有其他方法来创建numpy数组，如<code class="du lo lp lq lr b">np.ones</code>、<code class="du lo lp lq lr b">np.zeros</code>、<code class="du lo lp lq lr b">np.random.random</code>、<code class="du lo lp lq lr b">np.arange</code>、<code class="du lo lp lq lr b">np.linspace</code>等。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="ef43" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.ones((4,3)))<br/>[[1. 1. 1.]<br/> [1. 1. 1.]<br/> [1. 1. 1.]<br/> [1. 1. 1.]]<br/>&gt;&gt;&gt; print(np.zeros((4,3)))<br/>[[0. 0. 0.]<br/> [0. 0. 0.]<br/> [0. 0. 0.]<br/> [0. 0. 0.]]<br/>&gt;&gt;&gt; print(np.ones((4,3), dtype=np.int))<br/>[[1 1 1]<br/> [1 1 1]<br/> [1 1 1]<br/> [1 1 1]]<br/>&gt;&gt;&gt; print(np.random.random((2,3)))<br/>[[0.7386583  0.02779194 0.97240368]<br/> [0.58384794 0.78786521 0.20495265]]<br/>&gt;&gt;&gt; print(np.arange(3))<br/>[0, 1, 2]<br/>&gt;&gt;&gt; print(np.arange(3.0))<br/>[ 0.,  1.,  2.]<br/>&gt;&gt;&gt; print(np.arange(3,7))<br/>[3, 4, 5, 6]<br/>&gt;&gt;&gt; print(np.linspace(2.0, 3.0, num=5))<br/>[2.   2.25 2.5  2.75 3.  ]<br/>&gt;&gt;&gt; print(np.linspace(2.0, 3.0, num=5, endpoint=False))<br/>[2.  2.2 2.4 2.6 2.8]</span></pre><p id="0bbd" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">正如我们在上面的例子中看到的，我们可以在一个元组中指定数组维数来创建数组。还有其他类似<code class="du lo lp lq lr b">ones_like</code>、<code class="du lo lp lq lr b">zeros_like</code>等方法。它将一个数组作为输入，并返回一个具有相同维数的数组。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="d8b8" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; a=np.ones((4,3))<br/>&gt;&gt;&gt; b=np.zeros_like(a)<br/>&gt;&gt;&gt; print(b)<br/>[[0. 0. 0.]<br/> [0. 0. 0.]<br/> [0. 0. 0.]<br/> [0. 0. 0.]]</span></pre><p id="264e" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">numpy中还有一个有用的方法<code class="du lo lp lq lr b">tile</code>。它将一个数组作为输入，并重复多次。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="1a83" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.tile([0,1,2],3))<br/>[0 1 2 0 1 2 0 1 2]<br/>&gt;&gt;&gt; print(np.tile(np.array([0,1,2]),3))<br/>[0 1 2 0 1 2 0 1 2]</span></pre><p id="e84b" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">它接受数组、列表或集合作为输入。</p><h2 id="d79f" class="lw jp hi bd jq mb mc md ju me mf mg jy kp mh mi ka kt mj mk kc kx ml mm ke mn bi translated">Numpy数组属性</h2><p id="8ec7" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">numpy数组的一些属性有助于我们理解它的结构和内容。以下是其中的一些例子。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="951b" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; a=np.ones((4,3))<br/>&gt;&gt;&gt; a.shape<br/>(4, 3)<br/>&gt;&gt;&gt; a.size # total no of elements in the array<br/>12<br/>&gt;&gt;&gt; a.ndim # number of dimensions<br/>2<br/>&gt;&gt;&gt; a.dtype<br/>dtype('float64')</span></pre><h2 id="7718" class="lw jp hi bd jq mb mc md ju me mf mg jy kp mh mi ka kt mj mk kc kx ml mm ke mn bi translated">NumPy数组上的操作</h2><p id="ce4c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">基于元素的操作可以使用运算符来完成。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="c836" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.array([[0,1],[2,3]])+np.array([[7,8],[5,6]]))<br/>[[7 9]<br/> [7 9]]</span></pre><p id="592c" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">对于两个数组之间的元素操作，它们应该有相似的维数，否则我们会得到一个错误。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="d22d" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.array([[0,1],[2,3]])+np.array([[7,8],[5,6],[3,4]]))<br/>Traceback (most recent call last):<br/>  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>ValueError: operands could not be broadcast together with shapes (2,2) (3,2)</span></pre><p id="fb16" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">我们也可以用运算符对常数进行加/乘或其他运算。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="f166" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.array([[0,1],[2,3]])**3)<br/>[[ 0  1]<br/> [ 8 27]]<br/>&gt;&gt;&gt; print(np.array([[0,1],[2,3]])/3)<br/>[[0.         0.33333333]<br/> [0.66666667 1.        ]]</span></pre><h2 id="0279" class="lw jp hi bd jq mb mc md ju me mf mg jy kp mh mi ka kt mj mk kc kx ml mm ke mn bi translated">数组操作</h2><p id="bad3" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我们可以使用<code class="du lo lp lq lr b">reshape</code>来改变一个数组的维数。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="be81" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.arange(6))<br/>[0 1 2 3 4 5]<br/>&gt;&gt;&gt; print(np.arange(6).reshape(3,2))<br/>[[0 1]<br/> [2 3]<br/> [4 5]]</span></pre><p id="9bc0" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">一个更有趣的技巧是，如果我们不知道其中一个维度，我们可以用-1离开numpy来计算未知的维度。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="673a" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; print(np.arange(9).reshape(3,-1))<br/>[[0 1 2]<br/> [3 4 5]<br/> [6 7 8]]</span></pre><p id="b6e8" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">阵列可以水平或垂直堆叠在一起。要垂直堆叠数组，两个数组的列数应该相同。类似地，水平堆叠的行数应该相同。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="d6e0" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; a1=np.arange(12,24).reshape(3,4)<br/>&gt;&gt;&gt; a1<br/>array([[12, 13, 14, 15],<br/>       [16, 17, 18, 19],<br/>       [20, 21, 22, 23]])<br/>&gt;&gt;&gt; a2=np.arange(9).reshape(3,-1)<br/>&gt;&gt;&gt; a2<br/>array([[0, 1, 2],<br/>       [3, 4, 5],<br/>       [6, 7, 8]])<br/>&gt;&gt;&gt; a3=np.arange(14,28).reshape(-1,7)<br/>&gt;&gt;&gt; a3<br/>array([[14, 15, 16, 17, 18, 19, 20],<br/>       [21, 22, 23, 24, 25, 26, 27]])</span><span id="43fa" class="lw jp hi lr b fi mo ly l lz ma">&gt;&gt;&gt; a12=np.hstack((a1,a2))<br/>&gt;&gt;&gt; a123=np.vstack(a12,a3)<br/>&gt;&gt;&gt; a12<br/>array([[12, 13, 14, 15,  0,  1,  2],<br/>       [16, 17, 18, 19,  3,  4,  5],<br/>       [20, 21, 22, 23,  6,  7,  8]])<br/>&gt;&gt;&gt; a123<br/>array([[12, 13, 14, 15,  0,  1,  2],<br/>       [16, 17, 18, 19,  3,  4,  5],<br/>       [20, 21, 22, 23,  6,  7,  8],<br/>       [14, 15, 16, 17, 18, 19, 20],<br/>       [21, 22, 23, 24, 25, 26, 27]])</span></pre><p id="ee21" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">数组可以转置。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="095c" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; x = np.array([[1,2],[3,4]]) <br/>&gt;&gt;&gt; x<br/>array([[1, 2],<br/>       [3, 4]])<br/>&gt;&gt;&gt; x.T<br/>array([[1, 3],<br/>       [2, 4]])</span></pre><h2 id="f286" class="lw jp hi bd jq mb mc md ju me mf mg jy kp mh mi ka kt mj mk kc kx ml mm ke mn bi translated">数组上的数学运算</h2><p id="3df7" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我们可以对整个数组进行数学运算。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="c251" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; a = np.array([[1,2],[3,4]]) <br/>&gt;&gt;&gt; print(np.sin(a))<br/>[[ 0.84147098  0.90929743]<br/> [ 0.14112001 -0.7568025 ]]<br/>&gt;&gt;&gt; print(np.cos(a))<br/>[[ 0.54030231 -0.41614684]<br/> [-0.9899925  -0.65364362]]<br/>&gt;&gt;&gt; print(np.exp(a))<br/>[[ 2.71828183  7.3890561 ]<br/> [20.08553692 54.59815003]]</span></pre><p id="21df" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">如果我们需要将用户定义的函数应用于数组，我们可以遍历数组并将函数应用于每个元素。但是，有一种有效的矢量化方法可以做到这一点。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="8558" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; f = np.vectorize(lambda x: x/(x+1))<br/>&gt;&gt;&gt; f(a)<br/>array([[0.5       , 0.66666667],<br/>       [0.75      , 0.8       ]])</span></pre><p id="bb4f" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">我们可以创建一个函数，让<code class="du lo lp lq lr b">vectorize</code>方法处理剩下的部分。</p><h2 id="8c8e" class="lw jp hi bd jq mb mc md ju me mf mg jy kp mh mi ka kt mj mk kc kx ml mm ke mn bi translated">阵列上的线性代数运算</h2><p id="ccf2" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我们可以在数组上执行基本的线性代数运算。NumPy的内置包<code class="du lo lp lq lr b">np.linalg</code>允许我们应用线性代数运算。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="3fd9" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; np.linalg.inv(a)<br/>array([[-2. ,  1. ],<br/>       [ 1.5, -0.5]])<br/>&gt;&gt;&gt; np.linalg.det(a)<br/>-2.0000000000000004<br/>&gt;&gt;&gt; np.linalg.eig(a) # eigen vector and eigen values<br/>(array([-0.37228132,  5.37228132]), array([[-0.82456484, -0.41597356],<br/>       [ 0.56576746, -0.90937671]]))</span></pre><p id="5124" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">可以使用<code class="du lo lp lq lr b">np.dot</code>方法进行矩阵乘法。</p><pre class="iy iz ja jb fd ls lr lt lu aw lv bi"><span id="8e51" class="lw jp hi lr b fi lx ly l lz ma">&gt;&gt;&gt; np.dot(a, np.linalg.inv(a))<br/>array([[1.00000000e+00, 1.11022302e-16],<br/>       [0.00000000e+00, 1.00000000e+00]])</span></pre></div><div class="ab cl lc ld gp le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hb hc hd he hf"><p id="cc3c" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">Numpy是帮助我们进行数据分析的有用工具。在某种程度上，它是数据科学实践方面的一个支柱。</p><p id="aa0b" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">要了解更多关于Numpy的信息，点击<a class="ae jn" href="https://numpy.org/doc/stable/user/tutorials_index.html" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="0525" class="pw-post-body-paragraph kg kh hi ki b kj lj ij kl km lk im ko kp ll kr ks kt lm kv kw kx ln kz la lb hb bi translated">希望你喜欢。敬请关注更多内容。</p></div></div>    
</body>
</html>