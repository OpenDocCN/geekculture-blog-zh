<html>
<head>
<title>Is Confusion Matrix really Confusing?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混淆矩阵真的很混乱吗？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/is-confusion-matrix-really-confusing-1a92388bae35?source=collection_archive---------52-----------------------#2021-05-31">https://medium.com/geekculture/is-confusion-matrix-really-confusing-1a92388bae35?source=collection_archive---------52-----------------------#2021-05-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/25783288cc8a86fc7df190e89336d1eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hnt2aCipqU2RvkWSv3Xqhg.png"/></div></div></figure><p id="f4f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">看完这篇博客，我相信你不会被困惑矩阵所迷惑。</p><p id="2a99" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们开始吧。</p><p id="cb50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">混淆矩阵</strong>是用于描述模型性能的表格。</p><p id="c2ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以用精度作为度量来分析模型的性能，那为什么还要用混淆矩阵呢？？？<br/>混乱矩阵有什么必要？？？</p><p id="4c87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了理解这一点，让我们考虑癌症预测模型的<strong class="is hj">例子</strong>。<br/>由于这是一个二元分类模型，其工作是基于一些特征来检测癌症患者。考虑到数百万人口中只有少数人患癌症，我们认为所提供的数据中只有1%为癌症阳性。<br/> <strong class="is hj">患癌标为1，未患癌标为0，</strong> <br/>这里要注意的一个有趣的事情是，如果一个系统给出的预测全是0，那么预测准确率也将是99%。这类似于在模型输出中写入print(0)。这将有99%的准确率。<br/>但这是不正确的对吗？？</p><p id="6796" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">既然您已经知道了问题是什么，以及在这种情况下需要一个新的度量来帮助，那么让我们看看混淆矩阵是如何解决这个问题的。</p><p id="35dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们考虑一个具有1000个数据点的分类数据集的例子。</p><p id="d2d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们得到下面的混淆矩阵:<br/>将会有两个类1和0。<br/> 1表示该人患有癌症，0表示他们没有癌症。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/20c506cd5d54b2575e13dd5303bfd22f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uHEDpN0vPjPGtSkE"/></div></div></figure><p id="f176" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过看这个表，我们有4种不同的预测值和实际值的组合。让我们把预测值看作正的和负的，把实际值看作真的和假的。</p><p id="8e2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">坚持住，这很容易，你会明白的。</p><p id="4ba8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">真阳性</strong> : <br/>解释:模型预测阳性，为真。<br/>实例理解:模型预测到一个人得了癌症，一个人真的得了。</p><p id="0f1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">真阴性</strong> : <br/>解释:模型预测为阴性，为真。<br/>举例理解:模型预测一个人没有癌症，他实际上没有癌症。</p><p id="5757" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阳性</strong> : <br/>解释:模型预测阳性，是假的。<br/>例子理解:模型预测一个人得了癌症，但他实际上并没有得癌症。</p><p id="8eda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阴性</strong> : <br/>解释:模型预测阴性，为假。<br/>举例理解:模型预测一个人没有癌症，而这个人实际上得了癌症。</p><p id="b0e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">精度</strong> : <br/>在我们预测正确的所有正类中，实际上有多少是正的。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/fe60fc70309fb792828bfeb7c7cd2574.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/0*8FAo0sNMIqcLczMn"/></div></figure><p id="fc3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">回忆一下</strong> : <br/>在所有的正类中，我们正确预测了多少。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/d374bf3a7e63c3880211cb2424fe6fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/0*23QRT2nKUAtGRe9a"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/72592dfd73d6c55bd97275da565220e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/0*ckMFL_UAvKWiGmK4"/></div></figure><p id="22e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">图片来源:维基百科</p><p id="8fe4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">计算上表的精度和召回率。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/4d3427d1b6f07c09fc288128e0d622c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/0*dvUmFvHypWngsXi2"/></div></figure><p id="ad43" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们用准确度来比较这个。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jx"><img src="../Images/e27b9401be06bc315683e513e3c5eed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/0*AgmbMEhfG2LpS-wl"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/2bc7adf32ae6be2559c7c38014f48c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/0*dK4Zz7BpnNudvlSi"/></div></figure><p id="b0ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该模型的准确率为96%，但精确度为0.5，召回率为0.75 <br/>，这意味着50%的正确预测病例被证明是癌症病例。而我们的模型成功预测了75%的癌症阳性。</p><p id="78b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑一个用print(0)代替prediction的例子。所以我们每次都得到0。</p><p id="427f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的准确率是91.4%，但是准确率和召回率呢？？<br/>由于TP为0，精度变为0。<br/>由于TP为0，召回变为0。<br/>这是理解精度和召回的经典例子。</p><p id="bc14" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在你明白了为什么精确度对于不平衡的数据集不是很有用，以及精确度和召回率是如何发挥关键作用的。</p><p id="d9ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重要的一点是要明白，什么时候用精确，什么时候用回忆？？</p><p id="fe01" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在假阳性比假阴性更重要的情况下，精确度是一个有用的度量。<br/>例如，在像Youtube、Google这样的推荐系统中，这是一个重要的指标，错误的推荐可能会导致用户离开平台。</p><p id="49d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">召回是一个有用的度量，其中假阴性比假阳性更重要。例如，在医学领域，检测没有疾病阳性的患者在一定程度上是可以容忍的，但是应该总是预测有疾病的患者。</p><p id="453b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么当我们不确定是用精度还是用召回的时候是什么情况呢？？<br/>或者两者一个高怎么办，模型好不好？？？</p><p id="5881" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要回答这个问题，让我们看看什么是F1的分数。</p><p id="4995" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> F1-score </strong>是精度和召回率的调和平均值，精度和召回率相等时为高值。</p><p id="d097" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">为什么不是正态算术平均值而是调和平均值？？</strong> <br/>因为算术平均值在两者之一为高值时给出高值，而调和平均值只有在两者几乎相等时才会为高。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/d2b43018e23d1eb85dfe5d62cde53d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/0*vCBh88QB1U2dTKDq"/></div></figure><p id="b3a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以从我们的例子来看，F1的分数就变成了<br/>F1 = 2TP/(2TP+FP+FN)= 2<em class="ka">30/(2</em>30+30+10)= 0.6</p><p id="2082" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我相信看完这个困惑矩阵就不再那么困惑了！</p><p id="2bf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望你在这里学到了新的东西，不要忘记在你的想法下面发表评论。感谢阅读！<br/>不断学习，不断成长。</p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><p id="0da3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ka">最初发布于</em><a class="ae ki" href="https://kirankamath.hashnode.dev/is-confusion-matrix-really-confusing" rel="noopener ugc nofollow" target="_blank"><em class="ka">https://kirankamath . hash node . dev</em></a><em class="ka">。</em></p></div></div>    
</body>
</html>