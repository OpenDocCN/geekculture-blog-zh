<html>
<head>
<title>Introducing: BreakFastApi 🍕</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简介:早餐Api🍕</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/introducing-breakfastapi-51be441f8a0f?source=collection_archive---------19-----------------------#2022-02-07">https://medium.com/geekculture/introducing-breakfastapi-51be441f8a0f?source=collection_archive---------19-----------------------#2022-02-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4c02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">web上最美味的开源API。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f3fddbdb28e771aa4c28d523c9be3133.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Athda0ltBwyg5ank0WeAVw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Image by the author.</figcaption></figure><p id="6203" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">早餐Api立志成为web上最美味的开源API。只需发送一个请求，你就会收到最令人垂涎的菜肴配方，包括预计烹饪时间、所有必要的配料和说明。</p><h1 id="af80" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">动机</strong></h1><p id="c2e2" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">创建BreakFastApi是为了解决每个人在生活中的某个时刻都面临的一个挑战性问题。<strong class="ih hj">晚饭做什么？</strong>我喜欢烹饪，但这个<strong class="ih hj"> </strong>问题在疫情变得更加普遍，人们被迫呆在家里，想出新的令人兴奋的饭菜来做。</p><h2 id="3753" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">问题:</h2><p id="8257" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">人类只能记住有限数量的食物食谱。然而，每个人都将受益于更加多样化和丰富的饮食。</p><h2 id="eb1e" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">解决方案:</h2><p id="2039" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">早餐Api通过记忆超过12.000个食谱并使它们随意可用来解决这个问题。美味的饭菜现在离你只有一步之遥。</p><h1 id="7b87" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">它是如何工作的？</h1><p id="8274" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">api有一个超过12000种食谱的数据库，包括估计的烹饪时间、配料和说明。api一收到请求，就会从数据库中查询一个随机条目，并以JSON格式返回食谱。</p><p id="75c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">顾名思义，它是使用FastAPI构建的，您可以在这里查看源代码:</p><div class="lk ll ez fb lm ln"><a href="https://github.com/MariiaSizova/breakfastapi" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hj fi z dy ls ea eb lt ed ef hh bi translated">GitHub—MariiaSizova/breakfast api:web上最美味的API。🍣 🍔 🍕</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">网络上最美味的API。只需发送一个请求，你就会收到最令人垂涎欲滴的菜肴配方…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">github.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb jn ln"/></div></div></a></div><p id="d791" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它在<a class="ae mc" href="https://www.deta.sh/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Deta </strong> </a>举办。不太知名，但对Python和节点开发者来说是一个非常棒的免费托管平台。绝对值得一探究竟！</p><h1 id="ad05" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">有什么好尝的菜谱？</h1><h2 id="9839" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated"><a class="ae mc" href="https://breakfastapi.fun/" rel="noopener ugc nofollow" target="_blank">早餐API.fun </a></h2></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><h1 id="54ad" class="jt ju hi bd jv jw mk jy jz ka ml kc kd ke mm kg kh ki mn kk kl km mo ko kp kq bi translated">机器人呢？</h1><p id="57e9" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">如果你是计算型的，你可以通过基本的python代码与API接口，并在你的应用程序中实现这些方法。</p><p id="8663" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">样品申请:</strong></p><pre class="je jf jg jh fd mp mq mr ms aw mt bi"><span id="11e4" class="kw ju hi mq b fi mu mv l mw mx">import requests<br/>r = requests.get(url='https://breakfastapi.fun/')<br/>data = r.json()<br/>print(data)</span></pre><p id="1a44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">样本响应:</strong></p><pre class="je jf jg jh fd mp mq mr ms aw mt bi"><span id="ca9d" class="kw ju hi mq b fi mu mv l mw mx">{<br/>    'ID':11574,<br/>    'Recipe Name': 'Devils Steak Sauce Recipe',<br/>    'Cook Time (minutes)': 15,<br/>    'Ingredients': ['brown sugar',<br/>                    'tomato sauce',<br/>                    'raspberry',<br/>                    'worcestershire sauce',<br/>                    'hot pepper',<br/>                    'black pepper',<br/>                    'vinegar'<br/>                    ],<br/>    'Directions': 'In a saucepan over high heat, <br/>                   blend raspberry jam, brown sugar, <br/>                   Worcestershire sauce, tomato sauce, <br/>                   malt vinegar, hot pepper sauce, salt, <br/>                   and pepper. Bring to a boil over high heat, <br/>                   reduce heat to low, and simmer 10 minutes,<br/>                   or until thickened.'<br/>}</span></pre><h2 id="a20f" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated"><strong class="ak">代码分解</strong></h2><p id="45d1" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated"><strong class="ih hj"> main.py: </strong>这里我们初始化主FastAPI和数据库对象，并注册索引路径。索引路由调用jsonify_data()方法，将数据库条目转换为JSON格式。</p><pre class="je jf jg jh fd mp mq mr ms aw mt bi"><span id="1d1f" class="kw ju hi mq b fi mu mv l mw mx">import uvicorn<br/>from fastapi import FastAPI<br/>from db.database import Database<br/>from helpers.data_formating import jsonify_data </span><span id="d0ce" class="kw ju hi mq b fi my mv l mw mx">app = FastAPI()<br/>db = Database() </span><span id="8850" class="kw ju hi mq b fi my mv l mw mx">@app.get("/", status_code=200)<br/>def get_recipes() -&gt; list:<br/>    return jsonify_data(db)</span><span id="eac6" class="kw ju hi mq b fi my mv l mw mx">if __name__ == "__main__":<br/>    uvicorn.run(app, host="127.0.0.1", port=8000)</span></pre><p id="181e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> database.py: </strong>定义了主要的sqlite3数据库类。它有一个额外的方法get_data，该方法从数据集中返回一个随机行。然后，这个随机行通过jsonify_data()函数传递，并在端点收到GET请求时返回给用户。</p><pre class="je jf jg jh fd mp mq mr ms aw mt bi"><span id="c94b" class="kw ju hi mq b fi mu mv l mw mx">import sqlite3</span><span id="4f49" class="kw ju hi mq b fi my mv l mw mx"><br/>class Database:<br/>    def __init__(self):<br/>        self.connection = sqlite3.connect("db/recipes.db",   check_same_thread=False)<br/>       self.cursor = self.connection.cursor()</span><span id="b2e4" class="kw ju hi mq b fi my mv l mw mx">    def get_data(self):<br/>        self.cursor.execute("SELECT * FROM items ORDER BY RANDOM() LIMIT 1")<br/>    return self.cursor.fetchone()</span></pre><h2 id="067e" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">数据源</h2><p id="4d7a" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">API使用了修改和扩充的版本，你可以在Kaggle上找到这个优秀的数据集。</p><div class="lk ll ez fb lm ln"><a href="https://www.kaggle.com/shuyangli94/food-com-recipes-and-user-interactions?select=RAW_recipes.csv" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hj fi z dy ls ea eb lt ed ef hh bi translated">Food.com食谱和互动</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">从Food.com(GeniusKitchen)在线食谱聚合器抓取数据</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.kaggle.com</p></div></div><div class="lw l"><div class="mz l ly lz ma lw mb jn ln"/></div></div></a></div></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><p id="8d8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读！希望这个API对你❤️有所帮助</p></div></div>    
</body>
</html>