<html>
<head>
<title>Loops in Python— Back to Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的循环——回到基础</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/loops-in-python-back-to-basics-7d305be3adf7?source=collection_archive---------17-----------------------#2022-01-03">https://medium.com/geekculture/loops-in-python-back-to-basics-7d305be3adf7?source=collection_archive---------17-----------------------#2022-01-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="64d0" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">深入循环。</h2></div><p id="76a5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">拥有坚实的基础在所有职业中都至关重要——成为一名专业的数据辩论者也不例外。无论是初学者还是高级用户，不时地学习基础知识总是一个好主意。在这篇文章中，我将讨论循环。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/09d35cdba898e9428186c0d83affe63e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3x1aqrsADSuimWoYYtdxcg.jpeg"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://pixabay.com/users/bru-no-1161770/" rel="noopener ugc nofollow" target="_blank">Bru-nO</a> from <a class="ae kj" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank">pixabay</a></figcaption></figure><h1 id="1e98" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">环</h1><p id="076a" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">简而言之，循环是一组反复执行的指令，直到满足给定的条件。这个条件可以是任何东西:一定数量的执行(吃10个甜甜圈)或在未知数量的执行后可以满足的条件(吃甜甜圈，直到你可以听到你的葡萄糖水平飙升)。</p><p id="b030" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用循环的原因可能各不相同，例如:不想重复需要多次执行的代码，不知道一个代码块需要执行多少次，或者您有一个程序需要主循环连续运行，直到用户决定该程序应该停止。</p><p id="16e7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Python中使用了两种类型的循环——while的<em class="lh">循环和for </em>的<em class="lh">循环。它们都可以用一个(名字有点奇怪)else子句扩展，for循环实际上有一个非常有趣的Python版本，名为<em class="lh">理解</em>。在接下来的文章中，我将带你了解这些概念，以及<em class="lh">继续</em>和<em class="lh">中断</em>语句的用法。</em></p><h2 id="5f85" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak"> While循环</strong></h2><p id="c28e" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">只要循环中提供的表达式计算结果为true，就会执行while循环。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lw"><img src="../Images/38e1cf03072a27097d04902c77882733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/0*o-cwmp3tJ7-IND8p"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="a2e2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面的分类有助于对正在发生的事情有一点了解:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lx"><img src="../Images/79907d509e536b957abe06a2f2d01b10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nFZdoqPvAPh2JFkUvh-5w.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="4d70" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里有一个流程图，让您对逻辑有一个简单的了解:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ly"><img src="../Images/ab2a7555ab7ae8e7c0c7e91ab9578011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-t9k7WOZaM4q9fvnK2uhQ.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="b870" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">返回布尔值的逻辑测试可以是任何东西，它只取决于代码使用的上下文。一个重要的注意事项是，除非这是您明确的愿望，否则您不应该忘记更改主表达式中被测试的值，否则您将会陷入一个所谓的无限循环，一个只有通过解释器的终止才能停止执行的循环。</p><blockquote class="lz ma mb"><p id="3fdb" class="ix iy lh iz b ja jb ij jc jd je im jf mc jh ji jj md jl jm jn me jp jq jr js hb bi translated">如果你想让我保持咖啡因创造更多这样的内容，请考虑支持我，只要一杯咖啡。</p></blockquote><figure class="ju jv jw jx fd jy er es paragraph-image"><a href="https://buymeacoffee.com/zoltanguba2"><div class="er es mf"><img src="../Images/42de2d890e13d488021d94ea1a1b9877.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*SMZM9K5hha91xzFtSBS88Q.png"/></div></a></figure><h2 id="2a55" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">为循环</strong></h2><p id="a3c8" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated"><em class="lh"> for </em>循环是Python中的一个特殊工具，因为其背后的逻辑与你可能从其他语言中得到的不同。这里的<em class="lh"> for </em>循环用于遍历iterable或iterator对象(如列表、字典、字符串等)，然后执行很可能使用对象中的元素的代码块。说得专业一点，语句的<em class="lh">产生一个迭代器对象，这个迭代器提供原始序列或iterable中的项目。</em></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mg"><img src="../Images/68a42fac82c873c1c7158f18f4ffba6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/0*BH8OcSlU_g1gOEcK"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><h2 id="159f" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak"> Else子句</strong></h2><p id="6c23" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">可选的(！)<em class="lh">while或for循环末尾的else </em>子句使我们能够在主循环执行完毕后执行一段代码，而不会遇到<em class="lh"> break </em>语句。这可能看起来有点多余，但是在循环之后使用else而不是其他逻辑检查来查看它是否运行了完整的过程或者有什么东西中断了执行，这实际上非常方便。</p><h2 id="65e2" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">中断声明</strong></h2><p id="9c75" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">有时我们不希望循环运行，直到满足预定义的结束标准，或者循环中的迭代器用完为止。<em class="lh"> break </em>语句让我们能够终止最内层封闭循环的执行，包括<em class="lh"> else </em>语句。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mh"><img src="../Images/b70f5bb09fbc4bbf15390425c86d756d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l0CKti2I1yrakNcg"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><h2 id="8853" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">继续语句</strong></h2><p id="4088" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">当break终止它所在的整个循环时，使用<em class="lh"> continue </em>可以停止循环中一次迭代的执行，然后让循环跳转到下一次迭代。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mi"><img src="../Images/5b4589ab240dd2f6cdf086f9d37413a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J6TxTgC65RSHbbkK"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="8800" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意，调用<em class="lh">继续</em>时，最后会执行<em class="lh">否则</em>子句。</p></div><div class="ab cl mj mk gp ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hb hc hd he hf"><h1 id="1caf" class="kk kl hi bd km kn mq kp kq kr mr kt ku io ms ip kw ir mt is ky iu mu iv la lb bi translated">理解</h1><p id="94c3" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">最重要的事情之一是运用理解，至少在我看来是这样。存在四种类型:列表、字典、集合和生成器理解。</p><p id="08b8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">理解本质上是一种较短的语法，用于创建基于另一个的可迭代或迭代器。我在一篇关于循环的文章中提到它们的原因是，这个想法是，通过理解，你通过循环另一个对象来创建一个对象——用for循环。</p><h2 id="32f0" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">列表理解</strong></h2><p id="18e9" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">举个最基本的例子，假设你有一个整数列表(L1 ),你想有一个新的列表(L2 ),是L1整数的平方值-1。最基本的解决方案是使用一个循环来完成这项工作:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mv"><img src="../Images/a5d036bbbda3fb02a363784186a857c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Cd9iQ7IR75ZW8kIs"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="baaa" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">列表理解提供了一种更优雅的方式来做到这一点:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mw"><img src="../Images/77855b0583be0747b8121cb4868c3bda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q7zA9T2hUzpSpDGk"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="1a8b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">语法一开始可能有点模糊，但实际上相当简单:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mx"><img src="../Images/3b1f47488e089d62be19b43dadb54515.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*pgTp0EVZ52F4pyZYMz4VcQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Picture by Author</figcaption></figure><p id="c6c6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当你在表达式中应用condition时，它会变得有点粗糙，但并不太糟糕:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es my"><img src="../Images/012ad5eff21115e2c4bfe8bcbd72b2f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Gxc5M_O8pviBhhPm"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="d539" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这一细分更清楚地表明:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mz"><img src="../Images/600578b1e7598ee0609fc661fc2d3ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d3LRGA8-k2U3KppNatCBXg.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Picture by Author</figcaption></figure><p id="ad9a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于这不是一篇理解文章，我将只涉及其他三种类型，但通过上面的分类，我认为这可以作为一个很好的介绍。</p><h2 id="b0e9" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">字典理解</strong></h2><p id="0477" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">这里我们创建的是一个字典而不是一个列表(非常令人惊讶)——唯一棘手的部分可能是要记住，对于理解表达式中的循环，您需要为起始iterable中的每一项创建key:value对:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es na"><img src="../Images/7c2155f170edb8869a32bed6d336c994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dkh93sk2lhxApuHf"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="9263" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是有意义的，你完全可以使用多个iterables来创建字典:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es nb"><img src="../Images/1abde99a84f40046d1d1b1c58265bc23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*qxWpqEdmmk93gIpS"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><h2 id="e47f" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">设定理解</strong></h2><p id="8ff9" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">集合理解和列表理解非常相似，除了你把表达式放在花括号里，当然，你在最后不会有任何重复:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es nc"><img src="../Images/148b5f04efb1d1860452381b9982acd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/0*bKpXwM3kTCu6Pw-k"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><h2 id="b649" class="li kl hi bd km lj lk ll kq lm ln lo ku jg lp lq kw jk lr ls ky jo lt lu la lv bi translated"><strong class="ak">发电机理解</strong></h2><p id="5253" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">就像前一个一样，生成器综合式在语法方面就像列表综合式一样，除了您在表达式周围放了简单的括号:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es nd"><img src="../Images/57b1e1be44c1b1a20fe1d55ef06abbad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/0*MQAr2UIOGTgtyNUR"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="d280" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">真正的力量来自内存管理:正如您所看到的(在创建生成器时您可能已经预料到了)，这里我们没有在内存中创建完整的列表:相反，我们只有一个生成器，它可以逐个生成列表中的每个元素:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ne"><img src="../Images/e044c12bbe89b1f8b6385fb773cd7d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/0*QdOvBsc5RM99jDFX"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Screenshot by Author</figcaption></figure><p id="cc61" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您需要对大量项目执行操作，并且将所有输出同时存储在内存中很困难时，这将非常方便。</p></div><div class="ab cl mj mk gp ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hb hc hd he hf"><p id="2f84" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢您花时间通读这篇文章——我希望您已经从中找到了价值，无论您是刚刚开始熟悉基础知识的初学者，还是需要简单了解基础知识的高级Python用户。</p></div></div>    
</body>
</html>