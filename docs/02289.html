<html>
<head>
<title>Control Flow Variations in C Langauge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用C语言控制流量变化</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/control-flow-variations-in-c-langauge-d8ab342e35e5?source=collection_archive---------20-----------------------#2021-05-09">https://medium.com/geekculture/control-flow-variations-in-c-langauge-d8ab342e35e5?source=collection_archive---------20-----------------------#2021-05-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/cc88d3a7c0c14c4dac3640b861f5b476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*CbLVgU4vLdfcX6kshjCt7A.png"/></div><figcaption class="im in et er es io ip bd b be z dx">Source: <a class="ae iq" href="https://dzone.com/articles/how-draw-control-flow-graph" rel="noopener ugc nofollow" target="_blank">https://dzone.com/articles/how-draw-control-flow-graph</a></figcaption></figure><p id="ec26" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">程序执行的控制流是个体排序的顺序。控制流可以像一个简单的功能块一样简单到许多跳转语句。这里，基本块是一个语句块，在这个语句块中，执行无条件地开始并继续，直到最后一条语句。</p><p id="851d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">一个基本块包括在范围开始处的执行开始和在内容结束处的结束。范围可以由短跳转(如switch-case语句、条件或循环)或长跳转(如goto语句或调用另一个函数)组成。此外，范围可以包括_Noreturn或setjmp选项，这会更改控制流。</p><p id="aba2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">带有if-else语句或循环的简单控制流的显著优点是使代码更具可读性，并为编译器提供更多优化机会。</p><p id="5bbf" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">变更列表:</strong></p><ul class=""><li id="a5f5" class="jp jq hi it b iu iv iy iz jc jr jg js jk jt jo ju jv jw jx bi translated">条件语句:if/else，switch</li><li id="2704" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">循环语句:do-while，while，for</li><li id="e764" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">函数:函数调用，返回，_Noreturn</li><li id="30d7" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">短跳转:转到，标签</li><li id="1813" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">跳远:setjmp，longjmp</li><li id="34dd" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">中断:信号</li></ul><p id="7f29" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于人和编译器来说，关于执行状态，块的复杂性增加了。当控制流包括许多变化时，特别是短/长跳转、中断、线程，程序员跟踪对象的行为就变得很乏味，因为它们可能会在它们的生命周期之外被访问或未初始化就被使用。此外，在多线程应用程序的情况下，多线程对同一对象的读/写操作变得不确定。</p><p id="be83" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">当我们看问题控制流时，并不是所有的执行都按顺序发生。例如，函数参数执行是无序的。</p><p id="36b5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="kd">举例</em>:</p><figure class="ke kf kg kh fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="ab01" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">带x86–64 clang 3.5输出:</strong></p><ul class=""><li id="6c35" class="jp jq hi it b iu iv iy iz jc jr jg js jk jt jo ju jv jw jx bi translated">a是10</li><li id="7cce" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">b是5</li><li id="86b3" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">总和是3</li></ul><p id="d0b1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">带x86–64 gcc 11.1输出:</strong></p><ul class=""><li id="201b" class="jp jq hi it b iu iv iy iz jc jr jg js jk jt jo ju jv jw jx bi translated">a是1</li><li id="c7d6" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">b是2</li><li id="0845" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">总和是3</li></ul><p id="2c04" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">尽管程序被很好地定义了，但是两个常用的编译器gcc和clang在输出上是不同的。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="c260" class="kr ks hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">短距离跳跃</h1><p id="539c" class="pw-post-body-paragraph ir is hi it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hb bi translated"><strong class="it hj">循环与转到</strong></p><p id="4ef7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">goto语句和goto的主要区别在于作用域。例如，带有条件的while循环有它的作用域，任何定义的对象在我们离开这个作用域后都是死的。另一方面，goto具有局部作用域，因此任何变量在执行后都是活动的。</p><figure class="ke kf kg kh fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="46cc" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这里，编译器给出了预期的错误</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es lu"><img src="../Images/1e619f419efea8ab378efb21d9c33d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0vFTsIrWp1Ydn4FltCNEdA.png"/></div></div></figure><p id="0424" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">但是，如果我们在这里使用goto跳转而不是for循环，那么对象将存在于函数循环中，我们可以访问value属性。</p><figure class="ke kf kg kh fd ij"><div class="bz dy l di"><div class="ki kj l"/></div><figcaption class="im in et er es io ip bd b be z dx">Goto Example</figcaption></figure><p id="d620" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Obj还活着，没有出现我们预期的错误。</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/1ace67927fb89125fc2cbfc4e86bc22a.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*xyh4108rcJ0mDoMx0kiZ4g.png"/></div></figure><p id="0aa3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">总结:</strong> <br/>代码执行并不总是按顺序的，即使程序是单线程的。编译器优化会导致代码中不同的顺序。</p><p id="64dd" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><a class="ae iq" href="https://dzone.com/articles/how-draw-control-flow-graph" rel="noopener ugc nofollow" target="_blank">https://dzone.com/articles/how-draw-control-flow-graph</a></p><p id="bbe2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">来源:</p><ul class=""><li id="9571" class="jp jq hi it b iu iv iy iz jc jr jg js jk jt jo ju jv jw jx bi translated"><a class="ae iq" href="https://modernc.gforge.inria.fr" rel="noopener ugc nofollow" target="_blank">https://modernc . g forge . inria . fr</a></li><li id="0636" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated"><a class="ae iq" href="https://www.oreilly.com/library/view/effective-c/9781098125677/" rel="noopener ugc nofollow" target="_blank">https://www . oreilly . com/library/view/effective-c/9781098125677/</a></li><li id="d797" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated"><a class="ae iq" href="https://www.oreilly.com/library/view/c-programming-language/9780133086249/" rel="noopener ugc nofollow" target="_blank">https://www . oreilly . com/library/view/c-programming-language/9780133086249/</a></li></ul></div></div>    
</body>
</html>