<html>
<head>
<title>The ABCs of TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打字稿的基础知识</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-abcs-of-typescript-97e1917869b3?source=collection_archive---------14-----------------------#2021-09-03">https://medium.com/geekculture/the-abcs-of-typescript-97e1917869b3?source=collection_archive---------14-----------------------#2021-09-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a631" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何增强您的JavaScript开发</h2></div><p id="f0e9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您是一名JavaScript开发人员，您绝对应该学习TypeScript。这不仅会让你成为更好的开发人员，还会节省你调试的时间。不仅仅是我——<a class="ae jt" href="https://insights.stackoverflow.com/survey/2021#most-loved-dreaded-and-wanted-language-want" rel="noopener ugc nofollow" target="_blank">TypeScript是2021年第二大最想学的语言</a>。</p><p id="6c7c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本文旨在简要概述您开始接触TypeScript世界所需的一切，以及为什么应该将它添加到您的开发工具包中。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="04fc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">TypeScript <strong class="iz hj"> (TS) </strong>是JavaScript <strong class="iz hj"> (JS) </strong>的超集语言。TS本身不是一门语言，而是JS的一个附件，它增强了JS的有用性和功能。TS通过向JS添加“强类型”来做到这一点。</p><p id="9c51" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">JS是一种动态类型的语言，这意味着我们可以反复无常地使用变量声明，并且可以随意地将变量重新分配给其他变量。这对于灵活性来说非常好，但是也带来了难以管理的问题。此外，JS可能会在运行时出现类型错误，而TS甚至会在您编译代码之前就发现它们。从长远来看，这会节省你大量的时间。</p><p id="dfa4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">TS的主要吸引力在于它能够帮助我们在开发过程中避免错误。有些TS代码甚至根本没有被编译成JS！这不是浪费代码，因为通过可怕的红色下划线的力量，编写TS本质上使您的代码更不容易出错。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/8ff5a7645014576cfd43a3967b6bbec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yYeX-fwxc6ZD1T11"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Source: <a class="ae jt" href="https://unsplash.com/photos/u_3rD02dmkw" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/u_3rD02dmkw</a></figcaption></figure><p id="9c5b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最重要的是，TypeScript <em class="kr">就是</em> JavaScript。任何有效的JavaScript代码在TypeScript中都是有效的。这降低了学习TypeScript的门槛，前提是您已经掌握了JavaScript的基础知识。</p><h1 id="bc96" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">是啊，但这有什么意义呢？</h1><p id="a856" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">TS的流行还源于它如何增强开发人员的体验，因为它允许代码编辑器通过智能代码完成来提高效率，智能代码完成为函数、对象和语法错误查询提示提供自动完成的弹出窗口。基本上，TS的工作就像一个文字处理器，在你犯常见错误时通知你，并根据上下文自动补全单词。这反过来会为你节省大量的时间和(谷歌搜索！)写代码的时候。还有，完全开源！</p><h1 id="c7de" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">如何设置TypeScript</h1><ul class=""><li id="0c96" class="lp lq hi iz b ja lk jd ll jg lr jk ls jo lt js lu lv lw lx bi translated">安装类型脚本<code class="du ly lz ma mb b">npm install -g typescript</code></li><li id="da82" class="lp lq hi iz b ja mc jd md jg me jk mf jo mg js lu lv lw lx bi translated">创建一个tsconfig.json文件，并插入以下内容:</li></ul><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="a63a" class="ml kt hi mb b fi mm mn l mo mp">{<br/>  "compilerOptions": {<br/>    "module": "commonjs",<br/>    "rootDir": "./src",<br/>    "outDir": "./dist"<br/>  },<br/>  "exclude": [<br/>    "node_modules"<br/>  ]<br/>}</span></pre><p id="867c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者，使用TSC-init生成一个tsconfig文件</p><ul class=""><li id="c68b" class="lp lq hi iz b ja jb jd je jg mq jk mr jo ms js lu lv lw lx bi translated">创建一个src目录，并在其中创建index.ts文件</li><li id="3a58" class="lp lq hi iz b ja mc jd md jg me jk mf jo mg js lu lv lw lx bi translated">写点代码。</li><li id="8ddf" class="lp lq hi iz b ja mc jd md jg me jk mf jo mg js lu lv lw lx bi translated">从根目录使用<code class="du ly lz ma mb b">tsc</code>命令将其编译成JS。</li></ul><p id="ad17" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">恭喜你！你已经写了你的第一个打字稿程序！</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es mt"><img src="../Images/eece3e27ee5a6a8147716d5eb453098c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*_d0rGQRN0CM5CfqV"/></div><figcaption class="kn ko et er es kp kq bd b be z dx">Source: <a class="ae jt" href="https://giphy.com/gifs/sesamestreet-sesame-street-50th-anniversary-kyLYXonQYYfwYDIeZl" rel="noopener ugc nofollow" target="_blank">https://giphy.com/gifs/sesamestreet-sesame-street-50th-anniversary-kyLYXonQYYfwYDIeZl</a></figcaption></figure><p id="dedb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者，使用VSCode，您可以将<code class="du ly lz ma mb b">// @ts-check</code>添加到任何JS文件的顶部，以便为该文件启用TypeScript检查。</p><p id="661c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">需要注意的是，你写的任何TS代码都会被编译成JS，因为浏览器不能直接理解TS。</p><h1 id="ac84" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">键入变量</h1><p id="e659" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">TypeScript最强大的功能是强类型变量的能力。这可以是隐式的(TS足够聪明，可以在赋值时推断出变量的类型)，但显式声明类型通常是一种好的做法。</p><p id="86cb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是基本类型:</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="9285" class="ml kt hi mb b fi mm mn l mo mp">let num: number = 5; <br/>let str: string = "Hello"; <br/>let isTrue: boolean = false; <br/>let x:any = "Whatever you want";</span></pre><p id="d812" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当使用' any '作为类型时，变量可以被重新分配，TS不会对你发火。这就是JS的自然工作方式。</p><p id="daff" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您也可以使用竖线“|”将一个变量分配给多种类型。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="efa7" class="ml kt hi mb b fi mm mn l mo mp">let age: string | number;</span></pre><p id="ed84" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">年龄变量现在可以分配(和重新分配)给字符串或数字。</p><p id="251b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当声明一个常量时，它的类型将是任何相关的值。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="455c" class="ml kt hi mb b fi mm mn l mo mp">const dog = 'fido'; <br/>//const dog is of type 'fido', rather than type string</span></pre><h1 id="1ef6" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">对象也可以有类型:</h1><p id="de64" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">您可以指定数组中的值；</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="dba0" class="ml kt hi mb b fi mm mn l mo mp">let nums: number[] = [1,2,3,4,5];</span></pre><p id="a2b5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">number[]表示这是一个数字数组。</p><p id="3f2c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还可以使用输入功能在JS中创建元组:</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="5585" class="ml kt hi mb b fi mm mn l mo mp">const myTuple :[number, string][] = [[1, "Max"], [2, "Jim"], [3, "Cathy"]]</span></pre><h1 id="2a64" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">对象和接口</h1><p id="9bad" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">您可以用同样的方式强类型化对象:</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="9d7a" class="ml kt hi mb b fi mm mn l mo mp">const myCat: {name:string, age:number} = { name: "Mittens", age: 6 }</span></pre><p id="bf1c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还可以使用接口为对象类型创建一个可重用的模板。接口是指定对象结构的一种更简洁的方式。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="3619" class="ml kt hi mb b fi mm mn l mo mp">interface Cat { <br/>  name:string, <br/>  age:number <br/>} </span><span id="5bd1" class="ml kt hi mb b fi mu mn l mo mp">const ourCat: Cat = { <br/>  name:"Smiley", <br/>  age: 2 <br/>};</span></pre><h1 id="38e4" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">下面是一个实际使用的类型示例:</h1><p id="2f77" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">TypeScript将隐式地将类型设置为number。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="e201" class="ml kt hi mb b fi mm mn l mo mp">let houseNo = 221;</span></pre><p id="e31b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您随后尝试将变量重新分配给字符串:</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="6347" class="ml kt hi mb b fi mm mn l mo mp">houseNo = "Baker Street";</span></pre><p id="157f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">TS将抛出一个错误:“<strong class="iz hj"> <em class="kr">类型‘string’不可赋给类型‘number</em></strong>’注意，运行<code class="du ly lz ma mb b">tsc</code>，即使TS在抱怨，仍然会生成一个JS文件。从技术上讲，没有什么能阻止你忽略所有这些错误(当然，除了你燃烧的良心)。</p><p id="4b6c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">起初，将类型一致性强加到松散类型的JS上似乎是一件痛苦的事情。之前一切都很好，对吧？为什么我现在要做更多的工作？</p><p id="9909" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗯，TS实际上帮了你一个大忙。确定一个变量是某种类型的，或者一个函数返回一种特定的类型，可以确保你的输出总是你所期望的。</p><p id="8b31" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里有一个例子:</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="512a" class="ml kt hi mb b fi mm mn l mo mp">function addFive(num){<br/>  return num + 5;<br/>}</span></pre><p id="a667" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面的函数非常简单，你会期望输出是输入加5。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="187a" class="ml kt hi mb b fi mm mn l mo mp">addFive(50) // --&gt; 55</span></pre><p id="f3c8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看起来不错，但是如果输入的不是数字呢？</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="d2c9" class="ml kt hi mb b fi mm mn l mo mp">addFive("50") // --&gt; "505"</span></pre><p id="b4fb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不完全是我们想要的。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/7d4a97b54cd2598f1c4ebbf374a71a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yF7M16kS5UN_NMRB"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Source: <a class="ae jt" href="https://unsplash.com/photos/i4vGvr0YU4c" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/i4vGvr0YU4c</a></figcaption></figure><p id="c44f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">确保我们的变量是我们所期望的，可以防止这样的错误发生。这可能看起来微不足道，但对于安全操作，如金融交易，您需要确保您正在执行的任务完全按照您预期的方式进行。相信我，人们对自己的财务状况很敏感。</p><p id="c4a9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以更进一步，对函数参数和输出使用类型检查。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="9ee8" class="ml kt hi mb b fi mm mn l mo mp">function addFive(input: number): number{<br/>  return input + 5;<br/>}</span></pre><p id="b45b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过明确列出预期的输入和输出类型，您可以确定您的代码不会在您不知道的情况下发出任何奇怪的东西。很可爱，对吧？</p><p id="6385" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是等等？如果你不知道你的预期输出应该是什么呢？然后，重新评估你正在编写的代码试图完成什么是一个好主意。</p><p id="1720" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通常，您会希望代码在给定相同输入的情况下返回完全相同的结果。这是函数式编程的一个基本方面。不管怎样，这是使用ts的好处之一，它会让你更清楚你程序的内部结构。您可以在发布之前发现这些错误，而不是匆忙修复一个根本不需要的bug。</p><h1 id="33e0" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">可选参数和返回:</h1><p id="0ec4" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">通常，您会发现自己的函数带有一个并不明确需要的参数:</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="5b81" class="ml kt hi mb b fi mm mn l mo mp">const adoptCat = (name: string, breed: string, age?: number):string =&gt; { <br/>  return `Name: ${name}\\nBreed: ${breed}\\nAge: ${age ? age : "unknown"}\\nWelcome home!`}</span></pre><p id="9f7a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">无论您是否向它传递年龄参数，该函数都会工作，因此如果您不提供参数，TS不会报错，但是如果您省略了姓名或品种参数，它就会报错。</p><p id="0cba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">函数既可以返回值，也可以空值。当函数不返回显式值时(使用return关键字，或arrow函数的隐式返回)，它将返回void。</p><pre class="kc kd ke kf fd mh mb mi mj aw mk bi"><span id="2446" class="ml kt hi mb b fi mm mn l mo mp">const greeting = (name: string):void =&gt; {<br/>  console.log(`What's poppin' ${name}?`) <br/>}</span></pre><p id="cb81" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样，我们不需要显式声明返回类型，但这是一个很好的做法。</p><p id="d3dc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">还有更多的概念要涉及，但是理解原语、对象和函数的显式类型化的基础是涉水的良好基础。</p><h1 id="0151" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">后续步骤:</h1><p id="d732" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">尝试使用TS构建一个简单的项目。回到你的初学者时代，尝试使用TS重构一个旧的JS项目。您将很快了解TS的代码完成功能有多强大。尽情享受吧，欢迎来到JavaScript的新时代。</p></div></div>    
</body>
</html>