<html>
<head>
<title>Using Firebase in your Flutter Apps | Setting up everything</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在你的Flutter应用中使用Firebase |设置一切</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/using-firebase-in-your-flutter-apps-setting-up-everything-ec61b2dba8fa?source=collection_archive---------30-----------------------#2021-06-17">https://medium.com/geekculture/using-firebase-in-your-flutter-apps-setting-up-everything-ec61b2dba8fa?source=collection_archive---------30-----------------------#2021-06-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ed45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你的flutter应用中集成firebase的指南</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/594b60c2ac73f2f65a2c4e18554b749e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*syfC2FXh0AAxmdJbdzq--g.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Credits: Myself</figcaption></figure><p id="0ab6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一系列文章中，我将帮助您将firebase集成到您的flutter应用程序中，使其可以投入生产。</p><p id="dc99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一部分，我们将设置新的flutter项目，并将其连接到firebase项目，为android和iOS设置一切。</p><h2 id="2fc3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">添加依赖项</h2><p id="7ebe" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">让我们从将firebase依赖项添加到pubspec.yaml文件开始。向下滚动到依赖项部分。</p><p id="c875" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong>:将这些添加到“依赖项”部分，而不是“开发依赖项”。在此了解不同之处。</p><pre class="je jf jg jh fd kt ku kv kw aw kx bi"><span id="24a4" class="jt ju hi ku b fi ky kz l la lb">firebase_core: "^1.2.1"<br/>firebase_analytics: "^8.1.1"</span></pre><p id="6e30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个依赖项是核心firebase依赖项，我也包括了分析依赖项，因为如果您计划将此应用程序发布到应用程序商店，使用分析非常重要。这不仅给出了一些关于你的用户群的漂亮的图表，还提供了你的用户如何使用你的应用的信息。</p><p id="8b7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">啊！此外，添加crashylitics依赖，帮助您找到并修复应用程序中的错误。</p><pre class="je jf jg jh fd kt ku kv kw aw kx bi"><span id="5cd2" class="jt ju hi ku b fi ky kz l la lb">firebase_crashlytics: "^2.0.5"</span></pre><p id="0080" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您已经添加了firebase依赖项，我们需要在项目中同步这些依赖项。</p><ul class=""><li id="df9c" class="lc ld hi ih b ii ij im in iq le iu lf iy lg jc lh li lj lk bi translated">使用vs代码中的终端执行“flutter pub get”。</li><li id="d8f2" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated">如果您安装了dart扩展，请打开命令调色板(Command/Ctrl + shift + p)并搜索“Dart: Get Packages”。</li></ul><p id="4a72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这两者做同样的事情，你可以选择任何你觉得舒服的。</p><h2 id="713e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">设置Firebase项目</h2><p id="823d" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">现在，让我们来看看后端。登录到您的firebase控制台，创建一个全新的项目。</p><p id="1828" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们在您的项目中创建新的iOS应用程序。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/f11fe7ece909d4e47ccd2eafa5dc53c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CQalwGMBP-18iP9mxsmssg.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Creating an iOS app in firebase</figcaption></figure><p id="8c0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你需要确保选择一个有意义的名称作为包名，因为这不是你以后可以轻易更改的，尤其是如果你已经将你的应用程序部署到商店。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/72e380d6bdbb9896b3a5f9f2a3dd9ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmUhqe5W2AdTIaBTh1RFLQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Downloading the plist file</figcaption></figure><p id="1b9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，下载plist文件并保存在一个需要时可以找到的地方。</p><p id="e4e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，在firebase项目中创建一个android应用程序引用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/4478a27a9256356395e22e0237262b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRs9CN8hf_OmOgogx9ngAQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Android app setup</figcaption></figure><p id="5d58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果你想使用firebase提供的谷歌认证电话认证。您需要将SHA-1证书添加到您的控制台。</p><p id="7896" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">阅读官方文档在这里创建它</p><p id="4615" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获取调试应用程序时可能要使用的调试证书。你可以看看我写的一篇文章:</p><div class="lt lu ez fb lv lw"><a href="https://www.370codes.com/flutter/2021/06/17/debug-certificates-in-flutter.html" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">在一个Flutter项目中获得Android调试证书</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">这是一个关于获取调试证书的简短指南，你可能需要它来设置你的android应用程序…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">www.370codes.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk jn lw"/></div></div></a></div><p id="04e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获得证书后，只需将其粘贴到控制台，然后单击继续。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/07b7bf5c80a3ff8276e263813139a14e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kwYAqubKuFH2kV6Lsapbxw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">GoogleServices.json</figcaption></figure><p id="b95e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下载google-services.json并把它放在一个容易找到的地方，我们在路上会用到它。</p></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><h2 id="dd8c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">在Xcode中设置iOS项目</h2><p id="c4ff" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">首先在xcode中打开您的项目/ios。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mt"><img src="../Images/5e630ccf7be2dfbabc1c4e8362225cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ka1gEKJo53rAY2FrWaAVNQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Flutter app in Xcode</figcaption></figure><p id="a275" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你打开它，xcode处理项目。在文件面板中选择Runner，您应该会看到类似这样的内容</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/84bfd100f2c8ecdbb97116bf8de27e4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RfDxNHSE32oMVu_xHfTUXQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Here you can change your bundle id in Xcode</figcaption></figure><p id="221b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确保您使用的捆绑包id与您在firebase控制台中使用的相同，并为您的应用程序添加名称。</p><p id="4634" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后将GoogleServices-Info.plist文件添加到应用程序的Runner文件夹中:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/5e8f802e56e0a8583eb947a951bf9c57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KGq1PMIlkKygfoswZA9wYg.png"/></div></div></figure><p id="f691" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是iOS应用程序，现在您可以从Xcode或flutter run在iOS模拟器或物理设备上成功构建和运行您的应用程序。</p></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><h2 id="4dac" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">设置Android应用程序</h2><p id="c9ac" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">与iOS设置不同，这有点复杂。首先，将您之前下载的google-services.json添加到android/app文件夹中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/c3c540f52e82ac1efae93af6ebbdf6b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRqyy9TSpttmVz4UCjtcSA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">google-service.json</figcaption></figure><p id="7eeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在导航到位于android/build.gradle的项目级build.gradle文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/9b093057e80599ae8d6c5f7a2ba19340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nJjSKe6oORP2CjpAjgPunw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Project level build.gradle</figcaption></figure><p id="e635" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并将以下依赖项添加到文件的依赖项部分:</p><pre class="je jf jg jh fd kt ku kv kw aw kx bi"><span id="ffe5" class="jt ju hi ku b fi ky kz l la lb">classpath 'com.google.gms:google-services:4.3.5'<br/>classpath 'com.google.firebase:firebase-crashlytics-gradle:2.5.1'</span></pre><p id="da56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后导航到位于“android/app/build.gradle”中的应用级build.gradle文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/d065d5c7e05a3302c8738e560675c57c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*32C7v8QoViVbk3WhAlXKMQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">app-level build.gradle</figcaption></figure><p id="c54c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将这些插件添加到android标签上方的部分:</p><pre class="je jf jg jh fd kt ku kv kw aw kx bi"><span id="77f7" class="jt ju hi ku b fi ky kz l la lb">apply plugin: 'com.google.gms.google-services'</span><span id="e43e" class="jt ju hi ku b fi mz kz l la lb">apply plugin: 'com.google.firebase.crashlytics'</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/e089231123b89f43d1a3aa99221c7f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EhctAmndz3vWOEt4bHN0eQ.png"/></div></div></figure><p id="5b08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查您的应用程序包名称是否与您在firebase控制台中使用的名称匹配，并添加</p><pre class="je jf jg jh fd kt ku kv kw aw kx bi"><span id="a361" class="jt ju hi ku b fi ky kz l la lb">multiDexEnabled true</span></pre><p id="92a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到默认配置部分。</p><p id="a4fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解更多关于multi-dex的信息，以及加入它的重要性:</p><p id="6097" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae nb" href="https://developer.android.com/studio/build/multidex" rel="noopener ugc nofollow" target="_blank">https://developer.android.com/studio/build/multidex</a></p><p id="9baf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在向下滚动到依赖项部分，添加下面的依赖项以完成设置。</p><pre class="je jf jg jh fd kt ku kv kw aw kx bi"><span id="0289" class="jt ju hi ku b fi ky kz l la lb">implementation 'com.android.support:multidex:1.0.3'</span></pre><p id="3a44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是你所做的一切，现在你可以在android模拟器或物理设备上构建和运行你的应用。</p></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><p id="2319" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果这没有帮到你，有一本很好的书叫做<a class="ae nb" href="https://amzn.to/361fADU" rel="noopener ugc nofollow" target="_blank">的</a>，作者是<a class="ae nb" href="https://www.amazon.in/s/ref=dp_byline_sr_book_1?ie=UTF8&amp;field-author=Frank+Zammetti&amp;search-alias=stripbooks" rel="noopener ugc nofollow" target="_blank">弗兰克·扎梅蒂</a>。</p><div class="lt lu ez fb lv lw"><a href="https://www.amazon.in/gp/offer-listing/1484249712/ref=as_li_tl?ie=UTF8&amp;camp=3638&amp;creative=24630&amp;creativeASIN=1484249712&amp;linkCode=am2&amp;tag=370codes-21&amp;linkId=688b09138eb1694137f5286831544229" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">实用技巧:使用Google最新的开源SDK改进您的移动开发</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">探索Flutter能提供什么，它从何而来，将走向何方。移动开发正以一种…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">www .亚马逊. in</p></div></div><div class="mf l"><div class="nc l mh mi mj mf mk jn lw"/></div></div></a></div><p id="d165" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这个指南能帮助你在应用中设置firebase。如果是的话，不要忘记鼓掌或<a class="ae nb" href="https://www.patreon.com/kamaravichow" rel="noopener ugc nofollow" target="_blank">支持我的工作</a> k。如果你面临任何问题或发现本指南中的错误，请在下面随意评论。</p></div></div>    
</body>
</html>