<html>
<head>
<title>Phase II: New Enemy — Mine-Layer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第二阶段:新的敌人——布雷者</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/phase-ii-new-enemy-mine-layer-3acf75b5b94d?source=collection_archive---------60-----------------------#2021-06-29">https://medium.com/geekculture/phase-ii-new-enemy-mine-layer-3acf75b5b94d?source=collection_archive---------60-----------------------#2021-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="61d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在今天的文章中，我回顾了我是如何添加一个新的敌人，一个布雷者。</p><p id="2a99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标:让一个敌人从一边到另一边穿过屏幕，并在玩家的区域内放下地雷。如果玩家与它们相撞，它们会爆炸并伤害玩家。</p><p id="ca11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我们的布雷器的样子。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/a0eaf5760b0ba3356f6038984c4a3674.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*PB4hFLV9YMYso8kHokmrcg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Mine-Layer</figcaption></figure><p id="3377" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将让地雷层从屏幕的左侧或右侧随机开始，并让它从1到4.5的位置开始，给它一些变化。我通过创建一个从<strong class="ih hj"> Start() </strong>方法调用的<strong class="ih hj"> SetStartPosition()，</strong>来实现这一点。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jp"><img src="../Images/55faa200f2a9dc452634eb91eaea1870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SdCBHpfE3hAg7Gu_VddbIw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">SetStartPosition() method</figcaption></figure><p id="921c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，该方法设置敌人的y位置。然后我为<strong class="ih hj"> <em class="ju"> _randomInt </em> </strong>生成一个值，该值将给出0或1。如果值为0，我从屏幕左侧开始对敌。否则，我从屏幕右侧开始对敌。</p><p id="5d0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我重写了<strong class="ih hj"> CalculateMovement() </strong>方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jv"><img src="../Images/efcabc5bd60f915d65dd8aea71822cc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vW1EyB8gIf58HNOnA0nQRg.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">Override CalculateMovement() method</figcaption></figure><p id="5a0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我刚刚为地雷创建了一个新的预置，并把它放在地雷层的<strong class="ih hj">敌人激光</strong>预置的地方。这样一来，它投放地雷的速度与发射激光的速度相同。</p><p id="bbc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于地雷，我创建了一个名为MineBehaviour的脚本，它控制地雷移动的距离，它们与玩家的碰撞，以及特定时间后的自毁。</p><p id="0c83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用以下变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/48ad48703ac270934a56e2f7828059bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*orkwjwcqAP67_1GK29z8FA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Variables for mine.</figcaption></figure><p id="c02c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> Start() </strong>方法中，我设置了矿井的目的点。这是矿井将停止的y位置。它在0和-5之间随机化。我也把地雷的速度设定的很体面。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jx"><img src="../Images/86d319e48ed74cb514262eafc381f4ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCmXf-Xu40mFCJ58ht55ZA.png"/></div></div></figure><p id="f278" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了控制移动，我创建了一个<strong class="ih hj"> MineMovement() </strong>方法，它包含以下内容。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jy"><img src="../Images/1105527964947aaa6526ce74e8de9bdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8If5-WzOkXJxrktmgTOo_Q.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">MineMovement() method</figcaption></figure><p id="d86b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我首先检查矿井的Y位置是否大于目的地的Y位置。如果是的话，我就搬下来了。当它经过目的地位置时，我将它设置到那个位置，并调用<strong class="ih hj">startselfdastrol()</strong>协程，我将在下面展示它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jz"><img src="../Images/094ad9fba92166917a01d4c450a45d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnRYtjo5QyrDgfMfVxlBoQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">StartSelfDestruct() coroutine</figcaption></figure><p id="560e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这会设置一个介于10到20秒之间的计时器，然后运行下面的<strong class="ih hj"> DestroyMine() </strong>方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ka"><img src="../Images/5996dec5662ad1df5692773c07d7964c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7--GHlpJUZ_JpTDCrV2jg.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">DestroyMine() method</figcaption></figure><p id="6fd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该方法播放爆炸音频，实例化爆炸预设，然后销毁游戏对象。</p><p id="6236" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我使用<strong class="ih hj"> OnTriggerEnter2D() </strong>事件来控制与玩家的碰撞。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kb"><img src="../Images/4608008a74cba6a3525f5bfaa938b39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*owxF_42wlN3lWH0yDM2m1Q.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">OnTriggerEnter2D() event</figcaption></figure><p id="464f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果玩家撞上了地雷，我就呼叫<strong class="ih hj">玩家。对玩家伤害()</strong>法，然后调用雷上的<strong class="ih hj"> DestoyMine() </strong>法。</p><p id="a89f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一些例子。此外，我为矿井使用了一个占位符图形。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kc"><img src="../Images/63e289dd2c0d8853c00b32b09c7bbc07.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/1*V3OOPGLj-RmtTE_UriWkQA.gif"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kd"><img src="../Images/878c90b0c86d6e86d76dd0351662cc1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*LeTEnUoN-cw-Mg8KI-dR7g.gif"/></div></figure><p id="276f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果地雷层可以释放足够多的地雷，这可以让玩家在躲避其他敌人和他们的激光时移动起来有点困难。</p><p id="5235" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你对这篇文章感兴趣，下次再见，我祝你在编码之旅中一切顺利。</p></div></div>    
</body>
</html>