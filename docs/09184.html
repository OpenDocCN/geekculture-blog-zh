<html>
<head>
<title>Using Three.js to create a Crystal Clear Wine Glass</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Three.js创建一个晶莹剔透的酒杯</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/using-three-js-to-create-a-crystal-clear-wine-glass-e2e2d1f64c6?source=collection_archive---------7-----------------------#2021-11-30">https://medium.com/geekculture/using-three-js-to-create-a-crystal-clear-wine-glass-e2e2d1f64c6?source=collection_archive---------7-----------------------#2021-11-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7d9a3a4a8ae12c1be159cc84079526bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pNn3otRLKPuLmnzB3V23Ug.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Isn’t this beautiful?</figcaption></figure><p id="8748" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是一个相当简单简短的教程，教你如何在Three.js场景中创建一个晶莹剔透的酒杯。在下一篇文章中，我可能会使用不同的玻璃对象，并展示如何使用玻璃渲染不同的反射和折射效果。</p><h1 id="086c" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">创造酒杯的几何形状</h1><p id="0110" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">首先，在场景渲染之前，我们需要一个酒杯的几何图形或网格。你可以在Sketchfab.com上找到一些免费的酒杯模型，或者走更刺激的路线:自己制作一个！</p><p id="f278" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">好吧，伙计们，老实说，我不是一个3D平面设计师；我对3D图形软件几乎一无所知。但是为了我的目标，我决定学一点搅拌机。</p><p id="9075" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本文中，我按照YouTube教程中的<a class="ae kv" href="https://www.youtube.com/watch?v=HfCDAIIR2Gc" rel="noopener ugc nofollow" target="_blank">创建了酒杯的模型。然而，Blender不是Microsoft Paint，它是一个相当复杂和强大的3D图形软件。因此，我强烈建议你先从youtube或在线自学平台学习Blender的基础知识，然后再进入我上面粘贴的youtube Blender教程链接。</a></p><p id="2e59" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我将跳过如何在blender中创建酒杯的细节，因为youtube教程已经详细解释了这些步骤。但是，如果你想要的只是一个酒杯的纯几何形状，你不必给你的对象一个玻璃材质或者给搅拌机场景添加任何照明。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/b29029e5f1a7aadc25ea22f9c0466d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l7PLYaCBMosdgIJHFh-KaA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">You just need to have the single wine glass object in your Blender</figcaption></figure><p id="226f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在将您的酒杯从Blender导出为GLTF(glb)之前，还有两个重要注意事项:</p><ol class=""><li id="013f" class="lb lc hi iw b ix iy jb jc jf ld jj le jn lf jr lg lh li lj bi translated">记得在你的酒杯对象的“对象上下文菜单”中选择<strong class="iw hj">“阴影平滑”</strong>选项。该选项允许使用插值顶点法线平滑渲染和显示面。如果未选择此选项，Three.js中的导入GLTF模型可能会有像素化反射，因为顶点之间没有发生插值反射。</li><li id="32f4" class="lb lc hi iw b ix lk jb ll jf lm jj ln jn lo jr lg lh li lj bi translated">记得在导出之前，在Blender中将你的<strong class="iw hj">【细分曲面修改器】</strong>应用到你的酒杯对象上。如果你忘了这样做，出口的GLTF酒杯将仍然是低聚和尖的物体。</li></ol><h1 id="8ed1" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">Three.js代码</h1><p id="d9c4" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">我已经将这个演示的Three.js代码放到了我的github库中。我不会详细介绍如何加载GLTF模型和HDR等矩形背景图像。在本文中了解更多关于如何加载GLTF模型<a class="ae kv" href="https://threejs.org/manual/#en/load-gltf" rel="noopener ugc nofollow" target="_blank">的信息。对于HDR的东西和其他相关设置，你可以阅读</a><a class="ae kv" rel="noopener" href="/geekculture/understanding-the-three-js-transmission-example-13e952a8ab55">我以前的文章</a>来了解更多，因为这个例子与<a class="ae kv" href="https://threejs.org/examples/?q=trans#webgl_materials_physical_transmission" rel="noopener ugc nofollow" target="_blank">官方的Three.js传输例子</a>非常相似。</p><p id="8d26" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这次我设置了<code class="du lp lq lr ls b">scene.environment = hdrEquirect</code>，而不是像文档中所说的<a class="ae kv" href="https://threejs.org/docs/index.html?q=scene#api/en/scenes/Scene.environment" rel="noopener ugc nofollow" target="_blank">那样在<code class="du lp lq lr ls b">MeshPhysicalMaterial</code>上设置<code class="du lp lq lr ls b">envMap</code>属性:</a></p><blockquote class="lt lu lv"><p id="937f" class="iu iv lw iw b ix iy iz ja jb jc jd je lx jg jh ji ly jk jl jm lz jo jp jq jr hb bi translated">如果不为空，该纹理将被设置为场景中所有物理材质的环境贴图。</p></blockquote><p id="55d8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，<code class="du lp lq lr ls b">transmission</code>属性需要设置为1以获得透明的玻璃效果。当<code class="du lp lq lr ls b">transmission</code>不为零时，<code class="du lp lq lr ls b">opacity</code>应设置为1。<code class="du lp lq lr ls b">ior</code>和<code class="du lp lq lr ls b">thickness</code>属性模拟光线穿过透明材料时的真实折射。在这个例子中，这些参数几乎没有影响，因为我们的玻璃应该是薄的。</p><p id="c1e6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在项目的根目录下运行<code class="du lp lq lr ls b">npm run start</code>会在Chrome中打开一个标签，向你展示这种晶莹剔透的美！</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4d63a711338a72532306f2ea5a53a4aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4kcgR6-Zy1semhdnSTKy3w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Clear reflections and see-through glass effect</figcaption></figure><p id="62a4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个简短的教程到此结束。希望你也能学到新的东西！</p></div></div>    
</body>
</html>