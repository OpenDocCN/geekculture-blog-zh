<html>
<head>
<title>GPIO Programming on the Raspberry Pi: Python Libraries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Raspberry Pi: Python库上的GPIO编程</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/gpio-programming-on-the-raspberry-pi-python-libraries-e12af7e0a812?source=collection_archive---------2-----------------------#2021-08-30">https://medium.com/geekculture/gpio-programming-on-the-raspberry-pi-python-libraries-e12af7e0a812?source=collection_archive---------2-----------------------#2021-08-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/22f37519536d3420d1c86d23147e3df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TfLws5yydClgxYkJF_PHBA.png"/></div></div></figure><p id="106a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Raspberry Pi是单板计算机，现在有四个版本和一个极简的零版本。它是不同项目的流行选择，因为它的体积小，功耗低，处理速度快，并且是一台完全基于Linux的计算机。</p><p id="4c2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你想连接几个微控制器时，有几种协议:I2C、SIP和UART。在我的前两篇文章中，我解释了这些协议，并展示了使用Arduino和Raspberry Pi的C++库的例子。</p><p id="6698" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文现在展示了使用Raspberry Pi的通用GPIO库。这些库是Wiring Pi、Pigpio、Gpiozero、Rpi.GPIO。每个库都有一个描述、其主要特性、一个Python代码示例和一个C语言代码示例(如果该库支持的话)。我假设您对GPIO编程有一个大致的了解，因此不会在示例中详细描述每个源代码行。</p><p id="9714" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">本文原载于【admantium.com】<a class="ae jp" href="https://admantium.com/blog/micro08_raspberry_pi_gpio_programming/" rel="noopener ugc nofollow" target="_blank"><em class="jo">我的博客</em> </a>。</em></p><h1 id="7c2b" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">接线端子</h1><p id="2126" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">WiringPi库是一个常用的、功能丰富的库，支持I2C和SPI连接。它是用C写的，提供Python绑定。不幸的是，正如最初的作者所说的那样，这个库已经被废弃了。自己决定是否要使用这个库:一方面，你在网上找到几个例子，另一方面，Raspberry Pi社区的成员开始转移到新的库。</p><p id="5cdb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些库的最新版本可以在Github上获得:参见<a class="ae jp" href="https://github.com/WiringPi/WiringPi" rel="noopener ugc nofollow" target="_blank"> WiringPi C </a>和<a class="ae jp" href="https://github.com/WiringPi/WiringPi-Python" rel="noopener ugc nofollow" target="_blank"> WiringPi Python </a>。</p><h1 id="f1d8" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">C</h1><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="73c4" class="lc jr hi ky b fi ld le l lf lg">#include &lt;stdlib.h&gt;<br/>#include &lt;stdbool.h&gt;<br/>#include &lt;wiringPi.h&gt;</span><span id="269c" class="lc jr hi ky b fi lh le l lf lg">#define LED_PIN 6</span><span id="7d98" class="lc jr hi ky b fi lh le l lf lg">int main()<br/>{<br/>  pinMode(LED_PIN, OUTPUT);<br/>  while (true)<br/>  {<br/>    delay(1000);<br/>    digitalWrite(LED_PIN, 0);<br/>    delay(1050);<br/>    digitalWrite(LED_PIN, 1);<br/>  }<br/>}</span></pre><h1 id="c438" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">计算机编程语言</h1><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="3065" class="lc jr hi ky b fi ld le l lf lg">import wiringpi<br/>import time</span><span id="a06a" class="lc jr hi ky b fi lh le l lf lg">ledPin = 6</span><span id="d73c" class="lc jr hi ky b fi lh le l lf lg">wiringpi.wiringPiSetup()<br/>wiringpi.pinMode(ledPin,1)</span><span id="4c10" class="lc jr hi ky b fi lh le l lf lg">while(True):<br/>    wiringpi.digitalWrite(ledPin, 1)<br/>    time.sleep(1)<br/>    wiringpi.digitalWrite(ledPin, 0)<br/>    time.sleep(1)</span></pre><h1 id="9857" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">皮格皮奥</h1><p id="1367" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated"><a class="ae jp" href="http://abyz.me.uk/rpi/pigpio/" rel="noopener ugc nofollow" target="_blank"> pigpio </a>是一个积极开发的库，具有一系列令人印象深刻的功能:Raspberry Pi的所有gpio引脚都可以读取、写入、连接到中断处理程序，同时输出PWM信号。此外，还实现了UART、I2C和SPI协议。它是用C写的，也提供Python绑定。去<a class="ae jp" href="https://github.com/joan2937/pigpio" rel="noopener ugc nofollow" target="_blank">官方Github库</a>在你的Raspberry Pi上构建最新版本，或者用<code class="du li lj lk ky b">apt install pigpio python-pigpio python3-pigpio</code>安装。</p><h1 id="35d4" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">C</h1><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="61f0" class="lc jr hi ky b fi ld le l lf lg">#include &lt;stdlib.h&gt;<br/>#include &lt;stdbool.h&gt;<br/>#include &lt;pigpio.h&gt;</span><span id="741b" class="lc jr hi ky b fi lh le l lf lg">#define LED_PIN 6</span><span id="1cee" class="lc jr hi ky b fi lh le l lf lg">int main()<br/>{<br/>  gpioInitialise()<br/>  gpioSetMode(LED_PIN, PI_OUTPUT);<br/>  while (true)<br/>  {<br/>    gpioDelay(100000);<br/>    gpioWrite(LED_PIN, 1);<br/>    gpioDelay(100000);<br/>    gpioWrite(LED_PIN, 0);<br/>  }<br/>}</span></pre><h1 id="9af0" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">计算机编程语言</h1><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="ce1c" class="lc jr hi ky b fi ld le l lf lg">import pigpio<br/>import time</span><span id="1558" class="lc jr hi ky b fi lh le l lf lg">ledPin = 6<br/>pi = pigpio.pi()</span><span id="4c6d" class="lc jr hi ky b fi lh le l lf lg">pi.set_mode(ledPin, pigpio.OUTPUT)</span><span id="920e" class="lc jr hi ky b fi lh le l lf lg">while (True):<br/> pi.write(ledPin, True)<br/> time.sleep(1)<br/> pi.write(ledPin, False)<br/> time.sleep(1)</span></pre><h1 id="dd6f" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">Gpiozero</h1><p id="e978" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">由Raspberry Foundation官方支持，<a class="ae jp" href="https://gpiozero.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> gpiozero </a>是一个Python专用库，它不仅可以访问GPIO引脚，还可以为执行器和传感器的工作提供直接的硬件支持。对于连接其他设备，仅支持SPI—<a class="ae jp" href="https://bennuttall.com/whats-new-gpio-zero-v1-4/" rel="noopener ugc nofollow" target="_blank">I2C已宣布</a>，但尚未包括在内。</p><p id="d13b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Gpiozero已经安装在当前的Raspberry Pi操作系统中——如果没有，只需运行<code class="du li lj lk ky b">python3 -m pip gpiozero</code>。源代码文件可以在<a class="ae jp" href="https://github.com/gpiozero/gpiozero" rel="noopener ugc nofollow" target="_blank"> Github </a>上访问。关于<a class="ae jp" href="https://gpiozero.readthedocs.io/en/stable/installing.html" rel="noopener ugc nofollow" target="_blank"> readthedocs.io </a>的官方文档提供了丰富的信息和大量示例代码。</p><h1 id="1024" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">计算机编程语言</h1><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="c044" class="lc jr hi ky b fi ld le l lf lg">from gpiozero import LED<br/>from time import sleep</span><span id="8d34" class="lc jr hi ky b fi lh le l lf lg">led = LED("6")</span><span id="8596" class="lc jr hi ky b fi lh le l lf lg">while True:<br/>  led.on()<br/>  sleep(1)<br/>  led.off()<br/>  sleep(1)</span></pre><h1 id="b4ff" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">Rpi。GPIO</h1><p id="6dec" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated"><a class="ae jp" href="https://pypi.org/project/RPi.GPIO/" rel="noopener ugc nofollow" target="_blank"> RPI。GPIO </a>库是另一个只支持Python的库。它提供了与GPIO引脚的基本交互，但是还没有实现任何连接协议。项目python文件可以从<a class="ae jp" href="https://pypi.org/project/RPi.GPIO/" rel="noopener ugc nofollow" target="_blank">Pypi.org</a>下载，项目主页托管在<a class="ae jp" href="https://sourceforge.net/p/raspberry-gpio-python/tickets/190/" rel="noopener ugc nofollow" target="_blank">scourforge</a>上。</p><h1 id="59ea" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">计算机编程语言</h1><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="6bd3" class="lc jr hi ky b fi ld le l lf lg">import RPi.GPIO as GPIO<br/>import time</span><span id="db9f" class="lc jr hi ky b fi lh le l lf lg">ledPin= 21<br/>GPIO.setmode(GPIO.BCM)<br/>GPIO.setup(ledPin , GPIO.OUT)<br/>while True:<br/>  GPIO.output(ledPin , GPIO.HIGH)<br/>  time.sleep(1)<br/>  GPIO.output(ledPin , GPIO.LOW)<br/>  time.sleep(1)</span></pre><h1 id="1207" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="f46c" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">本文介绍了四个Raspberry Pi GPIO编程库:WiringPI、Pi GPIO、Gpiozero、RPI.GPIO。对于每个库，我都解释了其主要特性，链接到它们的主页和/或源代码库，并给出了一个简短的C和/或Python源代码示例。</p></div></div>    
</body>
</html>