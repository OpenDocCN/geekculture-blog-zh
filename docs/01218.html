<html>
<head>
<title>Upload files to Google Drive with C#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用C#将文件上传到Google Drive</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/upload-files-to-google-drive-with-c-c32d5c8a7abc?source=collection_archive---------0-----------------------#2021-04-02">https://medium.com/geekculture/upload-files-to-google-drive-with-c-c32d5c8a7abc?source=collection_archive---------0-----------------------#2021-04-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1a717f31710bd1c5ae6e513df13e9dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eN2g6uDv1O_b5ma2dP8iUA.png"/></div></div></figure><p id="bfa0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本指南中，我们将逐步解释如何使用C #编程语言制作一个使用Google Drive API上传、删除和列出文件的控制台应用程序。如果您想在web应用程序中使用这些示例，可以很容易地扩展它们。</p><h1 id="8336" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">1.生成访问令牌。</h1><p id="8dfc" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">首先，我们需要创建一些新的凭证。在谷歌云平台上必须有一个账户和一个项目。导航到<a class="ae kr" href="https://console.cloud.google.com/apis/credentials" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/apis/credentials</a>，选择您的项目并点击<strong class="is hj">创建凭证</strong>。确保它属于类型<strong class="is hj"> OAuth客户端ID </strong>。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es ks"><img src="../Images/44869c2c3925c71c7c15b4900f4418dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*YVxzsQNSAz8-x0wlDAeOFg.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx"><a class="ae kr" href="https://console.cloud.google.com/apis/credentials" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/apis/credentials</a></figcaption></figure><p id="fd83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们选择<strong class="is hj"> Web应用程序</strong>并包含<a class="ae kr" href="https://developers.google.com/oauthplayground" rel="noopener ugc nofollow" target="_blank">https://developers.google.com/oauthplayground</a>作为授权地址。然后按下<strong class="is hj">创建</strong>按钮。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/7c98cce5a0116ffa060947f17852733e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*0D2wRkM7nqYVUb7G4PXH2g.png"/></div></figure><p id="63e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建完成后，保存<strong class="is hj">客户端ID </strong>和<strong class="is hj">客户端密码</strong>。我们保存这些值以备后用，这很重要。</p><p id="bd0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们已经拥有了生成访问令牌所需的一切。推荐你用<a class="ae kr" href="https://developers.google.com/oauthplayground" rel="noopener ugc nofollow" target="_blank"> OAuth 2.0游乐场</a>。</p><p id="f31a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">👉<a class="ae kr" href="https://developers.google.com/oauthplayground/" rel="noopener ugc nofollow" target="_blank">https://developers.google.com/oauthplayground</a></p><p id="38bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您使用此工具，请在右上角查找设置图标，并选择以下选项:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/abca89000940fb8180526f78d359bc17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*_ntHaHV5SZqfB1otbDKgNA.png"/></div></figure><p id="cdb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后选择<strong class="is hj">步骤1 </strong>，点击<strong class="is hj">授权API</strong>。在这里，我们使用我们的Google帐户进行身份验证，并使用我们之前请求的权限确认访问。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/5ee390955475ef14bcc5abb2a3f2e185.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*mkd2X5fyGfjUFqYtMub2Tw.png"/></div></figure><p id="52e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，在<strong class="is hj">步骤2 </strong>中，我们单击<strong class="is hj">将授权码兑换为令牌</strong>按钮。就这样，我们将从我们的应用程序中获得连接Google Drive所需的访问令牌。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es le"><img src="../Images/ac11e00128c3a6aebc3770e0b553d5a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*YGKAoZSwHVNmZdbz2xdrKw.png"/></div></figure><h1 id="5066" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">2.准备项目。</h1><p id="f9fd" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">创建一个新的C#控制台应用程序项目，并安装<strong class="is hj"> Google。API . drive . v3</strong>库。</p><pre class="kt ku kv kw fd lf lg lh li aw lj bi"><span id="93f7" class="lk jp hi lg b fi ll lm l ln lo">$ Install-Package Google.Apis.Drive.v3<br/>or<br/>$ dotnet add package Google.Apis.Drive.v3</span></pre><h1 id="f0ee" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">3.初始化驱动服务。</h1><p id="cdd7" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">是时候使用我们在前面的步骤中获得的访问令牌、客户端ID和客户端密码了。</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><h1 id="c6f3" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">4.创建文件夹。</h1><p id="a998" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">有了<em class="lr"> DriveService </em>，我们可以轻松地与Google Drive API进行交互。让我们看一个如何创建文件夹的例子。</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><h1 id="c7d1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">5.上传文件。</h1><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><h1 id="7c02" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">6.删除文件。</h1><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><h1 id="9a58" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">7.列出文件夹中的文件。</h1><p id="832f" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在本例中，我们将列出文件夹中包含的文件，但不包括文件夹。我们可以在第6行看到这个查询。此外，我们可以在响应中请求额外的信息。第7行的例子。</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><h1 id="4eba" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">下一步是什么</h1><p id="68c6" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">有关更多信息和示例，您可以在此处阅读官方文档:</p><p id="eac6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">👉<a class="ae kr" href="https://developers.google.com/drive/api/v3/quickstart/dotnet" rel="noopener ugc nofollow" target="_blank">https://developers . Google . com/drive/API/v3/quick start/dot net</a>。</p><p id="7237" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望这篇关于如何与Google Drive API交互的分步指南对您有所帮助。非常感谢您阅读❤️.这篇文章</p></div></div>    
</body>
</html>