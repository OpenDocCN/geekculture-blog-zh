<html>
<head>
<title>Building Date and Time Zone with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript构建日期和时区</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/building-date-and-time-zone-with-javascript-6b862f279937?source=collection_archive---------4-----------------------#2021-01-28">https://medium.com/geekculture/building-date-and-time-zone-with-javascript-6b862f279937?source=collection_archive---------4-----------------------#2021-01-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/11562b5344289ff90a2804b89f8239dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*fV5i9wYrYRcOfNwlQTs-QA.png"/></div></figure><p id="dd4a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于JS初学者来说，时钟项目是一个标准的项目理念。</p><p id="2d5e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本文中，我将假设您具有HTML、CSS和JavaScript的基础知识——您知道如何将样式表链接到HTML或在<code class="du jk jl jm jn b">&lt;style&gt;</code>标记中应用样式——并且您知道如何将JavaScript文件导入到页面中。</p><h1 id="4505" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">入门指南</h1><p id="f4e7" class="pw-post-body-paragraph im in hi io b ip km ir is it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj hb bi translated">首先，让我们为HTML创建一个导航栏布局:</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="f712" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于样式属性，请查看下面我的GitHub中的styles.css文件，因为必须保持博客简洁，所以将主要涵盖。html和。js零件。</p><p id="f1ac" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">CSS相当简单，很少需要指出链接和汉堡菜单以及日期和时间容器的样式。</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="kv kw l"/></div></figure></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><p id="72a7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">如果有任何问题，请随时联系我:)</strong></p><div class="le lf ez fb lg lh"><a href="https://github.com/Mozes721/DateTimeZone/blob/main/styles.css" rel="noopener  ugc nofollow" target="_blank"><div class="li ab dw"><div class="lj ab lk cl cj ll"><h2 class="bd hj fi z dy lm ea eb ln ed ef hh bi translated">Mozes721/DateTimeZone</h2><div class="lo l"><h3 class="bd b fi z dy lm ea eb ln ed ef dx translated">显示日期时间选择时区的帮助下，响应导航条-mozes 721/日期时区</h3></div><div class="lp l"><p class="bd b fp z dy lm ea eb ln ed ef dx translated">github.com</p></div></div><div class="lq l"><div class="lr l ls lt lu lq lv ik lh"/></div></div></a></div><div class="kr ks kt ku fd ab cb"><figure class="lw ij lx ly lz ma mb paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/7e098c78de7b19bdcd68e9a05eeb4ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*b3G1nn2jwUd_LI-BlL4M9A.png"/></div></figure><figure class="lw ij mg ly lz ma mb paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><img src="../Images/0a11a764119d5676dcf7e79865493f6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*Eq_G23Cjypddk99i2vjqAA.png"/></div></figure></div><p id="112b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">汉堡菜单会在达到一定的屏幕宽度时出现。css它将被定义为<strong class="io hj">@媒体屏幕和(max-width : 768px) </strong>以及其他属性，如日期时间通道框。</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="fdfe" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这应该包括这篇文章中的CSS。</p><p id="cd82" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">参考消息</strong><code class="du jk jl jm jn b"><strong class="io hj">translate()</strong></code><a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/CSS" rel="noopener ugc nofollow" target="_blank">CSS</a><a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Functions" rel="noopener ugc nofollow" target="_blank">函数</a>在水平和/或垂直方向重新定位元素。它的结果是一个<code class="du jk jl jm jn b"><a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function" rel="noopener ugc nofollow" target="_blank">&lt;transform-function&gt;</a></code>数据类型。</p><p id="6e19" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在JavaScript中，我们将向主导航添加一个类<em class="mi"> show </em>，它将负责链接的滑动，以及旋转线条。</p><h1 id="0b1d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">Javascript汉堡菜单:</h1><pre class="kr ks kt ku fd mj jn mk ml aw mm bi"><span id="0b32" class="mn jp hi jn b fi mo mp l mq mr">var ul = document.getElementById("nav_links");<br/>var navElements = document.querySelectorAll('a');  </span><span id="98b7" class="mn jp hi jn b fi ms mp l mq mr">const navSlide = () =&gt; {    </span><span id="74b0" class="mn jp hi jn b fi ms mp l mq mr">     const burger = document.querySelector('.burger');    <br/>     const nav = document.querySelector('.nav-links'); </span><span id="9870" class="mn jp hi jn b fi ms mp l mq mr">     burger.addEventListener('click', () =&gt; {        <br/>           nav.classList.toggle('nav-active');         <br/>           nav.classList.toggle('nav-ease-in');     <br/>});} </span><span id="3b6e" class="mn jp hi jn b fi ms mp l mq mr">navSlide();</span></pre><p id="5829" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里的JavaScript代码简洁明了——首先我们获得包含导航条中所有元素的nav-links类，然后使用<strong class="io hj"> querySelectorAll获得所有“a”标签。</strong></p><p id="11ad" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在定义的navSlide arrow函数中，我们得到了burger和navlinks，并使burger具有一个切换导航条的add事件监听器。</p><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es mt"><img src="../Images/8587a9575aa40cdccfa72a23392fd65c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*pXNeseC7nOWmxf-pQQTB2g.png"/></div></figure></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="8cd0" class="jo jp hi bd jq jr mu jt ju jv mv jx jy jz mw kb kc kd mx kf kg kh my kj kk kl bi translated">日期和时钟设置</h1><p id="3cc9" class="pw-post-body-paragraph im in hi io b ip km ir is it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj hb bi translated">现在让我们开始这个项目的主要部分设置时间，并能够改变时区。系好你的安全带，因为现在JS全力以赴！</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="mz kw l"/></div></figure><p id="9e6e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们从停止的地方继续开始。html并以JS结尾。</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="615a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">HTML非常简单，所有内容都将在section标签中设置，时间和日期将存储在相应的id标签中。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="765f" class="jo jp hi bd jq jr mu jt ju jv mv jx jy jz mw kb kc kd mx kf kg kh my kj kk kl bi translated"><strong class="ak">获取当前日期和导航元素点击事件</strong></h1><p id="232a" class="pw-post-body-paragraph im in hi io b ip km ir is it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj hb bi translated">这个JS部分将分为两个部分，首先接收日期(因为它不会根据时区而改变),然后添加click事件以随着时间值的改变而改变innerHTML文本。</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="kv kw l"/></div></figure><h1 id="c38a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">日期和点击事件监听器</h1><p id="9839" class="pw-post-body-paragraph im in hi io b ip km ir is it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj hb bi translated">下一步是获取当前日期，这是使用JavaScript函数date()在当前年、月、日中获得的。在Date()函数中的数组值中设置了一周中的月份和日期，因此我们必须创建自己的数组，其中包含一周中的所有月份和日期。</p><pre class="kr ks kt ku fd mj jn mk ml aw mm bi"><span id="01f1" class="mn jp hi jn b fi mo mp l mq mr">var today = new Date();<br/>var day = weekday[today.getDay()];<br/>var today_date = month[today.getMonth()] + ' ' + today.getDate() +  ' ' + today.getFullYear();</span></pre><p id="60b6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，我们设置了一个新的Date()对象，并通过遍历相应的数组使用它来检索日和月的值。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><p id="8841" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于关于所有列表a标签的点击事件，我们使用forEach()方法，它将为导航列表项中的每个元素调用一次函数。每个项目都有其特定的事件侦听器，也分配了索引，该索引将有一个switch语句，并有一个被调用的新函数来启动值更改以及相应时区的innerHTML文本更改。</p><p id="face" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> <em class="mi">注</em> </strong></p><p id="1b4b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="mi">开关声明</em></p><ul class=""><li id="a967" class="na nb hi io b ip iq it iu ix nc jb nd jf ne jj nf ng nh ni bi translated">开关表达式计算一次。</li><li id="5401" class="na nb hi io b ip nj it nk ix nl jb nm jf nn jj nf ng nh ni bi translated">表达式的值与每种情况下的值进行比较。</li><li id="5369" class="na nb hi io b ip nj it nk ix nl jb nm jf nn jj nf ng nh ni bi translated">如果匹配，则执行相关的代码块。</li><li id="f919" class="na nb hi io b ip nj it nk ix nl jb nm jf nn jj nf ng nh ni bi translated">如果不匹配，则执行默认代码块。</li></ul><h1 id="dd62" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">准备时间</h1><p id="02a7" class="pw-post-body-paragraph im in hi io b ip km ir is it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj hb bi translated">对于时间设置，我们使用getHours()根据时区创建Date()对象和setHours。不会调整getMinutes()和getSeconds()，只会调整hours方法。</p><figure class="kr ks kt ku fd ij"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="f58c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建两个函数，一个从开始运行，另一个根据在导航条中选择的时间而改变。</p><p id="e14e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">utc_time将有一个setInterval方法，因此该函数将每1秒调用一次，变量time interval = setInterval(utc _ time，1000)；</p><p id="ceaf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">setInterval表达式是以毫秒为单位调用的，这就是为什么在函数在参数中传递后，传递1000。</p><p id="9781" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">传递if语句，以便如果值小于10，则在分、秒开始时传递0，因为该方法提供单个索引。关于时间，如果getHours()方法大于或小于11，则附加基于PM和AM的时间，以显示中午之前和中午之后(PM，AM)。最后获取“时间”id，并使用innerHTML返回当前时间的内容。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><p id="1896" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了使它实时运行，我们创建了两个函数StopLocalClock()和StartLocalClock()，这样我们就可以在时间之间切换，因为如果我们不通过clearInterval停止setInterval，它将会一直运行，同时再次设置Interval，以切换回它。</p><h1 id="b01f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="83a1" class="pw-post-body-paragraph im in hi io b ip km ir is it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj hb bi translated">这就对了。希望你学到了很多，但不是这些，这是一个陷阱！</p><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es no"><img src="../Images/d10e7603993a9054b5b253663ddf549c.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*kYbanW5jgpUCHBhUL8LnOA.jpeg"/></div></figure><p id="bd82" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">除了时间改变函数gettime(value_change)之外，一切都很好，当我改变它时，我不能实时运行，因为两个函数的setIntervals发生冲突，并同时使用两个值重新呈现页面。所以这个任务是不言自明的，我很乐意接受任何关于如何解决它的反馈。</p><blockquote class="np nq nr"><p id="ac55" class="im in mi io b ip iq ir is it iu iv iw ns iy iz ja nt jc jd je nu jg jh ji jj hb bi translated">C <!-- --> lue <code class="du jk jl jm jn b">then</code>或<code class="du jk jl jm jn b">await</code> JavaScript的<code class="du jk jl jm jn b">setTimeout</code>似乎是解决手头问题的最佳方法，包括<code class="du jk jl jm jn b">Promise</code>对象。</p></blockquote><p id="1688" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">作为一个JS新手，我肯定迟早会回到这个项目来完成这项工作。作为一个个体，有许多知识应该被吸收和理解，以进一步发展自己。学习是一个持续的过程，我们都应该张开双臂拥抱它。</p><p id="3103" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我希望你喜欢我的帖子，我将离开项目回购贝娄，并随时打我的问题或解决这个项目的最后一部分。</p><div class="le lf ez fb lg lh"><a href="https://github.com/Mozes721/DateTimeZone" rel="noopener  ugc nofollow" target="_blank"><div class="li ab dw"><div class="lj ab lk cl cj ll"><h2 class="bd hj fi z dy lm ea eb ln ed ef hh bi translated">Mozes721/DateTimeZone</h2><div class="lo l"><h3 class="bd b fi z dy lm ea eb ln ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="lp l"><p class="bd b fp z dy lm ea eb ln ed ef dx translated">github.com</p></div></div><div class="lq l"><div class="nv l ls lt lu lq lv ik lh"/></div></div></a></div></div></div>    
</body>
</html>