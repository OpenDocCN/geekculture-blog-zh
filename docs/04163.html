<html>
<head>
<title>Graphql And Http Request in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter中的Graphql和Http请求</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/graphql-http-request-in-flutter-efd634d63d32?source=collection_archive---------18-----------------------#2021-06-22">https://medium.com/geekculture/graphql-http-request-in-flutter-efd634d63d32?source=collection_archive---------18-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/cb296df3884de7d4c5e79a2b0fe53f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tExxKiIb3ldwDTOaYXGzVw.png"/></div></div></figure><p id="0468" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嘿，flutter开发者们，你们都知道如何在flutter中处理http请求以将app连接到服务器端。但是10个 flutter开发者中只有<strong class="is hj"> 5个了解graphql，知道如何在flutter中处理graphql api。因此，本文通过给出如何处理类似http请求的graphql的简单提示，将对他们有所帮助。</strong></p><p id="6636" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将根据子主题讲述http request(rest)和graphql，这样您就可以看到http request和graphql之间的共同点，从而能够在flutter中进一步使用graphql。</p><blockquote class="jo jp jq"><p id="e093" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">简介</strong></p></blockquote><p id="a63e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">在http(REST) </strong>中，资源的形状和大小由服务器决定。<strong class="is hj">在GraphQL中，</strong>服务器声明哪些资源可用，客户端询问当时需要什么。</p><blockquote class="jo jp jq"><p id="aff5" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">开发工具</strong></p></blockquote><p id="d962" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于http: <a class="ae jv" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank">邮递员</a> <br/>对于graphql: <a class="ae jv" href="https://www.electronjs.org/apps/graphql-playground" rel="noopener ugc nofollow" target="_blank"> Graphql游乐场</a>，<a class="ae jv" href="https://hasura.io/" rel="noopener ugc nofollow" target="_blank">哈苏拉</a></p><blockquote class="jo jp jq"><p id="45b3" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">套餐</strong></p></blockquote><p id="771b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于http: <a class="ae jv" href="https://pub.dev/packages/http" rel="noopener ugc nofollow" target="_blank"> http </a> <br/>对于graph QL:<a class="ae jv" href="https://pub.dev/packages/graphql_flutter" rel="noopener ugc nofollow" target="_blank">graph QL _ flutter</a></p><blockquote class="jo jp jq"><p id="181d" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">我们如何向服务器发送数据，或者我们用什么来发送数据</strong></p></blockquote><p id="05a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于http:我们主要使用GET &amp; POST <br/>对于graphql:我们使用查询和变异</p><p id="807b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">http中的<strong class="is hj"> Get </strong>和graphql中的<strong class="is hj"> Query </strong>作用相同(用于从服务器/api获取数据)<br/>http中的<strong class="is hj"> Post </strong>和graphql中的<strong class="is hj">变异</strong>作用相同(用于向服务器/api发送数据)</p><blockquote class="jo jp jq"><p id="0c76" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">获取和查询(从服务器获取数据)</strong></p></blockquote><p id="c6a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在http中像这样使用Get:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="9a05" class="kf kg hi kb b fi kh ki l kj kk">http.get(uri,headers)</span></pre><p id="8cab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在graphql中使用查询，比如:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="a29a" class="kf kg hi kb b fi kh ki l kj kk">r'''query query_name(parameters){<br/>...<br/>}'''</span></pre><blockquote class="jo jp jq"><p id="7891" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">添加标题/令牌</strong></p></blockquote><p id="0b54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在http:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="e826" class="kf kg hi kb b fi kh ki l kj kk">http.get/post(headers:&lt;token&gt;);</span></pre><p id="3b86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Graphql中:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="72d2" class="kf kg hi kb b fi kh ki l kj kk"><strong class="kb hj">final</strong> AuthLink authLink = AuthLink(<br/>    getToken: () <strong class="kb hj">async</strong> =&gt; 'Bearer &lt;YOUR_PERSONAL_ACCESS_TOKEN&gt;'<br/>  );<br/><br/><strong class="kb hj">final</strong> Link link = authLink.concat(&lt;url&gt;);</span></pre><blockquote class="jo jp jq"><p id="9990" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">发布和突变(向服务器发送数据)</strong></p></blockquote><p id="bed8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在http中使用Post，比如:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="8ea4" class="kf kg hi kb b fi kh ki l kj kk">http.post(uri,headers,body)</span></pre><p id="2efe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在graphql中使用突变，比如:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="69ca" class="kf kg hi kb b fi kh ki l kj kk">r'''mutation mutation_name(parameters){<br/>...<br/>}'''</span></pre><blockquote class="jo jp jq"><p id="71b9" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">发送数据的类型或我们发送数据的方式</strong></p></blockquote><p id="2340" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在http.post()中:</p><p id="d7c3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们以地图的形式发送数据，比如:</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="0838" class="kf kg hi kb b fi kh ki l kj kk">body:{<br/>  "keys":"values",<br/>  "keys2":"values2",<br/>}</span></pre><p id="7ce8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在突变(graphql): <br/>它接受documentnode。所以对于这个，</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="3952" class="kf kg hi kb b fi kh ki l kj kk">String body=r'''<br/>mutation mutation_name(parameters){<br/>action:...<br/>}''';</span><span id="bc45" class="kf kg hi kb b fi kl ki l kj kk">documnent:gql(body)//gql converts string to documentnode<br/>variables:{<br/>  "parameters_key":"value"<br/>}</span></pre><blockquote class="jo jp jq"><p id="6b88" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">缓存</strong></p></blockquote><p id="8edf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在http中:我们使用http缓存<br/>在graphql中:我们使用graphql缓存</p><blockquote class="jo jp jq"><p id="d53c" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">来自api的结果</strong></p></blockquote><p id="1e36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在http中:我们使用graphql中的<em class="jr">json . decode(response)<br/></em>对JSON格式的结果(response)进行解码:我们将结果存储为<em class="jr"> Queryresult </em></p><blockquote class="jo jp jq"><p id="fa36" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">向服务器发送文件</strong></p></blockquote><p id="f5a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在http:我们使用MultipartRequest <br/> <em class="jr">你可以在这里了解这个</em><a class="ae jv" href="https://lakshydeep-14.medium.com/multipartrequest-in-http-for-sending-images-videos-via-post-request-in-flutter-e689a46471ab" rel="noopener"><em class="jr"/></a><em class="jr"><br/></em>在graphql:我们使用MultipartFile</p><p id="8476" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些都是在flutter中设置graphql概念的常见而简单的方法。这些都只是在我们的概念中设置graphql的技巧。稍后我会写一篇关于flutter中的graphql以及如何在flutter中使用graphql的文章。但是现在，请接受这里的<a class="ae jv" href="https://zino-app.github.io/graphql-flutter/packages/graphql/#graphql-upload" rel="noopener ugc nofollow" target="_blank">的帮助。</a></p><p id="d80c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">欲了解更多信息，请购买书籍"<strong class="is hj">让自己成为软件开发人员:让我们深入了解Flutter &amp; MNCs </strong> " <a class="ae jv" href="https://www.amazon.com/dp/B09NNXNT6X/ref=sr_1_1?keywords=make+yourself+the+software&amp;qid=1639582180&amp;sr=8-1" rel="noopener ugc nofollow" target="_blank">购买</a>。</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="55b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望这对你有帮助。<br/>继续编码，继续前进:)<br/>谢谢</p></div></div>    
</body>
</html>