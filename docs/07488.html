<html>
<head>
<title>Customer Segmentation Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">客户细分项目</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/customer-segmentation-project-116c47d7a4df?source=collection_archive---------3-----------------------#2021-09-20">https://medium.com/geekculture/customer-segmentation-project-116c47d7a4df?source=collection_archive---------3-----------------------#2021-09-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/29d75025f7fd1f29f25db485c482c99a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8B_ZIe4Uak9yy5oJ9EATMQ.png"/></div></div></figure><h1 id="e113" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">简介</strong></h1><p id="cb73" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">作为我在Udacity的<a class="ae km" href="https://www.udacity.com/course/data-scientist-nanodegree--nd025" rel="noopener ugc nofollow" target="_blank">数据科学家纳米学位</a>项目的最后一个项目的一部分，我选择解决<strong class="jq hj">贝塔斯曼/阿瓦托项目。</strong></p><p id="bd3c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这个项目背后的想法是处理Arvato的数据科学小组必须处理的现实生活中的问题:寻找新客户。</p><p id="7f6c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这个项目的主要目的是找出目前是顾客的人和不是顾客的人之间的相似之处。然后，使用这些信息来寻找潜在的新客户群(目前不是客户但与客户有高度相似性的人)。</p><p id="db3e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">该项目分为三个部分:</p><ul class=""><li id="18e4" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">第一部分:数据分析和数据清理</li><li id="11ef" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">第二部分:客户细分</li><li id="a7fc" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">第三部分:监督学习模型</li></ul><h1 id="c6e8" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">目标</h1><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/3dea3593d1f844d25b03060bd2b70e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rPnjNUBTT5CIf-OtCGIDTA.png"/></div></div></figure><p id="62e6" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">该项目主要分为两个目标:</p><p id="431c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi ll translated"><span class="l lm ln lo bm lp lq lr ls lt di"> T </span>该项目的第一个目标是分析德国一家邮购销售公司客户的人口统计数据，并将其与一般人群的人口统计信息进行比较。目的是在两个群体中找到相似的特征，在一般人群中为营销活动寻找好的候选人。</p><p id="0ef7" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi ll translated">第二个目标是开发一个机器学习模型，该模型可以使用每个人的人口统计信息将新样本分类为营销活动的好候选或坏候选。</p><h1 id="8a95" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">第一部分:数据分析</h1><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/584a0c13c637bd27623622ca687d9ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*41Ni7f33W0B_e7qf"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx">Photo by <a class="ae km" href="https://unsplash.com/@dawson2406?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stephen Dawson</a> on <a class="ae km" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e452" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">任何数据科学项目的第一步</strong>都是分析将要使用的数据。</p><p id="f6fa" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于本项目，<strong class="jq hj">四个</strong>数据集具有以下特征:</p><ol class=""><li id="4b02" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl lz ky kz la bi translated"><strong class="jq hj"> azdias </strong>:德国一般人口的人口统计数据。891211人(行)x 366个特征(列)。</li><li id="027f" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated"><strong class="jq hj">客户</strong>:一家邮购公司客户的人口统计数据。191652人(行)x 369特征(列)。</li><li id="d8c0" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated">mailout_train :作为营销活动目标的个人的人口统计数据。42982人(行)x 367人(列)。</li><li id="0495" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated">作为营销活动目标的个人的人口统计数据。42833人(行)x 366人(列)。</li></ol><p id="4a1a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">还使用了两个包含数据信息的excel文件。</p><ol class=""><li id="e512" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl lz ky kz la bi translated"><strong class="jq hj"> DIAS信息级别-属性2017: </strong>关于数据集中存在的特征的信息。</li><li id="fed3" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated"><strong class="jq hj">DIAS Attributes-Values 2017:</strong>关于值的信息以及它们在数据集的每个要素中所代表的内容。</li></ol><p id="7499" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">因为除了excel文件之外，很少提供关于数据的背景信息，所以它们将非常用于指导使用哪些功能。</p><p id="fa69" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">数据探索</strong></p><p id="c61e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">加载完数据集后，就该研究所提供的数据了。</p><p id="b700" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">提出的意见是:</p><ul class=""><li id="cd41" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">数据集中没有重复的样本。</li><li id="b786" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">数据包含需要注意的空值。</li><li id="a03b" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">数据集中的列比包含元数据的excel文件中的列多。因此，只使用了excel中的列，因为我们不知道excel文件中不存在的列代表什么。<strong class="jq hj">之所以采取这种极端的措施，是因为没有其他方法来识别缺失的列是什么</strong>。</li><li id="7be0" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">excel文件中的某些列在数据集中不存在，已被删除。</li><li id="9bdc" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">被删除的列主要是事务性数据</li></ul><p id="3ca4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在第一个过程之后，大约有100根柱子被移除。</p><h2 id="d1fb" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">数据清理</h2><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/7974b62bcb5f64f92906a56abcca595d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZET9tgi7dMigcbsX"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx">Photo by <a class="ae km" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a> on <a class="ae km" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5ee4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在此步骤中，将处理之前检测到的空值。</p><p id="066d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">正如在数据探索中看到的，有许多列具有空值，有些列具有大量的空值。使用的方法是从数据集中移除空样本。</p><p id="2d9e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">因为没有一列的空值超过30%，所以我没有删除任何列(除了在探索步骤中已经删除的那些)。</p><h1 id="c768" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">第二部分:客户细分</h1><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/7350ef8557a64e93b137a036b05e0cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OgfpqFmN7-6ALrfTJ8JQsA.jpeg"/></div></div></figure><p id="a741" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi ll translated"><span class="l lm ln lo bm lp lq lr ls lt di">完成数据分析和清理后，就该找出阿兹迪亚斯数据集中的德国人口中哪些人与客户数据集中的人具有相似的特征了。</span></p><p id="685e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">为了计算不同人之间的相似性，使用了无监督算法<strong class="jq hj"> K-means </strong>。</p><h2 id="0f63" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">k-均值算法</h2><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/61e760d8efec2ab72b1a6a6daf6cde90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*xxVqYlA5Gy8A_3Me76C9Ow.png"/></div></div></figure><p id="ddf4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">K-means算法通过尝试将样本分成等方差的<em class="mr"> k </em>组来对数据进行聚类，从而最大限度地降低被称为<em class="mr">惯性</em>或类内平方和的标准。</p><p id="714a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">K-means算法应用于每组要素(这些组在excel文件中)，具有最大比例数据分布的聚类(来自azdias和customers数据集)被选为良好的聚类，用于查找两个数据集之间的相似特征。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/78362f45b75a81be1785edf7d04c4f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*niYr2pF486DAwmkf_klJ3w.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx">Example of result obtained: cluster 9 is a good cluster while clusters 0 and 5 are bad ones.</figcaption></figure><p id="9e73" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这些功能组是:</p><ul class=""><li id="82af" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">人</li><li id="72d2" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">家庭</li><li id="c42a" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">建筑物</li><li id="a877" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">微蜂窝(RR4_ID)</li><li id="d05c" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">微蜂窝(RR3 ID)</li><li id="1834" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">邮政编码</li><li id="303e" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">RR1_ID</li><li id="081a" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">PLZ8</li><li id="b3f6" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">社区</li></ul><p id="6067" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">然后，绘制该组中包含的所有特征的箱线图，以查看好的聚类与坏的聚类有何不同。</p><h2 id="aca3" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">结果</h2><p id="c19f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在所有小组都完成这一程序后，我得出了成为客户的良好候选人的以下特征:</p><p id="25f4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">德国人口中与客户样本最相似的部分倾向于:</p><ul class=""><li id="355d" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">多做被动老人或者文化老人；</li><li id="5662" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">年龄在46岁以上；</li><li id="6420" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">有很高的经济利益；</li><li id="eba7" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">成为非常省钱的人；</li><li id="ddb4" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">来自多人家庭；</li><li id="930b" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">来自多代同堂的家庭；</li><li id="e635" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">有高收入；</li><li id="8c0d" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">他们年轻时的主导运动是经济奇迹或牛奶吧/个性化；</li><li id="35da" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">非常虔诚；</li><li id="9504" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">不要太肉欲；</li><li id="7b4a" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">要非常理性；</li><li id="c02f" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">更有责任感和传统意识；</li><li id="011a" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">更传统一点。</li><li id="25a8" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有更加美食化、多样化的消费类型；</li><li id="f733" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在过去12个月和24个月中交易活动非常少；</li><li id="39d0" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有2499ccm以上的汽车份额较高；</li><li id="9014" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">女性车主的比例较低；</li><li id="2e79" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在顶级德国制造商(奔驰、宝马)中占有较高份额；</li><li id="6383" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有较低份额的小型汽车(参考全县平均水平)；</li><li id="6f7e" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有更高的高档车份额(参考县平均水平)；</li><li id="d050" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">发动机功率小于59千瓦的汽车比例较低；</li><li id="966e" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有119千瓦以上发动机功率的汽车份额较高；</li><li id="26c8" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">作为微蜂窝中最常见的汽车制造商:顶级德国或大众奥迪；</li><li id="abda" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有更高份额的高级轿车(在AZ特定定义中)；</li><li id="3ec6" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在微蜂窝中有更大尺寸的发动机；</li><li id="cc97" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">小型和超小型汽车(福特嘉年华、福特Ka等)的份额较低。)在微蜂窝中；</li><li id="884e" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在中高档车和高级车(BMW5er、BMW7er等)中占有较高份额。);</li><li id="6314" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">拥有更高份额的高级轿车(宝马7er等。)在微蜂窝中；</li><li id="73d7" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在微蜂窝中拥有更高的跑车和敞篷车份额；</li></ul><p id="c8c0" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">有了这些信息，协调<strong class="jq hj">营销</strong>活动的团队可以<strong class="jq hj">缩小</strong>他们打算发送广告的人群，<strong class="jq hj">优化结果</strong>和<strong class="jq hj">降低成本</strong>。</p><h1 id="f07a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">第三部分:监督学习模型</h1><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/b78566ecac1d87ecf854ad533b236ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-R5reY7JNTh8wOFZ8Jepw.jpeg"/></div></div></figure><p id="a751" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于这最后一部分，提供了一个新的数据集，其中包含一个标签列，表明该人在营销活动后是否成为了客户。这个新的数据集是高度不平衡的，42430个样本属于没有响应活动的那一类人，532个样本属于响应了活动的那一类人。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es mu"><img src="../Images/8a1bda1af092ff6656973ff0f3cec51b.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*2XxX7YBTyiML_xssRZNTxQ.png"/></div><figcaption class="lv lw et er es lx ly bd b be z dx">Class distribuition</figcaption></figure><h2 id="12be" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">韵律学</h2><p id="d1d2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">需要指出的是，由于属于每个类别的样本数量的不平衡，使用模型的准确性作为衡量标准来评估其性能并不是一个好主意。</p><p id="d055" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这是因为，例如，如果模型预测所有样本都属于具有大多数样本的类(在本例中为类0)，则模型的准确性将为98.7%，这是一个非常好的值。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/e0891dd1c907bf73063a0bbeb6fad686.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xSdeBLh6M8eun14j.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx">Formula to calculate the accuracy of the model</figcaption></figure><p id="fd43" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这种高精度并不意味着模型表现良好，因为他遗漏了属于第1类的所有样本的预测。为了评估这个项目的模型，ROC AUC分数将被用作一个性能指标，因为它使用假阳性率和真阳性率，最适合于不平衡数据的问题。</p><p id="4901" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">该模型的开发过程如下:</p><ol class=""><li id="fe4b" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl lz ky kz la bi translated"><strong class="jq hj">数据集的分析。</strong>使用所有特征并仅使用在客户聚类部分中找到的选定特征的训练和测试。逻辑回归分类器将用于确定哪一个是最好的。分层K-Fold交叉验证算法也将用于尝试处理不平衡数据。</li><li id="28b4" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated"><strong class="jq hj">取样再分配技术。</strong>重采样技术(随机欠采样和随机过采样)将用于处理不平衡数据。将使用重新采样的数据再次训练和测试相同的分类器，并将结果与先前获得的结果进行比较。</li><li id="4482" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated"><strong class="jq hj">最佳模式的定义。</strong>将使用几个机器学习模型来寻找提供最佳结果的模型。</li><li id="8e1b" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl lz ky kz la bi translated"><strong class="jq hj">超参数调谐。</strong>最佳模型的超参数将被调整，以找到优化结果的组合。</li></ol><h2 id="928c" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">数据集分析结果</h2><p id="409d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">比较使用两个数据集获得的ROC AUC评分，很明显使用所有可用的特征比仅使用选择的特征更好。这可能是因为排除列时会丢失大量信息。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es mw"><img src="../Images/8ababcac23431876876e8dcb24958ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*aBdPLkBBeGUwZtIRPIpvww.png"/></div><figcaption class="lv lw et er es lx ly bd b be z dx">Dataset comparison result</figcaption></figure><h2 id="db42" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated"><strong class="ak">采样再分配结果</strong></h2><p id="59a3" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">使用随机欠采样和随机过采样算法的组合，逻辑回归获得0.69的平均ROC AUC分数。将此结果与上一步获得的结果进行比较，可以看出使用重采样技术改善了整体结果。从现在开始，重新采样的数据集将用于进一步的分析。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es mx"><img src="../Images/d648d31dd85c7f6b3a69180d7ab0110c.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*rjn2jGJEdy4dd4lvC3Ohig.png"/></div><figcaption class="lv lw et er es lx ly bd b be z dx">Results comparison</figcaption></figure><h2 id="8956" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated"><strong class="ak">最佳模型的定义</strong></h2><p id="de65" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">模型开发部分的下一步是找到最佳的工作模型。有许多可能的模型可供选择，在此分析中，只有少数几个经过测试，以了解哪一个表现更好。测试的模型有:</p><ul class=""><li id="cce4" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">多层感知器(Scikit-learn)</li><li id="190b" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">逻辑回归</li><li id="fa7e" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">k-最近邻</li><li id="3747" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">adaboost算法</li></ul><p id="a87a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于项目的这一部分，上面的所有模型都是使用默认参数初始化的。我使用重复分层KFold方法对每个模型进行交叉验证。</p><p id="b796" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">用于评估每个模型的数据是应用了重采样技术的数据。保存每次折叠获得的结果，并通过计算每次折叠分数的平均值获得每个模型的总分数。</p><p id="279c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">每个模型获得的结果如下表所示。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es my"><img src="../Images/1fa0a77c3802d252c28091bc07bdc137.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*WPy99gcJNzMADeU5HRz-aQ.png"/></div></figure><p id="d8ed" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">从表中可以看出，性能最佳的模型是K-最近邻模型，这将是下一步使用的模型。</p><h2 id="6978" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated"><strong class="ak">超参数调谐</strong></h2><p id="dc0f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">模型开发部分的最后一步是找到所选模型的最佳超参数。为此，将使用贝叶斯搜索算法来查找模型超参数的最佳值。</p><p id="de2c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于该器件，调整的参数为:</p><ul class=""><li id="396b" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">n_neighbors:邻居的数量(取值范围从3到21)</li><li id="77a2" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">权重:预测中使用的权重函数(测试了均匀性和距离)</li><li id="9db4" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">leaf_size:传递给BallTree或KDTree的叶大小(取值范围从20到100)</li><li id="03a2" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">p:闵可夫斯基度量的幂参数(值范围从2到20)</li></ul><p id="74e9" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">超参数的最佳值为:</p><pre class="lh li lj lk fd mz na nb nc aw nd bi"><span id="6f6e" class="ma ir hi na b fi ne nf l ng nh">leaf_size = 20, n_neighbors = 3, weights = 'distance'</span></pre><h2 id="009f" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">模型评估和验证</h2><p id="3c0a" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">使用新参数，使用与之前相同的交叉验证再次评估该模型，现在获得0.951的auc。</p><p id="b771" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">计算得到的所有分数的标准差，结果表明模型是稳定的，各折的结果相差不大。</p><pre class="lh li lj lk fd mz na nb nc aw nd bi"><span id="00ff" class="ma ir hi na b fi ne nf l ng nh">Scores standard deviation = 0.007875</span></pre><p id="7e6e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在计算出最佳超参数后，使用可用数据训练模型，然后使用pickle库保存。现在，该模型已准备好用于预测新数据。</p><h1 id="abfb" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">结论</strong></h1><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ni"><img src="../Images/fe3b572379cc570ab4949596e08d6525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q_Tw7faUyEllHIty"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx">Photo by <a class="ae km" href="https://unsplash.com/@teapowered?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Patrick Robert Doyle</a> on <a class="ae km" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="452e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">这个项目做起来非常有趣！</strong></p><p id="49c2" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这是一个在一家公司的客户获取部门开发的<strong class="jq hj">现实项目</strong>的例子。所有的评论都是我的真实想法，所采取的步骤和分析与我在这家公司工作时所采取的相似。</p><p id="9a33" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在这个项目的<strong class="jq hj">客户细分</strong>部分，检测到几个<strong class="jq hj">特征</strong>，可以帮助<strong class="jq hj">缩小</strong>可能的<strong class="jq hj">新客户</strong>和<strong class="jq hj">优化</strong>营销活动，<strong class="jq hj">降低成本</strong>同时<strong class="jq hj">提高</strong>整体结果<strong class="jq hj">。</strong></p><p id="729d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在<strong class="jq hj">有监督的机器学习模型</strong>部分，在处理一些现实生活中的问题如<strong class="jq hj">缺失数据</strong>和<strong class="jq hj">不平衡的类分布</strong>时开发了一个模型。进行了几次分析以改进最终结果，如<strong class="jq hj">找到最佳数据集</strong>，测试<strong class="jq hj">重采样技术</strong>和<strong class="jq hj">不同的机器学习模型</strong>和<strong class="jq hj">优化</strong>最终模型<strong class="jq hj">超参数</strong>以达到最佳结果。</p><p id="a8e0" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这部分可以做一些<strong class="jq hj">改进</strong>:<strong class="jq hj">可以测试不同的机器学习模型</strong>以查看不同的模型是否执行得更好，并且<strong class="jq hj">可以使用其他更简单的模型开发定制的模型</strong>。此外，可以测试<strong class="jq hj">特征选择和维度缩减</strong>技术(如PCA ),看看它们是否也能对结果产生积极影响。这些只是一些可以用来观察结果是否会改善的测试。</p><h2 id="ce47" class="ma ir hi bd is mb mc md iw me mf mg ja jz mh mi je kd mj mk ji kh ml mm jm mn bi translated">正当理由；辩解</h2><p id="dd4d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在这个项目中找到的解决方案被认为是充分的。</p><p id="bd2a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于项目的<strong class="jq hj">客户细分</strong>部分，在分析的两个数据集之间发现了几个相似的特征，可用于指导营销团队。</p><p id="7458" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于<strong class="jq hj">监管的机器学习模型</strong>部分，测试了几个机器学习模型，分析了不同的数据集，然后调整获得的最佳模型，改善了整体结果。最后，验证步骤表明，该模型能够为大多数测试样本正确分配标签。</p><p id="59b5" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">重要的是<strong class="jq hj">说一个数据科学项目<strong class="jq hj">很少</strong>遵循一条<strong class="jq hj">直线</strong>路径，从开始到结束。<strong class="jq hj">通常</strong>所发生的事情类似于<strong class="jq hj"> PDCA </strong>循环:你制定行动计划(<strong class="jq hj"> Plan </strong>)，你执行计划(<strong class="jq hj"> Do </strong>)，你检查获得的结果并查看可能的改进(<strong class="jq hj"> Check </strong>)，最后，你执行这些改进(<strong class="jq hj"> Act </strong>)。然后，循环继续，直到获得满意的结果。</strong></p></div><div class="ab cl nj nk gp nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hb hc hd he hf"><p id="26aa" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">非常感谢您的阅读！</p><p id="f6f3" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">我希望我能够清楚地展示一个数据科学项目的例子，一步一步地，用所有的分析和思考。</p><p id="9417" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">欢迎任何意见和建议！</p><p id="11f1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">完整的代码可以在我的GitHub页面上找到</p><p id="5a5d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><a class="ae km" href="https://github.com/alerlemos/DataScienceNanoDegree_Udacity" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> GitHub </strong> </a></p><p id="e16f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">请随时通过我的Linkedin页面联系我</p><p id="3576" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><a class="ae km" href="https://www.linkedin.com/in/alexandre-rosseto-lemos/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">领英</strong> </a></p></div></div>    
</body>
</html>