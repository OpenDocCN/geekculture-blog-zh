<html>
<head>
<title>Real business insights by applying CRISP-DM and Text Mining</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过应用CRISP-DM和文本挖掘获得真正的业务洞察力</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/real-business-insights-by-applying-crisp-dm-and-text-mining-1254048c78b4?source=collection_archive---------33-----------------------#2021-07-19">https://medium.com/geekculture/real-business-insights-by-applying-crisp-dm-and-text-mining-1254048c78b4?source=collection_archive---------33-----------------------#2021-07-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="44e7" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">一种基于数据的方法，使用来自SGS智利分公司石油、天然气和化工(OGC)业务线的真实数据</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/531b6172175884fb7f06aaaba3240f76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZpbX4VA8_q1XeT13PihQXg.jpeg"/></div></div></figure><p id="472c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi kf translated">如今，大、中、甚至小的商业公司每秒钟都会产生大量的商业数据，而这些数据大部分时间都被忽视了，因为没有人知道如何处理这些数据。这是一座金矿！！！！！</p><blockquote class="ko kp kq"><p id="4548" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">"我们的目标是将数据转化为信息，将信息转化为洞察力."— <a class="ae kv" href="http://en.wikipedia.org/wiki/Carly_Fiorina" rel="noopener ugc nofollow" target="_blank">卡莉·菲奥莉娜</a>，惠普公司前高管、总裁兼董事长</p></blockquote><p id="93de" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在本帖中，我们将应用<a class="ae kv" href="https://www.datascience-pm.com/crisp-dm-2/" rel="noopener ugc nofollow" target="_blank"> CRISP-DM </a>方法，从<a class="ae kv" href="https://www.sgs.cl/" rel="noopener ugc nofollow" target="_blank"> SGS智利</a>的<em class="kr">维护和维修(M &amp; R) </em>部门所做的工作中提取相关信息，SGS是全球领先的检验、验证、测试和认证公司之一。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kw"><img src="../Images/025f29472049fd11bc5e1514de7b22d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d2AOeQH02yRvoFulO5pODw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Cross Industry Standard Process for Data Mining (<em class="lb">CRISP-DM</em>)</figcaption></figure><p id="a24e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如需分步指南，请查看本项目的GitHub资源库，此处有<a class="ae kv" href="https://github.com/alexrop/crispdm_businesscase_sgs" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="a019" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">1.商业理解</h1><p id="d379" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">SGS智利分公司的<em class="kr">维护&amp;维修(M &amp; R) </em>部门负责对与<em class="kr"> OGC(石油、天然气和化学品)</em>业务线相关的许多服务站(主要是加油站)的不同部件和设备进行维修、调整、安装和测试。</p><p id="7079" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为了确保对活动的适当控制，M&amp;R使用了一个数据库，该数据库收集了由指定技术人员执行的每项工作的详细信息。每个记录对应一个工单(西班牙语为OT—<em class="kr">“órden de Trabajo”</em>)。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/cfaa732fb413231d0fc0f6702a870f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*taoXNNZgu0t5VmtQhTVloA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">The general process of a work order (OT) in M&amp;R</figcaption></figure><p id="7ec1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为了从操作中获得洞察力，我们提出三个问题:</p><blockquote class="ko kp kq"><p id="c87d" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">Q1。M&amp;R收到最多工作订单(OT)的时间段是什么？有峰值吗？有什么模式或趋势吗？</p><p id="14c3" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">Q2。M&amp;R地区处理这些请求需要多长时间？工人花了多少时间来解决问题？</p><p id="572e" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">Q3。最常见的故障类型或需要注意的问题是什么？根据业务，它们是否具有代表性？</p></blockquote><h1 id="042a" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated"><strong class="ak"> 2。数据理解</strong></h1><p id="a7a1" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">让我们来看看数据</p><pre class="iy iz ja jb fd ma mb mc md aw me bi"><span id="8cb2" class="mf ld hi mb b fi mg mh l mi mj">import pandas as pd<br/>df = pd.read_excel("../data/List_Report_Gestion_30082019061320.xls")<br/>schema = pd.read_excel("../data/Data_Schema.xls")</span></pre><p id="ca9d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> df </strong>包含23258行和29列，并且具有发布到M &amp; R区域的每个工单(OT)的细节。另一方面，<strong class="jl hj">模式</strong>数据帧包含每个df列的解释和正确翻译。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/604ec31a426fb4015167f0d0c9b89f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2w0ldjDuPxSFoi34PGqrCA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">df</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/aad2cfdb63e43c66ab74d5b0061ba4ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVZeJNoz3vzHDHk7wcqGRw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">schema</figcaption></figure><p id="bf75" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">由于<strong class="jl hj"> df </strong>中的列名是西班牙语，我们将把它们转换成标准格式以便于使用，例如<em class="kr"> "Ubicación Técnica" </em>将是<em class="kr"> "ubicacion_tecnica" </em>。</p><h2 id="c0e7" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">检查空值和唯一值</h2><pre class="iy iz ja jb fd ma mb mc md aw me bi"><span id="8b66" class="mf ld hi mb b fi mg mh l mi mj"># Nulls values - Proportion<br/>df.isnull().mean()<br/># Unique values<br/>for col in df.columns:<br/>    print(f"{col:20} {len(df[col].unique()):7}")</span></pre><p id="cb17" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们看到<code class="du mz na nb mb b">cod_repuesto, repuesto, cnt, monto, total</code>列完全为空，也只有一个惟一的值。我们认为最好的选择是放弃它们。</p><h2 id="1277" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">分类变量和数值变量</h2><p id="31a2" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">识别分类变量<code class="du mz na nb mb b">df.select_dtypes(include=['object´])</code></p><blockquote class="ko kp kq"><p id="1ccf" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">recepcion_ot '，' hora_recep '，' ot '，' estacion '，' tipo_estacion '，<br/>，' ubicacion_tecnica '，' origen_del_servicio '，' region '，' prioridad_sgs '，<br/>，' prioridad_cliente '，' tecnico_asignado '，' estado_ot '，' condicion '，T10，' tipo_de_falla '，' observacion '，' requerimiento '，' tecnico_cierre '，<br/>' fecha _ arri</p></blockquote><p id="ae21" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">数值变量的相关性</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nc"><img src="../Images/c4b52f0e6159dc0c89b68ab7ea01e5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*TcNE-_Cb7BZ2p6InMlLIWA.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx">sns.heatmap</figcaption></figure><p id="bb8b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有轻微的相关性(0.2 &lt; x &lt;0.5) between the variables <em class="kr"> ltr_93，ltr_95，ltr_97，</em>和<em class="kr"> ltr_k </em>指的是加油站损失的汽油升数(93号气，95号气，97号气，煤油)。我们还看到，变量ltr_d (diesel)与上述任何一项都不相关。另一方面，我们可以看到变量<em class="kr"> tds </em>和<em class="kr"> tdr </em>确实相关，相关度大约为0.8。</p><h2 id="48d9" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">根据业务操作的主要栏目</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/c7bf27ad80403a3b6f43b42e66472173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iOD8vwoyoJxtFNrKleV2Xw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Amount of work orders (OT) per region</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/ede0be77b837d4af0bbea8c1595ffa10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*winH-HGyIBTUgWYgX7H5oQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Amount of work orders (OT) per station — Top 10</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nf"><img src="../Images/fc86088648340efffec8ba1ec2511ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W_Lio-B27d8726ZbFCIohQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Type of failure distribution — Top 10</figcaption></figure><p id="05bf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们可以看到地区<em class="kr">【RM】</em>(智利首都)累积的加班次数最多(+9000)，而服务站<em class="kr">【特佩尔LTDA】</em>最频繁(+900)。</p><p id="a974" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们还注意到，几乎50%的工作订单被归类为“其他”失败类型，如果我们想使用该列提取信息，这是不好的。</p><h1 id="eca3" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">3.数据准备</h1><p id="f0df" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">在上一节中，我们通过重命名列和删除空列做了一些清理和准备工作。然而，如果我们想回答商业问题<em class="kr"> Q1，Q2 </em>和<em class="kr"> Q3 </em>我们需要更进一步。</p><h2 id="3ce9" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">Q1。M &amp; R收到最多工单(OT)的时间段有哪些？有峰值吗？有什么模式或趋势吗？</h2><p id="9bc3" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">我们注意到包含与时间段相关的信息的列是:<strong class="jl hj">'</strong><em class="kr">【recepcion _ ot】、【hora_recep】、【fecha_arribo】、【hora_arribo】、【fecha_cierre】、【hora _ cierre】'</em>。</p><p id="9d72" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在应用笔记本<a class="ae kv" href="https://github.com/alexrop/crispdm_businesscase_sgs" rel="noopener ugc nofollow" target="_blank">这里</a>中描述和解释的多个函数，如<code class="du mz na nb mb b">df_date_time</code>、<code class="du mz na nb mb b">days_interval</code>和<code class="du mz na nb mb b">hours_interval</code>处理这些字段后；我们得到的信息将有助于我们回答Q1。</p><p id="6c0d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><code class="du mz na nb mb b">OT_timeline</code>功能使用从上面生成的输入，并显示下图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ng"><img src="../Images/1695693592d5deddafdae617c39d2913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ikj38k8e_lN3WRpVjcRN4A.jpeg"/></div></div></figure><blockquote class="ko kp kq"><p id="82bb" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated"><strong class="jl hj"> Q1。答案</strong> <br/> <br/> a)从2019年4月开始，工单(OT)开始变得更加频繁。2019年6月是高峰，最低点是2018年9月，部分原因是智利在这个月有国定假日。<br/> <br/> b)月初加班人数略有增加的趋势，因为前10天累计占总数的40%。</p><p id="da20" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">c)周一是M&amp;R收到订单最多的一天(占全周的27%)。d)通常工作订单在早上(中午12点前)收到</p></blockquote><h2 id="2ae4" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">Q2。M&amp;R地区处理这些请求需要多长时间？工人花了多少时间来解决问题？</h2><p id="e944" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">因为我们再次需要时间信息，所以应用了类似的方法。在这种情况下，我们已经从Q1创建了时间间隔变量，如<code class="du mz na nb mb b">time_reception_arrival</code>(收到加班和技术人员到达服务站之间的时间)和<code class="du mz na nb mb b">time_arrival_departure</code>(技术人员到达和完成工作之间的时间)。</p><p id="90a0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在此基础上，我们生成了<code class="du mz na nb mb b">work_time</code>函数，该函数显示了员工的时间接收/到达和时间到达/离开</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nh"><img src="../Images/48a6256f841c6e9ff285a8be681613df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kS-ktMnZe-fk5oLC6TOwlA.jpeg"/></div></div></figure><blockquote class="ko kp kq"><p id="c732" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated"><strong class="jl hj"> Q2。答</strong> <br/> <br/> a) 43%的加班时间不到24小时，55%的加班时间不到2天。另一方面，被取消或从未参加的加班比例为16% <br/> <br/> b) 36%的情况下问题在几分钟内(不到一个小时)得到解决，55%的情况下问题在两个小时内得到解决。当工人登记活动或活动不是由他解决时，时间误差可能指示手动误差，这等于8%</p></blockquote><h2 id="3d42" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">Q3。最常见的故障类型或需要注意的问题是什么？根据业务，它们是否具有代表性？</h2><p id="6584" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">由于几乎50%的故障被标记为“其他”，因此<code class="du mz na nb mb b">tipo_de_falla</code>(故障类型)栏不是很有用。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ni"><img src="../Images/628862ca2f9ba603ed73fc1425b756f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*u07ISSdCRLaWA7kRTuZozA.png"/></div></figure><p id="54c6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">检查df，有两个非结构化的文本列包含每个OT的细节。它们是<strong class="jl hj">“观察”</strong>和<strong class="jl hj">“查询”</strong>。</p><p id="ea7a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为了找到最常见的故障类型，将主要分析<strong class="jl hj">" observicion "</strong>列，因为其平均行长度大于<strong class="jl hj"> "requerimiento" </strong>列，并且因为它是由技术人员在工作结束时编写的，所以它包含已完成工作的更多技术细节。</p><p id="a1bb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">由于在“observacion”列中有一些空值，我们不丢失行的策略是<strong class="jl hj">通过使用“requerimiento”字段中的值输入</strong>这些空值。这个新列将被称为<code class="du mz na nb mb b">text_detail</code></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nj"><img src="../Images/0bf43ffe7531bb15d7987663f2719e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tMFLYzDx3LzK1rpdK4m95A.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">text_detail column</figcaption></figure><h2 id="1e7e" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">首先清理文本</h2><p id="0d51" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">在<a class="ae kv" href="https://github.com/alexrop/crispdm_businesscase_sgs" rel="noopener ugc nofollow" target="_blank">笔记本</a>里可以找到<code class="du mz na nb mb b">word_cleaner</code>函数，基本上返回一个干净的准备处理的句子。该函数将应用于我们新的<code class="du mz na nb mb b">text_detail</code>列，以便准备数据。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nk"><img src="../Images/440d9a2752bdc466769bd6dd983a064c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7EAPDRx7kdk8m35bbqhbw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">word_cleaner function</figcaption></figure><h2 id="1f56" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">面向非结构化文本的主题建模方法</h2><p id="70d5" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">因为很难通过手动检查所有行来获得<code class="du mz na nb mb b">text_detail</code>列中所有非结构化文本的全部知识，所以将使用无监督学习算法。从这个意义上说，主题建模方法看起来非常适合发现隐藏模式(自然语言处理)。</p><p id="0311" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae kv" href="https://towardsdatascience.com/latent-dirichlet-allocation-lda-9d1cd064ffa2" rel="noopener" target="_blank"> LDA </a>(潜在狄利克雷分配)是最流行的主题建模方法之一。每个文档由各种单词组成，每个主题也有属于它的各种单词。LDA的目的是根据文档中的单词找到文档所属的主题。</p><h1 id="5d58" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">4.建模</h1><p id="df19" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">一旦文本被清理和预处理，我们通过使用<a class="ae kv" href="https://radimrehurek.com/gensim/" rel="noopener ugc nofollow" target="_blank"> Gensim </a>库应用LDA算法。关于如何使用这个库和所需参数的更多技术信息，你可以去查看这个<a class="ae kv" rel="noopener" href="/analytics-vidhya/topic-modeling-using-gensim-lda-in-python-48eaa2344920">帖子</a>。</p><p id="539e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为了获得Gensim LDA模型的输入，我们创建了<code class="du mz na nb mb b">text_id2word_corpus</code>函数，其中的停用词是西班牙语中最常见的停用词和一些不需要考虑的业务词。对于标记化和词条化部分，我们使用了<a class="ae kv" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank"> SpaCy </a>库。</p><p id="2a5d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">之后，我们创建一个在多个LDA模型之间执行和迭代的函数。我们需要多个模型，因为我们会比较它们，以找到最好的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nl"><img src="../Images/62b6ef2abb58fe7d21a7e3a36fdea330.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UwQI4Vty1IUHXvorkgzoVw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Function that generates multiple LDA models and their coherence values</figcaption></figure><p id="178f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">给函数输入适当的输入并执行它，我们看到生成20个LDA模型大约需要18分钟。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nm"><img src="../Images/31d7c22a2cc91f95214872242883778c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XU0dA9fj6tnay1Jdk9Z56g.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Execution time for generating the LDA models</figcaption></figure><h1 id="fe77" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">5.估价</h1><p id="4e07" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">在LDA中选择正确数量的K个主题是一项极其重要的任务，因为它基本上定义了最优模型。选择一个很低的K会产生非常宽泛的话题，而选择一个很高的K会产生无法解释的话题。在这种情况下,<strong class="jl hj">主题连贯性</strong>是一种有助于找到最佳k的度量。</p><p id="729d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">关于这个主题连贯性测量的更多信息，查看下面的<a class="ae kv" href="https://ieeexplore.ieee.org/document/8259775" rel="noopener ugc nofollow" target="_blank">论文</a></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nh"><img src="../Images/04c380cdf44c165ba8ce851bfbb75771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X0UMdudhsW-wu9AuJUGTiQ.jpeg"/></div></div></figure><p id="f887" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">根据LDA一致性结果，当主题数量K为4且具有等于<strong class="jl hj"> 0.555 </strong>的<strong class="jl hj">一致性分数</strong>时，最高点被定位。然而，这些主题仍然很宽泛，没有包含足够的关于行动的实际问题的信息。</p><p id="2b86" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">基于此，新的方法是在曲线开始下降之前寻找K的最后一个数字。在这种情况下，我们的最佳模型是当<strong class="jl hj"> K=14 </strong>时，得到的<strong class="jl hj">一致性分数</strong>等于<strong class="jl hj"> 0.502 </strong>，如果我们考虑到我们正在处理的是关于业务运营的简短技术文本，而且它们是西班牙语的，这仍然是很好的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nn"><img src="../Images/08207c7a9b87958cb8f2c59d7dc967aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dwXJG3mTF6M9e2FzGwbpNA.png"/></div></div></figure><p id="61b5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">得益于pyLDAvis图，我们还可以看到，当K=14时，主题分布良好，不会重叠</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es no"><img src="../Images/d9ca6682f0ac973d4827c29cfdaed962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wfd2VXnqQ2q5d2jAqb9jig.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">pyLDAvis</figcaption></figure><h2 id="2712" class="mf ld hi bd le mm mn mo li mp mq mr lm js ms mt lo jw mu mv lq ka mw mx ls my bi translated">主题分配</h2><p id="cf5c" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">通过使用每个主题的15个最常用的词，并借助词云图，我们可以确定每个主题的内容。这一描述也得到了M&amp;R分部经理的支持，他们将技术词汇与业务运作联系起来。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es np"><img src="../Images/e196b346622d0d00bfab406dae92964f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1krP9Zy_pAoVwygEKaD-tg.png"/></div></div></figure><blockquote class="ko kp kq"><p id="6a01" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated"><strong class="jl hj">主题描述(翻译成英语)——有些单词是商务词汇的一部分，因此可能没有合适的翻译</strong></p><p id="454e" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">-主题0:更换加油站的功能部件(气泵、软管、仪表、分离装置、旋转装置等)。)<br/> -议题1:在设备上安装盖子和安全元件<br/> -议题2:预防性维护<br/> -议题3:错误发布的工单和设备小问题<br/> -议题4:调度和客户销售设备<br/> -议题5:紧急事件<br/> -议题6:排放盖和阀门<br/> -议题7:三角座控制台和传感器<br/> -议题8:水、气和柴油箱<br/> -议题9:电气问题(电路板、连接等)。)<br/> -话题10:校准<br/> -话题11:分配器<br/> -话题12 : Isla、电机、供应商<br/> -话题13:过滤器和过滤问题</p></blockquote><p id="ff83" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">通过查看<code class="du mz na nb mb b">text_detail</code>列来寻找每条记录的主要主题，我们可以说M &amp; R中故障和活动类型的新分布如下</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nh"><img src="../Images/ea5b41a308eac18a212c81a5db65017d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S4fshU2l-fTWmSNudP_ing.jpeg"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx">Work order (OT) distribution per Topic</figcaption></figure><blockquote class="ko kp kq"><p id="06ad" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated"><strong class="jl hj"> Q3。答</strong> <br/> <br/> a)最初我们处理了“tipo_de_falla”(故障类型)列，它有66种不同类型的故障和活动。但是，这对公司没有用，因为几乎50%的登记簿都被标为“其他”。因此，第一种分类不具有代表性。基于非结构化文本列，决定使用使用LDA算法的主题模型方法。</p><p id="eb5f" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">b)主题0(替换加油站中的功能组件)集中了M&amp;R分部活动的16.5% (3825个文档)，是主要的推理</p><p id="82f6" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">c)接下来是主题11(分配器)、主题2(预防性维护)和主题12 (Isla、电机、供应商)，分别占12.9%、8.79%和8.54%。</p><p id="0028" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">d)另一方面，最不经常出现的主题是1(在设备上安装盖子和安全元件)和9(电气问题)，分别占文件总数的1.24%和3.16%</p><p id="630c" class="jj jk kr jl b jm jn ij jo jp jq im jr ks jt ju jv kt jx jy jz ku kb kc kd ke hb bi translated">e)与开始时“其他”登记簿代表45%的“故障类型”不同，我们现在有了更适合业务运营的活动分类</p></blockquote><h1 id="ee09" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">6.部署</h1><p id="9733" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">CRISP-DM方法的最后一步是与利益相关者分享见解，或者在这种情况下，与任何想要以简单的方式了解结果的人分享见解。</p><p id="31b5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这种情况下，这篇中型文章有助于以更好的方式解释这个项目的笔记本中描述的概念，你可以在GitHub <a class="ae kv" href="https://github.com/alexrop/crispdm_businesscase_sgs" rel="noopener ugc nofollow" target="_blank">这里</a>找到这些概念。自述文件提供了有关安装和运行的更多信息。</p><h1 id="0da6" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">摘要</h1><p id="c6c4" class="pw-post-body-paragraph jj jk hi jl b jm lu ij jo jp lv im jr js lw ju jv jw lx jy jz ka ly kc kd ke hb bi translated">通过应用CRISP-DM方法，我们能够从M&amp;R业务中提取未知的有用信息。</p><p id="e3ab" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">通过我们的数据分析、可视化和建模，我们回答了关于M&amp;R数据集的三个问题。</p><ol class=""><li id="699b" class="nq nr hi jl b jm jn jp jq js ns jw nt ka nu ke nv nw nx ny bi translated">从2019年4月起，工作订单(OT)开始变得更加频繁。2019年6月为高峰，2018年9月为最低点。月初加班人数稍有增加的趋势。周一是M&amp;R收到订单最多的一天，通常是在上午。</li><li id="120f" class="nq nr hi jl b jm nz jp oa js ob jw oc ka od ke nv nw nx ny bi translated">43%的加班时间不到24小时，55%的加班时间不到2天。另一方面，被取消或从未参加的加班比例为16%。此外，36%的情况下，问题在几分钟内(不到一个小时)得到解决，55%的情况下不到两个小时。</li><li id="0634" class="nq nr hi jl b jm nz jp oa js ob jw oc ka od ke nv nw nx ny bi translated">第一个<em class="kr">“故障类型”</em>分类不具有代表性。因此，主题建模方法被实施，其中发现了14个主题。<strong class="jl hj">主题0 </strong>(加油站功能部件的更换)集中了总活动的16.5% (3825个文档)，是主要的诡辩。接下来依次是<strong class="jl hj">主题11 </strong>(分配器)、<strong class="jl hj">主题2 </strong>(预防性维护)和<strong class="jl hj">主题12 </strong> (Isla、电机、供应商)，分别占12.9%、8.79%和8.54%。另一方面，出现频率最低的主题是<strong class="jl hj">主题1 </strong>(在设备上安装盖子和安全元件)和<strong class="jl hj">主题9 </strong>(电气问题)，分别占文件总数的1.24%和3.16%。</li></ol><p id="6328" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">感谢您的关注！</p></div></div>    
</body>
</html>