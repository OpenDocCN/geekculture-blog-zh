<html>
<head>
<title>What is Nginx?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nginx是什么？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/what-is-nginx-2edfdad3722b?source=collection_archive---------1-----------------------#2021-10-20">https://medium.com/geekculture/what-is-nginx-2edfdad3722b?source=collection_archive---------1-----------------------#2021-10-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/506fabd9e0fbf493a3c4962da251275b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mjG1YdoT7xPcnznN.jpg"/></div></div></figure><p id="1c47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将了解什么是Nginx以及Nginx的重要事实。在这里，我打算向您提供开始使用Nginx的所有基础知识。</p><p id="2ed8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在这里讨论，</p><ul class=""><li id="91e6" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">什么是web服务器？</li><li id="127c" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">Nginx是什么？</li><li id="f429" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">Nginx架构以及为什么要学习、使用Nginx？</li><li id="a042" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">Nginx配置设置</li><li id="6882" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">如何安装Nginx，如何部署成web服务器？</li></ul><h2 id="9b48" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated"><strong class="ak">什么是网络服务器？</strong></h2><p id="087c" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">当你在浏览器的搜索栏上点击www.google.com的T4，几秒钟后你就能看到谷歌主页。但是你知道流程是怎么处理出来给你看页面的吗？</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/e5eeea710e49a3be78da3200f1a1acd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p8wPCfX8IdjxbAMzbtL65w.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">Web Server Request from User Browser</figcaption></figure><p id="8920" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，这个请求是由你局域网中的浏览器发起的，然后这个特定的请求传到全球局域网，到达一台基本上为你的主页服务的计算机。那台特定的计算机会向您发回包含该页面所有内容的响应。响应从全球广域网传到你的局域网，最后，它服务于你的浏览器。为你提供网页的计算机只不过是一台网络服务器。为您请求的网页提供服务的计算机是web服务器。</p><p id="6884" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Web服务器是提供所需网页的计算机。每个web服务器都有一个IP地址和一个域名。</p><p id="2646" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您尝试在浏览器上请求此URL时，<a class="ae lc" rel="noopener" href="/geekculture/zuul-api-gateway-2bcdf4dd33e6"><strong class="is hj">https://medium . com/geek culture/zuul-API-gateway-2 BCD F4 DD 33 e 6</strong></a></p><p id="19a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你一输入这个URL，请求就产生了，并传到你的局域网，这个请求传到一个域名为<strong class="is hj">medium.com</strong>的服务器。现在，web服务器所做的就是获取页面名称为<strong class="is hj">geek culture/zuul-API-gateway-2 BCD F4 DD 33 e 6</strong>的页面，这就是我们想要获取的索引页面。获取之后，它会将响应返回给全局网络和您的局域网。</p><p id="6bb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们来谈谈这个web服务器。当你使用网络服务器时，你需要能使你的计算机成为网络服务器的软件应用程序。任何计算机都可以成为网络服务器。要将您的计算机转换为web服务器，您需要安装服务器软件并将您的计算机连接到互联网，互联网基本上是全球局域网。世界上有各种各样的网络服务器软件。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/df5b36da094371329e3270059ae66589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1P8M9doi0K06-Z7g.jpg"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">Web Server Softwares</figcaption></figure><h2 id="c845" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">Nginx是什么？</h2><p id="e9f1" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">Nginx是<strong class="is hj">开源软件</strong>和用于<strong class="is hj">反向代理缓存和负载均衡</strong>的web服务器。Nginx还提供HTTP服务器功能。它主要是为了获得最佳性能和稳定性而设计的。Nginx提供了像<strong class="is hj"> IMAP、POP3和SMTP </strong>这样的功能作为电子邮件的代理服务器。最后，它使用了<strong class="is hj">非线程</strong>和<strong class="is hj">事件驱动架构</strong>。当你使用Nginx作为你的网络服务器时，你可以确保你的页面加载时间绝对减少和安全。现在你对Nginx和什么是web服务器有了一个基本的概念。</p><h2 id="f38f" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated"><strong class="ak"> Nginx架构以及为什么要学习、使用Nginx？</strong></h2><p id="aaee" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">Nginx通过支持<strong class="is hj">事件驱动、异步和非阻塞模型</strong>来使用<strong class="is hj">主从架构</strong>。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/f0aa47e7b0e19ff9d579d09587674d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0wLZ2aRFhC5rdgSM"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">Nginx Architecture</figcaption></figure><p id="7725" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们知道传统的处理器或线程意味着使用每个处理器线程处理并发连接，并阻塞输入或输出操作。这里，基本上，如果我们有一个进程线程模型，所发生的是线程创建的每个单独的进程都需要。现在，根据应用程序的不同，它在CPU和内存消耗方面的效率可能会非常低。想象一下，你正在实现一个拥有大量网页和每个网页上如此多数据的网站。就CPU和内存消耗而言，它的效率可能非常低。如果我们使用单独的处理器，就需要一个新的运行时环境，分配堆和堆栈内存，还需要新的执行上下文。这将导致性能下降、线程崩溃或上下文切换。</p><p id="e60b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了避免这种复杂性，Nginx采用主从架构。Nginx主要关注在众多操作系统中正在进行的高级基于事件机制的开发。Nginx大量使用事件通知，这导致特定的处理器执行特定的任务。例如，如果我们有10项任务。您可能有10个不同的处理器。正因为如此，处理器运行高效，而被称为<strong class="is hj">worker的单线程处理器数量有限。</strong>在图中，我们有3个工人，对于这3个工人中的每一个，Nginx可以在一秒钟内处理1000个并发连接和请求。Nginx不会为每个连接生成一个进程或线程。工作处理器的基本功能是接受来自共享监听套接字的新请求，执行高效的运行循环，并设置每个工作处理器处理数千个连接。所以每个工人可以处理1000个请求。在Nginx架构中，有一个主处理器和多个工作处理器。还有一些特殊用途的处理器，比如你在图中看到的代理现金。它有一个缓存、一个加载器和一个缓存管理器。</p><p id="c1aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Nginx Master进程:</strong> Master负责读取和验证配置(创建、绑定和穿越套接字)。它还负责启动、终止和维护配置的工作处理器数量。如果您有10个工作处理器，并不要求这10个工作处理器都运行1000个不同的处理器。少数工人可能有较少数量的工人，而其他人可能有更多的处理器在其上工作。主节点还负责在没有任何服务中断的情况下进行重新配置，控制不间断的二进制升级，并重新打开日志文件和编译嵌入式purls脚本。</p><p id="6a6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Nginx的一切都是在配置文件中定义的。</p><p id="9bcd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">缓存加载器:</strong> Cashing Loader负责检查磁盘缓存项，并用缓存元数据填充Nginx内存数据库。Cashing Loader为Nginx实例做好准备，以便处理已经存储在磁盘上的文件，这些文件位于专门分配的目录结构中。它遍历目录，用元数据检查缓存内容，更新共享内存中的相关条目，然后在一切就绪可以使用时存在。</p><p id="9287" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">缓存管理器:</strong>负责缓存到期和失效。在引擎正常运行期间，它保留在内存中，并在出现故障时由主进程重新启动。</p><p id="c0a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">用例:</strong>如果你请求一次页面。过一段时间后，您将再次请求相同的页面。发生的情况是，您想要检索的这个页面不符合请求和接受响应的完整过程。它存储在缓存中，缓存加载器和缓存管理器会查看您正在搜索的页面，并立即发送回缓存的页面。</p><h2 id="e2e9" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated"><strong class="ak">为什么要用Nginx？</strong></h2><ul class=""><li id="95f8" class="jo jp hi is b it kx ix ky jb lo jf lp jj lq jn jt ju jv jw bi translated">易于安装和维护——将Nginx安装到您的本地机器上只需几个步骤，并确保您有一个为您工作的web服务器，而且它非常易于维护，因为您知道您只需键入一个命令就可以重启或停止服务器。你还可以做许多功能。</li><li id="96ad" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">减少用户的等待时间——当你使用Nginx时，你不需要等待很长时间。</li><li id="ac6b" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">提高性能和负载平衡——Nginx提高了性能。如果您有2个或更多的web服务器在运行同一个应用程序，Nginx可以通过将流量路由到这些web服务器来提高性能，您知道这样可以提高整体速度。它还提供负载平衡，所以基本上，负载平衡器是一种设备或服务，它将流量负载分布在两个或更多的web服务器上。它提供了容错能力并提高了性能。</li><li id="8aab" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">可伸缩性—众所周知，像Apache和Internet信息服务(IIS)这样的传统web服务器可以毫无问题地处理传入的请求，直到并发请求的数量达到一定的限制。如果请求增加，性能最终会下降，这是因为这些服务器的设计方式以及服务web请求的模型。在这种情况下，如果您使用Nginx，它可以轻松处理数量不断增加的并发请求。</li><li id="ed15" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">动态升级— Nginx是为数不多的无需停机和中断业务即可修补或升级的系统之一。</li></ul><h2 id="46da" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">Nginx配置设置</h2><p id="c700" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">Nginx的核心设置主要在Nginx配置文件中配置。配置文件基本上被组织成上下文。您主要可以设置两种类型的上下文。</p><ul class=""><li id="0dbe" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated"><strong class="is hj">事件背景</strong></li><li id="f82e" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj"> HTTP上下文</strong></li></ul><p id="83f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">配置文件的这种结构使您能够提到配置的一些高级分层，因为每个上下文都可以有嵌套的上下文，这些上下文继承父上下文的所有内容，但也可以根据需要覆盖设置。</p><p id="00fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这些上下文中，Nginx配置文件最重要的部分是，</p><ul class=""><li id="029c" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated"><strong class="is hj">工作进程</strong> —这是一个定义Nginx将使用的工作处理器数量的设置。由于Nginx是单线程的，因此工作线程的数量等于CPU内核的数量。</li><li id="b0c7" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj">工作者连接</strong> —每个工作者进程的最大同时连接数。并告诉多少人可以同时接受Nginx服务。</li><li id="b3f7" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj">访问登录和错误日志</strong>—Nginx将使用这些文件来记录任何错误和访问尝试。这些日志通常用于调试和故障排除。</li><li id="3815" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj">Gzip</strong>—Nginx响应的Gzip压缩设置。通过默认情况下被注释掉的子设置的方式来启用它将会导致相当大的性能提升。</li></ul><p id="9865" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以在本教程中，我们讨论了什么是web服务器？Nginx是什么？Nginx架构以及为什么要学习、使用Nginx？Nginx配置设置。我们来讨论一下如何安装Nginx，如何部署成web服务器？在另一篇文章中。希望大家对Nginx有个基本的了解。</p><p id="01b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢大家！</p></div></div>    
</body>
</html>