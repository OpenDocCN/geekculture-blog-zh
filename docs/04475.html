<html>
<head>
<title>Raspberry Pico: The Complete SDK Overview (Native C/C++, Arduino, MicroPython, CircuitPython)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Raspberry Pico:完整的SDK概述(原生C/C++，Arduino，MicroPython，CircuitPython)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/raspberry-pico-the-complete-sdk-overview-native-c-c-arduino-micropython-circuitpython-1ce3a70c2527?source=collection_archive---------15-----------------------#2021-06-28">https://medium.com/geekculture/raspberry-pico-the-complete-sdk-overview-native-c-c-arduino-micropython-circuitpython-1ce3a70c2527?source=collection_archive---------15-----------------------#2021-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f378f48d653af2cb33946bb71f45db9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSygiv64Em84ryNyIIdxPw.png"/></div></div></figure><p id="92b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Raspberry Pico，简称Pico，是Raspberry Pi基金会的一款新型微控制器。2021年初发布时，提供了两个框架:原生C/C++ SDK和一个MicroPython端口。大约半年后，两个新增组件变得稳定了:Arduino框架，它是C-SDK的一个包装器，您可以在其中使用Arduino命令CircuitPython，它是Python的另一个嵌入式版本。本文是对所有可用框架的全面总结。您将了解安装、特性、支持编辑器，并看到每个框架的闪烁LED示例。</p><p id="acca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">本文原载于</em> <a class="ae jp" href="https://admantium.com/blog/pico10_sdk_overview/" rel="noopener ugc nofollow" target="_blank"> <em class="jo">我的博客</em> </a>。</p><h1 id="06a9" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">C/C++-SDK</h1><p id="5c6c" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">原生C/C++ SDK是由Raspberry Pi基金会开发和维护的原始版本。</p><p id="5579" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装和使用在<a class="ae jp" href="https://datasheets.raspberrypi.org/pico/getting-started-with-pico.pdf" rel="noopener ugc nofollow" target="_blank">官方文档(PDF) </a>中介绍。正确的设置可能很困难:您可以应用指南中提到的步骤，或者当您使用Linux操作系统时，使用<a class="ae jp" href="https://raw.githubusercontent.com/raspberrypi/pico-setup/master/pico_setup.sh" rel="noopener ugc nofollow" target="_blank">官方的一行程序</a>来完全设置复杂的工具链。</p><p id="6189" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">没有标准的编辑器，但是官方文档解释了如何用支持CMake和调试的扩展来定制<a class="ae jp" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a>。对于一个具体的项目设置，我无耻地自我推销我自己的入门工具包:<a class="ae jp" href="https://github.com/admantium-sg/pico-project-bootstrap" rel="noopener ugc nofollow" target="_blank"> pico-project-bootstrap </a>。</p><p id="36cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您的IDE可能如下所示。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8dd0b7133a5b9c2bded1b9f314de3bb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y6GD7cToRnf00FoH.png"/></div></div></figure><p id="83fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jp" href="https://github.com/raspberrypi/pico-sdk/releases" rel="noopener ugc nofollow" target="_blank">最新版本v1.20 </a>具有现有的功能:更好地支持<a class="ae jp" href="https://www.freertos.org/about-RTOS.html" rel="noopener ugc nofollow" target="_blank">自由RTOS </a>，实时Linux系统，几个用于DMA、时钟和互斥的更新，甚至支持新的硬件板，如新的Pimoroni Pico LiPo。</p><p id="aef3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">典型的闪烁LED示例如下:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="0502" class="lc jr hi ky b fi ld le l lf lg">/*<br/>* ---------------------------------------<br/>* Copyright (c) Sebastian Günther 2021  |<br/>*                                       |<br/>* devcon@admantium.com                  |<br/>*                                       |<br/>* SPDX-License-Identifier: BSD-3-Clause |<br/>* ---------------------------------------<br/>*/<br/>#include &lt;stdio.h&gt;<br/>#include &lt;stdbool.h&gt;<br/>#include "pico/stdlib.h"</span><span id="a0c5" class="lc jr hi ky b fi lh le l lf lg">int LED_BUILTIN = 25;</span><span id="1d15" class="lc jr hi ky b fi lh le l lf lg">void blink() {<br/>  gpio_put(LED_BUILTIN, 1);<br/>  sleep_ms(750);</span><span id="570a" class="lc jr hi ky b fi lh le l lf lg">  gpio_put(LED_BUILTIN, 0);<br/>  sleep_ms(1050);<br/>}</span><span id="c235" class="lc jr hi ky b fi lh le l lf lg">int main() {<br/>  stdio_init_all();</span><span id="c889" class="lc jr hi ky b fi lh le l lf lg">  gpio_init(LED_BUILTIN);<br/>  gpio_set_dir(LED_BUILTIN, GPIO_OUT);</span><span id="f1b5" class="lc jr hi ky b fi lh le l lf lg">  puts("Hello World\n");</span><span id="3118" class="lc jr hi ky b fi lh le l lf lg">  while (true) {<br/>    puts(".");<br/>    blink();<br/>  }<br/>}</span></pre><h1 id="8983" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">Arduino框架</h1><p id="9150" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">Arduino是一个标识微控制器家族和IDE的名称，在IOT和机器人项目中广泛使用并广为人知。Arduino板通常是用C语言编程的，默认的框架抽象了引脚、串行输入/输出、伺服等。自从<a class="ae jp" href="https://github.com/raspberrypi/pico-sdk/releases" rel="noopener ugc nofollow" target="_blank">发布1.20版</a>以来，你可以用Arduino框架编写你的Rasperry Pico。这意味着C-SDK函数被包装，您可以使用典型的Arduino命令。</p><p id="4f09" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有两种方法可以实现这一点。首先，如果你来自Arduino世界，你可以将Rasperry Pico作为一个板添加到你的Arduino IDE中。根据<a class="ae jp" href="https://arduino-pico.readthedocs.io/en/latest/install.html#installing-via-arduino-boards-manager" rel="noopener ugc nofollow" target="_blank">安装手册</a>将<a class="ae jp" href="https://github.com/earlephilhower/arduino-pico" rel="noopener ugc nofollow" target="_blank"> Pico Arduino库</a>添加到你的板卡管理器中。然后，选择合适的电路板，您就可以开始编程了。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/f267a2410665050193ca50190cb19125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s2_UF_DVyBff8cBM.png"/></div></div></figure><p id="a2f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者，您可以使用VS Code PlattformIO扩展——一个支持各种类型硬件的微控制器插件——和WizIO扩展。阅读我的文章<a class="ae jp" href="https://admantium.com/blog/pico01_getting_started/" rel="noopener ugc nofollow" target="_blank">使用platformio</a>进行简单启动，然后选择Arduino框架类型。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/19b95dcb2bbac57de5370091024f8525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/0*q-IGHnEmB1xnHT2E.png"/></div></div></figure><p id="1e3f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你为什么会使用这个框架？如果你熟悉Arduino，你可能会有一个更好、更熟悉的Arduino编程的开始，并且可以直接投入到开发中。此外，Arduino框架已经成熟了10年，因此为连接和控制硬件提供了大量的库:步进电机和伺服电机、显示器、传感器。<a class="ae jp" href="https://arduino-pico.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Pico Arduino框架文档</a>指出，您可以使用伺服类来控制电机，并且完全支持SPI和I2C——因为许多传感器库都基于这些协议，它们也应该与Arduino端口一起工作。</p><p id="ae58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个框架中，您的闪烁LED示例如下所示:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="3d00" class="lc jr hi ky b fi ld le l lf lg">/*<br/>* ---------------------------------------<br/>* Copyright (c) Sebastian Günther 2021  |<br/>*                                       |<br/>* devcon@admantium.com                  |<br/>*                                       |<br/>* SPDX-License-Identifier: BSD-3-Clause |<br/>* ---------------------------------------<br/>*/<br/>#include &lt;Arduino.h&gt;</span><span id="af80" class="lc jr hi ky b fi lh le l lf lg">int LED_BUILTIN = 25;</span><span id="8eb7" class="lc jr hi ky b fi lh le l lf lg">void blink() {<br/>  digitalWrite(LED_BUILTIN, 1);<br/>  delay(750);</span><span id="fd6d" class="lc jr hi ky b fi lh le l lf lg">  digitalWrite(LED_BUILTIN, 0);<br/>  delay(1050);<br/>}</span><span id="f9fc" class="lc jr hi ky b fi lh le l lf lg">void setup() {<br/>  Serial.begin(115200);<br/>  pinMode(LED_BUILTIN, OUTPUT);<br/>}</span><span id="3447" class="lc jr hi ky b fi lh le l lf lg">void loop() {<br/>  Serial.write("Hello World\n");</span><span id="3648" class="lc jr hi ky b fi lh le l lf lg">  while (true) {<br/>    Serial.write(".");<br/>    blink();<br/>  }<br/>}</span></pre><p id="d6b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上传草图并运行它。</p><h1 id="b51b" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">微型Python</h1><p id="f4a2" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">MicroPython是Python3专门针对微控制器的一个端口。Python是一种功能强大的脚本语言，用它可以编写短小精悍的程序。</p><p id="174d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Raspberry Pico的设置再简单不过了:从Raspberry Foundation获取<a class="ae jp" href="https://micropython.org/download/rp2-pico/rp2-pico-latest.uf2" rel="noopener ugc nofollow" target="_blank">官方UF2文件</a>，或者从官方<a class="ae jp" href="https://micropython.org/download/rp2-pico/" rel="noopener ugc nofollow" target="_blank"> MicroPython项目页面</a>下载最新版本。然后，只需在大容量存储模式下连接您的Raspberry Pico，删除UF2文件，在重置后，您可以通过串行连接到您的Pico。因为Python是一种解释型语言，这意味着您可以通过串行连接编写代码并立即运行它。</p><p id="ed62" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">官方推荐的MicroPython的IDE是<a class="ae jp" href="https://thonny.org/" rel="noopener ugc nofollow" target="_blank"> Thonny </a>。Thonny故意简单。在文本编辑器区域，您可以编写Python代码，然后将其存储在您的计算机上或直接存储在Raspberry Pico上。存储在Pico上意味着:无论是在Pico上的根或<code class="du lk ll lm ky b">lib</code>文件夹中，你都可以保存任何脚本，允许你用不同的文件进行更复杂的项目。而如果你直接在根目录下保存一个名为<code class="du lk ll lm ky b">main.py</code>的脚本，这将作为你Pico的程序执行。或者，您可以打开到Pico的串行连接，并以交互方式实现一个程序。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/48d4644c7ed268e96fb09c2afff3de4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OmKS259eKWHYIOuv.png"/></div></div></figure><p id="f74f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">紧凑的<a class="ae jp" href="http://docs.micropython.org/en/latest/pyboard/quickref.html#" rel="noopener ugc nofollow" target="_blank"> MicroPython参考文献</a>展示了简单脚本的可行性:只需4行代码，您就可以编程中断、控制伺服电机或设置定义良好的PWM。MicroPython还支持SPI、I2C甚至CAN总线。然而，<a class="ae jp" href="https://datasheets.raspberrypi.org/pico/raspberry-pi-pico-python-sdk.pdf" rel="noopener ugc nofollow" target="_blank">官方Raspberry Pico文档</a>明确列出了哪些函数可以工作。</p><p id="1b25" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于MicroPython，闪烁的LED示例如下:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="dbf2" class="lc jr hi ky b fi ld le l lf lg">#<br/># ---------------------------------------<br/># Copyright (c) Sebastian Günther 2021  |<br/>#                                       |<br/># devcon@admantium.com                  |<br/>#                                       |<br/># SPDX-License-Identifier: BSD-3-Clause |<br/># ---------------------------------------<br/>#<br/>from machine import Pin<br/>from utime import sleep</span><span id="f782" class="lc jr hi ky b fi lh le l lf lg">led = Pin(25, Pin.OUT)</span><span id="f8c9" class="lc jr hi ky b fi lh le l lf lg">while True:<br/>  led.toggle()<br/>  sleep(1)</span></pre><h1 id="04f5" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">CircuitPython</h1><p id="7f70" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">这个Python变种是Adafruit公司开发的一个分支。他们生产各种各样的微控制器，并在早期投资于脚本语言，而不是基于Arduino的主板上使用的主流C语言。如今，CircuitPython的端口也运行在不同的微控制器上，包括Raspberry Pico。</p><p id="f0d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，应用与MicroPython相似的步骤:从官方CurcuitPython项目页面<a class="ae jp" href="https://circuitpython.org/board/raspberry_pi_pico/" rel="noopener ugc nofollow" target="_blank">下载UF2文件，在大容量存储模式下连接Pico并删除UF2文件。</a></p><p id="f80c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">官方IDE是<a class="ae jp" href="https://codewith.mu/" rel="noopener ugc nofollow" target="_blank"> Mu </a>。它的布局类似于Thonny IDE:顶部是一个代码编辑器，底部是一个终端，一旦Pico连接上就运行交互式python控制台。文件处理和交互式开发工作类似。Mu有额外的特性:一个<a class="ae jp" href="https://codewith.mu/en/tutorials/1.1/debugger" rel="noopener ugc nofollow" target="_blank">交互式调试器</a>，带有一个检查器模块来查看变量等。在运行时，还有一个<a class="ae jp" href="https://codewith.mu/en/tutorials/1.1/plotter" rel="noopener ugc nofollow" target="_blank">绘图仪</a>，一个将打印的数字转换成图形的图形工具。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/e5db266f0c7308dec379bb7c6fd9752e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ec3bFr-3wZ0PxT0A.png"/></div></div></figure><p id="46f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">CircuitPython提供类似的库函数，通过SPI或I2C连接到其他传感器和硬件。核心库在名称和功能上有所不同，所以请务必阅读<a class="ae jp" href="https://learn.adafruit.com/getting-started-with-raspberry-pi-pico-circuitpython/using-adafruit-ar-with-rasberry-pi-pico" rel="noopener ugc nofollow" target="_blank"> Adafruit入门指南</a>。此外，它还捆绑了类似于库的模块，为几种传感器提供开箱即用的支持，包括显示器、led条纹、游戏手柄甚至音频——参见<a class="ae jp" href="https://circuitpython.readthedocs.io/projects/bundle/en/latest/drivers.html" rel="noopener ugc nofollow" target="_blank">完整列表</a>。</p><p id="0cd9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">MicroPython的闪烁LED示例如下所示。</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="fb28" class="lc jr hi ky b fi ld le l lf lg">#<br/># ---------------------------------------<br/># Copyright (c) Sebastian Günther 2021  |<br/>#                                       |<br/># devcon@admantium.com                  |<br/>#                                       |<br/># SPDX-License-Identifier: BSD-3-Clause |<br/># ---------------------------------------<br/>#<br/>import board<br/>import digitalio<br/>from time import sleep</span><span id="6fb1" class="lc jr hi ky b fi lh le l lf lg">led = digitalio.DigitalInOut(board.LED)<br/>led.direction = digitalio.Direction.OUTPUT</span><span id="77c9" class="lc jr hi ky b fi lh le l lf lg">while True:<br/>    led.value = True<br/>    sleep(1)<br/>    led.value = False<br/>    sleep(1)</span></pre><h1 id="9daf" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="a4b3" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">Raspberry Pico是一款多功能微控制器，可以用四种不同的框架进行编程，对于一款大约6个月前发布的产品来说，这一点令人印象深刻！本文介绍了这些框架:原生C/C++ SDK、Arduino框架、MicroPython和CircuitPython。对于每一个，您都了解了它的安装、IDE支持、语言特性，并看到了一个闪烁的LED示例。现在，您将在下一个项目中使用哪个框架？</p></div></div>    
</body>
</html>