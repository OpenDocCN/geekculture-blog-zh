<html>
<head>
<title>Understanding OOP Python with card deck ♠︎️</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用卡片叠♠︎️理解OOP Python</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/understanding-oop-python-with-a-deck-of-cards-%EF%B8%8E%EF%B8%8F-99c31ea5acaa?source=collection_archive---------3-----------------------#2021-07-30">https://medium.com/geekculture/understanding-oop-python-with-a-deck-of-cards-%EF%B8%8E%EF%B8%8F-99c31ea5acaa?source=collection_archive---------3-----------------------#2021-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e44775cc9333f48403c86b9d4ab00c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ClQ3L1pOAMLZ9apHAgYCw.png"/></div></div></figure><p id="2c1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，你会问为什么要使用OOP面向对象编程？</p><blockquote class="jo jp jq"><p id="76cc" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">因为<strong class="is hj">它使得代码更加可重用，并且更容易处理更大的程序</strong>。OOP程序防止你重复代码，因为一个类可以被定义一次并被多次重用。</p></blockquote><h1 id="b9a1" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">定义类别</h1><p id="2494" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在谈论OOP时，类就像是创建对象概念的蓝图。</p><blockquote class="jo jp jq"><p id="ba43" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">对象只是数据(变量)和作用于这些数据的方法(函数)的集合。</p></blockquote><p id="d417" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如前所述，我们将使用OOP来帮助定义一个真实世界的概念，以一种计算机能够识别的方式。这就是为什么我的例子来自纸牌游戏<strong class="is hj">21点</strong>并且将开始创建一副牌。我将使用我自己项目中的例子。</p><blockquote class="jo jp jq"><p id="4ce2" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">完整项目封装<em class="hi"> Pygame </em> GitHub链接是</strong> <a class="ae ky" href="https://github.com/Mozes721/BlackJack" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">这里</strong> </a> <strong class="is hj">另外会为它做一个相关的博客。</strong></p></blockquote></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h2 id="bd37" class="lg jw hi bd jx lh li lj kb lk ll lm kf jb ln lo kj jf lp lq kn jj lr ls kr lt bi translated">甲板</h2><p id="e4ec" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">一个套牌对象真的只需要两个属性:花色和等级。</p><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="ad15" class="lg jw hi lz b fi md me l mf mg">SUITS = ['C', 'S', 'H', 'D']</span><span id="fbbf" class="lg jw hi lz b fi mh me l mf mg">RANKS = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K']</span></pre><p id="4c58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们随机导入，由于在Pygame中缩放我的项目，我为套装、等级等创建了常量文件，但是你可以把它写在同一个文件中。</p><figure class="lu lv lw lx fd ij"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="c06d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此我们创建了一个Deck类，在每种情况下我们都使用<code class="du mk ml mm lz b">self</code>作为第一个参数。并且我们将在<code class="du mk ml mm lz b">__init__</code>中有一个“cards”数组属性和“build()”调用方法。如图所示的构建将遍历等级和花色，并将其添加到self.cards数组中。</p><p id="45d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，我们会洗牌并使用<strong class="is hj"> pop </strong>方法从这副牌中发牌。</p><h2 id="d591" class="lg jw hi bd jx lh li lj kb lk ll lm kf jb ln lo kj jf lp lq kn jj lr ls kr lt bi translated">手</h2><figure class="lu lv lw lx fd ij"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="dda2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di"> F </span>或<strong class="is hj">手</strong>类我们通过将<strong class="is hj">牌组</strong>类实例作为<strong class="is hj">父类</strong>类来开始，这样我们就可以得到洗牌，另外调用<strong class="is hj">发牌</strong>方法。在<strong class="is hj">手</strong> <code class="du mk ml mm lz b">__init__</code>法中，用户卡被设置为与自身值相同</p><blockquote class="jo jp jq"><p id="a3bb" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">重要提示:</strong>如果你只是遵循面向对象程序设计的道路，对游戏如何在<strong class="is hj"> Pygame </strong>中实现不感兴趣，请考虑</p><p id="8ccf" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">PYGAME中需要的<strong class="is hj"/>和<strong class="is hj">在其结束的地方结束</strong>。谢谢大家！</p></blockquote><p id="33c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">向用户添加卡的添加卡方法。<strong class="is hj"> calc_hand </strong>方法是以<strong class="is hj">二十一点</strong>游戏为例。</p><p id="a829" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个方法的请求下，我们创建了几个<a class="ae ky" href="https://www.w3schools.com/python/python_lists_comprehension.asp" rel="noopener ugc nofollow" target="_blank">列表理解</a>来处理检查牌是否是a。然后为非ace创建一个for循环，如果它的“JQK”赋值为10，否则为卡片的数字，如6、7等。</p><p id="4171" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于Ace，如果值等于或大于10，则将值指定为11，否则，如果<strong class="is hj">自身值</strong>大于11，则将Ace值指定为1。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><p id="9fbb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">显示卡将从自己的卡中获取卡，并加入卡的第一个和第二个索引，如'♠︎️'和j。如果它还没有在用户<strong class="is hj">卡_img </strong>中列出，那么添加它</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h2 id="b688" class="lg jw hi bd jx lh li lj kb lk ll lm kf jb ln lo kj jf lp lq kn jj lr ls kr lt bi translated">创建卡牌和玩家实例</h2><p id="24d5" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">我们不会在这里做整个21点项目，我会在博客的Pygame版本中介绍。我们只是</p><pre class="lu lv lw lx fd ly lz ma mb aw mc bi"><span id="8a65" class="lg jw hi lz b fi md me l mf mg">deck = Deck()<br/>deck.shuffle()</span><span id="9f73" class="lg jw hi lz b fi mh me l mf mg">player = Hand()<br/>dealer = Hand()</span><span id="2e5d" class="lg jw hi lz b fi mh me l mf mg">for i in range(2):<br/>    player.add_card(deck.deal())<br/>    dealer.add_card(deck.deal())</span><span id="11be" class="lg jw hi lz b fi mh me l mf mg">print(player.cards)<br/>print(dealer.cards)</span><span id="616f" class="lg jw hi lz b fi mh me l mf mg">player.calc_hand()<br/>dealer.calc_hand()</span><span id="238b" class="lg jw hi lz b fi mh me l mf mg">print(dealer.value)<br/>print(player.value)</span></pre><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mw"><img src="../Images/2b2dcb8cb9dec2196f53db02bb94d7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*NoW2_CNfua-Hx7k-lWwyeg.png"/></div><figcaption class="mx my et er es mz na bd b be z dx">The print result of player, dealers hand and value of hand</figcaption></figure><p id="d70b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建类初始化<strong class="is hj"> Deck </strong>时，首先将它赋给Deck变量。并使用我们在其中创建的<strong class="is hj"> shuffle() </strong>方法。</p><p id="ddc4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后玩家和庄家得到他们自己的<strong class="is hj"> Hand() </strong>实例，因为Hand类已经在参数中的<strong class="is hj">牌组</strong>中传递，所以使<strong class="is hj"> Hand </strong>成为子实例，而<strong class="is hj">牌组</strong>成为父实例。因此玩家和庄家都从同一副牌中得到牌。</p><p id="b2e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如我们所记得的，<strong class="is hj"> Hand() </strong>类有<strong class="is hj"> add_card() </strong>方法和<strong class="is hj"> calc_hand() </strong>方法，通过它们我们可以添加玩家的手牌，也可以计算手牌！</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/a6afb94e7c486d3d5b4897b1ea98e99b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJDGb4MB0baLQyX0zzxw2g.png"/></div></div></figure><h1 id="dc97" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">结论</strong></h1><p id="ab04" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">我希望你喜欢这篇文章。OOP是我花了时间去理解的东西，也是我很长一段时间想要避免的东西。但是后来我发现，如果没有基于项目需求创建类和进行多重继承的OOP方法，我就不能恰当地扩展项目。</p><p id="2b98" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如前所述，我将在不久的将来跟进21点pygame博客，它将加倍强调OOP方法的重要性。GitHub链接如下如有兴趣。</p><div class="nc nd ez fb ne nf"><a href="https://github.com/Mozes721/BlackJack" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hj fi z dy nk ea eb nl ed ef hh bi translated">GitHub-mozes 721/21点</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">在GitHub上创建帐户，为Mozes721/BlackJack开发做出贡献。</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">github.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt io nf"/></div></div></a></div><h1 id="1c59" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">相关故事</h1><div class="nc nd ez fb ne nf"><a href="https://python.plainenglish.io/dynamic-e-mail-automation-from-excel-file-103d35bd9225" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hj fi z dy nk ea eb nl ed ef hh bi translated">从Excel文件实现动态电子邮件自动化</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">使用Python向整个Excel列表发送电子邮件，或者单独发送带有翻译文本选项的电子邮件！</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">python .平原英语. io</p></div></div><div class="no l"><div class="nu l nq nr ns no nt io nf"/></div></div></a></div><div class="nc nd ez fb ne nf"><a href="https://python.plainenglish.io/data-visualization-for-beginners-with-matploptib-3fde2c635c1d" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hj fi z dy nk ea eb nl ed ef hh bi translated">用Matplotlib实现初学者的数据可视化</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">关于如何使用Python显示不同类型的绘图的指南。</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">python .平原英语. io</p></div></div><div class="no l"><div class="nv l nq nr ns no nt io nf"/></div></div></a></div><div class="nc nd ez fb ne nf"><a rel="noopener follow" target="_blank" href="/codex/instagram-choose-img-from-gdrive-or-local-storage-629fa836dd4f"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hj fi z dy nk ea eb nl ed ef hh bi translated">Instagram:从GDrive或本地存储中选择图像</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">这个项目分为三个部分:谷歌API，目录搜索，Instabot/Tkinter</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">medium.com</p></div></div><div class="no l"><div class="nw l nq nr ns no nt io nf"/></div></div></a></div></div></div>    
</body>
</html>