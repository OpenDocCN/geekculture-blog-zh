<html>
<head>
<title>Which Enterprise Data Warehouse performs better for your workloads?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对于您的工作负载，哪种企业数据仓库性能更好？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/which-enterprise-data-warehouse-performs-better-for-your-workloads-fe4ecb018760?source=collection_archive---------26-----------------------#2021-07-07">https://medium.com/geekculture/which-enterprise-data-warehouse-performs-better-for-your-workloads-fe4ecb018760?source=collection_archive---------26-----------------------#2021-07-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/d783a6df6cc1c1a61575352a6151fa6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zPql2T04NgYTivNX79RW1g.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Article originally posted at <a class="ae hv" href="https://blog.griddynamics.com/?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=Which_Enterprise_Data_Warehouse_performs_better_for_your_workloads?" rel="noopener ugc nofollow" target="_blank">Grid Dynamics Blog</a></figcaption></figure><div class=""/><div class=""><h2 id="b8ed" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">由<a class="ae hv" href="https://blog.griddynamics.com/author/dmitry/" rel="noopener ugc nofollow" target="_blank">卡拉琴采夫</a> &amp; <a class="ae hv" href="https://blog.griddynamics.com/author/nikita/" rel="noopener ugc nofollow" target="_blank">科托夫</a></h2></div><p id="3fa5" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">本文详细介绍了我们使用流行的基准对流行的基于云的企业数据仓库进行性能比较的结果。调查的目的不是对它们进行最全面的比较，而是发现有用和有价值的信息，帮助您选择最适合您需求的系统。</p><h1 id="04b1" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">1.1.什么是EDW？</h1><p id="6b72" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">企业数据仓库(EDW)是一个分析数据库，从不同来源收集数据，如CRM、IoT、ERP、用户交互记录等。它还为数据分析提供了一个接口。</p><p id="ef4d" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">下面提供了基本概念的概述:</p><ul class=""><li id="55d6" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">结构化存储——与存储大量非结构化数据的数据湖相反，EDW允许以更方便的方式查询数据；</li><li id="b0b7" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">非易失性存储—最终用户通常不会更新或删除数据。在定期维护期间，有时可能会清除不相关的数据；。</li><li id="36a7" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">面向主题—结构化的数据，以反映特定领域的业务模型。</li><li id="b82f" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">时间相关-仓库通常存储历史数据，如事件。</li></ul><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/5a134f25323d66bc1a56aeb1523cdff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uEeMqzNK9px90dF3.png"/></div></div></figure><h1 id="fae8" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">1.2.亚马逊红移</h1><p id="ce62" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">Redshift是一个云数据仓库，它通过大规模并行处理、列数据存储和目标数据压缩编码方案的组合来实现高效存储和最佳查询性能。Redshift具有基于节点的体系结构，您可以根据需要配置节点的大小和数量。可伸缩性随时可用。</p><p id="d5ec" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Redshift查询引擎基于PostgreSQL 8.0.2，具有相同的SQL语法和以下受支持的功能:</p><ul class=""><li id="c053" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">SQL或Python(2.7)UDF；</li><li id="5072" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">存储过程；</li><li id="f802" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">自动压缩；</li><li id="0259" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">视图和物化视图；</li><li id="2bb8" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">查询外部数据；</li><li id="e323" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">还有很多<a class="ae hv" href="https://docs.aws.amazon.com/redshift/latest/dg/welcome.html" rel="noopener ugc nofollow" target="_blank">更有</a>。</li></ul><p id="a540" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">但是，需要注意的是，Redshift不支持某些数据类型。不支持的特性、数据类型和函数的完整列表在<a class="ae hv" href="https://docs.aws.amazon.com/redshift/latest/dg/c_redshift-and-postgres-sql.html" rel="noopener ugc nofollow" target="_blank">这里</a>可以找到。</p><p id="6382" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Redshift支持通过ODBC、JDBC驱动程序和来自PostgreSQL的基于psql终端的前端工具连接到集群。</p><p id="04ae" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">红移架构:</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/a66c5d9b6758bf471e4d788c774e2495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4-zXmRUPoMMWf4Uu.png"/></div></div></figure><p id="664f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Amazon Redshift集群中的领导者节点管理所有外部和内部通信。它负责准备查询执行计划。一旦查询执行计划准备就绪，领导者节点就在计算节点上分发查询执行代码。此外，它还向每个计算节点分配数据片。</p><p id="7ece" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">计算节点依次负责查询的实际执行。一个计算节点保存2到32个切片。每个片由计算节点中的一部分内存和磁盘空间组成。</p><p id="98c4" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">下图显示了Amazon Redshift数据仓库的内部组件和功能的高级视图:</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/5cd519774eb23a5a885579562face704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o14qXThrmIfRP9iQ.png"/></div></div></figure><p id="f9af" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">出于耐用性目的，Redshift在1天的保留期内维护数据的三份拷贝，不收取额外费用。但是，该期限可以延长至35天。</p><p id="9f4c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">该架构有以下缺点:</p><ul class=""><li id="ff75" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">表中的列数限制为1600，这是与竞争架构相比的最低值。</li><li id="362c" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">并发查询的数量被限制在50个，这是与竞争对手相比的最低值。</li><li id="316a" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">在调整大小操作期间，群集变为只读。</li><li id="d22a" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">插入和删除操作会严重影响整体查询性能(尽管EDW不是为OLTP设计的)。</li><li id="077b" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">需要手动运行VACUUM命令来对行进行重新排序并重新申请空间以获得更好的性能。</li><li id="4d67" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">数据的可用空间受到群集大小的限制。</li><li id="06b0" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">不支持半结构化数据类型。</li></ul><p id="36c3" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Redshift提供了一个工作负载管理器(WLM ),允许您灵活地管理工作负载中的优先级。自动WLM确定查询所需的资源量，并根据工作负载调整并发性。当查询需要系统中的大量资源时，并发性就会降低。相比之下，手动WLM使您能够为多达50个并发查询以及内存分配指定查询并发值。手动WLM的默认并发是五个查询，内存在这五个查询之间平均分配。</p><p id="565f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">以下设计决策会严重影响整体查询性能:</p><ul class=""><li id="51af" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">排序关键字:确定表中行的存储顺序。它通过过滤掉大部分数据，使查询优化器能够读取较少的数据块。</li><li id="e1df" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">分发方式:</li><li id="3ba7" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">EVEN:数据以循环方式存储(当表上不需要连接时使用)；</li><li id="3768" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">KEY:在指定列中具有匹配值的行存储在相同的片上(当表相当大并用于连接时很有用)；</li><li id="a260" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">ALL: leader节点在所有计算节点上维护表的完整副本(用于不经常更改的小表)。</li><li id="ce05" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">缓存结果:Redshift将某些类型的查询结果缓存在leader节点的内存中24小时。</li><li id="aa44" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">VACUUM命令:对行进行重新排序，并回收集群中的空间。在对表执行插入或删除操作后使用。</li><li id="868a" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">分析命令:更新查询规划器的统计元数据。Redshift会自动更新元数据，但是您可以手动运行它以确保元数据得到更新。</li></ul><p id="6a90" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">计算资源和存储的定价是结合在一起的:您只需为每小时提供的节点付费，在这段时间内执行的查询数量不受限制。</p><p id="4631" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在运行性能比较时，我们注意到Redshift通过图表提供了关于集群中每个节点的CPU利用率、打开的连接数、磁盘空间使用情况等有用信息。同样值得注意的是，曾经有一个集群卡住了。我们正在执行来自“inner and left join”类别的查询，并注意到排队查询的数量增加到了500。根本原因是群集过载，系统查询无法执行。为了解决这个问题，我们减少了指定类别中所有数据仓库的并发查询数量。</p><h1 id="c288" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">1.3.雪花</h1><p id="5f6d" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">雪花是作为软件即服务提供的分析数据仓库。持续的维护、管理和调优都由雪花处理。它驻留在AWS、谷歌云平台或微软Azure上的有限数量的可用区域中。除了一些新推出的功能和服务之外，它的功能和服务在各个地区都是相同的。</p><p id="0b82" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">雪花EDW使用专为云设计的新SQL数据库引擎。查询在虚拟仓库上执行，虚拟仓库是一个计算资源集群。雪花提供预定义大小的虚拟仓库，具有自动暂停和自动恢复功能。为了满足用户并发需求，可以使用多集群虚拟仓库。调整大小使您能够随时试验最合适的性能，而无需停止整个仓库。数据分布在集群中的节点上。</p><p id="4ae7" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">雪花支持标准SQL，包括ANSI SQL:1999和SQL:2003分析扩展的子集。</p><p id="bb40" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">支持的功能:</p><ul class=""><li id="aa5e" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">SQL或Javascript UDF。</li><li id="3cf1" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">存储过程。</li><li id="dd8f" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">自动压缩。</li><li id="17f1" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">视图、物化视图和安全视图。</li><li id="df16" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">查询外部数据。</li><li id="792e" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">还有很多<a class="ae hv" href="https://docs.snowflake.com/en/index.html" rel="noopener ugc nofollow" target="_blank">更有</a>。</li></ul><p id="96f6" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">除了特定函数的名称之外，SQL查询的语法与Redshift中的语法相同。您可以使用Python、Spark或Kafka连接器或JDBC、ODBC和连接到雪花。NET驱动程序或SnowSQL CLI客户端。</p><p id="7f85" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">与竞争对手相比，雪花具有独特的架构:</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/2f81fc07a0887e31ce297830ba16d0c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BrISnn6qJHrta0t5.png"/></div></div></figure><p id="6452" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">它有三个主要组成部分:</p><ul class=""><li id="a3ae" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">云服务:表示跨雪花协调活动的服务集合。</li><li id="ff1d" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">查询处理:使用虚拟仓库执行查询。您可以为不同的目的创建多个虚拟仓库。例如，加载数据和查询数据可能在不同的仓库中分开。每个虚拟仓库的资源是相互独立的。</li><li id="7813" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">数据库存储:雪花在数据存储中以内部优化的压缩列格式存储数据，数据存储被划分为微分区。微分区是大小为50到500MB的未压缩数据的存储单元。它能够避免不成比例大小的分区。</li></ul><p id="e168" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">该体系结构提供了经济高效地调整容量需求的灵活性，但它也有一些缺点。例如，INSERT、UPDATE、MERGE、COPY和DELETE等操作的最大并发限制是20。其他操作没有硬并发限制，由MAX_CONCURRENCY_LEVEL参数调整。雪花还引入了计算价格的“积分”。信用成本取决于您选择的云提供商和地区。</p><p id="02d3" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">雪花提供两种类型的数据加载—批量和连续。为了获得最佳性能和成本效益，官方文档建议将较大的文件拆分为较小的文件，压缩数据大小在10到100MB之间。使用Snowpipe，您可以在一分钟内从外部存储器持续加载新数据，前提是您遵循此处列出的<a class="ae hv" href="https://docs.snowflake.com/en/user-guide/data-load-considerations-prepare.html" rel="noopener ugc nofollow" target="_blank">建议。</a></p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/c68b2a96310389109ddce4f61d8d242f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d0j9oHgqly_JIgJ5.png"/></div></div></figure><p id="148b" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">时间旅行和故障安全是雪花最独特的功能。时间旅行使你能够执行诸如查询过去已经更新或删除的数据之类的操作。您可以在过去的特定时间点或之前创建整个表的克隆，也可以还原已删除的表、模式和数据库。这些操作最多允许90天。一旦定义的时间段过去，数据将被转移到Snowflake Fail-Safe中，这些操作将无法再执行。</p><p id="7a1d" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">故障保护是一个7天的时间段，在此期间，任何系统故障后，历史数据可由雪花恢复。这里不允许用户操作。雪花通过只维护恢复被更新或删除的单个表行所需的信息，最大限度地减少了历史数据所需的存储量。因此，存储使用量是以发生更改的表的百分比来计算的。只有在删除或截断表时，才会维护表的完整副本。</p><p id="7288" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为了提高性能，您可以启用一个聚集键，该聚集键旨在根据指定列中的匹配值来共同定位相同微分区中的数据。因此，优化器将读取更少的微分区。</p><p id="434f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">缓存分为以下几部分:</p><ul class=""><li id="3cea" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">远程缓存:长期存储。</li><li id="6f96" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">本地磁盘缓存:数据存储在SSD和内存中，可供查询。</li><li id="25d1" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">结果缓存:保存过去24小时内每个查询的结果。</li></ul><p id="4ebe" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">存储、计算资源和云服务的定价是分开的。存储费用是从数据更改之时起每24小时计算一次。计算资源按每秒计费，最低每秒60英镑。只有当云服务的每日消耗量超过计算资源每日使用量的10%时，才会对云服务的使用收费。</p><p id="e100" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">雪花提供了用户友好的图表，并附有账单条款的解释。查询历史使您能够使用图表和舒适的SQL编辑器来了解特定查询的整体性能。与BigQuery相比，Snowflake的SQL语法很差。例如，没有像“select * except (col1，col2…) from table_name”这样的语句从结果中排除一个或多个列。</p><p id="d4eb" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">值得注意的是，我们的一个客户面临一个有趣的问题:由于内部错误，查询失败。这是因为设置了太多的SQL变量。在Snowflake文档中没有任何关于这个问题的描述，只有Snowflake support能够最终澄清查询失败的原因。这就是为什么在SQL查询结束时取消设置所有变量是一种好的做法。</p><h1 id="f065" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">1.4.谷歌大查询</h1><p id="537b" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">和雪花一样，BigQuery也是一个无服务器仓库。您不必配置集群或考虑它们的正常运行时间，它完全可以自我扩展和自我管理。你需要做的就是选择合适的定价方案。</p><p id="a173" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">尽管BigQuery的SQL功能是竞争对手中最有限的，但它支持您可能需要的所有基本SQL构造。除了那些使用UNION的查询，我们不需要修改太多的查询来适应BigQuery，因为BigQuery只支持UNION ALL。</p><p id="07f7" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">支持的功能:</p><ul class=""><li id="f762" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">SQL和JavaScript UDF。</li><li id="492b" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">存储过程。</li><li id="0284" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">视图和物化视图。</li><li id="baa1" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">外部数据源。</li><li id="005d" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">给桌子、工作等贴标签。</li><li id="be48" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">还有很多<a class="ae hv" href="https://cloud.google.com/bigquery/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=emea-gb-all-en-dr-skws-all-solutions-trial-b-gcp-1008073&amp;utm_content=text-ad-none-any-DEV_c-CRE_335630920539-ADGP_Hybrid+%7C+AW+SEM+%7C+SKWS+~+BMM_1:1_GB_EN_Data+Warehousing_bigquery-KWID_43700053279032269-kwd-47616964923-userloc_9047071&amp;utm_term=KW_%2Bbigquery-NET_g-PLAC_&amp;ds_rl=1242850&amp;ds_rl=1245734&amp;gclid=EAIaIQobChMI9ofTj-mA6QIVyeeaCh3WRgilEAAYASAAEgKx4_D_BwE#section-9" rel="noopener ugc nofollow" target="_blank">更有</a>。</li></ul><p id="9715" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">BigQuery可以以两种模式运行查询:交互式或批处理。批处理模式用于常规应用。这意味着每个查询都被添加到一个队列中等待资源。以交互模式运行的查询被标记为最高优先级，通常会尽快启动。这对分析师来说非常方便:CLI和GCP控制台默认配置为交互模式。这个特性有一个限制:不能运行超过100个并行交互式查询。</p><p id="5486" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">BigQuery支持DML以及插入、更新和删除操作。所有的DML查询都是事务性的，所以您永远不会得到部分更新的表。</p><p id="b1dc" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">BigQuery没有JDBC或ODBC接口。相反，它为最流行的编程语言提供了库，如:C#、Go、Java、NodeJS、PHP、Python和Ruby。如果您在列表中没有看到您的语言，您可以直接使用REST API，或者检查第三方工具。</p><p id="63a4" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">BigQuery拥有独创的架构:</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/2dc23c515d94fd306bec33f54a299d9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bLtfoLs7lXceBEgJ.png"/></div></div></figure><p id="34f8" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Dremel是BigQuery的核心，它构建了一个作业的查询执行树。Dremel可能会动态优化查询:停止一些作业并准备其他作业。<a class="ae hv" href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43438.pdf" rel="noopener ugc nofollow" target="_blank"> Borg </a>是一个集群管理器，它在硬件上执行Dremel的任务。巨像以名为<a class="ae hv" href="https://cloud.google.com/blog/products/gcp/inside-capacitor-bigquerys-next-generation-columnar-storage-format" rel="noopener ugc nofollow" target="_blank">电容器</a>的柱状格式存储文件。<a class="ae hv" href="https://cloudplatform.googleblog.com/2015/06/A-Look-Inside-Googles-Data-Center-Networks.html" rel="noopener ugc nofollow" target="_blank"> Jupiter </a>提供千万亿比特网络，获得最大IO速度。这种设计考虑到了BigQuery作业的高性能和灵活性。你可以在这里查看BigQuery如何工作的更多细节。</p><p id="eb19" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这种设计也有缺点。例如，您不能在运行查询之前构建执行计划。并且只有当完整的查询完成时才知道所有三层。在我们看来，BigQuery执行计划不是很有用。</p><p id="e53b" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们也注意到BigQuery不擅长连接和分组。一些查询，如大表的inner_join和q72，即使在按需定价模式下也无法在6小时内完成。BigQuery不允许查询运行时间超过6小时。由于资源限制，ORDER BY为的查询q67失败。在文档中，您可以找到一个将“LIMIT”子句与“ORDER BY”一起使用的常见建议，但是q67已经有了它，但仍然失败。</p><p id="8044" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">BigQuery定价有其自身的特点，Google提供了两种类型的定价:</p><ul class=""><li id="172a" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">按需定价—您只需为查询读取的未压缩TB数据付费。你没有其他限制，比如计算资源。但是它非常昂贵并且不可预测，因为您不知道一个查询将读取多少字节。</li><li id="57ee" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">统一费率定价—在此计划中，您无需为读取的字节数付费，而是为计算资源付费。不管你是否使用这些资源，你总是要支付一个固定的价格。该计划揭示了限制计算资源使用量的预留API的使用情况。计算资源的计算非常简单:您可以购买插槽，每个插槽都有一个专门的工作人员。对于大多数应用程序来说，这是最有用的计划。</li></ul><p id="d7a1" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">另一种支付方式是存储。但是您可以对超过90天没有更新的表享受折扣。我们发现BigQuery是最贵的EDW。</p><p id="8799" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们测试了两个计划。在按需模式下，查询消耗多达10k个片段。在统一价格的情况下，我们将插槽的数量限制为500个，以便在价格上与亚马逊红移相当。即使500个插槽更贵，但这是允许的最低购买量。</p><h1 id="015d" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">基准概述</h1><p id="e3b5" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">为了测试和比较性能，我们决定使用广泛使用的TPC-DS基准。TPC-DS对数据仓库进行建模，并专注于在线分析处理任务。下面的实体关系图显示了TPC-DS模式的摘录:</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/74332113bd18f75b71d8faf125bc5e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SrpAU2qsWZZ5QGG4.png"/></div></div></figure><p id="2f8c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">它包含两个事实表:Store_Sales和Store_Returns，以及相关的维度表，如Customer和Store。</p><p id="13ed" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Benchmark还包含表:Web_sales、Web_returns、Catalog_sales和Catalog_return，但是与维度表的关系与Store_Returns和Store_sales之间的关系大致相同。</p><p id="e902" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">简要概述:</p><ul class=""><li id="934b" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">大小:1TB。</li><li id="7cb0" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">桌子数量:24。</li><li id="a8a7" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">列数:从3到34。</li><li id="bcc3" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">表中的最大行数:大约30亿。</li></ul><p id="ba86" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">TPC-DS性能指标评测的完整描述可在<a class="ae hv" href="http://www.tpc.org/tpc_documents_current_versions/pdf/tpc-ds_v2.8.0.pdf" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><p id="2093" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">TPC-DS基准测试提供了99个查询，我们将其分为以下几类:</p><ul class=""><li id="c0c1" class="lg lh hy jp b jq jr jt ju jw li ka lj ke lk ki ll lm ln lo bi translated">交叉连接。</li><li id="3932" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">完全外部联接。</li><li id="58ab" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">内连接和左连接。</li><li id="1638" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">低水平。</li><li id="bbdf" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">中等水平。</li><li id="e970" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">使用同一个表的多重连接。</li><li id="c599" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">并集和交集。</li><li id="d66b" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">条件在哪里。</li><li id="911f" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">窗口功能。</li><li id="ce23" class="lg lh hy jp b jq lp jt lq jw lr ka ls ke lt ki ll lm ln lo bi translated">习俗。</li></ul><p id="d6aa" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">“低级”类别包含where子句中少于三个连接和简单其他条件的查询。</p><p id="c66e" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">“中级”类别包含在where和group by子句中有两个以上连接和许多其他条件的查询。</p><p id="40e7" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">“where condition”类别包含在“where”子句中有许多条件的查询。他们使用各种可用的关键字，如IN、EXIST、BETWEEN等。</p><p id="da9c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">自定义类别包含我们为比较特定案例而创建的查询。例如，我们创建了一个包含一个长字符串列的表，并用大约55，000个字符填充它。然后，我们创建了一个查询，使用LIKE关键字在该列中查找特定的单词。</p><h1 id="b5e8" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">性能和计费比较图表</h1><p id="2c1f" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">为了比较性能，我们使用50个连接对Redshift、Snowflake和BigQuery并行运行查询，数据仓库的配置如下:</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ma"><img src="../Images/3be2d25bb9499c4cfa6380dbc8ee6715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AbdODNGgfbHChJ0KIHzSpA.png"/></div></div></figure><p id="4300" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为了展示比较结果，我们创建了几个图表。为了更好地可视化，我们将查询类别分成两个子集。</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/57e74a94b18b0229b2a5cc32d187ec34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EUY8i2d1Qwl79d8r.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">This chart shows the average time of the queries by category from the first part.</figcaption></figure><p id="4319" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在类别名称旁边，您可以看到扫描数据的平均大小。BigQuery中的按需定价使您能够非常快速地执行查询，但费用也很高。</p><p id="f51f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="mb">图表1。平均响应时间(秒)，第1部分</em></p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/7a9e05779bf785eed406b1e5b0f82a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ce7pPXOr6bEqk5N7.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">The median time of the same categories of the queries from the first part</figcaption></figure><p id="9f6a" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="mb">图表二。中值响应时间(秒)，第1部分</em></p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/d35b81914849cbdf9934a6d04bab19d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VWgxdhd3cu3kd0jW.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">The average time of the remaining categories of the queries.</figcaption></figure><p id="8662" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="mb">图表3。平均响应时间(秒)，第2部分</em></p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/081b6f2fbebc3f0a99f10934c60278cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FpNyQ4U6dhxMqLSf.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">This chart shows the median time of the same categories</figcaption></figure><p id="4434" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="mb">图表4。中值响应时间(秒)，第2部分</em></p><p id="76f1" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为了更好地可视化性能，我们计算了红移、雪花和BigQuery在500个插槽时的相对比较。为此，我们将红移/雪花响应时间除以BigQuery。结果分为两部分。为了在定价方面有一个类似的设置，我们不会在以后的图表中使用带有按需定价策略的BigQuery。</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/2052b4bb53556d7d29ed2c49ce2a9ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UeI2zUjAvgwRMolM.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Categories where BigQuery with 500 slots is faster than Redshift/Snowflake in a specified number of times</figcaption></figure><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/859a7d093dcc69f6438e62378bb4d757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OoXYc_aQx6MocBE_.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">The categories where BigQuery is slower than Redshift/Snowflake</figcaption></figure><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/04ff560664a20fe4d5c8b7e30295cb64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oeP0Vo2RXijI4-u9.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Expenses by EDW</figcaption></figure><p id="447d" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们要注意的是，采用按需策略的BigQuery非常昂贵，但是在性能方面表现出了最好的结果。</p><h1 id="ba2f" class="kj kk hy bd kl km kn ko kp kq kr ks kt je ku jf kv jh kw ji kx jk ky jl kz la bi translated">结论</h1><p id="1f81" class="pw-post-body-paragraph jn jo hy jp b jq lb iz js jt lc jc jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">下表综合了EDW的性能和成本比较结果。从我们的评估实验中可以看出，带有按需定价模型的BigQuery是最昂贵的设置。但另一方面，它显示出比竞争对手更好的性能，并在几乎所有的查询类别中胜出。如果我们要在价格方面比较相对类似的设置，那么考虑前三列(红移、雪花、BigQuery 500槽)是有意义的。</p><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/6ba796477e74f44e55d2b90bb10a186e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-WcI-wiRdzLGN_O2tJZmEQ.png"/></div></div></figure><p id="5ab4" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">每个数据仓库都满足我们关于并发性和打开连接数的要求，但是一般来说，它们都有限制。在Redshift中，并发级别被限制为50个查询，但是官方文档建议不要将其设置为大于15。雪花没有与并发相关的硬性限制。您可以使用内部参数来管理它。为了满足并发性需求，雪花建议使用具有自动伸缩或最大化模式的多集群仓库，而不是增加仓库的大小。BigQuery在交互式查询中有100个并发查询的限制，但是批处理没有限制。</p><p id="033a" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">从开发人员的角度来看，我们希望注意每个数据仓库都提供了Web SQL编辑器。BigQuery拥有最先进的编辑器，能够共享SQL代码、自动完成和预先计算的扫描数据大小。红移和雪花没有这个功能。雪花有一个很好的支持团队，我们在社区里找到了很多关于你的问题的答案。</p><p id="c79e" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果你对EDW的预算非常有限，红移是你最好的选择。然而，为了达到良好的查询性能，红移需要开发人员付出额外的努力。就所提供的特性而言，雪花是最先进的数据仓库。它性能很好，但价格相当昂贵。BigQuery是一个易于使用的数据仓库，但可能会变得昂贵。您只需要将数据加载到表中。</p><p id="ab52" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">就性能而言，具有按需定价策略的BigQuery使您能够非常快速地执行查询，但是在这种情况下，费用也很高。在安全性方面，每个数据仓库都提供了一套全面的功能来保护您的数据安全。这包括自动数据加密、用户角色和数据丢失预防工具。</p><p id="f170" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">欢迎<a class="ae hv" href="https://www.griddynamics.com/contact?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=Which_Enterprise_Data_Warehouse_performs_better_for_your_workloads?" rel="noopener ugc nofollow" target="_blank">联系我们</a>了解更多信息</p></div></div>    
</body>
</html>