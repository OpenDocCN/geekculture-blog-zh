<html>
<head>
<title>How to Choose the Right Continuous Integration (CI) System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何选择正确的持续集成(CI)系统</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-choose-the-right-continuous-integration-ci-system-5d61ded991aa?source=collection_archive---------13-----------------------#2021-03-31">https://medium.com/geekculture/how-to-choose-the-right-continuous-integration-ci-system-5d61ded991aa?source=collection_archive---------13-----------------------#2021-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9236" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">选择正确的竞争情报系统对每个产品的成功都很重要</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/015b828494080146b5e018eb65203188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nk9NNGtAADMR5ooXhzmPrw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">CI system Image by SpringerLink</figcaption></figure><p id="f0ab" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">持续集成(CI)系统有三个主要类别。选择正确的CI系统对每个产品的成功都很重要。</p><p id="9871" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.开源竞争情报系统</p><p id="a62a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.商业供应商产品</p><p id="3309" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.SaaS产品</p><p id="e2dc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">让我从开源开始。有各种各样的开源CI系统，如；</p><p id="3088" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">建筑机器人，</p><p id="9431" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">特拉维斯·CI，</p><p id="923c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">大步走，</p><p id="528c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">GoCD，</p><p id="eb57" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">詹金斯，</p><p id="7784" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">完整性等</p><p id="5f1b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">但是CI开源的事实标准是Jenkins。你下载软件，自己托管，无论是在本地还是在云中。</p><p id="3ef7" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">第二种选择是使用几家提供托管CI系统或在您自己的基础架构中运行的系统的商业供应商之一。</p><p id="1b42" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">第三种选择是对CI使用SaaS。这些受欢迎的产品是按使用付费或按月付费的CI解决方案。许多流行的工具，如Circle CI或Travis CI，在GitHub中为公共项目提供了一个免费层或一个单独的私有回购。</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><p id="93b4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">您实现哪个系统将取决于您的；</p><p id="e5c3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">项目，</p><p id="9a72" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">预算和</p><p id="8103" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">组织对风险的偏好。</p><p id="a9a1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">对于任何刚刚入门的人，我通常建议选择SaaS的公司。您可以快速开始使用CI，而不必担心设置任何基础设施。然而，如果你在一个大的组织中，“我应该使用哪个系统”，这个决定可能已经为你做好了。别担心。请记住，CI是一种实践，而不是一种工具。不管你用的是什么系统，都是关于实现的。</p><p id="c585" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在，在使用CI系统时，有几个重要的原则和实践需要考虑。</p><h2 id="67c6" class="kq kr hi bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated"><strong class="ak">从干净的环境开始</strong></h2><p id="2880" class="pw-post-body-paragraph jn jo hi jp b jq ll ij js jt lm im jv jw ln jy jz ka lo kc kd ke lp kg kh ki hb bi translated">首先，从一个干净的环境开始。每个构建都应该是一张白纸。CI系统通常使用工作区或容器的概念来维护构建之间的隔离，从而实施保护。在磁盘上维护前一次运行的状态或者写入系统环境变量似乎是一个好主意，但是您可能会想要抵制这种做法。每次我看到这个，它最终都会引起问题。</p><h2 id="9e4c" class="kq kr hi bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated"><strong class="ak">打造通过咖啡测试</strong></h2><p id="faf7" class="pw-post-body-paragraph jn jo hi jp b jq ll ij js jt lm im jv jw ln jy jz ka lo kc kd ke lp kg kh ki hb bi translated">我推荐的另一个实践是，构建通过咖啡测试。从代码提交到收到结果，所花的时间应该相当于一个人喝杯咖啡然后回到办公桌前所花的时间。这就是为什么我总是建议你拍摄五分钟或更少。这将需要团队的承诺，只要测试和构建随着时间的推移变得缓慢，就要花时间来完善它们。</p><h2 id="78e3" class="kq kr hi bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated"><strong class="ak">确保你首先在本地运行所有的测试</strong></h2><p id="92cd" class="pw-post-body-paragraph jn jo hi jp b jq ll ij js jt lm im jv jw ln jy jz ka lo kc kd ke lp kg kh ki hb bi translated">说到团队，我发现当使用持续集成时，有一些好的指导方针是大多数团队需要同意的。你可能对你的团队有额外的需求，但是这些应该会为你打下一个良好的基础。在提交代码之前，确保在本地运行所有测试。当您提交一些代码时，您的构建通过了，这并不奇怪。CI系统不能代替在您的开发机器上进行本地测试。</p><h2 id="c581" class="kq kr hi bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated"><strong class="ak">永远不要让构建中断</strong></h2><p id="5f03" class="pw-post-body-paragraph jn jo hi jp b jq ll ij js jt lm im jv jw ln jy jz ka lo kc kd ke lp kg kh ki hb bi translated">其次，不要将代码提交到已经损坏的构建中，除非您正在修复问题，否则会使问题复杂化。另一个团队承诺是，永远不要让构建崩溃。这总是适用的，但对于分布式团队更为重要。如果你破坏了构建，你要修复它。在周末离开之前，不要将代码放入系统中，除非确保构建通过，并且您将它部署到产品中。由此得出的结论是，不要删除失败的测试。现在，这应该是不言而喻的，但是我已经见过无数次了，当一个构建被破坏时，测试并没有修复问题，而是被静音了。永远都不会好的。如果一个测试不再有效，那么它应该基于产品功能的改变而被删除，而不是由于它的失败或通过状态。</p><h2 id="1f4f" class="kq kr hi bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated"><strong class="ak">确保构建通知集成到您的聊天工具中</strong></h2><p id="2d0d" class="pw-post-body-paragraph jn jo hi jp b jq ll ij js jt lm im jv jw ln jy jz ka lo kc kd ke lp kg kh ki hb bi translated">让我们花点时间来谈谈通知。现在，在设置CI时，我们喜欢将关于构建的消息放在我们的聊天工具和监控系统中。在工作中，我们的聊天工具Slack中的通知是为生成的；</p><p id="9d99" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">代码提交，</p><p id="3777" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">构建开始，</p><p id="745d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">构建完成，</p><p id="0ec6" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">部署到暂存，以及</p><p id="6c8e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">部署到生产。</p><p id="65a1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果代码被取消部署超过一个小时，也会为此发送一个通知。对于大多数这些事件，我们还在我们的监控工具Datadog中发出一个事件。这样，我们就可以将错误与代码变更联系起来。大多数CI系统都集成了主要的聊天操作平台和监控工具，但是如果有任何理由切换到不同的工具，这可能是一个。</p></div></div>    
</body>
</html>