<html>
<head>
<title>Ledge Grab — Grabbing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">壁架抓取—抓取</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/ledge-grab-grabbing-1a4333bc9355?source=collection_archive---------30-----------------------#2021-11-08">https://medium.com/geekculture/ledge-grab-grabbing-1a4333bc9355?source=collection_archive---------30-----------------------#2021-11-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/286426edf7d5d6138ddf748b60b74390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/1*qAYwvM-gSKDH3pL1yt-M9w.gif"/></div></figure><p id="aa21" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">目标</strong>:使用专用动画实现一个壁架抓取系统</p><p id="141f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本教程中，我们将实现一个壁架抓取功能:当跳跃不够好，无法直接降落在平台上时，角色将<strong class="io hj">抓取平台(一个特殊的平台)的壁架</strong>。</p><p id="ae26" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了做到这一点，我们现在要添加几个动画(即抓取和攀爬壁架)并定义壁架抓取的逻辑。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/91e7c07b91a6ec6bd6347129ba034ca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*WtUMngXQNumkD1SlHTwzaw.png"/></div></figure><p id="21e2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">奇怪的是，我发现从动画开始很有用。也许他们吓到我了，所以我想尽快解决他们。我在<a class="ae jp" href="https://www.mixamo.com" rel="noopener ugc nofollow" target="_blank"> Mixamo </a>上搜了一下，发现了一个闲挂动画和一个攀爬动画。和往常一样，我在Unity中导入了它们，并把它们拖进动画器中，烘烤到位。</p><p id="c84c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个想法是从任何状态过渡到<strong class="io hj">悬挂</strong>动画，当角色必须抓住壁架时(根据我们将要定义的一些逻辑)。从那里过渡到攀登动画，但这是下一个教程的材料。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/3f9c10216e53854f45cadbf82acd9d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_VctiviQ_c4q-eg_2qPAg.png"/></div></div></figure><p id="d7e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使抓取发生的最简单的方法是使用<strong class="io hj">触发器</strong>。我们定义了一个触发器<strong class="io hj">从壁架上伸出</strong>，这样当角色通过它时，我们可以触发一些抓取逻辑，我们就完成了！用这种方法，我们只需要预制一个触发物体，并把它放在任何我们想让我们的角色抓住的地方。</p><blockquote class="jv jw jx"><p id="fb2b" class="im in jy io b ip iq ir is it iu iv iw jz iy iz ja ka jc jd je kb jg jh ji jj hb bi translated">不要忘记刚体组件！</p></blockquote><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kc"><img src="../Images/c51348a43204f83e408202c2a5b6e884.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*EriIPx7NVDzAOdZ5STt9oQ.png"/></div></div></figure><p id="916d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后，我们要用空的对象(壁架的孩子)来存储两个重要的位置:哪里抓，爬上去后待在哪里。</p><p id="69ce" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这些都要靠经验<strong class="io hj">和试错</strong>才能找到。</p><h2 id="dbf4" class="kd ke hi bd kf kg kh ki kj kk kl km kn ix ko kp kq jb kr ks kt jf ku kv kw kx bi translated">抓住窗台</h2><p id="dc1c" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated">一旦盒子碰撞器(触发器)被很好地定位，我们就可以处理逻辑了。</p><p id="6881" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们要检测角色<strong class="io hj">什么时候进入</strong>触发器，然后告诉角色在哪里卡，在哪里爬，最后激活悬挂动画。为了做到这一点，我写了剧本，一个从角色的角度，另一个从窗台的角度。</p><figure class="jl jm jn jo fd ij"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="2109" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">角色逻辑简化为一个方法:这里我们得到角色控制器组件并且<strong class="io hj">禁用</strong>它，这将使角色卡在壁架上并且<strong class="io hj">通过我们脚本化的<strong class="io hj">重力</strong>阻止</strong>它落下。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/e5074a03cca7e469dd010c3b98fd8d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*St1KFgoh2AgoMvx24grcNg.png"/></div></figure><p id="d46d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后，我们通过设置其触发参数来触发悬挂动画。</p><p id="8dea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们通过<strong class="io hj">将角色抓牢</strong>到抓取位置并存储攀爬位置来结束这个方法。为了得到后者，我们从抓取开始，到达父母，然后到达另一个孩子。</p><h2 id="f2b3" class="kd ke hi bd kf kg kh ki kj kk kl km kn ix ko kp kq jb kr ks kt jf ku kv kw kx bi translated">检测壁架</h2><p id="c03c" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated">前一个方法将在触发器进入时被调用，由ledge脚本检测。</p><figure class="jl jm jn jo fd ij"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="d324" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将抓取位置传递给方法，在壁架的子对象中进行挑选。</p><p id="c797" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们看看我们有什么。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es if"><img src="../Images/286426edf7d5d6138ddf748b60b74390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/1*qAYwvM-gSKDH3pL1yt-M9w.gif"/></div></figure><p id="38e8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">看起来很酷！但是不要误会我的意思:在获得紧凑的马赫之前，我不得不尝试几次抓举位置。</p><p id="6312" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在下一个教程中，我们将关注<strong class="io hj">向上爬</strong>的部分，我们还将介绍另一个有用的<strong class="io hj">工具</strong>！</p></div></div>    
</body>
</html>