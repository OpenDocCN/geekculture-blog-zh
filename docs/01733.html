<html>
<head>
<title>How to Implement Flutter Barcode Scanner from Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从零开始实现Flutter条形码扫描仪</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-implement-flutter-barcode-scanner-from-scratch-d936a7ed3fa0?source=collection_archive---------20-----------------------#2021-04-21">https://medium.com/geekculture/how-to-implement-flutter-barcode-scanner-from-scratch-d936a7ed3fa0?source=collection_archive---------20-----------------------#2021-04-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0ce0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大约两年前，我写过一篇文章，分享如何一步一步用<a class="ae jd" href="https://www.dynamsoft.com/barcode-reader/overview/" rel="noopener ugc nofollow" target="_blank"> Dynamsoft条码阅读器</a>构建一个<a class="ae jd" href="https://www.dynamsoft.com/codepool/flutter-barcode-plugin.html" rel="noopener ugc nofollow" target="_blank"> Flutter条码插件</a>。当时Flutter还在开发中，只支持Android和iOS。如今，谷歌发布了Flutter 2，允许开发人员从单一代码库构建移动、web和桌面应用程序。如果你想建立跨平台的应用程序，从现在开始在Flutter上投入更多的努力是值得的。由于新的Flutter与旧的不兼容，我决定重构Flutter条形码插件的API，并添加一个新的方法来支持通过视频流实时扫描条形码。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/6247e286f075340fcaf2fafa76b6dcf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/0*1FFHH7y806tAiqkV.gif"/></div></figure><h1 id="ebd3" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">Flutter条形码SDK插件</h1><p id="cfb1" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">在下面的段落中，我将演示如何开发一个支持从图像文件和图像缓冲区读取条形码的Flutter条形码插件，以及如何将该插件发布到pub.dev。</p><h1 id="8279" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">用Dynamsoft条码阅读器开发Flutter条码SDK插件</h1><p id="81ea" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">我目前的计划是让这个插件适用于Android。因此，我创建插件包如下:</p><p id="eeb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要向插件项目中添加其他平台(如iOS)的代码，我可以运行:</p><p id="300d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">插件API在<code class="du kp kq kr ks b">lib/flutter_barcode_sdk.dart</code>文件中定义，它是Dart代码和特定于平台的代码之间的桥梁。生成一个<code class="du kp kq kr ks b">android/src/main/java/com/dynamsoft/flutter_barcode_sdk/FlutterBarcodeSdkPlugin.java</code>文件作为Android入口点。</p><h2 id="d5ac" class="kt jn hi bd jo ku kv kw js kx ky kz jw iq la lb ka iu lc ld ke iy le lf ki lg bi translated">Dart代码</h2><p id="9abd" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">让我们从<code class="du kp kq kr ks b">lib/flutter_barcode_sdk.dart</code>开始吧。</p><p id="ae29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步是定义一个<code class="du kp kq kr ks b">BarcodeResult</code>类，它包含条形码格式、结果和坐标点，用于反序列化从平台特定代码返回的JSON数据:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="c6fa" class="kt jn hi ks b fi ll lm l ln lo"><strong class="ks hj">class</strong> <strong class="ks hj">BarcodeResult</strong> {<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">String</strong> format;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">String</strong> text;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> x1;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> y1;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> x2;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> y2;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> x3;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> y3;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> x4;<br/>  <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> y4;<br/><br/>  BarcodeResult(<strong class="ks hj">this</strong>.format, <strong class="ks hj">this</strong>.text, <strong class="ks hj">this</strong>.x1, <strong class="ks hj">this</strong>.y1, <strong class="ks hj">this</strong>.x2, <strong class="ks hj">this</strong>.y2,<br/>      <strong class="ks hj">this</strong>.x3, <strong class="ks hj">this</strong>.y3, <strong class="ks hj">this</strong>.x4, <strong class="ks hj">this</strong>.y4);<br/><br/>  BarcodeResult.fromJson(Map&lt;<strong class="ks hj">dynamic</strong>, <strong class="ks hj">dynamic</strong>&gt; json)<br/>      : format = json['format'],<br/>        text = json['text'],<br/>        x1 = json['x1'],<br/>        y1 = json['y1'],<br/>        x2 = json['x2'],<br/>        y2 = json['y2'],<br/>        x3 = json['x3'],<br/>        y3 = json['y3'],<br/>        x4 = json['x4'],<br/>        y4 = json['y4'];<br/><br/>  Map&lt;<strong class="ks hj">String</strong>, <strong class="ks hj">dynamic</strong>&gt; toJson() =&gt; {<br/>        'format': format,<br/>        'text': text,<br/>        'x1': x1,<br/>        'y1': y1,<br/>        'x2': x2,<br/>        'y2': y2,<br/>        'x3': x3,<br/>        'y3': y3,<br/>        'x4': x4,<br/>        'y4': y4,<br/>      };<br/>}</span></pre><p id="2431" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分别为图片和视频流场景创建方法<code class="du kp kq kr ks b">decodeFile()</code>和<code class="du kp kq kr ks b">decodeImageBuffer()</code>:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="e255" class="kt jn hi ks b fi ll lm l ln lo">List&lt;BarcodeResult&gt; _convertResults(List&lt;Map&lt;<strong class="ks hj">dynamic</strong>, <strong class="ks hj">dynamic</strong>&gt;&gt; ret) {<br/>    <strong class="ks hj">return</strong> ret.map((data) =&gt; BarcodeResult.fromJson(data)).toList();<br/>}<br/><br/>Future&lt;List&lt;BarcodeResult&gt;&gt; decodeFile(<strong class="ks hj">String</strong> filename) async {<br/>    List&lt;Map&lt;<strong class="ks hj">dynamic</strong>, <strong class="ks hj">dynamic</strong>&gt;&gt; ret = List&lt;Map&lt;<strong class="ks hj">dynamic</strong>, <strong class="ks hj">dynamic</strong>&gt;&gt;.from(<br/>        await _channel.invokeMethod('decodeFile', {'filename': filename}));<br/>    <strong class="ks hj">return</strong> _convertResults(ret);<br/>}<br/><br/>Future&lt;List&lt;BarcodeResult&gt;&gt; decodeImageBuffer(<br/>      Uint8List bytes, <strong class="ks hj">int</strong> width, <strong class="ks hj">int</strong> height, <strong class="ks hj">int</strong> stride, <strong class="ks hj">int</strong> format) async {<br/>    List&lt;Map&lt;<strong class="ks hj">dynamic</strong>, <strong class="ks hj">dynamic</strong>&gt;&gt; ret = List&lt;Map&lt;<strong class="ks hj">dynamic</strong>, <strong class="ks hj">dynamic</strong>&gt;&gt;.from(<br/>        await _channel.invokeMethod('decodeImageBuffer', {<br/>      'bytes': bytes,<br/>      'width': width,<br/>      'height': height,<br/>      'stride': stride,<br/>      'format': format<br/>    }));<br/>    <strong class="ks hj">return</strong> _convertResults(ret);<br/>}</span></pre><p id="5269" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kp kq kr ks b">_convertResults()</code>功能用于将<code class="du kp kq kr ks b">List&lt;Map&lt;dynamic, dynamic&gt;&gt;</code>类型转换为<code class="du kp kq kr ks b">&lt;List&lt;BarcodeResult&gt;&gt;</code>类型。</p><h2 id="99c7" class="kt jn hi bd jo ku kv kw js kx ky kz jw iq la lb ka iu lc ld ke iy le lf ki lg bi translated">Java代码</h2><p id="6d0f" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">调用Flutter API时，会触发Android <code class="du kp kq kr ks b">onMethodCall()</code>功能:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="d480" class="kt jn hi ks b fi ll lm l ln lo">@Override<br/><strong class="ks hj">public</strong> <strong class="ks hj">void</strong> onMethodCall(@NonNull <strong class="ks hj">MethodCall</strong> call, @NonNull <strong class="ks hj">Result</strong> result) {<br/>    <strong class="ks hj">switch</strong> (call.method) {<br/>        <strong class="ks hj">case</strong> "getPlatformVersion":<br/>            result.success("Android " + android.os.Build.VERSION.RELEASE);<br/>            <strong class="ks hj">break</strong>;<br/>        <strong class="ks hj">case</strong> "decodeFile": {<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">String</strong> filename = call.argument("filename");<br/>            <strong class="ks hj">List</strong>&lt;<strong class="ks hj">Map</strong>&lt;<strong class="ks hj">String</strong>, <strong class="ks hj">Object</strong>&gt;&gt; results = mBarcodeManager.decodeFile(filename);<br/>            result.success(results);<br/>        }<br/>        <strong class="ks hj">break</strong>;<br/>        <strong class="ks hj">case</strong> "decodeFileBytes": {<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">byte</strong>[] bytes = call.argument("bytes");<br/>            <strong class="ks hj">List</strong>&lt;<strong class="ks hj">Map</strong>&lt;<strong class="ks hj">String</strong>, <strong class="ks hj">Object</strong>&gt;&gt; results = mBarcodeManager.decodeFileBytes(bytes);<br/>            result.success(results);<br/>        }<br/>        <strong class="ks hj">break</strong>;<br/>        <strong class="ks hj">case</strong> "decodeImageBuffer": {<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">byte</strong>[] bytes = call.argument("bytes");<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> width = call.argument("width");<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> height = call.argument("height");<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> stride = call.argument("stride");<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">int</strong> format = call.argument("format");<br/>            <strong class="ks hj">final</strong> <strong class="ks hj">Result</strong> r = result;<br/>            mExecutor.execute(<strong class="ks hj">new</strong> <strong class="ks hj">Runnable</strong>() {<br/>                @Override<br/>                <strong class="ks hj">public</strong> <strong class="ks hj">void</strong> run() {<br/>                    <strong class="ks hj">final</strong> <strong class="ks hj">List</strong>&lt;<strong class="ks hj">Map</strong>&lt;<strong class="ks hj">String</strong>, <strong class="ks hj">Object</strong>&gt;&gt; results = mBarcodeManager.decodeImageBuffer(bytes, width, height, stride, format);<br/>                    mHandler.post(<strong class="ks hj">new</strong> <strong class="ks hj">Runnable</strong>() {<br/>                        @Override<br/>                        <strong class="ks hj">public</strong> <strong class="ks hj">void</strong> run() {<br/>                            r.success(results);<br/>                        }<br/>                    });<br/><br/>                }<br/>            });<br/>        }<br/>        <strong class="ks hj">break</strong>;<br/>        <strong class="ks hj">default</strong>:<br/>            result.notImplemented();<br/>    }<br/>}</span></pre><p id="3bb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是特定于平台的代码的基本步骤:</p><ol class=""><li id="7b78" class="lp lq hi ih b ii ij im in iq lr iu ls iy lt jc lu lv lw lx bi translated">从Dart框架中提取参数。</li><li id="bbe2" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">处理图像数据。</li><li id="a171" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">返回结果。</li></ol><p id="c219" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kp kq kr ks b">decodeImageBuffer</code>方法是为摄像机流设计的。为了避免阻塞主线程，我使用<code class="du kp kq kr ks b">SingleThreadExectuor</code>来处理工作线程中的CPU密集型工作。</p><h1 id="8217" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">将Flutter条形码SDK插件发布到Pub.dev</h1><p id="5108" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">在发布插件之前，您最好运行以下命令通过分析:</p><p id="87ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果没有错误，您可以将包发布到pub.dev:</p><p id="dd42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经成功发布了颤振条码SDK到<a class="ae jd" href="https://pub.dev/packages/flutter_barcode_sdk" rel="noopener ugc nofollow" target="_blank">https://pub.dev/packages/flutter_barcode_sdk</a>。</p><h1 id="23a8" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">颤动条形码扫描仪</h1><p id="464f" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">插件完成后，就该用几行Dart代码构建一个条形码扫描仪应用程序了。</p><p id="ad94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我将Flutter相机插件和flutter_barcode_sdk添加到<code class="du kp kq kr ks b">pubspec.yaml</code>文件中:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="3540" class="kt jn hi ks b fi ll lm l ln lo">dependencies:<br/>  camera:<br/>  flutter_barcode_sdk:</span></pre><p id="0037" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，初始化<code class="du kp kq kr ks b">main.dart</code>中的摄像头和条码阅读器对象:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="9822" class="kt jn hi ks b fi ll lm l ln lo">CameraController _controller;<br/>Future&lt;<strong class="ks hj">void</strong>&gt; _initializeControllerFuture;<br/>FlutterBarcodeSdk _barcodeReader;<br/><strong class="ks hj">bool</strong> _isScanAvailable = <strong class="ks hj">true</strong>;<br/><strong class="ks hj">bool</strong> _isScanRunning = <strong class="ks hj">false</strong>;<br/><strong class="ks hj">String</strong> _barcodeResults = '';<br/><strong class="ks hj">String</strong> _buttonText = 'Start Video Scan';<br/><br/>@override<br/><strong class="ks hj">void</strong> initState() {<br/>  <strong class="ks hj">super</strong>.initState();<br/><br/>  _controller = CameraController(<br/>    widget.camera,<br/>    ResolutionPreset.medium,<br/>  );<br/><br/>  _initializeControllerFuture = _controller.initialize();<br/>  _initializeControllerFuture.then((_) {<br/>    setState(() {});<br/>  });<br/>  _barcodeReader = FlutterBarcodeSdk();<br/>}</span></pre><p id="981d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该应用程序由一个摄像头视图、一个文本小部件和两个按钮小部件组成:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="22c9" class="kt jn hi ks b fi ll lm l ln lo">@override<br/>Widget build(BuildContext context) {<br/>  <strong class="ks hj">return</strong> Column(children: [<br/>    Expanded(child: getCameraWidget()),<br/>    Container(<br/>      height: 100,<br/>      child: Row(children: &lt;Widget&gt;[<br/>        Text(<br/>          _barcodeResults,<br/>          style: TextStyle(fontSize: 14, color: Colors.white),<br/>        )<br/>      ]),<br/>    ),<br/>    Container(<br/>      height: 100,<br/>      child: Row(<br/>          mainAxisAlignment: MainAxisAlignment.spaceEvenly,<br/>          children: &lt;Widget&gt;[<br/>            MaterialButton(<br/>                child: Text(_buttonText),<br/>                textColor: Colors.white,<br/>                color: Colors.blue,<br/>                onPressed: () async {<br/>                  <strong class="ks hj">try</strong> {<br/>                    <em class="md">// Ensure that the camera is initialized.</em><br/>                    await _initializeControllerFuture;<br/><br/>                    videoScan();<br/>                    <em class="md">// pictureScan();</em><br/>                  } <strong class="ks hj">catch</strong> (e) {<br/>                    <em class="md">// If an error occurs, log the error to the console.</em><br/>                    print(e);<br/>                  }<br/>                }),<br/>            MaterialButton(<br/>                child: Text("Picture Scan"),<br/>                textColor: Colors.white,<br/>                color: Colors.blue,<br/>                onPressed: () async {<br/>                  pictureScan();<br/>                })<br/>          ]),<br/>    ),<br/>  ]);<br/>}</span></pre><p id="a313" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du kp kq kr ks b">videoScan()</code>函数中，我调用<a class="ae jd" href="https://pub.dev/documentation/camera/latest/camera/CameraController/startImageStream.html" rel="noopener ugc nofollow" target="_blank"> startImageStream() </a>连续获取最新的视频帧，并调用条码解码API:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="e98b" class="kt jn hi ks b fi ll lm l ln lo"><strong class="ks hj">void</strong> videoScan() async {<br/>  <strong class="ks hj">if</strong> (!_isScanRunning) {<br/>    setState(() {<br/>      _buttonText = 'Stop Video Scan';<br/>    });<br/>    _isScanRunning = <strong class="ks hj">true</strong>;<br/>    await _controller.startImageStream((CameraImage availableImage) async {<br/>      <strong class="ks hj">assert</strong>(defaultTargetPlatform == TargetPlatform.android ||<br/>          defaultTargetPlatform == TargetPlatform.iOS);<br/>      <strong class="ks hj">int</strong> format = FlutterBarcodeSdk.IF_UNKNOWN;<br/><br/>      <strong class="ks hj">switch</strong> (availableImage.format.group) {<br/>        <strong class="ks hj">case</strong> ImageFormatGroup.yuv420:<br/>          format = FlutterBarcodeSdk.IF_YUV420;<br/>          <strong class="ks hj">break</strong>;<br/>        <strong class="ks hj">case</strong> ImageFormatGroup.bgra8888:<br/>          format = FlutterBarcodeSdk.IF_BRGA8888;<br/>          <strong class="ks hj">break</strong>;<br/>        <strong class="ks hj">default</strong>:<br/>          format = FlutterBarcodeSdk.IF_UNKNOWN;<br/>      }<br/><br/>      <strong class="ks hj">if</strong> (!_isScanAvailable) {<br/>        <strong class="ks hj">return</strong>;<br/>      }<br/><br/>      _isScanAvailable = <strong class="ks hj">false</strong>;<br/><br/>      _barcodeReader<br/>          .decodeImageBuffer(<br/>              availableImage.planes[0].bytes,<br/>              availableImage.width,<br/>              availableImage.height,<br/>              availableImage.planes[0].bytesPerRow,<br/>              format)<br/>          .then((results) {<br/>        <strong class="ks hj">if</strong> (_isScanRunning) {<br/>          setState(() {<br/>            _barcodeResults = getBarcodeResults(results);<br/>          });<br/>        }<br/><br/>        _isScanAvailable = <strong class="ks hj">true</strong>;<br/>      }).catchError((error) {<br/>        _isScanAvailable = <strong class="ks hj">false</strong>;<br/>      });<br/>    });<br/>  } <strong class="ks hj">else</strong> {<br/>    setState(() {<br/>      _buttonText = 'Start Video Scan';<br/>      _barcodeResults = '';<br/>    });<br/>    _isScanRunning = <strong class="ks hj">false</strong>;<br/>    await _controller.stopImageStream();<br/>  }<br/>}</span></pre><p id="1457" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kp kq kr ks b">pictureScan()</code>功能从图像中读取条形码，并将图像和结果显示在<a class="ae jd" href="https://flutter.dev/docs/cookbook/plugins/picture-using-camera" rel="noopener ugc nofollow" target="_blank">画面</a>上:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="b5ad" class="kt jn hi ks b fi ll lm l ln lo"><strong class="ks hj">void</strong> pictureScan() async {<br/>  <strong class="ks hj">final</strong> image = await _controller.takePicture();<br/>  List&lt;BarcodeResult&gt; results = await _barcodeReader.decodeFile(image?.path);<br/><br/>  Navigator.push(<br/>    context,<br/>    MaterialPageRoute(<br/>      builder: (context) =&gt; DisplayPictureScreen(<br/>          imagePath: image?.path,<br/>          barcodeResults: getBarcodeResults(results)),<br/>    ),<br/>  );<br/>}</span></pre><p id="bec8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我可以构建并运行应用程序:</p><pre class="jf jg jh ji fd lh ks li lj aw lk bi"><span id="be2a" class="kt jn hi ks b fi ll lm l ln lo">flutter run</span></pre><p id="e81d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">树莓派包装盒上1D条形码和二维码的识别测试。</p><p id="bbbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">视频条形码扫描</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es me"><img src="../Images/ec40bb5edadfd1900b473112a7057dd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*7rtt1tBJyZafJDy4.jpg"/></div></figure><p id="53f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">图片条形码扫描</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es me"><img src="../Images/febf3ae2a27df1fd2afd5776794f2d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*kvWwEzYhUP7cl8s2.jpg"/></div></figure><h1 id="3f60" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">待办事项</h1><p id="c16e" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">iOS、Web和Windows。</p><h1 id="3636" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">源代码</h1><p id="f278" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/yushulx/flutter_barcode_sdk" rel="noopener ugc nofollow" target="_blank">https://github.com/yushulx/flutter_barcode_sdk</a></p></div><div class="ab cl mf mg gp mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hb hc hd he hf"><p id="525c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="md">原载于2021年4月21日https://www.dynamsoft.com</em><em class="md">T21</em><a class="ae jd" href="https://www.dynamsoft.com/codepool/flutter-barcode-scanner-plugin.html" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>