<html>
<head>
<title>How to Scan for Vulnerabilities in Cloud-Native Applications?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何扫描云原生应用的漏洞？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-scan-for-vulnerabilities-in-cloud-native-applications-eeaf5b66e1de?source=collection_archive---------23-----------------------#2021-07-20">https://medium.com/geekculture/how-to-scan-for-vulnerabilities-in-cloud-native-applications-eeaf5b66e1de?source=collection_archive---------23-----------------------#2021-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/509f9e17161f9fab60dd844ed9bced63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8VywBuaHMrlpVBkcCDuXQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Image created by the author</figcaption></figure><p id="ed13" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js">文章原载于'</em> <a class="ae jt" href="https://containerjournal.com/editorial-calendar/cloud-native-security/the-what-and-why-of-cloud-native-security/" rel="noopener ugc nofollow" target="_blank"> <em class="js">集装箱杂志</em> </a> <em class="js"> ' </em></p><p id="8eff" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在采用DevOps的过程中，许多IT组织仍然依赖传统的安全实践、策略和工具，而这些安全实践、策略和工具并不能承受现代云原生方法的扩展和复杂性。随着对安全性关注的减少，组织无法在这个快速变化的数字世界中实现自我转型。最近的调查和研究人员发现，安全性在软件开发生命周期中变得多么重要，而这可能是多年来被忽视的“安全团队的问题”</p><p id="44ee" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae jt" href="https://jfrog.com/devops-tools/what-is-devsecops/" rel="noopener ugc nofollow" target="_blank">DevSecOps</a>的出现帮助组织将安全性向左转移，但这就足够了吗？组织几乎还没有开始了解与他们的云原生之旅相关的复杂性和安全威胁。强烈建议使用现代的云原生最佳实践和工具来解决SDLC中发现的漏洞和威胁。</p><h1 id="002d" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">什么是云原生？</h1><p id="77a6" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">大约十年前，网飞和亚马逊等公司创造了“原生云”这个词。他们利用现代云实践、工具和技术。对于许多公司来说，云原生意味着创新，重塑，改变我们做软件开发的方式。</p><p id="6284" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云原生软件应用程序采用部署在轻量级容器中的微服务，这些容器使用低开销的编排、运行时和网络服务。云原生应用利用云计算框架和基础设施，并鼓励加快上市时间。</p><p id="61b6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这些应用程序使用现代云实践，如不可变基础设施、基础设施即代码(IaC)、容器和容器注册、服务网格、声明性和API。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kx"><img src="../Images/6a08ecd1d0b71e7296016cd5257485f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r977REK5yXjG2on8"/></div></div></figure><p id="f328" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em></strong><a class="ae jt" href="https://dzone.com/articles/securing-your-cloud-native-journey" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj"><em class="js">DZone</em></strong></a></p><p id="a513" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一家公司可以采取多个步骤来开始并推进这一旅程。Cloud-native的基本原则包括可扩展的应用程序、弹性架构和频繁更改的能力。</p><p id="8dd6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">旅程中要提到的三个阶段。</p><p id="e32d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">第一阶段&gt;开发者焦点&gt;容器采用</p><p id="ca80" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">第二阶段&gt;开发运维重点&gt;应用部署</p><p id="5fe2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">第三阶段&gt;业务重点(端到端)&gt;智能运营</p><p id="9583" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">现代云原生应用程序堆栈示例</strong></p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1555ff4a6d0131e8b2db39807ff8f7fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TMFGgF0vihbV_15J"/></div></div></figure><p id="1f36" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em></strong><a class="ae jt" href="https://linuxfoundation.org/webinars/cloud-native-security-exposed/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj"><em class="js">Linux基础</em> </strong> </a></p><p id="0daa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从根本上说，在较低层，您将拥有典型的it访问方面，即负载平衡器，您的网络负载平衡器或应用程序负载平衡器。然后您有大量的子网，在这些子网中您已经部署了所有的主机，在这些子网之上，我们实际上可以部署托管或自托管的Kubernetes:用于我们的容器部署的Kubernetes orchestrator。</p><p id="f865" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们还需要存储，无论是数据库还是云存储。因此，一旦我们有了所有这些工件，我们就部署我们的容器编排器。我们在orchestrator上利用、配置和部署应用程序的主要途径之一是使用orchestrator API。</p><p id="e2c7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">orchestrator公开了API服务器和一组非常丰富的功能，客户端可以利用这些功能在orchestrator上执行各种操作。现在，下一个方面是我们想要确保我们有隔离，在Kubernetes环境中有助于实现的一个方面是使用名称空间。这些名称空间将最终部署应用程序单元。因此，所有这些不同的工件构成了新的云原生应用程序堆栈。</p><h1 id="320d" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">为什么选择云原生安全性？</h1><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/51659683359ac435c6ff73f909c70716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HrqGAzOUnpbfGNeM"/></div></div></figure><p id="9a98" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">虽然将安全性“向左”转移近来得到了极大的关注，但是强烈建议将安全性集成到整个软件开发生命周期中，并且在每个阶段设置安全检查点被认为更有效。安全性左移意味着在开发生命周期的早期就优先考虑安全性，并使它(安全性)成为每个人的工作。通过这种方式，可以防止任何可能影响软件交付的漏洞和生产中的瓶颈。</p><p id="31ab" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae jt" href="https://www.helpnetsecurity.com/tag/oreilly/" rel="noopener ugc nofollow" target="_blank"> O'Reilly </a>对来自世界各地的590名安全从业者、开发运维经理和cxo进行的“公司如何采用和应用云原生基础架构”调查报告发现，安全性和合规性障碍是采用云原生基础架构的最大挑战之一。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/bf64b48ff6042eab10d815c01b147ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K5sC_SKvstXFB0X0"/></div></div></figure><p id="1878" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em></strong><a class="ae jt" href="https://www.helpnetsecurity.com/2019/05/01/cloud-native-adoption-obstacles/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj"><em class="js">helpnet security</em></strong></a></p><p id="c746" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云原生安全性解决了相关的安全问题。</p><p id="5638" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae jt" href="https://jfrog.com/webinar/devsecops-for-kubernetes-based-applications/" rel="noopener ugc nofollow" target="_blank">云原生安全性</a>迫使人们重新关注安全性，并将安全性转移到SDLC中。云原生应用必须得到保护，才能成功实现数字化转型。因此，云原生安全性可确保在SDLC中适时检测、识别和修复漏洞。这就是我们回忆DevSecOps方法的地方，在整个软件开发生命周期中烘焙安全性。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/e5b0ec4b4eb775392a2aaf3b850c6729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6kxSqiI6MhuJpY1M"/></div></div></figure><p id="bb68" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em></strong><a class="ae jt" href="https://dzone.com/articles/securing-cloud-native-apps" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj"><em class="js">DZone</em></strong></a></p><p id="9cc7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云原生安全性就像一个看门人，防范所有可能进入软件流程的安全漏洞。</p><h2 id="88af" class="le jv hi bd jw lf lg lh ka li lj lk ke jf ll lm ki jj ln lo km jn lp lq kq lr bi translated">云原生安全性的4 C(关于Kubernetes)</h2><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/66da429d083c335110ab7d5372be89ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JccUbv3qmW2JZtGz"/></div></div></figure><p id="33e1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em></strong><a class="ae jt" href="https://kubernetes.io/docs/concepts/security/overview/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj"><em class="js">kubernetes . io</em></strong></a></p><ul class=""><li id="8eb7" class="ls lt hi iw b ix iy jb jc jf lu jj lv jn lw jr lx ly lz ma bi translated"><strong class="iw hj">云基础设施</strong></li></ul><p id="0260" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云被认为是安全层的基础。必须在云级别采取措施，因为开发人员无法在代码级别配置应用程序安全性。这一切都是为了在各自的云提供商环境中运行安全的工作负载。</p><ul class=""><li id="7103" class="ls lt hi iw b ix iy jb jc jf lu jj lv jn lw jr lx ly lz ma bi translated"><strong class="iw hj">集群</strong></li></ul><p id="10c8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云之后是集群层，Kubernetes被认为是事实上的编排工具。使用Kubernetes时，有一些事情需要考虑——RBAC、Pod安全和网络策略、秘密管理、日志记录和监控。</p><ul class=""><li id="073e" class="ls lt hi iw b ix iy jb jc jf lu jj lv jn lw jr lx ly lz ma bi translated"><strong class="iw hj">集装箱安全</strong></li></ul><p id="19b7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这一层讨论容器安全管理和最佳实践。</p><p id="19ab" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当应用程序构建在容器中时，需要遵循某些安全最佳实践。首先，避免运行特权容器。大多数应用程序不需要root访问权限就可以运行，除了像监控或日志代理这样的系统容器。这应该可以防止入侵者获得对容器的根访问权限并访问主机节点。</p><ul class=""><li id="26f6" class="ls lt hi iw b ix iy jb jc jf lu jj lv jn lw jr lx ly lz ma bi translated"><strong class="iw hj">代码</strong></li></ul><p id="6cb5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云原生安全层的最后一个C是代码。增强应用程序代码的安全性是DevSecOps中的最佳实践之一。</p><p id="a3aa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一切都从源代码开始。通过在软件开发生命周期(SDLC)的早期捕捉安全漏洞，公司可以节省开发人员的时间、成本和精力。</p><p id="459b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">限制代码漏洞的一个最佳策略是使用专门为此目的而构建的工具，比如JFrog的Xray。</p><h2 id="a5bb" class="le jv hi bd jw lf lg lh ka li lj lk ke jf ll lm ki jj ln lo km jn lp lq kq lr bi translated">云原生安全方法</h2><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/c5fad5e7ea4b5780a3fbad55958d4c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2oiErGP3a5ijAH5y"/></div></div></figure><p id="3c69" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em> </strong> <a class="ae jt" href="https://www.checkpoint.com/downloads/products/checkpoint-cloud-native-security.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj"> <em class="js">检查点</em> </strong> </a></p><p id="1396" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">典型的软件开发流程包括以下步骤:开发人员开发代码/软件，在他/她的机器上进行本地测试，然后将代码提交给所使用的版本控制系统；CI/CD工具获取代码，构建代码，然后将代码推送到Docker compose，Docker compose还利用来自公共存储库的映像和包构建一个容器。然后将其放入注册表中；在成功分级的步骤之后，容器继续生产。所有这些步骤在每一点上都存在安全风险，因此必须小心处理。</p><p id="ffe6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">工作流可能包含带有漏洞的代码、库、从未知来源下载的图像、与许可相关的问题等。因此，作为DevSecOps的最佳实践，建议在开发工作流的每个阶段都有常规的检查点，以及云原生安全工具。</p><p id="7839" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae jt" href="https://cloud.google.com/security/beyondprod" rel="noopener ugc nofollow" target="_blank"> Google cloud </a>列出了迁移到云原生架构的安全隐含要求。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5155636c4c0e362c63b2ff1a5f423fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X59XRVth_tVZVzBb"/></div></div></figure><p id="d54f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">图片来源:</em> </strong> <a class="ae jt" href="https://cloud.google.com/security/beyondprod" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj"> <em class="js">谷歌云</em> </strong> </a></p><h2 id="44b4" class="le jv hi bd jw lf lg lh ka li lj lk ke jf ll lm ki jj ln lo km jn lp lq kq lr bi translated">扫描云原生应用中的漏洞</h2><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/f96ae9175f8cb99cf86fad7a0b5cf1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bb1DG-BaCZACwnov"/></div></div></figure><p id="38c5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在一个应用程序中，从代码到产品，通常会有许多依赖层。</p><p id="8238" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">例如，当应用程序用Java编写时，您可能会有Maven依赖项。下一步将是在Linux上运行这个应用程序，然后您将在Debian仓库中拥有依赖项。下一步是把它包装在Docker中，因为你想把它放在Kubernetes上，然后你将立即拥有Docker存储库。Kubernetes宇宙将会有像头盔中心这样的仓库。</p><p id="7608" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">云原生企业利用一个专门的地方来管理和存储所有这些依赖项、二进制文件和库，它是Artifactory。它拥有来自可信来源的所有依赖项和库。使用Artifactory可以让开发人员在开发时轻松获得单一的事实来源，并且可以使用这个名为Xray的工具轻松扫描任何依赖关系。<a class="ae jt" href="https://jfrog.com/artifactory/" rel="noopener ugc nofollow" target="_blank"> Artifactory </a>和<a class="ae jt" href="https://jfrog.com/xray/" rel="noopener ugc nofollow" target="_blank"> Xray </a>都是相互连接的，因此在处理云原生应用程序时，它们都具有成熟的安全工具。</p><h2 id="ae27" class="le jv hi bd jw lf lg lh ka li lj lk ke jf ll lm ki jj ln lo km jn lp lq kq lr bi translated">结论</h2><p id="58fc" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">安全已经走过了漫长的道路，并将继续存在。DevOps侧重于速度和敏捷性，而云原生安全性则侧重于整个基于云的SDLC的安全性方面。结合速度和安全性，企业可以轻松实现他们想要的数字化转型之旅。随着越来越多地采用云原生原则、工具和平台，存在安全风险的可能性，这可以通过使用安全工具和DevSecOps原则来缓解。采用一流的工具来检测和分析漏洞，在整个SDLC中集成安全检查点，让安全成为每个人的工作。让我们让黑客和攻击者远离我们的系统。</p><p id="9060" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">希望你喜欢这篇文章。更多此类云原生文章，关注Pavan on<a class="ae jt" href="https://twitter.com/Pavan_Belagatti" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">Twitter</strong></a><strong class="iw hj">。</strong></p></div></div>    
</body>
</html>