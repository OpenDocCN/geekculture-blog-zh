<html>
<head>
<title>How to jazz up your website like Apple with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript让你的网站变得像苹果一样有趣</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-jazz-up-your-website-like-apple-with-javascript-eed2bf227fec?source=collection_archive---------4-----------------------#2021-06-01">https://medium.com/geekculture/how-to-jazz-up-your-website-like-apple-with-javascript-eed2bf227fec?source=collection_archive---------4-----------------------#2021-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b9f8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">揭秘让苹果产品页面上的动画成为可能的JavaScript</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/cc80df2c50f5c536a22da44127e99a67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QSh2rsnppMY_nhdrJArJIw.png"/></div></div></figure><p id="1a2f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">不可否认，苹果公司的人知道如何制作一个有趣的产品页面。对于那些不熟悉的人，当你滚动时，下面是他们的<a class="ae kf" href="https://www.apple.com/ipad-pro/" rel="noopener ugc nofollow" target="_blank"> iPad Pro页面</a>上发生的事情:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kg"><img src="../Images/b409a84cb45ad8bc60001f9ab02d1be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*uglO16BgTjDg8Hlj25MgnA.gif"/></div><figcaption class="kh ki et er es kj kk bd b be z dx">Elegant transitions take your attention from one thing to the next, crafting a narrative to sell the product.</figcaption></figure><p id="61ec" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">作为一个视频，它已经非常令人印象深刻了，但他们把它变成了浏览器中的一个互动应用程序！如果浏览器中仅有的工具是HTML、CSS和JavaScript，他们是如何做到的？</p><p id="8267" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这篇文章有望揭开它背后的一些神秘面纱。</p><p id="4eee" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><em class="kl">快速提示，由于我不是业内人士，我不想解释苹果团队制作它的确切工作流程。(事实上，我相信他们使用了像ScrollMagic这样的库，正如其他人所提议的那样。)这篇文章旨在呈现一个详细的、低层次的观点，可以用最简单的基础知识来复制。</em></p><h1 id="0096" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">定义行为</h1><p id="5049" class="pw-post-body-paragraph jj jk hi jl b jm le ij jo jp lf im jr js lg ju jv jw lh jy jz ka li kc kd ke hb bi translated">这是产品页面的行为方式:</p><ol class=""><li id="1d72" class="lj lk hi jl b jm jn jp jq js ll jw lm ka ln ke lo lp lq lr bi translated">元素不会随着滚动条垂直移动，它们会停留在屏幕上的同一个位置。</li><li id="5b1f" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">在某些时候，元素不再粘在屏幕上，用户可以滚动到下一部分。</li><li id="3d11" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">有些动画会随着滚动而出现，如果用户停止滚动就会暂停。</li><li id="5523" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">当你向上滚动时，这些动画会反转。</li><li id="0e67" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">有些动画只要滚动位置达到某一点就会触发，如果用户停止滚动也不会暂停。</li></ol><p id="b543" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我今天介绍的方法让您可以用简单的JavaScript实现所有这些行为。</p><h1 id="2570" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">这是怎么做到的</h1><p id="4f7a" class="pw-post-body-paragraph jj jk hi jl b jm le ij jo jp lf im jr js lg ju jv jw lh jy jz ka li kc kd ke hb bi translated">我建议您继续探索我创建的站点，以说明我的意思。</p><p id="cf58" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae kf" href="https://ww-apple.netlify.app/#/" rel="noopener ugc nofollow" target="_blank">活生生的例子在这里</a>。对于那些更好奇的人来说，<a class="ae kf" href="https://github.com/weimingw/weiming-demystify-apple" rel="noopener ugc nofollow" target="_blank">回购在这里</a>(用React编写，尽管概念仍然是普通的JS)。</p><h2 id="38bb" class="lx kn hi bd ko ly lz ma ks mb mc md kw js me mf ky jw mg mh la ka mi mj lc mk bi translated">第1部分:HTML结构</h2><p id="c93f" class="pw-post-body-paragraph jj jk hi jl b jm le ij jo jp lf im jr js lg ju jv jw lh jy jz ka li kc kd ke hb bi translated">基本上是这样的:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="e55f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><code class="du mn mo mp mq b">position: sticky;</code>允许滚动时每个部分的元素停留在屏幕内(要求1)。它必须是<code class="du mn mo mp mq b">sticky</code>,因为我们希望元素在我们完成这个部分后不再停留在屏幕上(需求2)。<a class="ae kf" href="https://ww-apple.netlify.app/#/basic" rel="noopener ugc nofollow" target="_blank">在我的基本示例</a>中，您可以看到当您在父容器内滚动并经过它时，粘性元素是什么样子。</p><p id="503f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们在id为<code class="du mn mo mp mq b">container</code>的最外层元素上滚动，让JavaScript正确运行。</p><h2 id="d824" class="lx kn hi bd ko ly lz ma ks mb mc md kw js me mf ky jw mg mh la ka mi mj lc mk bi translated">第2部分:JavaScript</h2><p id="420a" class="pw-post-body-paragraph jj jk hi jl b jm le ij jo jp lf im jr js lg ju jv jw lh jy jz ka li kc kd ke hb bi translated">单单一个HTML结构并不能解释需求3和需求4的完美过渡。这需要两个部分:</p><ol class=""><li id="8558" class="lj lk hi jl b jm jn jp jq js ll jw lm ka ln ke lo lp lq lr bi translated">元素上的多个滚动监听器，每个部分一个。这些滚动侦听器将滚动位置转换为一个数字—当视图显示一个部分的顶部时为0，当视图显示一个部分的底部时为1。(<a class="ae kf" href="https://ww-apple.netlify.app/#/basic" rel="noopener ugc nofollow" target="_blank">由于很难解释，我强烈推荐看看我的真实例子，当你滚动</a>时，数字会明显更新。)</li><li id="b1b3" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">插值函数可以从第1部分中获取一个数字，并将其转换为HTML的CSS样式。这些函数倾向于以渐进的比例进行插值，就像这个函数，当用户滚动一个部分直到底部达到最大不透明度时，它会增加不透明度:</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="3236" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">最终的结果是，随着用户滚动，样式发生变化，并给出一个渐变的样式，导致一个类似于旧学校翻页书的动画的错觉！<a class="ae kf" href="https://ww-apple.netlify.app/#/full" rel="noopener ugc nofollow" target="_blank">在实践中，参见我的完整示例的第一部分</a>。</p><h2 id="500d" class="lx kn hi bd ko ly lz ma ks mb mc md kw js me mf ky jw mg mh la ka mi mj lc mk bi translated">第3部分:CSS(和更多的JS)</h2><p id="ec79" class="pw-post-body-paragraph jj jk hi jl b jm le ij jo jp lf im jr js lg ju jv jw lh jy jz ka li kc kd ke hb bi translated">最后，对于需求5，我们有这样一行简单的CSS:</p><pre class="iy iz ja jb fd mr mq ms mt aw mu bi"><span id="2c3f" class="lx kn hi mq b fi mv mw l mx my">transition: 0.5s all;</span></pre><p id="7fde" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后，我们将它与一个非渐进的插值函数配对:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="b5f3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后，这种组合允许动画通过滚动位置触发，但通过CSS动画！<a class="ae kf" href="https://ww-apple.netlify.app/#/full" rel="noopener ugc nofollow" target="_blank">在我的完整示例中，第二部分的文本表现如下</a>。</p><h1 id="8f6a" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">TLDR版本</h1><p id="8157" class="pw-post-body-paragraph jj jk hi jl b jm le ij jo jp lf im jr js lg ju jv jw lh jy jz ka li kc kd ke hb bi translated">综上所述，它的工作机制其实很简单:</p><ol class=""><li id="b73d" class="lj lk hi jl b jm jn jp jq js ll jw lm ka ln ke lo lp lq lr bi translated">滚动容器</li><li id="4c9b" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated"><code class="du mn mo mp mq b">position: sticky;</code>元素</li><li id="7c54" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">将滚动容器的滚动位置转换为粘性元素样式的JavaScript</li><li id="7781" class="lj lk hi jl b jm ls jp lt js lu jw lv ka lw ke lo lp lq lr bi translated">(有时)CSS <code class="du mn mo mp mq b">transition</code>属性</li></ol><p id="ea10" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这四个简单的步骤是你和美丽的用户体验之间的所有障碍。试试看！它能带来巨大的不同！</p></div></div>    
</body>
</html>