<html>
<head>
<title>Generic Functions in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript中的泛型函数</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/generic-functions-in-typescript-5edf65b80c02?source=collection_archive---------15-----------------------#2021-08-27">https://medium.com/geekculture/generic-functions-in-typescript-5edf65b80c02?source=collection_archive---------15-----------------------#2021-08-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/0e27eff6222032f5d2331d4cab666897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U1XME7fT9E5fprre"/></div></div></figure><div class=""/><p id="91fc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将看到一个函数如何管理多种类型的参数，并且我们将能够过滤异类👽</p><h1 id="3442" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">通用函数</h1><p id="0c03" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这可以帮助你限制你的函数只接受你想要的类型，例如我们需要过滤谁是外星人，谁是人类，因为我们只需要人类！</p><p id="9ab5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们从两个类开始，添加他的类型类Human <a b="">和Alien </a><a b="">都有DNA和别名，都有自己的构造函数，我们在构造函数上设置A和B泛型类型。</a></p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es kr"><img src="../Images/ea2a7d69f4e9b1c9d1746b4b69428785.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*s1TWj9IosjL10tdquZffWA.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example class with generics</figcaption></figure><p id="2fd7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在编译后的JavaScript上，它显示了带有这些变量的构造函数，这是因为它将删除A、B单词并替换为声明的类型。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es la"><img src="../Images/fb952c464a0f46c7d4012f8f9e5c51b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*oILpZlryFGESQDCI5aHbhQ.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">JavaScript Compiled class with generics types</figcaption></figure><p id="8ee9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之后，我们可以创建接受参数的函数，但是只有两个泛型类型，参数显示它只接受人类，但是我们要看看这是否正确。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lb"><img src="../Images/885e2ba7f19311bffd740952404e2d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*ePNoC15a748B6NxUnd7ShQ.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example generic function</figcaption></figure><p id="a938" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们实例化我们的人类和外星人来检查这是否正确</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es lc"><img src="../Images/9959133b8fadf05c4dfc029dd05dd8a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*MzeRjEs9bbnM1S8CzFLWRQ.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example instantiate classes with generics</figcaption></figure><p id="d112" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果显示“外星人就在我们中间”什么！</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es ld"><img src="../Images/77c38c5bf6cc1b815760e171a7af8f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*Z3jxZ9qAxdnOMlAxUPb1nQ.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example output</figcaption></figure><p id="82a4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是为什么我们的类在属性上是相似的，但是我们的通用函数工作得很好，它接受只有两种类型的参数，我们的IDE可以正确地猜测你要共享什么类型，最好的部分是它可以过滤异类👽。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es le"><img src="../Images/c3c886bd8315b5ea5983d3ee1b4242c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*_cQfkmr8mcRDzjFmq47Hsg.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example instantiate human and alien</figcaption></figure><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es lf"><img src="../Images/5b00f30724eeb1dbb55134e72083ec93.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*zfRIUjaFFwwC6YRHM0bs-g.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example instantiate human and alien without generics</figcaption></figure><h1 id="6599" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">密码</h1><pre class="ks kt ku kv fd lg lh li lj aw lk bi"><span id="ead4" class="ll jp ht lh b fi lm ln l lo lp">class Human&lt;A, B&gt; {<br/>constructor(<br/>public alias:  A,<br/>public  dna: B<br/>){} }</span><span id="69f5" class="ll jp ht lh b fi lq ln l lo lp">class Alien&lt;A, B&gt; {<br/>constructor( public alias:  A,public dna: B){}}<br/>function humansOnly&lt;A,B&gt;( humanA: Human&lt;A,B&gt;,humanB: Human&lt;A,B&gt;, ){return humanB.dna === humanA.dna}</span><span id="0577" class="ll jp ht lh b fi lq ln l lo lp">const human = new Human( 'Carter','red' )<br/>const alien = new Alien( 'Wolts','green' )<br/>console.log(humansOnly( human, alien ) ? 'Welcome home Humans' : 'Alien is among us')</span></pre><p id="309a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想稍微熟悉或者习惯这个通用函数，我们可以用两种类型的行星和飞船制作一个人类界面，我们的通用函数，让我们继续。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es lr"><img src="../Images/955592c95b711fa70c7b91d57e51759c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*50jqKwcIfE8AJ5HndBEILg.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example generic function with interface</figcaption></figure><p id="661f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们来看看泛型函数，因为它有一个T类型，它返回相同的T类型，如果我们创建我们的Jhon human，我们会看到这是否有效，但它有一个未知的类型，这就是为什么我们需要我们的接口。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es ls"><img src="../Images/a067c3aa6ce00ef93c35993e3e734f35.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*ZFKETBC9_FPhwgtY0e0YOA.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example unknown type generic function and errors</figcaption></figure><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es lt"><img src="../Images/8e17a994ecb74bb414ce4bda78179e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*ky2AghP0lx8XAPmiAJ5JLg.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">Example adding our Human interface to the generic function</figcaption></figure><p id="8f2b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将有助于Jhon，因为在这种情况下，它会显示这个对象有行星和船，如果我们不这样做，它会显示太多的错误，对IDE和我们来说都不清楚。</p><h1 id="3019" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">密码</h1><pre class="ks kt ku kv fd lg lh li lj aw lk bi"><span id="1f98" class="ll jp ht lh b fi lm ln l lo lp">interface Human {<br/>planet: string,<br/>ship: string<br/>}</span><span id="9539" class="ll jp ht lh b fi lq ln l lo lp">function planet &lt;T&gt;():T{<br/>return JSON.parse('{ "planet": "Earth", "ship": "Earth-1" }')<br/>}</span><span id="e4a5" class="ll jp ht lh b fi lq ln l lo lp">const jhon = planet&lt;Human&gt;()</span><span id="8cfe" class="ll jp ht lh b fi lq ln l lo lp">console.log(<br/>jhon.planet === 'Earth' ? 'Welcome Home ' : `Your home is ${jhon.planet}`)</span></pre><h1 id="216f" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="fb7d" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这个泛型函数非常有用，如果你想清除你的代码或者在你的参数上接收特定的类型，当我们用接口指定类型的时候，它会帮助我们，它看起来很干净，并且它对IDE了解你想用你的代码做什么很有帮助。</p><h1 id="232b" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">来源</h1><div class="hh hi ez fb hj lu"><a href="https://www.typescriptlang.org/" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hu fi z dy lz ea eb ma ed ef hs bi translated">带有类型语法的JavaScript。</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">TypeScript通过向语言中添加类型来扩展JavaScript。TypeScript通过以下方式加速您的开发体验…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.typescriptlang.org</p></div></div><div class="md l"><div class="me l mf mg mh md mi hp lu"/></div></div></a></div><div class="hh hi ez fb hj lu"><a href="https://www.typescriptlang.org/docs/handbook/2/generics.html" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hu fi z dy lz ea eb ma ed ef hs bi translated">文档-泛型</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">软件工程的一个主要部分是构建组件，这些组件不仅具有定义良好且一致的API，而且…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.typescriptlang.org</p></div></div><div class="md l"><div class="mj l mf mg mh md mi hp lu"/></div></div></a></div><div class="hh hi ez fb hj lu"><a href="https://www.amazon.com/Typescript-Quickly-Yakov-Fain/dp/1617295949/ref=sr_1_3?__mk_es_MX=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;dchild=1&amp;keywords=typescript&amp;qid=1630082209&amp;sr=8-3" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hu fi z dy lz ea eb ma ed ef hs bi translated">快速打字</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">在Amazon.com上快速打字[费恩，雅科夫，莫伊瑟夫，安东]。*符合条件的优惠可享受免费*运输。打字稿…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.amazon.com</p></div></div><div class="md l"><div class="mk l mf mg mh md mi hp lu"/></div></div></a></div></div></div>    
</body>
</html>