<html>
<head>
<title>Data Warehouse : Design Data Model for Video Streaming App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据仓库:为视频流应用程序设计数据模型</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/data-modeling-design-video-streaming-platform-e8aa4f121b1b?source=collection_archive---------3-----------------------#2021-06-04">https://medium.com/geekculture/data-modeling-design-video-streaming-platform-e8aa4f121b1b?source=collection_archive---------3-----------------------#2021-06-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8b7754932ddb730e284396a7d5fc0c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*--07h2EnBM9rVsy_"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="0ed0" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">四步维度设计流程:金宝集团</h1><ol class=""><li id="dc25" class="jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">选择业务流程</li><li id="ebfd" class="jt ju hi jv b jw kl jy km ka kn kc ko ke kp kg kh ki kj kk bi translated">声明粒度(“如何描述事实表中的单个行？”)</li><li id="83ac" class="jt ju hi jv b jw kl jy km ka kn kc ko ke kp kg kh ki kj kk bi translated">确定维度(“业务人员如何描述从业务流程度量事件中得到的数据？”)“何人、何事、何地、何时、为何、如何”与事件关联。</li><li id="a4b3" class="jt ju hi jv b jw kl jy km ka kn kc ko ke kp kg kh ki kj kk bi translated">确认事实</li></ol><p id="7f6d" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">参考自<a class="ae iu" href="https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/four-4-step-design-process/" rel="noopener ugc nofollow" target="_blank">https://www . Kimball group . com/data-warehouse-business-intelligence-resources/Kimball-techniques/dimensional-modeling-techniques/four-4-step-design-process/</a></p><h1 id="c82e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">案例研究:视频流平台应用</h1><p id="8301" class="pw-post-body-paragraph kq kr hi jv b jw jx kt ku jy jz kw kx ka lh kz la kc li lc ld ke lj lf lg kg hb bi translated"><strong class="jv hj">业务流程:</strong>为视频流平台建模，回答常见问题</p><blockquote class="lk ll lm"><p id="8e9d" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">每天/每月有多少用户流</p><p id="7924" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">每个用户的平均观看次数</p><p id="8fd5" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">查看特定内容的用户</p><p id="1f01" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">在发布日期观看特定内容的用户。</p></blockquote><p id="9516" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">纹:</strong>每个交易级别上的单独会话</p><p id="4bc7" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">维度:</strong>日期、用户、节目、计划、类型和设备</p><p id="d161" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">事实:</strong>会话和支付</p><p id="894e" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">派生事实:</strong>建议将它们物理存储在表中。在这个案例研究中，会话时间很简单，但是存储它意味着在ETL过程中一致地计算它，以消除用户计算错误的可能性。<strong class="jv hj">某些派生事实可以添加到视图中以最小化空间，或者可以添加到任何BI工具中。</strong></p><blockquote class="lk ll lm"><p id="ac46" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">示例1:会话时间(播放开始和结束时间之间的时间差。示例2:即将发布标志(Y/N)(如果发布日期晚于当前日期)</p></blockquote><p id="a3fb" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">第一部分:尺寸</strong></p><p id="3814" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">日期维度:</strong></p><p id="3865" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">所有数据模型总是需要一个显式的日期维度表。SQL date函数不支持许多日期组件，包括周数、财政年度、季节、假日、工作日和周末。与其试图在查询中确定这些计算，不如将其存储在日期维度表中。</p><p id="7909" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">用户维度:</strong></p><p id="c199" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">在这方面，我们将涵盖正在使用视频流应用程序的用户。我们将在模型的中心使用这些信息。用户表包含所有相关用户(当前用户和新用户)的列表。对于每个用户，我们将存储他们的唯一ID、姓名(名和姓)、电子邮件、地址、电话号码、加入日期、当前计划ID(以确定他们当前使用的会员身份)、活动(以确定用户是否仍然活动或选择退出服务)和付款ID。</p><blockquote class="lk ll lm"><p id="4b60" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">请注意，users表中没有提到用户登录的详细信息，我们当然可以维护不同的表，以便根据用户的权限(如果有的话)跟踪用户的每次登录(登录开始日期、登录结束日期)。</p><p id="25a7" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">还要注意，如果用户有一个以上的地址或电话号码，我们可以添加通信(类型(电话/电子邮件/地址)和首选项表。</p></blockquote><p id="20cf" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">计划维度:</strong></p><p id="5ccb" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">在这个领域，我们将涵盖用户可以在平台上选择的所有月度/年度会员计划。对于每个计划，都有一个唯一的ID、计划名称、屏幕数量限制、基本费率、计划开始日期、is活动列。</p><p id="4a9b" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">显示尺寸:</strong></p><p id="6ba3" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">在这方面，我们将涵盖视频流平台上的所有节目。每个节目都具有唯一的参考Id、节目描述/名称、节目类型(电影、连续剧、纪录片)、流派ID、播放时间/长度、发布日期(如果字幕可用)(布尔标志)以及音频描述是否可用(布尔标志)、是否可下载(布尔标志)。</p><blockquote class="lk ll lm"><p id="29e2" class="kq kr ln jv b jw ks kt ku jy kv kw kx lo ky kz la lp lb lc ld lq le lf lg kg hb bi translated">请注意，我们可以将电视连续剧单独放在一个单独的表中，而不包括在节目表中，以提供该季中每一集的更多细节(一个节目的一对多关系)。为了简单起见，我只显示了维度。</p></blockquote><p id="1126" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">流派维度:</strong></p><p id="aaa5" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">该表存储了平台上所有可用的流派。所有类型都有唯一的ID和类型(惊悚片、动作片、剧情片)，并且是指示类型状态的活动标志。</p><p id="a5c8" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">设备尺寸:</strong></p><p id="8237" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">该表存储了兼容使用该平台的所有设备。所有设备都有唯一的ID、设备类型(手机、平板电脑、台式机)和活动标志，以指示设备的状态。</p><p id="05ff" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">第二部分:事实</strong></p><p id="0371" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">会话事实:</strong></p><p id="2644" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">在此区域，我们将涵盖用户访问视频流平台时播放的所有会话。每个会话都有唯一的会话id、用户id、节目id、设备id、回放开始时间戳、回放结束时间戳、会话时间、暂停时间。</p><p id="bc1d" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">付款事实:</strong></p><p id="c241" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated">该表存储用户进行的所有支付。每笔付款包括付款id、用户Id(付款人)、付款日期、付款方式、总金额、交易ID和付款状态。</p><p id="a4c2" class="pw-post-body-paragraph kq kr hi jv b jw ks kt ku jy kv kw kx ka ky kz la kc lb lc ld ke le lf lg kg hb bi translated"><strong class="jv hj">图表:</strong></p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/f0cd2ca1046478c77118229cfc23975e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D2gbYp-3V4v0pAzdlSBXsw.png"/></div></div></figure></div></div>    
</body>
</html>