<html>
<head>
<title>Angular Localization Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度定位指南</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/angular-localization-guide-dcbbe4b150d7?source=collection_archive---------4-----------------------#2022-10-01">https://medium.com/geekculture/angular-localization-guide-dcbbe4b150d7?source=collection_archive---------4-----------------------#2022-10-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c3055c2175773a79573dce15b883154b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xkPBUw3k5vDlumiN_jRVlQ.png"/></div></div></figure><p id="16cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当考虑角度定位时，最常见和开箱即用的解决方案是基于文件的方法，它将保存所有字符串。有一些库为你管理字符串:内置的Angular i18n模块 或库<a class="ae jo" href="http://www.ngx-translate.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> ngx-translate </strong> </a>是最常用的。还有库<a class="ae jo" href="https://www.i18next.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> i18next </strong> </a>，这是一个通用的本地化框架，既支持纯JS，也支持框架驱动的应用。</p><p id="58b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">内置的i18n模块</strong>是开始本地化Angular应用程序的最简单的方法，但是它也有一些缺点:首先，你不能动态地改变语言环境，但是你需要编译所有的语言并为它们生成应用程序，没有简单的方法来创建一个定制的翻译加载器。第二，只支持XML文件，例如，它比JSON文件维护起来更复杂。</p><p id="2c1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第二个是<strong class="is hj"> ngx-translate </strong>，它是为了绕过这些限制而创建的。它工作得很好，很成熟，采用率很高，但尽管如此，内置模块正在快速发展，很快将支持这个伟大的第三方库提供的所有功能。它的主要缺点还是基于文件的方法。</p><p id="ddf4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一个，<strong class="is hj"> i18next </strong>是一个成熟而强大的库，用于管理基于文件的翻译，它有很多特性，可能不会被用于本地化的内置Angular模块取代。它是不断维护的，但是它也有前面提到的所有解决方案的缺点:它是一种基于文件的方法，需要更多的努力来执行不同的任务，如分支、发布等。</p><p id="cb0d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我们将指导你如何使用不同的方法实现角度本地化和国际化，这不涉及管理文件。更具体地说，我们将关注一种叫做<a class="ae jo" href="https://www.transifex.com/native/" rel="noopener ugc nofollow" target="_blank"> Transifex Native </a>的替代方法，你可以简单地在你的代码中使用它，而不需要你做额外的工作。所有可翻译的内容都由Transifex Native管理，所有翻译更新都是通过无线方式提供的，并具有您可以控制的额外缓存和分组功能。</p><h1 id="d73e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">装置</h1><p id="498d" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">要开始使用Transifex Native，您需要在代码中安装Transifex Native JavaScript SDK和额外的Angular components库。之后，您必须在Transifex应用程序中创建一个Transifex本地项目。Transifex项目将提供将您的应用程序链接到内容交付系统(CDS)所需的凭证，该系统将为您的所有内容提供服务。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="e854" class="lb jq hi kx b fi lc ld l le lf">npm install @transifex/native @transifex/angular @transifex/cli --save</span></pre><p id="5719" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为我们想在应用程序中使用Transifex Native Angular SDK，所以我们需要一些额外的步骤来利用SDK在模板和代码中公开的所有元素。</p><h1 id="e998" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">声明TXNativeModule</h1><p id="1602" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">在我们的主应用程序模块中，我们需要添加本机模块，如下所示:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="dd05" class="lb jq hi kx b fi lc ld l le lf">import { NgModule } from '@angular/core';<br/>import { BrowserModule } from '@angular/platform-browser';<br/>import { TxNativeModule } from '@transifex/angular';</span><span id="2297" class="lb jq hi kx b fi lg ld l le lf">import { AppComponent } from './app.component';</span><span id="4634" class="lb jq hi kx b fi lg ld l le lf">@NgModule({<br/>  declarations: [<br/>    AppComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    TxNativeModule.forRoot(),<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="bba7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这样，我们就可以在应用程序中使用Transifex Native Angular SDK提供的所有元素。</p><h1 id="3c83" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">初始化单一翻译服务</h1><p id="7c52" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">在我们的入口组件中，我们需要注入SDK提供的翻译服务，并用Transifex项目生成的令牌初始化库。该服务是一个单例实例，可以在应用程序的任何部分使用，因为初始化是全局完成的。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="8a27" class="lb jq hi kx b fi lc ld l le lf">import { Component } from '@angular/core';<br/>import { TranslationService } from '@transifex/angular';</span><span id="2283" class="lb jq hi kx b fi lg ld l le lf">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  constructor(private translationService: TranslationService) {<br/>    translationService.init({<br/>      token: '1/adfdaca976eb9b4d554d7******',<br/>    });<br/>  }<br/>}</span></pre><h1 id="3932" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">国际化进程</h1><p id="ba9d" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">有了SDK，您就可以开始在代码中使用提供的函数了。Native SDK提供了不同的方法来标记本地化字符串:</p><ul class=""><li id="06db" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated">模板中使用的T和UT组件</li><li id="fa45" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">在变量声明中使用的测试装饰器</li><li id="557d" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">模板中使用的翻译管道</li></ul><p id="82a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是在模板上使用Transifex Native的一个示例:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="d50f" class="lb jq hi kx b fi lc ld l le lf">&lt;h2&gt;{{ 'Hello world!' | translate }}&lt;/h2&gt;<br/>  &lt;p&gt;<br/>    &lt;UT<br/>      str="To review the &lt;b&gt;terms of service&lt;/b&gt; click here: &lt;a href=\'terms\'&gt;View terms&lt;/a&gt;"&gt;<br/>    &lt;/UT&gt;<br/>  &lt;/p&gt;<br/>  &lt;br/&gt;<br/>  &lt;p&gt;<br/>    &lt;T<br/>      str="Number of apples in the basket: {apples}"<br/>      [vars]="{ apples: apples_number }"&gt;<br/>    &lt;/T&gt;<br/>  &lt;/p&gt;</span></pre><p id="067a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如你在上面的例子中看到的，我们使用了<strong class="is hj">翻译管道</strong>和<strong class="is hj"> T/UT组件</strong>来标记你想要翻译的字符串，并传递属性，比如变量。其他可用的属性有密钥标识符、标签、字符限制、注释和上下文。这些属性将作为额外的上下文供本地化团队使用，以更好地完成他们的工作。</p><p id="5447" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您还可以在字符串中使用ICU语法来定义复数字符串，如下例所示。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="4c71" class="lb jq hi kx b fi lc ld l le lf">&lt;UT<br/>  str="Updated: {minutes, plural, =0 {just now} =1 {one minute ago} other<br/>  {# minutes ago}}"<br/>  [vars]="{ minutes: minutes }"<br/>&gt;&lt;/UT&gt;</span></pre><p id="94a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您需要在组件代码中翻译一些变量，您可以这样做:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="2b51" class="lb jq hi kx b fi lc ld l le lf">@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  @T('Angular Transifex Native Demo')<br/>  mainTitle!: string;<br/>...</span></pre><p id="76a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后在组件的模板中使用变量，如下所示:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="1b85" class="lb jq hi kx b fi lc ld l le lf">&lt;span&gt;&lt;UT str="{title} is running!" [vars]="{ title: mainTitle }"&gt;&lt;/UT&gt;&lt;/span&gt;</span></pre><p id="d7cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用上面共享的语法和T函数，您可以通过在所有现有代码文件中标记字符串来继续；不需要额外的文件。</p><h1 id="af69" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用翻译服务</h1><p id="cd89" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><a class="ae jo" href="https://developers.transifex.com/docs/angular-sdk#translationservice-service" rel="noopener ugc nofollow" target="_blank">翻译服务</a>可以在你的代码内部，在组件或者库中使用。它是一个强大的单例实例，公开了可以帮助您处理特定流程的方法和可观察对象。使用该服务，您可以:</p><ul class=""><li id="28c3" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated">初始化实例</li><li id="b917" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">添加、删除或选择替代实例</li><li id="630a" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">设置并获取当前区域设置</li><li id="5e1b" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">翻译字符串</li><li id="2e34" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">批量获取翻译以提高延迟加载和性能</li><li id="4e6b" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">检索可用的语言</li></ul><p id="f878" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您还可以订阅两个事件，以监控流量:</p><ul class=""><li id="6043" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated">区域设置已更改</li><li id="2bff" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">获取翻译</li></ul><h1 id="a954" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用内置语言选择器</h1><p id="4ea4" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Angular SDK提供了一个名为<a class="ae jo" href="https://developers.transifex.com/docs/angular-sdk#language-picker-component" rel="noopener ugc nofollow" target="_blank">语言选择器</a>的现成组件，以便轻松选择当前的语言环境。该组件公开一个事件来检测当前区域设置何时发生了更改。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="352d" class="lb jq hi kx b fi lc ld l le lf">&lt;!-- Toolbar --&gt;<br/>&lt;div class="toolbar" role="banner"&gt; <br/>  &lt;span class="welcome"&gt;{{ 'Welcome' | translate }}&lt;/span&gt;<br/>  &lt;div class="spacer"&gt;&lt;/div&gt;<br/>  &lt;tx-language-picker class="languagePicker"&gt;&lt;/tx-language-picker&gt;<br/>&lt;/div&gt;</span></pre><h1 id="f79e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">推送内容进行翻译</h1><p id="8d0c" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">要推送内容进行翻译，您需要在系统上安装<a class="ae jo" href="https://docs.transifex.com/javascript-sdk/uploading-source-content-to-transifex" rel="noopener ugc nofollow" target="_blank"> txjs-cli工具</a>。您还需要在Transifex项目中创建的令牌，以便能够向您的项目发送内容。使用CLI工具将扫描所选文件夹中的所有文件，并使用下面显示的命令将可翻译的内容推送到您的Transifex项目中。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="d1ff" class="lb jq hi kx b fi lc ld l le lf">$ npx txjs-cli push &lt;SRC_FOLDER&gt; --token=&lt;PROJECT_TOKEN&gt; --secret=&lt;PROJECT_SECRET&gt;</span></pre><p id="b2c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用附加参数，您可以用自定义标签标记您推送的内容，或者确保您清理了任何未使用的内容。阅读我们的<a class="ae jo" href="https://docs.transifex.com/javascript-sdk/uploading-source-content-to-transifex" rel="noopener ugc nofollow" target="_blank"> CLI文档</a>中的所有细节。</p><h1 id="488a" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">预览翻译</h1><p id="009e" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">要在应用程序中预览翻译，只需使用语言选择器切换语言。Native SDK的Angular组件包括一个语言选择器，它与本地服务绑定以请求翻译，但是您也可以构建自己的选择器。</p><p id="97b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当选择一种新语言时，Native SDK将检查是否缓存了最新的翻译版本。如果没有，它们将被获取并在应用程序中可用。随着新的翻译被添加到Transifex项目中，它们在一个小时内就可以在应用程序中使用了。</p><p id="2f99" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想在本地主机或实时环境中获得最新的翻译，可以在命令行界面中使用invalidate命令。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="6ed1" class="lb jq hi kx b fi lc ld l le lf">$ npx txjs-cli invalidate --token=&lt;PROJECT_TOKEN&gt; --secret=&lt;PROJECT_SECRET&gt;</span></pre><h1 id="5f8a" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">在Transifex中处理翻译</h1><p id="9f83" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">进入Transifex接口，您从代码中推送的所有内容都被添加到您的Transifex原生项目的资源中。要访问您推送的短语，请访问编辑器。</p><p id="21aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在编辑器界面中，您将看到完整的短语列表和一组有助于内容本地化的工具。您和您的本地化团队可以通过添加新的翻译或改进现有的翻译来开始处理内容。只要保存了翻译，它就会自动在您的本地应用程序中可用。</p><p id="f532" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用Transifex Native，您还可以修复错别字或改进原文的文案。点击<a class="ae jo" href="https://docs.transifex.com/projects/edit-source-strings" rel="noopener ugc nofollow" target="_blank">编辑源字符串</a>选项，改进您的内容。与翻译类似，所有编辑都可以在您的本机应用程序中使用。</p><p id="caa6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">我什么时候能在应用程序中看到更新的内容？</strong></p><p id="af32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Transifex本地翻译由一个名为<a class="ae jo" href="https://docs.transifex.com/transifex-native-sdk-overview/hosting-translations" rel="noopener ugc nofollow" target="_blank"> Transifex CDS </a>的安全CDN服务器提供，每小时更新一次。Native CDS是一个开源服务器，您可以将其安装在自己的基础设施中，以获得额外的修改和安全性。</p><h1 id="610d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">进一步优化您的工作流程</h1><p id="41f4" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Transifex Native非常灵活，可以通过开放的架构和工具集支持更复杂的工作流。</p><h1 id="7fd5" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用分支</h1><p id="150c" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">如果处理多个分支，可以通过直接向CLI命令添加标记来标记推送到本机的字符串。这样，您可以在Transifex中对本地化工作进行优先级排序，因为您的本地化团队可以在编辑器中通过标签进行过滤。要使用标签推送，请使用下面显示的命令。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="9424" class="lb jq hi kx b fi lc ld l le lf">txjs-cli push &lt;SRC_FOLDER&gt; --token=&lt;PROJECT_TOKEN&gt; --secret=&lt;PROJECT_SECRET&gt; --append-tags=&lt;YOUR_TAG&gt;</span></pre><h1 id="b5c8" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用字符串键，增加可重用性</h1><p id="afe9" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">如果您想改进开发团队的工作流程，优化本地化团队需要翻译的内容数量，请为字符串使用关键字。</p><p id="95ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用键，您需要在本机函数中添加一个额外的属性，将字符串标记为可翻译的。键是唯一的标识符，可以在代码的其他区域重用。具有相同键的多个字符串在Transifex中作为单个字符串被推送。因此，本地化团队只需要添加一个翻译。</p><p id="d066" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用key属性，只需在T组件中传递_key参数:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="efd9" class="lb jq hi kx b fi lc ld l le lf">&lt;Text&gt;&lt;T _str="Hello world" _key=”welcome.string” /&gt;&lt;/Text&gt;</span></pre><h1 id="858a" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">内容拆分</h1><p id="af63" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">要在特定页面上提供较小的翻译块，您可以使用内容拆分功能。如果你的应用程序有很多内容，但并不需要在每个屏幕上显示，那么把你的内容分成小块是非常有用的。例如，当访问者在您的应用程序设置页面上时，没有理由通过无线方式获取您的帮助中心内容。</p><p id="ab54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">内容分割基于标签，因此您可以设置新标签或使用任何现有的标签来分割您的内容。</p><p id="962e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用内容拆分，请在tx.init函数中设置适当的标记:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="01c3" class="lb jq hi kx b fi lc ld l le lf">tx.init({<br/>  token: 'project_token',<br/>  filterTags: 'homepage',<br/>});</span><span id="854a" class="lb jq hi kx b fi lg ld l le lf">You can combine content splitting with your branching tags, so you can test or debug localization in your localhost or staging environments:</span><span id="af75" class="lb jq hi kx b fi lg ld l le lf">tx.init({<br/>  token: 'project_token',<br/>  filterTags: 'new-login-page-branch',<br/>});</span></pre><p id="0e66" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">阅读关于<a class="ae jo" href="https://docs.transifex.com/javascript-sdk/content-splitting" rel="noopener ugc nofollow" target="_blank">内容分割</a>的文档以获得完整概述。</p><h1 id="a8e2" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">延迟加载翻译</h1><p id="d961" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">结合内容分割，出于性能原因，您可以在需要时批量加载翻译。</p><p id="d069" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在组件首次呈现时获取特定的翻译，例如:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="4e1b" class="lb jq hi kx b fi lc ld l le lf">constructor(private translationService: TranslationService) { }</span><span id="6f1d" class="lb jq hi kx b fi lg ld l le lf">  async ngOnInit(): void {<br/>    await this.translationService.fetchTranslations('menu');<br/>  }</span></pre><p id="a23b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者在模板的一部分中，以便获取一组用特定标签组合标记的翻译，例如:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="25fe" class="lb jq hi kx b fi lc ld l le lf">&lt;p class="small-text" [txLoadTranslations]="'menu'"&gt;<br/>    &lt;a href="#/home"&gt;<br/>      &lt;UT str="home" key="text.home" inline=true&gt;&lt;/UT&gt;<br/>    &lt;/a&gt;<br/>    &amp;nbsp;<br/>    &lt;a href="#/terms"&gt;<br/>      &lt;UT str="terms of service" key="text.terms_of_service_1" inline=true&gt;&lt;/UT&gt;<br/>    &lt;/a&gt;<br/>    &amp;nbsp;<br/>    &lt;a href="#/privacy"&gt;<br/>      &lt;UT str="privacy policy" key="text.privacy_policy_1" inline=true&gt;&lt;/UT&gt;<br/>    &lt;/a&gt;<br/>    &lt;a class="align-right" href="#/login"&gt;<br/>      &lt;UT str="logout" key="text.logout" inline=true&gt;&lt;/UT&gt;<br/>    &lt;/a&gt;<br/>  &lt;/p&gt;</span></pre><h1 id="5d5a" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">自动化应用程序发布</h1><p id="4452" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">当您的特性或分支准备好进行部署时，您也可以使用Native对您的内容进行一些整理。因为内容总是被添加到您的Transifex本地资源中，所以当您在您的分支上进行测试时，您可能会得到许多字符串工件。</p><p id="927e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">推送时，您可以使用purge属性清除本机CLI工具中的所有错误内容:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="b848" class="lb jq hi kx b fi lc ld l le lf">$ txjs-cli push &lt;SRC_FOLDER&gt; --token=&lt;PROJECT_TOKEN&gt; --secret=&lt;PROJECT_SECRET&gt; --purge</span></pre><p id="4ca0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Purge将解析在<src_folder>中找到的所有代码文件，仅保留在这些文件中检测到的短语，删除代码文件中未检测到的任何短语。</src_folder></p><p id="8aa1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过在您的部署流程中包含清除选项，您可以对自动导航进行管理。</p><h1 id="dfa3" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">为更好的翻译添加更多上下文</h1><p id="e2d9" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">您在Transifex中工作的本地化团队将需要您所推广的每个短语的更多上下文。通过使用测试函数的附加属性，可以直接从角度分量提供上下文:</p><ul class=""><li id="b767" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hj">上下文</strong>，提供关于短语的更多细节</li><li id="9eeb" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hj">评论</strong>，在这里你可以分享关于短语的说明</li><li id="2fd2" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hj">字符限制</strong>，分享关于翻译长度的具体要求</li><li id="b1bb" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hj">标签</strong>，用于更好的字符串分组。</li></ul><p id="7ff0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这种情况的一个例子如下:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="c2a9" class="lb jq hi kx b fi lc ld l le lf">&lt;Text&gt;&lt;T _str="Hello world" _context=”login screen, welcome screen” _comments=”String displayed as header and is followed by explanation paragraph” _charlimit=”30” /&gt;&lt;/Text&gt;</span></pre><p id="3650" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您附加到每个短语的所有附加信息都可以在编辑器的<a class="ae jo" href="https://docs.transifex.com/translation/tools-in-the-editor#section-details-&amp;-context-for-translators" rel="noopener ugc nofollow" target="_blank">上下文选项卡</a>中找到。</p><h1 id="f572" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用Transifex Native进行角度定位的3个原因</h1><p id="2c17" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">现在你知道如何安装Transifex Native了，但是你知道“为什么”吗？以下是您应该在堆栈上安装Native的3个原因:</p><ul class=""><li id="8e1a" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hj">减少开发人员的工作量:</strong> Native通过将本地化作为代码的一部分，最大限度地减少了开发人员对本地化过程的参与。</li><li id="8470" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hj">没有更多的文件:</strong>老式的本地化方法很大一部分是将文件从TMS来回传输到您的平台。这么简单的任务肯定可以自动化，对吗？这是Transifex Native的一大特色。</li><li id="1b63" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hj">专注于本地化:</strong>忘记必须实现应用程序的翻译更新。Native将本地化与开发分开，以便翻译人员可以专注于翻译，工程师可以专注于编程。</li></ul><h1 id="8240" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">包扎</h1><p id="82ce" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">有几个库可以处理角度应用程序的角度本地化和国际化。他们中的大多数使用基于文件的方法来处理每个地区的翻译。<strong class="is hj"> Transifex Native </strong>提供了一种基于新方法的解决方案，即“空中传送”,它有很多好处，并且有不同的工具和SDK来帮助迁移到这种新方法。很容易尝试和比较传统技术，并决定哪种更适合您的工作流程。</p><p id="4c35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">延伸阅读:</strong></p><ul class=""><li id="9fd6" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><a class="ae jo" href="https://www.transifex.com/blog/2021/how-we-migrated-to-tx-native-in-2-weeks/" rel="noopener ugc nofollow" target="_blank">我们如何在两周内迁移到transi fex Native</a></li><li id="ac72" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><a class="ae jo" href="https://www.transifex.com/blog/2021/transifex-native-modern-approach-application-localization/" rel="noopener ugc nofollow" target="_blank"> Transifex Native:应用程序本地化的现代方法</a></li></ul><p id="0101" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本帖原载<a class="ae jo" href="https://www.transifex.com/blog/2022/angular-localization-getting-started-with-transifex-native/" rel="noopener ugc nofollow" target="_blank">本页面</a>。</p></div></div>    
</body>
</html>