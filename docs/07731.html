<html>
<head>
<title>I built a Pokedex to demonstrate Next.js’ data fetching techniques.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我构建了一个Pokedex来演示Next.js的数据获取技术。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/i-built-a-pokedex-to-demonstrate-next-js-data-fetching-techniques-c77a94df8239?source=collection_archive---------18-----------------------#2021-09-28">https://medium.com/geekculture/i-built-a-pokedex-to-demonstrate-next-js-data-fetching-techniques-c77a94df8239?source=collection_archive---------18-----------------------#2021-09-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e5039eb778298e0a073a2d68a755fb2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iZQHuLde5nxd9cp1QP2vg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">CSR, SSR, SSG w/ Next.js</figcaption></figure><h1 id="86b2" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">概观</h1><p id="63f2" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">Next.js吸引人的原因之一是能够在客户端(浏览器中)和服务器端呈现应用程序，以及能够在构建时静态生成页面。让我们仔细看看这些术语的含义:</p><p id="e5b1" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated"><strong class="ju hj"> 1。客户端渲染:</strong>在客户端渲染的应用中，服务器本质上是向客户端发送一个空白的HTML页面(加载状态)，没有任何动态内容。你不会真的看到任何有意义的瞬间。在呈现加载状态的同时，客户端(浏览器)向所需的服务器发送多个API请求，以获取动态内容，并在稍后使用动态数据对应用程序进行再水合。</p><p id="3712" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated"><strong class="ju hj"> 2。服务器端呈现:</strong>在服务器端呈现的应用程序中，服务器预先呈现带有动态数据的页面，最终，一旦在服务器端完成了水化，它就将带有动态数据的完全填充的HTML页面交付给客户机。服务器端呈现实质上是在服务器上为页面生成整个HTML。</p><p id="258d" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated"><strong class="ju hj"> 3。静态站点生成:</strong>静态站点生成在构建期间生成页面。基本上，一个静态生成的站点会在任何用户请求之前提前生成HTML页面。而且，通过Next.js的增量静态再生(ISR ),我们可以在每页的基础上静态生成，而不需要重建整个网站，这意味着您可以随着新数据的到来而增量更新静态页面。</p><h1 id="2ec7" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">CSR是如何运作的？</h1><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/29c3b61ff4eded4e08bf3abf491c9a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QnwpzdUw2SEWGZqbANMOZw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Client-side rendering</figcaption></figure><ul class=""><li id="84c9" class="la lb hi ju b jv kq jz kr kd lc kh ld kl le kp lf lg lh li bi translated">当客户端向服务器发送网页请求时，服务器会向客户端发送一个空白的HTML页面(没有任何动态数据)。</li><li id="7b8e" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">客户端立即为空白的HTML页面提供加载状态。(大多数时候我们会注意到加载动画)。这是客户端发出API请求来获取动态数据的时候。</li><li id="59b8" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">一旦动态数据可用，客户端/浏览器就用动态/新数据重新组合应用程序。</li></ul><h1 id="882f" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">SSR是如何工作的？</h1><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/312148d44c9b09bad7db22796fe96a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4PgPVcFq6-bhgeDtK8kuQw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Server-side rendering</figcaption></figure><ul class=""><li id="2999" class="la lb hi ju b jv kq jz kr kd lc kh ld kl le kp lf lg lh li bi translated">当客户端向服务器发送网页请求时，服务器实际上预先呈现并准备了包含所有动态数据的HTML页面。</li><li id="b6aa" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">这就是为什么服务器端渲染往往具有较慢的首字节时间(TTFB)的原因，因为它们在服务器上工作。</li><li id="a3cb" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">一旦服务器将预先呈现的页面发送给客户机，客户机就显示HTML页面。这也有助于避免多次从客户端请求数据。</li></ul><h1 id="2687" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">SSG是如何运作的？</h1><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/f5c43050d734a9aba4e177599bea277a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LKCPWX5-pm_Nx5aeyXKZVA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Static-site generation</figcaption></figure><ul class=""><li id="176d" class="la lb hi ju b jv kq jz kr kd lc kh ld kl le kp lf lg lh li bi translated">基本的静态站点生成包括在构建期间甚至在任何用户请求之前预生成或生成页面(有/没有动态数据)。</li><li id="cc86" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">客户端立即显示静态生成的页面。但是这种方法有一定的局限性。如果我们有大量的页面需要预先生成，这可能会大大增加应用程序的构建时间。</li><li id="cdc4" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">还有另一种非常有趣的方法涉及静态站点生成，称为增量静态再生(ISR)。ISR允许在每页的基础上静态生成，而不需要重建整个网站。</li><li id="3b3a" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">这意味着应用程序将根据请求提供所有预先构建的页面，但是如果用户请求不是预先生成的页面，它将提供一个后备版本(或加载状态)，同时Next.js将发出API请求，在服务器上生成所请求的页面。</li><li id="5626" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">并且在对同一页面的后续请求中，Next.js将服务于已经生成的页面，而不会重新生成它。</li></ul><h1 id="cbc8" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">CSR、SSR和SSG的使用案例</h1><h2 id="73f2" class="lp iv hi bd iw lq lr ls ja lt lu lv je kd lw lx ji kh ly lz jm kl ma mb jq mc bi translated">客户端渲染</h2><ul class=""><li id="5d26" class="la lb hi ju b jv jw jz ka kd md kh me kl mf kp lf lg lh li bi translated">认证页面或付费墙/私人仪表板页面。</li><li id="1b0d" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">数据更新频繁的页面。例如，具有实时数据更新的页面。</li><li id="c099" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">按需请求数据的银行网站。</li><li id="9a74" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">不需要SEO优化的页面。</li></ul><h2 id="58a3" class="lp iv hi bd iw lq lr ls ja lt lu lv je kd lw lx ji kh ly lz jm kl ma mb jq mc bi translated">服务器端渲染</h2><ul class=""><li id="3edf" class="la lb hi ju b jv jw jz ka kd md kh me kl mf kp lf lg lh li bi translated">可用于需要大量工作负载的页面。</li><li id="17f6" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">需要链接预览的网站。</li><li id="b38e" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">有很多页面的网站(仅根据请求呈现)。</li><li id="cfe6" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">需要SEO优化的页面。</li></ul><h2 id="9a06" class="lp iv hi bd iw lq lr ls ja lt lu lv je kd lw lx ji kh ly lz jm kl ma mb jq mc bi translated">静态站点生成</h2><ul class=""><li id="7944" class="la lb hi ju b jv jw jz ka kd md kh me kl mf kp lf lg lh li bi translated">数据不经常更新的文档页面。</li><li id="a68e" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">博客网站。</li><li id="9130" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">非常适合同构应用程序/网站。</li><li id="3eef" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">需要SEO优化的页面。</li></ul><h1 id="4d4c" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">演示</h1><p id="1bf8" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">我已经使用Next.js构建了一个演示客户端呈现、服务器端呈现和静态站点生成的基本应用程序。构建该应用程序是为了实现并帮助解释Next.js的数据获取技术。Next.js通过允许开发人员选择他们希望如何在每页的基础上呈现应用程序，提供了一个非常棒的开发人员体验。</p><h1 id="8835" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">参考</h1><ul class=""><li id="c32b" class="la lb hi ju b jv jw jz ka kd md kh me kl mf kp lf lg lh li bi translated">Next.js '取数据<a class="ae mg" href="https://nextjs.org/docs/basic-features/data-fetching" rel="noopener ugc nofollow" target="_blank">技巧</a>。</li><li id="7a8f" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated">演示应用<a class="ae mg" href="https://github.com/Boro23-wq/Pokedex-w-Next" rel="noopener ugc nofollow" target="_blank">回购</a>。</li><li id="6d0c" class="la lb hi ju b jv lj jz lk kd ll kh lm kl ln kp lf lg lh li bi translated"><a class="ae mg" href="https://www.toptal.com/front-end/client-side-vs-server-side-pre-rendering" rel="noopener ugc nofollow" target="_blank">总比分</a> —中国南车vs SSR vs SSG</li></ul></div></div>    
</body>
</html>