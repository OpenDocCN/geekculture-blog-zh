<html>
<head>
<title>Integrating Vue CLI in an Existing Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Vue CLI集成到现有项目中</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/integrating-vue-cli-in-an-existing-project-67f4e6eefaef?source=collection_archive---------14-----------------------#2021-05-27">https://medium.com/geekculture/integrating-vue-cli-in-an-existing-project-67f4e6eefaef?source=collection_archive---------14-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6bf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你有一个现有的项目，并想使用Vue.js(结合<a class="ae jd" href="https://vuejs.org/v2/guide/single-file-components.html" rel="noopener ugc nofollow" target="_blank">单个文件组件</a>，这可能是一个斗争，让你的。vue文件编译时，你也需要支持IE11。</p><p id="1bdf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文描述了如何在现有项目中使用Vue CLI，而不需要太多的webpack知识。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/75095bb5b042a932009e480dd0c9961b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wcHhDioYK01ITtPZU-dTw.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Some fellow developer also connecting dots ;). Source: <a class="ae jd" href="https://www.pexels.com/nl-nl/foto/vrouwelijke-software-ingenieur-codering-op-computer-3861972/" rel="noopener ugc nofollow" target="_blank">Pexels.com</a></figcaption></figure><h1 id="94a0" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated"><strong class="ak">简介</strong></h1><p id="2053" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">当我面临这个问题时，我在medium上找不到任何匹配的文章(没有过时)。这就是为什么我决定写这篇文章给任何正在寻找这些信息的人。</p><p id="f6ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我必须满足两个非常重要的要求:</strong></p><ul class=""><li id="f6e9" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">在现有项目中，使用。需要编译vue扩展；</li><li id="04d3" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">网站需要在IE11中工作。</li></ul><h2 id="489a" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">等等，这篇文章适合我吗？</h2><p id="0856" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我为每个人写了这篇文章，但是可能需要一些知识来完全理解我所论述的一切:</p><ul class=""><li id="1d3a" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">Vue.js的知识；</li><li id="dc1b" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">你知道如何用<code class="du lz ma mb mc b">vue-cli</code>设置一个项目，特别是用<code class="du lz ma mb mc b">vue create [my-app]</code>命令。</li></ul><h1 id="4b0e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated"><strong class="ak">旅程</strong></h1><p id="17b9" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我想到的第一件事是:好吧，让我们用<strong class="ih hj"> webpack </strong>试试这个。Vue有一些关于如何手动配置webpack进行编译的文档。vue文件。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es md"><img src="../Images/be5ec0cf6268357b7850709ae28177a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Joc2rt5SuEEhBWX3vvCaBw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Vue’s documentation about custom configurations. Source: <a class="ae jd" href="https://vuejs.org/v2/guide/single-file-components.html#For-Advanced-Users" rel="noopener ugc nofollow" target="_blank">vuejs.org</a></figcaption></figure><p id="d39f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我按照指定的方式进行了配置，一切都运行良好。但是当我在IE11中浏览这个网站时，它只是一片空白。</p><p id="2f6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">救命啊！</p><p id="d6d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当试图在我的webpack.config.js中实现babel-loader时，我陷入了一个黑洞。vue文件由vue-loader编译，然后在捆绑之前通过一些babel-loader进行“管道传输”。我一直觉得webpack非常抽象，我自己也意识到我对webpack的了解还不够。</p><p id="a7b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">但是等等！</strong>我意识到，当你使用vue-cli创建一个项目时，Vue确实有很多“魔力”。当以这种方式创建项目时，它会编译。vue文件和管道通过一些babel-loader。</p><p id="f399" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Vue如何做到这一点，我不能在现有项目中使用相同的方式吗？首先，我需要弄清楚vue-cli到底是如何工作的。</p><h1 id="b1ef" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">Vue-cli的工作原理</h1><p id="c87a" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">当你开始一个新的vue项目时，有几个选项可以将vue.js包含在你的网站中，根据:<a class="ae jd" href="https://vuejs.org/v2/guide/installation.html" rel="noopener ugc nofollow" target="_blank">https://vuejs.org/v2/guide/installation.html</a></p><p id="b5f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需输入终端<code class="du lz ma mb mc b">vue create [name-of-my-app]</code>，它就会创建一个新的Vue.js项目，并进行大量配置(我指的是*magic*)。</p><p id="c4c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当向导完成时，您将被要求导航到带有<code class="du lz ma mb mc b">cd name-of-my-app</code>的文件夹。之后你就可以运行<code class="du lz ma mb mc b">npm run serve</code>了。<br/>如果您查看package.json，您会看到这个神奇的命令刚刚添加了一个“scripts”属性，其中包含两个您可以使用的npm脚本。</p><p id="a532" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="me">这里有更多关于npm脚本的信息:</em><a class="ae jd" href="https://docs.npmjs.com/cli/v7/using-npm/scripts" rel="noopener ugc nofollow" target="_blank"><em class="me">https://docs.npmjs.com/cli/v7/using-npm/scripts</em></a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mf"><img src="../Images/ef8b3a2bb9f9efba440a882aa0df03c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*R2hNW3CkEpAHQNbtCU9jpA.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx">scripts-object inside package.json</figcaption></figure><p id="7006" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看那个<code class="du lz ma mb mc b">serve</code>脚本做了什么。它将使用带有一些选项的<code class="du lz ma mb mc b">vue-cli-service</code>，在这种情况下只使用一个选项:<code class="du lz ma mb mc b">serve</code>。</p><p id="8e7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="me">指定此</em> <code class="du lz ma mb mc b"><em class="me">serve</em></code> <em class="me">选项将会查看默认入口点</em> <code class="du lz ma mb mc b"><em class="me">src/main.js</em></code> <em class="me">并使用</em> <a class="ae jd" href="https://webpack.js.org/concepts/hot-module-replacement/" rel="noopener ugc nofollow" target="_blank"> <em class="me">热模块替换</em> </a> <em class="me">启动开发服务器(基于webpack-dev-server)。</em></p><p id="3b7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="me">热模块替换更新页面上的模块，而无需完全重新加载，这加快了开发速度。</em></p><p id="f8fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用这些npm脚本作为基础，将vue-cli服务集成到现有项目中。</p><h1 id="abd6" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">集成vue-cli服务</h1><p id="d30d" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">当您导航到vue-cli 的<a class="ae jd" href="https://cli.vuejs.org/guide/" rel="noopener ugc nofollow" target="_blank">文档时，您将找到在现有项目中配置它所需的所有信息。</a></p><p id="fef0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现有项目的问题是文件夹结构可以不同。您的条目文件可能在另一个地方，并且您可能希望生成一个不同的包。所有这些选项都可以通过vue-cli服务进行配置。</p><h2 id="f526" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">vue-cli服务的各种选项</h2><p id="2c58" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">vue-cli服务附带了各种选项，我们可以使用这些选项来配置不同的模式、目标等。</p><p id="29fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我现有的项目中，不需要使用热模块替换来运行开发服务器。这就是为什么我只使用vue-cli-service的build命令。在本文中，我将只引用这个build命令。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mg"><img src="../Images/49a4be04edefcaef0b99225346509d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJ31b1J679mW5rWjCZsZkg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">The different modes of the vue-cli-service build. Source: <a class="ae jd" href="https://cli.vuejs.org/guide/cli-service.html#vue-cli-service-build" rel="noopener ugc nofollow" target="_blank">https://cli.vuejs.org/</a></figcaption></figure><h2 id="53d3" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">我们的文件夹结构</h2><p id="174d" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">这是我们的文件夹结构。我将把它放在这里，以便下面的任何例子都有意义。</p><pre class="jf jg jh ji fd mh mc mi mj aw mk bi"><span id="061b" class="ll jv hi mc b fi ml mm l mn mo">| scripts<br/>| -- components<br/>| ----- Header.vue<br/>| ----- Footer.vue<br/>| -- App.vue<br/>| -- base.js<br/>|index.html</span></pre><p id="e286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="me">base . js文件导入app . vue<br/>app . vue有两个组件:Header.vue和footer . vue</em></p><h2 id="7385" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">指定入口/输出</h2><p id="16ec" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">其中一个问题是有些信息比较难找到，例如:指定输入。</p><p id="b5ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">前往<em class="me"> package.json </em>。当我们查看选项时，我们可以为build-command指定一个不同的条目。这是通过将文件夹路径作为最后一项添加到字符串中来完成的。像这样:</p><pre class="jf jg jh ji fd mh mc mi mj aw mk bi"><span id="7fc7" class="ll jv hi mc b fi ml mm l mn mo">"scripts": {<br/>  "build": "vue-cli-service build scripts/base.js"<br/>}</span></pre><p id="ba5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以通过指定- dest来输出文件。比如说。如果我们希望我们的文件输出到一个新创建的名为‘dist’的文件夹中，我们应该在命令中添加<code class="du lz ma mb mc b">--dest scripts/dist</code>。像这样:</p><pre class="jf jg jh ji fd mh mc mi mj aw mk bi"><span id="2329" class="ll jv hi mc b fi ml mm l mn mo">"scripts": {<br/>  "build": "vue-cli-service build --dest scripts/dist scripts/base.js"<br/>}</span></pre><h2 id="35c6" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">观看文件</h2><p id="3698" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated"><code class="du lz ma mb mc b">serve</code>命令真正有用的地方在于，当任何文件发生变化时，它会自动重新编译您的代码。<br/>构建命令还有一个<code class="du lz ma mb mc b">--watch</code>选项。</p><p id="c175" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需将<code class="du lz ma mb mc b">--watch</code>添加到我们的构建脚本中，每次任何文件更新时，我们的输出文件都会重新编译。</p><pre class="jf jg jh ji fd mh mc mi mj aw mk bi"><span id="cbd4" class="ll jv hi mc b fi ml mm l mn mo">"scripts": {<br/>  "build": "vue-cli-service build --watch scripts/base.js"<br/>}</span></pre><h2 id="3ca7" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">一起</h2><p id="eec5" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">当你想要定制配置你的构建，但是你不想避免编写一个定制的webpack配置，并且仍然必须配置vue-loader，style loadersá和babel时，使用和配置vue-cli-service是非常有用的。</p><p id="ca48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个结合了入口点和选项<code class="du lz ma mb mc b">--dest</code>和<code class="du lz ma mb mc b">--watch</code>的例子。</p><pre class="jf jg jh ji fd mh mc mi mj aw mk bi"><span id="4421" class="ll jv hi mc b fi ml mm l mn mo">"scripts": {<br/>  "build": "vue-cli-service build --watch --dest scripts/dist scripts/base.js"<br/>}</span></pre><p id="18c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">vue-CLI-救援服务！:)</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><p id="a647" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读这篇文章。我希望它对你有帮助。如果您有任何问题或建议让这篇文章变得更好，请不要犹豫，留下您的回复。</p></div></div>    
</body>
</html>