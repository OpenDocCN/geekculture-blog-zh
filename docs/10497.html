<html>
<head>
<title>SwiftUI | View Life Cycles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI |查看生命周期</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swiftui-view-life-cycles-d3b5e88d3c69?source=collection_archive---------4-----------------------#2022-02-01">https://medium.com/geekculture/swiftui-view-life-cycles-d3b5e88d3c69?source=collection_archive---------4-----------------------#2022-02-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="25a3" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">从实例中学习。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/10cc2612e0b3c4980dcc1a6c79ad4dbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O2kZG1ifgSLkbRwMnQmYkg.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@f_meloni?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Fernando Meloni</a> on <a class="ae jn" href="https://unsplash.com/s/photos/cycle-circle?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="a7cd" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">基础知识</h1><p id="20b4" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在我们开始之前，我想谈谈<strong class="ki hj">视图</strong>和<strong class="ki hj">视图控制器。</strong>视图基本上是可以在屏幕上绘制的对象，如文本、按钮、导航视图、标签等。另一方面，视图控制器是处理视图状态和功能的类。视图监听视图控制器的事件，并相应地采取行动。视图控制器还负责确定视图在什么特定时间出现和从屏幕上消失。</p><p id="add2" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果您使用过UIKit，您将会熟悉下面的图表，它决定了一个视图的不同生命周期。如果没有，不要担心，<strong class="ki hj"> SwiftUI不使用这些生命周期。</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lh"><img src="../Images/d2c393281ed42a99370537c69bb3a0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Zz_HhSCijnMgozfbaMHTw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Apple: UIViewController Reference Documentation</figcaption></figure><h1 id="7d17" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">SwiftUI生命周期</h1><p id="7af7" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">SwiftUI没有视图控制器，就像我之前提到的那样，不使用Apple随UIKit提供的标准生命周期。相反，SwiftUI使用。onAppear和。onDissapear方法。在深入探讨之前，我们先来看看苹果官方提供的定义。</p><p id="62d4" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><strong class="ki hj">。onAppear(执行:)</strong></p><blockquote class="li lj lk"><p id="209e" class="kg kh ll ki b kj lc ij kl km ld im ko lm le kr ks ln lf kv kw lo lg kz la lb hb bi translated">添加视图出现时要执行的操作— Apple</p></blockquote><p id="a599" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><strong class="ki hj">。onDissapear(执行:)</strong></p><blockquote class="li lj lk"><p id="11bc" class="kg kh ll ki b kj lc ij kl km ld im ko lm le kr ks ln lf kv kw lo lg kz la lb hb bi translated">添加视图消失时要执行的操作-苹果</p></blockquote><h1 id="6334" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">SwiftUI生命周期示例</h1><p id="f948" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">关于SwiftUI中的生命周期，有一点需要注意。当您实现。onDissapear方法。您可能希望视图调用。当您导航到navigationLink但它没有时。</p><p id="9aff" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">仔细想想，navigationLink仍然在navigationView中，所以我们没有必要离开主视图。当我们在模拟器中运行时，“显示器上的主视图”将不会打印在控制台上。即使我们离开应用程序。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="30d7" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">既然我们已经讨论了所有的事情，让我们从头开始吧。一旦我们运行代码，模拟器将显示内容视图，看起来像这样。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/e9ca62a3706cf40b2e04994a44364b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ugYYsjRtOHqP6JuZeMTevQ.png"/></div></div></figure><p id="b92a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">控制台将打印以下内容</p><pre class="iy iz ja jb fd ls lt lu lv aw lw bi"><span id="4ebd" class="lx jp hi lt b fi ly lz l ma mb"><br/>Main View onAppear</span><span id="5c6e" class="lx jp hi lt b fi mc lz l ma mb">navigation Text onAppear</span></pre><p id="54ac" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在，让我们看看navigationView1的代码片段。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="a7e7" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">一旦我们单击导航链接(“转到导航视图1”)，模拟器看起来就像这样。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/9d90454a132c971a2bf0ee8908e2a7c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIIp5yqoH0WCaHlpf6DsQA.png"/></div></div></figure><p id="f493" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">控制台打印出以下内容。请记住，我们只实现了。onAppear和。“你好，世界3”的电话。</p><pre class="iy iz ja jb fd ls lt lu lv aw lw bi"><span id="22a9" class="lx jp hi lt b fi ly lz l ma mb">Hello World onAppear<br/>navigationView1 onAppear<br/>navigation Text onDissapear</span></pre><p id="f0c5" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">最后，当我们返回时，控制台打印出以下内容。</p><pre class="iy iz ja jb fd ls lt lu lv aw lw bi"><span id="075f" class="lx jp hi lt b fi ly lz l ma mb">navigation Text onAppear<br/>Hello World onDissapear<br/>navigationView1 onDissapear</span></pre></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><p id="cf93" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">今天到此为止。我真的希望这个例子能帮助你理解SwiftUI中生命周期的概念。如果你有任何问题，随时给我发电子邮件到yu24c@mtholyoke.edu。</p><h1 id="a632" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">参考</h1><ul class=""><li id="d479" class="mk ml hi ki b kj kk km kn kp mm kt mn kx mo lb mp mq mr ms bi translated"><a class="ae jn" href="https://developer.apple.com/documentation/uikit/uiviewcontroller" rel="noopener ugc nofollow" target="_blank">苹果开发者文档:UIViewController </a></li><li id="fa90" class="mk ml hi ki b kj mt km mu kp mv kt mw kx mx lb mp mq mr ms bi translated">苹果开发者文档:onAppea</li><li id="74c0" class="mk ml hi ki b kj mt km mu kp mv kt mw kx mx lb mp mq mr ms bi translated"><a class="ae jn" href="https://developer.apple.com/documentation/swiftui/view/ondisappear(perform:)" rel="noopener ugc nofollow" target="_blank">苹果开发者文档:onDissapear </a></li></ul></div></div>    
</body>
</html>