<html>
<head>
<title>How to install Fedora on a Headless Raspberry Pi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将Fedora安装在无头树莓Pi上</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-install-fedora-on-a-headless-raspberry-pi-62adfb7efc5?source=collection_archive---------4-----------------------#2021-05-26">https://medium.com/geekculture/how-to-install-fedora-on-a-headless-raspberry-pi-62adfb7efc5?source=collection_archive---------4-----------------------#2021-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="c887" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在无头的Raspberry Pi 3或4上安装Fedora的完整指南(不需要键盘、显示器或串行电缆)</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/4523980e9f1025ee8cd75a25c4546e1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pktD2toYgprjuEFGhbHYGw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Vector by <a class="ae jn" href="https://www.vecteezy.com" rel="noopener ugc nofollow" target="_blank">Vecteezy</a></figcaption></figure><h1 id="4154" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">概观</h1><p id="59ce" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我找不到一个完全没头没脑的更新版的Raspberry Pi的Fedora安装指南。我发现的那些不工作或需要串行电缆，这违背了目的。经过大量的研究和一个试错的过程，我成功地在一个无头的Raspberry Pi 3和4上安装了Fedora Server 34。</p><p id="7b4b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在这个分步指南中，我将向您展示如何下载正确的映像，安装它，修改它以满足我们的需求，并在microSD卡上安装自定义映像，为您的Raspberry Pi做好准备。作为结尾的奖励，我将分享设置Wi-Fi连接的步骤。</p><h1 id="e26c" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">先决条件</h1><p id="4162" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">要遵循本指南，您需要:</p><ul class=""><li id="2a45" class="lh li hi ki b kj lc km ld kp lj kt lk kx ll lb lm ln lo lp bi translated">带microSD读卡器的Fedora机器</li><li id="cf1c" class="lh li hi ki b kj lq km lr kp ls kt lt kx lu lb lm ln lo lp bi translated">Fedora ARM原始图像</li><li id="fb4e" class="lh li hi ki b kj lq km lr kp ls kt lt kx lu lb lm ln lo lp bi translated">带有有线互联网连接的Raspberry Pi 3或4</li></ul><h1 id="e656" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">步骤1 —下载Fedora ARM映像</h1><p id="94bf" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">对于ARMv7 (32位)图像，请访问<a class="ae jn" href="https://arm.fedoraproject.org" rel="noopener ugc nofollow" target="_blank"> Fedora ARM </a>网站。如果你像我一样喜欢64位图像，它们有点隐藏。相反，访问<a class="ae jn" href="https://fedoraproject.org/wiki/Architectures/ARM/Raspberry_Pi?rd=Raspberry_Pi#aarch64_supported_images_for_Raspberry_Pi_3" rel="noopener ugc nofollow" target="_blank"> Fedora Wiki </a>并选择您的类型:工作站、服务器或小型。</p><p id="f034" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在我的环境中，我运行这个命令来下载最新的Fedora Server 64位原始图像:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="edf3" class="ma jp hi lw b fi mb mc l md me">curl -L -O <a class="ae jn" href="https://download.fedoraproject.org/pub/fedora/linux/releases/34/Server/aarch64/images/Fedora-Server-34-1.2.aarch64.raw.xz" rel="noopener ugc nofollow" target="_blank">https://download.fedoraproject.org/pub/fedora/linux/releases/34/Server/aarch64/images/Fedora-Server-34-1.2.aarch64.raw.xz</a></span></pre><h1 id="4f2a" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">步骤2 —准备原始图像</h1><p id="caec" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">首先，解压缩图像:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="a343" class="ma jp hi lw b fi mb mc l md me">xz --decompress Fedora-Server-34-1.2.aarch64.raw.xz</span></pre><p id="0e59" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">上面的命令将789 MB的<code class="du mf mg mh lw b">.xz</code>文件替换为7 GB的<code class="du mf mg mh lw b">.raw</code>文件。</p><p id="c6b2" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，用<code class="du mf mg mh lw b">fdisk</code>列出原始映像中的分区:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="2c7e" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">fdisk -l Fedora-Server-34-1.2.aarch64.raw</strong> <br/>Disk Fedora-Server-34-1.2.aarch64.raw: 7 GiB, 7516192768 bytes, 14680064 sectors<br/>Units: sectors of 1 * 512 = 512 bytes<br/>Sector size (logical/physical): 512 bytes / 512 bytes<br/>I/O size (minimum/optimal): 512 bytes / 512 bytes<br/>Disklabel type: dos<br/>Disk identifier: 0xd17792e4</span><span id="0d53" class="ma jp hi lw b fi mi mc l md me">Device                            Boot   Start      End  Sectors  Size Id Type<br/>Fedora-Server-34-1.2.aarch64.raw1 *       2048  1230847  1228800  600M  6 FAT16<br/>Fedora-Server-34-1.2.aarch64.raw2      1230848  3327999  2097152    1G 83 Linux<br/>Fedora-Server-34-1.2.aarch64.raw3      3328000 14680063 11352064  5.4G 8e Linux LVM</span></pre><p id="87f6" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我们的图像有三个分区。<code class="du mf mg mh lw b">.raw1</code>是引导程序分区。<code class="du mf mg mh lw b">.raw2</code>是Linux引导分区(id 83)。最后，<code class="du mf mg mh lw b">.raw3</code>是我们想要的分区，一个安装了Fedora的Linux LVM分区(id 8e)。</p><p id="e9b8" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在，有了这些信息，我们就可以计算安装偏移量，如下所示:</p><p id="888e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><em class="mj">扇区大小(512) x起始扇区(3328000)=</em><strong class="ki hj"><em class="mj">1703936000</em></strong></p><p id="242f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">这意味着我们需要将偏移量为170393600的图像挂载到正确的位置。然而，如果我们这样做，它会失败:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="63c5" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">sudo mount -o loop,offset=1703936000 Fedora-Server-34-1.2.aarch64.raw /mnt/raw3<br/></strong>mount: /mnt/raw3: unknown filesystem type 'LVM2_member'.</span></pre><p id="483a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">要解决这个问题，我们需要一个像<code class="du mf mg mh lw b">kpartx</code>这样的工具。这个实用程序在<code class="du mf mg mh lw b">/dev/mapper</code>中创建了一个虚拟设备，我们可以将它作为真实设备来操作。运行以下命令以逐字添加设备:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="f3fd" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">sudo kpartx -a -v Fedora-Server-34-1.2.aarch64.raw </strong><br/>add map loop0p1 (253:0): 0 1228800 linear 7:0 2048<br/>add map loop0p2 (253:1): 0 2097152 linear 7:0 1230848<br/>add map loop0p3 (253:2): 0 11352064 linear 7:0 3328000</span></pre><p id="ac36" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">然后在<code class="du mf mg mh lw b">/dev/mapper</code>中验证新分区:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="21bb" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">ls -l /dev/mapper/</strong><br/>crw-------. 1 root root 10, 236 May 14 11:20 control<br/>lrwxrwxrwx. 1 root root       7 May 14 18:16 fedora_fedora-root -&gt; ../dm-3<br/>lrwxrwxrwx. 1 root root       7 May 14 18:16 loop0p1 -&gt; ../dm-0<br/>lrwxrwxrwx. 1 root root       7 May 14 18:16 loop0p2 -&gt; ../dm-1<br/>lrwxrwxrwx. 1 root root       7 May 14 18:16 loop0p3 -&gt; ../dm-2</span></pre><p id="6aec" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">最后，创建一个目录并将LVM分区挂载到新目录:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="b9f8" class="ma jp hi lw b fi mb mc l md me">sudo mkdir /mnt/raw3<br/>sudo mount /dev/fedora_fedora/root /mnt/raw3</span></pre><h1 id="efcf" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">步骤3 —直接在图像中工作</h1><p id="82d1" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">是时候开始修改图像了。为此，我们将使用chroot将会话的工作根更改为映像中的根。为了让这种模拟在不同的体系结构之间工作，我们需要安装<code class="du mf mg mh lw b">qemu-user-static</code>并重启<code class="du mf mg mh lw b">systemd-binfmt.service</code>:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="a611" class="ma jp hi lw b fi mb mc l md me">sudo dnf install qemu-user-static<br/>sudo systemctl restart systemd-binfmt</span></pre><p id="8007" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">Chroot到挂载的磁盘映像并启动一个shell:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="9399" class="ma jp hi lw b fi mb mc l md me">sudo chroot /mnt/raw3 /bin/bash</span></pre><p id="9802" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">确保架构是<strong class="ki hj"> aarch64 </strong>而不是x86_64:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="1dfa" class="ma jp hi lw b fi mb mc l md me"># <strong class="lw hj">uname -a</strong><br/>Linux fedora 5.11.19-200.fc33.x86_64 #1 SMP Fri May 7 14:10:27 UTC 2021 aarch64 aarch64 aarch64 GNU/Linux</span></pre><p id="07a3" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在设置一个本地用户，我们稍后将使用它通过SSH进行连接。以下命令创建一个名为<em class="mj"> pi </em>的组和用户。然后用户将获得1000的UID，并被分配到<em class="mj"> pi </em>和<em class="mj"> wheel </em>组:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="5e5b" class="ma jp hi lw b fi mb mc l md me">groupadd pi<br/>useradd -g pi -G wheel -m -u 1000 pi</span></pre><p id="f829" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">创建<code class="du mf mg mh lw b">.ssh</code>目录和<code class="du mf mg mh lw b">authorized_keys</code>文件，并分配适当的权限:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="ed88" class="ma jp hi lw b fi mb mc l md me">mkdir /home/pi/.ssh<br/>chmod 700 /home/pi/.ssh<br/>touch /home/pi/.ssh/authorized_keys<br/>chmod 600 /home/pi/.ssh/authorized_keys<br/>chown -R pi.pi /home/pi/.ssh/</span></pre><p id="e07b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">然后将您的Fedora机器公钥(<code class="du mf mg mh lw b">~/.ssh/id_rsa.pub</code>)添加到<code class="du mf mg mh lw b">authorized_keys</code>文件中。</p><p id="4b53" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">由于我们的新用户属于<em class="mj">轮</em>组，允许该组使用sudo而无需密码:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="382d" class="ma jp hi lw b fi mb mc l md me">echo "%wheel ALL=(ALL) NOPASSWD:ALL" &gt;&gt; /etc/sudoers.d/wheel-nopasswd</span></pre><p id="806a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">此外，Fedora会在第一次启动时提示您完成设置。为了避免这种情况，请禁用初始设置:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="2bae" class="ma jp hi lw b fi mb mc l md me">unlink /etc/systemd/system/multi-user.target.wants/initial-setup.service<br/>unlink /etc/systemd/system/graphical.target.wants/initial-setup.service</span></pre><p id="70bb" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">这就是我们需要改变的。退出chroot并卸载磁盘映像:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="ee61" class="ma jp hi lw b fi mb mc l md me">exit<br/>sudo umount /mnt/raw3</span></pre><p id="ab53" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在我们需要删除<em class="mj"> loop0 </em>设备，但它包含一个Linux LVM分区:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="9d95" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">sudo pvscan</strong><br/>  PV /dev/mapper/loop0p3   VG fedora_fedora   lvm2 [5.41 GiB / 0    free]<br/>  Total: 1 [5.41 GiB] / in use: 1 [5.41 GiB] / in no VG: 0 [0   ]</span></pre><p id="be1d" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">因此，停用卷组<strong class="ki hj"> fedora_fedora </strong>中的逻辑卷:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="c145" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">sudo vgchange --activate n fedora_fedora</strong><br/>0 logical volume(s) in volume group “fedora_fedora” now active</span></pre><p id="8ff2" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">然后删除虚拟设备:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="e19d" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">sudo kpartx -d Fedora-Server-34-1.2.aarch64.raw</strong><br/>loop deleted : /dev/loop0</span></pre><h1 id="03bf" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">步骤4 —安装修改后的映像</h1><p id="7fe5" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">剩下的就是两项耗时的任务:图像压缩和在microSD卡上安装。</p><p id="8fca" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">将原始磁盘映像压缩到一个<code class="du mf mg mh lw b">.xz</code>文件，但这次保留<code class="du mf mg mh lw b">.raw</code>文件:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="8ee3" class="ma jp hi lw b fi mb mc l md me">xz --compress Fedora-Server-34-1.2.aarch64.raw --keep</span></pre><p id="3033" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果您想在将来进行增量更改，我建议您保留原始文件。否则，移除<code class="du mf mg mh lw b">--keep</code>参数。</p><blockquote class="mk ml mm"><p id="885f" class="kg kh mj ki b kj lc ij kl km ld im ko mn le kr ks mo lf kv kw mp lg kz la lb hb bi translated">此命令需要一段时间。</p></blockquote><p id="59c8" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">最后，将修改后的磁盘映像复制到microSD卡:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="031c" class="ma jp hi lw b fi mb mc l md me">sudo arm-image-installer --image=Fedora-Server-34-1.2.aarch64.raw.xz --media=/dev/sdb --target=rpi3 --norootpass --resizefs -y</span></pre><p id="c353" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">对于树莓派4来说，也是同样的命令，只是把目标替换成<code class="du mf mg mh lw b">--target=rpi4</code>。</p><blockquote class="mk ml mm"><p id="b7d8" class="kg kh mj ki b kj lc ij kl km ld im ko mn le kr ks mo lf kv kw mp lg kz la lb hb bi translated">这个命令也需要一些时间。</p></blockquote><h1 id="41f3" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">第5步—验证</h1><p id="b40a" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">让我们确认一下我们可以访问我们的新机器。将microSD卡插入您的Raspberry Pi，并等待几分钟准备就绪。然后在你的Fedora机器(或任何其他连接到你家庭网络的电脑)上运行<code class="du mf mg mh lw b">nmap</code>或类似的工具，找出分配给你的Raspberry Pi的动态IP地址(相应地替换你的CIDR系列):</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="97f3" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">sudo nmap -sn 192.168.0.0/24</strong><br/>Nmap scan report for 192.168.0.126<br/>Host is up (0.000078s latency).<br/>MAC Address: E4:5F:01:AA:BB:CC (Raspberry Pi Trading)</span></pre><p id="60d3" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在MAC地址中查找<em class="mj">树莓Pi Trading </em>或<em class="mj">树莓Pi Foundation </em>。然后使用您创建的IP地址和用户SSH到您的Raspberry Pi:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="5668" class="ma jp hi lw b fi mb mc l md me">$ <strong class="lw hj">ssh pi@192.168.0.126</strong><br/>The authenticity of host '192.168.0.126 (192.168.0.126)' can't be established.<br/>ECDSA key fingerprint is SHA256:zx....<br/>ECDSA key fingerprint is MD5:13:ce:...<br/>Are you sure you want to continue connecting (yes/no)? yes<br/>Warning: Permanently added '192.168.0.126' (ECDSA) to the list of known hosts.<br/>Web console: https://fedora:9090/ or <a class="ae jn" href="https://192.168.0.126:9090/" rel="noopener ugc nofollow" target="_blank">https://192.168.0.126:9090/</a></span><span id="bbdc" class="ma jp hi lw b fi mi mc l md me">[pi@fedora ~]$</span></pre><p id="c3ea" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">恭喜你！👏您已成功连接到您的Raspberry Pi上的新Fedora服务器！</p><p id="121a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">一如既往，立即更新您的系统:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="cfb2" class="ma jp hi lw b fi mb mc l md me">[pi@fedora ~]$ <strong class="lw hj">sudo dnf update -y</strong></span></pre><h1 id="cda8" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">[可选] —设置Wi-Fi</h1><p id="a270" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">默认情况下，Wi-Fi在Fedora服务器中不能开箱即用，因为不包含<code class="du mf mg mh lw b">wpa_supplicant</code>。事实上，自2019年以来，有一个开放的<a class="ae jn" href="https://bugzilla.redhat.com/show_bug.cgi?id=1756488" rel="noopener ugc nofollow" target="_blank"> Bugzilla门票</a>。</p><p id="eed2" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">要解决此问题，请安装缺少的软件包，启用它并重新启动计算机:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="bd99" class="ma jp hi lw b fi mb mc l md me">[pi@fedora ~]$ <strong class="lw hj">sudo dnf install wpa_supplicant -y</strong><br/>[pi@fedora ~]$ <strong class="lw hj">sudo systemctl enable wpa_supplicant</strong><br/>[pi@fedora ~]$ <strong class="lw hj">sudo shutdown -r now</strong></span></pre><blockquote class="mk ml mm"><p id="9b91" class="kg kh mj ki b kj lc ij kl km ld im ko mn le kr ks mo lf kv kw mp lg kz la lb hb bi translated">如果不重新启动Raspberry Pi，Wi-Fi将无法工作。</p></blockquote><p id="91ce" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">一旦Raspberry Pi恢复运行，列出可用的网络:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="83d4" class="ma jp hi lw b fi mb mc l md me">[pi@fedora ~]$ <strong class="lw hj">nmcli device wifi list</strong></span></pre><p id="c931" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在列表中找到您的网络并连接到它:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="9e8b" class="ma jp hi lw b fi mb mc l md me">[pi@fedora ~]$ <strong class="lw hj">sudo nmcli device wifi connect &lt;YOUR_SSID&gt; --ask</strong><br/>Password: ••••••••<br/>Device 'wlan0' successfully activated with '15b5-XXX-XXX-XXX-495'.</span></pre><p id="e511" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在，如果您列出设备状态，您会看到Wi-Fi已连接:</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="ad29" class="ma jp hi lw b fi mb mc l md me">[pi@fedora ~]$ <strong class="lw hj">nmcli device</strong><br/>DEVICE         TYPE      STATE         CONNECTION<br/>eth0           ethernet  connected     Wired connection 1<br/>wlan0          wifi      connected     YOUR_SSID</span></pre><h1 id="655f" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">包扎</h1><p id="a720" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我希望这个指南是有帮助的。现在你应该已经有了一个安装了Fedora的可用的Raspberry Pi。尽管它是为Fedora设计的，但是您可以将这个过程应用于其他Linux发行版。如果您在前进的道路上发现任何障碍，或者如果您有任何问题/意见，请联系我，我会帮助您。享受你的圆周率！</p></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="04ec" class="jo jp hi bd jq jr mx jt ju jv my jx jy io mz ip ka ir na is kc iu nb iv ke kf bi translated">参考</h1><ul class=""><li id="69ec" class="lh li hi ki b kj kk km kn kp nc kt nd kx ne lb lm ln lo lp bi translated"><a class="ae jn" href="https://fedoraproject.org/wiki/Architectures/ARM/Raspberry_Pi?rd=Raspberry_Pi#aarch64_supported_images_for_Raspberry_Pi_3" rel="noopener ugc nofollow" target="_blank">架构/ARM/Raspberry Pi【Fedora Wiki】</a></li><li id="7345" class="lh li hi ki b kj lq km lr kp ls kt lt kx lu lb lm ln lo lp bi translated"><a class="ae jn" href="https://docs.fedoraproject.org/en-US/quick-docs/raspberry-pi/" rel="noopener ugc nofollow" target="_blank">覆盆子Pi上的Fedora【Fedora Docs】</a></li><li id="9a01" class="lh li hi ki b kj lq km lr kp ls kt lt kx lu lb lm ln lo lp bi translated"><a class="ae jn" href="https://www.linux.com/news/how-modify-raw-disk-image-your-custom-linux-distro/" rel="noopener ugc nofollow" target="_blank">如何修改定制Linux发行版的原始磁盘映像</a></li></ul></div></div>    
</body>
</html>