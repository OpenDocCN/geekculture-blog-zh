<html>
<head>
<title>Create Condition Based color legend in Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Tableau中创建基于条件的颜色图例</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-condition-based-color-legend-in-tableau-1ea1348005c4?source=collection_archive---------22-----------------------#2021-07-02">https://medium.com/geekculture/create-condition-based-color-legend-in-tableau-1ea1348005c4?source=collection_archive---------22-----------------------#2021-07-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/f6b07b4502be14ca360e6698f68f028f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SqExMvGKJKzZkj5LyNqJdg.png"/></div></div></figure><div class=""/><p id="abf1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有使用Tableau的人都知道，如果将一个分类字段拖到颜色标记卡中，它会自动创建一个颜色图例。然而，很多时候我们会遇到这样的情况，我们可能需要基于某些标准或条件的颜色图例。在本文中，我将以这样一个场景为例，解释如何在Tableau中创建基于条件的颜色图例。</p><p id="fe89" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将使用Tableau附带的“样本超市”数据集的订单表。在我开始之前，让我解释一下这个场景。</p><p id="7e2b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我想看到子类别销售额的条形图。基于特定的销售阈值，条形的颜色将在绿色和红色之间变化。如果一个子类别的销售总额高于阈值，则该条的颜色应为绿色，否则为红色。这里有趣的地方在于，销售额的阈值应该是用户输入的。</p><p id="f5df" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">第一步:</strong>拖动列中的<strong class="is hu">子类</strong>和行中的<strong class="is hu"> SUM(Profit) </strong></p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jp"><img src="../Images/969afce9d18b7ef6f5752750745ffac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ZH_asogzb7IRpXoyFQ5Dg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image 1: Sub Category vs SUM(Sales)</figcaption></figure><p id="530d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">第二步</strong>:创建参数</p><p id="1d17" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将参数命名为<strong class="is hu">销售目标</strong>，并赋予如下图所示的属性:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jy"><img src="../Images/e7c9dd19ef4172726fcf86fcbc70940f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*Ko_WlKLHSL4ec6UYoGDZAQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image2: Creating a Parameter</figcaption></figure><p id="f7b7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦创建了参数，右键单击它并执行“显示参数”。该参数将作为用户输入字段出现在右侧窗格中，并设置默认值。请参见下图:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jz"><img src="../Images/3b9774311b635c726199f493277672ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7C-VA3DxWnjQHK9qkyvrDQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image3: Adding Parameter to the Canvas</figcaption></figure><p id="f811" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">第三步</strong>:创建自定义字段</p><p id="be9b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建名为<strong class="is hu">conditional end的计算字段。</strong>给出该字段的以下条件:</p><p id="cac4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">如果求和(【销售】)&gt;【销售目标】则“绿色”否则“红色”结束</em></p><p id="833b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请参见下图:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ka"><img src="../Images/b204c89bbbf8bcfb086e4c616f899260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xgCAMeTnxcb0e2PrOQiT2A.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image4: Creating custom field</figcaption></figure><p id="8f36" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">第四步</strong>:将新创建的<strong class="is hu">条件</strong>字段拖放到色标中</p><figure class="jq jr js jt fd hk er es paragraph-image"><div class="er es kb"><img src="../Images/8cd8e6613ccb0745b03a2f86597253c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*PGQ6akmTKtz2hNpusHXGyw.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image5: Drag-drop ConditionalLegend field in the Colour Marks</figcaption></figure><p id="8d16" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">步骤5 </strong>:调整色标</p><p id="635c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击颜色标记并编辑颜色。一旦颜色面板出现，给出适当的颜色代码，即绿色代表“绿色”，红色代表“红色”。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kc"><img src="../Images/07ebba787451a330c4ecdac0d281ac2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7dROxNPuYev7W8AiNIzPzA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image6: Setting correct color codes</figcaption></figure><p id="aa47" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦上述步骤完成，所有SUM(Sales)值大于150000的条形将开始以绿色显示。请参见下图:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kd"><img src="../Images/fcbed7327f2156ef0d840f98c5193c97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*92uPQVL_FYC6DuyB8GIPbw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image7: Bars showing color based on threshold input</figcaption></figure><p id="e6ea" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，为了测试这是否正常工作，您可以在参数输入中将销售目标的值更改为200000。SUM(Sales)值低于200000的所有条形将立即开始以红色显示。请参见下图:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/06be0c24ae35bf6fc87b0a8e661d0831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f61vGYKtKS1S32BeQ3PqPw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image8: Color of bars changing based on Sales Target entered</figcaption></figure><p id="d9fc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">哟！我们提出了我们的问题陈述。</p><p id="afac" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将在下一篇文章中介绍另一个有趣的画面技巧。</p></div></div>    
</body>
</html>