<html>
<head>
<title>Docker app. System Monitor accessible from WEB.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker app。可从WEB访问的系统监视器。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/docker-app-system-monitor-accessible-from-web-1796d2d86914?source=collection_archive---------25-----------------------#2021-05-29">https://medium.com/geekculture/docker-app-system-monitor-accessible-from-web-1796d2d86914?source=collection_archive---------25-----------------------#2021-05-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1178557783d8a37192dcdd109894fd87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eu6izWypSyQoUBNMQJWeew.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><div class=""/><p id="f8c1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本文中，我将向您展示如何在<a class="ae js" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy"> Streamlit </strong> </a>和Python库<strong class="iw hy"/><a class="ae js" href="https://github.com/giampaolo/psutil" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy">psutil</strong></a><strong class="iw hy">中构建应用程序。</strong>该应用程序既可以在docker(包含Dockerfile)中运行，也可以作为单独的应用程序运行。请记住，如果你不从Docker运行应用程序(monitor.py ),你将安装所有的库，这些库在Dockerfile中运行。<br/>在线更新(运行)提交的应用程序。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="67ea" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Streamlit可能是构建可在浏览器中运行的应用程序的最强大的Python库之一。如果你还不熟悉这个库，请访问网站，感受一下构建和运行你梦想中的应用程序是多么容易。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="43a4" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我在本文中描述的应用程序使用了Python库psutil，它允许您检索关于正在运行的进程和系统利用率的所有信息，例如:Python中的CPU、内存、磁盘、网络、传感器等。<br/>在这个简单的应用程序中，我演示了CPU内核(在我的例子中是8个内核)和RAM统计的使用百分比。受到启发，并添加更多的统计数据，如你所愿。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="3704" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了在Docker中运行应用程序(最简单的方法)是将monitor.py复制到src文件夹—文件中(见下文)。</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="c1a3" class="kj kk hx kf b fi kl km l kn ko">.<br/>├── Dockerfile<br/>└── src<br/>    └── monitor.py</span></pre><p id="5845" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将要使用的docker文件如下所示:</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="9d3d" class="kj kk hx kf b fi kl km l kn ko">FROM python:3.7.2-slim</span><span id="71d9" class="kj kk hx kf b fi kp km l kn ko">EXPOSE 8501</span><span id="c33a" class="kj kk hx kf b fi kp km l kn ko">WORKDIR /app</span><span id="175e" class="kj kk hx kf b fi kp km l kn ko">RUN pip install --upgrade pip</span><span id="90fc" class="kj kk hx kf b fi kp km l kn ko">RUN pip install streamlit</span><span id="8a63" class="kj kk hx kf b fi kp km l kn ko">RUN pip install psutil</span><span id="e6c6" class="kj kk hx kf b fi kp km l kn ko">RUN pip install plotly-express</span><span id="d793" class="kj kk hx kf b fi kp km l kn ko">COPY ./src /monitor</span><span id="4395" class="kj kk hx kf b fi kp km l kn ko">ENTRYPOINT [ "streamlit", "run"]</span><span id="8414" class="kj kk hx kf b fi kp km l kn ko">#CMD ["/monitor.py"]</span><span id="7236" class="kj kk hx kf b fi kp km l kn ko">CMD ["/monitor/monitor.py"]</span></pre><p id="42ae" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用以下命令构建您的映像:</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="b377" class="kj kk hx kf b fi kl km l kn ko">sudo docker build . -t monitor:1</span></pre><p id="4909" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">并运行:</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="a810" class="kj kk hx kf b fi kl km l kn ko">sudo docker run -it monitor:1</span></pre><p id="f0b0" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在终端上，您将会收到该应用程序的链接。</p><p id="133a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">该应用程序如下所示:</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kq"><img src="../Images/fe8c0cf0b8050aaa7f548d0f1612bf36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Onu_YKUuCpD3_FVrEqF8g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><figure class="ka kb kc kd fd hk"><div class="bz dy l di"><div class="kr ks l"/></div></figure><p id="dcbf" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢阅读。</p></div></div>    
</body>
</html>