<html>
<head>
<title>Build a YouTube Queue with Next.js: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Next.js构建一个YouTube队列:第1部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/build-a-youtube-queue-with-next-js-part-1-2d1d8954c705?source=collection_archive---------16-----------------------#2021-06-17">https://medium.com/geekculture/build-a-youtube-queue-with-next-js-part-1-2d1d8954c705?source=collection_archive---------16-----------------------#2021-06-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e76d98c0abd01d019615ad57361ebc22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sX94IfrNSM6BwQ4J"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@alexbemore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexander Shatov</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e259" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最近几个月，我迷上了共享的在线空间。像Clubhouse、Discord这样的应用程序，以及Beatsense这样不太为人所知的平台，对于维护整个疫情的社区意识是不可或缺的。</p><p id="a235" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本教程中，我们将创建一个共享空间，您可以在其中添加和观看Youtube视频，并与其他用户实时聊天。在第1部分中，我们将关注视频。</p><h1 id="efe7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">先决条件</h1><ul class=""><li id="a6fb" class="kr ks hi ix b iy kt jc ku jg kv jk kw jo kx js ky kz la lb bi translated">熟悉React</li><li id="a09e" class="kr ks hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated">熟悉Next.js</li><li id="bf5c" class="kr ks hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated">Node.js 10.13或更高版本</li><li id="ea0a" class="kr ks hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated">创建下一个应用程序(<code class="du lh li lj lk b">npm i create-next-app</code>)</li></ul><h1 id="66e6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">入门指南</h1><p id="b0be" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">首先，您需要初始化一个新的Next.js项目并设置TailwindCSS。在命令行中，导航到您选择的位置并运行:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="2f82" class="lw ju hi lk b fi lx ly l lz ma">npx create-next-app -e with-tailwindcss youtube-social</span></pre><p id="bb15" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要安装Tailwind及其依赖项，请在CLI中导航到<code class="du lh li lj lk b">youtube-social</code>文件夹并运行:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="f315" class="lw ju hi lk b fi lx ly l lz ma">npm install -D tailwindcss@latest postcss@latest autoprefixer@latest</span></pre><p id="6b2b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后生成默认<a class="ae iu" href="https://tailwindcss.com/docs/configuration" rel="noopener ugc nofollow" target="_blank">配置文件</a> <code class="du lh li lj lk b">tailwind.config.js</code>和<code class="du lh li lj lk b">postcss.config.js</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="b68e" class="lw ju hi lk b fi lx ly l lz ma">npx tailwindcss init -full -p</span></pre><p id="7581" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要启动开发服务器运行:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="f93f" class="lw ju hi lk b fi lx ly l lz ma">npm run dev</span></pre><p id="5309" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您转到<a class="ae iu" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>时，您应该会看到默认的“欢迎使用Next.js”页面。</p><h1 id="e65f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">播放器组件</h1><p id="73a9" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">我们将使用由皮特·库克创建的漂亮的<a class="ae iu" href="https://github.com/CookPete/react-player" rel="noopener ugc nofollow" target="_blank"> react-player/youtube </a>库来轻松处理与youtube视频队列相关的视频事件。</p><p id="b6bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，使用CLI在您的项目中安装<code class="du lh li lj lk b">react-player</code>:</p><p id="c894" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lh li lj lk b">npm install react-player</code></p><p id="ef48" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在项目的根级别创建一个名为<code class="du lh li lj lk b">components</code>的新文件夹。我们将在这个文件夹中存储应用程序的独立“组件”,使它们可以重复使用并易于修改。</p><p id="f130" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将名为<code class="du lh li lj lk b">player.js</code>的新文件添加到<code class="du lh li lj lk b">components</code>文件夹中。这将包含Youtube嵌入。</p><p id="9eb5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<code class="du lh li lj lk b">player.js</code>中，像这样导入<code class="du lh li lj lk b">react-player/youtube</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="9aa8" class="lw ju hi lk b fi lx ly l lz ma">import ReactPlayer from 'react-player/youtube'</span></pre><p id="6427" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，创建一个名为<code class="du lh li lj lk b">Player</code>的接受道具的功能组件。我们将传入的道具是一个Youtube视频ID和一个在视频结束时执行的回调函数。</p><p id="bcaf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在其中，声明一个名为videoURL的变量，该变量保存基本的Youtube视频URL和视频ID，并返回一个包含一个<code class="du lh li lj lk b">&lt;ReactPlayer&gt;</code>的<code class="du lh li lj lk b">&lt;div&gt;</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="235d" class="lw ju hi lk b fi lx ly l lz ma">export default function Player(props) {<br/>    const videoURL = "https://www.youtube.com/watch?v=" + props.videoId<br/>  return(<br/>    &lt;div&gt;<br/>      &lt;ReactPlayer /&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="ae22" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ReactPlayer接受各种各样的<a class="ae iu" href="https://github.com/CookPete/react-player#props" rel="noopener ugc nofollow" target="_blank">道具</a>，这些道具可以帮助我们管理与玩家相关的事件。我们将使用:</p><p id="0ec0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lh li lj lk b">url</code>:(String)Youtube视频的URL<code class="du lh li lj lk b">playing</code>:(Boolean)视频自动播放<code class="du lh li lj lk b">onEnded</code>:(回调)视频结束时执行的函数<code class="du lh li lj lk b">config</code>:(JSON)Youtube embed的选项</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="e1f6" class="lw ju hi lk b fi lx ly l lz ma">export default function Player(props) {<br/>    const videoURL = "https://www.youtube.com/watch?v=" + props.videoId<br/>    return(<br/>        &lt;div&gt;<br/>            &lt;ReactPlayer<br/>                url={videoURL}<br/>                playing={true}<br/>                onEnded={props.onEnd}<br/>                config={{<br/>                    youtube: {<br/>                        playerVars: {<br/>                            autoplay: 1,<br/>                            controls: 1<br/>                        }<br/>                    }<br/>                }}<br/>            /&gt;<br/>        &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="9194" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将<code class="du lh li lj lk b">Player</code>组件导入<code class="du lh li lj lk b">index.js</code>。删除外层<code class="du lh li lj lk b">&lt;div&gt;</code>中的所有样板代码，将播放器放在页面的<code class="du lh li lj lk b">&lt;main&gt;</code>部分下。作为占位符，我们将为一个<a class="ae iu" href="https://www.youtube.com/watch?v=JXeJANDKwDc" rel="noopener ugc nofollow" target="_blank"> Kurzgesagt </a>视频传入一个硬编码的<code class="du lh li lj lk b">videoId</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="682a" class="lw ju hi lk b fi lx ly l lz ma">import Head from 'next/head'<br/>import Player from '../components/player'</span><span id="48af" class="lw ju hi lk b fi mb ly l lz ma">export default function Home() {<br/>  return (<br/>    &lt;div className="flex flex-col items-center justify-center min-h-screen py-2"&gt;<br/>      &lt;Head&gt;<br/>        &lt;title&gt;Youtube Social&lt;/title&gt;<br/>        &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>      &lt;/Head&gt;</span><span id="61fc" class="lw ju hi lk b fi mb ly l lz ma">      &lt;main&gt;<br/>        &lt;Player videoId={"JXeJANDKwDc"}/&gt;<br/>      &lt;/main&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="6f2e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在编辑器中保存您的工作，页面应该会重新加载并开始播放视频。</p><h1 id="c00c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">队列组件</h1><p id="c61d" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">现在，让我们设置队列组件。我们希望从Youtube API中获取JSON格式的视频数据，提取视频id、标题和频道标题，并将它们显示为队列的一部分。</p><p id="b43e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将从一些模拟Youtube API响应的硬编码数据开始。在项目的根目录下创建一个名为<code class="du lh li lj lk b">data</code>的文件夹。然后在其中添加一个名为<code class="du lh li lj lk b">test-queue.json</code>的文件，并复制以下测试数据:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="d576" class="lw ju hi lk b fi lx ly l lz ma">{<br/>    "items": [<br/>        {<br/>            "id": {<br/>                "videoId": "3qqzz9a8pMQ"<br/>            },<br/>            "snippet": {<br/>                "title": "Grimes - Aeon / Kill V. Maim / Di-Li-Do (Acapella) [Mixed]",<br/>                "channelTitle": "sef",<br/>                "thumbnails": {<br/>                    "default": {<br/>                        "url": "https://i.ytimg.com/vi/3qqzz9a8pMQ/default.jpg",<br/>                        "width": 120,<br/>                        "height": 90<br/>                    }<br/>                }<br/>            }<br/>        },<br/>        {<br/>            "id": {<br/>                "videoId": "HlLx7oE7q3I"<br/>            },<br/>            "snippet": {<br/>                "title": "Hozier - Dinner &amp; Diatribes (Official Video)",<br/>                "channelTitle": "HozierVEVO",<br/>                "thumbnails": {<br/>                    "default": {<br/>                        "url": "https://i.ytimg.com/vi/Iq5gesj6kmw/default.jpg",<br/>                        "width": 120,<br/>                        "height": 90<br/>                    }<br/>                }<br/>            }<br/>        },<br/>        {<br/>            "id": {<br/>                "videoId": "M9teCJVTr_s"<br/>            },<br/>            "snippet": {<br/>                "title": "Yves Tumor - Licking An Orchid (ft. James K)",<br/>                "channelTitle": "Yves Tumor",<br/>                "thumbnails": {<br/>                    "default": {<br/>                        "url": "https://i.ytimg.com/vi/M9teCJVTr_s/default.jpg",<br/>                        "width": 120,<br/>                        "height": 90<br/>                    }<br/>                }<br/>            }<br/>        }<br/>,<br/>        {<br/>            "id": {<br/>                "videoId": "p2Rro6TQgpU"<br/>            },<br/>            "snippet": {<br/>                "title": "FKA twigs - home with you",<br/>                "channelTitle": "FKA twigs",<br/>                "thumbnails": {<br/>                    "default": {<br/>                        "url": "https://i.ytimg.com/vi/p2Rro6TQgpU/default.jpg",<br/>                        "width": 120,<br/>                        "height": 90<br/>                    }<br/>                }<br/>            }<br/>        },<br/>        {<br/>            "id": {<br/>                "videoId": "286jXjwdst0"<br/>            },<br/>            "snippet": {<br/>                "title": "Apashe ft. Instasamka - Uebok (Gotta Run) [Official Video]",<br/>                "channelTitle": "Kannibalen Records",<br/>                "thumbnails": {<br/>                    "default": {<br/>                        "url": "https://i.ytimg.com/vi/gM4xZy39kNE/default.jpg",<br/>                        "width": 120,<br/>                        "height": 90<br/>                    }<br/>                }<br/>            }<br/>        },<br/>        {<br/>            "id": {<br/>                "videoId": "xqYFU1_SiBo"<br/>            },<br/>            "snippet": {<br/>                "title": "Untitled (2012 Remaster)",<br/>                "channelTitle": "Interpol",<br/>                "thumbnails": {<br/>                    "default": {<br/>                        "url": "https://i.ytimg.com/vi/xqYFU1_SiBo/default.jpg",<br/>                        "width": 120,<br/>                        "height": 90<br/>                    }<br/>                }<br/>            }<br/>        }<br/>    ]<br/>}</span></pre><p id="082b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将名为<code class="du lh li lj lk b">queue.js</code>的新组件添加到<code class="du lh li lj lk b">components</code>文件夹中。<code class="du lh li lj lk b">queue</code>组件应该接受一个名为<code class="du lh li lj lk b">data</code>的包含视频数据的道具。数据将被映射到唯一的行，如下所示:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="5cd1" class="lw ju hi lk b fi lx ly l lz ma">export default function Queue(props) {</span><span id="b253" class="lw ju hi lk b fi mb ly l lz ma">        return (<br/>            &lt;div className="max-w-sm max-h-96 overflow-y-scroll"&gt;<br/>                {</span><span id="1b77" class="lw ju hi lk b fi mb ly l lz ma">                    props.data.map((item, index) =&gt; {<br/>                        return (<br/>                            &lt;div key={index} className="flex flex-row items-center w-60"&gt;<br/>                                &lt;h1 className="text-lg"&gt;{index + 1}&lt;/h1&gt;</span><span id="8999" class="lw ju hi lk b fi mb ly l lz ma">                                &lt;div className="text-sm"&gt;<br/>                                    &lt;h3 className="font-bold"&gt;{item.snippet.title}&lt;/h3&gt;<br/>                                    &lt;p&gt;{item.snippet.channelTitle}&lt;/p&gt;<br/>                                &lt;/div&gt;<br/>                            &lt;/div&gt;<br/>                        )<br/>                    })<br/>                }<br/>            &lt;/div&gt;<br/>        )<br/>}</span></pre><p id="bc33" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用<code class="du lh li lj lk b">useState</code> <a class="ae iu" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">钩子</a>来跟踪和管理视频数据的状态。一旦视频从视频数据列表中删除，<code class="du lh li lj lk b">useState</code>将帮助我们动态更新<code class="du lh li lj lk b">Queue</code>组件。</p><p id="8353" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<code class="du lh li lj lk b">index.js</code>文件中，导入<code class="du lh li lj lk b">TestQueue</code>、<code class="du lh li lj lk b">Queue</code>组件和<code class="du lh li lj lk b">useState</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="22bb" class="lw ju hi lk b fi lx ly l lz ma">import TestQueue from '../data/test-queue.json'<br/>import Queue from '../components/queue'<br/>import { useState } from React</span></pre><p id="bcf8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<code class="du lh li lj lk b">Home</code>组件中，添加带有变量<code class="du lh li lj lk b">videoData</code>和<code class="du lh li lj lk b">updateVideoData</code>的<code class="du lh li lj lk b">useState</code>钩子。将<code class="du lh li lj lk b">videoData</code>的初始状态设置为<code class="du lh li lj lk b">TestQueue.items</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="9c31" class="lw ju hi lk b fi lx ly l lz ma">const [videoData, updateVideoData] = useState(TestQueue.items)</span></pre><p id="4fa1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用带顺风的<a class="ae iu" href="https://tailwindcss.com/docs/flex-direction" rel="noopener ugc nofollow" target="_blank">柔性盒</a>并排放置<code class="du lh li lj lk b">Player</code>和<code class="du lh li lj lk b">Queue</code>组件。我们还将把<code class="du lh li lj lk b">videoData</code>作为道具传递给<code class="du lh li lj lk b">Queue</code>组件。这将使<code class="du lh li lj lk b">Queue</code>组件随着<code class="du lh li lj lk b">videoData</code>的变化而更新。</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="9bff" class="lw ju hi lk b fi lx ly l lz ma">&lt;main&gt;<br/>        &lt;div className="flex flex-row"&gt;<br/>            &lt;Player videoId={"JXeJANDKwDc"}/&gt;<br/>            &lt;Queue data={videoData}/&gt;<br/>        &lt;/div&gt;<br/>&lt;/main&gt;</span></pre><h1 id="e617" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">玩家事件</h1><p id="905b" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">您可能会注意到，第一个视频播放完毕，但是队列中的下一个视频在结束后不会自动开始播放。为了实现这个行为，我们需要使用<code class="du lh li lj lk b">Player</code>的<code class="du lh li lj lk b">onEnd</code>属性来传入一个回调，该回调在队列中启动一个移位，以及当前视频。</p><p id="ba18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们从在<code class="du lh li lj lk b">index.js</code>文件中为<code class="du lh li lj lk b">currentVideoId</code>添加一个<code class="du lh li lj lk b">useState</code>钩子开始。将默认值设置为队列中的第一个视频:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="b91f" class="lw ju hi lk b fi lx ly l lz ma">const [currentVideoId, updateCurrentVideoId] = useState(videoData[0].id.videoId)</span></pre><p id="e9fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在将<code class="du lh li lj lk b">currentVideoId</code>向下传递到<code class="du lh li lj lk b">Player</code>组件:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="5edf" class="lw ju hi lk b fi lx ly l lz ma">&lt;Player videoId={currentVideoId}/&gt;</span></pre><p id="052f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来是<code class="du lh li lj lk b">onEnd</code>回调。我们需要创建一个函数来更新队列和当前视频，然后通过<code class="du lh li lj lk b">onEnd</code>属性将它传递给<code class="du lh li lj lk b">Player</code>:</p><pre class="lo lp lq lr fd ls lk lt lu aw lv bi"><span id="082f" class="lw ju hi lk b fi lx ly l lz ma">const playNext = () =&gt; {<br/>    videoData.shift()<br/>    if (videoData.length &gt; 0) {<br/>      updateCurrentVideoId(videoData[0].id.videoId)<br/>    }<br/>  }</span><span id="cfd7" class="lw ju hi lk b fi mb ly l lz ma">&lt;Player videoId={currentVideoId} onEnd={playNext}/&gt;</span></pre><h1 id="522a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="d0a5" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">瞧，你现在有一个基本的YouTube播放列表应用程序！在下一部分，我将向您展示如何使用<a class="ae iu" href="https://developers.google.com/youtube/v3" rel="noopener ugc nofollow" target="_blank"> YouTube数据API </a>来实现搜索。这个代码在<a class="ae iu" href="https://github.com/khalea/youtube-social" rel="noopener ugc nofollow" target="_blank"> Github </a>上也有。</p></div></div>    
</body>
</html>