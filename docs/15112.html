<html>
<head>
<title>Topic Modelling on the UK’s Cost of Living Comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">英国生活费用评论的主题模型</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/topic-modelling-on-the-uks-cost-of-living-comments-e7fbf43b30ef?source=collection_archive---------12-----------------------#2022-10-13">https://medium.com/geekculture/topic-modelling-on-the-uks-cost-of-living-comments-e7fbf43b30ef?source=collection_archive---------12-----------------------#2022-10-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9142" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">根据英国广播公司的新闻数据</h2></div><p id="bf66" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随着2022年欧洲能源费用的上涨，<strong class="iz hj">生活成本(CoL) </strong>已经成为媒体关注的焦点话题之一。它有自己的BBC新闻栏目，读者可以在该栏目下对许多新闻发表评论。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/551b2bff7d19504f01db103c8a720dbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUMwigRt2ztaEj0K4z-9PQ.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">partial screenshot of bbc.co.uk/news</figcaption></figure><p id="7669" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我看到一篇有用的文章(请见下文)从“主题建模”的角度介绍了NLP之后，我决定实验一下分析英国公众的热烈评论部分会产生什么结果。</p><div class="kj kk ez fb kl km"><a href="https://www.machinelearningplus.com/nlp/topic-modeling-gensim-python/" rel="noopener  ugc nofollow" target="_blank"><div class="kn ab dw"><div class="ko ab kp cl cj kq"><h2 class="bd hj fi z dy kr ea eb ks ed ef hh bi translated">用Gensim (Python)进行主题建模</h2><div class="kt l"><h3 class="bd b fi z dy kr ea eb ks ed ef dx translated">主题建模是一种从大量文本中理解和提取隐藏主题的技术。潜在的狄利克雷…</h3></div><div class="ku l"><p class="bd b fp z dy kr ea eb ks ed ef dx translated">www.machinelearningplus.com</p></div></div><div class="kv l"><div class="kw l kx ky kz kv la kd km"/></div></div></a></div><p id="8746" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了做到这一点，我选择了下面这篇BBC新闻文章，这篇文章在评论上吸引了大量愤怒和失望的在线用户。</p><div class="kj kk ez fb kl km"><a href="https://www.bbc.co.uk/news/business-63030208" rel="noopener  ugc nofollow" target="_blank"><div class="kn ab dw"><div class="ko ab kp cl cj kq"><h2 class="bd hj fi z dy kr ea eb ks ed ef hh bi translated">减税计划后英镑创历史新低</h2><div class="kt l"><h3 class="bd b fi z dy kr ea eb ks ed ef dx translated">随着市场对英国50年来最大规模的减税做出反应，英镑兑美元汇率跌至创纪录低点…</h3></div><div class="ku l"><p class="bd b fp z dy kr ea eb ks ed ef dx translated">www.bbc.co.uk</p></div></div><div class="kv l"><div class="lb l kx ky kz kv la kd km"/></div></div></a></div><blockquote class="lc ld le"><p id="909c" class="ix iy lf iz b ja jb ij jc jd je im jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">声明:这篇文章是关于主题建模和潜在的狄利克雷分配<strong class="iz hj"> (LDA) </strong>在一个新的数据集上的采用，使用了其他作者的文章中解释的领域已知的函数，并且假设你已经理解了这些主题。如果没有，可以通过[ <a class="ae lj" href="https://towardsdatascience.com/topic-modeling-and-latent-dirichlet-allocation-in-python-9bf156893c24" rel="noopener" target="_blank"> 1 </a>、[ <a class="ae lj" href="https://towardsdatascience.com/topic-modeling-with-lsa-plsa-lda-nmf-bertopic-top2vec-a-comparison-5e6ce4b1e4a5" rel="noopener" target="_blank"> 2 </a>、[ <a class="ae lj" href="https://github.com/kapadias/mediumposts/blob/master/natural_language_processing/topic_modeling/notebooks/Evaluate%20Topic%20Models.ipynb" rel="noopener ugc nofollow" target="_blank"> 3 </a> ]这样的刊物来提升自己的知识。</p></blockquote><p id="fdc9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本帖使用的代码，请<a class="ae lj" href="https://github.com/mesutcanalkan/Medium-BBC_NLP" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hj">点击此处</strong> </a>。</p><h2 id="aa74" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated"><strong class="ak">造型结构和流程</strong></h2><p id="d062" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">该模型需要一个到BBC新闻的URL链接来运行任务。按顺序，脚本:</p><ul class=""><li id="3fdd" class="mk ml hi iz b ja jb jd je jg mm jk mn jo mo js mp mq mr ms bi translated">配置环境变量，</li><li id="d078" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">创建与模型应用程序相关的文件夹(即“ModelRun YYYY-MM-DD hh:mm:ss”格式的日志和模型输出文件夹)</li><li id="0ce2" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">借助Python的selenium模块访问BBC新闻网站</li><li id="02b7" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">点击更多评论和更多回复按钮(由HTML元素XPATHs引导),直到没有更多按钮可点击</li><li id="94a0" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">抓取评论以及用户名，喜欢，不喜欢的数量等。</li><li id="877f" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">转换此评论数据框以保留评分最高(喜欢或不喜欢)的评论文本的样本</li><li id="ef0f" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">生成单词云</li><li id="9414" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">从评论中构建语料库和关键映射变量</li><li id="076e" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">运行基本LDA模型</li><li id="b5af" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">通过迭代参数列表运行多个LDA模型(网格搜索)</li><li id="19e1" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">找到产生最高一致性分数的最佳参数集</li><li id="466f" class="mk ml hi iz b ja mt jd mu jg mv jk mw jo mx js mp mq mr ms bi translated">最后保存来自最高性能模型的主题可视化的HTML版本。</li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es my"><img src="../Images/8efd8ac9ef1a48175e4a39b252f06ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wUBAsDms3Ctsif8X8ISIAg.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Model Folder Structure, image by author</figcaption></figure><p id="c549" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如上所述，运行脚本有6个主要步骤(在琥珀色矩形中突出显示)。其余的文件用于支持流程文件夹中编码的任务。</p><h2 id="6edf" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated">抓取评论</h2><p id="afa0" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">在Selenium的帮助下，该脚本创建了一个chrome浏览器，反复点击(首先)更多的评论按钮和(然后)更多的回复按钮，直到没有什么可点击的。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mz"><img src="../Images/c99ea0454d6b6732b999385cf5eb2258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zqcQCwDaBh-XS-hazcSlNQ.gif"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Comment Scraping, gif by author</figcaption></figure><p id="d62c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">经过几个小时的运行，终于收集到了评论:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es na"><img src="../Images/009394444f23d998d6b77d6b07506ea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-m6QXKYNN8PkfrX6Yiq1A.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">image by author</figcaption></figure><h2 id="348d" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated">生成单词云</h2><p id="d453" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">Worcloud是从部分处理的评论中产生的。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es nb"><img src="../Images/f4802ece7c984ae35b1f9370e442cd3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xm4a-FyR9BNyIHcUEzEbg.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">image by author</figcaption></figure><h2 id="95ed" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated">构建语料库</h2><p id="ff17" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">对评论执行一些文本预处理(停用词去除、词条化、形成二元模型)。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es nc"><img src="../Images/49f1d63d91e041353125f26159d6f4b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7xkSz9JPVvF4NIL0AExWnw.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">image by author</figcaption></figure><h2 id="73a9" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated"><strong class="ak">运行基础模型</strong></h2><p id="69ae" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">基础模型有10个主题，困惑度为-7.3810，连贯性得分为0.4033。我们试图提高这个一致性分数。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es nd"><img src="../Images/407f13143b443ed66cf12d14feb6a33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFwBemU6AHba14dBnlG42A.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">image by author</figcaption></figure><h2 id="c17a" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated"><strong class="ak">寻找最佳模特</strong></h2><p id="8bfb" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">基于不同数量的主题以及alpha和beta参数，执行了网格搜索。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ne"><img src="../Images/9b67cb109b5ba158ae4eeb2286bfb1a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Wl37782dMSKqe5HNKRP3w.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">image by author</figcaption></figure><h2 id="416c" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated">可视化最佳模型</h2><p id="764b" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">最佳模型有7个主题，困惑度为-7.0584，连贯性得分为0.5168。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es nf"><img src="../Images/7b0be60d043cdb57f3afe97bb9868892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GtUO_C_EkhDXSZ8ni8H8Lw.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">image by author</figcaption></figure><p id="7028" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如下面的gif图所示，两个主题构成了文档中讨论的主题的最大部分，占总令牌的69.4%(分别为37.9%和31.5%)。虽然第一个是更多的成本，英镑和预算，第二个是更多的税收和紧缩政策。其余的话题重叠，是关于英国退出欧盟、政治家、进出口等。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mz"><img src="../Images/5a93545dd57c991cd6d8750d7689cb60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9pSuk32hoOSOSuEW_SZfjA.gif"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">model visual, gif by author</figcaption></figure><h2 id="1396" class="lk ll hi bd lm ln lo lp lq lr ls lt lu jg lv lw lx jk ly lz ma jo mb mc md me bi translated">吸取的教训</h2><p id="cbb9" class="pw-post-body-paragraph ix iy hi iz b ja mf ij jc jd mg im jf jg mh ji jj jk mi jm jn jo mj jq jr js hb bi translated">通过分析新闻评论进行话题建模，可以洞察在线用户认为哪些话题是重要的，以及他们对这些话题的感受。然而，我相信，如果新闻是关于一个更两极分化的主题，如选举、英国退出欧盟或疫苗犹豫，结果会更具解释性，主题会更有特色(较少重叠)。让我们希望BBC也允许人们在其他新闻栏目发表评论来表达他们的观点。</p></div></div>    
</body>
</html>