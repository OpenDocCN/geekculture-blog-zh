<html>
<head>
<title>Deploying a 3-Tier AWS VPC Architecture Using Terraform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Terraform部署3层AWS VPC架构</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/deploying-a-3-tier-aws-vpc-architecture-using-terraform-4c08f5e412db?source=collection_archive---------6-----------------------#2021-05-26">https://medium.com/geekculture/deploying-a-3-tier-aws-vpc-architecture-using-terraform-4c08f5e412db?source=collection_archive---------6-----------------------#2021-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/226d4aa82ca77cad4533c7fbe4e223f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*agsOGPqYPw8_NKrDguw3JA.png"/></div></div></figure><p id="f769" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">先决条件:本地安装了Terraform，配置了AWS CLI的AWS帐户，IDE (VSCode，Atom等。)安装了Terraform。</p><p id="4d82" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个项目是用Visual Studio代码完成的。使用IDE，您可能会发现正确格式化和将语言预设为Terraform(以及自动完成等)更容易。).</p><p id="5957" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤1:使用CIDR 10.0.0.0/16部署一台VPC，包含两个公共子网和一个私有子网。公共子网具有CIDR 10.0.1.0/24和10.0.2.0/24。专用子网的CIDR为10.0.3.0/24。</p><p id="bc19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤2:创建一个RDS MySQL实例(t3.micro)。</p><p id="9288" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤3:创建一个负载平衡器，将流量导向公共子网。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="e037" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">什么是三层架构？它是用来做什么的？</h1><p id="26e8" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">三层架构包括三个逻辑和物理计算层:表示层(客户端层)、应用层(逻辑层)和数据层。是软件项目快速启动的可行选择。</p><h2 id="66f0" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated"><strong class="ak">什么是虚拟私有云(VPC)？它是用来做什么的？</strong></h2><p id="0e5d" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">VPC是您控制的AWS的私有子部分，您可以在其中放置AWS资源(例如EC2实例和数据库)。您可以完全控制谁可以访问您放在VPC中的AWS资源。</p><p id="d925" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">VPC提供安全性，可以大规模执行，定制环境，并允许用户在以后添加虚拟分段。灵活性和定制使开发人员更加敏捷并节省资金。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="ac9f" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">让我们开始我们的项目:</strong></h1><p id="cf4b" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在Visual Studio代码(或您的首选IDE)中创建一个工作文件夹。tf文件内:<strong class="is hj"> main.tf </strong>、<strong class="is hj"> outputs.tf </strong>和<strong class="is hj"> versions.tf. </strong>中的文件另存为。tf文件，VSC会明白，我们将编写地形代码。</p><h2 id="afda" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated"><strong class="ak">步骤1:使用CIDR 10.0.0.0/16部署VPC</strong></h2><p id="370f" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在<strong class="is hj"> main.tf </strong>中，在第一个块中声明提供者，然后为VPC创建一个模块块。</p><p id="5b22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">provider块让我们声明我们正在与AWS合作，以及我们希望我们的VPC部署在哪个区域。对于选择哪个地区，AWS中有很多选项；因此，你可能更倾向于选择“美国-东-1”或“欧盟-西-2”，而不是“美国-西-1”。</p><p id="48cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">模块块由源、名称和CIDR组成。来源是“terraform-aws-modules/vpc/aws”，由terraform注册表提供。您可以将VPC命名为任何名称，使其在您的AWS环境中可能已经存在的其他VPC中具有个性(例如AWS分配给您的帐户的默认VPC)。必须从专用IPv4地址范围中指定CIDR块。</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="5785" class="ky jw hi lr b fi lv lw l lx ly"><strong class="lr hj">provider</strong> "aws" {<br/>region = "us-west-1"<br/>}</span><span id="05dc" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">module</strong> "vpc" {<br/>source = "terraform-aws-modules/vpc/aws"<br/>name = "17vpc"<br/>cidr = "10.0.0.0/16"</span></pre></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h2 id="a85c" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated"><strong class="ak">步骤2:声明可用区域，添加两个CIDR 10 . 0 . 1 . 0/24和10.0.2.0/24的公共子网，以及一个CIDR 10.0.3.0/24的私有子网。</strong></h2><p id="db7a" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">可用性区域是每个区域内多个独立的位置。多个可用性区域对于在AWS中构建高可用性、容错的应用程序至关重要。根据您的VPC创建所在的地区，您的可用区域可能与下面的不同。</p><p id="52a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果希望运行面向公众的web应用程序，同时维护不可公开访问的后端服务器，请在VPC中提供公共和私有子网。Web服务器可能存在于公共子网中，而数据库服务器存在于私有子网中。私有子网也可以通过使用位于公共子网中的NAT网关来访问互联网。</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="ed3c" class="ky jw hi lr b fi lv lw l lx ly">azs             = ["us-west-1a", "us-west-1b"]<br/>public_subnets  = ["10.0.1.0/24", "10.0.2.0/24"]<br/>private_subnets = ["10.0.3.0/24"]</span></pre><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/14326523ac44b6d5437d4a164974b9d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iDzdE_hBg7mmaIOySwVhaA.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">This is what the main.tf file should look like with all the above commands put together.</figcaption></figure><p id="3613" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用以下代码完成模块块，并运行<strong class="is hj">地形初始化</strong>、<strong class="is hj">地形fmt </strong>、<strong class="is hj">地形计划</strong>和<strong class="is hj">地形应用</strong>。</p><p id="aa9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的<code class="du mf mg mh lr b">enable_nat_gateway = false</code>是默认值，但是如果您想为您的每个私有网络提供NAT网关，它应该是真的。此外，<code class="du mf mg mh lr b">single_nat_gateway = true</code>因为我们希望在所有私有网络中提供一个共享的NAT网关。以下使用的标签有助于在VPC进行识别。</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="90df" class="ky jw hi lr b fi lv lw l lx ly">enable_ipv6 = true</span><span id="d7bc" class="ky jw hi lr b fi lz lw l lx ly">enable_nat_gateway = false<br/>single_nat_gateway = true</span><span id="5285" class="ky jw hi lr b fi lz lw l lx ly">public_subnet_tags = {<br/>Name = "Public-Subnets"<br/>}</span><span id="9f2e" class="ky jw hi lr b fi lz lw l lx ly">tags = {<br/>Owner       = "user"<br/>Environment = "dev"<br/>}</span><span id="d9a6" class="ky jw hi lr b fi lz lw l lx ly">vpc_tags = {<br/>Name = "W17VPC"</span><span id="13bb" class="ky jw hi lr b fi lz lw l lx ly">}</span><span id="3bca" class="ky jw hi lr b fi lz lw l lx ly">}</span></pre><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/1cbe50eda9050d15bde2b2f3aeae5933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*da8Ox46WJb2u9A5aWWXgbQ.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">Final module block.</figcaption></figure><h2 id="1382" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated"><strong class="ak">步骤3:用t3.micro创建一个关系数据库服务(RDS) MySQL实例</strong></h2><p id="6a8a" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">Amazon关系数据库服务(Amazon RDS)允许在云中轻松设置、操作和扩展关系数据库。创建RDS将使我们能够专注于我们的应用程序，因为它自动化了耗时的管理任务。<a class="ae mj" href="https://aws.amazon.com/rds/mysql/" rel="noopener ugc nofollow" target="_blank"> MySQL </a>是一个开源的关系数据库，可以在其中快速部署可扩展的服务器。</p><p id="d6f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du mf mg mh lr b">allocated_storage = x</code>(其中x是一个数字)是我们的数据库服务器分配的存储空间，以千兆字节为单位。由于这是一个小项目，我们不需要很多gibibytes，但未来的项目可能需要更多。要设置存储自动缩放，可以在我们的<code class="du mf mg mh lr b">allocated_storage</code>行下面使用<code class="du mf mg mh lr b">max_allocated_store = y</code>(其中y是大于x的数字)。</p><p id="c580" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du mf mg mh lr b">engine = "mysql"</code>声明使用哪个数据库引擎，而<code class="du mf mg mh lr b">engine_version = "8.0.20"</code>声明我们使用的是MySQL的引擎版本8.0.20。这些将根据您的数据库服务器所使用的引擎/版本而有所不同。</p><p id="5938" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，使用<code class="du mf mg mh lr b">instance_class = "db.t3.micro"</code>声明RDS实例的实例类型，并命名您的数据库。</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="7caa" class="ky jw hi lr b fi lv lw l lx ly"><em class="mk"># Create a database server</em></span><span id="c684" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">resource</strong> "aws_db_instance" "default" {<br/>allocated_storage = 5<br/>engine         = "mysql"<br/>engine_version = "8.0.20"<br/>instance_class = "db.t3.micro"<br/>name           = "initial_db"<br/>username       = "&lt;your-aws-username&gt;"<br/>password       = "&lt;your-aws-password&gt;"<br/>}</span></pre><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/2b38a3ab214bb066fd4676755765235e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYRU4YhUVbrJILvW4GlhSw.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">MySQL Database Block</figcaption></figure><h2 id="3491" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated"><strong class="ak">步骤4:创建一个负载均衡器，将流量导向公共子网</strong></h2><p id="6a56" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">负载平衡器充当客户端的单点联系人，并在多个目标之间分配传入流量。通过使用负载平衡器，我们的应用程序可用性得到了提高。有四种不同类型的<a class="ae mj" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/load-balancer-types.html" rel="noopener ugc nofollow" target="_blank">负载平衡器</a>:应用负载平衡器(ALB，第7层)、网络负载平衡器(NLB，第4层)、经典负载平衡器(CLB，第4层)和网关负载平衡器(GLB，第3层)。</p><p id="c01a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面，我们的资源块中使用了一个网络负载平衡器(NLB)。<code class="du mf mg mh lr b">load_balancer_type = "network"</code>行是我们声明使用哪个负载平衡器的地方。我选择了网络负载平衡器，因为它在连接级运行，将连接路由到我的VPC内的目标。NLB每秒还能处理数百万个请求，同时保持超低延迟。</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="3bcc" class="ky jw hi lr b fi lv lw l lx ly"><em class="mk"># Create a Network Load Balancer</em></span><span id="3419" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">resource</strong> "aws_lb" "NLB17" {<br/>name = "NLB17"<br/>internal = false<br/>load_balancer_type = "network"<br/>subnets = ["&lt;your-public-subnet-here&gt;", "&lt;your-public-subnet-here&gt;"]<br/>enable_deletion_protection = false #true if you are not planning on destroying your load balancer<br/>}</span></pre><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/1da073fd8a83e5e094a39ef18507444b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gEb8Shq8A2dkpH6N25UqRg.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">Network Load Balancer Block</figcaption></figure><p id="6131" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建一个<strong class="is hj"> outputs.tf </strong>文件使得关于基础设施的信息在命令行上可用，并且可以公开其他Terraform配置的信息。在<strong class="is hj"> outputs.tf </strong>文件中，插入以下代码:</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="8cc8" class="ky jw hi lr b fi lv lw l lx ly"><em class="mk"># VPC</em></span><span id="3a84" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">output</strong> "vpc_id" {<br/>description = "The ID of the VPC"<br/>value       = module.vpc.vpc_id<br/>}</span><span id="27cf" class="ky jw hi lr b fi lz lw l lx ly"><em class="mk"># CIDR blocks</em></span><span id="3826" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">output</strong> "vpc_cidr_block" {<br/>description = "The CIDR block of the VPC"<br/>value       = module.vpc.vpc_cidr_block<br/>}</span><span id="c6ed" class="ky jw hi lr b fi lz lw l lx ly"><em class="mk"># Subnets</em></span><span id="aa5f" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">output</strong> "private_subnets" {<br/>description = "List of IDs of private subnets"<br/>value       = module.vpc.private_subnets<br/>}</span><span id="1589" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">output</strong> "public_subnets" {<br/>description = "List of IDs of public subnets"<br/>value       = module.vpc.public_subnets<br/>}</span><span id="1d04" class="ky jw hi lr b fi lz lw l lx ly"><em class="mk"># NAT gateways</em></span><span id="654d" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">output</strong> "nat_public_ips" {<br/>description = "List of public Elastic IPs created for AWS NAT Gateway"<br/>value       = module.vpc.nat_public_ips<br/>}</span><span id="64e1" class="ky jw hi lr b fi lz lw l lx ly"><em class="mk"># AZs</em></span><span id="205f" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">output</strong> "azs" {<br/>description = "A list of availability zones specified as argument to this module"<br/>value       = module.vpc.azs<br/>}</span></pre><p id="e443" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当运行Terraform时，声明我们为Terraform和我们的提供商(AWS)使用的版本允许我们控制我们的Terraform项目。在<strong class="is hj"> versions.tf </strong>文件中，输入以下代码:</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="b22c" class="ky jw hi lr b fi lv lw l lx ly"><strong class="lr hj">terraform</strong> {</span><span id="5d4c" class="ky jw hi lr b fi lz lw l lx ly">required_version = "&gt;= 0.12.26"</span><span id="8dc4" class="ky jw hi lr b fi lz lw l lx ly"><strong class="lr hj">required_providers</strong> {<br/>aws = {<br/>source  = "hashicorp/aws"<br/>version = "&gt;= 3.15"<br/>}<br/>}<br/>}</span></pre><p id="9c8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在跑一个<code class="du mf mg mh lr b">terraform init</code>、<code class="du mf mg mh lr b">terraform fmt</code>、<code class="du mf mg mh lr b">terraform plan</code>，最后一个<code class="du mf mg mh lr b">terraform apply</code>。申请可能需要几分钟，所以请耐心等待！</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="eed2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">让我们检查一下我们的AWS账户在</strong> <code class="du mf mg mh lr b"><strong class="is hj">terraform apply</strong></code>之后的情况</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/af4fd96949ec34fd4d7802923e386c7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-kXbsUorLkxkqftHGQ4GQ.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">VPC created with correct CIDR!</figcaption></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/4486b156df6549258935281c0977e4ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7S9g9zAUEjhcHFbBVqYTw.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">Two public and one private subnet were created with the correct CIDRs!</figcaption></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/79276312d1eb56f546aa5b23ea54223e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q7iBgI944npzA9Nehw9uJg.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">MySQL RDS Database created!</figcaption></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/813e2e6e6a7555461b969d9fcd186a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6f-_KNdsWLytbaAgTOWPOA.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">Load Balancer created!</figcaption></figure><p id="0596" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，任务已经完成，是时候销毁我们的模块，并再次检查我们的AWS帐户是否干净，是否没有未来的费用。在VSCode终端中，执行<strong class="is hj"> </strong> <code class="du mf mg mh lr b"><strong class="is hj">terraform destroy</strong></code>(可能需要几分钟才能完成)。销毁完成后，您的AWS帐户中应该不会再看到新创建的VPC。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="c520" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">干得好！感谢您跟随我使用Terraform部署三层AWS VPC架构。请务必在LinkedIn-linkedin.com/in/helenccampbell与我联系</p></div></div>    
</body>
</html>