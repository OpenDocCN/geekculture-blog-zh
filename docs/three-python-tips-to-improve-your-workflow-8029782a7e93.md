# 改善工作流程的三个 Python 技巧

> 原文：<https://medium.com/geekculture/three-python-tips-to-improve-your-workflow-8029782a7e93?source=collection_archive---------27----------------------->

![](img/5c63acf00277c662fb96b2ff7fafea0e.png)

[Photo](https://unsplash.com/photos/ieic5Tq8YMk) by [Chris Ried](https://unsplash.com/@cdr6934) on [Unsplash](https://unsplash.com/)

这里有三个我最喜欢的 Python“生活窍门”，它们帮助我改进了工作流程。

准备好了吗？

# 1.使用列表理解

没有多少人完全理解列表理解，因此他们没有充分利用它的潜力。然而，如果使用得当，列表理解会是一个非常强大的工具。

> 当您想要基于现有列表的值创建一个新列表时，List comprehension 提供了一个较短的语法。( [W3 学校](https://www.w3schools.com/python/python_lists_comprehension.asp))

它们的语法如下:

```
[expression for item in list if condition]
```

让我们来看一个例子:

假设你有一个列表，包含不同的食物和它们各自的甜度。例如，如果您想获得甜度高于 3 的食物列表，您可以使用以下代码:

不要只相信我的话，试试看！如果您想复制粘贴它，下面是代码:

```
list_of_foods = [[“Apples”, 3],[“Bananas”, 5], [“Rice”, 2], [“Ice Cream”, 10]]
list_of_filtered_foods = [x for x in list_of_foods if x[1]>3]
print(list_of_filtered_foods)
```

有了正确的列表理解，你可以很容易地提高效率，促进你的工作流程。

列表理解也适用于字典。

# 2.有效导入

这个技巧实际上是 3 个不同技巧的结合

## 2.1 —提醒服务

我们都有过这样的经历:运行 python 文件时，意识到丢失了这么多导入，因为您以为自己导入了它们，但实际上并没有。大多数时候，一个好的 IDE 会有自动导入。但是有时候，即使是最好的 ide 也会忘记导入一些东西。

好了，不用再担心了，因为有一个快速解决这个问题的方法。

只需在开始编码时添加一条注释，提醒自己导入所需的包。像这样的消息就可以了:

```
# Did you import?
```

确保注释总是在代码的底部。这样，当你编码时，你总是会看到一个提示，提醒你导入！

## 2.2 —使用多行

我们都倾向于在同一行中导入许多东西，尤其是如果它们是相关的。

然而，这是错误的习惯。尽管为每个导入创建一个新行是非常乏味的，但是它可以帮助您停下来思考是否真的需要这个导入，以及是否还需要其他的导入。

使用多行代码还可以让您轻松识别哪些导入抛出了错误。例如，看一下下面的代码:

```
import numpy, pd
```

解释器会抛出一个错误，让您知道 numpy 丢失了。但是，IDE 可能无法判断出问题所在。而且，如果您的所有导入都在同一行上，那么即使找到 numpy 也是好运，更不用说删除它了。

使用多行对于 IPYNB python 来说非常有用。同样，如果所有的导入都在同一个代码块中，那么整个过程可能会失败。这并不是说每次导入一个代码块，而是不要把所有东西都塞进一个代码块。

## 2.3 —从 ___ 进口*

![](img/a3567b63ccae4cd9611e2c67f1ac11e5.png)

Picture from [Nerd Lettering](https://nerdlettering.com/products/from-coffee-import-python-sticker)

命令有时非常有用，但有时非常危险。这就是为什么最好考虑偶尔使用，但不要频繁使用。

如果您从同一个包或类中导入多个不同的类或函数，那么最好的方法可能是全部导入。

但是，不要过度使用它，否则您可能会由于两个导入的类或函数具有相同的名称而导致一些奇怪的错误。

这个建议与使用`import ___ as ___`命令密切相关，该命令可用于导入不同名称的函数或类。

# 3.三元运算符及其变通方法

在 Python 2.4 中，引入了三元运算符。

不要马上打开一个闲置的测试出来，因为它可能不是你认为的那样。

在真正的 pythonic 风格中，三元运算符是这样引入的:

```
value if condition else value
```

以下是一些示例代码，请试用一下:

然而，这实在是罗嗦，只是没有必要。相反，我们可以做以下事情来简化它:

```
(value_if_false, value_if_true)[condition]
```

这段代码要简单得多(但是只短了 4 个字符),并且使用了 1 是真，0 是假的事实。但是，有一点需要注意的是**的真值和假值被切换**。

以下是一些示例代码:

## 结论

使用列表理解、有效导入和利用三元运算符。这是我用 Python 提升你的工作流程的 3 个主要技巧。如果你实现了这些技巧，我相信你会发现自己花在挠头上的时间更少了，而花在享受代码上的时间更多了。

如果您确实喜欢阅读这篇文章，并且想要更多的技巧、窍门或教程，请务必关注我，并且在阅读这篇文章时为它鼓掌。