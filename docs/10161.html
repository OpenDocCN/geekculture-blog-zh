<html>
<head>
<title>Minimizing Switching Costs in Software Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最小化软件开发中的转换成本</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/minimizing-switching-costs-in-software-development-65262d241618?source=collection_archive---------11-----------------------#2022-01-16">https://medium.com/geekculture/minimizing-switching-costs-in-software-development-65262d241618?source=collection_archive---------11-----------------------#2022-01-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="850e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我以前写过软件开发中高转换成本的危险。依赖第三方是一个巨大的风险。你很容易受到另一家公司突发奇想的影响，包括天文数字般的价格上涨。然而，对供应商的依赖是不可避免的，因为他们可以大大加快产品开发。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/ae854777e5576280f4af6a8f61572c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*cEzr4r8O5gJzOCVE.jpeg"/></div><figcaption class="jm jn et er es jo jp bd b be z dx"><a class="ae jd" href="https://unsplash.com/@steve_j" rel="noopener ugc nofollow" target="_blank">Photo by Steve Johnson</a></figcaption></figure><p id="8583" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三方SAAS每月500美元听起来很多，但这比数月的内部开发要便宜得多。AWS可以以每月50-200美元的价格让您的应用程序投入生产，而一个数据中心的起步成本高达数千美元。当然，没有人构建自己的操作系统、编程语言等，尽管这些往往是免费的。</p><p id="94c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在某种程度上，第三方软件必须整合到我们的产品中。避开所有第三方不太现实。然而，高转换成本的危险仍然存在，因此管理我们与第三方的集成以降低这些转换成本非常重要。</p><h1 id="7a48" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">软件库</h1><p id="074e" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">最简单的例子是一个软件库。这些提供了一个非常具体的功能，所以产品很少是基于一个。然而，有些库非常方便，以至于我们在代码库中成百上千的地方使用这个库。需要更换库的可能性很小，但成本很高。替换代码库中的数百个调用可能要花费令人痛苦的数周时间。只有当您有一个强大的集成测试套件时，查找/替换才真正起作用(单元测试显然对替换库没有帮助)。没有那个套件，你需要手动替换和<em class="kt">测试</em>每一个变化。</p><p id="ef85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的缓解策略是围绕该库构建一个包装器。对于该库中使用的每个函数，您只需编写自己的函数来调用它。这乍一看似乎很傻，做起来肯定很烦人，但在几分钟的范围内，这是一个小烦恼，可以让你从几周的工作中获得保险。</p><h1 id="cede" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">蜜蜂</h1><p id="1d3d" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">与第三方API的集成通常比使用库要复杂得多，但是缓解的原理是相似的。第三方API的逻辑需要被隔离在包装器中。不幸的是，第三方API也会附带第三方数据，这些数据可能需要存储在您的系统中。这个数据也需要隔离好。</p><p id="b070" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一个例子。我们想集成一些API来发送文本。让我们称这家虚构的公司为“我们”或“TRU”。TRU的每条短信都有一个由TRU分配的id。如果我们给TRU发信息，TRU会给我们他们分配的id。如果我们的某个用户回复了这条消息，TRU就会用这条消息的id来调用我们的webhook。</p><p id="edcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个非常简单和直接的集成是将这些TRU id保存在我们的数据库表中，并在我们需要检索消息时在代码中引用它们。这将使得很难切换到TRU的竞争对手之一(例如Twilio)，他们可能具有不同的id模式。在最初迁移到竞争对手的过程中，没有一个id匹配，因此回复不能与原始消息同步。更不用说，我们会在代码库中的任何地方引用“tru_message_id ”,我们必须将它改为“twilio_message_id”。</p><p id="34e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建这种集成并保护我们不被TRU束缚的更好的方法是在我们的系统中创建我们自己的消息id。然后，我们创建一种方法来将我们的消息id映射到TRU消息id。如果/当我们需要切换到Twilio时，我们可以为我们的消息id到Twilio消息id创建另一个映射表。检查这个新映射的逻辑在我们的包装器中。我们绝大多数的代码都没有改变。</p><p id="949c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了清晰起见，我显然把事情简单化了。从一个API切换到另一个API绝非易事。但是将API集成与系统的其他部分隔离开来至少会使它变得更容易。不将依赖关系隔离到一个API会将您锁定在使用该API的提供者上，因为切换成本太高。该提供商可能开始提供较低质量的服务，或者将价格提高到远高于同等竞争对手的水平，而你仍然会选择使用他们。而且就算今天没有竞争对手，也不代表明天就没有惊艳的。</p><h1 id="b6b8" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">云提供商</h1><p id="1c43" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">这是最难解决的话题之一，因为这里的答案远非易事。我目前使用AWS，因为我相信它们能提供更好的服务质量。云基础设施还有很多其他提供商。谷歌云的定价模式远远优于AWS，这也是我多年前使用它的原因。微软的Azure非常受欢迎，我也听说过数字海洋的一些好消息。</p><p id="63b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我决定为我的上一个项目从Google Cloud切换到AWS时，花了大约2-3天。在软件项目的时间跨度中，对于看似重要的事情来说，这只是一个小问题。之所以这么快是因为我坚持基础设施的基础:原始计算实例、关系数据库和文件存储。</p><p id="7c84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个有竞争力的云提供商都提供这三样东西。大多数应用程序没有这三样东西就无法运行，所以它们的使用量最大，最可靠，并且具有让你做你需要做的事情的功能。还有一些其他所有提供者都有的东西，比如排队服务和负载平衡器，但这不是重点。关键是，我倾向于不使用AWS或Google Cloud提供的任何我在别处找不到的服务。这使得交换基础设施更容易，如果不是完全容易的话。</p><p id="97d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也就是说，我们现在回到避开供应商并不总是可行的这一点。许多云提供商现在也提供各种机器学习或人工智能服务。这些将基于提供商的数据集和专有算法。这将使它们比原始计算实例更难互换，只要运行相同的操作系统，原始计算实例的功能就应该相同。你的产品可能需要这些服务中的一个，你将不得不依赖它们来拥有一个可行的产品。不幸的是，我没有降低转换成本的答案，但提前知道你在冒险是件好事。</p><h1 id="126f" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="2fa9" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">降低转换成本不是免费的。我甚至不会假装这很容易。然而，如果您的系统与供应商紧密集成，那么在降低转换成本方面所花费的努力要比转换供应商所需的努力小很多数量级。花时间降低转换成本就像为这种情况购买保险。你不想出车祸，但如果发生了，你会很高兴有保险。你不想换供应商，但如果你换了，你会很高兴花时间降低转换成本。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><p id="8b59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kt">最初发表于</em><a class="ae jd" href="https://blog.professorbeekums.com/2019/minimizing-switching-costs/" rel="noopener ugc nofollow" target="_blank"><em class="kt">【https://blog.professorbeekums.com】</em></a><em class="kt">。</em></p></div></div>    
</body>
</html>