<html>
<head>
<title>How to Dockerize a Simple Django App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对一个简单的Django应用程序进行Dockerize</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-dockerize-a-simple-django-app-3cb0d5a71eea?source=collection_archive---------0-----------------------#2020-12-17">https://medium.com/geekculture/how-to-dockerize-a-simple-django-app-3cb0d5a71eea?source=collection_archive---------0-----------------------#2020-12-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/067b6d78249e70d98e8ee20c341c4bf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ivqm_mtsuzxO9XAF"/></div></div></figure><h1 id="a075" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="f989" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">根据Docker docs，<em class="km"> Docker是一个提供操作系统级虚拟化的工具，以称为容器的包的形式交付软件。</em></p><p id="6278" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">Docker通过提供一个简化的、自以为是的包装器，将现有的Linux发行版作为容器、进程控制、安全和资源管理技术调用，从而使应用程序容器易于使用。</p><p id="ac17" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">Docker擅长这两个关键领域:</p><ul class=""><li id="0fc3" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">包装应用</li><li id="369b" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">流程隔离和管理</li></ul><blockquote class="lg lh li"><p id="9f6d" class="jo jp km jq b jr kn jt ju jv ko jx jy lj kp kb kc lk kq kf kg ll kr kj kk kl hb bi translated">Docker帮助你在独立的小盒子里打包和运行应用程序，并提供所有的平台和应用程序依赖，从而保持主机整洁。</p></blockquote><p id="781f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">Docker解决以下相关问题:</p><ul class=""><li id="23e1" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">缺少或不正确的应用程序依赖项，如库、解释器、代码/二进制文件、用户、操作系统包等</li><li id="e7e3" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在同一主机上运行的程序之间的冲突，如库依赖或端口；示例:本地Django试图使用端口80</li><li id="7d94" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">运行应用程序所需的系统资源不足，如CPU和内存。</li></ul><p id="4adc" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">让我们看看Docker是如何实现其轻松“构建、发布和运行”应用程序的承诺的😃。</p><p id="1039" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">假设</strong>:我们将使用<a class="ae lm" href="https://www.django-rest-framework.org/" rel="noopener ugc nofollow" target="_blank"> Django应用程序</a>，可能需要一些使用Django应用程序的经验，并且您已经安装了<a class="ae lm" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank">Docker</a>&amp;<a class="ae lm" href="https://docs.docker.com/compose/" rel="noopener ugc nofollow" target="_blank">Docker Compose</a>。</p><h1 id="da47" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">将应用程序打包到映像中</h1><p id="3ca4" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">由<a class="ae lm" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank"> Docker </a>提供的操作系统级虚拟化帮助我们将应用和平台镜像到一个<code class="du ln lo lp lq b">docker file</code>。<code class="du ln lo lp lq b">docker file</code>应该放在Django项目的根位置。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/da305fdc72b8b69b3b116df780fa7f6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nlfj-ffYJBScipY5KwGKNQ.png"/></div></div></figure><p id="d7e1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">Docker images还允许您定义元数据和定义更多选项，以帮助操作员根据您的应用程序需求运行应用程序。</p><h1 id="d51a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">设置Docker-compose.yml文件</h1><p id="f1c8" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">为了清楚起见，Docker Compose解决了同时运行多容器应用程序的问题。因此，您可以设置所需的容器数量、它们的构建、服务和容量，然后使用一组命令，您就可以构建、运行和配置所有的容器。</p><blockquote class="lg lh li"><p id="8cec" class="jo jp km jq b jr kn jt ju jv ko jx jy lj kp kb kc lk kq kf kg ll kr kj kk kl hb bi translated"><em class="hi">根据</em><a class="ae lm" href="https://docs.docker.com/compose/" rel="noopener ugc nofollow" target="_blank"><em class="hi">Docker-compose Docs</em></a><em class="hi">使用Compose基本上是一个三步走的过程:</em></p></blockquote><ul class=""><li id="3bd2" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">用docker文件定义你的应用环境，这样它可以在任何地方被复制。</li><li id="f60d" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在docker-compose.yml中定义组成您的应用程序的服务，以便它们可以在一个隔离的环境中一起运行。</li><li id="ffa8" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">运行docker-compose up和compose启动并运行您的整个应用程序。</li></ul><p id="df6a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">它也位于Django应用程序的根目录中。当您为部署创建复杂的容器或数据库服务时，Docker环境变量文件<code class="du ln lo lp lq b">.env</code>是必需的。</p><p id="b4e5" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">假设您的<code class="du ln lo lp lq b">.env file</code>(顺便说一下，这是文件的全名)位于存放<code class="du ln lo lp lq b">docker-compose.yml file</code>的同一个目录中。在<code class="du ln lo lp lq b">.env file</code>中，你有这几行:</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/0911d6bb452b9b7a66c5820de9098c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lGk3aVEkNqsxLdoAN0OgHw.png"/></div></div></figure><p id="4b37" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">一个简单的<code class="du ln lo lp lq b">docker-compose.yml</code>看起来是这样的:</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/3840d894eadde84638ace1a17fd99f55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NCqgSPfxCVSyswExy3hhKw.png"/></div></div></figure><p id="7d6d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">我们现在都设置好了，让我们使用这个简单的命令构建并运行我们的容器:</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/2e911faf902a451694e07edec457b2a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*drtRqdCaSoLVTQcRZnOdvQ.png"/></div></figure><p id="f32b" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这是对应用程序容器如何帮助您的团队解决许多常见的打包、分发和操作问题的简单介绍；同时帮助您发布更好的软件🤓。</p><p id="dfd9" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">感谢观众，希望这篇文章对你有所帮助🤗。请随时在<a class="ae lm" href="https://github.com/nextwebb" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae lm" href="https://twitter.com/i_am_nextwebb" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae lm" href="https://www.linkedin.com/in/peterson-oaikhenah-102645144/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我。一定要点赞、评论和分享😌。</p><h1 id="9c72" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">进一步阅读</h1><ul class=""><li id="0d9d" class="ks kt hi jq b jr js jv jw jz lz kd ma kh mb kl kx ky kz la bi translated"><a class="ae lm" href="https://docs.docker.com/compose/" rel="noopener ugc nofollow" target="_blank">Docker-撰写文档</a></li><li id="b5f7" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><a class="ae lm" href="https://docs.docker.com/engine/reference/builder/" rel="noopener ugc nofollow" target="_blank"> Docker文档</a></li><li id="88f6" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><a class="ae lm" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-20-04" rel="noopener ugc nofollow" target="_blank">在ubuntu 20.04上安装docker</a></li></ul></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="a2cd" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="km">原载于</em><a class="ae lm" href="https://blog.nextwebb.tech/how-to-dockerize-a-simple-django-app/" rel="noopener ugc nofollow" target="_blank"><em class="km">https://blog . next Webb . tech</em></a><em class="km">。</em></p></div></div>    
</body>
</html>