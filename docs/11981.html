<html>
<head>
<title>3D Model: THREE.js Scene in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3D模型:THREE.js角度场景</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/3d-model-three-js-scene-in-angular-7bcbc0d00c31?source=collection_archive---------3-----------------------#2022-04-19">https://medium.com/geekculture/3d-model-three-js-scene-in-angular-7bcbc0d00c31?source=collection_archive---------3-----------------------#2022-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="88c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Three.js是一个JavaScript库，用于在web浏览器上创建和显示动画3D计算机图形，与HTML5 canvas元素、WebGL和SVG兼容。</p><p id="e82f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">往期教程:<a class="ae jd" rel="noopener" href="/geekculture/hello-cube-your-first-three-js-scene-in-angular-176c44b9c6c0">你好█████魔方:THREE.js场景中的Angular | by Anurag Srivastava |极客文化| Medium </a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/34d6c4a52aea7dd721b7c92fcf83fa83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CuBBpjpOaIe_nsdEjcWpdg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">3d Model: THREE.js Scene in Angular</figcaption></figure><p id="7f16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上一个教程中，我们学习了Three.js的基础知识，并在Angular中集成了Three.js场景。在本教程中，我们将渲染一个3D模型。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="eff3" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated"><strong class="ak">模型</strong></h2><p id="d5a3" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">首先，我们需要找到一个合适的3D模型。网上有很多免费的模型。我们将使用GLTF格式，因为它的文件小，效率高。three.js也支持FBX和obj文件。这里有一个免费模型【sketchfab.com<a class="ae jd" href="https://sketchfab.com/3d-models/super-tactical-droid-clone-wars-617367b06c9d438d81c6a883df9c4014" rel="noopener ugc nofollow" target="_blank">《超级战术机器人——克隆人战争》——下载艾迪·罗奇(@ Eddie . Roach)【617367 b】</a>的免费3D模型</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lb"><img src="../Images/6925bf7c1c53746a0d60519310b32d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o9Khi1bgS9zS7JzxCYOpTg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Super Tactical Droid — Clone Wars (Eddie Roach <a class="ae jd" href="https://sketchfab.com/eddie.roach" rel="noopener ugc nofollow" target="_blank">https://sketchfab.com/eddie.roach</a>)</figcaption></figure><p id="3708" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将下载的模型文件放入assets文件夹中(您必须给予所有者<a class="ae jd" href="https://creativecommons.org/licenses/by/4.0/#" rel="noopener ugc nofollow" target="_blank">适当的信任</a>)。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lc"><img src="../Images/2b6b7ed59992e5cc28cc57f2d39c1222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T4KsoKwTb099bA6LIjxZiQ.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Downloaded Model Files</figcaption></figure><p id="242d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae jd" rel="noopener" href="/geekculture/hello-cube-your-first-three-js-scene-in-angular-176c44b9c6c0">之前的教程</a>中，我们已经学习了如何在angular中建立一个three.js项目，所以请浏览最后一个教程，因为我不会在这里讨论它。</p><p id="b07f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们首先创建一个angular组件，它由一个HTML文件和一个<strong class="ih hj"> Typescript </strong>文件(<strong class="ih hj">)组成。ts </strong>)，我们将在其中导入Three.js功能和一个CSS或SCSS风格的文件。键入下面的命令创建一个<strong class="ih hj"> <em class="ld">模型组件</em> </strong>。</p><blockquote class="le lf lg"><p id="a15b" class="if ig ld ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated">ng生成组件立方体</p></blockquote><p id="1a93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开HTML文件，添加一个画布到我们的空场景中。我们可以在HTML模板中添加我们需要的任何大小的画布。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lk"><img src="../Images/9851797560bd267a9a7307b2df8c745d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*njsRNWkMky_bErFYPaGJ-g.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">adding canvas in model.component.html</figcaption></figure><p id="ab7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">迈出这一小步后，我们可以将注意力转移到Typescript文件上，实际的工作仍然需要完成，以获得我们的3D场景设置。</p><h2 id="cd45" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">对Three.js场景进行编程</h2><p id="1dca" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">现在，要将Three.js与Angular和load 3D模型集成，您必须将Three.js库和我们将讨论的附加模块导入到您要渲染3D对象的组件中，即<strong class="ih hj"><em class="ld">model . component . ts .</em></strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ll"><img src="../Images/7b8185994c91b7b7ab9aba197906cc3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GqKzux8YuTKhwXMlN9ph2w.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">importing modules</figcaption></figure><p id="c94a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> GLTF: </strong> <a class="ae jd" href="https://www.khronos.org/gltf" rel="noopener ugc nofollow" target="_blank"> glTF </a> (GL传输格式)是一种<a class="ae jd" href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0" rel="noopener ugc nofollow" target="_blank">开放格式规范</a>，用于高效交付和加载3D内容。资产可能以JSON(.gltf)或二进制(。glb)格式。外部文件存储纹理(。jpg，。png)和附加的二进制数据(。bin)。glTF资源可以提供一个或多个场景，包括网格、材质、纹理、皮肤、骨架、变形目标、动画、灯光和/或摄像机。</p><p id="fa84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GLTFLoader: 这是一个three.js模块，它读取GLTF文件并将其导入到我们的场景中。</p><p id="4aff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">轨道控制:</strong>轨道控制允许摄像机围绕目标旋转。</p><p id="6c2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">CSS 2d rendered:</strong>CSS 2d renderer是CSS3DRenderer的简化版。唯一支持的转换是转换。如果您想将基于HTML的标签与3D对象结合起来，渲染器非常有用。在这里，相应的DOM元素被包装到一个CSS2DObject实例中，并被添加到场景图中。</p><p id="e537" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用以下命令获取我们在HTML文件中添加的画布的引用</p><blockquote class="le lf lg"><p id="ea2b" class="if ig ld ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated"><a class="ae jd" href="https://angular.io/api/core/ViewChild" rel="noopener ugc nofollow" target="_blank"><em class="hi">@ view child</em></a><em class="hi">(' canvas ')私有canvasRef:</em><a class="ae jd" href="https://angular.io/api/core/ElementRef" rel="noopener ugc nofollow" target="_blank"><em class="hi">element ref</em></a><em class="hi">；</em></p></blockquote><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lm"><img src="../Images/82c2a0315c033d469474b4944bac8a60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ghEkM6hCgxIvPBfN24D5g.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">canvas reference</figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="b629" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们现在创建场景，场景是我们将添加不同的元素，我们想与像相机，三维模型等工作。创建如下所示的函数:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ln"><img src="../Images/1c46cf47dd44f8e2b4380ba7f1b1fcb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*zlVa3a9O_keRD44ev2qqcQ.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx">creating the scene</figcaption></figure><p id="1aff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们创建控件。控件将帮助我们旋转模型。创建如下所示的函数:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lo"><img src="../Images/38c9f493efd6759ca2fc034a699f3028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qy6EOtZlcc7tBwdEEIDD1w.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">create controls</figcaption></figure><p id="c46c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，调用ngAfterViewInit()中的createScene()、startRenderingLoop()和createControls()函数，在终端中使用<strong class="ih hj"> <em class="ld"> ng serve </em> </strong>启动项目。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lp"><img src="../Images/83abde89f6db191aef9d250271351aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IFrpYoSah_ywH-6CMOMAIQ.gif"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Final working demo</figcaption></figure><p id="9f57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下载源代码，运行项目，然后到localhost:4200/model查看演示。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h1 id="ca05" class="lq kc hi bd kd lr ls lt kh lu lv lw kl lx ly lz ko ma mb mc kr md me mf ku mg bi translated">您已经准备好使用Angular将3d模型加载到Three.js项目中。祝编程愉快！！！</h1><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mh"><img src="../Images/0b6a481ac850b207656b7a316f0806cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*UB_OrH9O0k6VvkjR.gif"/></div></figure><p id="890f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> GITHUB链接</strong>对于这个项目:-<a class="ae jd" href="https://github.com/srivastavaanurag79/angular-three" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">srivastavaanurag 79/angular-three:在本教程中，我们将通过一个简单的例子。我们将渲染一个3D立方体，我们将学习Three.js的基础知识，并将Three.js场景集成到Angular中。</strong>(github.com)</a></p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="94a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ld">参考资料:<br/> </em> <a class="ae jd" href="https://www.freecodecamp.org/news/render-3d-objects-in-browser-drawing-a-box-with-threejs/" rel="noopener ugc nofollow" target="_blank"> <em class="ld"> Three.js教程—如何在浏览器中渲染3D对象(freecodecamp.org)</em></a></p><p id="dac2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://threejs.org/docs/index.html#manual/en/introduction/Loading-3D-models" rel="noopener ugc nofollow" target="_blank">加载3D模型— three.js文档(threejs.org)</a></p><p id="cf57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://redstapler.co/add-3d-model-to-website-threejs/" rel="noopener ugc nofollow" target="_blank">5分钟内将3D模型添加到网站— Three.js教程—红色订书机</a></p><p id="1ce5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://sketchfab.com/3d-models/super-tactical-droid-clone-wars-617367b06c9d438d81c6a883df9c4014" rel="noopener ugc nofollow" target="_blank"> SketchFab </a> ( <a class="ae jd" href="https://sketchfab.com/3d-models/super-tactical-droid-clone-wars-617367b06c9d438d81c6a883df9c4014" rel="noopener ugc nofollow" target="_blank">超级战术机器人——克隆人战争——免费下载埃迪·罗奇的3D模型(@埃迪·罗奇)</a>)</p></div></div>    
</body>
</html>