<html>
<head>
<title>Build a REST API with Django REST Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Django REST框架构建REST API</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/build-a-rest-api-with-django-rest-framework-a6088fdb6fa0?source=collection_archive---------1-----------------------#2021-02-03">https://medium.com/geekculture/build-a-rest-api-with-django-rest-framework-a6088fdb6fa0?source=collection_archive---------1-----------------------#2021-02-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="3a32" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在Django中构建REST API非常简单。在本教程中，我们将逐步创建您的第一个API。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/da6be6879d53bf82e272e93e2975e42a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*Y2uUi-aZp4HaZEdu.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">image from realpython.com</figcaption></figure><h1 id="616f" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">为什么要使用REST API？</h1><p id="656b" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">在我们开始有趣的东西之前，最好知道为什么要创建API。</p><p id="9d48" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">rest API是从我们的应用程序向其他应用程序提供数据的一种方式。那些其他应用程序可以以任何他们想要的方式使用它。通常，API也允许应用程序修改数据。</p><p id="cce6" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">一般来说，API是一种通过请求编辑数据库内容的方式。您收到的是静态响应，通常是JSON格式的，无论您请求什么。</p><p id="8b58" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">Rest APIs是软件开发的必备技能，所以你必须知道它们是如何工作的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lc"><img src="../Images/458e61928f8a0aaba45f0df9073507ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/0*_kFRTGQx65RdmXmC.jpg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">image from shareurcodes.com</figcaption></figure><h1 id="fcf4" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">为什么选择Django REST框架？</h1><p id="cb2b" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">使用Django REST框架的最好理由是，它使序列化的艰苦工作变得非常容易！</p><h1 id="6eed" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">我们在创造什么？</h1><p id="5470" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">我们将创建一个图书API应用程序，在其中我们可以创建，读取，更新和删除(简称CRUD)图书条目。</p><h1 id="9fef" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">现在有趣的事情。</h1><p id="c6db" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">现在，我们将创建一个应用程序来测试所有这些东西。</p><h1 id="547d" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">安装Django和Django rest框架</h1><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="4a17" class="li jk hi le b fi lj lk l ll lm">$ pip install Django djangorestframework</span></pre><h1 id="dca1" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">建立Django项目</h1><p id="41cb" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">现在，让我们创建项目</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="adbd" class="li jk hi le b fi lj lk l ll lm">$ django-admin startproject Books</span></pre><p id="b2d6" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">我将命名姜戈计划书籍。</p><p id="7272" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，让我们进入新创建的文件夹“Books”:</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="5a5d" class="li jk hi le b fi lj lk l ll lm">$ cd Books</span></pre><p id="b4d3" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在让我们为Django项目创建应用程序。</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="5284" class="li jk hi le b fi lj lk l ll lm">$ python3 manage.py startapp main</span></pre><p id="5466" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">App名称为主。(叹气..)</p><p id="26a6" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">在“书籍”文件夹的settings.py中注册应用程序名称。</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="b9be" class="li jk hi le b fi lj lk l ll lm">INSTALLED_APPS = [<br/>    'main',<br/>    ...<br/>]</span></pre><p id="49f9" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在测试服务器是否正常。运行以下命令启动Django服务器:</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="172a" class="li jk hi le b fi lj lk l ll lm">$ python3 manage.py runserver</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ln"><img src="../Images/7618ba4503fd0b4575abf57a1c5a7145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*R0aw-zeLnzREQyHXXBR3Fw.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Ignore the warning. Image from the author</figcaption></figure><p id="e3fd" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在我们打开给定的IP地址<a class="ae lo" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8000/ </a>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lp"><img src="../Images/28296f6523ad708e8e36fe8eef347ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SiVKQKT0Mz1v8TZYO5mLDw.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="d6a1" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">我们可以看到Django多么高兴地告诉我们web应用程序正在工作，我们可以确认服务器正在工作。</p><h2 id="7564" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">解决迁移错误:</h2><p id="6620" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">为了解决我们第一次运行服务器时看到的错误，我们必须在终端上运行这个命令。</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="88a2" class="li jk hi le b fi lj lk l ll lm">$ python3 manage.py migrate</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mh"><img src="../Images/4cc0cf07dce5999e14d6fd1f14480d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*rUWtv90pv7BNQEQ2PUxB6w.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="ce52" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，当我们运行服务器时，我们不会看到这个错误。</p><h2 id="d62a" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">创建超级用户</h2><p id="e53c" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">我们将要创建一些模型。如果我们想查看数据库中的书籍时，能够访问Django漂亮而经典的管理页面，那就太好了。</p><p id="ca79" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">使用此命令创建全能的超级用户。</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="d484" class="li jk hi le b fi lj lk l ll lm">$ python3 manage.py createsuperuser</span></pre><p id="a571" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">您将被要求填写如下几个字段，您只需回答它们，注意您需要记住用户名和密码，因为我们将需要它。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mi"><img src="../Images/c588dc1fec612abace87c9065e1e95bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*THwxlHvzykRVRdevzM8egQ.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="d2e2" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">来验证它是否有效。让我们启动Django服务器，然后进入这个链接<a class="ae lo" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/</a>admin/</p><p id="d99b" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，我们将受到这个登录表单的欢迎。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mj"><img src="../Images/b344b40065964e06d040cf538cc4ac75.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*SvMhBnvvJJ2lKmC-1IweLQ.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="1c16" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">您应该输入刚才在终端中输入的用户名和密码</p><p id="3e6a" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">输入用户名和密码后，迎接你的将是这个非常专业的管理页面！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mk"><img src="../Images/9b36dd36831135f1125db68b07ec94af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uaXEn7JehNPMKrmb6JON9A.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">looks beautiful, doesn't it?</figcaption></figure><h1 id="a0c2" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">创建我们值得信赖的Django ORM将管理的图书模型</h1><p id="8cf5" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">让我们创建图书模型！</p><p id="e577" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在让我们转到主文件夹中的models.py文件，并添加创建模型:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">We have added the book class to the models.py file.</figcaption></figure><p id="2c70" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">我们的book对象将只包含两个字段:书名和作者。</p><p id="9479" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在让我们将模型注册到主文件夹的admin.py文件中的管理页面。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="efb5" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">运行迁移(按顺序运行命令)</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="3ac4" class="li jk hi le b fi lj lk l ll lm">$ python3 manage.py migrate<br/>$ python3 manage.py makemigrations<br/>$ python3 manage.py migrate</span></pre><p id="38b8" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，让我们运行服务器并再次打开管理页面。</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="46ce" class="li jk hi le b fi lj lk l ll lm">$ python3 manage.py runserver</span></pre><p id="dfe6" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，我们将在管理页面上看到另一个名为main(我们的应用程序名称)的表。)</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mn"><img src="../Images/f94283b6ebd6c1be2992b263190ecf39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zqy5pYpjhrkGgunzHWc-WA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="d49b" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">通过点击名为main的表格下的书籍，我们将看到这一点。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mo"><img src="../Images/7b1789006a19e0ca961aa60c19f8c27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Jszje2o6eBc30fRN_BBkQ.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="043e" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">要创建一个新的book对象，我们需要单击add book按钮。我们需要填写如下表格，然后点击“保存”按钮:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mp"><img src="../Images/4fb19017e567ff9851485023815599c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qDZacX0h_DKHLvYRphv6wg.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="68cb" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">当我们回去的时候，我们会看到一个新的物体。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mq"><img src="../Images/3c3be20c036a61f4a6dacb59ab367c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9bxWqkdrekTKu_WrVXBVCg.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">Image from the author</figcaption></figure><p id="3a3b" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">通过单击对象，您可以选择删除和更新实例。如果需要，您可以创建更多的实例。</p><h1 id="8eff" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">创建REST API</h1><p id="15f3" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">现在，让我们使用Django-rest-framework来创建API。</p><p id="0f5f" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">让我们将rest_framework追加到INSTALLED_APPS字典中。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">‘…’ refers to Django's own apps</figcaption></figure><p id="1da4" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，让我们在主应用程序文件夹中创建一个名为“api”的文件夹，并创建名为['serializer.py '，' urls.py '的新文件。views.py']。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mr"><img src="../Images/ea4fd10a57ee86a49d5433c83a0fa4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*F05mJTjiVX_27XRXFUePWg.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Folder structure by now and will remain. Image from the author</figcaption></figure><h2 id="58e9" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">使用ModelSerializer序列化模型</h2><p id="b74b" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">序列化是将模型转换为JSON的过程。使用序列化器，我们可以指定模型的JSON表示中应该出现哪些字段。</p><p id="32d0" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">序列化程序会将图书模型转换成JSON表示，这样API用户就可以解析它们，即使他们没有使用可信的python。反过来，当用户向我们的API提交请求JSON数据时，序列化程序会将该JSON转换为Book模型，以便我们保存或验证。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="16e2" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">在这里，我们传递要序列化的图书模型，并以' __all__ '的形式传递字段，因为我们需要显示rest API中的所有字段。__all__ '还包含显示图书实例id的id字段。</p><h2 id="88d7" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">创建rest API视图集</h2><p id="f1cb" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">将下面的代码粘贴到API文件夹的views.py文件中，</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="416a" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">这里，我们已经创建了一个视图集，从数据库中传递了图书模型的所有实例或对象，</p><h2 id="683a" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">URL有效。</h2><h2 id="3ded" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">将路径添加到API urls.py文件</h2><h2 id="d0a7" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">将API urls.py注册到项目urls.py</h2><p id="f30d" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">将此代码粘贴到下面。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="5926" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">现在，我们已经将API urls.py文件链接到了Books文件夹下的主urls.py文件。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">The path to API will be ‘books/’ as in line 7</figcaption></figure><p id="699d" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">任务代码完成。任务测试开始</p><h1 id="0eed" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">检验和测试API</h1><p id="ae93" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">因此，让我们运行服务器并打开<a class="ae lo" href="http://127.0.0.1:8000/books/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/books/</a>，迎接我们的将是:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mp"><img src="../Images/03c3637c8d17febc02a898a76d91ff47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rQQ-YeDNxbz_SrWylGs-g.png"/></div></div></figure><p id="4ae4" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">因此，在这个URL中，我们得到了一个我们创建的所有book实例的列表，以及一个创建新实例的选项，可以随意使用它们。</p><p id="bf8f" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">当我们转到这个URL<a class="ae lo" href="http://127.0.0.1:8000/books/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/book</a>s/(任何实例id)时，我们将可以选择获取、删除或更新(上传)实例</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es ms"><img src="../Images/a36a88dfaaa63006e7d86789dc8635a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCukuUYIOC9M3W-qy_yAnA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">Option to do get, delete or put request.</figcaption></figure><h2 id="7fab" class="li jk hi bd jl lu lv lw jp lx ly lz jt kk ma mb jv ko mc md jx ks me mf jz mg bi translated">奖金！</h2><p id="caeb" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">使用请求模块创建一个新的book实例。</p><p id="388a" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">注意:您将需要启动服务器，否则文件将抛出一个错误。</p><p id="ba88" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">要安装请求模块，请在终端中键入以下内容:</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="a71d" class="li jk hi le b fi lj lk l ll lm">$ pip install requests</span></pre><p id="0b54" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">在任何名为requests.py或client.py的文件夹中创建一个新文件，并复制这段代码。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="5e31" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">在create_new_book方法中，我们可以看到，我们接受参数，将它们转换成一个字典，并向<a class="ae lo" href="http://127.0.0.1:8000/books/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/books/</a>发送请求</p><p id="28dc" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">而在get_all_books中，它使用get请求来获取一个列表中的所有book实例。</p><p id="9663" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">当我们观察书籍实例列表时，它还显示了加来道雄新增加的书籍《平行世界》(我建议你应该读一读。)</p><p id="cbe8" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">这样，我们可以从服务器获取数据到我们自己的python文件中，并以任何我们想要的方式使用它。</p><h1 id="fecd" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">告别</h1><p id="2220" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">我希望你在本教程中玩得开心。当然，在rest APIs中事情会变得更复杂，但这是起点。</p><p id="592d" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">如果你有任何问题，请对这个帖子发表评论，我很乐意帮助你，或者我们有值得信赖的StackOverflow。</p><h1 id="aa80" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">再见。</h1></div></div>    
</body>
</html>