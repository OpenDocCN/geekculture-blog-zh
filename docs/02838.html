<html>
<head>
<title>The Top 10 Checks You Should Do Before Raising a Pull Request</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在提出拉取请求之前，您应该做的10大检查</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-top-10-checks-you-should-do-before-raising-a-pull-request-6dea166515ac?source=collection_archive---------25-----------------------#2021-05-26">https://medium.com/geekculture/the-top-10-checks-you-should-do-before-raising-a-pull-request-6dea166515ac?source=collection_archive---------25-----------------------#2021-05-26</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><div class=""><h2 id="406e" class="pw-subtitle-paragraph ig hi hj bd b ih ii ij ik il im in io ip iq ir is it iu iv iw ix dy translated">提高每个人都会感谢你的公关</h2></div><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et iy"><img src="../Images/9270194602d3704781641170fa705697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_JM5lcCHs4H-MDCpGvhXQ.jpeg"/></div></div><figcaption class="jk jl eu es et jm jn bd b be z dy">Photo by <a class="ae jo" href="https://unsplash.com/@dolis_ly?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Monica Garniga</a> on <a class="ae jo" href="https://unsplash.com/s/photos/astronaut?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="dd91" class="jp jq hj bd jr js jt ju jv jw jx jy jz ip ka iq kb is kc it kd iv ke iw kf kg bi translated">介绍</h1><p id="5370" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">你可能会认为美国宇航局的宇航员花了大部分时间试图打破最长太空行走的记录。当然，你错了。太空的真空充满了危险，所以宇航员花了大部分时间检查清单，很多很多。</p><p id="df1d" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">核对表对于缓解常见问题至关重要，可用于各种场景。对于软件工程师来说，<strong class="kj hk">拉式请求(PR)清单</strong>确保每个人的PR满足一套标准的质量保证规则。</p><p id="0055" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">在本文中，我将讨论在提出拉取请求之前我要做的10项检查。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="2a08" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">1.比较更改</h1><p id="dd77" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">仔细检查你的简历中每个文件的修改前后。</p><p id="3f78" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">例如:</p><ul class=""><li id="dd4f" class="lu lv hj kj b kk ld kn le kq lw ku lx ky ly lc lz ma mb mc bi translated">您是否无意中删除/更新了其他错误代码？</li><li id="57be" class="lu lv hj kj b kk md kn me kq mf ku mg ky mh lc lz ma mb mc bi translated">每个单元测试是否正确地描述了正在发生的事情，对于更新的测试，描述是否仍然准确？</li></ul><p id="cbc4" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">最好在提交代码时尽早发现这些问题。现在花额外的几分钟来检查您的更改，比以后必须修复它们要好得多。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="edb1" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">2.检查命名约定</h1><p id="801c" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">确保遵循组织内部使用的命名约定:给类、方法和变量起适当的名称，这些名称能够正确描述它们的功能，而不需要使用注释。</p><p id="9048" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">此外，将您的代码与以下内容进行比较:</p><ul class=""><li id="225e" class="lu lv hj kj b kk ld kn le kq lw ku lx ky ly lc lz ma mb mc bi translated">大写规则</li><li id="02d8" class="lu lv hj kj b kk md kn me kq mf ku mg ky mh lc lz ma mb mc bi translated">私有变量中下划线的使用</li><li id="f06d" class="lu lv hj kj b kk md kn me kq mf ku mg ky mh lc lz ma mb mc bi translated">文件命名约定</li></ul><p id="b64b" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">如果你的约定没有记录在团队维基上，努力添加它们。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="3362" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">3.评估可访问性</h1><p id="90ed" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">确定哪些方法可以被<em class="mi">保密</em>或<em class="mi">保护</em>。例如，如果一个方法只在一个类中使用，那么将该方法设为私有是有意义的。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="ecb4" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">4.确认单元测试通过</h1><p id="9e49" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">如果一个PR因为单元测试没有通过而被阻止，这表明你没有注意预先运行单元测试。提前执行单元测试，并利用任何特性来防止您在单元测试没有通过时签入工作。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="1543" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">5.只做有意义的改变</h1><p id="ea09" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated"><strong class="kj hk">删除代码中的所有注释</strong>。注释应该只是短期的笔记，以帮助和提醒你在编写代码时需要做什么。</p><p id="abfe" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">另外，<strong class="kj hk">不要添加不必要的空白</strong>修改编辑过的文件。除非空白检查被禁用，否则空白会分散PR审阅者的注意力，因为她/他需要检查每个突出显示的更改，却发现这些更改是不相关的。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="c929" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">6.删除并重新创建数据库</h1><p id="555f" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">如果您进行了任何与数据库相关的更改，最好删除本地数据库并重新创建它，以确保没有错误。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="cb7d" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">7.做局部烟雾测试</h1><p id="a45a" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">没有什么比利用每个人的时间来批准一个PR更糟糕的了，只是因为在测试过程中发现了一个bug，QA分析师才把任务重新分配给你。</p><p id="2311" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">因此，对您所做的更改进行局部冒烟测试，以确保您已经捕获了错误并满足了验收标准。此外，在进行本地烟雾测试时，<strong class="kj hk">保持浏览器控制台打开</strong>以检查控制台错误。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="8d9c" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">8.检查拉取请求的标题和描述是否符合团队规则</h1><p id="98dd" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">公关描述应该是对<strong class="kj hk">你的代码变更将会产生什么样的</strong>影响的简单解释。接下来，你应该解释<strong class="kj hk">你是如何</strong>做出这些改变的，以及<strong class="kj hk">为什么</strong>。</p><p id="4df7" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">PR描述应该由提交描述中创建的要点自动组成。因此，提交消息本身应该是准确的。</p></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="e4b8" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">9.附上测试证据</h1><p id="3446" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">我是个好人(诚实)；然而，我有一些严厉的话:</p><blockquote class="mj"><p id="29fb" class="mk ml hj bd mm mn mo mp mq mr ms lc dy translated">"如果没有测试证据附在PR上，我认为测试从未发生过！"</p></blockquote><p id="bac3" class="pw-post-body-paragraph kh ki hj kj b kk mt ik km kn mu in kp kq mv ks kt ku mw kw kx ky mx la lb lc hc bi translated">有太多的理由说明为什么你应该在附在PR上的测试文档中包含一步一步的截图。</p><p id="44f1" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">主要是测试证据:</p><ul class=""><li id="d9e7" class="lu lv hj kj b kk ld kn le kq lw ku lx ky ly lc lz ma mb mc bi translated">向PR评审者展示你已经测试了你的代码。</li><li id="bf82" class="lu lv hj kj b kk md kn me kq mf ku mg ky mh lc lz ma mb mc bi translated">为您对其他开发人员所做的更改提供一些上下文。</li><li id="69e1" class="lu lv hj kj b kk md kn me kq mf ku mg ky mh lc lz ma mb mc bi translated">帮助新的QA分析师理解他们测试中的工作流程。</li><li id="a08c" class="lu lv hj kj b kk md kn me kq mf ku mg ky mh lc lz ma mb mc bi translated">为您提供了证据，证明您在测试中一直很努力，以防以后出现问题。</li></ul><p id="d6f9" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">特别是，对于<strong class="kj hk">数据库</strong>的变化:</p><ul class=""><li id="3e20" class="lu lv hj kj b kk ld kn le kq lw ku lx ky ly lc lz ma mb mc bi translated">开发者应该在UI动作截图之间，对相关表格中的数据进行截图。</li></ul><p id="55b2" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">对于<strong class="kj hk"> UI </strong>的变化:</p><ul class=""><li id="1f01" class="lu lv hj kj b kk ld kn le kq lw ku lx ky ly lc lz ma mb mc bi translated">在进行更改之前，对UI进行截图，然后在进行更改之后再次进行截图，并将这两个截图都附到PR中。这样做可以让每个人更容易看到CSS的变化。</li></ul><p id="5e6c" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">个人偏好是将截图放入文档，将其转换为PDF，然后<strong class="kj hk">将PDF </strong>附加到PR(如下所示)。</p><p id="3b24" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">请注意，在这个例子中，我通过使用粗体字清楚地标记描述和测试证据标题，并利用项目符号来提高可读性，来帮助PR审阅者。</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et my"><img src="../Images/fc05f26c7c689e0caadf8f667d7bf06b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUZ6aEaYX-PcUdcsi8-dHA.png"/></div></div></figure></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="af64" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">10.参考任务和用户故事</h1><p id="a909" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">确保PR引用所有相关的任务和用户故事id，以便有变更的书面记录。</p><p id="d907" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">一些DevOps平台——比如Azure devo PS——允许你搜索和附加id到你的PR(见下文)。</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et my"><img src="../Images/b3ffcb7433d085444a56e5dd97524e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UE61y51yH2am1p9v1oCGGw.png"/></div></div></figure></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><h1 id="2a36" class="jp jq hj bd jr js lp ju jv jw lq jy jz ip lr iq kb is ls it kd iv lt iw kf kg bi translated">最后的想法</h1><p id="9a09" class="pw-post-body-paragraph kh ki hj kj b kk kl ik km kn ko in kp kq kr ks kt ku kv kw kx ky kz la lb lc hc bi translated">如果可以的话，<a class="ae jo" href="https://docs.microsoft.com/en-us/azure/devops/repos/git/pull-request-templates?view=azure-devops" rel="noopener ugc nofollow" target="_blank">编辑您的PR模板</a>并包含每个开发人员在提交PR之前需要查看的复选框，例如:</p><pre class="iz ja jb jc fe mz na nb nc aw nd bi"><span id="fd2e" class="ne jq hj na b fj nf ng l nh ni">[X] Story ID referenced?<br/>[X] Task IDs referenced?<br/>[ ] Local Smoke Testing Passed?<br/>[ ] Test evidence attached?<br/>[ ] DB re-build successful (where relevant)?</span></pre><p id="d6d2" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">例如，<a class="ae jo" href="https://azure.microsoft.com/en-gb/services/devops/" rel="noopener ugc nofollow" target="_blank"> Azure DevOps </a>控制的项目中的拉请求页面如下所示:</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et my"><img src="../Images/1b8f201d35abd82406423469233e85e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5U2nMmNZGDOZBBPpl8U6FQ.png"/></div></div></figure></div><div class="ab cl li lj gq lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hc hd he hf hg"><p id="d2c1" class="pw-post-body-paragraph kh ki hj kj b kk ld ik km kn le in kp kq lf ks kt ku lg kw kx ky lh la lb lc hc bi translated">感谢阅读！在下面的评论区让我知道你的想法，别忘了订阅。👍</p></div></div>    
</body>
</html>