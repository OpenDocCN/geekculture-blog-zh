<html>
<head>
<title>Azure Function: A HttpTriger with a BlobInput in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure函数:一个带有Java中的BlobInput的HttpTriger</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/azure-function-a-httptriger-with-a-blobinput-in-java-ea6939199e7b?source=collection_archive---------3-----------------------#2021-07-16">https://medium.com/geekculture/azure-function-a-httptriger-with-a-blobinput-in-java-ea6939199e7b?source=collection_archive---------3-----------------------#2021-07-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4512" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设您已经创建了一组教程，并决定将它们托管在Azure Blob存储上。现在，您希望经过身份验证的用户能够从他们的个人资料中下载该文件。做了一些调查之后，你决定使用Azure函数来为你的网站实现这个下载特性。</p><p id="e11b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本帖中，我们将关注Azure函数并回答以下问题，还将关注一个示例实现:</p><ul class=""><li id="0c68" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">Azure功能是什么？</li><li id="e0b9" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">我们如何设置在本地开发Azure功能？</li><li id="9561" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">如何将我的本地Azure功能部署到Azure cloud？</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jr"><img src="../Images/423fca769aac2db47078606d799fe604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n4AFLyVCcrZ9APdpbHFgpg.png"/></div></div></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="8cc4" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">Azure功能是什么？🤔 🤔</h1><p id="7fdd" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">Azure Function是我们编写运行在云中的简单功能的一种方式，我们无需创建和/或配置运行它的基础架构。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="ln lo l"/></div></figure><blockquote class="lp lq lr"><p id="57af" class="if ig ls ih b ii ij ik il im in io ip lt ir is it lu iv iw ix lv iz ja jb jc hb bi translated">哦好吧！我明白这些话，但这一切是怎么回事？</p></blockquote><p id="8f75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，假设我们编写代码来执行或响应不同的事件和/或动作——从调用时检索和/或更新数据的Web APIs到下载用户已付费的正确文档。</p><p id="4b7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了满足这一需求，Azure Functions通过以下方式提供了<em class="ls">按需计算</em>:</p><ul class=""><li id="f54b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">通过被称为<strong class="ih hj"> <em class="ls">函数的<em class="ls">代码块</em>，为我们提供了编写和部署特性逻辑的方法(通过Azure Portal和SDK)。</em> </strong></li><li id="d828" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">好了，我们的<strong class="ih hj"> <em class="ls">函数</em> </strong>现在已经写好了，[希望]已经测试好了，并且部署好了。现在，当对我们的<strong class="ih hj"> <em class="ls">函数</em> </strong>的请求增加时，Azure函数会根据需要使用尽可能多的资源和<strong class="ih hj"> <em class="ls">函数</em> </strong>实例来满足这一需求，以处理增加的请求。同样随着请求的减少，多余的资源和<strong class="ih hj"> <em class="ls">函数</em> </strong>实例被移除。</li></ul><blockquote class="lp lq lr"><p id="6b1f" class="if ig ls ih b ii ij ik il im in io ip lt ir is it lu iv iw ix lv iz ja jb jc hb bi translated">我明白了…！那么我可以用什么编程语言来编写我的代码块… <strong class="ih hj"> <em class="hi">函数</em> </strong>？</p></blockquote><p id="e506" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以用几种编程语言编写这些函数，包括Java、C#、F#、Typescript、JavaScript和其他一些语言。支持语言的完整列表可以在<a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/supported-languages#languages-by-runtime-version" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="a1a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Java中，我们使用<code class="du lx ly lz ma b">@FunctionName</code>注释创建一个函数。</p><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="987b" class="mf kl hi ma b fi mg mh l mi mj">@FunctionName("download")<br/>public HttpResponseMessage downloadFile(...) {<br/>  ...<br/>}</span></pre><blockquote class="lp lq lr"><p id="eef2" class="if ig ls ih b ii ij ik il im in io ip lt ir is it lu iv iw ix lv iz ja jb jc hb bi translated">不错！！！那么，为了更好地理解和编写我的代码块，我需要知道哪些概念… <strong class="ih hj"> <em class="hi">函数</em> </strong>？</p></blockquote><p id="3b53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，有一些。在本帖中，我们将考虑三个关键的基本概念。</p><h2 id="30a7" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">功能应用</h2><p id="17e3" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">一个函数app提供了一个执行上下文，我们的<strong class="ih hj"> <em class="ls">代码块…函数</em> </strong>将在其中运行。考虑到这一点，一个功能可以被认为是我们的<strong class="ih hj"> <em class="ls">功能的一个部署和管理单元。</em> </strong></p><p id="bb42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">值得注意的是，一个功能app可以有多个功能一起管理和扩展。</p><p id="1434" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，功能应用程序<strong class="ih hj">中的所有功能必须</strong>用相同的编程语言编写，并共享相同的定价计划和部署方法。</p><h2 id="83b3" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">扳机</h2><p id="048d" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">记住我们的函数基本上是代码块。现在，这些代码块被包装成<strong class="ih hj"> <em class="ls">触发器</em> </strong>以使它们能够运行。</p><p id="6e1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个<strong class="ih hj"> <em class="ls">触发器</em> </strong>指定一个代码块(函数)应该如何运行。一个<strong class="ih hj"> <em class="ls">触发器</em> </strong>有与之相关的数据。该数据通常是传递给代码块的有效载荷。</p><p id="02ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">值得注意的是，一个<strong class="ih hj">功能</strong>可以有且只能有一个<strong class="ih hj">触发器</strong>。</p><p id="9e22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些触发示例包括</p><ul class=""><li id="69de" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-http-webhook" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls"> HTTP触发器</em> </strong> </a>。每当接收到HTTP请求时将运行的函数，基于有效负载或查询字符串进行响应。在我们的例子中，我们将看看这个；</li><li id="9481" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls">天蓝色Blob存储触发器</em> </strong> </a>。将blob添加到指定容器时将执行的函数；</li><li id="ed72" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-timer?tabs=java" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls">定时器触发</em> </strong> </a>。将按给定的时间表执行的功能；</li><li id="994d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-sendgrid?tabs=java" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls">发送网格</em> </strong> </a>。一个功能，将发送确认电子邮件时，新的项目被添加到一个特定的队列；</li><li id="8c20" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls">天蓝色宇宙DB触发器</em> </strong> </a>。每当文档集合中的文档发生变化时将执行的功能。</li></ul><p id="2c95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于触发器的更多细节可以在<strong class="ih hj"> <em class="ls">下的<strong class="ih hj"> <em class="ls">触发器和绑定</em> </strong>部分找到，参考</em> </strong> <a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/" rel="noopener ugc nofollow" target="_blank">这里</a></p><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="8ce1" class="mf kl hi ma b fi mg mh l mi mj">@FunctionName("download")<br/>public HttpResponseMessage downloadFile(<br/>             @HttpTrigger(<br/>              name = "request",<br/>              methods = {GET},<br/>              authLevel = ANONYMOUS)<br/>              final HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,<br/>              final ExecutionContext context) {<br/>     ...<br/>}</span></pre><h2 id="7900" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">粘合剂</h2><p id="d6e7" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">这是将我们的功能连接到另一个资源(或服务)的一种方式。绑定可以是输入、输出或两者都是。</p><p id="b9d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来自绑定的数据通过参数传递给我们的函数。</p><p id="6fc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多关于Azure函数支持的绑定可以在<a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-reference#bindings" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><blockquote class="lp lq lr"><p id="8dd3" class="if ig ls ih b ii ij ik il im in io ip lt ir is it lu iv iw ix lv iz ja jb jc hb bi translated">在我们的例子中，我们将研究如何在函数中将Blob存储作为输入绑定进行传递。</p></blockquote><p id="78da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是我们如何将blob存储注释为输入绑定</p><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="3f0d" class="mf kl hi ma b fi mg mh l mi mj">public HttpResponseMessage downloadFile(<br/>        @BlobInput(<br/>                name = "file",<br/>                dataType = "binary",<br/>                path = "java-functions-container/test.png",<br/>                connection = "AzureWebJobsStorage")<br/>                byte[] content,<br/>        final ExecutionContext context) {<br/>          ...<br/> }</span></pre><h2 id="039c" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">function.json文件</h2><p id="cab1" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">这是一个强制文件，其中包含函数的定义，如触发器、绑定(输入、输出或两者都有)以及其他配置设置。</p><p id="4521" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">值得注意的是</p><ul class=""><li id="9500" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">运行时使用这个配置文件来确定要监视什么事件，数据应该如何传递给函数内的参数，以及在执行函数时应该返回什么数据；</li><li id="0d33" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">在编译语言中，这个文件是从代码的<em class="ls">块中使用的注释自动生成的。在脚本语言中，这个文件必须在我们的<em class="ls">代码块中提供。</em></em></li></ul><p id="0545" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于我们的示例，function.json文件的内容如下所示</p><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="0724" class="mf kl hi ma b fi mg mh l mi mj">{<br/>  "scriptFile" : "../java-azure-function-1.0.0-SNAPSHOT.jar",<br/>  "entryPoint" : "dev.etimbuk.functions.FileDownloadHttpTriggerFunction.downloadFile",<br/>  "bindings" : [ {<br/>    "type" : "httpTrigger",<br/>    "direction" : "in",<br/>    "name" : "req",<br/>    "methods" : [ "GET" ],<br/>    "authLevel" : "ANONYMOUS"<br/>  }, {<br/>    "type" : "blob",<br/>    "direction" : "in",<br/>    "name" : "file",<br/>    "path" : "java-functions-container/{filename}",<br/>    "dataType" : "binary",<br/>    "connection" : "AzureWebJobsStorage"<br/>  }, {<br/>    "type" : "http",<br/>    "direction" : "out",<br/>    "name" : "$return"<br/>  } ]<br/>}</span></pre><h1 id="4d44" class="kk kl hi bd km kn mx kp kq kr my kt ku kv mz kx ky kz na lb lc ld nb lf lg lh bi translated">怎么会？</h1><p id="e081" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">既然我们已经看了函数，它们如何成为一个函数app，什么是触发器和绑定，那么让我们考虑如何创建、编写和部署一个Java函数app到Azure云平台。</p><p id="b2ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始之前，让我们先了解一下这个例子需要什么工具，并理解在定义一个基于Java的Azure函数时使用的注释，这个函数带有一个HTTP触发器和一个Blob存储输入绑定。</p><h2 id="4e9c" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">工具⚙️ ⚙️</h2><ul class=""><li id="4174" class="jd je hi ih b ii li im lj iq nc iu nd iy ne jc ji jj jk jl bi translated">命令行界面。</li><li id="eb8d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/cli/azure/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls">蔚蓝CLI </em> </strong> </a>。这必须安装在本地，使我们能够连接(或登录)到我们的Azure订阅，并将我们的功能应用程序部署到Azure平台。之所以需要，是因为在撰写本文时，我们还不能从Azure门户网站编辑编译过的语言；</li><li id="f9cb" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=macos%2Ccsharp%2Cbash#v2" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls"> Azure功能核心工具</em> </strong> </a>。这个基于CLI的工具允许我们在本地计算机上开发和测试我们的功能。</li><li id="8cf0" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Java 8或11 <strong class="ih hj">必须</strong>安装在您的本地环境中，并且<code class="du lx ly lz ma b">JAVA_HOME</code>环境变量<strong class="ih hj">必须</strong>被设置</li><li id="b09a" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Gradle或Maven构建工具。</li><li id="5adc" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">一个IDE。目前，针对IntelliJ(本文使用的IDE)、Eclipse、Visual Studio代码和Visual Studio (C#人员)的Azure函数工具已经存在。</li><li id="be62" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae lw" href="https://www.postman.com/downloads/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="ls">邮递员</em> </strong> </a>。这是一个可选工具，我们用它来测试我们的HTTPS请求。这是可选的，因为你选择你喜欢的选项。</li></ul><h2 id="900b" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">一些函数注释…</h2><p id="2c99" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated"><strong class="ih hj">@函数名。</strong>这个注释用于告诉Azure functions工具在部署到Azure平台时被注释的函数的名称。对于HttpTriggers，这基本上定义了我们的端点。</p><p id="cba1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从Azure门户来看，这将类似于我们给出的示例中的<code class="du lx ly lz ma b">https://{YOUR_HOST/api/download}</code>。</p><p id="455f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> @HttpTrigger。</strong>该注释应用于Azure函数，调用该函数指定的HTTP端点将触发该函数。</p><p id="907e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回忆一下我们的<code class="du lx ly lz ma b">FunctionName</code>定义的终点…</p><p id="1fac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> @BlobInput。</strong>我们对其值来自blob的参数使用此注释。参数类型可以是下列类型之一:</p><ul class=""><li id="f409" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">任何原生Java类型如int、String、byte[]；</li><li id="db85" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">可空值使用可选的<t>；或者</t></li><li id="fb4f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">任何POJO类型。</li></ul><h1 id="c8fb" class="kk kl hi bd km kn mx kp kq kr my kt ku kv mz kx ky kz na lb lc ld nb lf lg lh bi translated">一个例子💃 🕺</h1><p id="e5ab" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">唷！！！文字说够了，现在我们来看看我们的例子。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es nf"><img src="../Images/1a85f5a2a1bb28dab790031df2c540c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*1bWphYUEmHUBGRYRN6JPXw.png"/></div></figure><h2 id="865f" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">一份简报</h2><p id="5c8f" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">在我们的例子中，有一个用户(或另一个服务)点击我们的API(一个Azure函数)来下载一个文件。</p><ul class=""><li id="9ca4" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">当请求被授权时，该函数访问Blob存储(链接到它)以检索文件；</li><li id="f35f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">如果文件可以从存储容器中获得，这将作为对用户的响应发送回来。否则，将返回一个适当的错误。</li></ul><h2 id="949a" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">正在创建Azure函数…</h2><p id="726c" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">创建Azure函数有多种方法，在这篇文章中，我们将关注如何使用IntelliJ IDE和Azure Toolkit插件，这些插件与Gradle命令一起安装，因为我们的示例将侧重于Java。</p><p id="901d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们开始吧…</p><h2 id="3a45" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">使用IntelliJ</h2><p id="eecd" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">在这里，我们使用图示视图来浏览创建带有HTTP触发器的Azure函数的步骤</p><ul class=""><li id="472e" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">打开IntelliJ IDE后，选择<strong class="ih hj"> <em class="ls">文件&gt;新建&gt;项目… </em> </strong></li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ng"><img src="../Images/4ac5ccf9b1ed53dd3d3a93bab2f792f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fskz_oF1aUZAc5MEFC-bAA.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Viewing having clicked <strong class="bd km"><em class="nl">File &gt; New Project</em></strong> in IntelliJ</figcaption></figure><ul class=""><li id="fe09" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">当从上面的视图中点击步骤4时</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ng"><img src="../Images/78deb854c3f9c8839f4ef9027cdfbb8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCoaBjrLknZjUO1yJBtcJQ.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">In this post, we are using Gradle as our Build tool</figcaption></figure><p id="0d84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当从上面的视图中点击步骤10时</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ng"><img src="../Images/007273d38cbbf35911f17798b1818ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nktrwn99et-wMGjbMtoiKQ.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Naming our project.</figcaption></figure><p id="e099" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦生成了新的Azure function项目，您应该会看到下面的结构</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ng"><img src="../Images/75a3dca60b67ee25f0eaaa2f5f82672a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNiCfXYy44IXpANMybJTPQ.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">java-azure-function project structure</figcaption></figure><p id="2d48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经为自己生成了第一个Azure function项目，让我们仔细看看我们的<code class="du lx ly lz ma b">build..gradle</code>文件中的<code class="du lx ly lz ma b">azurefunction</code>配置。</p><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="4973" class="mf kl hi ma b fi mg mh l mi mj">azurefunctions <strong class="ma hj">{<br/>    </strong><em class="ls">subscription = '&lt;your subscription id&gt;'<br/>    </em>resourceGroup = 'eau-java-functions-rg'<br/>    appName = 'java-azure-function-de5a' <em class="ls">// please rename the function name<br/>    </em>pricingTier = 'Consumption' <em class="ls"><br/>    </em>region = 'westus'<br/>    runtime <strong class="ma hj">{<br/>      </strong>os = 'windows'<br/>      javaVersion = '11'<br/>    <strong class="ma hj">}</strong><em class="ls"><br/></em><strong class="ma hj">}</strong></span></pre><p id="1206" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此<code class="du lx ly lz ma b">azurefunctions</code>配置允许我们指定功能应用程序所需的不同设置，包括</p><ul class=""><li id="1efe" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">appName</code>。这是我们函数的名称，在Azure平台上必须是唯一的，并且必须为<strong class="ih hj">和</strong>提供一个值。为了在这篇文章中获得一个独特的值，我使用了<code class="du lx ly lz ma b">echo java-azure-function-$(openssl rand -hex 3)</code>，然后复制了echo-ed值；</li><li id="2c51" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">resourceGroup</code>。这些必需的设置设置我们的函数将运行的Azure资源组；</li><li id="3dc8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">region</code>。这个可选的配置在Azure中设置我们希望我们的功能部署到的区域。如果未提供，这将默认为<code class="du lx ly lz ma b">westus</code></li><li id="0f92" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">告诉Azure我们希望我们的功能部署在哪个操作系统上</li><li id="ee6d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">runtime.javaVersion</code>这告诉我们应该使用哪个java版本。在撰写本文时，支持的java版本是8或11。虽然是可选的，但我建议添加as，如果没有它，我们的函数会超时，并出现类似下面的错误</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es nm"><img src="../Images/448f78edc55ee29362407670c4407ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gTjdSb2cS_MKEwRESNLGeg.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Error when java version not given in appSettings config</figcaption></figure><p id="aaaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多配置选项可在<a class="ae lw" href="https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h2 id="4f10" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">代码</h2><p id="5e2e" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">最后，我们现在来看看并理解允许我们创建一个带有<strong class="ih hj"> <em class="ls"> blob输入</em> </strong>绑定的<strong class="ih hj"> <em class="ls"> HTTP触发器</em> </strong>的代码。</p><p id="58e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在安装了Azure插件的情况下使用IntelliJ创建了HTTP触发器，那么您将会得到类似于</p><h2 id="bce2" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">只是HttpTrigger…</h2><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="nn lo l"/></div></figure><p id="a67f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们测试和部署这个基本的HTTP触发器之前(还没有blob输入！)，我们将尝试并理解它实际上在做什么</p><ul class=""><li id="52e7" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">首先是我们的函数被命名为<code class="du lx ly lz ma b">download</code>。这是使用<code class="du lx ly lz ma b">@FunctionName</code>注释完成的；</li><li id="1b07" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">其次是在<code class="du lx ly lz ma b">@HttpTrigger</code>中使用的方法。</li></ul><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="d645" class="mf kl hi ma b fi mg mh l mi mj"><strong class="ma hj">name.</strong> This is used in the function code for the request or request body;</span><span id="6ca5" class="mf kl hi ma b fi no mh l mi mj"><strong class="ma hj">methods.</strong> This basically uses the http methods. In our example we are saying our function supports both GET and POST methods;</span><span id="9dcd" class="mf kl hi ma b fi no mh l mi mj"><strong class="ma hj">authLevel.</strong> Determines what keys (authorisation), if any, need to be present on the request in order to invoke the function. The authorisation level can be one of the following values:</span><span id="bc30" class="mf kl hi ma b fi no mh l mi mj">- <em class="ls">ANONYMOUS</em>: No API key is required.<br/>- <em class="ls">FUNCTION: </em>A function-specific API key is required. This is the default value if none is provided.<br/>- <em class="ls">ADMIN: </em>The master key is required.</span></pre><ul class=""><li id="0e62" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">第三，我们的函数获取一个查询参数(name)或主体(在JSON中带有name ),并返回带有来自<strong class="ih hj"> <em class="ls">名称的值的<code class="du lx ly lz ma b">Welcome,</code>。</em> </strong>如果没有提供名称，它会返回404错误消息。</li></ul><p id="b9a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们在本地测试我们的功能，部署并确保它按预期工作。</p><p id="b051" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了进行本地测试(当部署时)，我们需要从命令行运行以下两个命令</p><ul class=""><li id="e875" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">gradle jar --info</code>。这将构建一个jar文件。作为构建jar文件的一部分，<code class="du lx ly lz ma b">--info</code>选项为我们提供了所发生的事情的细节；</li><li id="b4ea" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">gradle azureFunctionRun</code>。这将使我们能够在本地测试HTTP触发器。这将启动我们在<code class="du lx ly lz ma b"><a class="ae lw" href="http://localhost:7071/api/download" rel="noopener ugc nofollow" target="_blank">http://localhost:7071/api/download</a></code>的功能</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es np"><img src="../Images/a32a93f3205cfc1f2ccf7a2a6821b902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DmemTYxQz6cjFRnNX7kAg.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Running our function locally</figcaption></figure><ul class=""><li id="0b04" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">接下来，我们将测试我们的函数，以确认它工作正常。</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es nq"><img src="../Images/4bb731c8c617d39ed9a0428c0966edf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZZpvqTbwDHXzarcRQtaXwA.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Testing our function locally</figcaption></figure><p id="2304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将部署到Azure平台并进行测试。为此，我们将运行以下命令</p><ul class=""><li id="6c1a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">az login</code>。这是为了确保我们登录到我们的Azure订阅；</li><li id="a8aa" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><code class="du lx ly lz ma b">gradle azureFunctionDeploy</code>。这将使用凭证<code class="du lx ly lz ma b">az login</code>来部署我们的功能。一旦部署，这将自动创建</li></ul><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="3cd0" class="mf kl hi ma b fi mg mh l mi mj"><strong class="ma hj">Resource group.</strong> Named with the resourceGroup we supplied.</span><span id="eddf" class="mf kl hi ma b fi no mh l mi mj"><strong class="ma hj">Storage account.</strong> This is required by Functions. The name is generated randomly based on Storage account name requirements.</span><span id="a3f2" class="mf kl hi ma b fi no mh l mi mj"><strong class="ma hj">App Service plan.</strong> Serverless Consumption plan hosting for your function app in the specified <em class="ls">region</em>. The name is generated randomly.</span><span id="a84d" class="mf kl hi ma b fi no mh l mi mj"><strong class="ma hj">Function app.</strong> A function app is the deployment and execution unit for your functions. The name is your <em class="ls">appName</em>, appended with a randomly generated number.</span></pre><p id="3938" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们考虑<code class="du lx ly lz ma b">@BlobInput</code>之前，我们需要在我们的存储帐户中创建一个容器(更像是一个文件夹)来存储我们的文件。</p><h2 id="1771" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">在我们的存储帐户中创建一个容器</h2><p id="834d" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">我知道…我知道，您在问我如何找到新创建的存储帐户的名称😄</p><p id="20b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们有两个选择</p><ul class=""><li id="b240" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">登录我们的Azure门户订阅；或者</li><li id="49bc" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">使用我们作为先决条件的一部分安装的Azure CLI。在这篇文章中，我们将选择这个选项🙄 🙄</li></ul><p id="08ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始吧…</p><ul class=""><li id="0db2" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">首先，我们需要获取我们的功能应用程序设置。这将被下载并更新<code class="du lx ly lz ma b">local.settings.json</code>文件。我们可以通过跑步做到这一点</li></ul><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="6a7a" class="mf kl hi ma b fi mg mh l mi mj">func azure functionapp fetch-app-settings <strong class="ma hj">FUNCTION_NAME</strong> --show-keys</span></pre><ul class=""><li id="c67d" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">现在我们可以打开我们的<code class="du lx ly lz ma b">local.settings.json</code>文件，我们的存储帐户可以在<code class="du lx ly lz ma b">AccountName</code>的值中找到</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es nr"><img src="../Images/ef9b2e7f30d58c532c3e4e45025342cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O7DGayt6ONEQ6zawVcL2lw.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Locating storage account name</figcaption></figure><ul class=""><li id="4f16" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">接下来，我们执行下面的命令来创建容器</li></ul><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="6d4b" class="mf kl hi ma b fi mg mh l mi mj">az storage container create --account-name $AZURE_STORAGE_ACCOUNT --account-key $AZURE_STORAGE_KEY -n java-functions-container -g eau-java-functions-rg</span><span id="af1c" class="mf kl hi ma b fi no mh l mi mj">where<br/><strong class="ma hj">AZURE_STORAGE_ACCOUNT</strong> - Is our storage account name saved in an environment variable</span><span id="f6dc" class="mf kl hi ma b fi no mh l mi mj"><strong class="ma hj">AZURE_STORAGE_KEY</strong> - Is our storage account key value saved in an environment variable. This is the value from <strong class="ma hj"><em class="ls">AccountKey</em></strong> found in local.settings.json</span></pre><ul class=""><li id="7488" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">然后我们上传一张图片到我们新创建的<code class="du lx ly lz ma b">java-functions-container</code>容器中。为此，我们将使用Azure门户</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ns"><img src="../Images/510d1f712d07aea340da9d8f9f723b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_52ciGMm_FcCsDzbaBcWPg.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Uploading a file to java-functions-container from Azure portal</figcaption></figure><h2 id="a461" class="mf kl hi bd km mk ml mm kq mn mo mp ku iq mq mr ky iu ms mt lc iy mu mv lg mw bi translated">现在，HttpTrigger和BlobInput都…</h2><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="nn lo l"/></div><figcaption class="nh ni et er es nj nk bd b be z dx">HttpTrigger and BlobInput</figcaption></figure><p id="e044" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经将<code class="du lx ly lz ma b">@BlobInput</code>添加到组合中，我们将通过重新部署它来进行更新。</p><p id="2d0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要更新我们的功能，我们只需再次运行<code class="du lx ly lz ma b">gradle azureFunctionDeploy</code>。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ns"><img src="../Images/8b6dcfec5125eab0bde09eab87273f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXT-nB2aEPekeYZdE6dUdA.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Updating our function</figcaption></figure><p id="2ec4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们确认我们可以下载/查看我们的文件。</p><ul class=""><li id="6c8e" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">我们将需要我们的函数链接，这可以通过运行</li></ul><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="899f" class="mf kl hi ma b fi mg mh l mi mj">func azure functionapp list-functions java-azure-function-5214 --show-keys</span></pre><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es nt"><img src="../Images/69deea790130010177b6d6abfb3f9dec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TvHSk_qVPn7zvyKL8UCPAA.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Details of our java-azure-function-5214 function</figcaption></figure><ul class=""><li id="7593" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">使用Postman发出一个GET请求</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es nu"><img src="../Images/9991650c740f0c0ad629dbdd892a4098.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DJv6pPwN0DQcr_as0jNa_A.png"/></div></div></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="c44d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我们已经看了</p><ul class=""><li id="1937" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">什么是Azure functions及其基本概念；</li><li id="4459" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">在我们的本地环境中开发了一个基本的HttpTrigger函数，并在本地进行了测试；</li><li id="5e9a" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">使用Gradle构建工具部署到Azure平台；</li><li id="69f3" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">向我们的HttpTrigger添加了一个BlobInput绑定；</li><li id="00fe" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">更新了我们在Azure平台上的功能；和</li><li id="2e18" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">对此进行了测试，以确认我们可以查看该文件。</li></ul><p id="ad5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">再次感谢你坚持到底，按照传统，这篇文章的代码可以在<a class="ae lw" href="https://github.com/Gogetter/azure-blog-posts/tree/main/java-azure-function" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><p id="e95a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们走之前，清理我们的资源是值得的，这样我们就不会产生任何计划外的成本。这可以通过运行以下命令来完成</p><pre class="js jt ju jv fd mb ma mc md aw me bi"><span id="4f2c" class="mf kl hi ma b fi mg mh l mi mj">az group delete --name eau-java-functions-rg</span><span id="55ca" class="mf kl hi ma b fi no mh l mi mj">This will delete all resources created in our eau-java-functions-rg resource group which was used in this post.</span></pre></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="df91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在那之前…</p></div></div>    
</body>
</html>