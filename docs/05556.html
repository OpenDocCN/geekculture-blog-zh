<html>
<head>
<title>Array FlatMap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数组平面图</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/array-flatmap-c37ebf17c4f6?source=collection_archive---------20-----------------------#2021-07-24">https://medium.com/geekculture/array-flatmap-c37ebf17c4f6?source=collection_archive---------20-----------------------#2021-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b38307bc13201958d72b9a3a80f8ebc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UdJGpeHDUJyQUumWIz0mSw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">array flatmap</figcaption></figure><div class=""/><p id="cc32" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">平面映射是一种可用于平面和映射方法的单一方法。</p><p id="da8e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如你所知<code class="du js jt ju jv b">flat()</code>，拉平1级深度和<code class="du js jt ju jv b">map()</code>循环成一个数组。</p><p id="2563" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果我们把两者都包括在内，我们称之为<code class="du js jt ju jv b">flatMap()</code>😉</p><p id="1b6b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以，如果调用两个方法<code class="du js jt ju jv b">flat()</code>和<code class="du js jt ju jv b">map()</code>，你可以使用一个名为<code class="du js jt ju jv b">flatMap()</code>的方法。</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="e1e4" class="ke kf hx jv b fi kg kh l ki kj">let plants = ['💐', '🌲', '🌻', '🌹'];</span><span id="4274" class="ke kf hx jv b fi kk kh l ki kj">// ❌ map + flat<br/>plants.map(plant =&gt; [plant, '🍁']).flat();<br/>// Output<br/>//["💐", "🍁", "🌲", "🍁", "🌻", "🍁", "🌹", "🍁"]</span><span id="e17c" class="ke kf hx jv b fi kk kh l ki kj">// ✅ flatMap<br/>plants.flatMap(plant =&gt; [plant, "🍁"])</span><span id="626f" class="ke kf hx jv b fi kk kh l ki kj">// Output<br/>// ["💐", "🍁", "🌲", "🍁", "🌻", "🍁", "🌹", "🍁"]</span></pre><h1 id="093f" class="kl kf hx bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">flatMap()如何工作？</h1><p id="f4d6" class="pw-post-body-paragraph iu iv hx iw b ix li iz ja jb lj jd je jf lk jh ji jj ll jl jm jn lm jp jq jr hb bi translated">📝FlatMap()总是先做Map()，然后再做flat()。</p><p id="f06d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在<code class="du js jt ju jv b">flat()</code>中，我们使用参数来设置深度，参数定义嵌套数组应该展平的深度。</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="5e20" class="ke kf hx jv b fi kg kh l ki kj">let plants = [[["🌻", "🌹"]]];<br/>plants.flat(2);</span><span id="fbe3" class="ke kf hx jv b fi kk kh l ki kj">// ["🌻", "🌹"]</span></pre><h2 id="4417" class="ke kf hx bd km ln lo lp kq lq lr ls ku jf lt lu ky jj lv lw lc jn lx ly lg lz bi translated"><code class="du js jt ju jv b">flatMap()</code>只做1级深度展平。</h2><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="4a5c" class="ke kf hx jv b fi kg kh l ki kj">let plants = [[["🌻", "🌹"]]];<br/>plants.flatMap(plant =&gt; [plant]);</span><span id="6cbb" class="ke kf hx jv b fi kk kh l ki kj">// [["🌻", "🌹"]]</span></pre><h1 id="67d3" class="kl kf hx bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">使用平面图过滤😉</h1><p id="9a37" class="pw-post-body-paragraph iu iv hx iw b ix li iz ja jb lj jd je jf lk jh ji jj ll jl jm jn lm jp jq jr hb bi translated">是的，你也可以在这里使用<code class="du js jt ju jv b">flatMap()</code>进行过滤。</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="642d" class="ke kf hx jv b fi kg kh l ki kj">let arr = [5, 4, -3, 20, -4, 18]<br/>arr.flatMap(i =&gt; {<br/>  return i &lt; 0 ? [] : [i];<br/>})</span><span id="bc1e" class="ke kf hx jv b fi kk kh l ki kj">// [5, 4, 20, 18]</span></pre><h1 id="9c4d" class="kl kf hx bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">参考🧐</h1><ul class=""><li id="0424" class="ma mb hx iw b ix li jb lj jf mc jj md jn me jr mf mg mh mi bi translated"><a class="ae mj" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap" rel="noopener ugc nofollow" target="_blank">平台地图的MDN文档</a></li></ul><h1 id="4fd1" class="kl kf hx bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">总结#</h1><p id="5070" class="pw-post-body-paragraph iu iv hx iw b ix li iz ja jb lj jd je jf lk jh ji jj ll jl jm jn lm jp jq jr hb bi translated">如果你想同时使用map和flat方法，method总是有用的。</p><p id="62a4" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢您阅读❤️这篇文章</p><p id="6f8f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">🌟<a class="ae mj" href="https://twitter.com/suprabhasupi" rel="noopener ugc nofollow" target="_blank">推特</a>👩🏻‍💻suprabha.me 🌟<a class="ae mj" href="https://www.instagram.com/suprabhasupi/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>