<html>
<head>
<title>Stop paying for your SSL certificates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止支付您的SSL证书</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/stop-paying-for-your-ssl-certificates-55d6c5efebad?source=collection_archive---------5-----------------------#2022-02-23">https://medium.com/geekculture/stop-paying-for-your-ssl-certificates-55d6c5efebad?source=collection_archive---------5-----------------------#2022-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="428f" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">网络开发基础</h2><div class=""/><div class=""><h2 id="1330" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">了解如何停止为您支付SSL证书费用</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/775d1dd0db8b8da3cbf4a5a2069d1c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E4CrDKkLKHuaOdGB"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Photo by <a class="ae jw" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Winkler</a> on <a class="ae jw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="806e" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">您知道在您的网站上启用HTTPS无需支付SSL证书费用吗？与Go-Daddy和BlueHost的所有营销相反，SSL证书不需要花费任何钱。网络托管公司向你收取任何费用的唯一原因是因为他们自己自动化了这个过程。但是，一旦您学会了如何安装SSL证书，您就可以自己自动化整个过程，从而为您节省时间和金钱。</p><p id="56ee" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs">本指南假设您正在使用Debian和任何衍生操作系统以及最流行的操作系统Apache web server和web server。到达“更多详细信息”部分后，您可以找到关于其他操作系统和网络服务器的更多信息。</strong></p><h2 id="dfe7" class="kt ku hi bd kv kw kx ky kz la lb lc ld kg le lf lg kk lh li lj ko lk ll lm ho bi translated">如何在单个域中启用SSL？</h2><p id="ccde" class="pw-post-body-paragraph jx jy hi jz b ka ln is kc kd lo iv kf kg lp ki kj kk lq km kn ko lr kq kr ks hb bi translated">您将需要对服务器的根访问权限。大多数受欢迎的主机提供商不会为网站提供根访问，尤其是不便宜的。以下是一些主机提供商，他们确实以低成本提供虚拟专用服务器。</p><div class="ls lt ez fb lu lv"><a href="https://digitalocean.com" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hs fi z dy ma ea eb mb ed ef hr bi translated">数字海洋——开发者云</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">当开发人员能够在他们喜爱的简单、平价的云基础上构建时，业务增长会更快。数字海洋有云……</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">digitalocean.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj jq lv"/></div></div></a></div><div class="ls lt ez fb lu lv"><a href="https://vultr.com" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hs fi z dy ma ea eb mb ed ef hr bi translated">Vultr的SSD VPS服务器、云服务器和云托管</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">Vultr控制面板使服务器管理简单直观。常见任务，如订购服务器、管理…</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">vultr.com</p></div></div><div class="me l"><div class="mk l mg mh mi me mj jq lv"/></div></div></a></div><div class="ls lt ez fb lu lv"><a href="https://1984hosting.com" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hs fi z dy ma ea eb mb ed ef hr bi translated">VPS &amp;共享网络托管服务包- 1984年网络托管</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">1984年的虚拟专用服务器非常可靠，非常稳定。我们的虚拟专用网络运行在企业级硬件上，位于…</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">1984hosting.com</p></div></div></div></a></div><p id="585f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">一旦您拥有对服务器的根访问权限，就需要安装快照。是的，您需要在已经有包管理器的操作系统上安装另一个包管理器。<a class="ae jw" rel="noopener" href="/geekculture/why-universal-package-managers-are-stupid-521f6ceb2907">你可以读到我对通用包装经理的不满。</a></p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="605a" class="kt ku hi mm b fi mq mr l ms mt">sudo apt-get update<br/>sudo apt-get upgrade<br/>sudo apt-get install snapd<br/>sudo snap install core<br/>sudo snap refresh core</span></pre><p id="6fc1" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">使用从您的操作系统中删除certbot的任何其他副本</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="390e" class="kt ku hi mm b fi mq mr l ms mt">sudo apt-get remove certbot</span></pre><p id="7dc8" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">安装certbot的新快照版本</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="b6ad" class="kt ku hi mm b fi mq mr l ms mt">sudo snap install --classic certbot</span></pre><p id="63d2" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">链接你的命令，这样他们就可以访问certbot系统</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="77fb" class="kt ku hi mm b fi mq mr l ms mt">sudo ln -s /snap/bin/certbot /usr/bin/certbot</span></pre><p id="b48f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">您可以运行以下命令将certbot证书自动安装到web服务器中。</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="42fd" class="kt ku hi mm b fi mq mr l ms mt">sudo certbot --apache</span></pre><p id="a7ae" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">或者您可以获取生成证书并使用</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="8651" class="kt ku hi mm b fi mq mr l ms mt">sudo certbot certonly --apache</span></pre><p id="ea8b" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">虽然大多数付费SSL证书都允许您将证书保存一至两年。这仍然意味着您必须每年购买证书并重新安装。有时，您可能会遇到软件不能自动更新应用程序的问题。Certbot已经通过内置的自动更新功能解决了这个问题。使用以下命令测试自动续保。</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="2e53" class="kt ku hi mm b fi mq mr l ms mt">sudo certbot renew --dry-run</span></pre><p id="c5c3" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">如果certbot自动续保失败，请继续阅读，您将了解如何解决此问题。</p><p id="bc4b" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><a class="ae jw" rel="noopener" href="/subscribe/@drechang">在这里注册我的电子邮件列表。</a></p><h2 id="7f67" class="kt ku hi bd kv kw kx ky kz la lb lc ld kg le lf lg kk lh li lj ko lk ll lm ho bi translated">如何启用SSL域通配符？</h2><p id="531e" class="pw-post-body-paragraph jx jy hi jz b ka ln is kc kd lo iv kf kg lp ki kj kk lq km kn ko lr kq kr ks hb bi translated">通配符基本上是您原始域的一个子域。</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="7154" class="kt ku hi mm b fi mq mr l ms mt">*.example.tld</span></pre><p id="fcf9" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">也许你正在你的域上运行多种服务，比如电子邮件服务器、分析服务器、聊天服务器等。因此，你需要在你购买的同一个域名上有子域名，以便于组织你网站的别名。您应该将您的服务器设置为位于它后面的其他服务的反向代理。</p><p id="6ff5" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">唯一的区别是，在链接命令之后，您需要执行这些额外的步骤。</p><p id="058f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">您需要使用以下命令来启用插件支持</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="b724" class="kt ku hi mm b fi mq mr l ms mt">sudo snap set certbot trust-plugin-with-root=ok</span></pre><p id="d103" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">然后你需要安装DNS插件</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="9743" class="kt ku hi mm b fi mq mr l ms mt">sudo snap install certbot-dns-[plugin]</span></pre><p id="cb50" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">您还需要在您的服务器上设置凭证，以便certbot服务器可以通过您的服务器进行身份验证。以下是支持的DNS列表以及如何设置凭据。</p><div class="ls lt ez fb lu lv"><a href="https://eff-certbot.readthedocs.io/en/stable/using.html#dns-plugins" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hs fi z dy ma ea eb mb ed ef hr bi translated">用户指南- Certbot 1.23.0文档</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">Certbot使用许多不同的命令(也称为“子命令”)来请求特定的操作，例如…</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">eff-certbot.readthedocs.io</p></div></div></div></a></div><p id="18c2" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">在这里注册我的电子邮件列表。</p><h2 id="d886" class="kt ku hi bd kv kw kx ky kz la lb lc ld kg le lf lg kk lh li lj ko lk ll lm ho bi translated">更多细节</h2><p id="d0e9" class="pw-post-body-paragraph jx jy hi jz b ka ln is kc kd lo iv kf kg lp ki kj kk lq km kn ko lr kq kr ks hb bi translated">如果您正在使用不同的操作系统或web服务器，请查看以下指南，它将允许您</p><div class="ls lt ez fb lu lv"><a href="https://certbot.eff.org/instructions" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hs fi z dy ma ea eb mb ed ef hr bi translated">证书机器人说明</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">品牌理念;标签行</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">certbot.eff.org</p></div></div><div class="me l"><div class="mu l mg mh mi me mj jq lv"/></div></div></a></div><p id="4487" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><a class="ae jw" rel="noopener" href="/subscribe/@drechang">在这里注册我的电子邮件列表。</a></p><h2 id="907e" class="kt ku hi bd kv kw kx ky kz la lb lc ld kg le lf lg kk lh li lj ko lk ll lm ho bi translated">如何修复自动更新问题？</h2><p id="9f54" class="pw-post-body-paragraph jx jy hi jz b ka ln is kc kd lo iv kf kg lp ki kj kk lq km kn ko lr kq kr ks hb bi translated">解决自动更新失败的最佳方法是阅读问题并在互联网上查找以解决问题。但是，如果您仍然不能解决这些问题，那么您必须通过以下步骤手动自动续订。</p><p id="b03f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">创建将停止服务并续订证书的脚本。</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="051d" class="kt ku hi mm b fi mq mr l ms mt">#!/bin/bash<br/>systemctl stop [web_service]<br/>sudo certbot renew<br/>systemctl start [web_service]</span></pre><p id="317a" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">然后，您可以设置一个crontab作业，例如</p><pre class="jh ji jj jk fd ml mm mn mo aw mp bi"><span id="dd11" class="kt ku hi mm b fi mq mr l ms mt">0 3 * * * [path_to_script] # Automates SSL updates at 3 AM UTC everyday</span></pre><p id="3f8e" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">不要担心每天不断改变你的SSL证书，因为certbot有一个内置的功能，可以防止你经常更新。如果你想了解crontab，你可以在这里阅读关于它的<a class="ae jw" rel="noopener" href="/geekculture/crontab-automate-server-processes-b246f47cf709">。您还可以使用这个免费的web服务来查看您的crontab输入在简单英语中是什么意思。</a></p><div class="ls lt ez fb lu lv"><a href="https://crontab.guru/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hs fi z dy ma ea eb mb ed ef hr bi translated">crontab . guru——cron调度表达式编辑器</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">cron调度表达式的快速简单的编辑器我们创建了Cronitor，因为cron本身不能…</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">crontab.guru</p></div></div></div></a></div><p id="3303" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">在这里注册我的电子邮件列表。</p><p id="6acc" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs">相关内容:</strong></p><ul class=""><li id="9fc6" class="mv mw hi jz b ka kb kd ke kg mx kk my ko mz ks na nb nc nd bi translated"><a class="ae jw" rel="noopener" href="/@drechang/how-to-build-a-based-content-delivery-network-e1aa8bb237b3">如何建立一个基于内容的分发网络？</a></li><li id="0bf9" class="mv mw hi jz b ka ne kd nf kg ng kk nh ko ni ks na nb nc nd bi translated"><a class="ae jw" rel="noopener" href="/@drechang/how-to-build-a-based-content-delivery-network-e1aa8bb237b3">如何备份您的媒体状态？</a></li><li id="9a2c" class="mv mw hi jz b ka ne kd nf kg ng kk nh ko ni ks na nb nc nd bi translated"><a class="ae jw" rel="noopener" href="/@drechang/how-to-dismantle-the-google-empire-e652bff6d2">去谷歌化的完整指南</a></li></ul></div></div>    
</body>
</html>