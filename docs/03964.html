<html>
<head>
<title>A Roadmap to the Optical Character Recognition with Python and Tesseract</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python和Tesseract实现光学字符识别的路线图</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/a-guide-to-ocr-and-tesseract-engine-75195210f4f7?source=collection_archive---------13-----------------------#2021-06-18">https://medium.com/geekculture/a-guide-to-ocr-and-tesseract-engine-75195210f4f7?source=collection_archive---------13-----------------------#2021-06-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/9a5414face664ea4657ea6dddf000447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FsXzwCaJBR5q47KHumcwMQ.jpeg"/></div></div></figure><div class=""/><p id="c7e4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">光学字符识别</strong>或<strong class="is hu">光学字符阅读器</strong> ( <strong class="is hu"> OCR </strong>)是将打字、手写或印刷文本的图像电子或机械转换成机器编码文本，无论是来自扫描文档、文档照片、场景照片还是叠加在图像上的字幕文本。更简单的说，<strong class="is hu"> OCR </strong>就是从图像中提取文字的过程。您可能已经体验过它的许多实际应用，比如从文档中提取文本，从发票、护照文档、银行对账单、计算机化收据、名片、邮件、静态数据的打印输出或任何合适的文档中收集数据。这是将印刷文本数字化的一种常用方法，这样它们可以被电子编辑、搜索、更紧凑地存储、在线显示和用于机器处理。</p><h1 id="0263" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">简史</h1><p id="3cfd" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">光学字符识别主要用于修改<strong class="is hu">电报</strong>为盲人创造阅读设备。1914年，伊曼纽尔·戈德堡发明了一种机器，能够阅读文本字符并将其转换成电报代码。同时，Edmund Fournier d'Albe开发了Octophone，这是一种手持扫描仪，当它在打印页面上移动时，会产生与特定字母或字符对应的音调。</p><p id="ec3a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">20世纪20年代末到30年代，伊曼纽尔·戈德堡开发了一种他称之为“统计机器”的东西，利用光学代码识别系统搜索缩微胶片档案。1931年，他的发明获得了美国专利第1，838，389号。这项专利被IBM收购了。</p><p id="8bc0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在1900年代后期，在光学字符识别方面出现了无数的发明。最受欢迎和开创性的发明之一是影印或复印。</p><h1 id="7355" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">现代光学字符识别</h1><p id="cf7a" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">早期的版本需要用每个角色的图像进行训练，并且一次处理一种字体。能够对大多数字体产生高度识别准确度的高级系统现在很常见，并且支持各种数字图像文件格式输入。一些系统能够再现非常接近原始页面的格式化输出，包括图像、列和其他非文本组件。</p><p id="601c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为一个过程，现代OCR通常由几个子过程组成，以尽可能精确地执行。子流程包括:</p><ol class=""><li id="837b" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated"><strong class="is hu">图像的预处理</strong></li><li id="1263" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hu">文本本地化</strong></li><li id="e969" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hu">字符分割</strong></li><li id="3748" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hu">字符识别</strong></li><li id="1f54" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated"><strong class="is hu">后处理</strong></li></ol><p id="a373" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">子流程列表可以根据情况和要求而有所不同，但总流程的大致轮廓是这样的。整个过程的目的是正确地识别每个单词，并尽可能准确地给出结果。</p><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es lf"><img src="../Images/830a2022ada13e129d9e364c4f2212b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*VsOnKsBAfEC-dsj8GtPxwg.png"/></div></figure><p id="b17a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，我们要计划好这一切，对吗？不，规划这整个过程不是一件容易的事，需要很多年。希望有一个名为“宇宙魔方”的预编程引擎，它将帮助我们轻松执行整个任务。</p><h1 id="a5d3" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">宇宙魔方</h1><p id="9293" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">"<strong class="is hu"> <em class="lk">宇宙魔方</em> </strong> <em class="lk">是一个适用于各种操作系统的光学字符识别引擎。它是自由软件，在Apache许可下发布。最初是由惠普公司在20世纪80年代开发的专有软件，它在2005年作为开源软件发布，从2006年开始由谷歌赞助开发。</em></p><p id="8009" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lk">2006年，Tesseract被认为是当时最精确的开源OCR引擎之一。</em>”</p><p id="574f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">市场上有很多可用的OCR引擎，但没有一个像Tesseract一样高效。它们要么不自由，要么操作起来令人沮丧。尽管很难集成T<strong class="is hu">essract</strong>但仍然比许多可用的选项要好。默认情况下，<strong class="is hu">宇宙魔方</strong>是一个命令行软件，但是对于<strong class="is hu"> GUI宇宙魔方</strong>软件有许多第三方选项。它可以通过<strong class="is hu"> API </strong>与其他流行的编程语言绑定使用。</p><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es ll"><img src="../Images/9339afab9040bc33140f810e6f54c01c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*moqYZ8dMlglh-ohXTECRhg.png"/></div></figure><p id="f8e7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">宇宙魔方4 有一个新的神经网络子系统，被配置为文本行识别器。它实际上是基于OCRopus Python的LSTM的重新实现，但是用c++(T25)重新编写。</p><p id="2e99" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个整个字符识别过程中，我们一般使用一个<strong class="is hu">卷积神经网络或者CNN。我们可以把一篇文章看作一个字符序列，为了解决这样的问题，我们通常使用LSTM或长短期记忆网络。</strong>这是<strong class="is hu"> RNN </strong>或<strong class="is hu">递归神经网络的一种流行形式。</strong></p><h1 id="da09" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">宇宙魔方4是如何工作的？</h1><p id="e299" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">虽然LSTMs在学习序列方面很棒，但是有一个很大的缺点。当状态数量太大时，速度会变慢。到这里，我们可以假设我们应该更喜欢长序列，而不是有太多类的短序列。宇宙魔方是由<strong class="is hu"> LSMT </strong>在<strong class="is hu"> C++ </strong>中的一个名为<strong class="is hu"> CLSMT的分支发展而来的。</strong>先前版本的<strong class="is hu">宇宙魔方</strong>主要依赖于三个主要的子过程。</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/6dc0200e481274f6493b70c6e51ce762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_W3moLqMH8ER8ZonctqpA.png"/></div></div></figure><ol class=""><li id="22dd" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated">单词查找</li><li id="5397" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">寻线</li><li id="a241" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">字符分类</li></ol><p id="222e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重新发布<strong class="is hu">宇宙魔方</strong>的主要目的是清理代码和实现<strong class="is hu"> LSTM </strong>模型。</p><h1 id="92d2" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">宇宙魔方装置</h1><p id="ed0c" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在Windows PC上安装<strong class="is hu">宇宙魔方</strong>非常简单。从<a class="ae ln" href="http://tesseract-ocr-w64-setup-v4.1.0.20190314.exe" rel="noopener ugc nofollow" target="_blank">下载预编译的二进制文件。不要忘记将安装路径添加到<strong class="is hu"> PATH </strong>变量中。现在，通过检查安装</a></p><figure class="lg lh li lj fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="be1c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果此命令运行时没有任何错误，则安装是正确的。我们将介绍一些python实现。所以，我们必须安装<strong class="is hu">pytesserac</strong>作为<strong class="is hu">tesserac</strong>和<strong class="is hu"> OpenCV </strong>的python包装器，以进行预处理。我们将使用<strong class="is hu"> pip </strong>安装程序来安装库。</p><figure class="lg lh li lj fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="fd32" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将使用这个简单的文档图像从中提取文本。你可以从<a class="ae ln" href="https://github.com/satadeep3927/color-recognization/blob/master/main.jpg" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><p id="cbf4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们写一个简单的代码从给定的图像中提取文本。</p><figure class="lg lh li lj fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="4709" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们使用<strong class="is hu"> OpenCV </strong> imread()函数将图像转换成二进制数据，然后我们使用<strong class="is hu">tesse ract</strong>image _ to _ string()函数从二进制图像数据中提取文本。很简单，对吧？等等，我们讨论过预处理。在哪里，为什么？从未经处理的图像中提取文本可能是一个很大的错误，特别是当图像是彩色的或者背景有噪声时。因此，我们必须在从中提取文本之前添加一个预处理。预处理图像有很多选择。</p><figure class="lg lh li lj fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="b5a8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以用任何一个。这取决于你的输入图像。我正在使用文档类型文件。这就是为什么脱色是一个很好的选择。所以，我们必须添加get _灰度()函数来对图像进行脱色。最后的结局会是这样的…</p><figure class="lg lh li lj fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><h1 id="8305" class="jo jp ht bd jq jr lx jt ju jv ly jx jy jz lz kb kc kd ma kf kg kh mb kj kk kl bi translated">结论</h1><p id="c353" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">对于<strong class="is hu"> OCR </strong>和<strong class="is hu">宇宙魔方引擎来说，这是一个非常基本的指南。你可以用宇宙魔方做更多的事情，但是要做那种事情，你需要知道一些基础知识。坚持学习几个星期的基础课程，你会发现它既简单又方便。然后你可以开始用<strong class="is hu">宇宙魔方</strong>做酷杖</strong></p><p id="5863" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">快乐编码！！！</strong></p></div></div>    
</body>
</html>