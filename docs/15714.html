<html>
<head>
<title>Angular: Extracting the exact value of radio button groups and checkbox groups in Template and Reactive Forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular:提取模板和反应式表单中单选按钮组和复选框组的精确值</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/angular-extracting-the-exact-value-of-radio-button-groups-and-checkbox-groups-in-template-and-f1706b912aa6?source=collection_archive---------0-----------------------#2022-11-16">https://medium.com/geekculture/angular-extracting-the-exact-value-of-radio-button-groups-and-checkbox-groups-in-template-and-f1706b912aa6?source=collection_archive---------0-----------------------#2022-11-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="30ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获取单选按钮和复选框的值是我见过的一个问题，被多个平台的很多开发者提出过。</p><p id="2b8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我也有这个话题的问题，我想这将是一个好主意，分享我用来解决这个问题的简单方法。</p><p id="25bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标如下:</p><ol class=""><li id="478a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">单组单选按钮</li><li id="dda8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">单组复选框</li><li id="2969" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">多组单选按钮</li><li id="4770" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">多组复选框</li></ol><p id="0142" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">I .让我们从模板驱动和反应式表单中的<strong class="ih hj">单组单选按钮</strong>开始。</p><p id="7fab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是应用程序的屏幕截图。我把它保持得非常简单，这样重点就不会放在其他无关的细节上。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jr"><img src="../Images/755949ac1b2b28e32b2b87c992a48986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FzCD_M7uF92_YaN-9zVGWQ.png"/></div></div></figure><p id="e168" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是<strong class="ih hj"> RadioButtonComponent </strong>类。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="99b2" class="ki kj hi ke b be kk kl l km kn">export class RadioButtonComponent implements OnInit {<br/><br/>constructor(private fb: FormBuilder) {}<br/><br/>public radioButtonReactiveForm: FormGroup;<br/>selected: string = ‘Orange’;<br/>public list1: any = [‘Apple’, ‘Orange’];<br/><br/>ngOnInit() {<br/>this.radioButtonReactiveForm = this.fb.group({<br/>fruit: [‘Apple’],<br/>});<br/>}<br/>}</span></pre><p id="c7d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们定义了一个属性<strong class="ih hj"> list1 </strong>，它是一个包含两个水果的数组。我们将在模板和反应式表单中显示这两个单选按钮。</p><p id="fc7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在反应式表单中，<strong class="ih hj">单选按钮反应式表单</strong>是根表单组，只有1个表单控件<strong class="ih hj">结果。</strong>我们知道单选按钮的目的是从多个值中选择一个值。我们只需要1个FormControl来跟踪所选单选按钮的值。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="5736" class="ki kj hi ke b be kk kl l km kn">this.radioButtonReactiveForm = this.fb.group({<br/>fruit: [‘Apple’],<br/>});</span></pre><p id="9502" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经将<strong class="ih hj">水果</strong>表单控件的默认值设置为“苹果”。这意味着“苹果”的单选按钮将被选中，而“橙色”的单选按钮将被取消选中。</p><p id="9742" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">模板表单</strong>中，单选按钮的<strong class="ih hj"> ngModel </strong>被设置为<strong class="ih hj"> selected </strong>属性。由于这个<strong class="ih hj"> selected </strong>属性的值是“Orange ”,我们期望选择“Orange”单选按钮，而不选择“Apple”单选按钮。</p><p id="ca15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们转到<strong class="ih hj">单选按钮组件</strong>模板:</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="ed5d" class="ki kj hi ke b be kk kl l km kn">&lt;h4&gt;RadioButtons in Reactive Forms&lt;/h4&gt;<br/>&lt;form [formGroup]=”radioButtonReactiveForm”&gt;<br/>&lt;ng-container *ngFor=”let option of list1; let i = index”&gt;<br/>&lt;input type=”radio” [value]=”option” formControlName=”fruit” /&gt;{{ option }}<br/>&lt;/ng-container&gt;<br/>&lt;/form&gt;<br/><br/>&lt;b&gt;I have selected:&lt;/b&gt; {{ radioButtonReactiveForm.value | json }}<br/><br/>&lt;h4&gt;RadioButtons in Template Driven Forms&lt;/h4&gt;<br/>&lt;form #radioButtonTemplateForm=”ngForm”&gt;<br/>&lt;ng-container *ngFor=”let option of list1; let i = index”&gt;<br/>&lt;input type=”radio” name=”fruit” [value]=”option” [(ngModel)]=”selected” /&gt;<br/>{{ option }}<br/>&lt;/ng-container&gt;<br/>&lt;/form&gt;<br/><br/>&lt;b&gt;I have selected:&lt;/b&gt; {{ radioButtonTemplateForm.value | json }}</span></pre><p id="aa92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一、先看反应式表单代码。正如您在下面看到的，我们已经遍历了数组属性<strong class="ih hj"> list1 </strong>并显示了两个水果的单选按钮。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="5732" class="ki kj hi ke b be kk kl l km kn">&lt;ng-container *ngFor=”let option of list1; let i = index”&gt;<br/>&lt;input type=”radio” [value]=”option” formControlName=”fruit” /&gt;{{ option }}<br/>&lt;/ng-container&gt;</span></pre><p id="9388" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单选按钮的<strong class="ih hj">值属性</strong>设置为水果名称本身，即“苹果”或“桔子”。这里有几点需要注意:</p><p id="99fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;当我选择一个单选按钮时，FormControl <strong class="ih hj"> fruit </strong>的值被设置为单选按钮的<strong class="ih hj">值</strong>。</p><p id="0ba6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;如果我最初将FormControl <strong class="ih hj"> fruit </strong>的默认值设置为一个<strong class="ih hj">空字符串" "</strong>，而不是下面的“Apple ”,那么不会选择任何单选按钮。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="3330" class="ki kj hi ke b be kk kl l km kn">ngOnInit() {<br/>this.radioButtonReactiveForm = this.fb.group({<br/>fruit: [‘’],<br/>});<br/>}</span></pre><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ko"><img src="../Images/479e8886ac2d7c0b8f4aec690c707006.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLvGe4EpeumQwTTLtIyDLQ.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">No Radio Buttons selected in Reactive Form</figcaption></figure><p id="0ea1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;我还在模板中打印了表单的值，如下所示。<strong class="ih hj">这意味着您可以使用表单的值轻松提取单选按钮的值。</strong></p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="25b7" class="ki kj hi ke b be kk kl l km kn">&lt;b&gt;I have selected:&lt;/b&gt; {{ radioButtonReactiveForm.value | json }}</span></pre><p id="d5a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在选择“橙色”单选按钮，将自动更新表单的值，如下所示。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kt"><img src="../Images/41047b18c1f0a7d3a215b086cdca1f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hdQgIQwX47bAgctj_BuGow.png"/></div></div></figure><p id="422c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">二。移动到模板表单代码。我们已经通过<strong class="ih hj"> list1属性</strong>进行了类似的迭代。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="6344" class="ki kj hi ke b be kk kl l km kn">&lt;ng-container *ngFor=”let option of list1; let i = index”&gt;<br/>&lt;input type=”radio” name=”fruit” [value]=”option” [(ngModel)]=”selected” /&gt;<br/>{{ option }}<br/>&lt;/ng-container&gt;</span></pre><p id="03e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单选按钮的<strong class="ih hj">值属性</strong>被设置为水果的名称。<strong class="ih hj"> ngModel </strong>已经被设置为<strong class="ih hj">选择的</strong>属性。</p><p id="6925" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还添加了一个<strong class="ih hj">名称属性</strong>，它被设置为一个字符串“fruit”。</p><p id="8771" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们理解这一切的意义。</p><p id="1c92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;当我将一个<strong class="ih hj"> ngModel </strong>添加到input元素时，Angular会自动创建一个<strong class="ih hj"> FormControl </strong>，将<strong class="ih hj"> name属性</strong>的值作为键，ngModel是与键对应的值。所以输入单选按钮必须有<strong class="ih hj">名称属性</strong>。</p><p id="5c8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;需要从中选择单个值的一组单选按钮必须具有相同的<strong class="ih hj">名称属性</strong>值，这一点很重要。</p><p id="51a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;当我选择一个单选按钮时，<strong class="ih hj">选择属性</strong>的值被更新为单选按钮的<strong class="ih hj">值属性。</strong></p><p id="c283" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;如果我最初将<strong class="ih hj"> selected属性</strong>设置为<strong class="ih hj">空字符串" "</strong>而不是“Orange ”,那么没有单选按钮会被选中，如下所示。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ku"><img src="../Images/3f94c64edd9b6acb17363381e922e6a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82ZsyIXwqNEWgomAhR1CVQ.png"/></div></div></figure><p id="a3ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">= &gt;我们还打印了如下表单的值。这意味着您可以使用表单的值轻松提取单选按钮的值。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="24b8" class="ki kj hi ke b be kk kl l km kn">&lt;b&gt;I have selected:&lt;/b&gt; {{ radioButtonTemplateForm.value | json }}</span></pre><p id="ceb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择“Apple”单选按钮也会自动更新表单的值。请注意，表单的值只是一个对象，以<strong class="ih hj">名称属性</strong>作为键，以<strong class="ih hj"> ngModel/selected属性</strong>作为值。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kv"><img src="../Images/2b3358e18cc3cadcd60dac363fc69e6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yO4OORdD_stI6xS0wH6UUA.png"/></div></div></figure><p id="86bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">二。移动到模板驱动和反应式表单中的单组复选框</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kw"><img src="../Images/9058cd33f01ee983fb184b70943796c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JuoAUEFXwKj018iPdI5lCg.png"/></div></div></figure><p id="7d62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<strong class="ih hj">反应形式</strong>开始，我已经展示了两种方法可以提取选中复选框的值。您选择的方式取决于您需要的值的格式。</p><p id="d80d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的截图中的<strong class="ih hj">方法1 </strong>中，你可以看到，复选框值的格式是两个对象的数组:<strong class="ih hj"> {"Apple":false} </strong>和<strong class="ih hj"> {"Orange":false} </strong>。我们添加了复选框的<strong class="ih hj">值(苹果/橙色)</strong>作为键，复选框的<strong class="ih hj">选中/未选中状态(真/假)</strong>作为键的值。</p><p id="7e96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">表示“苹果”和“橙色”复选框未被选中。</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kx"><img src="../Images/339220b75012087914cfba69bffb9769.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dd_LxBSnCEGl25SasVqyZw.png"/></div></div></figure><p id="487a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面截图中的<strong class="ih hj">方法2 </strong>中，值的格式是2个复选框的选中/未选中状态的<strong class="ih hj">数组。</strong>这是一个布尔值数组。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ky"><img src="../Images/3db1dcdce1c6d8001d7e6eeb787ac757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*svFa_aPCRPysm-hvqI1ptw.png"/></div></div></figure><p id="d31e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">复选框组件类</strong></p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="87c5" class="ki kj hi ke b be kk kl l km kn">export class CheckboxComponent implements OnInit {<br/>constructor(private fb: FormBuilder) {}<br/><br/>public checkBoxForm: FormGroup;<br/>public checkBoxAnotherForm: FormGroup;<br/><br/>public list: any = [<br/>{ label: ‘Apple’, value: false },<br/>{ label: ‘Orange’, value: true },<br/>];<br/>public list2: any = [‘Apple’, ‘Orange’];<br/><br/>ngOnInit() {<br/>this.checkBoxForm = this.fb.group({<br/>selected: this.fb.array(this.loadCheckboxes1()),<br/>});<br/><br/>this.checkBoxAnotherForm = this.fb.group({<br/>selected: this.fb.array(this.loadCheckboxes2()),<br/>});<br/>}<br/><br/>loadCheckboxes1() {<br/>return this.list.map((item: any) =&gt; {<br/>return this.fb.group({ [`${item.label}`]: [false] });<br/>});<br/>}<br/><br/>loadCheckboxes2() {<br/>return this.list2.map((item: any) =&gt; {<br/>return this.fb.control(false);<br/>});<br/>}<br/>}</span></pre><p id="4ad0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们有2个根表单组:<strong class="ih hj">复选框表单</strong>和<strong class="ih hj">复选框另一个表单</strong></p><p id="19a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">复选框形式</strong>用于演示<strong class="ih hj">方法1 </strong>和<strong class="ih hj">复选框形式</strong>用于演示<strong class="ih hj">方法2。</strong></p><p id="39a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于数据，我们对<strong class="ih hj">方法1 </strong>使用了<strong class="ih hj">属性列表</strong>，对<strong class="ih hj">方法2 </strong>使用了<strong class="ih hj">列表2 </strong>。请注意这两个属性的结构。对于这两种方法，我们显示了具有相同数据的复选框，但是使用的数据格式不同。这是因为两种方法中所需的复选框值的格式不同。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="439b" class="ki kj hi ke b be kk kl l km kn">public list: any = [<br/>{ label: ‘Apple’, value: false },<br/>{ label: ‘Orange’, value: true },<br/>];<br/>public list2: any = [‘Apple’, ‘Orange’];</span></pre><p id="9588" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">下面的复选框形式</strong>将包含一个选择的形式排列<strong class="ih hj">。</strong>该选择的表格<strong class="ih hj">将包含<strong class="ih hj"> 2个表格组</strong>。2个表单组依次包含<strong class="ih hj"> 1个表单控件。</strong>form control的键将是<strong class="ih hj">列表属性对象</strong>的<strong class="ih hj">标签属性</strong>，键的值将是<strong class="ih hj">列表属性对象</strong>的<strong class="ih hj">值属性</strong></strong></p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="0555" class="ki kj hi ke b be kk kl l km kn">this.checkBoxForm = this.fb.group({<br/>selected: this.fb.array(this.loadCheckboxes1()),<br/>});</span></pre><p id="ee3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> loadCheckbox1() </strong>将演示如何用2个FormGroups填充选中的form array<strong class="ih hj"/>，然后用1个FormControl填充。两个表单组中的FormControl的值已被初始化为<strong class="ih hj"> false </strong>。这意味着“Apple”和“Orange”复选框最初不会被选中。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="f7e6" class="ki kj hi ke b be kk kl l km kn">loadCheckboxes1() {<br/>return this.list.map((item: any) =&gt; {<br/>return this.fb.group({ [`${item.label}`]: [false] });<br/>});<br/>}</span></pre><p id="d196" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">复选框另一个表单</strong>是根表单组，包含一个选中的表单数组<strong class="ih hj">。</strong>这个表单数组只是一个<strong class="ih hj"> 2表单控件</strong>的数组。</p><p id="f780" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的loadCheckbox2() 将演示如何用2个FormControls填充选中的form array<strong class="ih hj"/>。这两个表单控件都被初始化为<strong class="ih hj">假。</strong>这意味着“Apple”和“Orange”复选框最初不会被选中。</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="7972" class="ki kj hi ke b be kk kl l km kn">loadCheckboxes2() {<br/>return this.list2.map((item: any) =&gt; {<br/>return this.fb.control(false);<br/>});<br/>}</span></pre><p id="d416" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于<strong class="ih hj">模板驱动的表单</strong>，我们在类中没有代码。</p><p id="c04e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">复选框组件模板:</strong></p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="9c85" class="ki kj hi ke b be kk kl l km kn">&lt;h4&gt;Checkboxes in Reactive Forms Approach 1&lt;/h4&gt;<br/><br/>&lt;form class=”form-group” [formGroup]=”checkBoxForm”&gt;<br/>&lt;div formArrayName=”selected”&gt;<br/>&lt;ng-container *ngFor=”let option of list; let i = index”<br/>[formGroupName]=”i”<br/>&gt;<br/>&lt;label&gt;{{ option.label }}&lt;/label&gt;<br/>&lt;input type=”checkbox” [formControlName]=”option.label” /&gt;<br/>&lt;/ng-container&gt;<br/>&lt;/div&gt;<br/>&lt;/form&gt;<br/><br/>&lt;b&gt;I have selected:&lt;/b&gt; {{ checkBoxForm.value | json }}</span></pre><p id="5dbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如您可以在ReactiveForms 的<strong class="ih hj">方法1中看到的，我们已经遍历了<strong class="ih hj">列表属性</strong>并显示了2个复选框。将<strong class="ih hj"> formControlName指令</strong>设置为列表属性数组中对象的<strong class="ih hj">标签属性</strong>。</strong></p><p id="59d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请记住，<strong class="ih hj"> checkBoxForm </strong>中FormControl 的<strong class="ih hj">键也是<strong class="ih hj"> list属性数组中对象的<strong class="ih hj">标签属性</strong>。</strong></strong></p><p id="f01e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择“Apple”复选框更新了<strong class="ih hj">复选框表单的</strong>值，如下所示。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kz"><img src="../Images/8f3c67df2f4b0b2518978be1885e7adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZZHZxAGax7MB_DuuwHqxQ.png"/></div></div></figure><p id="2989" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">移动到<strong class="ih hj">反应形式的方法2</strong>，</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="bee4" class="ki kj hi ke b be kk kl l km kn">&lt;h4&gt;Checkboxes in Reactive Forms Approach 2&lt;/h4&gt;<br/>&lt;form class=”form-group” [formGroup]=”checkBoxAnotherForm”&gt;<br/>&lt;div formArrayName=”selected”&gt;<br/>&lt;ng-container *ngFor=”let option of list2; let i = index”&gt;<br/>&lt;label&gt;{{ option }}&lt;/label&gt;<br/>&lt;input type=”checkbox” [formControlName]=”i” /&gt;<br/>&lt;/ng-container&gt;<br/>&lt;/div&gt;<br/>&lt;/form&gt;<br/>&lt;b&gt;I have selected:&lt;/b&gt; {{ checkBoxAnotherForm.value | json }}</span></pre><p id="b04f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经遍历了<strong class="ih hj"> list2属性</strong>，并显示了2个复选框。将<strong class="ih hj"> formControlName指令</strong>设置为迭代索引。</p><p id="a231" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我选择了“苹果”和“橙色”复选框，表单的值更新如下。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es la"><img src="../Images/1989bf605d6ce48d5844d3866dd0642f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0yFEAaXyLw7oolIG2XDjQ.png"/></div></div></figure><p id="ce4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">移动到<strong class="ih hj">模板驱动表单</strong>，</p><pre class="js jt ju jv fd kd ke kf bn kg kh bi"><span id="8f3f" class="ki kj hi ke b be kk kl l km kn">&lt;h4&gt;Checkboxes in Template Driven Forms&lt;/h4&gt;<br/>&lt;form class=”form-group” #checkBoxTemplateForm=”ngForm”&gt;<br/>&lt;ng-container *ngFor=”let option of list; let i = index”&gt;<br/>&lt;label&gt;{{ option.label }}&lt;/label&gt;<br/>&lt;input type=”checkbox” [name]=”option.label” [(ngModel)]=”option.value” /&gt;<br/>&lt;/ng-container&gt;<br/>&lt;/form&gt;<br/>&lt;b&gt;I have selected:&lt;/b&gt; {{ checkBoxTemplateForm.value | json }}</span></pre><p id="fea8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经遍历了<strong class="ih hj">列表属性</strong>并显示了2个复选框。正如在单选按钮的例子中已经提到的，对于复选框来说，输入复选框的<strong class="ih hj"> ngModel </strong>和<strong class="ih hj"> name属性</strong>也非常重要。</p><p id="1457" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将<strong class="ih hj"> ngModel </strong>设置为<strong class="ih hj">列表属性</strong>数组中对象的<strong class="ih hj">值属性</strong>。根据复选框是否被选中，复选框的<strong class="ih hj"> ngModel </strong>可以为真/假。</p><p id="878f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">名称属性</strong>设置为<strong class="ih hj">列表属性</strong>数组中对象的标签属性。<strong class="ih hj">名称属性对于每个复选框</strong>必须是唯一的，不像单选按钮，一组单选按钮的名称属性必须相同。</p><p id="1c4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选中“橙色”复选框和取消选中“苹果”复选框时，突出显示的是表单的值。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es lb"><img src="../Images/ce1a5391b2a30693e3f7f445be9116c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0P6-o6sOR9fzB_bE9VdO8A.png"/></div></div></figure><p id="0a1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是单组单选按钮和复选框场景的完整工作示例。</p><div class="lc ld ez fb le lf"><a href="https://stackblitz.com/edit/angular-agx6ge?file=src/app/checkbox/checkbox.component.ts" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab dw"><div class="lh ab li cl cj lj"><h2 class="bd hj fi z dy lk ea eb ll ed ef hh bi translated">角形(叉形)堆叠</h2><div class="lm l"><h3 class="bd b fi z dy lk ea eb ll ed ef dx translated">一个基于rxjs，tslib，jquery，core-js，zone.js，bootstrap，popper.js，@angular/core的angular-cli项目…</h3></div><div class="ln l"><p class="bd b fp z dy lk ea eb ll ed ef dx translated">stackblitz.com</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt kb lf"/></div></div></a></div><p id="d8aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">三。<strong class="ih hj">模板和反应式表单中的多组单选按钮。</strong></p><p id="53c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我没有详细介绍这段代码，因为它只是我们之前看到的例子的扩展。</p><p id="3df6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是应用程序中组件的屏幕截图。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es lu"><img src="../Images/16010d8fc15bd0e39df26b143bfc5137.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Le1okeeVA3uMhdJLwBp1pA.gif"/></div></div></figure><p id="059d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了创建单选按钮组，我在下面创建了一些虚拟数据。</p><p id="ec4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个由两个对象组成的数组。每个对象是一个<strong class="ih hj">部分</strong>，包含部分<strong class="ih hj">标题</strong>和一组<strong class="ih hj">问题</strong>。每个问题都是一个对象，包含标签和问题可能的一系列<strong class="ih hj">回答</strong>。每个响应对应一个单选按钮。每个问题对象还包含一个<strong class="ih hj"> selected </strong>属性，以指示为该问题选择了哪个响应。</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="115d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是单选按钮被选中时表单值如何变化的屏幕截图。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es lx"><img src="../Images/327955fb48280b7299a202be05e3b655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRYY6DHg0cFcGesO8hvLUw.png"/></div></div></figure><p id="d82d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">IV <strong class="ih hj">模板和反应式表单中的多组复选框。</strong></p><p id="c341" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我没有详细介绍这段代码，因为它只是我们之前看到的例子的扩展。</p><p id="b243" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是应用程序中组件的屏幕截图。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ly"><img src="../Images/2b3fc3dfb677b2926fe6c7b76782d117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-V8rGYgro3rWYqHNcWI_lg.gif"/></div></div></figure><p id="5560" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了创建一组复选框，我使用了下面的虚拟数据。这和我们已经看到的结构相似。这里的每个响应对应一个复选框。但是请注意，整个问题没有<strong class="ih hj">选择的</strong>属性，<strong class="ih hj">相反，每个回答</strong>都有一个单独选择的属性。<strong class="ih hj">这是因为复选框意味着多选，所以一个问题可能有多个答案。</strong></p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="9e15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是勾选复选框时表单值如何变化的屏幕截图。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es lz"><img src="../Images/4ae096ad815ff83892c70c3c30e5d2b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GNR8-jNRa_Ro98PLD3ogAw.png"/></div></div></figure><p id="e67e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在下面找到III和IV的完整工作示例。</p><div class="lc ld ez fb le lf"><a href="https://stackblitz.com/edit/angular-lnpusu?file=src/app/app.component.html" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab dw"><div class="lh ab li cl cj lj"><h2 class="bd hj fi z dy lk ea eb ll ed ef hh bi translated">角形(叉形)堆叠</h2><div class="lm l"><h3 class="bd b fi z dy lk ea eb ll ed ef dx translated">一个基于rxjs，tslib，core-js，zone.js，@angular/core，@angular/forms，@angular/common的angular-cli项目…</h3></div><div class="ln l"><p class="bd b fp z dy lk ea eb ll ed ef dx translated">stackblitz.com</p></div></div><div class="lo l"><div class="ma l lq lr ls lo lt kb lf"/></div></div></a></div></div></div>    
</body>
</html>