<html>
<head>
<title>ConstraintLayout 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ConstraintLayout 2.0</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/constraint-layout-2-0-98df8c74856b?source=collection_archive---------5-----------------------#2021-02-23">https://medium.com/geekculture/constraint-layout-2-0-98df8c74856b?source=collection_archive---------5-----------------------#2021-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="673a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的约束布局之旅将在第二部分继续。如果你错过了第一个，你可以在下面的链接里先看看:</p><div class="jd je ez fb jf jg"><a href="https://emre-arslan.medium.com/constraint-layout-8b13ace936df" rel="noopener follow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">约束布局</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">约束布局已经成为Android开发中最基本的组件之一，具有许多有效的功能</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">emre-arslan.medium.com</p></div></div><div class="jp l"><div class="jq l jr js jt jp ju jv jg"/></div></div></a></div><div class="jd je ez fb jf jg"><a href="https://emre-arslan.medium.com/motionlayout-bba34ce7fa69" rel="noopener follow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">运动布局</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">最后，我非常自豪地向您展示我的约束布局系列的最后一部分🤘🏻。这将是最长的…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">emre-arslan.medium.com</p></div></div><div class="jp l"><div class="jw l jr js jt jp ju jv jg"/></div></div></a></div><p id="8e2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在前一篇文章中，我们已经逐一研究了ConstraintLayout的基本特性。这次我们将深入一些细节，看看它的上限。</p><figure class="jx jy jz ka fd kb"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="b7df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以将ConstraintLayout 2.0中提供的特性分成三个不同的部分。</p><ul class=""><li id="1a96" class="ke kf hi ih b ii ij im in iq kg iu kh iy ki jc kj kk kl km bi translated"><strong class="ih hj">流量</strong></li><li id="b075" class="ke kf hi ih b ii kn im ko iq kp iu kq iy kr jc kj kk kl km bi translated"><strong class="ih hj">层</strong></li><li id="12de" class="ke kf hi ih b ii kn im ko iq kp iu kq iy kr jc kj kk kl km bi translated"><strong class="ih hj">运动布局</strong></li></ul><h1 id="b349" class="ks kt hi bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated"><strong class="ak">流量</strong></h1><p id="fea2" class="pw-post-body-paragraph if ig hi ih b ii lq ik il im lr io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">Flow可以被认为是LinearLayout的健壮版本。根据定义，它是一个用于链接视图的<em class="lv">虚拟</em> <em class="lv">布局</em>。等一下！从第一部分我们知道，ConstraintLayout有一个称为“链”的特性，用于将视图分组并相互关联。是什么让心流与众不同？链是分组视图的好方法，但是<em class="lv">它只适用于一行</em>。如果我的视图太大，无法在一行中处理，该怎么办？我可能需要处理多行视图。这时，心流走上舞台。</p><p id="adef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于Flow是一个虚拟布局，它使用其他视图引用，并且<strong class="ih hj">不会向您的视图层次结构</strong>添加新的级别。这就是心流如此强大的原因。视图层次越多，绘图时间就越多！它直接影响性能，性能应该是我们主要关心的问题之一。此外，它为您节省了大量样板代码。</p><p id="b392" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们看看流动在行动，好吗？</p><p id="4d02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想象一下，你有六个按钮要分组，但是它们的大小可能会在运行时改变。因此，不能保证将它们排成一行。在这种情况下，你可以使用心流。</p><figure class="jx jy jz ka fd kb"><div class="bz dy l di"><div class="lw kd l"/></div></figure><figure class="jx jy jz ka fd kb"><div class="bz dy l di"><div class="lw kd l"/></div></figure><p id="a859" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="lv">【wrap mode】</em></strong>属性可以用来获得想要的外观。您可以选择</p><ul class=""><li id="21e1" class="ke kf hi ih b ii ij im in iq kg iu kh iy ki jc kj kk kl km bi translated"><strong class="ih hj"> <em class="lv">无</em> </strong> →(默认)仅创建一条链，并使其溢出没有足够的空间。(!！！当心屏幕外的上下文！！！)</li><li id="201b" class="ke kf hi ih b ii kn im ko iq kp iu kq iy kr jc kj kk kl km bi translated"><strong class="ih hj"> <em class="lv">对齐</em> </strong> →溢出时，在另一行创建另一条链。</li><li id="c021" class="ke kf hi ih b ii kn im ko iq kp iu kq iy kr jc kj kk kl km bi translated"><strong class="ih hj"> <em class="lv">链</em> </strong> →除了对齐，还对齐行和列。</li></ul><figure class="jx jy jz ka fd kb er es paragraph-image"><div class="er es lx"><img src="../Images/c6943220429b1209bb95ecaff5cbe7f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*RzTCEVpruzT_yaWagXaz7Q.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">wrapMode = “none”</figcaption></figure><figure class="jx jy jz ka fd kb er es paragraph-image"><div class="er es md"><img src="../Images/75dc251074d1a53ecde1e6cfe213b201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*_X2sO0r2W0yJmmiahgGODw.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">wrapMode = “aligned”</figcaption></figure><figure class="jx jy jz ka fd kb er es paragraph-image"><div class="er es me"><img src="../Images/fe8b6485a6c39494393d47a4859c43f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*qV-I-3u0thFxAWaPx6Apgg.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">wrapMode = “chain”</figcaption></figure><p id="16fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果没有太多视图要显示，Flow也可以用作GridLayout。它还降低了RecyclerView的复杂性(适配器、渲染时间等。).它保持了布局的平整并提高了性能。</p><figure class="jx jy jz ka fd kb er es paragraph-image"><div class="er es mf"><img src="../Images/e7403a7131e3065d7719e3cc646935f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*43iU5gphwe1F-_1QLNPL5w.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">wrapMode = “chain”, horizontalStyle=”packed”</figcaption></figure><p id="c681" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lv">【横向_样式】</em></strong><strong class="ih hj"><em class="lv">【纵向_样式】</em> </strong>属性是流的其他酷属性。就像ConstraintLayout中的链一样，可能的值有:</p><ul class=""><li id="5cfa" class="ke kf hi ih b ii ij im in iq kg iu kh iy ki jc kj kk kl km bi translated"><strong class="ih hj"> <em class="lv">展开</em> </strong> →视图在父视图内展开，视图和父视图之间的间距相等。<em class="lv">(默认值)</em></li><li id="11ce" class="ke kf hi ih b ii kn im ko iq kp iu kq iy kr jc kj kk kl km bi translated"><strong class="ih hj"><em class="lv">spread _ inside</em></strong>→通过取父视图的尺寸，视图在父视图内以相等的间距展开。</li><li id="b21d" class="ke kf hi ih b ii kn im ko iq kp iu kq iy kr jc kj kk kl km bi translated"><strong class="ih hj"> <em class="lv">打包</em></strong>→视图在中间打包，不填充父视图。</li></ul><blockquote class="mg mh mi"><p id="4d18" class="if ig lv ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">注意:当应用打包样式时，也应用默认的0.5偏移值。</p></blockquote><pre class="jx jy jz ka fd mm mn mo mp aw mq bi"><span id="b18e" class="mr kt hi mn b fi ms mt l mu mv">app:flow_horizontalStyle = "<strong class="mn hj"><em class="lv">spread</em></strong> | <strong class="mn hj"><em class="lv">spread_inside</em></strong> | <strong class="mn hj"><em class="lv">packed" </em></strong>app:flow_verticalStyle = "<strong class="mn hj"><em class="lv">spread</em></strong> | <strong class="mn hj"><em class="lv">spread_inside</em></strong> | <strong class="mn hj"><em class="lv">packed"</em></strong></span></pre><p id="053e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想给视图之间一些手动间隙，你可以使用<strong class="ih hj"> <em class="lv">【水平间隙】</em> </strong>和<strong class="ih hj"> <em class="lv">【垂直间隙】</em> </strong>属性。</p><pre class="jx jy jz ka fd mm mn mo mp aw mq bi"><span id="bbc4" class="mr kt hi mn b fi ms mt l mu mv">app:flow_horizontalGap= "8dp"<br/>app:flow_verticalGap= "8dp"</span></pre><h1 id="5e88" class="ks kt hi bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">层</h1><p id="6e12" class="pw-post-body-paragraph if ig hi ih b ii lq ik il im lr io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">Layer是ConstraintLayout 2.0附带的另一个很酷的属性。你可以把它看作一个强健的群体。它是一个虚拟的助手，在不增加层次的情况下对视图进行分组，并允许你同时对层中的所有视图包括动画进行一些操作！您可以同时旋转、平移和缩放视图，而无需一遍又一遍地重复代码。</p><p id="924d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它的用法就像Group一样。您只需要添加您想要添加的视图的引用id，就可以开始了！</p><figure class="jx jy jz ka fd kb"><div class="bz dy l di"><div class="lw kd l"/></div></figure><p id="3bb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们来举个简单的例子。</p><figure class="jx jy jz ka fd kb"><div class="bz dy l di"><div class="lw kd l"/></div></figure><figure class="jx jy jz ka fd kb er es paragraph-image"><div class="er es mw"><img src="../Images/9537632552e59fe3d05bc12ff207c096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*K_TfjN_ua4qF3wrqsNX5MQ.gif"/></div></figure><h1 id="4a26" class="ks kt hi bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">运动布局</h1><p id="fb00" class="pw-post-body-paragraph if ig hi ih b ii lq ik il im lr io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">运动布局是ConstraintLayout 2的最后一个但绝对不是最不重要的属性。老实说，对我来说这是最令人兴奋的一篇，它值得拥有自己的文章。运动布局将是这个系列的第三部分，也是最后一部分。我在那里等你。</p></div><div class="ab cl mx my gp mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="hb hc hd he hf"><figure class="jx jy jz ka fd kb"><div class="bz dy l di"><div class="ne kd l"/></div></figure></div></div>    
</body>
</html>