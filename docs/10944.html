<html>
<head>
<title>Implementing Version Control for Big Data Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实施大数据项目的版本控制</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/implementing-version-control-for-big-data-projects-fb1a205bd3a0?source=collection_archive---------9-----------------------#2022-02-23">https://medium.com/geekculture/implementing-version-control-for-big-data-projects-fb1a205bd3a0?source=collection_archive---------9-----------------------#2022-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/45f34b84c54b629a6634d5c17c4bd3fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kafyg6EPXF9smWVK"/></div></div></figure><h1 id="05c2" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">0.介绍</h1><p id="b241" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">版本是某事物的一种特殊形式，在某些方面不同于早期的形式或同类的其他形式。另一方面，在开发环境中，它指的是与软件或数据等资源相关的版本。如果资源的结构、内容或状态发生变化，可以考虑创建一个新版本。</p><p id="53a2" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">操作数据集、纠正错误、漏洞或插入额外数据可能需要创建新版本。这也是一种跟踪动态数据中相关变化的实用方法。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/085d3b38569186f07bb91bfb37ac6963.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*B9hqZhZyBdYjaL-I"/></div></div></figure><h1 id="2d99" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">1.什么是版本控制和数据版本控制？</h1><p id="79ed" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">版本控制是一种允许你跟踪和监控项目每个阶段的机制。它使团队能够检查对源代码的修改，并确保代码中的更改不会被忽略。</p><p id="51aa" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">数据版本化是存储在不同时间间隔创建或修改的数据的相应版本的过程。</p><p id="6141" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">对数据集进行更改有许多合理的原因。数据专家可以测试机器学习(<a class="ae kw" href="https://www.ibm.com/cloud/learn/machine-learning" rel="noopener ugc nofollow" target="_blank"> ML </a>)模型，以增加项目的成功率。为此，他们需要对数据进行重要的操作。由于来自不同资源的数据不断流入，数据集也可能随着时间的推移而更新。最后，保留旧版本的数据可以帮助组织复制以前的环境。</p><h1 id="6f72" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">2.为什么数据版本控制很重要？</h1><p id="df89" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">通常，在软件开发生命周期中，开发过程分布在很长的一段时间内，跟踪项目中的变更可能很困难。因此，软件项目的版本化使这个过程变得容易，并且使团队不必定期命名脚本的每个版本。</p><p id="ba49" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">此外，在数据版本化的帮助下，历史数据集被保存并保存在数据库中。这一方面提供了如下一些优点。</p><h1 id="834b" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">3.数据版本化的好处</h1><h2 id="2505" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated"><strong class="ak">训练时保持最佳状态</strong></h2><p id="2213" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">数据科学项目的主要目标是满足公司的业务需求。因此，数据科学家需要根据客户或产品要求开发许多ML模型。这种情况需要在每次尝试建模时向ML管道中插入新的数据集。然而，数据专家需要小心不要丢失在建模中给他们最好分数的数据集。这是在数据版本化系统的帮助下实现的。</p><h2 id="8e7f" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated">提供新的业务增长指标</h2><p id="51d1" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在当今的数字世界中，使用数据做出决策和制定战略的公司将会生存下来，这是一个事实。因此，重要的是不要丢失历史数据。</p><p id="5314" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">考虑一家做日用品的电商。应用程序中的每个事务都会更改销售数据。人们的需求和要求可能会随着时间而变化。因此，保留所有销售数据有利于洞察客户需求的新趋势，并确定正确的战略和活动。</p><p id="737b" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">最终，它给了公司一个新的商业标准来衡量他们的成功或表现。</p><h2 id="f3cf" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated">关于数据隐私问题的保护</h2><p id="8a3f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">随着当今世界数字化转型的加速，产生的数据量也在快速增长。然而，这种情况带来了对保护个人数据的担忧。因此，政府制定的数据保护法规迫使公司存储一定量的数据。</p><p id="36d9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在这种情况下，数据版本控制可以通过确保数据在特定时间存储来提供帮助。它还可以帮助组织满足此类法规的要求。</p><h1 id="3419" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">4.使用开源数据版本工具的快速演示</h1><p id="20f1" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">市场上有许多数据版本控制工具。它们为数据存储提供了相似的特性，但是其中一些比另一些有重要的优势。</p><p id="0c42" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><a class="ae kw" href="https://lakefs.io/" rel="noopener ugc nofollow" target="_blank"> LakeFS </a>是一个开源平台，使数据分析团队能够像管理源代码一样管理数据库或数据湖。它为整个数据生命周期的测试和CI/CD操作运行并行的ML管道。这以数据湖中对象存储的形式提供了灵活性和易控制性。</p><p id="3e13" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">借助LakeFS，从复杂的ETL流程到数据分析和机器学习步骤，每个流程都可以转化为自动化且易于跟踪的数据科学项目。lakeFS的一些突出特点是:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/b9109dfbb0e2b0d5c01616bb1cceacf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vR2Li0Aj1nvF65iX"/></div></div></figure><ul class=""><li id="ecb8" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">支持云解决方案，如AWS S3、谷歌云存储和微软Azure Blob存储</li><li id="e308" class="lm ln hi jq b jr lv jv lw jz lx kd ly kh lz kl lr ls lt lu bi translated">可轻松与大多数现代大数据框架和技术配合使用，如Hadoop、Spark、Kafka等。</li><li id="236f" class="lm ln hi jq b jr lv jv lw jz lx kd ly kh lz kl lr ls lt lu bi translated">提供类似Git的操作，如分支、提交和合并，从而借助云解决方案的力量实现数Pb数据的扩展</li><li id="3854" class="lm ln hi jq b jr lv jv lw jz lx kd ly kh lz kl lr ls lt lu bi translated">提供了在云中或本地部署以及使用任何与S3存储兼容的API的选项</li></ul><h2 id="6723" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated">安装和运行LakeFS环境</h2><p id="6b46" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">要在您的本地计算机上运行LakeFS会话，请确保您安装了版本为1.25.04或更高版本的Docker和<a class="ae kw" href="https://docs.docker.com/compose/" rel="noopener ugc nofollow" target="_blank"> Docker Compose </a>。要使用Docker运行LakeFS，请键入以下命令:</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="fdb6" class="kx ir hi mb b fi mf mg l mh mi">$ curl https://compose.lakefs.io | docker-compose -f - up</span></pre><p id="49b2" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">之后，从<a class="ae kw" href="http://127.0.0.1:8000/setup" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/setup</a>查看您的安装和运行会话</p><h2 id="d307" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated">用户注册和创建存储库</h2><ul class=""><li id="9dbe" class="lm ln hi jq b jr js jv jw jz mj kd mk kh ml kl lr ls lt lu bi translated">要创建新的存储库，请通过以下链接注册为管理员用户<a class="ae kw" href="http://127.0.0.1:8000/setup" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/setup</a>。</li><li id="58b8" class="lm ln hi jq b jr lv jv lw jz lx kd ly kh lz kl lr ls lt lu bi translated">对于这一步，确定用户名并保存您的凭证，即密钥ID和密钥。使用此信息登录到您的管理员用户配置文件。</li><li id="beea" class="lm ln hi jq b jr lv jv lw jz lx kd ly kh lz kl lr ls lt lu bi translated">单击管理面板中的创建存储库按钮，并输入存储库ID、存储命名空间和默认分支值。之后，按下Create Repository。您的初始存储库已经创建。</li></ul><h2 id="59d2" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated">向新存储库添加数据</h2><p id="56e4" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">LakeFS会话可以与AWS CLI一起使用，因为它有一个S3兼容的API。但是请确保您的本地计算机上安装了AWS CLI。</p><ul class=""><li id="7fcb" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">为了能够通过AWS CLI使用LakeFS凭证配置新的连接，请在终端中键入以下命令。之后，请在终端中输入您的密钥ID和密钥值。</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="5ce6" class="kx ir hi mb b fi mf mg l mh mi">$ aws configure --profile local</span></pre><ul class=""><li id="5630" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">要查看连接是否工作，并列出工作区中的所有存储库，请在终端中键入以下命令:</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="abf5" class="kx ir hi mb b fi mf mg l mh mi">$ aws --endpoint-url=http://localhost:8000 --profile local s3 ls</span><span id="c1af" class="kx ir hi mb b fi mm mg l mh mi"># output:<br/># 2022-01-30 22:57:02 demo-repo</span></pre><ul class=""><li id="691c" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">最后，要通过将数据写入主分支来向存储库添加新数据，请在终端中键入以下命令:</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="fda5" class="kx ir hi mb b fi mf mg l mh mi">$ aws --endpoint-url=http://localhost:8000 --profile local s3 cp ./tweets.txt s3://demo-repo/main/<br/># output:<br/># upload: ./tweets.txt to s3://demo-repo/main/tweets.txt</span></pre><ul class=""><li id="dfe0" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">现在，tweets.txt文件已经写入demo-repo存储库的主分支。请在LakeFS UI上查看。</li></ul><h2 id="5f27" class="kx ir hi bd is ky kz la iw lb lc ld ja jz le lf je kd lg lh ji kh li lj jm lk bi translated">提交对添加数据的更改</h2><p id="05d5" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">多亏了LakeFS，对数据所做的更改可以使用LakeFS的默认CLI客户机lakectl来提交。请确保您已在本地计算机上安装了最新版本的CLI二进制文件。</p><ul class=""><li id="34c9" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">要配置CLI二进制设置，请在终端中键入以下命令:</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="d252" class="kx ir hi mb b fi mf mg l mh mi">$ lakectl config</span></pre><ul class=""><li id="1930" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">要验证lakectl的配置，可以使用以下命令列出存储库中的所有分支:</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="ed82" class="kx ir hi mb b fi mf mg l mh mi">$ lakectl branch list lakefs://demo-repo</span></pre><ul class=""><li id="cc63" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">要将添加的数据提交到存储库中，请在终端中键入以下命令:</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="d446" class="kx ir hi mb b fi mf mg l mh mi">$ lakectl commit lakefs://demo-repo/main -m 'added my first tweets data to repo!'</span></pre><ul class=""><li id="993b" class="lm ln hi jq b jr km jv kn jz lo kd lp kh lq kl lr ls lt lu bi translated">最后，要检查提交的消息，请在终端中键入以下命令:</li></ul><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="f041" class="kx ir hi mb b fi mf mg l mh mi">$ lakectl log lakefs://demo-repo/main</span></pre><h1 id="baed" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">5.结论</h1><p id="67f9" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">当今世界产生越来越多的数据。因此，数据驱动的公司必须正确安全地存储数据。企业需要确保他们利用正确的数据版本化平台/工具来帮助他们的业务增长。</p></div></div>    
</body>
</html>