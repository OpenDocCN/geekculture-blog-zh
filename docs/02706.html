<html>
<head>
<title>Webpack 101: A Quick Look at Webpack and its Uses</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webpack 101:快速浏览Webpack及其用途</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/webpack-101-a-quick-look-at-webpack-and-its-uses-22ff598723a9?source=collection_archive---------21-----------------------#2021-05-24">https://medium.com/geekculture/webpack-101-a-quick-look-at-webpack-and-its-uses-22ff598723a9?source=collection_archive---------21-----------------------#2021-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b44fa62b2909357c18a951de91f3f877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SL6RVjoNQaUdii2Qh9XeZg.png"/></div></div></figure><h2 id="bdc7" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">什么是Webpack？</strong></h2><p id="1770" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">根据官方网站，Webpack是现代JavaScript应用程序的静态模块捆绑器</p><p id="c312" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Webpack只是一个捆绑所有javascript文件使其工作的工具。</p><p id="dacc" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">当你用许多<strong class="jq hj">非代码静态资产</strong>如CSS、图片、字体等构建一个复杂的前端应用时，可以使用Webpack。<br/>如果你的应用程序相当小，你没有很多静态资产，你只需要构建一个Javascript文件来服务客户端，那么<strong class="jq hj"> Webpack的开销可能比你需要的更多。</strong></p><p id="d6ee" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Webpack可以执行许多操作。例如:</p><blockquote class="ko"><p id="6b6e" class="kp kq hi bd kr ks kt ku kv kw kx ki dx translated">1.将你的文件从es6转换成es5</p><p id="2f4a" class="kp kq hi bd kr ks kt ku kv kw kx ki dx translated">2.转换您的。少还是。scss文件转换为常规文件。钢性铸铁</p><p id="ea7a" class="kp kq hi bd kr ks kt ku kv kw kx ki dx translated">3.缩小文件(减小文件大小)</p><p id="4bcd" class="kp kq hi bd kr ks kt ku kv kw kx ki dx translated">4.从所有文件中删除所有注释(以减小文件大小)</p><p id="1baf" class="kp kq hi bd kr ks kt ku kv kw kx ki dx translated">5.将所有代码放在一个。js文件</p><p id="b76c" class="kp kq hi bd kr ks kt ku kv kw kx ki dx translated">6.收集你所有的。css捆绑成一个文件。</p></blockquote><p id="fb82" class="pw-post-body-paragraph jo jp hi jq b jr ky jt ju jv kz jx jy jb la ka kb jf lb kd ke jj lc kg kh ki hb bi translated">Webpack获取具有依赖关系的模块，并生成表示这些模块的静态资源</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/e9d9ec039ca38ff16cc62d59c7f86bee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biXuymBP4hQY9xqgLXWScQ.png"/></div></div></figure><h2 id="534c" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">基本设置</h2><p id="9595" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">首先，让我们创建一个目录，初始化npm，在本地安装webpack，并安装webpack-cli(用于在命令行上运行webpack的工具):</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="7cc3" class="iq ir hi lj b fi ln lo l lp lq">mkdir webpack-demo</span><span id="0f5c" class="iq ir hi lj b fi lr lo l lp lq">cd webpack-demo</span><span id="50ac" class="iq ir hi lj b fi lr lo l lp lq">npm init -y</span><span id="830d" class="iq ir hi lj b fi lr lo l lp lq">npm install webpack webpack-cli — save-dev</span></pre><p id="971f" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们可以通过检查package.json文件来检查这些库是否已经成功安装。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="54e8" class="iq ir hi lj b fi ln lo l lp lq">“devDependencies”: {</span><span id="297a" class="iq ir hi lj b fi lr lo l lp lq"> “webpack”: “⁵.20.2”,</span><span id="e507" class="iq ir hi lj b fi lr lo l lp lq"> “webpack-cli”: “⁴.5.0”,</span><span id="7ec3" class="iq ir hi lj b fi lr lo l lp lq">}</span></pre><p id="ce10" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们将稍微调整一下我们的目录结构，将“源”代码(/src)从我们的“分发”代码(/dist)。“源代码”是我们将要编写和编辑的代码。“分发”代码是我们构建过程的最小化和优化的输出，最终将被加载到浏览器中。</p><p id="170d" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">安装完这些包之后，我们需要创建一个<em class="ls"> webpack.config.js </em>文件，该文件导出一个包含webpack设置的对象。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="164e" class="iq ir hi lj b fi ln lo l lp lq">module.exports = {}</span></pre><h2 id="86f6" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">webpack简介</h2><p id="ed64" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">要开始使用webpack，您需要熟悉四个基本概念。(入口、输出、加载器、插件)</p><ol class=""><li id="8178" class="lt lu hi jq b jr kj jv kk jb lv jf lw jj lx ki ly lz ma mb bi translated"><em class="ls"/><strong class="jq hj"><em class="ls">第一个</em> </strong> <em class="ls">核心概念叫做</em>词条。</li></ol><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="cb37" class="iq ir hi lj b fi ln lo l lp lq">module.exports = { <br/>  entry: ‘./src/index.js’<br/>};</span></pre><p id="dbd8" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><em class="ls">条目</em>对象是webpack开始构建包的地方。Webpack以此为起点。</p><p id="d20f" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><em class="ls"> 2。</em> <strong class="jq hj"> <em class="ls">第二个</em> </strong> <em class="ls">核心概念叫做</em>输出<em class="ls"/>。</p><p id="8aa5" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><em class="ls">输出</em>属性告诉webpack在哪里发出它创建的包以及如何命名这些文件(默认情况下是这样的。/dist)。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="b22b" class="iq ir hi lj b fi ln lo l lp lq">const path = require(‘path’);<br/></span><span id="beb3" class="iq ir hi lj b fi lr lo l lp lq">module.exports = {<br/>  entry: ‘./src/index.js’,</span><span id="6cb1" class="iq ir hi lj b fi lr lo l lp lq"><strong class="lj hj">  </strong>output: {<br/><em class="ls">    path:</em> path.resolve(__dirname, ‘dist’),<br/><strong class="lj hj">    </strong>filename: ‘./bundle.js’<br/><strong class="lj hj">  </strong>},<br/>}</span></pre><p id="c003" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">在本例中，output.filename负责文件名，output.path负责文件所在的目录。</p><p id="7a11" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><em class="ls"> 3。</em> <strong class="jq hj"> <em class="ls">第三个</em> </strong> <em class="ls">核心概念是</em>装载机<em class="ls"/>。</p><p id="1224" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">加载器获取文件的内容，然后根据需要进行转换，并将转换结果包含在整个包中。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f6e4" class="iq ir hi lj b fi ln lo l lp lq">const path = require(‘path’);<br/></span><span id="7c13" class="iq ir hi lj b fi lr lo l lp lq">module.exports = {<br/>  entry: ‘./src/index.js’,</span><span id="2dc2" class="iq ir hi lj b fi lr lo l lp lq"><strong class="lj hj">  </strong>output: {<br/><em class="ls">    path:</em> path.resolve(__dirname, ‘dist’),<br/><strong class="lj hj">    </strong>filename: ‘./bundle.js’<br/>  },</span><span id="1575" class="iq ir hi lj b fi lr lo l lp lq">  module: {<br/>    rules: [<br/>      {<br/>        test: /\.css$/i,<br/>        use: [‘style-loader’, ‘css-loader’],<br/>      },<br/>      {<br/>        <em class="ls">test:</em> /\.(png|svg|jpg|jpeg|gif|mp4)$/i,<br/><em class="ls">        use:</em> {<br/><em class="ls">          loader:</em> ‘file-loader’,<br/><em class="ls">          options:</em> {<br/><em class="ls">            name:</em> ‘[name].[hash].[ext]’,<br/><em class="ls">            outputPath:</em> ‘imgs’,<br/>          },<br/>        },<br/>      },<br/>    ],<br/>  },<br/>}</span></pre><p id="6ba2" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">使用装载机有两个目的:</p><p id="2145" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">1.test属性指定应该转换哪些文件</p><p id="32a4" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">2.use属性指定应该使用哪个加载程序来执行转换。</p><blockquote class="mc md me"><p id="9dcc" class="jo jp ls jq b jr kj jt ju jv kk jx jy mf kl ka kb mg km kd ke mh kn kg kh ki hb bi translated">最受欢迎的<a class="ae mi" href="https://webpack.js.org/loaders/" rel="noopener ugc nofollow" target="_blank"> <em class="hi">装载机</em> </a>排行榜</p></blockquote><p id="12a0" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">4.<strong class="jq hj">第四个</strong>核心概念是“插件”。</p><p id="8c13" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">如果加载器用于转换特定类型的模块，那么插件可以用于执行更广泛的任务。</p><p id="91a3" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">要使用插件，你需要先安装它</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1713" class="iq ir hi lj b fi ln lo l lp lq">npm i html-webpack-plugin -D</span></pre><p id="a212" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">然后使用<em class="ls"> require() </em>并将其添加到插件数组中</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="112a" class="iq ir hi lj b fi ln lo l lp lq">const path = require(‘path’);<br/><em class="ls">const</em> HtmlWebpackPlugin = require(‘html-webpack-plugin’);</span><span id="e6ef" class="iq ir hi lj b fi lr lo l lp lq">module.exports = {<br/>  entry: ‘./src/index.js’,</span><span id="753f" class="iq ir hi lj b fi lr lo l lp lq">  output: {<br/><em class="ls">    path:</em> path.resolve(__dirname, ‘dist’),<br/><strong class="lj hj">    </strong>filename: ‘./bundle.js’<br/>  },</span><span id="35b2" class="iq ir hi lj b fi lr lo l lp lq">  plugins: [<br/>    new HTMLWebpackPlugin()<br/>  ]</span><span id="ef4c" class="iq ir hi lj b fi lr lo l lp lq">  module: {<br/>    rules: [<br/>      {<br/>        test: /\.css$/i,<br/>        use: [‘style-loader’, ‘css-loader’],<br/>      },<br/>      {<br/>        <em class="ls">test:</em> /\.(png|svg|jpg|jpeg|gif|mp4)$/i,<br/><em class="ls">        use:</em> {<br/><em class="ls">          loader:</em> ‘file-loader’,<br/><em class="ls">          options:</em> {<br/><em class="ls">            name:</em> ‘[name].[hash].[ext]’,<br/><em class="ls">            outputPath:</em> ‘imgs’,<br/>          },<br/>        },<br/>      },<br/>    ],<br/>  },<br/>}</span></pre><p id="10fb" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">HtmlWebpackPlugin将在dist目录中创建一个新的index.html文件，并向其中添加一个捆绑链接。</p><blockquote class="mc md me"><p id="8d65" class="jo jp ls jq b jr kj jt ju jv kk jx jy mf kl ka kb mg km kd ke mh kn kg kh ki hb bi translated">最流行的<a class="ae mi" href="https://webpack.js.org/plugins/" rel="noopener ugc nofollow" target="_blank">插件列表</a></p></blockquote><h2 id="671b" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">启动网络包</h2><p id="31bf" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">我们有一个package.json文件，可以在其中创建一个脚本来运行webpack</p><p id="7381" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">打开package.json文件，修改脚本对象，如下所示:</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="4c2a" class="iq ir hi lj b fi ln lo l lp lq">“scripts”: {</span><span id="335e" class="iq ir hi lj b fi lr lo l lp lq">  “test”: “echo “Error: no test specified” &amp;&amp; exit 1",</span><span id="e997" class="iq ir hi lj b fi lr lo l lp lq">  “dev”: “webpack — mode development”,</span><span id="9137" class="iq ir hi lj b fi lr lo l lp lq">  “build”: “webpack — mode production”</span><span id="7624" class="iq ir hi lj b fi lr lo l lp lq">},</span></pre><p id="4f4f" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">现在，当您在终端中运行<code class="du mj mk ml lj b">npm run build</code>命令时，将启动一个webpack，它将创建一个优化的index_bundle.js文件并将其放在dist中</p><h2 id="7f90" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">结论</h2><p id="d292" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">Webpack是一个有用且强大的工具。本文仅介绍其基本特性。但是webpack可以做得更多。下面是进一步探索收集器功能的资源列表:</p><blockquote class="mc md me"><p id="97f1" class="jo jp ls jq b jr kj jt ju jv kk jx jy mf kl ka kb mg km kd ke mh kn kg kh ki hb bi translated"><a class="ae mi" href="https://webpack.js.org/concepts/" rel="noopener ugc nofollow" target="_blank">官方webpack文档</a>。</p></blockquote></div></div>    
</body>
</html>