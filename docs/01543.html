<html>
<head>
<title>Adding Speech Commands and Voice Controls to Your Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将语音命令和语音控制添加到您的应用程序</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/adding-speech-commands-and-voice-controls-to-your-apps-6236b7cde358?source=collection_archive---------17-----------------------#2021-04-14">https://medium.com/geekculture/adding-speech-commands-and-voice-controls-to-your-apps-6236b7cde358?source=collection_archive---------17-----------------------#2021-04-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a2a6949f1be2cada888b7047db52c532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YhHdgx5yIDEE3ykH.jpg"/></div></div></figure><p id="ee2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你有没有想过潜入未来，使用先进的人工智能技术？今天你可以，感谢我们简单的图书馆。在这篇文章中，我们展示了我们简单易用的语音识别库，可以为任何应用程序添加<strong class="is hj">语音命令和控件</strong>。</p><p id="e12c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">无论您是构建web应用程序、本地应用程序还是桌面应用程序，这项技术都可以集成到任何具有互联网连接的系统中。</p><h1 id="6ffb" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">完整演示</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/315b342b4a5e64913adc898eac89c5a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*baXYMjZQJuY-WRXf.png"/></div></div><figcaption class="kr ks et er es kt ku bd b be z dx">Full YouTube Demo</figcaption></figure><p id="a83a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">YouTube:<a class="ae kv" href="https://www.youtube.com/watch?v=60llvnv3nDA" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=60llvnv3nDA</a></p><h1 id="e0c8" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">源代码</h1><p id="de93" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">GitHub:<a class="ae kv" href="https://github.com/Spurwingio/Speech-Recognition" rel="noopener ugc nofollow" target="_blank">https://github.com/Spurwingio/Speech-Recognition</a></p><p id="9012" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我们简单而强大的服务器-客户端实现，在浏览器中具有语音识别功能。它可以在任何使用最新网络浏览器(推荐Firefox或Chrome)的设备上运行。</p><h1 id="ca0d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">体系结构</h1><p id="d069" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">架构很简单。这个库包含Spurwing Socket服务器的实现，它也连接到一个语音到文本的提供者。对于后者，我们使用脸书的WitAI，这是一个完全免费的服务，并且易于使用。或者，你可以很容易地集成任何其他STT提供商(谷歌，IBM Watson，必应等)，但这些可能是有代价的。</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/ddc5eeb0975c4bf89fccb001a4b8a0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ObU53NUVwzPZhYBn.png"/></div></div></figure><h1 id="039d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">使用</h1><ol class=""><li id="7374" class="lc ld hi is b it kw ix kx jb le jf lf jj lg jn lh li lj lk bi translated">这是一个NodeJS实现，你需要node(带npm) v12+。使用<code class="du ll lm ln lo b">node -v</code>检查您的版本。</li><li id="b8da" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">克隆或下载此存储库。</li><li id="fae2" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">运行<code class="du ll lm ln lo b">npm install</code>让它下载所有必要的依赖项。(如果失败，您可能需要安装C++构建工具)。</li><li id="f22f" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">我们使用WitAI作为免费的STT提供商。你需要在这里注册并创建一个应用程序<a class="ae kv" href="https://wit.ai/apps" rel="noopener ugc nofollow" target="_blank">https://wit.ai/apps</a></li><li id="8690" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">在“设置”下，您会找到您的“服务器访问令牌”。</li><li id="c7e7" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">将<code class="du ll lm ln lo b">config.sample.json</code>复制到<code class="du ll lm ln lo b">config.json</code>并进行编辑。</li><li id="8c56" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">您必须为<code class="du ll lm ln lo b">WITAPIKEY</code>提供一个值，这是您的“服务器访问令牌”。</li><li id="743c" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">使用<code class="du ll lm ln lo b">node index.js</code>启动Socket服务器。</li><li id="8d6d" class="lc ld hi is b it lp ix lq jb lr jf ls jj lt jn lh li lj lk bi translated">访问<a class="ae kv" href="http://localhost:8002/Spurwing/audio/" rel="noopener ugc nofollow" target="_blank">http://localhost:8002/spur wing/audio/</a>开始测试。</li></ol><p id="a3b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">*套接字服务器运行在端口<code class="du ll lm ln lo b">8002</code>上，您可以在<code class="du ll lm ln lo b">index.js</code>中更改该端口。</p><h1 id="2fa7" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">客户端实现</h1><p id="840e" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">下面的代码片段展示了如何将这个语音识别库添加到web应用程序中。</p><p id="4e4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在您的HTML的<code class="du ll lm ln lo b">&lt;head&gt;</code>中添加以下内容:</p><pre class="kn ko kp kq fd lu lo lv lw aw lx bi"><span id="97b1" class="ly jp hi lo b fi lz ma l mb mc">&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://spurwing.github.io/Speech-Recognition/public/VAD.js"&gt;&lt;/script&gt;     &lt;!-- Required: VAD algorithm --&gt;<br/>&lt;script src="https://spurwing.github.io/Speech-Recognition/public/audio.js"&gt;&lt;/script&gt;   &lt;!-- Required: Speech Recognition Library --&gt;</span><span id="3247" class="ly jp hi lo b fi md ma l mb mc">&lt;script src="demo.js"&gt;&lt;/script&gt;    &lt;!-- Your implementation --&gt;</span></pre><p id="9349" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<code class="du ll lm ln lo b">demo.js</code>里面你有:</p><pre class="kn ko kp kq fd lu lo lv lw aw lx bi"><span id="deaa" class="ly jp hi lo b fi lz ma l mb mc">const spa = new SpurwingAudio();</span><span id="e5f7" class="ly jp hi lo b fi md ma l mb mc">// on user click start mic:<br/>spa.init().then((stream) =&gt; { // ask user for microphone access<br/>    processStream(stream);<br/>}).catch((err) =&gt; {<br/>    alert("You must allow your microphone.");<br/>    console.log(error);<br/>});<br/>// on user click stop mic:<br/>// spa.end();</span><span id="6ac7" class="ly jp hi lo b fi md ma l mb mc">function processStream(stream) { // start Voice Activity Detection<br/>  spa.startVAD(<br/>      () =&gt; console.log('recording'), // function: on speech start<br/>      (buffer, duration) =&gt; {         // function: on speech end<br/>        socket.emit('stream', {buffer, id:0}) // send audio/speech fragment to server (optional custom id of fragment)<br/>      }<br/>  );<br/>}</span><span id="27ec" class="ly jp hi lo b fi md ma l mb mc">// create socket connection to server<br/>let socket = io('localhost:8002', { // server domain<br/>  path: "/Spurwing/audio/socket.io" // server endpoint<br/>});</span><span id="694e" class="ly jp hi lo b fi md ma l mb mc">// capture "text" event from server (containing data)<br/>socket.on('text', data =&gt; {<br/>    console.log(data) // do something with the transcribed audio text</span><span id="84c1" class="ly jp hi lo b fi md ma l mb mc">    // data structure: { raw: "hello", nlp: null, id: 0 }<br/>});</span></pre><h1 id="b914" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="6671" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">只需几行代码，这就为业务自动化、时间管理和许多其他领域带来了无数的可能性和机会。</p><p id="a770" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我很想知道你会用它来构建什么样的解决方案，请在下面的评论中告诉我们！:)</p><h1 id="460a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">关于我们</h1><p id="56e3" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">Spurwing为您的业务和项目提供企业级<a class="ae kv" href="https://www.spurwing.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">预约调度API </strong> </a>和日历管理解决方案。易于定制和轻松集成。由于我们的企业级预约调度API，我们为软件团队提供了时间管理解决方案。此外，我们正在建立一个完全免费和开源的市场，包含小工具，聊天机器人，仪表板和集成解决方案。</p><p id="ee2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更多项目请关注我们的博客和https://github.com/Spurwingio/<a class="ae kv" href="https://github.com/Spurwingio/" rel="noopener ugc nofollow" target="_blank">GitHub</a></p></div></div>    
</body>
</html>