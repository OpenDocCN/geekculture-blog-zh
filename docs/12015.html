<html>
<head>
<title>How to do practical data science research?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何做实用的数据科学研究？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-do-data-visualisation-for-your-data-science-research-a2d8b32bafdc?source=collection_archive---------17-----------------------#2022-04-20">https://medium.com/geekculture/how-to-do-data-visualisation-for-your-data-science-research-a2d8b32bafdc?source=collection_archive---------17-----------------------#2022-04-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="3f26" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">Python中的实用数据科学</h2><div class=""/><div class=""><h2 id="942f" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">将数据表示的原则和研究的基本制图技术放在一起</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es jg"><img src="../Images/d1849ab5bf877df92e2dbdf1ec7e9518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*y-vMvknfsExJGIyGyMlfrA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">image from seaborn.pydata.org</figcaption></figure><p id="6e65" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在之前的帖子中，我讨论了一些github教程。在这篇文章中，我将谈论一些数据科学的话题:如何在python中为你的数据集进行数据可视化。那么，我们开始吧。</p><p id="0b4b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在传统的数据科学研究中，它有3个步骤:1 .定义数据集和数据源，2。定义你想探索的研究问题；3。进行编码并产生结果，可选地以数据表示来证明您的结果。</p><ol class=""><li id="82f4" class="kp kq hi ju b jv jw jy jz kb kr kf ks kj kt kn ku kv kw kx bi translated"><em class="ky">数据集</em>:陈述你的数据集所涉及的地区和领域类别:</li></ol><p id="1434" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">例如，在我的例子中，我将研究香港的数据。这里的领域类别是房地产，我可以从许多数据集中选择。在本例中，数据集设置为(1)未偿还抵押贷款和(2)房地产价格指数。</p><p id="d033" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">2.<em class="ky">研究问题</em>:针对你所确定的领域类别和区域，撰写一份陈述。</p><p id="4a96" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">研究问题被定义为:<em class="ky">在过去的二十年中，未偿还的住房抵押贷款和房地产价格指数是如何变化的？</em></p><p id="3d2e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了更加客观，我们应该提供公共可访问数据集的源链接。这些链接可以是指向CSV或Excel文件等文件的链接，也可以是指向可能包含表格形式数据的网站的链接，如维基百科页面。以下是链接:</p><p id="b343" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">链接1 ( <em class="ky">私人住宅——按类别分类的价格指数</em>):<a class="ae ko" href="https://www.rvd.gov.hk/doc/en/statistics/his_data_4.xls" rel="noopener ugc nofollow" target="_blank">https://www.rvd.gov.hk/doc/en/statistics/his_data_4.xls</a></p><p id="10db" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">链接二(<em class="ky">住宅按揭调查结果</em>):<a class="ae ko" href="https://www.hkma.gov.hk/media/eng/doc/market-data-and-statistics/monthly-statistical-bulletin/T0307.xlsx" rel="noopener ugc nofollow" target="_blank">https://www . hkma . gov . hk/media/eng/doc/market-data-and-statistics/monthly-statistical-bulletin/t 0307 . xlsx</a></p><p id="7ad3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">3.<em class="ky">编码</em>:从这里开始，一切都准备好了，除了让你的手弄脏一些编码。我们将主要使用python和一些库，如pandas、matplotlib和numpy。编码过程包括三个部分:准备、数据处理和数据表示计划。</p><p id="0fe8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs"> (i) </strong> <em class="ky">准备</em>:看一下数据集，了解一下:a .数据看起来像什么，b .是否有丢失的数据或异常值c .是否需要清理数据。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kz"><img src="../Images/1ce4c149c6c80931821fe7d489b60957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*doqlwaPWdqGrNWaP02W-tA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Use Python pandas library to read excel data</figcaption></figure><p id="88c4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">(二)</strong> <em class="ky">数据处理</em>:首先将数据读入python中的Pandas Dataframe这样的变量中，</p><p id="c94b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我们以Link 1数据为例。例如，我们可以过滤掉页眉和页脚以及不相关的列和行，并使用pandas的一些内置支持在数据帧中只存储相关的数据</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="7d45" class="lj lk hi lf b fi ll lm l ln lo">df1sh1 = pd.read_excel(r’./T0307.xlsx’, “T3.7”, usecols=[0,1,3], skiprows=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,30,43,56,69], skipfooter=10)<br/>df1sh2 = pd.read_excel(r’./T0307.xlsx’, “T3.7 (old)” , usecols=[0,1,3], skiprows=62, skipfooter=4)<br/></span></pre><p id="683d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">重命名数据框架中的列:</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="9c28" class="lj lk hi lf b fi ll lm l ln lo">df1sh1.rename(columns={‘Unnamed: 0’:’Year’,’Unnamed: 1':’Month’,’(百萬港元)’:’Amount’}, inplace=True)<br/></span></pre><p id="8130" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">连接两个数据框架(源自2个源excel工作表等。)</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="0839" class="lj lk hi lf b fi ll lm l ln lo">df1 = pd.concat([df1sh2, df1sh1])</span></pre><p id="beda" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">其次，进行转换、分组等。<br/>对时间序列数据进行分组(如从月到年):</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="0963" class="lj lk hi lf b fi ll lm l ln lo">df1 = df1.groupby(‘Year’).agg({‘Amount’:sum}).reset_index()</span></pre><p id="8484" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">改变公制单位(例如从百万到十亿)</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="8ef4" class="lj lk hi lf b fi ll lm l ln lo">df1[‘Amount’] = df1[‘Amount’]/1000 #in billions</span></pre><p id="76c8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，我们应该对来自Link 2的另一个数据集应用相同的数据处理，我把它留给您作为练习。</p><p id="054e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs"> (iii) </strong> <em class="ky">想到如何表示数据</em>。作为一名数据科学家，我们应该努力展示相互关系，并从数据集中找出任何见解。谈到真实表示数据的原则，我推荐Alberto Cairo的作品。注意<a class="ae ko" href="https://faculty.ucmerced.edu/jvevea/classes/Spark/readings/Cairo2015_Chapter_GraphicsLiesMisleadingVisuals.pdf" rel="noopener ugc nofollow" target="_blank">图形谎言，误导性视觉效果</a>。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lp"><img src="../Images/9498a00317a2208358c18fcad0debcb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LdqVo1WI1Q2NnPhaaXXiWw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Use of Visualisation Wheel tool to plan you visuals</figcaption></figure><p id="a4e2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">Python中绘图的基本工具是Matplolib，而<a class="ae ko" href="https://matplotlib.org/stable/api/index" rel="noopener ugc nofollow" target="_blank">参考网站</a>在查找所需资源方面非常出色。<code class="du lq lr ls lf b">matplotlib</code>架构主要有三层。从上到下分别是<strong class="ju hs">脚本层</strong> ( <code class="du lq lr ls lf b">matplotlib.pyplot</code>模块)、<strong class="ju hs">美工层</strong> ( <code class="du lq lr ls lf b">matplotlib.artist</code>模块)、和<strong class="ju hs">后端层</strong> ( <code class="du lq lr ls lf b">matplotlib.backend_bases</code>模块)。我们将主要使用顶层脚本层进行基本绘图:</p><p id="1531" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">绘制条形图，并在轴上设置一些刻度和标签:</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="8291" class="lj lk hi lf b fi ll lm l ln lo">bars = plt.bar(year, outstandings, align=’center’, linewidth=0, width = 0.5, color=’black’)</span><span id="e60f" class="lj lk hi lf b fi lt lm l ln lo">plt.xticks(year)<br/>plt.xlabel(‘Year’)<br/>plt.ylabel(‘Total Loans Outstanding (in $ Billions)’, color = ‘green’)</span></pre><p id="ac15" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我们有时会在中间的艺术家层上编码来做一些定制，比如:将标签旋转45度:</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="1231" class="lj lk hi lf b fi ll lm l ln lo">ax1.set_xticklabels(ax1.get_xticks(), rotation = 45)</span></pre><p id="84f6" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">并将一些轴设置为不可见:</p><pre class="jh ji jj jk fd le lf lg lh aw li bi"><span id="2552" class="lj lk hi lf b fi ll lm l ln lo">ax1.spines[‘top’].set_visible(False)<br/>ax1.spines[‘left’].set_visible(False)</span></pre><p id="ec6e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，我们可以对提出的研究问题进行自己的工作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lu"><img src="../Images/3d9247abc53eac3493303081d7185f3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_slFRrNG2NAy4txBmNw9sw.png"/></div></div></figure><p id="07c3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">总之，这篇文章讨论了为数据科学研究创建数据表示一般方法。我希望你能学到一些东西，感谢你支持我的文章。如果我以后有时间，我会发表更多关于其他数据科学主题的文章，如其他基本图表，如热图、箱线图或机器学习主题等。</p></div></div>    
</body>
</html>