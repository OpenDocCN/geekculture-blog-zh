# 防御勒索软件攻击

> 原文：<https://medium.com/geekculture/defending-against-ransomware-attacks-62443004027?source=collection_archive---------30----------------------->

![](img/5f28b20b2be06dfdfc73e7685e5810bb.png)

Photo by [benjamin lehman](https://unsplash.com/@benjaminlehman?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

前段时间，我接到一个朋友的电话。他给了我一份工作:他认识的一家公司的首席执行官遭到了黑客攻击。那是一家会计公司。他们所有客户的电子表格都被加密了。一个勒索软件又来了。

那是一个星期四，员工亚历克斯在用办公室唯一的磁盘备份系统时打开了一封钓鱼邮件。这尤其糟糕，因为这实际上是他们唯一的备份磁盘。勒索病毒在全网传播，加密了所有的电脑，没有杀毒，没有防火墙，一年多没有更新。一枪就把他们全打死了。

我的朋友想让我去那里，在不向当局报告的情况下解密文件，得到一些现金，然后保持冷静。故事中最荒谬的部分是，打电话给我的朋友很沮丧，因为她孩子的照片在加密的电脑上，而她没有备份。我热爱我的工作，我知道事情应该怎么做，所以我拒绝了这份工作。但我学到了重要的一课:建立防线，并为此做好准备。

# 防线

一旦您设置好环境并开始使用它，每个步骤都可能导致勒索软件。这听起来可能令人担忧，但勒索软件攻击在不断发展，而且不会停止。[统计数据显示](https://www.justice.gov/criminal-ccips/file/872771/download#:~:text=On%20average%2C%20more%20than%204%2C000,risk%20posed%20to%20your%20organization.)在过去几年中，勒索软件攻击增加了 300%,平均每天发生 4000 多起攻击。仔细想想，这是一个巨大的数字！避免成为目标的唯一方法就是做好准备！

一个好的起点是更新你系统上的所有东西。更新可能会非常烦人，尤其是当更新超过 10 分钟时。这时，它们会使您的连接变慢或破坏您的系统依赖性，您必须找出如何让一切恢复正常。

前一段时间，我被聘为顾问，检查一家公司的安全性并记录日志。我不需要发动攻击。他们把我带到他们的办公室，给我看了他们所有的东西，让我用笔记本电脑做我的事情。第一个对我大喊网络不安全的是一台旧电脑，它仍然连在装有 Windows XP 的网络上。

对该公司来说，这台电脑仍然是值得的，因为他们有一个为他们设计的只能在 Windows XP 上运行的商业软件的许可证。但是那个软件没有更新，完全死了，因为维护它的软件公司关门了。即使软件不安全，新软件的成本对公司来说也是不值得的。

我没有详细分析该软件，但我注意到它在网络上有一些“挂钩”,让一些 CSV 通过他进出。听起来不安全吗？

一旦您的设置更新并准备好使用，您应该有一个防病毒和/或防火墙供您日常使用。至少，您应该对您的系统进行定期扫描，以检查您是否准备就绪。你可以得到一个“完整的工具包”，即所谓的一劳永逸的解决方案，就像[卡巴斯基安全](https://www.kaspersky.it/)。如果你不想想太多，这些解决方案总是一个很好的起点。

您安装了解决方案，然后就可以使用您的系统了。他们将提供几乎所有的东西——从防火墙到持续监控——并且他们通常提供一些很酷的东西，比如用于安全支付的浏览器沙箱。

如果你是一个更加*高级的*用户，你可以为不同的东西选择不同的软件，并将它们组合起来。如果你使用的是 Linux 发行版，你可以使用其他软件组合，比如 Maldet 来检测恶意软件，rkhunter 来保护 rootkit，fail2ban 来检测奇怪的行为。例如，您可以设置一个 [CronJob](https://www.ionos.com/digitalguide/hosting/technical-matters/cronjob/) 每天为您执行一次扫描，如下所示:

![](img/7243afefd4e038d3df77c9a0f4581d62.png)

[Source](https://carbon.now.sh/?bg=rgba%28171%2C+184%2C+195%2C+1%29&t=night-owl&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=false&code=%2523%21%252Fbin%252Fbash%250A%250Aname%253D%2522my_cron%2522%250Apath%253D%2522%2524%28%2520cd%2520%2522%2524%28dirname%2520%2522%25240%2522%29%2522%2520%253B%2520pwd%2520-P%2520%29%2522%250A%250Ascandir%253D%252F%250Alog%253D%252Fvar%252Flog%252Fcron%252F%2524name.log%250A%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522%255B%2524%28date%2520%27%252B%2525D%2520%2525T%27%29%255D%2520%2524name%2522%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520maldet%2520-u%250A%2520%2520%2520%2520%2520%2520%2520%2520maldet%2520-b%2520-r%2520%2524scandir%25202%2520-x%2520%2522%255E%252Fsys%257C%255E%252Fdev%257C%255E%252Fproc%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520rkhunter%2520--cronjob%2520--update%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%250A%257D%2520%2526%253E%253E%2520%2524log%250A%250Aexit)

当组合软件时，记住配置是关键。如果您使用多个软件，可能会因冲突而出现问题。

接下来，当您的整个架构建立起来后，您需要一个测试框架来执行分析，并检查您是否为互联网做好了准备。例如，许多勒索软件来自网络钓鱼电子邮件。我最近收到一封电子邮件，发件人似乎是一家前客户公司。主题是“Test ”,它有一个加密的附件，其密码以明文形式在邮件正文中发送。

我知道这家公司，所以这封邮件有可能是来自这家公司的真实邮件。但作为一名 IT 专业人士，我必须首先检查邮件的来源。我开始读它，于是许多警钟开始在我周围响起。但是好奇心永远不会停止。于是，我弄了个沙箱，把 zip 解压，里面有个 doc 文件。电子邮件中的 doc 文件尖叫不安全的电子邮件！

以下是来自 [VirusTotal](https://www.virustotal.com/gui/file/866463dcf0040e959bf8a803acc946f9f729d93fa1af8ad23ffe75bf25f9d10e?nocache=1) 的文件扫描，供您参考:

![](img/182ec6b7206ba4339fb6f823a7c30bf4.png)

VirusTotal Scan

所以我很高兴没有打开邮件。一些公司可能会使用这种电子邮件作为测试。但并不是所有的公司都能处理好准备带有虚假附件的电子邮件来测试某人。

如果您觉得自己已经准备好应对攻击，您可以使用类似于 [Cymulate](https://cymulate.com/) 的工具来测试自己是否能够抵御勒索软件的攻击。Cymulate 可以作为守护程序安装在您公司的目标计算机上，您可以从目标设备上的仪表板模拟攻击，以检查它们的安全性。

它最大的特点是你可以自动化你的攻击，并在整个架构的多个层次上进行测试，目标是防火墙或单台计算机。这样你可以检查你的系统有多脆弱。

事实是，你的系统有多强，它就有多弱。如果您的防火墙易受攻击，它就可能被利用来打开您网络的后门。那么攻击者可以简单地尝试不同的攻击媒介，直到达到最终目标。

使用 Cymulate，你可以非常容易地测试你的整个架构，一个接一个地计划攻击。此外，测试结果以详细报告的形式提供，告诉您您的设备如何响应攻击。一旦你知道你的弱点在哪里，你就可以修复一切，然后再做一次，直到你对网络上运行的东西有信心为止。

# 永远要聪明💀

勒索软件可能来自任何地方，友好的电子邮件，好看的网站，甚至是从朋友的 USB 驱动器复制文件。如前所述，记得更新您的系统，积极监控您的平台，测试可能的攻击媒介，并备份您的数据。记住，如果你思维敏捷，对周围发生的事情多一点怀疑，你就能躲过一些大子弹！