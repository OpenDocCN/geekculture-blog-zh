# 系统设计-I

> 原文：<https://medium.com/geekculture/system-design-i-cd3ad3a4c852?source=collection_archive---------20----------------------->

系统是一组组合在一起的组件，用来满足不同类型的用户及其需求。设计是选择服务/组件等的过程。设计一个系统通常基于用户群、产品类型等。例如，脸书、Viber 等大型系统具有巨大的扩展能力。它们旨在以最小的努力和最大的客户满意度大幅扩展。设计一个系统的直觉来自经验，但是从某个地方开始，所以系统的基本组件通常是实体。它们是构成系统的有形的东西。一般来说，实体有两种类型

1.逻辑实体

2.有形实体

逻辑实体由数据库、应用程序、通信协议(tcp/udp 等)、https 请求(如 REST、Soup)组成。所有这些组件都运行在一个系统或平台上，实际上都符合系统要求。确切地说，像缓存、消息队列、基础设施等等。

![](img/660bd30a69df4c3f04adb85de3835512.png)

Photo by [Kelly Sikkema](https://unsplash.com/@kellysikkema?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

有形实体是那些为逻辑实体提供实体的实体。它们是满足上述要求的软件/数据库等。例如:- Redis，mysql，RabbitMq，API 等。

系统是一个完整的功能结构，由复杂的东西组成，如数据库、服务器、环境、代理等。比。深入研究这些概念，一个系统包括:-

**客户端-服务器架构:** —顾名思义，客户端和服务器是任何系统的两个部分。客户端负责创建请求等，而服务器负责处理。这两者共同构成了一个功能齐全的应用程序。然而，重要的是要注意两个术语

瘦客户机:-在服务器端进行大量**处理的客户机或系统称为瘦客户机。例如网飞**

胖客户端:-在客户端进行大量**处理的客户端或者系统称为瘦客户端。例如，Outlook、Gmail 等**

根据需求，客户端服务器架构可以有多种类型，其中一种就是 **N 层架构。**当系统中的数据量很大，服务器不可能做所有的事情时，通常使用 N 层架构。客户端-服务器架构被分成多个部分，并且处理单元/逻辑单元被组织成处理大量数据。

**代理:** -代理基本上是一个代表客户端与服务器对话的系统/机器，反之亦然。通常用于减少 b/w 客户端和服务器之间的通信量。代理可以有两种类型:-

***转发代理:-* 这些代理由*客户端用来与服务器*通信。所有 b/w 客户端和服务器的流量都将首先从代理服务器通过，然后到达服务器。这通常是*阻止客户端访问某些网站，为客户端形成防火墙，因为访问服务器，流量监视器等*。**

*****反向代理****:****-*在这里，代理坐镇服务器，充当服务器的中间人。客户端不知道服务器的 IP 地址。客户端的任何请求都通过代理，然后到达服务器。类似地，任何响应首先到达服务器。这在负载平衡、减少 DDos 攻击等情况下非常有用。如果反向代理失败，它会成为一个瓶颈。怎么会？服务器将直接暴露给客户端，因此容易受到网络攻击等。****

******数据和数据流** : —数据是流经系统的信息。这是一个非常著名的术语，但重要的是理解什么类型的数据流经什么类型的层或应用程序。例如:-在 Tcp/Udp 数据包流等。进一步了解储存设施的类型也很重要。例如:-频繁的请求/响应应该存储在缓存等。还需要考虑设备的数据流。此外，安全性、类型、数据量等存储策略也应该成为系统设计的考虑因素。****

******应用程序/服务** : —跳过明显的术语基础，应用程序的开发主要需要考虑以下几点****

****五*应用的要求*。建造一个购物中心****

****v *交互层*即 webapp、android app 等。****

****v *基于交互层的技术栈*，例如:- android 是 java/kotlin 等****

****五*代码结构/设计模式*****

****v *关于数据存储交互*的考虑，即通信 b/w 客户端和数据库****

*****五性能和成本*****

*****v 部署*****

*****v 监控和记录*****

*****v 可靠性*****

******缓存:** -缓存是将数据临时存储在称为缓存的内存存储中的过程。当一个用户或一组用户频繁访问数据时，通常会进行缓存。此外，缓存降低了数据库访问和代数/其他计算方面的内存成本。缓存也经历缓存验证和无效的过程。****

****现实系统中的缓存遵循一定的模式来优化其性能。缓存备用策略就是这样一种方法，其中缓存只与服务器或客户端通信，与存储或数据库无关。****

****第二种策略是直通式缓存。这里缓存了黑白服务器和数据库。*服务器只能联系缓存，而不能联系数据库*。从[这里的](https://dzone.com/articles/introducing-amp-assimilating-caching-quick-read-fo)可以知道很多这样的图案。****

******缩放** :-假设我们有一家餐厅，最大容量为 10 人。在旺季或节假日，餐厅的人可能会增加两倍或三倍。在这种情况下，餐馆老板需要增加他的容量来满足新的请求。这种*根据需求增加电流容量的过程称为缩放*。****

****为了扩大规模，他可以做两件事，一是增加每张桌子的椅子数量，二是增加桌子数量，或者两者兼而有之。第一种称为垂直缩放，第二种称为水平缩放。从技术上讲，当我们增加现有*资源*的当前容量时，会发生垂直扩展；当我们增加资源总数时，会发生水平扩展。****

****根据需要，缩放可以是水平的，也可以是垂直的。两者之间存在许多技术差异，但一般来说，如果可以通过利用现有资源来处理需求，或者资源能够保持规模，则垂直扩展会更好。在上述情况失败或需求更多的情况下，水平扩展更好。成本、灵活性和性能始终是决定这些事情的因素。更多细节，你可以在这里跳到[。](https://www.section.io/blog/scaling-horizontally-vs-vertically/)****

****以上是一些基本的东西，如果你打算学习系统设计，知道这些东西是很有必要和非常有用的。尽管除了以上所述，还有三个术语可能有助于了解。首先是 ***负载平衡*** ，我们将一台服务器的负载分配给其他子服务器。第二个是 ***消息队列*** 。消息队列基本上是用于将数据包从一个微服务/服务器传送到另一个微服务/服务器的载体。除了消息传递之外，它们还可以对从一个服务器到另一个服务器的请求进行排队，还可以帮助检测服务故障/中断或服务延迟等。第三个是****发布/订阅模型*** ，通常称为发布者和订阅者模型。发布/订阅模型主要用于微服务的情况，在这种情况下，我们可以订阅客户端来监听服务器，以防它发布任何响应。*****

*****当然，可能还需要许多其他组件/东西，但它们可以在我们学习过程中通过了解事物和术语来学习。*****

*******感谢阅读！希望您喜欢这篇文章，并期待本文的第 2 部分，在那里我们将讨论现有系统的系统设计。*******

*****此外，订阅我的网页，让我的文章直接到你的邮箱..:)*****