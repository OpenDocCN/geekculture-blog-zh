<html>
<head>
<title>React Email validation with Dialog Overlay</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用对话框覆盖反应电子邮件验证</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/react-email-validation-with-dialog-overlay-472ee564d585?source=collection_archive---------13-----------------------#2021-05-29">https://medium.com/geekculture/react-email-validation-with-dialog-overlay-472ee564d585?source=collection_archive---------13-----------------------#2021-05-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5a2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">—电子邮件验证有时令人头疼，🧊</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/01b5970e29664999a4c82c8a9c740768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*wzv6S1upeqd4pmWMXBHDAQ.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">No pain no gain — 一分耕耘，一分收获</figcaption></figure><p id="8a46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我总是觉得表单验证是一件令人头痛的事情，但在现实世界中它总是需要的，在我最近的一个项目中，我创建了<strong class="ih hj">两个</strong>覆盖图(一个<strong class="ih hj">电子邮件输入覆盖图</strong>，用户可以输入电子邮件地址，并在提交后得到一个<strong class="ih hj">确认覆盖图</strong>)。</p><p id="4c56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了简单起见，让我们先看一下<strong class="ih hj">电子邮件输入覆盖图</strong>，它是通过点击页面上的一个按钮显示的(我使用的是<a class="ae jp" href="https://reakit.io/docs/get-started/" rel="noopener ugc nofollow" target="_blank"> reakit </a>，它是我最喜欢的UI库之一)📖</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/b8af00e15ce2e5130a3d2b290f35cb8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Go4V-tfA-xtg7IcceAjXTQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">email enter overlay</figcaption></figure><p id="f39e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jv"> ✂️ Reakit是一个低级组件库，用于构建可访问的高级UI库，使用React设计系统和应用程序。</em></p></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="fef2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个简单的电子邮件验证，它验证了用户“输入<strong class="ih hj">无</strong>”、“输入<strong class="ih hj">无效</strong>电子邮件”或“<strong class="ih hj">不</strong> <strong class="ih hj">接受</strong>服务”三种不同的情况。</p><p id="a803" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jv">上面的截图还包含其他部分，如</em> <strong class="ih hj"> <em class="jv">标题</em> </strong> <em class="jv">，</em> <strong class="ih hj"> <em class="jv">一些背景颜色为灰色的列表</em> </strong> <em class="jv"> …但它们不在本文的讨论范围之内，让我们关注一下输入字段</em>🍎</p></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="db63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步</strong>:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kd"><img src="../Images/1452340e79463870818c03d3c465bb1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*hv_t8aJLIjTZMgrfS6ufVg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">import some needed components …</figcaption></figure><p id="4275" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步</strong>:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ke"><img src="../Images/e181c8e0b74e4ae1a6caf8d86250e499.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*Rg56T3QUWtXESQe2XpW3Cg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">state variables needed</figcaption></figure><p id="7214" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步</strong>:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kf"><img src="../Images/20924e407953c014323546a030d927aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*5UOcd4X6Kv3VgTm020ilFg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">set input value, for example “<strong class="bd kg">label</strong>” should be “Your email adress” corresponding to the <strong class="bd kg">email enter overlay</strong> above, other attributes are omitted here</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kh"><img src="../Images/95176c181afd29261d833a7c4b5300da.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*XmAWd5KfOHT5PacbOyQFAw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">set checkbox value</figcaption></figure><p id="6307" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es ki"><img src="../Images/c401a17ffbb935c8fb0c66c33100f2b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A6XTJl5rZvOxh_9ccYRI4w.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">this function returns boolean weather the email input is valid or not</figcaption></figure><p id="adeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">🎲上面的函数显示:</p><p id="c5ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，为电子邮件创建<strong class="ih hj">正则表达式</strong> <strong class="ih hj">模式</strong>:</p><ul class=""><li id="2e1a" class="kj kk hi ih b ii ij im in iq kl iu km iy kn jc ko kp kq kr bi translated">如果用户什么都不输入，点击红色的提交按钮(<strong class="ih hj">通知我</strong>)，应该会显示一条错误消息:👇</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es ks"><img src="../Images/7b852abab668bf29d0043460cc2f903e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LUrXV0wn_ano_4iuLQqkvQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">submit with empty email</figcaption></figure><ul class=""><li id="d8ce" class="kj kk hi ih b ii ij im in iq kl iu km iy kn jc ko kp kq kr bi translated">如果用户输入一个无效的电子邮件地址，其他消息应该出现👇</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kt"><img src="../Images/376dc1b32fd1ee2466debc41ca7c8e1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5v9qUjTuedqv3L-Lb-tl2Q.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">submit with invalid email address</figcaption></figure><ul class=""><li id="b28f" class="kj kk hi ih b ii ij im in iq kl iu km iy kn jc ko kp kq kr bi translated">如果用户输入了有效的电子邮件地址，但没有点击接受服务的复选框👇</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es ku"><img src="../Images/327a23dec78b89624cb3adeec6f14e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IAUF1FAlIzcmTLG_xLHXTw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">submit with valid email address without accept service</figcaption></figure><p id="c3b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将通过下面的按钮<strong class="ih hj">点击</strong>事件来使用该验证功能🌈</p></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="5649" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第五步(最终):</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kv"><img src="../Images/019c66bc61c1824bbbbf554737e2fd20.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*X21gN8HX2hQiKxKZyWLg5Q.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">button click event</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kw"><img src="../Images/779d6a840457c757a23c7d70a944aeb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Kwm1MFQFAs-9jVLsajCkw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx"><strong class="bd kg">confirm overlay</strong> using reakit Dialog, please ignore the &lt;div&gt;s that may cause syntax errors and some component attributes, screenshot above is only a part of this component</figcaption></figure><p id="108a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码显示:</p><p id="50f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用户点击提交按钮，<strong class="ih hj"> emailValidation </strong>功能将被激活(<strong class="ih hj"> handleSubmit </strong>)，它检查邮件是否有效:</p><ul class=""><li id="397a" class="kj kk hi ih b ii ij im in iq kl iu km iy kn jc ko kp kq kr bi translated">如果无效，则出现上述3个错误(<strong class="ih hj">步骤4 </strong>)</li><li id="b877" class="kj kk hi ih b ii kx im ky iq kz iu la iy lb jc ko kp kq kr bi translated">如果它是有效的，那么不显示任何错误消息</li><li id="b602" class="kj kk hi ih b ii kx im ky iq kz iu la iy lb jc ko kp kq kr bi translated">如果有效且没有错误信息，打开<strong class="ih hj">确认覆盖</strong>(在本例中为<strong class="ih hj">&lt;notify confirm/&gt;</strong>组件👇</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/11c78f8ff86084d21cab8c854a768d1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14VWF1cxchvyfveY46LBJQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx"><strong class="bd kg">confirm overlay</strong> after success email validation</figcaption></figure></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="973e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！🧤</p><p id="f39f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上是简单的邮件验证，希望对你有意思，有用。如果你对我的其他文章感兴趣，这里有一些链接:</p><p id="da2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://xiaominzhu.medium.com/find-the-nearest-location-in-a-react-way-9ed51a999807" rel="noopener">以反应方式找到最近的位置</a></p><p id="d0e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://xiaominzhu.medium.com/from-music-to-web-development-my-junior-path-7421e0ddd65" rel="noopener">从音乐到网络开发</a></p><p id="54b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://xiaominzhu.medium.com/5-react-hook-libraries-you-could-use-d7f13066ebba" rel="noopener">你可以使用的5个React钩子库</a></p><p id="ae55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://xiaominzhu.medium.com/learn-by-doing-use-gatsby-to-create-your-first-site-af7bfb7a8a6f" rel="noopener">边做边学——使用盖茨比</a></p><p id="08b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://xiaominzhu.medium.com/sourcing-json-data-with-gatsby-source-filesystem-and-graphql-6fc7cef2a49e" rel="noopener">用Gatsby获取JSON数据——源文件系统和GraphQL </a></p><p id="3f0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你看我的文章！🙏</p></div></div>    
</body>
</html>