<html>
<head>
<title>NoSQL Database Handling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NoSQL数据库处理</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/nosql-database-handling-349176dc7be7?source=collection_archive---------57-----------------------#2021-06-14">https://medium.com/geekculture/nosql-database-handling-349176dc7be7?source=collection_archive---------57-----------------------#2021-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b303" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">处理MongoDB的Pythonic方式</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/4bb5c5229fedd53d888abb0d6420cdfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ce0gUe0LbnhL7ebnDGTp5w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Obviously, from the <a class="ae jt" href="http://mongodb.com" rel="noopener ugc nofollow" target="_blank">mongodb.com</a></figcaption></figure><p id="43e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SQL数据库，如MySQL、Oracle等。每个表遵循一个固定的模式。架构指的是列的数量和输入到列中的数据类型。Schema用SQL数据库表示表的结构。这种方法的问题是，如果我们想突然增加列的数量，我们需要用新的结构创建一个全新的表。使用SQL处理临时的大量数据不是很有效。</p><p id="b851" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是NoSQL(不仅仅是SQL)数据库发挥作用的地方。这里的模式不是一个固定的实体。我们可以轻松地缩放数据。Python提供了直接处理NoSQL数据库的工具。在本文中，我们将讨论Python和NoSQL数据库MongoDB之间连接的建立。</p><p id="e1ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ineruon.ai 发表了一篇非常有帮助的<a class="ae jt" href="https://github.com/arvindhhp/PyDB/blob/main/Ancillary_Files/MongoDB_Atlas.ipynb" rel="noopener ugc nofollow" target="_blank">文章</a>来建立名为ATLAS的云版本的MongDB。在本文中，我们使用的是MongoDB ATLAS的免费版本。</p><p id="3ca6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有的代码片段及其输出都可以从@ <a class="ae jt" href="https://github.com/arvindhhp/PyDB/blob/main/Part_002_MongoDB_Python_Connection.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>获得。</p><h1 id="4c7e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在Python和MongoDB之间建立连接</h1><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div><figcaption class="jp jq et er es jr js bd b be z dx">MongoDB ATLAS Connector for Python (pymongo)</figcaption></figure><h1 id="5378" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在MongoDB中创建数据库和集合</h1><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="d351" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">只是暂时的观察</h1><p id="a19f" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">与MySQL不同，不会创建空集合。见下图。集合仅在输入记录时可见。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kz"><img src="../Images/1db6b435c0e7da9d8fe7165473528012.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*VFsZXmS1659Ux-EKdHEiiw.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Empty Cluster (even after adding a databse)</figcaption></figure><h1 id="860d" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">将记录插入集合</h1><p id="5290" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">输入以键值对的形式提供。我们称之为JSON (Java Script Object Notation ),但是现在，让我们把它看作一个字典。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="d7ef" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">唯一ID</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/fcc7c7833046ce1028d8fa7b65cee648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*Ee6e-Zj8QQkcmDxlvZfNfg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Auto created Unique ObjectIDs</figcaption></figure><blockquote class="lb lc ld"><p id="6628" class="if ig le ih b ii ij ik il im in io ip lf ir is it lg iv iw ix lh iz ja jb jc hb bi translated">现在，在MongoDB ATLAS的实际数据库中，所有记录都是可见的。为了简单起见，只展示一个。</p><p id="bf70" class="if ig le ih b ii ij ik il im in io ip lf ir is it lg iv iw ix lh iz ja jb jc hb bi translated">_id会自动创建。这对于每个记录都是唯一的。然而，这可以手动超越。但是在一个集合中，用户必须确保所有的记录都有唯一的id</p></blockquote><h1 id="d2aa" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">覆盖唯一标识</h1><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Overriding Object IDs</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es li"><img src="../Images/09eab56bc05fe441831cffa006c01a73.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*blK6b5wlfnmWZMpQNQU85Q.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">User defined _id in MongoDB\</figcaption></figure><h1 id="1a30" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">从MongoDB提取数据</h1><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Data extraction from MongoDB using filters in Queries</figcaption></figure><h1 id="4094" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">更新MongoDB中的数据</h1><p id="6ee3" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">这可以通过向update_many(old_dict，new_dict)传递两个字典来实现</p><p id="8ad3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该函数查找与查询匹配的第一个文档(记录),并用定义文档新值的对象更新它，即基于过滤器更新集合中的单个记录。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lj"><img src="../Images/7a240837321c4ceae62a5b65e6c5cbb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*BaSPMOtDMMCVVR5rCXZq5Q.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Updated data is now appended to the Collection’s Record</figcaption></figure><h2 id="682c" class="lk jv hi bd jw ll lm ln ka lo lp lq ke iq lr ls ki iu lt lu km iy lv lw kq lx bi translated">请注意在id为1的集合中更新的新数据</h2><h1 id="5a92" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">从集合中删除记录(文档)</h1><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="5c69" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">删除完整的集合</h1><p id="16a2" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">我们还有一个现成的选项，可以从数据库中删除完整的集合。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="0994" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在删除前，数据库再次包含两个集合Cars和Cars _</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ly"><img src="../Images/fc5d1cb1f3a7f9182d57fdf6baa5d9e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*M4B3QySepdju6O6uuUNbpg.png"/></div></figure><h1 id="a786" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">只有1辆收集汽车的数据库_丢弃后再次</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lz"><img src="../Images/1894b1b0d20952ab96967ac50889f8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*wwJC3ugCtgIFhwZWT_bExQ.png"/></div></figure><blockquote class="lb lc ld"><p id="0007" class="if ig le ih b ii ij ik il im in io ip lf ir is it lg iv iw ix lh iz ja jb jc hb bi translated">所以，欢迎来到NoSQL数据库的世界</p><p id="44e6" class="if ig le ih b ii ij ik il im in io ip lf ir is it lg iv iw ix lh iz ja jb jc hb bi translated">结束。</p><p id="0bc6" class="if ig le ih b ii ij ik il im in io ip lf ir is it lg iv iw ix lh iz ja jb jc hb bi translated">代码可从@ <a class="ae jt" href="https://github.com/arvindhhp/PyDB/blob/main/Part_002_MongoDB_Python_Connection.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>获得。请务必在<a class="ae jt" href="https://www.linkedin.com/in/arvindhhp/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上联系我了解更多信息。</p></blockquote></div></div>    
</body>
</html>