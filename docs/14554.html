<html>
<head>
<title>GraphQL in 5 Mins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL在5分钟内</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/graphql-app-in-5-mins-69700ce11a3c?source=collection_archive---------14-----------------------#2022-09-08">https://medium.com/geekculture/graphql-app-in-5-mins-69700ce11a3c?source=collection_archive---------14-----------------------#2022-09-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9200" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解GraphQL，只需5分钟即可构建支持GraphQL的应用</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/5a0fcb60e1bc7a53c0591ac28fa8d983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CJwjbwSxnfO8IPLm.png"/></div></div></figure><p id="29c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着正在开发的软件解决方案越来越复杂，软件工程师正在为这些系统之间的通信开发越来越有效和聪明的解决方案。GraphQL就是这样一个解决方案，由脸书的工程师开发，并于2015年向公众发布，以消除传统Rest架构的各种弱点。</p><p id="1142" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将学习创建一个简单的GraphQL应用程序，它可以帮助您实际操作GraphQL，或者如果您想使用graphql构建一个新的应用程序，这可能是您的解决方案的一个良好起点。</p><h1 id="1e6f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">GraphQL简介？</h1><p id="9523" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">GraphQL代表图形查询语言，与传统的查询语言不同，图形不直接与数据库交互。但是GraphQL定义了客户机与API服务器交互的契约。简而言之，GraphQL是API的查询语言，也是使用为数据定义的类型系统执行查询的服务器端运行时。GraphQL不依赖于任何特定的数据库或存储引擎，而是由您现有的代码和数据提供支持。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="6d84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在简单介绍了graphql之后，让我们进入本文的主题构建graphql应用程序。对于这个应用程序，我们将使用Kotlin的Springboot应用程序。我们可以使用各种各样的graphql依赖项。但是我们将关注Expedia的graphql库，它是基于graphql-java构建的，在我看来，它是可以用来创建graphql应用程序的最好的库之一。Expedia库的主要优点是，它允许您专注于编写逻辑，抽象出所有手动创建graphql模式的手动任务。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="7cf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始这些步骤之前，我建议你下载<strong class="ih hj"> JDK 11+ </strong>和<strong class="ih hj">阿帕奇maven </strong>作为应用的先决条件。</p><h1 id="6cbe" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">GraphQL应用程序的步骤</h1><h2 id="ed54" class="kz jq hi bd jr la lb lc jv ld le lf jz iq lg lh kd iu li lj kh iy lk ll kl lm bi translated">第一步:</h2><p id="857a" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">使用<a class="ae ln" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"> spring initializer </a>下载应用。对于这个应用程序，我们将使用Spring Reactive Web，因为graphql-kotlin-spring-server库在Spring Reactive Web上工作。其他需要选择的选项，可以参考下面的截图。在提供了所有选项之后，只需点击generate按钮，就可以准备好自己的spring boot应用程序进行进一步的开发了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/b6042375071792731f5004bdb87529ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvCwGsA5OcT8fMFM_eFYCQ.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx">Spring Initializer</figcaption></figure><h2 id="d315" class="kz jq hi bd jr la lb lc jv ld le lf jz iq lg lh kd iu li lj kh iy lk ll kl lm bi translated">第二步:</h2><p id="e060" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">使用spring initializer下载应用程序后，下一步是在IDE中导入相同的内容。在第一次导入时，可能需要一些时间来下载项目的所有依赖项。下载完所有的依赖项后，您可以通过运行主类来尝试运行应用程序，在我们的示例中，它将是MyFirstGraphQLAppApplication.kt。应用程序应该能够运行应用程序而不会出现任何错误。它将启动一个netty服务器，这是Spring Reactive Web的内置服务器。</p><h2 id="6884" class="kz jq hi bd jr la lb lc jv ld le lf jz iq lg lh kd iu li lj kh iy lk ll kl lm bi translated">第三步:</h2><p id="290f" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">因为下一步是添加graph QL-kot Lin-spring-server in-app。将以下依赖项添加到pom.xml文件中。添加完依赖项后，只需在终端中运行<strong class="ih hj"> mvn install </strong>即可下载依赖项。这里我们使用6.0.0版本的依赖项，但是您可以使用阅读本文时可用的任何最新版本。</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="86a5" class="kz jq hi lu b fi ly lz l ma mb">&lt;dependency&gt;<br/>   &lt;groupId&gt;com.expediagroup&lt;/groupId&gt;<br/>   &lt;artifactId&gt;graphql-kotlin-spring-server&lt;/artifactId&gt;<br/>   &lt;version&gt;6.0.0&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><h2 id="5093" class="kz jq hi bd jr la lb lc jv ld le lf jz iq lg lh kd iu li lj kh iy lk ll kl lm bi translated">第四步:</h2><p id="bae5" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">现在我们已经准备好编写第一个graphQL查询了。在开始查询之前，让我们为查询创建一个单独的文件夹和文件。新建一个文件夹，文件<strong class="ih hj">查询&gt; SampleQueries.kt </strong>。下一步，将以下代码添加到SampleQueries.kt文件中。</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="7b2f" class="kz jq hi lu b fi ly lz l ma mb">import com.expediagroup.graphql.server.operations.Query<br/>import org.springframework.stereotype.Component<br/><br/>@Component<br/>class SampleQueries: Query {</span><span id="115b" class="kz jq hi lu b fi mc lz l ma mb">    @GraphQLDescription("My first query")<br/>    fun myFirstGraphQLQuery():String{<br/>        return "This is my first graphql query.";<br/>    }<br/><br/>}</span></pre><p id="1f36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码包含一个简单的函数，它将返回一个简单的字符串。但是，如果您尝试按原样运行代码，您将会得到一个由于缺少包而导致的错误，要解决这个问题，请向application.property添加以下属性。这是kotlin graphql库的<strong class="ih hj">所需的</strong>。</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="8b16" class="kz jq hi lu b fi ly lz l ma mb">graphql.packages=com.example.myFirstGraphQLApp.queries</span></pre><p id="4202" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在上述更改后再次尝试运行该应用。它应该运行良好，没有任何错误。当您的应用程序运行良好后，您可以在graphql playground中尝试查询，对此您需要做些什么？没什么。Kotlin graphql库带有内置的Prisma labs playground，可以在这里访问<a class="ae ln" href="http://localhost:8080/playground" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="0ba9" class="kz jq hi lu b fi ly lz l ma mb">{<br/>  myFirstGraphQLQuery<br/>}</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/e06c2d2911a683397efd78e805dd819f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XhPf3KE0aZZAR9BvIaL-gg.png"/></div></div></figure><p id="f4c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">它是如何工作的？Expedia GraphQL库将扫描包中的查询文件。对于要查询的类，我们需要实现查询接口。该库将基于该类中的函数生成所有的模式和查询。</strong></p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="87aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于更复杂的示例，您可以在以下代码中使用它们:</p><p id="2cfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人员的数据分类:</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="7e09" class="kz jq hi lu b fi ly lz l ma mb">package com.example.myFirstGraphQLApp.schema<br/><br/>data class Person(<br/>    val id: Int,<br/>    val firstname:String,<br/>    val lastname: String,<br/>    val age: Int,<br/>    val gender: String,<br/>) {<br/>}</span></pre><p id="c702" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查询以获取信息:</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="22f5" class="kz jq hi lu b fi ly lz l ma mb">package com.example.myFirstGraphQLApp.queries<br/><br/>import com.example.myFirstGraphQLApp.schema.Person<br/>import com.expediagroup.graphql.generator.annotations.GraphQLDescription<br/>import com.expediagroup.graphql.server.operations.Query<br/>import org.springframework.stereotype.Component<br/><br/>@Component<br/>class SampleQueries: Query {<br/><br/>    @GraphQLDescription("Getting Person's Info")<br/>    fun getPersonInfo(): Person{<br/>        return Person(<br/>            id = 1,<br/>            firstname = "Jhonny",<br/>            lastname = "Parker",<br/>            age = 35,<br/>            gender = "Male"<br/>        )<br/>    }<br/><br/>}</span></pre><p id="9d12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应用程序.属性:</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="3885" class="kz jq hi lu b fi ly lz l ma mb">graphql.packages=com.example.myFirstGraphQLApp.queries, com.example.myFirstGraphQLApp.schema</span></pre><p id="79f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查询:</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="e0c2" class="kz jq hi lu b fi ly lz l ma mb">{<br/>  getPersonInfo{<br/>    id<br/>    firstname<br/>    lastname<br/>    age<br/>    gender<br/>  }<br/>}</span></pre><p id="017c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在playground中的schemas菜单下看到所有生成的模式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/4fa73453f8eb9fac08e6be2657068e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6IHvF7cArdqoAtE5JVePQ.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx">Generated Schemas</figcaption></figure><h1 id="4e1b" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">下一步是什么？</h1><p id="723a" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在本文中，我们已经触及了使用kotlin graphql库所能做的一切。它为您提供了大量的特性，您可以轻松地使用这些特性来定制您的应用程序，这超出了本文的范围。如果你感兴趣，留下你的评论，用不同的特点和实际操作的例子创造另一篇文章。此外，如果您有一个现有的应用程序，您可以导入相同的依赖到这个应用程序，并使用它来创建复杂的查询。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><h1 id="5ebf" class="jp jq hi bd jr js me ju jv jw mf jy jz ka mg kc kd ke mh kg kh ki mi kk kl km bi translated">摘要</h1><p id="666a" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在本文中，我们简要了解了graphql。我们还查看了创建您自己的第一个简单graphql应用程序的步骤。希望这将为您开始使用graphql并探索更多内容提供一个良好的平台。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="3348" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢我的作品，请<strong class="ih hj">喜欢并分享</strong>这篇文章(<strong class="ih hj">免费:)</strong>)。还有，做<a class="ae ln" rel="noopener" href="/@jaideeppahwa1"> <strong class="ih hj">关注</strong> </a> <strong class="ih hj"> </strong> me <strong class="ih hj"> </strong>更多这样的文章。</p><p id="da4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另外，看看我的其他文章:</p><div class="mj mk ez fb ml"><div role="button" tabindex="0" class="ab bv ff cb dy mm mn bn mo jn mp"><div class="mq l"><div class="ab q"><div class="l di"><img alt="Jaideep Pahwa" class="l de bw mr ms du" src="../Images/8ecddd40c56ab22f8d22e46eb84085dc.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*IB7AQQI6pV8B7VjQ1B1skw.jpeg"/><div class="dr bw l mr ms ds n aw dt"/></div><div class="gg l dw"><p class="bd b fp z dy dz ea eb ec ed ee ef dx translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" rel="noopener follow" target="_top" href="/@jaideeppahwa1?source=post_page-----69700ce11a3c--------------------------------">贾迪普·帕瓦</a></p></div></div><div class="mv mw fg l"><h2 class="bd hj su sv dy sw ea eb nu ed ef hh bi translated">面向开发人员的FHIR</h2></div><div class="ab q"><div class="l dw"><a class="bd b be z bi sx au sy sz ta pz tb an fx fy tc td te gb gc gd de bk ge" rel="noopener follow" target="_top" href="/@jaideeppahwa1/list/fhir-for-developers-ea551cc4840c?source=post_page-----69700ce11a3c--------------------------------">View list</a></div><div class="tf l dw"><span class="bd b fp z dx">9 stories</span></div></div></div><div class="ni dh nj dy ab nk dw di"><div class="di na bv nb nc"><div class="dh l"><img alt="" class="dh" src="../Images/69baf9af856005b059eaa2afda58633e.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*YMBD-OOn8-9lHYo0ija7rQ.jpeg"/></div></div><div class="di na bv nd ne nf"><div class="dh l"><img alt="" class="dh" src="../Images/860b5ffbe20ce4d7ca2a6e8868e3c31c.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*FAKeMSvgzw3B7qpAqYx1ww.jpeg"/></div></div><div class="di bv ng nh nf"><div class="dh l"><img alt="" class="dh" src="../Images/f911695f9a806c105eff8fac3966ba3e.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*boRZiiAzC3gvl90IfvU-qQ.jpeg"/></div></div></div></div></div><div class="mj mk ez fb ml no"><a rel="noopener follow" target="_blank" href="/illumination/work-life-balance-hacked-e05ecee236b1"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">工作生活平衡:被黑</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">更好地平衡工作与生活的生产力秘诀</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">medium.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jn no"/></div></div></a></div></div></div>    
</body>
</html>