<html>
<head>
<title>What is the Probability that a Horse Finishes Last?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一匹马跑最后一名的概率是多少？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/crowd-order-statistics-9940acae85fa?source=collection_archive---------4-----------------------#2021-11-03">https://medium.com/geekculture/crowd-order-statistics-9940acae85fa?source=collection_archive---------4-----------------------#2021-11-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a37c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章向你介绍了一个新的竞赛，你部署了一个算法来预测五匹马比赛中的马的排名。你得到的唯一信息是市场对每匹马获胜概率的看法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/69f1eaa0263266626fcc76516546d99d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*om6doGvH_-VdERMvuOhDUQ.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@cadop?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mathew Schwartz</a> on <a class="ae jt" href="https://unsplash.com/s/photos/horse-racing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b36d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将等级概率分配给有限数量的变量的问题是一个基本的统计问题，可能会在赛马之外找到许多应用。我发现这个问题经常重复出现，无论我是在场外交易市场上观察经销商，还是在堆积在一起的算法。</p><p id="a29e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管挑战相当不同，但将于2022年2月开始的<a class="ae jt" rel="noopener" href="/geekculture/six-ways-to-train-for-the-m6-financial-forecasting-competition-cacaf3af58b5">M6-金融预测比赛</a>的特点是收集了五场股票之间的赛马，其中你还将被要求估计排名概率。就当这是热身。</p><h1 id="4404" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">如何参加竞赛</h1><p id="d6d1" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">打开这个<a class="ae jt" href="https://github.com/microprediction/microprediction/blob/master/notebook_examples/make_new_key.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>，开始燃烧你的新身份，同时继续阅读。(这是你进入微预测世界的门票，如果它令人困惑，就在<a class="ae jt" href="https://join.slack.com/t/microprediction/shared_invite/zt-xauc5r03-XmIMdy~iL4a3Hw3G1Agv6w" rel="noopener ugc nofollow" target="_blank">松弛</a>上打扰我们。)当写密钥被创建时，将其粘贴到<a class="ae jt" href="https://www.microprediction.org/leaderboard.html" rel="noopener ugc nofollow" target="_blank">仪表板</a>中以显示您的笔名。例如:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kx"><img src="../Images/a5eca96df6fb8ba3ffce9caf5a62cab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qkaE3zGKqAWbng7UYrAGVA.png"/></div></div></figure><p id="71d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的公共ID是您的私有写密钥的散列。您的写入密钥是一个<em class="ky">难忘的唯一标识符</em>，在本<a class="ae jt" href="https://vimeo.com/397352413" rel="noopener ugc nofollow" target="_blank">视频</a>中有所解释。</p><p id="085f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来看看<a class="ae jt" href="https://github.com/microprediction/microprediction/blob/master/crawler_alternatives/estado_sole.py" rel="noopener ugc nofollow" target="_blank"> estado_sole.py </a>。这是您将在cron作业<a class="ae jt" href="https://crontab.guru/every-1-hour" rel="noopener ugc nofollow" target="_blank">上每小时运行一次</a>的示例脚本——或者以其他方式安排。我们需要的只是一个writer，它可以使用WRITE键进行实例化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kz"><img src="../Images/3917775def8d20192c1096e8c76476dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*ZofxSbxgHv1_HAUo3cnGYQ.png"/></div></figure><p id="6952" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您的密钥正在燃烧时，请注意，在此示例中有我们感兴趣的十个不同的实时流(如果您感兴趣，您可以在此处找到完整的流列表<a class="ae jt" href="https://www.microprediction.org/browse_streams.html" rel="noopener ugc nofollow" target="_blank"/>),它们都与五场赛马的序列相关。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es la"><img src="../Images/e2b0e67dd1992c877743b6892b7d4be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AWITMFyf3OeZWYBB75ALcQ.png"/></div></div></figure><p id="3e48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，流<a class="ae jt" href="https://www.microprediction.org/stream_dashboard.html?stream=horse_finish_4" rel="noopener ugc nofollow" target="_blank"> horse_finish_4.json </a>包含每场比赛中第四匹马的完成位置记录。每一次的马都不一样，但是4号马总是第四受欢迎的马。如你所见，它并不经常赢。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lb"><img src="../Images/4c9064b81e3ca5c27b3a9722f41bc62f.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*QdRuvx3WllXVMpL2hpKJRQ.png"/></div></figure><p id="25fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你的任务是估计4号马获得第一名的概率，同时估计它获得第二名的概率，以此类推，直到第五名。</p><p id="ff29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">实际上，您有些受限，因为您无法准确地提供五种可能性。取而代之的是在一个向量中提供225个值的列表。例如，如果你认为这匹马有15分之一的获胜机会，那么你的列表中的15个条目应该是1。也许30个是2，因为它更有可能是第二，以此类推。</p><p id="9291" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是为什么<a class="ae jt" href="https://github.com/microprediction/microprediction/blob/master/crawler_alternatives/estado_sole.py" rel="noopener ugc nofollow" target="_blank">示例</a>条目的最后一部分看起来像这样:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lc"><img src="../Images/fb6b2acf591cca138cea437fafdc69b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JWMq4E6yvtAAhcINqFhRYg.png"/></div></div></figure><p id="aa72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然有人问，那<a class="ae jt" href="https://api.microprediction.org/sponsors/" rel="noopener ugc nofollow" target="_blank">赞助商名单</a>中的小溪赞助商豆娘。她的公钥是:</p><pre class="je jf jg jh fd ld le lf lg aw lh bi"><span id="e561" class="li jv hi le b fi lj lk l ll lm">1a24da35e1f140d20e21ecbac7436d8e (aka LADY DAMSELFLY)</span></pre><h1 id="4faf" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">信息</h1><p id="25ba" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为您提供的信息包含在价格流中，例如下面显示的<a class="ae jt" href="https://www.microprediction.org/stream_dashboard.html?stream=horse_price_4" rel="noopener ugc nofollow" target="_blank"> horse_price_4.json </a>:</p><p id="a947" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这使用了欧洲/澳大利亚的赔率惯例。6.54美元的价格意味着如果你赌1美元，如果这匹马赢了，你将得到6.54美元。因此，我们可以认为股息是市场隐含概率的倒数。在美国传统中，价格将被报为+550——类似于博彩公司惯例11/2。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/c56e316731ee1f1b2c9b6ab59077b990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xsgw5Es4hBawb3npNCqoMQ.png"/></div></div></figure><h1 id="eb71" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">监控你的表现</h1><p id="4303" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">只要您安排python脚本每小时运行一次，您在<a class="ae jt" href="https://www.microprediction.org/" rel="noopener ugc nofollow" target="_blank">www.microprediction.org</a>的仪表板就会开始填充:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/281d7336f2c1574aebe25a099609325d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yTjOVDqwOtn-SFlqBPxhWA.png"/></div></div></figure><p id="b333" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你点击交易，你可以看到为什么你的积分增加或减少——尽管我强烈建议你阅读评分的<a class="ae jt" href="https://www.microprediction.com/blog/intro" rel="noopener ugc nofollow" target="_blank">机制。</a></p><h1 id="ceb7" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">技术和基准</h1><p id="9b2f" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">也许堆栈交换问题<a class="ae jt" href="https://math.stackexchange.com/questions/842604/given-every-horses-probability-of-winning-a-race-what-is-the-probability-that/3260483#3260483" rel="noopener ugc nofollow" target="_blank">给出了每匹马赢得比赛的概率… </a>是一个讨论可能的解决方案的好地方，尽管也可以在这里随意评论。</p><p id="adc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经提供了一个基准，它使用了我最近发表在一篇文章<em class="ky">中的技术，该文章从多参与者竞赛的获胜概率中推断相对能力</em>(SIAM J on Financial Mathematics，2021 <a class="ae jt" href="https://github.com/microprediction/winning/blob/main/docs/Horse_Race_Problem__SIAM_updated.pdf" rel="noopener ugc nofollow" target="_blank"> pdf </a>)。尽管这项工作的动机主要在于更高维度的问题，但它重新点燃了人们对顺序统计的兴趣，这种兴趣源于童年对赛马场的迷恋。该方法推断每匹马的性能分布。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/f6a8864161406f245bbb25b823e57da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gLdaYOcWFtYGwt9b3wOkcg.png"/></div></div></figure><p id="8fc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我认为你可以击败它，即使你只是简单地修改你会注意到有一些免费的参数。我最后选择的值也是不可接受的懒惰，因为它使用蒙特卡罗，因此没有利用詹森不等式(这里有更长的讨论<a class="ae jt" href="https://www.microprediction.com/blog/lottery" rel="noopener ugc nofollow" target="_blank"/>)。</p><p id="ab6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如本文(以及<a class="ae jt" href="https://math.stackexchange.com/questions/842604/given-every-horses-probability-of-winning-a-race-what-is-the-probability-that/3260483#3260483" rel="noopener ugc nofollow" target="_blank">讨论</a>)中提到的，我将另一个基准框架作为Luce公理选择的应用。我认为大多数人都是半自觉地得出这个答案，不一定意识到所做的假设，也很少意识到它与指数运行时间分布相一致(其合理性……你来决定)。</p><p id="cf40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是如果你愿意，你可以按照哈威尔的方法，通过假设一旦一匹马赢了，有条件的第二名的概率仅仅是它们赢的概率的再标准化(当然，去掉赢家)，来估计所有排序的概率。然后一个继续，取出第一个和第二个，以此类推。</p><p id="6311" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该主题的一个变体首先对概率进行幂变换。另一个变体使用Henery的近似法来处理正常情况——尽管我的存储库提供了一个快速的解决方案，正如您在基准测试示例中看到的那样。</p><h1 id="0cc2" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">越来越花哨</h1><p id="434f" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">虽然如果你不想的话，你不需要关心它，但让我着迷的是推断五匹马比赛的市场隐含copula的可能性。如果你一直在底部搜索<a class="ae jt" href="https://www.microprediction.org/browse_streams.html" rel="noopener ugc nofollow" target="_blank">流列表</a>，你甚至可以找到<a class="ae jt" href="https://www.microprediction.org/stream_dashboard.html?stream=z3~horse_finish_1~horse_finish_2~horse_finish_3~3555" rel="noopener ugc nofollow" target="_blank">三元流</a>，它可以用来推断跑步者之间是否存在隐含的相关性。</p><p id="fbec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人们可能希望回答一些相关的问题，例如2-margin是否足以重建联合分布。这与另一项正在进行的加密货币运动研究的动机类似，该研究在帖子<a class="ae jt" href="https://www.microprediction.com/blog/copula" rel="noopener ugc nofollow" target="_blank">中解释了如何参加加密货币Copula竞赛</a>。如果您想尝试预测与这五场赛马相关的z2和z3流，这可能是一个很好的起点。</p><h1 id="0a8c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">需要帮助吗？</h1><p id="64f3" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">如果你对这类事情感兴趣，我们随时欢迎你在我们的slack频道(这里是<a class="ae jt" href="https://join.slack.com/t/microprediction/shared_invite/zt-xauc5r03-XmIMdy~iL4a3Hw3G1Agv6w" rel="noopener ugc nofollow" target="_blank"/>)谈论copulas或顺序统计。</p></div></div>    
</body>
</html>