<html>
<head>
<title>Microservices Orchestration vs Choreography | (Technology)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务编排与编排|(技术)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/microservices-orchestration-vs-choreography-technology-5dbe612cf7e9?source=collection_archive---------0-----------------------#2022-03-02">https://medium.com/geekculture/microservices-orchestration-vs-choreography-technology-5dbe612cf7e9?source=collection_archive---------0-----------------------#2022-03-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="c5a6" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">理解为你的下一个项目设计架构的艺术</h2></div><p id="50f8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我要说的是，与单片架构相比，大多数技术行业已经在采用基于微服务的架构。实际上，在采用产生微服务的单片架构时存在许多挑战。在monolithic中，整个应用程序是非常紧密耦合的。紧密耦合对于任何软件项目来说都是一个福音，除非项目只是为了说“Hello world”而构建的。</p><p id="77ac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">构建任何成功项目的技术目标是使其可伸缩和安全。微服务让我们可以自由地让产品具有可扩展性和容错性。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/89165eb014e85c49ef30bf31060ca1b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vvb89eHAA3vnyY7N"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://unsplash.com/@marvelous?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marvin Meyer</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ba68" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当然，在直接跳到微服务编排和微服务编排之间的差异之前，我们将尝试理解它们。我们将讨论一下微服务及其用途。<br/>文章会有很多有用的内容，所以要密切关注。</p><h1 id="70f3" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">微服务</h1><p id="0909" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">微服务可以很容易地定义为可以作为独立应用程序运行的服务集合。微服务可以提供很多好处。对于任何第一次阅读的读者来说，把它看作一场足球比赛，每个球员都被赋予了个人的责任，他们都和谐地一起工作，但有足够的能力像一个微服务一样单独比赛。</p><p id="0c1f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以通过让任何球员多练习来提高他的能力，个别球员受伤不会影响整场比赛。该玩家可以被另一个玩家替换。同样，在微服务的情况下，我们可以自由地关注行为荒谬的服务，而不是检查整个应用程序。</p><p id="82d9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在采用基于微服务的架构时，每项服务都可以根据负载进行优化扩展。我们不必升级整个应用程序，如前端、中间件、后端等。这节省了大量的基础设施成本。</p><p id="d439" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果实现得当，微服务是容错。根据项目的复杂程度，每项服务可以由单独的团队管理。微服务不需要考虑可扩展性。部署完全独立于应用程序，这使它成为更好的选择。在最坏的情况下，只有特定的应用程序可能出错，而不是整个应用程序。</p><p id="feb5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望我觉得这是对微服务足够公平的理解，因为这篇文章更多的是关于cicroservice编排和编排，而不仅仅是微服务。让我们不要太偏离议程。</p><h1 id="0b75" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">微服务编排。</h1><p id="481f" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">微服务编排是一个逻辑实体，有助于管理微服务。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lh"><img src="../Images/963f6752f5a636382a968f00c7ef0e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*29tONP5W595TbX80"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://unsplash.com/@kazuo513?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kazuo ota</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e3bb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们已经知道的微服务，以及它们的优点和缺点。是时候了解我们可以在微服务之间进行通信的方式了。一旦我们的项目运行了几个微服务，它们当然需要共享数据和构建业务逻辑。</p><p id="3b36" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编排是实现这一目标的方法之一。编排脱离了管弦乐队的概念，其中有多名音乐家是演奏乐器的大师，这是我们微服务架构中的一项服务。管弦乐队的指挥给每个人关于节点的方向。播放器(服务)本身有足够的能力来播放整首歌曲，因为他们有歌曲的音符(业务逻辑)可以方便地使用。但是要一起演奏音乐，在交响乐中他们需要一个指挥来管理一切。</p><p id="95af" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样，当父服务管理请求时，微服务编排以类似的方式工作。它将请求重定向到相应的服务并收集数据。最终的响应在名为orchestrator的主服务中生成，然后提供给客户端应用程序。</p><p id="3086" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">orchestrator的角色是与完成任何API请求所需的每个服务进行通信。</p><h1 id="01c0" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">微服务编排</h1><p id="4afc" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">另一方面，微服务编排是微服务间完全不同的通信方式。顾名思义，每个演员都有自己的职责，也知道该怎么做。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es li"><img src="../Images/838b4eab46094eceb7ebf075af9eccc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_-0AgOw5XBJL-LEO"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://unsplash.com/@cgram2000?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">pavan gupta</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ed6c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">设计微服务架构有多种模式，其中一种模式是Saga模式，可用于设计微服务架构，遵循编排或编排。</p><p id="ae2c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在编排中，与编排不同，微服务是并行工作的。整个系统工作在基于事件的架构上，其中服务从消息总线收集数据，执行业务逻辑，然后将数据提交给另一个消息总线。</p><p id="5f40" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果实现正确，这种方法是不能容忍的，因为每个服务都是独立工作的。如果其中任何一个出现故障，我们就会知道<br/>是哪个服务引起了问题，并可以直接解决这个问题。</p><p id="6a6b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在微服务编排中，一个服务订阅多个主题，并更新另一个主题。微服务的任务是定义好的，它只是检查题目是否为空。除非主题是空的，否则它会继续执行它应该执行的任务。</p><h1 id="47e1" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">微服务编排与编排</h1><p id="ff48" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">微服务编排和编排之间的主要区别在于，在编排的情况下，没有什么核心的东西。采用哪一种取决于您的用例。如果您想要服务之间非常频繁的通信，那么您必须选择编排，否则编排是更好的选择。</p><p id="952f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在编排的情况下，我们需要适当的日志记录，否则，将很难发现哪个服务未能返回正确的数据。记录错误永远是救世主。</p><p id="2f0d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">大多数情况下，架构师使用两种方法的融合来创建最终的架构设计，这使得整个系统具有弹性。各种操作在本质上是同步的，而其他操作是异步的，因此这两种方法都是使您的产品符合灌装要求所必需的。</p><h1 id="7d76" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">最后的想法。</h1><p id="bf1c" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">在理解微服务编排与编排之前，任何软件开发人员都应该理解什么是微服务架构。</p><p id="20d3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦你创建了一些微服务，现在是时候采用其中一种方法了。本文旨在解释两者之间的区别。关于微服务及其架构设计，可以做很多研究。</p><p id="997a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同时，我也在不断研究各种其他的选择，比如网飞指挥，传奇模式等等。，为此我一定会和大家分享我的心得。</p><p id="a928" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">与此同时，为了让自己了解未来的文章，请关注我，你不会失望的。我们会一起成长。</p></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="1605" class="kk kl hi bd km kn lq kp kq kr lr kt ku io ls ip kw ir lt is ky iu lu iv la lb bi translated">关于作者</h1><p id="05c6" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">Apoorv Tomar是一名软件开发人员，也是Mindroast的一员。你可以在<a class="ae kj" href="https://twitter.com/apoorvtomar_" rel="noopener ugc nofollow" target="_blank">推特</a>、<a class="ae kj" href="https://www.linkedin.com/in/apoorvtomar/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae kj" href="https://t.me/ApoorvTomar" rel="noopener ugc nofollow" target="_blank">电报</a>和<a class="ae kj" href="https://www.instagram.com/apoorvsinghtomar/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上和他联系。订阅<a class="ae kj" href="https://www.mindroast.com/newsletter" rel="noopener ugc nofollow" target="_blank">简讯</a>获取最新策划内容。不要犹豫在任何平台上说“你好”,只需说明你在哪里找到我的资料</p></div></div>    
</body>
</html>