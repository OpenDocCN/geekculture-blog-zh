<html>
<head>
<title>Financial Companies Data Dashboard with Python and MongoDB Charts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Python和MongoDB图表的金融公司数据仪表板</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/financial-companies-data-dashboard-with-python-and-mongodb-charts-b23a48fcd7ed?source=collection_archive---------5-----------------------#2022-11-23">https://medium.com/geekculture/financial-companies-data-dashboard-with-python-and-mongodb-charts-b23a48fcd7ed?source=collection_archive---------5-----------------------#2022-11-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f327fdfd26097f6d6e8eada4cca29583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PYtDvAWsWC_NqF4I"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@techdailyca?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tech Daily</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="be5e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">作为一名股票投资者，我一直在寻找新的方法来改善我的交易策略。最重要的事情之一是对我投资的公司的财务状况有一个很好的了解。</h2><p id="c995" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">我一直在寻找一种方法来自动化获取数据的过程，并在一个整洁的仪表板中可视化它们。</p><p id="a563" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><em class="kt">那么，如何获得我的股票的关键财务指标，并在仪表板中显示出来呢？</em></p><h2 id="0d74" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">介绍</h2><p id="dd48" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">在这个项目中，我将向你展示如何获得我投资的公司的财务状况，并使用<strong class="jv hj"> Python、雅虎财经python API和MongoDB图表在仪表板上可视化它们。</strong></p><p id="8ad2" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">MongoDB Charts最酷的特性之一是很容易在网页上共享，只需点击几下，了解一点html和CSS知识(稍后我将展示如何创建一个简单的HTML页面并嵌入Mongo Charts仪表板)。</p><p id="31fb" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">这个项目可以定义为一个基础数据工程项目。该脚本由典型的数据工程管道或ETL(提取、转换、加载)管道构成。</strong>你可以在我的<a class="ae iu" href="https://github.com/marcello-calabrese/financial_data_companies_mongo" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>里找到该项目的代码。</p><p id="6eab" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">这个项目的最终结果是一个html页面，显示仪表板并从MongoDB图表中获取数据。仪表板每天都会更新我投资组合中公司的最新财务状况。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/04dd0ba9d4a977f53d03909e70cb096c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jD06M5ZGsVffMsBwCBrzqg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Web page dashboard: image by author</figcaption></figure><h2 id="a567" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">获取我交易的公司的财务信息</strong></h2><p id="dbc6" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">幸运的是，有一个名为yfinance的库可以帮助我们获得财务数据。</p><p id="b339" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">通过简单的代码语法，我们可以获得信息，如最新的股价，市值，测试，52周的范围，收益日期，股息收益率，市盈率等。</p><p id="dc5b" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">我决定获取我的投资组合中所有公司的财务信息，并将它们存储在云中的数据库中，而<em class="kt"> MongoDB </em>是这个项目的完美选择，因为它免费且易于使用(免费层允许您存储512 MB的数据)。</p><p id="1865" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">目前我投资组合中的股票有:</p><p id="4c44" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -微软</strong></p><p id="8c39" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -麦当劳</strong></p><p id="f658" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> - IBM </strong></p><p id="0971" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -约翰逊&amp;约翰逊</strong></p><p id="c571" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -锡安银行</strong></p><p id="2033" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">我决定将这些公司的财务数据存储在数据库中:</p><p id="f808" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -符号或股票</strong></p><p id="3af8" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -公司名称</strong></p><p id="d152" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -公司描述</strong></p><p id="004a" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> - PE比率(市盈率)，如果你不知道什么是PE比率，可以在这里</strong><a class="ae iu" href="https://www.investopedia.com/terms/p/pe.asp" rel="noopener ugc nofollow" target="_blank"><strong class="jv hj"/></a>了解更多</p><p id="1f4e" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -公司分红</strong></p><p id="56bd" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj"> -现金流</strong></p><p id="979f" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><em class="kt">现在让我们运行代码，看看如何获取我的投资组合中公司的财务信息，并将它们存储在MongoDB数据库中。</em></p><h2 id="4467" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">创建一个MongoDB帐户</strong></h2><p id="8126" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">我不会详细介绍如何创建一个MongoDB帐户，下面的链接将帮助您完成这个过程:</p><ul class=""><li id="ba44" class="kz la hi jv b jw ko ka kp jg lb jk lc jo ld kn le lf lg lh bi translated">创建MongoDB免费账号:<a class="ae iu" href="https://www.mongodb.com/cloud/atlas" rel="noopener ugc nofollow" target="_blank">链接</a></li><li id="72c1" class="kz la hi jv b jw li ka lj jg lk jk ll jo lm kn le lf lg lh bi translated">创建一个集群:<a class="ae iu" href="https://docs.atlas.mongodb.com/tutorial/create-new-cluster/" rel="noopener ugc nofollow" target="_blank">链接</a></li><li id="6d26" class="kz la hi jv b jw li ka lj jg lk jk ll jo lm kn le lf lg lh bi translated">创建一个数据库和一个集合:<a class="ae iu" href="https://docs.atlas.mongodb.com/tutorial/create-new-database/" rel="noopener ugc nofollow" target="_blank">链接</a></li></ul><h2 id="383a" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">导入库</strong></h2><p id="47bc" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">为了容易地复制我的项目，我在我的GitHub存储库中提供了一个<em class="kt"> requirements.txt </em>文件。您可以使用以下命令安装所有库:</p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="5a41" class="ls iw hi lo b be lt lu l lv lw">pip install -r requirements.txt</span></pre><p id="1fa9" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">在新创建的环境中，创建一个新文件夹并创建一个新文件“”。py“”。<strong class="jv hj">我调用了(你可以在我的回购中看到)run_mongo.py </strong>。在此文件中，您需要导入以下库:</p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="1897" class="ls iw hi lo b be lt lu l lv lw"># import main libraries<br/><br/>import pandas as pd # data manipulation<br/>import numpy as np # data manipulation<br/>import yfinance as yf # get financials of the companies<br/>import pymongo # connect to MongoDB<br/>from pymongo import MongoClient # connect to MongoDB<br/>import json # convert data to json</span></pre><h2 id="ea5f" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak"> ETL管道:提取、转换、加载</strong></h2><p id="7a8a" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">现在在<em class="kt">里。py </em>文件，我们将创建<strong class="jv hj"> ETL管道来从yahoo finance中提取数据，转换数据并将数据加载到MongoDB中。</strong></p><h2 id="e25d" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">从雅虎财经提取公司财务数据</strong></h2><p id="13df" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">提取函数<em class="kt"> extract_ticker() </em>获取我的投资组合中的公司股票，创建一个字典来存储每个公司的上述数据，并将它们存储在pandas数据框架中。该函数返回熊猫数据帧。</p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="14bc" class="ls iw hi lo b be lt lu l lv lw">def extract_ticker():<br/>    # extract the ticker data<br/>    <br/>    msft = yf.Ticker('MSFT')<br/>    zion = yf.Ticker('ZION')<br/>    ibm = yf.Ticker('IBM')<br/>    jnj = yf.Ticker('JNJ')<br/>    mcd = yf.Ticker('MCD')<br/>    # create a dictionary to store the data<br/>    dct2 = {'Company_name': [msft.info['longName'], zion.info['longName'], ibm.info['longName'], jnj.info['longName'], mcd.info['longName']],<br/>                    'Company_ticker': [msft.info['symbol'], zion.info['symbol'], ibm.info['symbol'], jnj.info['symbol'], mcd.info['symbol']],<br/>                    'Closed_price': [msft.info['previousClose'], zion.info['previousClose'], ibm.info['previousClose'], jnj.info['previousClose'], mcd.info['previousClose']],<br/>                    'Company_info': [msft.info['longBusinessSummary'], zion.info['longBusinessSummary'], ibm.info['longBusinessSummary'], jnj.info['longBusinessSummary'], mcd.info['longBusinessSummary']],<br/>                    'Company_PE': [msft.info['trailingPE'], zion.info['trailingPE'], ibm.info['trailingPE'], jnj.info['trailingPE'], mcd.info['trailingPE']],<br/>                    'Company_cash_flow': [msft.info['operatingCashflow'], zion.info['operatingCashflow'], ibm.info['operatingCashflow'], jnj.info['operatingCashflow'], mcd.info['freeCashflow']],<br/>                    'Company_dividend': [msft.info['dividendRate'], zion.info['dividendRate'], ibm.info['dividendRate'], jnj.info['dividendRate'], mcd.info['dividendRate']]}<br/>        <br/>    # create a dataframe to store the data<br/>    df = pd.DataFrame(dct2)<br/>    # return the dataframe<br/>    return df</span></pre><h2 id="dae4" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">转换数据</strong></h2><p id="34e6" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">转换函数<em class="kt"> transform_data() </em>应用一个小的数据清理，将值舍入到2个小数位，并将数据转换为稍后将数据加载到MongoDB所需的json格式。</p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="cea9" class="ls iw hi lo b be lt lu l lv lw">def transform_data():<br/>    # create a dataframe to store the data<br/>    df_transformed = extract_ticker() # call the extract function<br/>    # round the values of the dataset to 2 decimal places<br/>    df_transformed = df_transformed.round(2)<br/>    <br/>    # convert the dataframe into a json file<br/>    json_file = df_transformed.to_json('Data/yahoo_data.json' ,indent=4, orient='records')<br/>    return json_file</span></pre><h2 id="e239" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">将数据加载到MongoDB </strong></h2><p id="f194" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">加载函数<em class="kt"> load_mongo() </em>将数据加载到MongoDB中。该函数将连接字符串、数据库名称、集合名称和json文件作为参数。该函数返回加载到MongoDB中的数据。</p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="78b8" class="ls iw hi lo b be lt lu l lv lw">def load_mongo():<br/>    # load the json file into mongodb<br/>    # create a client object<br/>    client = MongoClient('mongodb+srv://USER:PASSWORD@cluster0.ragcpnf.mongodb.net/?retryWrites=true&amp;w=majority') # insert your connection string and your personal user and password of your MongoDB account<br/>    # get a database named "stockdb"<br/>    db1 = client.stockdb<br/>    # get a collection named "yahoo_data_test_json"<br/>    collection_main = db1.stock_data<br/>    # load a json file into mongodb<br/>    with open('Data/yahoo_data.json') as file:<br/>        file_data = json.load(file)<br/>    # insert_many is used else insert_one is used<br/>    if isinstance(file_data, list):<br/>        # empty the collection<br/>        collection_main.delete_many({})<br/>        # insert the data into the collection<br/>        collection_main.insert_many(file_data)<br/>    else:<br/>        collection_main.insert_one(file_data)<br/>    return True</span></pre><h2 id="8ad9" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">运行ETL管道</strong></h2><p id="9f55" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">代码的最后一部分是运行ETL管道。下面的代码调用这些函数并打印结果。</p><p id="837e" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">我使用标准的<em class="kt"> def main() </em>函数作为摄取3个ETL函数的主要部分，并使用<em class="kt">if _ _ name _ _ = _ _ main _ _:</em>来运行代码。</p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="1a00" class="ls iw hi lo b be lt lu l lv lw">def main():<br/>    # call the extract function<br/>    #extract_ticker()<br/>    # call the transform function<br/>    transform_data()<br/>    # call the load function<br/>    load_mongo()<br/>    return True<br/><br/>### Run Layer ###<br/><br/>if __name__ == '__main__':<br/>    main()<br/>    print('Data has been extracted, transformed, saved in a json file and loaded into mongodb')</span></pre><h2 id="2201" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">MongoDB数据库，我投资组合中的公司数据存储在一个集合中</strong></h2><p id="1094" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">执行代码后，我们可以在MongoDB数据库中看到数据。我创建了一个名为<em class="kt"> stockdb </em>的数据库和一个名为<em class="kt"> stock_data </em>的集合。数据存储在集合中。提醒一下，在MongoDB中，集合类似于关系数据库中的表，文档类似于关系数据库中的行。</p><p id="7a2a" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">请看下面MongoDB中的数据截图。</strong></p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/f06c5402eab8045038472cda2715252b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KB-vNDlvw_SpNzeoZvtA6Q.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">MongoDB Database with the data of the companies in my portfolio stored in a collection</figcaption></figure><p id="41a4" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">你可以看到这个脚本是如何捕捉我的投资组合中的公司的关键指标的。对于以前从未使用过MongoDB的人来说，这些数据看起来类似于字典列表，与我们在关系数据库中看到的数据完全不同。</p><p id="0a00" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><em class="kt">太好了！我们在MongoDB里有数据。现在让我们让这些数据看起来有意义。</em></p><p id="65d6" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">现在我们开始项目的第二个有趣部分，用MongoDB图表实现MongoDB内部的数据可视化</strong>😎！</p><h2 id="c365" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak"> MongoDB图表</strong></h2><p id="47f4" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">现在我们开始这个项目的第二个有趣的部分。</p><p id="4675" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">我将向您展示用MongoDB图表创建一个仪表板有多简单，只需点击几下，并使用拖放工具在轴上绘制数据。每次执行ETL管道时，仪表板都会自动更新。仪表板将显示6个图表，其中包含我投资组合中公司的关键指标和信息。</p><h2 id="3fc7" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">创建仪表板</strong></h2><p id="1599" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">我们需要创建一个新的仪表板。为此，我们需要单击“创建仪表板”按钮。<strong class="jv hj">请看下面的短视频演示。</strong></p><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="ly lz l"/></div></figure><p id="260f" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">可视化由两个表组成，分别是公司名称和描述以及公司名称和股票代码，其余的图表是简单的条形图，显示我的投资组合中公司的关键指标。</p><p id="f6b2" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">见下面视频演示的第二部分绘制图表。</strong></p><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="9819" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">导出仪表盘</strong></h2><p id="0c53" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">创建仪表板后，我们可以使用iframe工具将仪表板导出并嵌入到网页中。</p><p id="db1f" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">看下面的视频演示。</strong></p><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="37ac" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">嵌入仪表板的基本html页面</strong></h2><p id="f545" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">最后一步是创建一个基本的html页面来嵌入仪表板。你可以在【github资源库】(https://github . com/marcello-cala brese/financial _ data _ companies _ mongo/tree/main/html _ dashboard)和下面找到代码。我用<a class="ae iu" href="https://getbootstrap.com/docs/5.2/getting-started/introduction/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a> CSS框架创建了一个简单的页面。</p><p id="5684" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">参见下面的html代码:</strong></p><pre class="kv kw kx ky fd ln lo lp bn lq lr bi"><span id="dcde" class="ls iw hi lo b be lt lu l lv lw">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>    &lt;!-- CSS only --&gt;<br/>    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous"&gt;<br/>    &lt;title&gt;Portfolio' Shares Financial Data Dashboard&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>    &lt;div class="container-fluid"&gt;<br/>        &lt;div class="row"&gt;<br/>            &lt;div class="col-md-12"&gt;<br/>                &lt;h1&gt;Portfolio's Shares Financial Data Dashboard&lt;/h1&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="row"&gt;<br/>            &lt;div class="col-md-12"&gt;<br/>                &lt;h2&gt;Embedded MongoDB Dashboard directly from MongoDB Charts just with the iframe tags&lt;/h2&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="row"&gt;<br/>            <br/>                &lt;!-- Add the iframe code generated from MongoDB Charts--&gt;<br/>                &lt;iframe style="background: #F1F5F4;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2); height: 700px;"  src="https://charts.mongodb.com/charts-project-0-mohor/embed/dashboards?id=6379f795-14ab-4c8d-8ceb-051750764578&amp;theme=light&amp;autoRefresh=true&amp;maxDataAge=3600&amp;showTitleAndDesc=false&amp;scalingWidth=fixed&amp;scalingHeight=fixed"&gt;&lt;/iframe&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="85b5" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">页面短视频演示如下。</strong>不要忘记用MongoDB图表生成的代码更改iframe代码，我必须手动将iframe中的高度像素添加到700px，以确保仪表板在整个html页面中展开:</p><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="541d" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">结论</strong></h2><p id="ef32" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">在本文中，我向您展示了使用MongoDB图表创建仪表板是多么容易。我使用ETL管道从web中提取数据，转换数据并将其加载到MongoDB中。然后我用MongoDB图表创建了一个仪表板，并用iframe工具导出了仪表板，将其嵌入到一个基本的html页面中。</p><p id="a882" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated"><strong class="jv hj">我希望你喜欢这篇文章，并学到一些新东西。如果你有任何问题，请在下面的评论中告诉我。感谢阅读！</strong></p></div><div class="ab cl ma mb gp mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hb hc hd he hf"><h1 id="aa4b" class="mh iw hi bd ix mi mj mk jb ml mm mn jf mo mp mq jj mr ms mt jn mu mv mw jr mx bi translated">作者:</h1><p id="6e6b" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">我写关于数据科学、python编码项目和数据驱动营销的文章。我还为数据新手或数据入门者提供数据和业务指导。</p><p id="692e" class="pw-post-body-paragraph jt ju hi jv b jw ko jy jz ka kp kc kd jg kq kf kg jk kr ki kj jo ks kl km kn hb bi translated">你可以在<a class="ae iu" rel="noopener" href="/@Marcello_Dichiera">媒体</a>和<a class="ae iu" href="https://twitter.com/ItalyMarcello" rel="noopener ugc nofollow" target="_blank">推特</a>上关注我，或者访问我的<a class="ae iu" href="https://marcello-personal-website.netlify.app/" rel="noopener ugc nofollow" target="_blank">网站</a>和<a class="ae iu" href="https://github.com/marcello-calabrese" rel="noopener ugc nofollow" target="_blank"> Github页面</a>。</p></div></div>    
</body>
</html>