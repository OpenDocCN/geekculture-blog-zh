<html>
<head>
<title>Class Variable, Class Methods, and SELF in RUBY</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RUBY中的类变量、类方法和SELF</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/class-variable-class-methods-and-self-in-ruby-388706a4c491?source=collection_archive---------21-----------------------#2021-06-25">https://medium.com/geekculture/class-variable-class-methods-and-self-in-ruby-388706a4c491?source=collection_archive---------21-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="529f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自从搬进ActiveRecord，我就一直在纠结这三件事。在一次代码挑战中惊慌失措之后，这一点对我来说非常清楚。我很确定他们会允许我们录制lol，我从来没有想过他们会，呀！</p><p id="dbe2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑到我有分离性健忘症和焦虑症，我的记忆力很差，一团糟。所以我们一起来学习吧。</p><h1 id="bee6" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">什么是类变量？</strong></h1><p id="eac3" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj">类变量</strong>是存储类信息的变量。全班都可以使用它，它由两个<strong class="ih hj"> (at) @@ </strong>符号组成。使用类变量的一个例子是:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kg"><img src="../Images/82740d3f40bf6c346ecf0963df444030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*IEdYaWGJVK6XVqpuG9se7Q.png"/></div></figure><p id="c3f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们看最上面，我们会看到类变量<em class="ko"> </em> <strong class="ih hj"> @@no_of_clients </strong>在使用之前已经初始化。这很重要，因为当一个类变量没有初始化时，我们会得到一个错误。</p><p id="1afd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过首先创建一个客户端类的实例来测试我们的类变量。我们可以通过创建新的实例对象并应用<strong class="ih hj"> <em class="ko"> new </em> </strong>方法来创建3个客户端，如下所示。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kp"><img src="../Images/bbd6f5ce5ddbd2cfa84ea243a6098a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*1ro5dnpKRW-WNkFJ5S9Bxg.png"/></div></figure><p id="85d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们可以在新的客户机对象上调用我们在上面创建的方法。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kq"><img src="../Images/a0e0a806943a96e08afdcbdf9ffb4190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*_PfQY4sGKf3UtSDfmm333w.png"/></div></figure><p id="f0c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果将是:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kr"><img src="../Images/eed464795f136b4da2c6bb7a778c89d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*fBsngAhxB0k4AeJnWG6HKQ.png"/></div></figure><p id="739a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，这个我已经知道了，但是它将帮助我展示类变量和类方法之间的区别，所以让我们继续…</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><h1 id="06d8" class="jd je hi bd jf jg kz ji jj jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka bi translated">什么是类方法？</h1><p id="b69a" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">可以直接在类上调用类方法，而不必实例化任何对象。它不会在类别的执行个体上呼叫。整个类(类范围)都可以访问它。</p><p id="3fa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类方法制定(制造)属于整个类的行为，而不仅仅是类的单个实例。让我们来看看一个有效的类方法:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es le"><img src="../Images/b679788e01967abf5c8c404db23f05b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*VMiWv8xSFERNkM7gX9uMBA.png"/></div></figure><p id="6f69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们看到创建了类方法count，然后直接在Album类上调用它。这与变量方法不同，在变量方法中，我们必须在类的实例上调用方法，而不是直接在类本身上调用方法。</p><p id="3276" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是这是如何工作的呢？</p><p id="3f88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了理解这一点，我们必须看看<strong class="ih hj">自我</strong>是什么…</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><h1 id="7f8d" class="jd je hi bd jf jg kz ji jj jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka bi translated">什么是自我？</h1><p id="aeea" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj"> Self </strong>是一个宾语，根据用在哪里可以指代不同的事物。在我们的类方法中，self指的是整个类。如果我们在一个实例方法上使用它，<strong class="ih hj"> self </strong>将引用那个实例。</p><p id="415a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们定义一个类方法时，你会在这个类方法的开头看到self这个词。例如，如果我们查看我们之前的代码，我们会看到def <strong class="ih hj"> self.count </strong>。这使我们能够依靠实际的类，而不是像我们在博客开始时那样创建实例。</p><p id="c855" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这对某人有所帮助。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="d23d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ko">个人注:</em> </strong> <em class="ko">不关注类方法、类变量、自我是非常容易的，尤其是如果你有使用ActiveRecord的能力。在过去的几周里，我一直在努力学习Ruby的这一部分，即使我回顾了这些方法的定义，我仍然没有理解。</em></p><p id="9a78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直到我决定写这篇博客，同时查阅更多的材料和编写一些代码，我才想起这件事。这只能说明这些教授说的是真的。光看书是学不到的，要做题。这是唯一能坚持下去的方法。</p></div></div>    
</body>
</html>