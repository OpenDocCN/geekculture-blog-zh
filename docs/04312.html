<html>
<head>
<title>Create an Elevator In Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在统一中创造一部电梯</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-an-elevator-in-unity-8040bcca8216?source=collection_archive---------16-----------------------#2021-06-24">https://medium.com/geekculture/create-an-elevator-in-unity-8040bcca8216?source=collection_archive---------16-----------------------#2021-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="05ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将展示如何创建一个电梯系统，玩家将与该系统交互并乘坐到场景中的下一层。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/c85511315927c7df657c34c4a5cf2ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nbtNnpNQx938R9FbiUQlIg.gif"/></div></div></figure><p id="4510" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">电梯系统将由两个对象组成，电梯面板和电梯本身。面板将要求玩家收集足够的硬币与其互动并呼叫电梯。一旦电梯到达底部，玩家登上电梯，然后与电梯互动，让电梯回到顶部。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h2 id="a40f" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">运动员</h2><p id="c845" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">在制作电梯面板之前，我们需要在玩家脚本上添加一个方法，由面板调用以返回玩家收集的硬币数量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kw"><img src="../Images/b9963e823b8a72a127550cc4c6340ddd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJqIXxM6dGkWTP1CL9mAFg.png"/></div></div></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h2 id="ccf7" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">电梯面板</h2><p id="5e5d" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">电梯面板有一个盒子碰撞器，当玩家站在里面时，它会被设置为一个触发器。该面板还有一个呼叫按钮子，当与面板交互时，它会改变颜色，给玩家视觉反馈。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kx"><img src="../Images/1088478b42501eb3b8a7f645a64666c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IzSmBcFYy53LvsF1hAKAdg.gif"/></div></div></figure><p id="8682" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ElevatorPanel脚本需要几个变量和一个动作委托来调用具有给定ID号的电梯。</p><ol class=""><li id="ede1" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">一个用于所需数量的硬币。</li><li id="8770" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">用于更改颜色的调用按钮的网格渲染器。</li><li id="deb8" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">要更改为的颜色。</li><li id="7612" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">原来的颜色。</li><li id="5875" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">此面板将呼叫的电梯的ID号。</li><li id="ec97" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">一个知道玩家是否已经呼叫电梯的bool。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/ae3c1deb2fd85d1027c6218d50fac47e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rltn8XgsWuIEZOqp-9Wkow.png"/></div></div></figure><p id="9fcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Start中，我们得到了call按钮的开始颜色。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/6859a97ee4482f66c566875a75f47959.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PQlp6ELCaltYhrdw9kvFtA.png"/></div></div></figure><p id="2e46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用OnTriggerStay来检测玩家是否在面板的碰撞器中。如果玩家按下碰撞器中的“E”键，我们会检查收集到的硬币数量。如果硬币足够多，那么我们改变呼叫按钮的颜色，交换名为bool的电梯，并调用动作，用传递的ID号呼叫电梯。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/87a2162bd68cc0dabbfec926425e6956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C1IdSuYDbEW5G8ESR4uBLA.png"/></div></div></figure><p id="935c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们进入播放模式，电梯面板需要八个硬币才能激活，当玩家按下碰撞器内部的' E '键时，呼叫按钮会改变颜色。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/ef1b7aa9bcb1b2a365b88d8e557f92f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-Z3lFcOhgVaS_X4fA421xQ.gif"/></div></div></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h2 id="8d17" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">电梯</h2><p id="e7f6" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">电梯由三个立方体组成，创造出电梯切割的外观，以展示其内部。电梯上有两台箱子对撞机。一个被用作地板，这样玩家就不会掉下去。另一个是触发器，它将检测玩家是否正在进入或退出碰撞器，然后父或父电梯。我们这样做是为了让玩家可以随着电梯平稳移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kx"><img src="../Images/b26047f2f937b394f9309c13dc6db431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RV-HoTXhIhwGPoTRrQDKGQ.gif"/></div></div></figure><p id="9f54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">电梯脚本的工作方式类似于上一篇文章中的移动平台脚本。为此，我们需要一些变量。</p><ol class=""><li id="bea9" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">电梯的ID号，以了解面板是否呼叫了它。</li><li id="7de8" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">电梯在两点之间移动的速度。</li><li id="7f84" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">底部点的参考。</li><li id="868d" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">顶点的参考。</li><li id="98e8" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">一个知道电梯是向上还是向下移动的按钮。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/51fe6ec48350ca43ae38c89a7bcfa5c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wwRAF14rOvOL75zrsYrTZQ.png"/></div></div></figure><p id="f66c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在FixedUpdate中，如果bool为真，我们以设定的速度将电梯移向底部点，如果bool为假，则移向顶部点。当电梯到达任一端时，它停止移动，直到车厢翻转。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/4614098a7fe807091fd2643a335153e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bfvgvh6lWSP8dFXA1X-2tQ.png"/></div></div></figure><p id="50c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当玩家进入电梯的触发碰撞器时，它被设置为电梯的子，当玩家退出时，它被取消配对。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/5165e6e75ac75a69133af70acce19545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChpfFyzfYroGF8x5rGDxig.png"/></div></div></figure><p id="7580" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个方法检查传入的ID是否与这个电梯的ID相同，并翻转向下移动的bool命令电梯移动。然后我们订阅和取消订阅ElevatorPanel的动作委托的方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/43a29e121a93032a2560ae789d39e144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uTj1DaVd1jGJY5TlMbSIQ.png"/></div></div></figure><p id="b78b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当电梯面板被激活时，它调用电梯并改变bool，使其移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/fd8b7522d013309303ad80598a227868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1NkV1Al_d3nLjJPaDGh2ww.gif"/></div></div></figure></div></div>    
</body>
</html>