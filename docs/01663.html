<html>
<head>
<title>Git Branching Made Easy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git分支变得简单</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/git-branching-made-easy-1cc894b9fd03?source=collection_archive---------13-----------------------#2021-04-19">https://medium.com/geekculture/git-branching-made-easy-1cc894b9fd03?source=collection_archive---------13-----------------------#2021-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7068" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是Git简介系列文章的第二篇。第一篇文章可以在这里找到<a class="ae jd" rel="noopener" href="/geekculture/a-beginners-guide-to-git-and-git-internals-1e7dcd89d65e"/>。注意，第一条是本文的前提。</p><p id="b76a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在处理一个大项目时，项目的几个特性是同时开发的。Git分支有助于以极其有效的方式实现这一目的。让我们试着用一个例子来理解它。假设有两个开发者——DevA和DevB。两人都在一起做一个项目。这是他们的Git存储库当前的提交历史。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/3c05ac68296b1c06b8e87b55f8db1bfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*0geoL_NfASFFkQKTciHOoQ.jpeg"/></div></figure><p id="b79d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">过了一段时间，他们觉得如果DevA开始开发featureA，DevB开始开发featureB会更好。在一个没有分支的世界中，两个开发人员将致力于相同的开发路线。DevA将看到DevB所做的提交和更改，反之亦然。事情不会变得扑朔迷离吗？将DevA的工作与DevB的工作分开将变得极其困难。</p><p id="6529" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Git分支提供了一种简单的机制，可以同时开发项目的几个特性，然后在主项目中合并这些特性。这有助于将你的工作与团队其他成员的工作完全隔离开来。我认为，一旦我们开始使用Git分支，我们会更好地理解它的威力。所以让我们直接开始吧。</p><p id="09dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，这就是Git分支的工作方式。每当你想在你的项目中开发一个特定的特性时，你就分支到另一条开发线。一旦您完成了特性的实现，特性分支就可以合并到最初的开发路线中(也称为主分支)。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/d18efb617d7b0ddea1f725ad163da508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fXE4dcsWMV9Z7K1fJFObnQ.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Orange color depicts the branch in which featureA is implemented, while the Cyan color depicts the branch in which featureB is implemented. Branching helps maintain isolation in the development environment for both the developers.</figcaption></figure><h1 id="9c65" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">什么是Git分支？</h1><p id="3ccc" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">一直以来(在前一篇文章中),我们都是在一条直线上开发，没有任何分支。嗯，那是个谎言！我们还在一个分支上，主分支。这是Git在您执行<code class="du ky kz la lb b">git init</code>时创建的默认分支。请记住，当您执行<code class="du ky kz la lb b">git log</code>时，您将会看到在您的最新提交中写入了一个master。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lc"><img src="../Images/98adf4b24ccc8f60215ab66c5d2b8819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xwNWZO1UQnwENA51t50UQ.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Every branch has a name. Stickers denote the name of the branches. The Master branch is the default branch created when we do a git init.</figcaption></figure><p id="b0cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总的来说，总支被认为是发展的主线。为了实现一个特定的特性，您可以分支到另一个特性分支，然后将该特性分支合并到主分支中。因此，主分支应该是永久的，而其他分支在它们被创建的目的实现之后(在将它们合并到另一个分支之后)就会消亡。</p></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><h1 id="d9a9" class="jv jw hi bd jx jy lk ka kb kc ll ke kf kg lm ki kj kk ln km kn ko lo kq kr ks bi translated">Git分支在内部是如何工作的？如何创建Git分支？</h1><p id="5313" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">目前，这是我们的知识库的样子-</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="0823" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git log<br/>commit e097d8da357fe97c36c7178f0b770ae44b1f1f3c (HEAD -&gt; master)<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Thu May 21 10:24:55 2020 +0530</span><span id="5c5d" class="lt jw hi lb b fi ly lv l lw lx">changed file2</span><span id="30e6" class="lt jw hi lb b fi ly lv l lw lx">commit 6642a0de776b52bbe993555a4bf14aed060afea2<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 22:14:12 2020 +0530</span><span id="7839" class="lt jw hi lb b fi ly lv l lw lx">added another line in file1</span><span id="6eb6" class="lt jw hi lb b fi ly lv l lw lx">commit 155891ca19d94f67159a992c77923818b57d74a5<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 10:41:06 2020 +0530</span><span id="e639" class="lt jw hi lb b fi ly lv l lw lx">created file1, created subDir1 and created file2 in it</span></pre><p id="fecc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通知<code class="du ky kz la lb b">master</code>写在最近一次提交上。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lz"><img src="../Images/9efa8e73c6eb88a7a864fca1af5bacfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*8hS5O_YFZKtpwMCGdgCwWg.jpeg"/></div></figure><p id="9802" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建一个新的分支<code class="du ky kz la lb b">feature1</code>，执行以下命令</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="eb64" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git branch feature1<br/>&gt;&gt;&gt; git log<br/>commit e097d8da357fe97c36c7178f0b770ae44b1f1f3c (HEAD -&gt; master, feature1)<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Thu May 21 10:24:55 2020 +0530</span><span id="8b77" class="lt jw hi lb b fi ly lv l lw lx">changed file2</span><span id="333a" class="lt jw hi lb b fi ly lv l lw lx">commit 6642a0de776b52bbe993555a4bf14aed060afea2<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 22:14:12 2020 +0530</span><span id="c150" class="lt jw hi lb b fi ly lv l lw lx">added another line in file1</span><span id="9b28" class="lt jw hi lb b fi ly lv l lw lx">commit 155891ca19d94f67159a992c77923818b57d74a5<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 10:41:06 2020 +0530</span><span id="8eb0" class="lt jw hi lb b fi ly lv l lw lx">created file1, created subDir1 and created file2 in it</span></pre><p id="65d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您现在会注意到在最近一次提交中写入了<code class="du ky kz la lb b">master, feature1</code>。因此，已经创建了新的分支特征1，其指向由<code class="du ky kz la lb b">master</code>分支指向的相同提交。</p><p id="8765" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要查看所有git分支，请执行下面的命令。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="5f71" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git branch<br/>  feature1<br/>* master</span></pre><p id="d799" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意母版上的星号。这表示主节点是我们当前的工作分支。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ma"><img src="../Images/0b710c7f696c686af90cfefcd18bc777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*bpl9KcHwVeF9J1gYgnkbHQ.jpeg"/></div><figcaption class="jr js et er es jt ju bd b be z dx">feature1 branch originates from Commit-3. (Currently, no commits have been created in feature1 branch)</figcaption></figure><p id="baaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，总结一下:</p><ol class=""><li id="de4f" class="mb mc hi ih b ii ij im in iq md iu me iy mf jc mg mh mi mj bi translated">使用<code class="du ky kz la lb b">git branch branchname</code>创建一个新的分支。</li><li id="81fa" class="mb mc hi ih b ii mk im ml iq mm iu mn iy mo jc mg mh mi mj bi translated">当一个新的分支被创建时，比方说，从分支1创建的分支2，然后分支2指向我们刚刚看到的分支1中的最新提交。</li><li id="46e5" class="mb mc hi ih b ii mk im ml iq mm iu mn iy mo jc mg mh mi mj bi translated"><code class="du ky kz la lb b">git branch</code>查看存储库中所有工作的分支</li></ol><h1 id="678c" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">深入研究Git参考</h1><p id="0cb5" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">让我们暂时离题，谈谈Git引用。很好地理解Git引用对理解Git分支如何在内部工作很有帮助。</p><p id="8d86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，什么是Git引用呢？它们有什么用处？</p><p id="e851" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Git中的引用提供了一种标记重要对象的机制，这样以后就可以很容易地引用它们。假设对于项目的某个部分，您希望经常引用commit-2中的代码。这需要我们知道提交对象的提交散列。但是，我们可以使用已经创建的引用来引用提交对象，而不是执行一个<code class="du ky kz la lb b">git log</code>，然后重复搜索提交散列。我们稍后将看到如何创建引用。</p><p id="b8c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考文献有两种:<br/> 1。机头<br/> 2。标签</p><p id="0df7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行以下命令，查看这些引用是如何存储在<code class="du ky kz la lb b">.git</code>目录中的。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="d0c0" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; tree .git/refs</span><span id="fe35" class="lt jw hi lb b fi ly lv l lw lx">.git/refs<br/>├── heads<br/>│   ├── feature1<br/>│   └── master<br/>└── tags</span></pre><p id="ecc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们逐一看看<em class="mp">头</em>和<em class="mp">标签</em></p><h2 id="ffb6" class="lt jw hi bd jx mq mr ms kb mt mu mv kf iq mw mx kj iu my mz kn iy na nb kr nc bi translated">头</h2><p id="77eb" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">还记得我们之前执行<code class="du ky kz la lb b">git log</code>的时候，也看到了<code class="du ky kz la lb b">HEAD -&gt; master</code>。这是什么头？HEAD只不过是指向我们当前工作的分支的指针。一个例外是分离的头状态(别担心！这个我们一会儿再说)。如果我们在主分支机构工作，我们会看到<code class="du ky kz la lb b">HEAD -&gt; master</code>。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="8574" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git log<br/>commit e097d8da357fe97c36c7178f0b770ae44b1f1f3c (HEAD -&gt; master, feature1)<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Thu May 21 10:24:55 2020 +0530</span><span id="2237" class="lt jw hi lb b fi ly lv l lw lx">changed file2</span><span id="1dc4" class="lt jw hi lb b fi ly lv l lw lx">commit 6642a0de776b52bbe993555a4bf14aed060afea2<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 22:14:12 2020 +0530</span><span id="0297" class="lt jw hi lb b fi ly lv l lw lx">added another line in file1</span><span id="842b" class="lt jw hi lb b fi ly lv l lw lx">commit 155891ca19d94f67159a992c77923818b57d74a5<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 10:41:06 2020 +0530</span><span id="07cc" class="lt jw hi lb b fi ly lv l lw lx">created file1, created subDir1 and created file2 in it</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nd"><img src="../Images/dca403fe812193d43948243acdf2aca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*_QZuksfc5Iun-ZB91Oh88g.jpeg"/></div><figcaption class="jr js et er es jt ju bd b be z dx">HEAD points to the current working branch, master branch.</figcaption></figure><p id="2c04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们切换到<code class="du ky kz la lb b">feature1</code>分支。(我们目前在主分支上。我们已经创建了<code class="du ky kz la lb b">feature1</code>分支，但是我们仍然在主分支上。要切换到<code class="du ky kz la lb b">feature1</code>分支，执行以下命令。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="b2f8" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git checkout feature1<br/>Switched to branch 'feature1'</span><span id="ac5f" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git branch<br/>* feature1<br/>  master</span></pre><p id="7129" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已将当前工作分支更改为<code class="du ky kz la lb b">feature1</code>。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="6f8c" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git log<br/>commit e097d8da357fe97c36c7178f0b770ae44b1f1f3c (HEAD -&gt; feature1, master)<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Thu May 21 10:24:55 2020 +0530</span><span id="4e0d" class="lt jw hi lb b fi ly lv l lw lx">changed file2</span><span id="4609" class="lt jw hi lb b fi ly lv l lw lx">commit 6642a0de776b52bbe993555a4bf14aed060afea2<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 22:14:12 2020 +0530</span><span id="89dc" class="lt jw hi lb b fi ly lv l lw lx">added another line in file1</span><span id="308e" class="lt jw hi lb b fi ly lv l lw lx">commit 155891ca19d94f67159a992c77923818b57d74a5<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 10:41:06 2020 +0530</span><span id="0fa1" class="lt jw hi lb b fi ly lv l lw lx">created file1, created subDir1 and created file2 in it</span></pre><p id="efb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，在我们的最新快照上，现在有了<code class="du ky kz la lb b">HEAD -&gt; feature1</code>，而不是<code class="du ky kz la lb b">HEAD -&gt; master</code>。自从我们转到<code class="du ky kz la lb b">feature1</code>分公司，我们的头现在指向<code class="du ky kz la lb b">feature1</code>。因此，HEAD只不过是指向git存储库中当前分支的指针。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ne"><img src="../Images/7de61537f10e2b3a12e8e1bed9b3c8f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*Nx5EqQhySznAnNl3kZ-y_g.jpeg"/></div><figcaption class="jr js et er es jt ju bd b be z dx">After switching to the feature1 branch, HEAD now points to feature1.</figcaption></figure><p id="4f1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在再一次，真相时刻到了！我们一直在谈论的分支也只不过是一个<em class="mp">引用对象</em>。它是指向分支中最新提交的指针。当在分支中创建新的提交对象时，分支指针被简单地更新以指向新的提交对象。</p><p id="c72d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，Git如何能够识别我们正在处理的当前提交对象，它获取HEAD引用对象，它提供分支引用对象(对于当前工作的分支),然后分支引用对象提供提交对象。因此得名<code class="du ky kz la lb b">HEAD -&gt; branch</code>。</p><p id="97fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目前，在我们的git存储库中，引用— <code class="du ky kz la lb b">HEAD-&gt;feature1</code>、<code class="du ky kz la lb b">feature1</code>和<code class="du ky kz la lb b">master</code>指向同一个提交对象。而<code class="du ky kz la lb b">HEAD</code>引用对象指向<code class="du ky kz la lb b">feature1</code>引用对象。</p><p id="d5a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总结:<br/> 1。<em class="mp">分支</em>引用对象跟踪我们在分支上的最新提交。只有在分支中创建新的提交对象时，才会更新<em class="mp">分支</em>引用对象。<br/> 2。<em class="mp"> HEAD </em>引用对象跟踪我们当前工作的分支。每当当前工作分支切换到另一个分支时，更新<em class="mp">头</em>参考对象。</p><h2 id="ef5f" class="lt jw hi bd jx mq mr ms kb mt mu mv kf iq mw mx kj iu my mz kn iy na nb kr nc bi translated">标签</h2><p id="4658" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">标签主要用于标记Git提交历史中的重要点(提交)。虽然heads是内置的引用，但是标签是需要创建的。</p><p id="c959" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设提交-2是一个重要的提交，需要经常引用。我们可以创建一个指向commit-2的标签。每当需要引用commit-2对象时，我们都可以使用这个标记。</p><p id="1d20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为理解Git分支不需要知道标签。我们将在另一篇文章中讨论它。该文章的链接可在<a class="ae jd" href="http://nothing" rel="noopener ugc nofollow" target="_blank">此处</a>获得。</p><h1 id="ae1d" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">继续Git分支</h1><p id="9582" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">所以，我们看了如何创建分支，如何在分支之间切换，以及列出所有分支。我们还看了什么是HEAD引用对象，以及<em class="mp">分支</em>只不过是指向该分支的最新提交的指针(引用对象)。<br/>现在，让我们做一些更改，并在新的<code class="du ky kz la lb b">feature1</code>分支中创建更多的提交。请注意，我们目前在我们的<code class="du ky kz la lb b">feature1</code>分支。执行以下命令，在<code class="du ky kz la lb b">feature1</code>分支中创建两个新的提交。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="c873" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; echo "I have been created in feature1 branch." &gt; file3<br/>&gt;&gt;&gt; git add file3<br/>&gt;&gt;&gt; git commit -m "added file3"<br/>[feature1 693f09b] added file3<br/> 1 file changed, 1 insertion(+)</span><span id="9e49" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; echo "Another commit in file3" &gt;&gt; file3<br/>&gt;&gt;&gt; git add file3<br/>&gt;&gt;&gt; git commit -m "change in file3"<br/>[feature1 ef154d8] change in file3<br/> 1 file changed, 1 insertion(+)</span><span id="77a9" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git log<br/>commit ef154d8ae3bac0e2bdcd8102381e49a3a5c480ee (HEAD -&gt; feature1)<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sat Jul 18 12:23:49 2020 +0530</span><span id="a094" class="lt jw hi lb b fi ly lv l lw lx">change in file3</span><span id="3b7a" class="lt jw hi lb b fi ly lv l lw lx">commit 693f09b8c388a684156f9654d99ad5c4b8f2133c<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sat Jul 18 12:18:07 2020 +0530</span><span id="fd98" class="lt jw hi lb b fi ly lv l lw lx">added file3</span><span id="180b" class="lt jw hi lb b fi ly lv l lw lx">commit e097d8da357fe97c36c7178f0b770ae44b1f1f3c (master)<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Thu May 21 10:24:55 2020 +0530</span><span id="7578" class="lt jw hi lb b fi ly lv l lw lx">changed file2</span><span id="1edc" class="lt jw hi lb b fi ly lv l lw lx">commit 6642a0de776b52bbe993555a4bf14aed060afea2<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 22:14:12 2020 +0530</span><span id="0e94" class="lt jw hi lb b fi ly lv l lw lx">added another line in file1</span><span id="e2a8" class="lt jw hi lb b fi ly lv l lw lx">commit 155891ca19d94f67159a992c77923818b57d74a5<br/>Author: pprakarsh &lt;<a class="ae jd" href="mailto:prakarshparashar@gmail.com" rel="noopener ugc nofollow" target="_blank">prakarshparashar@gmail.com</a>&gt;<br/>Date:   Sun May 3 10:41:06 2020 +0530</span><span id="3183" class="lt jw hi lb b fi ly lv l lw lx">created file1, created subDir1 and created file2 in it</span></pre><p id="104f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到<code class="du ky kz la lb b">feature1</code>分支比主分支提前2次提交。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nf"><img src="../Images/b617874bd388224e9e3026bed91dd5bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*az1WJscOXHvPazRtuQKhAA.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Commit history of our current Git repository. feature1 pointer moves to the latest commit, while HEAD points to the working branch pointer (feature1)</figcaption></figure><p id="d39f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们想把我们的<code class="du ky kz la lb b">feature1</code>分行并入总分行。那么，我们如何做到这一点呢？</p><h1 id="f602" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">合并分支概述:</h1><p id="68d3" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">当我们完成一个特定特性的实现时，我们会希望将它合并到它所来自的分支中。当我们想要将branch2合并到branch1时，我们有两种可能的情况:</p><h2 id="0260" class="lt jw hi bd jx mq mr ms kb mt mu mv kf iq mw mx kj iu my mz kn iy na nb kr nc bi translated">快进合并:</h2><p id="832e" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">当branch1(引用对象)和branch2(引用对象)的最低共同祖先是branch1(引用对象)时，执行快速向前合并。</p><p id="7030" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，当我们谈论branch1/branch2(引用对象)时，我们谈论的是该分支上的最新提交。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ng"><img src="../Images/694a3367b382c2852279994201029fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OugJcoghWka7p_eYhm9vw.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Lowest Common Ancestor of branch1 and branch2 is the latest commit of branch1</figcaption></figure><p id="003a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，头部指向branch1。因此，如果要将branch2合并到branch1，我们当前的工作分支必须是branch1。</p><p id="7906" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快进合并很简单。在快速向前合并期间，branch1指针被简单地移动到branch2指针所指向的同一个提交。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nh"><img src="../Images/ca4b17b17fa0245babbdbe5e75534aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6ZDuCzykQtHhoMOqnUnog.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">In a Fast-Forward merge, the branch1 pointer simply moves to the position of branch2 pointer. The HEAD pointer follows the branch1 pointer.</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ni"><img src="../Images/32623260281fd077518c19b37567ca95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udoG9WCW_99J_EDxG4flzg.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Redrawing the previous image</figcaption></figure><h2 id="4262" class="lt jw hi bd jx mq mr ms kb mt mu mv kf iq mw mx kj iu my mz kn iy na nb kr nc bi translated">三路合并:</h2><p id="84a8" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">当branch1(引用对象)和branch2(引用对象)的最低共同祖先是某个其他提交对象，而不是branch1(引用对象)或branch2(引用对象)时，执行三向合并。<br/>这通常发生在新分支被创建后，一些新的提交被添加到原始分支时。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nj"><img src="../Images/0e687cd2d4973c2a29af9a83855bd989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nlo7al4cgDvx-8AePbNV4g.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Lowest Common Ancestor of branch1 and branch2 is neither pointed by branch1 pointer nor by branch2 pointer. Commit-3, Commit-5, and Commit-7 will be involved in a 3-way merge</figcaption></figure><p id="e22d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">而不是向前移动分支指针。创建一个新的提交— <em class="mp">合并提交。</em>该提交有两个父级——一个来自branch1，一个来自branch2。branch1和branch2中的更改被合并并组合到这个新的<em class="mp">合并提交中。</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nk"><img src="../Images/c4d28c4e9f5593532f580bf85db80872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jl_nC3UGSpfttSx9NRG6OA.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">On merging, a new merge commit, commit-8 is created in branch1, which incorporates the changes made in both branch1 and branch2.</figcaption></figure><p id="0b96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们对将branch2合并到branch1时的两种可能场景有了一个很好的想法。现在让我们在git存储库中尝试一下快进合并和三向合并。</p><h1 id="0958" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">合并分支实现:</h1><p id="e63c" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">在处理分支时，简单地做一个<code class="du ky kz la lb b">git log</code>可能不是最好的方法。下面显示了一个更好的可视化git分支的命令。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="2be2" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git log --all --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit</span><span id="6b1e" class="lt jw hi lb b fi ly lv l lw lx">* ef154d8 - (HEAD -&gt; feature1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - (master) changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="d374" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出变得丰富多彩和整洁。你不需要重复编写这个庞大的命令，你可以为这个命令设置一个别名(比如说<code class="du ky kz la lb b">git lg</code>)。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="9593" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git config --global alias.lg "log --all --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</span></pre><p id="ce36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在执行<code class="du ky kz la lb b">git lg</code>会给我们同样漂亮的输出。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="e088" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git lg<br/>* ef154d8 - (HEAD -&gt; feature1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - (master) changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="e61e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们看到feature1分支比<code class="du ky kz la lb b">master</code>分支提前了两次提交。feature1分支和<code class="du ky kz la lb b">master</code>分支的最低共同祖先是主分支指向的提交。因此，这就是快速向前合并的情况。我们想把<code class="du ky kz la lb b">feature1</code>分公司并入<code class="du ky kz la lb b">master</code>分公司。因此头必须指向主人。所以，第一步是结帐到<code class="du ky kz la lb b">master</code>分支(我们想要合并的分支)。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="dbfb" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git checkout master<br/>Switched to branch 'master'<br/>&gt;&gt;&gt; git branch<br/>  feature1<br/>* master<br/>&gt;&gt;&gt; git lg<br/>* ef154d8 - (feature1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - (HEAD -&gt; master) changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="7ff2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要将<code class="du ky kz la lb b">feature1</code>分支合并到<code class="du ky kz la lb b">master</code>分支，执行以下命令。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="c4ef" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git merge feature1<br/>Updating e097d8d..ef154d8<br/>Fast-forward<br/> file3 | 2 ++<br/> 1 file changed, 2 insertions(+)<br/> create mode 100644 file3<br/>&gt;&gt;&gt; git lg<br/>* ef154d8 - (HEAD -&gt; master, feature1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="0d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">观察<code class="du ky kz la lb b">git merge feature1</code>命令的输出。输出显示快进合并。在执行<code class="du ky kz la lb b">git lg</code>时，我们看到主设备现在指向与feature1相同的提交对象，而HEAD指向主设备。</p><p id="e509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ky kz la lb b">feature1</code>分支指针现在没有用了，所以我们可以删除<code class="du ky kz la lb b">feature1</code>分支。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="dc5a" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git branch -d feature1<br/>Deleted branch feature1 (was ef154d8).<br/>&gt;&gt;&gt; git branch<br/>* master<br/>&gt;&gt;&gt; git lg<br/>* ef154d8 - (HEAD -&gt; master) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="2d0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意不再有<code class="du ky kz la lb b">feature1</code>分支。</p><p id="2023" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们创建一个新的分支<code class="du ky kz la lb b">branch1</code>并尝试进行3路合并。为此，我们还需要创建一些新的提交。执行以下命令创建一个新分支<code class="du ky kz la lb b">branch1</code>。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="0a25" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git branch branch1<br/>&gt;&gt;&gt; git branch<br/>  branch1<br/>* master<br/>&gt;&gt;&gt; git lg<br/>* ef154d8 - (HEAD -&gt; master, branch1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="c36d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们目前在主分支机构。我们将在主分支中创建一个新的提交对象。目前，master和branch1都指向同一个提交对象。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="f462" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; echo "Another commit in master" &gt;&gt; file3<br/>&gt;&gt;&gt; git add file3<br/>&gt;&gt;&gt; git commit -m "file3 changes"<br/>[master f614763] file3 changes<br/> 1 file changed, 1 insertion(+)<br/>&gt;&gt;&gt; git lg<br/>* f614763 - (HEAD -&gt; master) file3 changes (10 seconds ago) &lt;pprakarsh&gt;<br/>* ef154d8 - (branch1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="48b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，主对象现在指向新的提交对象。我们现在将切换到<code class="du ky kz la lb b">branch1</code>。头部现在将指向branch1。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="d67e" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git checkout branch1<br/>Switched to branch 'branch1'<br/>&gt;&gt;&gt; git branch<br/>* branch1<br/>  master<br/>&gt;&gt;&gt; git lg<br/>* f614763 - (master) file3 changes (8 minutes ago) &lt;pprakarsh&gt;<br/>* ef154d8 - (HEAD -&gt; branch1) change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="1234" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在将在<code class="du ky kz la lb b">branch1</code>中创建新的提交。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="0697" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; echo "creating file4" &gt; file4<br/>&gt;&gt;&gt; git add file4<br/>&gt;&gt;&gt; git commit -m "created file4"<br/>[branch1 9e2566a] created file4<br/> 1 file changed, 1 insertion(+)<br/> create mode 100644 file4<br/>&gt;&gt;&gt; git lg<br/>* 9e2566a - (HEAD -&gt; branch1) created file4 (3 seconds ago) &lt;pprakarsh&gt;<br/>| * f614763 - (master) file3 changes (10 minutes ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="4db0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意提交对象<code class="du ky kz la lb b">ef154d8</code>处的差异。提交对象<code class="du ky kz la lb b">f614763</code>(属于<code class="du ky kz la lb b">master</code>分支)和<code class="du ky kz la lb b">9e2566a</code>(属于<code class="du ky kz la lb b">branch1</code>分支)都包含对同一父提交对象<code class="du ky kz la lb b">ef154d8</code>的引用。</p><p id="d3af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du ky kz la lb b">branch1</code>中创建另一个提交对象。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="4331" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; echo "another line in file4" &gt;&gt; file4<br/>&gt;&gt;&gt; git add file4<br/>&gt;&gt;&gt; git commit -m "file4 changes"<br/>[branch1 0b17834] file4 changes<br/> 1 file changed, 1 insertion(+)<br/>&gt;&gt;&gt; git lg<br/>* 0b17834 - (HEAD -&gt; branch1) file4 changes (7 seconds ago) &lt;pprakarsh&gt;<br/>* 9e2566a - created file4 (14 minutes ago) &lt;pprakarsh&gt;<br/>| * f614763 - (master) file3 changes (24 minutes ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="3ba9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到在<code class="du ky kz la lb b">branch1</code>中创建了新的提交对象<code class="du ky kz la lb b">0b17834</code>。</p><p id="e3f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们将<code class="du ky kz la lb b">branch1</code>合并到<code class="du ky kz la lb b">master</code>分支中。注意，<code class="du ky kz la lb b">branch1</code>引用对象(<code class="du ky kz la lb b">0b17834</code>)和<code class="du ky kz la lb b">master</code>引用对象(<code class="du ky kz la lb b">f614763</code>)的<em class="mp">最低共同祖先</em>是不同的提交对象(<code class="du ky kz la lb b">ef154d8</code>)。因此，它是一个3路合并。但是，首先，我们需要切换到<code class="du ky kz la lb b">master</code>分支。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="0d23" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git checkout master<br/>Switched to branch 'master'<br/>&gt;&gt;&gt; ls<br/>subDir1  file1  file3<br/>&gt;&gt;&gt; git lg<br/>* 0b17834 - (branch1) file4 changes (11 minutes ago) &lt;pprakarsh&gt;<br/>* 9e2566a - created file4 (24 minutes ago) &lt;pprakarsh&gt;<br/>| * f614763 - (HEAD -&gt; master) file3 changes (34 minutes ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="e305" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，存储库的内容没有显示<code class="du ky kz la lb b">file4</code>，因为<code class="du ky kz la lb b">file4</code> blob对象不能通过当前的提交对象<code class="du ky kz la lb b">f614763</code>访问。</p><p id="5c29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行以下命令，将<code class="du ky kz la lb b">branch1</code>合并到<code class="du ky kz la lb b">master</code>分支。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="2d36" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git merge branch1<br/>Merge made by the 'recursive' strategy.<br/> file4 | 2 ++<br/> 1 file changed, 2 insertions(+)<br/> create mode 100644 file4</span><span id="9ac0" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git lg<br/>*   15357ad - (HEAD -&gt; master) Merge branch 'branch1' (15 seconds ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 0b17834 - (branch1) file4 changes (15 minutes ago) &lt;pprakarsh&gt;<br/>| * 9e2566a - created file4 (29 minutes ago) &lt;pprakarsh&gt;<br/>* | f614763 - file3 changes (39 minutes ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="9f54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过执行<code class="du ky kz la lb b">git lg</code>命令可以清楚地看到合并。一个新的合并提交对象(<code class="du ky kz la lb b">15357ad</code>)已经被创建，它包含了<code class="du ky kz la lb b">master</code>分支和<code class="du ky kz la lb b">branch1</code>中的变更。主服务器现在指向这个提交对象。</p><p id="52b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们确定<code class="du ky kz la lb b">branch1</code>不再有用，我们可以通过执行<code class="du ky kz la lb b">git branch -d branch1</code>命令删除<code class="du ky kz la lb b">branch1</code>。我选择不删。</p><h1 id="32b7" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">合并冲突的情况</h1><p id="75ca" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">现在，我们了解了<em class="mp"> Git合并</em>是如何工作的，我们也知道如何进行<em class="mp"> Git合并</em>。如果我们正在合并两个分支，那么两个分支中的更改都将合并到合并中。但是，如果我们在两个分支中的同一个文件的同一个部分中进行更改呢？很明显，这两个变化不能被合并到最终的合并中。这会导致合并冲突。我们如何解决这些合并冲突？</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nl"><img src="../Images/ce4dd0157ee0158dc986e6db07d6137f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BKULSvkVPh7hp7H_RRvS1g.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">In file2.txt, changes in the same part of the file lead to a merge conflict. Which change should be incorporated in the merge? — Tuesday or Wednesday</figcaption></figure><p id="76cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里要考虑的重要一点是，只有在三向合并的情况下才会发生合并冲突。在快速向前合并的情况下，只在一个分支中进行更改，因此合并冲突是不可能的。</p><p id="f771" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看如何解决合并冲突。首先，我们将在git存储库中创建一个新的分支<code class="du ky kz la lb b">branch2</code>。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="9e97" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git branch branch2<br/>&gt;&gt;&gt; git branch<br/>  branch1<br/>  branch2<br/>* master<br/>&gt;&gt;&gt; git lg<br/>*   15357ad - (HEAD -&gt; master, branch2) Merge branch 'branch1' (3 hours ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 0b17834 - (branch1) file4 changes (3 hours ago) &lt;pprakarsh&gt;<br/>| * 9e2566a - created file4 (3 hours ago) &lt;pprakarsh&gt;<br/>* | f614763 - file3 changes (3 hours ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="7400" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，已经创建了一个新的分支<code class="du ky kz la lb b">branch2</code>，它指向与<code class="du ky kz la lb b">master</code> ( <code class="du ky kz la lb b">15357ad</code>)相同的提交对象。另外，请注意，我们目前在<code class="du ky kz la lb b">master</code>分支中。我们将在主分支中创建另一个提交对象。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="8b10" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; echo "Today is Tuesday" &gt; file5<br/>&gt;&gt;&gt; git add file5<br/>&gt;&gt;&gt; git commit -m "file5 added, Tuesday"<br/>[master 2a4af24] file5 added, Tuesday<br/> 1 file changed, 1 insertion(+)<br/> create mode 100644 file5</span><span id="e066" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git lg<br/>* 2a4af24 - (HEAD -&gt; master) file5 added, Tuesday (11 minutes ago) &lt;pprakarsh&gt;<br/>*   15357ad - (branch2) Merge branch 'branch1' (3 hours ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 0b17834 - (branch1) file4 changes (3 hours ago) &lt;pprakarsh&gt;<br/>| * 9e2566a - created file4 (4 hours ago) &lt;pprakarsh&gt;<br/>* | f614763 - file3 changes (4 hours ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="30d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到在<code class="du ky kz la lb b">master</code>分支中创建了一个新的提交对象。我们现在将切换到<code class="du ky kz la lb b">branch2</code>，并在<code class="du ky kz la lb b">branch2</code>中创建一个新的提交。切换到<code class="du ky kz la lb b">branch2</code>，我们会看到工作目录中没有<code class="du ky kz la lb b">file5</code>。这是因为我们当前在一个不同的提交对象上(<code class="du ky kz la lb b">15357ad</code>)。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="a290" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git checkout branch2<br/>Switched to branch 'branch2'<br/>&gt;&gt;&gt; git branch<br/>  branch1<br/>* branch2<br/>  master</span><span id="6a6b" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git lg<br/>* 2a4af24 - (master) file5 added, Tuesday (16 minutes ago) &lt;pprakarsh&gt;<br/>*   15357ad - (HEAD -&gt; branch2) Merge branch 'branch1' (3 hours ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 0b17834 - (branch1) file4 changes (3 hours ago) &lt;pprakarsh&gt;<br/>| * 9e2566a - created file4 (4 hours ago) &lt;pprakarsh&gt;<br/>* | f614763 - file3 changes (4 hours ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span><span id="beaf" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; ls<br/>subDir1  file1  file3  file4</span></pre><p id="89b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在将在<code class="du ky kz la lb b">branch2</code>中创建一个新的提交对象。我们也将在<code class="du ky kz la lb b">branch2</code>中创建<code class="du ky kz la lb b">file5</code>，其内容与<code class="du ky kz la lb b">master</code>分支中的内容相同，只是名称不同。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="992b" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; echo "Today is Wednesday" &gt; file5<br/>&gt;&gt;&gt; git add file5<br/>&gt;&gt;&gt; git commit -m "file5 added, Wednesday"<br/>[branch2 206760e] file5 added, Wednesday<br/> 1 file changed, 1 insertion(+)<br/> create mode 100644 file5</span><span id="e99a" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git lg<br/>* 206760e - (HEAD -&gt; branch2) file5 added, Wednesday (31 seconds ago) &lt;pprakarsh&gt;<br/>| * 2a4af24 - (master) file5 added, Tuesday (18 minutes ago) &lt;pprakarsh&gt;<br/>|/  <br/>*   15357ad - Merge branch 'branch1' (3 hours ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 0b17834 - (branch1) file4 changes (3 hours ago) &lt;pprakarsh&gt;<br/>| * 9e2566a - created file4 (4 hours ago) &lt;pprakarsh&gt;<br/>* | f614763 - file3 changes (4 hours ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="9649" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du ky kz la lb b">branch2</code>分支中创建了一个新的提交对象<code class="du ky kz la lb b">206760e</code>。我们可以在提交时看到分歧<code class="du ky kz la lb b">15357ad</code>。这个提交对象<code class="du ky kz la lb b">15357ad</code>充当提交对象— <code class="du ky kz la lb b">2a4af24</code>(在<code class="du ky kz la lb b">master</code>分支中)和<code class="du ky kz la lb b">206760e</code>(在<code class="du ky kz la lb b">branch2</code>分支中)的父对象。现在让我们切换回<code class="du ky kz la lb b">master</code>分支，并尝试将<code class="du ky kz la lb b">branch2</code>合并到<code class="du ky kz la lb b">master</code>分支中。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="c609" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git checkout master<br/>Switched to branch 'master'</span><span id="28f7" class="lt jw hi lb b fi ly lv l lw lx">&gt;&gt;&gt; git merge branch2<br/>Auto-merging file5<br/>CONFLICT (add/add): Merge conflict in file5<br/>Automatic merge failed; fix conflicts and then commit the result.</span></pre><p id="6986" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在执行<code class="du ky kz la lb b">git merge</code>命令时，我们会看到我们的合并失败了。这是因为git无法自己解决冲突。我们将不得不手动解决冲突。</p><p id="957b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行<code class="du ky kz la lb b">git status</code>，这将提供有冲突的文件的名称。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="5bd1" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git status<br/>On branch master<br/>You have unmerged paths.<br/>  (fix conflicts and run "git commit")<br/>  (use "git merge --abort" to abort the merge)</span><span id="7afa" class="lt jw hi lb b fi ly lv l lw lx">Unmerged paths:<br/>  (use "git add &lt;file&gt;..." to mark resolution)</span><span id="d086" class="lt jw hi lb b fi ly lv l lw lx">both added:      file5</span><span id="3395" class="lt jw hi lb b fi ly lv l lw lx">no changes added to commit (use "git add" and/or "git commit -a")</span></pre><p id="f251" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将看到<code class="du ky kz la lb b">file5</code>导致了合并冲突。现在使用你选择的编辑器打开<code class="du ky kz la lb b">file5</code>。你会看到这样的东西。低于<code class="du ky kz la lb b">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>和高于<code class="du ky kz la lb b">=======</code>的所有内容都属于当前工作分支中的最新提交(在这种情况下为<code class="du ky kz la lb b">master</code>)，而在<code class="du ky kz la lb b">=======</code>和<code class="du ky kz la lb b">&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch2</code>之间的所有内容都属于另一个分支的最新提交(在这种情况下为<code class="du ky kz la lb b">branch2</code>)。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="5ec6" class="lt jw hi lb b fi lu lv l lw lx">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br/>Today is Tuesday<br/>=======<br/>Today is Wednesday<br/>&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch2</span></pre><p id="c04b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编辑文件并解决冲突。现在你的文件看起来会像这样。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="c941" class="lt jw hi lb b fi lu lv l lw lx">Today is Wednesday</span></pre><p id="62b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后执行<code class="du ky kz la lb b">git add filename</code>将文件标记为已解析，最后执行<code class="du ky kz la lb b">git commit</code>提交更改并完成分支合并过程。</p><pre class="jf jg jh ji fd lp lb lq lr aw ls bi"><span id="6498" class="lt jw hi lb b fi lu lv l lw lx">&gt;&gt;&gt; git add file5<br/>&gt;&gt;&gt; git commit<br/>[master 4cf897d] Merge branch 'branch2'<br/>&gt;&gt;&gt; git lg<br/>*   4cf897d - (HEAD -&gt; master) Merge branch 'branch2' (2 minutes ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 206760e - (branch2) file5 added, Wednesday (32 minutes ago) &lt;pprakarsh&gt;<br/>* | 2a4af24 - file5 added, Tuesday (49 minutes ago) &lt;pprakarsh&gt;<br/>|/  <br/>*   15357ad - Merge branch 'branch1' (4 hours ago) &lt;pprakarsh&gt;<br/>|\  <br/>| * 0b17834 - (branch1) file4 changes (4 hours ago) &lt;pprakarsh&gt;<br/>| * 9e2566a - created file4 (4 hours ago) &lt;pprakarsh&gt;<br/>* | f614763 - file3 changes (4 hours ago) &lt;pprakarsh&gt;<br/>|/  <br/>* ef154d8 - change in file3 (5 days ago) &lt;pprakarsh&gt;<br/>* 693f09b - added file3 (5 days ago) &lt;pprakarsh&gt;<br/>* e097d8d - changed file2 (9 weeks ago) &lt;pprakarsh&gt;<br/>* 6642a0d - added another line in file1 (3 months ago) &lt;pprakarsh&gt;<br/>* 155891c - created file1, created subDir1 and created file2 in it (3 months ago) &lt;pprakarsh&gt;</span></pre><p id="9560" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在运行<code class="du ky kz la lb b">git lg</code>时，我们可以清楚地看到<code class="du ky kz la lb b">branch2</code>已经成功合并到了<code class="du ky kz la lb b">master</code>分支中。已经创建了一个新的提交对象(<code class="du ky kz la lb b">4cf897d</code>)，它合并了合并冲突解决之后两个分支的改变。</p><p id="93ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就完成了我们对Git分支的讨论。需要考虑的重要一点是，虽然我们一次只讨论了两个分支，但是实际上可以嵌套多个分支。这个想法是，我们一次只考虑两个分支，将它们合并成一个，然后选择另外两个分支，以此类推。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lc"><img src="../Images/b4471909fa4d4961bac4efacf0782409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*91VkCEoq0cNwmiG-lBc4dA.jpeg"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Notice the nesting of maser branch, Branch-A, Branch-B, and Branch-C</figcaption></figure><h2 id="c4e4" class="lt jw hi bd jx mq mr ms kb mt mu mv kf iq mw mx kj iu my mz kn iy na nb kr nc bi translated">分离头状态</h2><p id="b65c" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">从本文开头关于Git引用的讨论中，我们了解到，branch只不过是对分支中最新提交的引用(指针)。我们还谈到了HEAD是指向当前分支的指针(<code class="du ky kz la lb b">HEAD-&gt;&lt;branchname&gt;</code>)。<br/>在分离的HEAD状态下，HEAD指向其他提交(不是分支)。这使得开发人员能够将头部移动到不同的提交对象，并重新创建与另一个提交相同的工作目录状态。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lc"><img src="../Images/d547d1f409087bd0c2b2628dfb1bf4b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bz7qMX0XFXTlxeu64nTL6Q.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Detached HEAD state, HEAD pointing to Commit-2, instead of branch1 (HEAD-&gt;branch1).</figcaption></figure><p id="2474" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以执行这个命令将HEAD移动到另一个提交对象。</p><p id="719f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ky kz la lb b">git checkout &lt;commit-hash&gt;</code></p><p id="f87e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过分支到一个新的分支，您可以在分离的HEAD状态下进一步对您的存储库进行更改，从而允许您使用您已经保存的提交快照。</p><p id="a6aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们对Git分支的讨论到此结束。希望这篇文章对你有帮助！请在下面的评论中告诉我你的想法。在下一篇文章中，我们将深入了解跟踪Git存储库中的变更。</p><p id="74ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本系列的第一篇文章(关于Git内部机制)可以在<a class="ae jd" rel="noopener" href="/geekculture/a-beginners-guide-to-git-and-git-internals-1e7dcd89d65e">这里</a>找到。</p></div></div>    
</body>
</html>