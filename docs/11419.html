<html>
<head>
<title>How to GREP content on Linux?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Linux上GREP内容？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-grep-content-on-linux-3db0a0112618?source=collection_archive---------10-----------------------#2022-03-21">https://medium.com/geekculture/how-to-grep-content-on-linux-3db0a0112618?source=collection_archive---------10-----------------------#2022-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1e9bf1382a326fd98f09fa1178a3fd54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SvDlAx27bWqyCiaW"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@nixcreative?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tyler Nix</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9adf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择性地过滤文本是大多数脚本包含的最重要的任务之一。然而，大多数初学shell脚本的人会以声明的方式来做，通过初始化一个变量，并使用一个带有条件的for循环，有选择地删除无用的文本。然而，有一种更简单的方法来执行相同的操作。只需使用名为grep的内置GNU命令。这个实用程序允许您接受一个用文本填充的输入，并输出通过匹配模式过滤的文本。</p><p id="bf19" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是grep命令在Linux上的工作方式。</p><h2 id="3784" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">grep命令的结构</h2><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="2518" class="jt ju hi kt b fi kx ky l kz la">grep [OPTIONS] PATTERN [FILE ....]<br/>grep [OPTIONS] [ -e PATTERN | -f FILE] [FILE...]</span></pre><p id="8027" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/subscribe/@drechang">注册我的电子邮件列表，如果这对你有帮助的话</a></p><h2 id="b616" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">解释了所有grep选项</h2><p id="ede4" class="pw-post-body-paragraph iv iw hi ix b iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo lf jq jr js hb bi translated"><strong class="ix hj">您将在大多数时间使用的选项</strong></p><ul class=""><li id="af41" class="lg lh hi ix b iy iz jc jd jg li jk lj jo lk js ll lm ln lo bi translated">-v，—反转匹配:选择不匹配的行</li><li id="7543" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-c，— count:打印匹配行的计数</li><li id="4e61" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-w，— word-regexp:选择包含构成完整单词的匹配项的行。</li><li id="b774" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-x，— line-regexp:选择与整行完全匹配的内容。</li><li id="051f" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-r，-R，recursive:递归读取每个目录下的所有文件；相当于三维递归</li><li id="c062" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">— include=PATTERN:仅在目录中递归搜索文件匹配模式。</li><li id="07a7" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">— exclude=PATTERN:在目录中递归跳过文件匹配模式</li><li id="140c" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-n，—行号:用输入文件中的行号作为每行输出的前缀。</li><li id="f4b7" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-o，— only-matching:仅显示匹配行匹配模式的部分。</li><li id="eb2d" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-G，— basic-regexp:将模式解释为基本正则表达式。默认选项</li><li id="7717" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-H，--with-filename:打印每个匹配项的文件名。</li><li id="d32b" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-i，— ignore-case:忽略大小写区别</li><li id="1f55" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-E，— extended-regexp:将模式解释为扩展正则表达式</li><li id="b317" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-e模式，— regexp=PATTERN:使用模式作为模式；对保护有用</li><li id="2a3e" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-F，—固定字符串:将模式解释为固定字符串的列表</li><li id="d5b6" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-P，— perl-regexp:将模式解释为perl正则表达式。</li></ul><p id="86d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">您偶尔会用到的选项</strong></p><ul class=""><li id="c34f" class="lg lh hi ix b iy iz jc jd jg li jk lj jo lk js ll lm ln lo bi translated">-A NUM，— after-context=NUM:在匹配行之后打印行数。</li><li id="0d0f" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-a，— text:相当于— binary-files=text选项。</li><li id="a711" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-B NUM，— before-context=NUM:匹配行之前的打印行数。</li><li id="eea0" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-C NUM，— context=NUM:打印行数</li><li id="6638" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-b，— byte-offset:在每个输出行之前打印输入文件中的字节偏移量</li><li id="afdd" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">—COLOR[= WHEN]，— color=[=WHEN]:用GREP_COLOR env变量中的market将匹配字符串括起来。WHEN可以是“从不”、“总是”或“自动”。</li><li id="2f64" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">—帮助:输出简短的帮助消息。</li><li id="7ca6" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-m NUM，-max-count=NUM:在NUM个匹配行之后停止读取。</li><li id="fa80" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">— mmap:对系统调用使用mmap而不是read。可能会产生更好的性能。</li><li id="8fd4" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">— label=LABEL:显示实际来自标准输入的输入</li><li id="c05b" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">—行缓冲:使用行缓冲</li><li id="f48d" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-q，—安静，—无声:安静；不要向标准输出中写入任何内容。相当于-s或-no-messages选项。</li><li id="71c6" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-s，— no-messages:将输出重定向到/dev/null</li><li id="6bca" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-U，— binary:将文件视为二进制文件，而不是文本</li><li id="28ea" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-u，— unix-byte-offsets:报告unix样式的字节偏移量。</li><li id="c8cc" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-V，— version:打印grep的版本号</li><li id="59df" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-y:和-i一样</li><li id="678a" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated">-Z，— null:输出零字节而不是字符</li></ul><p id="c071" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/subscribe/@drechang">注册我的电子邮件列表，如果这对你有帮助的话</a></p><h2 id="b647" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">使用grep的示例</h2><p id="8a84" class="pw-post-body-paragraph iv iw hi ix b iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo lf jq jr js hb bi translated"><strong class="ix hj">查找所有隐藏的目录和目录下的文件(非递归)</strong></p><p id="eb63" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">命令</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="153d" class="jt ju hi kt b fi kx ky l kz la">ls -al | grep ".*"</span></pre><p id="7edd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="081e" class="jt ju hi kt b fi kx ky l kz la">total 308<br/>drwx------ 39 andre andre  4096 Mar 18 14:01 .<br/>drwxr-xr-x  4 root  root   4096 Jun 24  2021 ..<br/>drwxr-x---  2 andre andre  4096 Nov 16  2020 .android<br/>drwxr-xr-x  3 andre andre  4096 Nov 16  2020 .ApacheDirectoryStudio<br/>drwxr-xr-x  2 andre andre  4096 Aug 10  2021 Applications<br/>-rw-r--r--  1 andre andre    57 Feb 17  2020 .bash_profile<br/>-rw-r--r--  1 andre andre  3838 Feb 17  2020 .bashrc<br/>drwxr-xr-x 63 andre andre  4096 Feb 22 18:17 .cache<br/>drwx------  2 andre andre  4096 Aug 10  2021 .cdw<br/>drwxr-xr-x 76 andre andre  4096 Mar 18 14:01 .config<br/>-rw-r--r--  1 andre andre  4855 Oct 29  2017 .dir_colors<br/>drwxr-xr-x  8 andre andre  4096 Mar 18 13:40 Documents<br/>drwxr-xr-x  8 andre andre  4096 Jul 14  2021 .dotfiles<br/>drwxr-xr-x 11 andre andre 20480 Mar 18 14:01 Downloads<br/>drwxr-xr-x  3 andre andre  4096 Nov 16  2020 .eclipse<br/>-rwxr-xr--  1 andre andre    89 Mar 17 17:22 .fehbg<br/>drwx------  3 andre andre  4096 Oct  8  2020 .fltk<br/>-rw-r--r--  1 andre andre  1121 Jul 14  2021 .gitignore<br/>drwx------  4 andre andre  4096 Feb 22 11:13 .gnupg<br/>drwxr-xr-x  2 andre andre  4096 Dec 24 13:41 .gphoto<br/>drwxr-xr-x  8 andre andre  4096 Jul  9  2021 .gradle<br/>-rw-r--r--  1 andre andre    31 Dec 21  2020 .gtk-bookmarks<br/>-rw-r--r--  1 andre andre   300 Jun 25  2021 install.sh<br/>...</span></pre><p id="a47e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">获取给定目录中的文件和目录计数(非递归)</strong></p><p id="741a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">命令</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="dc81" class="jt ju hi kt b fi kx ky l kz la">ls -al | grep "" -c</span></pre><p id="941a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="2b2c" class="jt ju hi kt b fi kx ky l kz la">63</span></pre><p id="b4d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/subscribe/@drechang">注册我的电子邮件列表，如果这对你有帮助的话</a></p><h2 id="e9e4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">了解有关grep命令的更多信息</h2><p id="93f6" class="pw-post-body-paragraph iv iw hi ix b iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo lf jq jr js hb bi translated">在终端中键入以下命令，了解有关grep命令的更多信息。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="f249" class="jt ju hi kt b fi kx ky l kz la">man grep</span></pre><p id="0c2f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">IT和工程领域是快速发展的领域。跟不上意味着你将被落在后面。跟上的最好方法是保持最新的新闻和教育内容。<a class="ae iu" rel="noopener" href="/subscribe/@dretechtips">订阅免费电子邮件列表，将您的职业生涯提升10倍。</a></p><p id="5432" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">加入我们，因为50多名想要快速跟踪其职业生涯和知识基础的人已经注册。</strong></p><p id="332d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">相关内容</strong></p><ul class=""><li id="18dd" class="lg lh hi ix b iy iz jc jd jg li jk lj jo lk js ll lm ln lo bi translated"><a class="ae iu" rel="noopener" href="/geekculture/an-awkward-introduction-c672cc0490dd?source=your_stories_page----------------------------------------">尴尬的介绍</a></li><li id="da7c" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated"><a class="ae iu" rel="noopener" href="/@drechang/why-windows-is-better-than-linux-da410b8d9689?source=list-6214c3278ac0--------6-------8e08eeb9d883------------------------">为什么Windows比Linux好？</a></li><li id="7a9f" class="lg lh hi ix b iy lp jc lq jg lr jk ls jo lt js ll lm ln lo bi translated"><a class="ae iu" rel="noopener" href="/geekculture/how-to-find-files-in-linux-6ed09a98c899">如何在Linux中查找文件？</a></li></ul></div></div>    
</body>
</html>