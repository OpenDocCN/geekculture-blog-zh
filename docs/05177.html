<html>
<head>
<title>A Beginner Rubyist’s Guide to use the Google Maps API through the “google_maps_service” Gem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新手指南，通过“Google _ Maps _ service”Gem使用Google Maps API</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/a-beginner-rubyists-guide-to-use-the-google-maps-api-with-ruby-on-rails-through-the-68189b48a89e?source=collection_archive---------11-----------------------#2021-07-13">https://medium.com/geekculture/a-beginner-rubyists-guide-to-use-the-google-maps-api-with-ruby-on-rails-through-the-68189b48a89e?source=collection_archive---------11-----------------------#2021-07-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="751f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Google提供了几个API，其中一个就是它的地图。这篇博客文章为初学ruby的人提供了使用“Google _ Maps _ service”gem来使用Google Maps平台的分步指南。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="8c88" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">什么是API？</h1><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ki"><img src="../Images/3aa1df56e997ed69a9e402a00b9e6366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c2tQEcKBRGeTQBk9KcU3SA.jpeg"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx"><a class="ae ky" href="https://www.danielleskosky.com/what-is-an-api/" rel="noopener ugc nofollow" target="_blank">https://www.danielleskosky.com/what-is-an-api/</a></figcaption></figure><p id="7126" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应用程序编程接口(API)是指预先组织好的数据、协议、函数和子程序的集合，各种程序和web应用程序可以使用这些数据、协议、函数和子程序相互连接。API帮助两个或更多的应用程序相互通信，以便它们可以相互发送请求以及依赖于请求的结果。这反过来使得应用程序和网站的开发更加简单和高效。此外，应用程序还可以通过其API利用预先存在的服务，并提供更新的功能以使用户受益。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="4234" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><strong class="ak">谷歌地图API </strong></h1><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es kz"><img src="../Images/5b9477823db4ef38fad7da7293d87300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ykmq_iylIWF6WeZ4Xv-1w.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx"><a class="ae ky" href="https://shivama205.medium.com/google-drive-api-playing-around-dbffe544c574" rel="noopener">https://shivama205.medium.com/google-drive-api-playing-around-dbffe544c574</a></figcaption></figure><p id="eeff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像其他大型在线服务提供商一样，谷歌有大量的API。这些应用程序编程接口由Google开发，以便开发人员和企业可以与Google服务进行通信，将它们与自己的应用程序集成在一起。在这篇博客中，我们将具体看看谷歌提供的谷歌地图API。</p><p id="f6a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用谷歌地图API，我们需要去<a class="ae ky" href="https://developers.google.com/maps" rel="noopener ugc nofollow" target="_blank">谷歌地图平台网站</a>，开始使用我们的谷歌账户。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es la"><img src="../Images/4bccce92157671bee9ee71f3c9f47fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-zpyidoJTYENSgOCSePsGA.png"/></div></div></figure><p id="8f08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您没有计费帐户，Google可能会提示您在此时或以后创建一个帐户，因为需要Google API服务费的全部功能。当你注册时，你还可以获得90天的免费试用，在此期间有300美元的信用额度。</p><p id="a7c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，您可以使用垂直导航栏(或者通过该栏上的API选择器选项)选择您想要使用的API。或者，您也可以通过页面顶部的搜索栏来搜索您正在寻找的API类型。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lb"><img src="../Images/4708df1fe295b473b94af4df05e2fb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X7JJv4KlxKeBqDQJ_4_0Yw.png"/></div></div></figure><p id="487c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于谷歌在谷歌地图平台下有几个API，我们必须选择具有我们想要的特定特性的API。在这个带有“Google _ maps _ service”gem的演示中，我们需要的API是Geocoding和DirectionsAPI。因此，继续通过导航链接或搜索栏找到这两个API，并启用它们。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lc"><img src="../Images/d8ad27e62e74934ac2bb65969a122711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*freYlIX0HDFyPYZG4xVZ2Q.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx">Enabling the Geocoding and Directions APIs</figcaption></figure><p id="a4d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是通过导航到<a class="ae ky" href="https://console.cloud.google.com/project/_/google/maps-apis/credentials" rel="noopener ugc nofollow" target="_blank">凭证页面</a>来生成API密钥。关于生成API key的具体说明可以在<a class="ae ky" href="https://developers.google.com/maps/documentation/embed/get-api-key" rel="noopener ugc nofollow" target="_blank">这里</a>找到。Google需要这个API键来识别调用API的应用程序或项目，并检查这个应用程序是否有权调用API。现在复制这个API键，我们将在从Ruby代码访问地理编码和方向API时使用它。</p><blockquote class="ld le lf"><p id="bbcc" class="if ig lg ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>保持这个API密匙的安全以维护我们的功能和数据的完整性是很重要的。由于谷歌对大型网站的每个API请求收费，如果API密钥被暴露，可能会导致严重的经济后果。因此，这个密钥应该在服务器端保密。</p></blockquote><p id="316f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至此，我们已经完成了谷歌方面要求的设置。现在，是时候设置“Google _ maps _ service”gem并为这个演示编写Ruby代码了。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="acbe" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><strong class="ak">什么是宝石？</strong></h1><p id="1a2d" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">在Ruby的上下文中，gem只是包含不同用途的Ruby代码和数据的开源库。使用gems允许程序员使用预先编写的代码，而不需要显式地编写代码，这是非常高效的。我们用来访问谷歌地图API的Ruby gem叫做<a class="ae ky" href="https://github.com/edwardsamuel/google-maps-services-ruby" rel="noopener ugc nofollow" target="_blank"><em class="lg">Google _ maps _ service</em></a>。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="cf31" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">“谷歌地图服务”宝石</h1><p id="23e9" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">这个gem对于访问Google Maps API及其功能非常有用。它返回一个Ruby Hash/Array对象作为我们请求API的结果。该结果的格式结构与Google Maps API文档中的格式结构相同。我们可以通过在终端中运行以下命令来安装这个gem:</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="926f" class="lu jl hi lq b fi lv lw l lx ly">gem install google_maps_service </span></pre><p id="a12f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在我们的Ruby代码中加载这个gem，我们添加了下面一行:</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="f836" class="lu jl hi lq b fi lv lw l lx ly">require 'google_maps_service'</span></pre><h1 id="4adc" class="jk jl hi bd jm jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh bi translated"><strong class="ak">使用“谷歌地图服务”与谷歌地图应用编程接口配合使用</strong></h1><p id="00c9" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">要使用这个gem，我们必须配置一个客户机。最简单的方法如下:</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="2ea4" class="lu jl hi lq b fi lv lw l lx ly">gmapclient = GoogleMapsService::Client.new(key: 'Insert API key')</span></pre><blockquote class="ld le lf"><p id="8cf7" class="if ig lg ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>这里需要我们之前复制的API key。我们必须在初始化客户端时将它指定为键值。</p></blockquote><p id="1b97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此之后，我们可以随时引用客户端(即gmapclient)来访问API函数。以下是使用客户端查找地理编码和方向的示例:</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="1d38" class="lu jl hi lq b fi lv lw l lx ly">geocode_result = gmapclient.geocode(address: ‘Yale University’)</span><span id="9bf3" class="lu jl hi lq b fi me lw l lx ly">puts geocode_result</span><span id="97d5" class="lu jl hi lq b fi me lw l lx ly">#=&gt; {:address_components=&gt;[{:long_name=&gt;"New Haven", :short_name=&gt;"New Haven", :types=&gt;["locality", "political"]}, {:long_name=&gt;"New Haven County", :short_name=&gt;"New Haven County", :types=&gt;["administrative_area_level_2", "political"]}, {:long_name=&gt;"Connecticut", :short_name=&gt;"CT", :types=&gt;["administrative_area_level_1", "political"]}, {:long_name=&gt;"United States", :short_name=&gt;"US", :types=&gt;["country", "political"]}, {:long_name=&gt;"06520", :short_name=&gt;"06520", :types=&gt;["postal_code"]}], :formatted_address=&gt;"New Haven, CT 06520, USA", :geometry=&gt;{:location=&gt;{:lat=&gt;41.3163244, :lng=&gt;-72.92234309999999}, :location_type=&gt;"GEOMETRIC_CENTER", :viewport=&gt;{:northeast=&gt;{:lat=&gt;41.3176733802915, :lng=&gt;-72.92099411970848}, :southwest=&gt;{:lat=&gt;41.3149754197085, :lng=&gt;-72.9236920802915}}}, :place_id=&gt;"ChIJRUlizbbZ54kRJwTTtMSiNK4", :plus_code=&gt;{:compound_code=&gt;"838H+G3 New Haven, CT, USA", :global_code=&gt;"87H9838H+G3"}, :types=&gt;["establishment", "point_of_interest", "university"]}</span></pre></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><blockquote class="ld le lf"><p id="b7be" class="if ig lg ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated">注意:从上面可以看出，geocode方法返回一个包含几个键值对的大型散列。每一对都提供了一定的属性信息，我们可以通过键检索我们选择的任何信息。例如，我们可以访问所选位置的类型属性，如下所示:</p></blockquote><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="262b" class="lu jl hi lq b fi lv lw l lx ly">puts geocode_result.first[:types]</span><span id="021a" class="lu jl hi lq b fi me lw l lx ly">#=&gt; establishment<br/>point_of_interest<br/>university</span></pre><p id="6db2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个示例-查找从起点到目的地的路线方向:</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="bf77" class="lu jl hi lq b fi lv lw l lx ly">routes = gmapclient.directions(‘Times Square’,‘Madison Square Garden’, mode: ‘transit’, alternatives: false)</span><span id="405d" class="lu jl hi lq b fi me lw l lx ly">puts routes</span><span id="57ac" class="lu jl hi lq b fi me lw l lx ly">#=&gt; {:bounds=&gt;{:northeast=&gt;{:lat=&gt;40.759899, :lng=&gt;-73.984138}, :southwest=&gt;{:lat=&gt;40.749223, :lng=&gt;-73.9915043}}, :copyrights=&gt;"Map data ©2021", :legs=&gt;[{:arrival_time=&gt;{:text=&gt;"2:38am", :time_zone=&gt;"America/New_York", :value=&gt;1626158308}, :departure_time=&gt;{:text=&gt;"2:28am", :time_zone=&gt;"America/New_York", :value=&gt;1626157728}, :distance=&gt;{:text=&gt;"1.2 mi", :value=&gt;2009}, :duration=&gt;{:text=&gt;"10 mins", :value=&gt;580}, :end_address=&gt;"4 Pennsylvania Plaza, New York, NY 10001, USA", :end_location=&gt;{:lat=&gt;40.7500372, :lng=&gt;-73.9915043}, :start_address=&gt;"Manhattan, NY 10036, USA", :start_location=&gt;{:lat=&gt;40.756567, :lng=&gt;-73.9859804}, :steps=&gt;[{:distance=&gt;{:text=&gt;"0.3 mi", :value=&gt;404}, :duration=&gt;{:text=&gt;"2 mins", :value=&gt;99}, :end_location=&gt;{:lat=&gt;40.759899, :lng=&gt;-73.984138}, :html_instructions=&gt;"Walk to 49 St", :polyline=&gt;{:points=&gt;"qgwwFjkqbMsP_GeBoB"}, :start_location=&gt;{:lat=&gt;40.756567, :lng=&gt;-73.9859804}, :steps=&gt;[{:distance=&gt;{:text=&gt;"0.2 mi", :value=&gt;331}, :duration=&gt;{:text=&gt;"1 min", :value=&gt;25}, :end_location=&gt;{:lat=&gt;40.7593878, :lng=&gt;-73.9846985}, :polyline=&gt;{:points=&gt;"qgwwFjkqbMsP_G"}, :start_location=&gt;{:lat=&gt;40.756567, :lng=&gt;-73.9859804}, :travel_mode=&gt;"WALKING"}, {:distance=&gt;{:text=&gt;"240 ft", :value=&gt;73}, :duration=&gt;{:text=&gt;"1 min", :value=&gt;74}, :end_location=&gt;{:lat=&gt;40.759899, :lng=&gt;-73.984138}, :html_instructions=&gt;"Take entrance &lt;span class=\"location\"&gt;7th Ave &amp; 47th St at NW corner&lt;/span&gt;", :polyline=&gt;{:points=&gt;"eywwFjcqbMeBoB"}, :start_location=&gt;{:lat=&gt;40.7593878, :lng=&gt;-73.9846985}, :travel_mode=&gt;"WALKING"}], :travel_mode=&gt;"WALKING"}, {:distance=&gt;{:text=&gt;"0.7 mi", :value=&gt;1203}, :duration=&gt;{:text=&gt;"4 mins", :value=&gt;210}, :end_location=&gt;{:lat=&gt;40.749565, :lng=&gt;-73.98795299999999}, :html_instructions=&gt;"Subway towards Coney Island-Stillwell Av", :polyline=&gt;{:points=&gt;"k|wwFz_qbMbIfFRLVLTLTLVLVJVLXHVJXJXHXHXJZFZH~InBpIfBNBLDNBNBNDLBN@NDN@NDL@NBN@NBL@`MjA@?"}, :start_location=&gt;{:lat=&gt;40.759899, :lng=&gt;-73.984138}, :transit_details=&gt;{:arrival_stop=&gt;{:location=&gt;{:lat=&gt;40.749565, :lng=&gt;-73.98795299999999}, :name=&gt;"34 St - Herald Sq Subway Station"}, :arrival_time=&gt;{:text=&gt;"2:33am", :time_zone=&gt;"America/New_York", :value=&gt;1626158007}, :departure_stop=&gt;{:location=&gt;{:lat=&gt;40.759899, :lng=&gt;-73.984138}, :name=&gt;"49 St"}, :departure_time=&gt;{:text=&gt;"2:30am", :time_zone=&gt;"America/New_York", :value=&gt;1626157827}, :headsign=&gt;"Coney Island-Stillwell Av", :line=&gt;{:agencies=&gt;[{:name=&gt;"MTA New York City Transit", :phone=&gt;"1 (718) 330-1234", :url=&gt;"<a class="ae ky" href="http://www.mta.info/" rel="noopener ugc nofollow" target="_blank">http://www.mta.info/</a>"}], :color=&gt;"#f2c40a", :icon=&gt;"//maps.gstatic.com/mapfiles/transit/iw2/6/us-ny-mta/N.png", :name=&gt;"N Line", :short_name=&gt;"N", :text_color=&gt;"#000000", :url=&gt;"<a class="ae ky" href="http://web.mta.info/nyct/service/pdf/tncur.pdf" rel="noopener ugc nofollow" target="_blank">http://web.mta.info/nyct/service/pdf/tncur.pdf</a>", :vehicle=&gt;{:icon=&gt;"//maps.gstatic.com/mapfiles/transit/iw2/6/subway2.png", :name=&gt;"Subway", :type=&gt;"SUBWAY"}}, :num_stops=&gt;2}, :travel_mode=&gt;"TRANSIT"}, {:distance=&gt;{:text=&gt;"0.2 mi", :value=&gt;402}, :duration=&gt;{:text=&gt;"5 mins", :value=&gt;300}, :end_location=&gt;{:lat=&gt;40.7500372, :lng=&gt;-73.9915043}, :html_instructions=&gt;"Walk to 4 Pennsylvania Plaza, New York, NY 10001, USA", :polyline=&gt;{:points=&gt;"w{uwFtwqbMKh@HU`<a class="ae ky" href="http://twitter.com/Rb" rel="noopener ugc nofollow" target="_blank">@Rb</a>@XGPeAdDOf@CJM\\Oh@_@jAMTIVK\\GTUr@Gv@RNJFFDXTB@"}, :start_location=&gt;{:lat=&gt;40.749565, :lng=&gt;-73.98795299999999}, :steps=&gt;[{:distance=&gt;{:text=&gt;"59 ft", :value=&gt;18}, :duration=&gt;{:text=&gt;"1 min", :value=&gt;19}, :end_location=&gt;{:lat=&gt;40.749615, :lng=&gt;-73.988159}, :html_instructions=&gt;"Take exit &lt;span class=\"location\"&gt;6th Ave &amp; W 34th St at SW corner&lt;/span&gt;", :polyline=&gt;{:points=&gt;"w{uwFtwqbMKh@"}, :start_location=&gt;{:lat=&gt;40.749565, :lng=&gt;-73.98795299999999}, :travel_mode=&gt;"WALKING"}, {:distance=&gt;{:text=&gt;"167 ft", :value=&gt;51}, :duration=&gt;{:text=&gt;"1 min", :value=&gt;36}, :end_location=&gt;{:lat=&gt;40.749223, :lng=&gt;-73.9882808}, :html_instructions=&gt;"Head &lt;b&gt;southwest&lt;/b&gt; on &lt;b&gt;6th Ave&lt;/b&gt; toward &lt;b&gt;Broadway&lt;/b&gt;", :polyline=&gt;{:points=&gt;"y{uwFhxqbM`<a class="ae ky" href="http://twitter.com/Rb" rel="noopener ugc nofollow" target="_blank">@Rb</a>@X"}, :start_location=&gt;{:lat=&gt;40.7495719, :lng=&gt;-73.98805229999999}, :travel_mode=&gt;"WALKING"}, {:distance=&gt;{:text=&gt;"0.2 mi", :value=&gt;274}, :duration=&gt;{:text=&gt;"3 mins", :value=&gt;193}, :end_location=&gt;{:lat=&gt;40.7503853, :lng=&gt;-73.99123329999999}, :html_instructions=&gt;"Turn &lt;b&gt;right&lt;/b&gt; onto &lt;b&gt;W 33rd St&lt;/b&gt;", :maneuver=&gt;"turn-right", :polyline=&gt;{:points=&gt;"syuwFvyqbMGPeAdDOf@CJM\\Oh@_@jAMTIVK\\GTUr@Gv@"}, :start_location=&gt;{:lat=&gt;40.749223, :lng=&gt;-73.9882808}, :travel_mode=&gt;"WALKING"}, {:distance=&gt;{:text=&gt;"194 ft", :value=&gt;59}, :duration=&gt;{:text=&gt;"1 min", :value=&gt;52}, :end_location=&gt;{:lat=&gt;40.7500372, :lng=&gt;-73.9915043}, :html_instructions=&gt;"Turn &lt;b&gt;left&lt;/b&gt; onto &lt;b&gt;7th Ave&lt;/b&gt;/&lt;wbr/&gt;&lt;b&gt;Fashion Ave&lt;/b&gt;&lt;div style=\"font-size:0.9em\"&gt;Destination will be on the right&lt;/div&gt;", :maneuver=&gt;"turn-left", :polyline=&gt;{:points=&gt;"}`vwFdlrbMRNJFFDXTB@"}, :start_location=&gt;{:lat=&gt;40.7503853, :lng=&gt;-73.99123329999999}, :travel_mode=&gt;"WALKING"}], :travel_mode=&gt;"WALKING"}], :traffic_speed_entry=&gt;[], :via_waypoint=&gt;[]}], :overview_polyline=&gt;{:points=&gt;"qgwwFjkqbMsP_GeBoBbIfFvAv@`Bp@dBj@pLlC~JtBzB^|<a class="ae ky" href="http://twitter.com/JbMjAKh" rel="noopener ugc nofollow" target="_blank">@JbMjAKh</a>@HUdAl@mAvDq@zBm@`BUt@]hAGv@RNRL\\V"}, :summary=&gt;"", :warnings=&gt;["Walking directions are in beta. Use caution – This route may be missing sidewalks or pedestrian paths."], :waypoint_order=&gt;[]}</span></pre><blockquote class="ld le lf"><p id="e3a4" class="if ig lg ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>同样，directions函数(来自于我们之前在Google的API控制台上启用的Directions API)也输出了一个巨大的数据块作为hash，我们的工作就是从这个巨大的hash中提取我们需要的信息。这个函数的输出基本上描述了从一个给定的起点到一个特定的目的地的路径，并选择了一种行驶模式。</p></blockquote><p id="28f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着，尽管谷歌地图API为我们提供了大量的信息，但它仍然面临着浏览大量数据并检索最相关信息的挑战。因此，无论何时决定使用这个API，都要记住这一点。为了理解它的返回值，查阅它的文档是非常重要的。</p><p id="f116" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总之，我们可以通过“Google _ maps _ service”gem在Ruby应用程序中使用Google Map API。这个API提供了不同的功能，并返回大量存储为数组和散列的数据。我还想指出的是，我们可以使用Zilverline的另一个名为“<a class="ae ky" href="https://github.com/zilverline/google-maps" rel="noopener ugc nofollow" target="_blank"> google-maps </a>”的工具来处理Google Map API。不仅如此，还有谷歌地图API的替代品，比如开放街道地图和地图盒子。每一个都有自己的Ruby gems，这使得它们的配置更加简单。需要指出的是，他们的主要不足是没有谷歌那么多的数据和那么多的功能。但同时，Open Street Map是开源的，可以免费获得。因此，由程序员来决定使用哪种API来权衡收益和成本。总之，通过API和gems的结合，Rubyists可以集成外部功能、数据和信息来创建有用和有趣的应用程序。</p><h1 id="fd93" class="jk jl hi bd jm jn lz jp jq jr ma jt ju jv mb jx jy jz mc kb kc kd md kf kg kh bi translated">参考作品</h1><div class="mf mg ez fb mh mi"><a href="https://www.danielleskosky.com/what-is-an-api/" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab dw"><div class="mk ab ml cl cj mm"><h2 class="bd hj fi z dy mn ea eb mo ed ef hh bi translated">什么是API？丹尼尔·莱斯科斯基</h2><div class="mp l"><h3 class="bd b fi z dy mn ea eb mo ed ef dx translated">API是科技行业的一个时髦词。但是API实际上是做什么的呢？这篇文章将帮助你熟悉…</h3></div><div class="mq l"><p class="bd b fp z dy mn ea eb mo ed ef dx translated">www.danielleskosky.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg ez fb mh mi"><a href="https://shivama205.medium.com/google-drive-api-playing-around-dbffe544c574" rel="noopener follow" target="_blank"><div class="mj ab dw"><div class="mk ab ml cl cj mm"><h2 class="bd hj fi z dy mn ea eb mo ed ef hh bi translated">Google Drive API:到处玩</h2><div class="mp l"><h3 class="bd b fi z dy mn ea eb mo ed ef dx translated">这篇博客是关于我在当前项目中使用Google Drive APIs的经历。虽然…</h3></div><div class="mq l"><p class="bd b fp z dy mn ea eb mo ed ef dx translated">shivama205.medium.com</p></div></div><div class="mr l"><div class="mx l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg ez fb mh mi"><a href="https://www.geeksforgeeks.org/introduction-to-apis/" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab dw"><div class="mk ab ml cl cj mm"><h2 class="bd hj fi z dy mn ea eb mo ed ef hh bi translated">API简介- GeeksforGeeks</h2><div class="mp l"><h3 class="bd b fi z dy mn ea eb mo ed ef dx translated">什么是API？API是应用编程接口的缩写，它是通信接口的集合</h3></div><div class="mq l"><p class="bd b fp z dy mn ea eb mo ed ef dx translated">www.geeksforgeeks.org</p></div></div><div class="mr l"><div class="my l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg ez fb mh mi"><a href="https://cloud.google.com/endpoints/docs/openapi/when-why-api-key" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab dw"><div class="mk ab ml cl cj mm"><h2 class="bd hj fi z dy mn ea eb mo ed ef hh bi translated">为什么以及何时将API密钥|云端点与OpenAPI一起使用</h2><div class="mp l"><h3 class="bd b fi z dy mn ea eb mo ed ef dx translated">" type": "thumb-down "，" id": "hardToUnderstand "，" label ":"难以理解" }，{ "type": "thumb-down "，" id"…</h3></div><div class="mq l"><p class="bd b fp z dy mn ea eb mo ed ef dx translated">cloud.google.com</p></div></div><div class="mr l"><div class="mz l mt mu mv mr mw ks mi"/></div></div></a></div><div class="mf mg ez fb mh mi"><a rel="noopener follow" target="_blank" href="/@morgannegagne/what-is-a-ruby-gem-1eec2684e68"><div class="mj ab dw"><div class="mk ab ml cl cj mm"><h2 class="bd hj fi z dy mn ea eb mo ed ef hh bi translated">什么是红宝石？</h2><div class="mp l"><h3 class="bd b fi z dy mn ea eb mo ed ef dx translated">当我第一次了解红宝石时，它们似乎很神奇。通过运行捆绑包安装，我可以以某种方式获得…</h3></div><div class="mq l"><p class="bd b fp z dy mn ea eb mo ed ef dx translated">medium.com</p></div></div><div class="mr l"><div class="na l mt mu mv mr mw ks mi"/></div></div></a></div></div></div>    
</body>
</html>