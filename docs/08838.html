<html>
<head>
<title>Request Object Express.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">请求对象Express.js</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/request-object-express-js-669720f3bfb5?source=collection_archive---------6-----------------------#2021-11-16">https://medium.com/geekculture/request-object-express-js-669720f3bfb5?source=collection_archive---------6-----------------------#2021-11-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/4501ff7c9f46dcc802a05fbff37d6339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_B5YhdQ1qZLapYEh.jpg"/></div></div></figure><div class=""/><p id="10d2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，我正在学习Express.js，理解请求部分非常重要，我们可以如何使用它来处理客户端的请求，这非常有趣，这是Express.js和Node.js世界的又一步。</p><h1 id="c3bd" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">请求快递. js</h1><p id="0dfb" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">首先，请求是当用户从服务器发送信息或请求信息时，有两种常见的请求，第一种是GET，第二种是POST。</p><h1 id="410f" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">请求正文</h1><p id="e351" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">当我们使用body只是为了发送数据时，我们在这种情况下使用POST，对于上传文件，媒体类型可以是“application/json”、“application/x-www-form-urlencoded”或“multipart-form-data”。</p><h1 id="c363" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">请求对象</h1><p id="ff8d" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">请求对象作为请求处理程序的第一个参数传递，它包含用户请求的信息。</p><p id="dcc7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们需要用Express.js创建我们的小服务器，开始吧！</p><p id="d5f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装express并创建我们的js文件，然后启动服务器</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="a112" class="la jp ht kw b fi lb lc l ld le">const express = require( 'express' )<br/>const app     = express()<br/>const port    = process.env.PORT || 1024</span><span id="41d9" class="la jp ht kw b fi lf lc l ld le">app.get( '/', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/><em class="lg">res</em>.type( 'text/plain' )<br/><em class="lg">res</em>.send( 'Thanks for reading' )})</span><span id="695f" class="la jp ht kw b fi lf lc l ld le">app.listen( port, console.log( `http://127.0.0.1:${ port }` ) )</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lh"><img src="../Images/fdee7660aca5c1b8c98855de8e24cfc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*lBSc0qIS3dAo1aTcCKP7Ug.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example starting our server</figcaption></figure><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="39d9" class="la jp ht kw b fi lb lc l ld le">req.params</span></pre><p id="8e00" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">包含命名路由参数的</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="3b4f" class="la jp ht kw b fi lb lc l ld le">app.get( '/params', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.params )<br/><em class="lg">res</em>.send( `Params` )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lm"><img src="../Images/4d3890d1eca78f4fde1c71d95bcb665c.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*BDmCZBx6rGRJL0LYOmbQUg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example params code</figcaption></figure><p id="f9cd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们运行我们的第一个服务器，我们可以看到它在控制台的输出上发送一个对象，因为现在它是一个空对象，但是稍后我们将看到参数。</p><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es ln"><img src="../Images/d3644c12bc5ca6e77e076ab5e681eef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*bjhz8_HUZ5nbXMB_nEDDBQ.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example output console</figcaption></figure><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="244c" class="la jp ht kw b fi lb lc l ld le">req.query</span></pre><p id="b6ff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它有querystring参数(GET参数)</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="0366" class="la jp ht kw b fi lb lc l ld le">app.get( '/querystrings', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.query )<br/><em class="lg">res</em>.send( 'QueryStrings' )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lo"><img src="../Images/e5136671f2ba93f4b2cfb6e6bf21ce21.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*QyA_dgsPi32xaT221R0mCQ.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example going to the querystring page</figcaption></figure><p id="727b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一条正常的路径，但是如果我们添加querystrings会发生什么呢？</p><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lp"><img src="../Images/516d92b8b91602ff3e794d980cdf64e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*UeU9NXD_uueZjnK-eUvsHg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example empty object without querystrings</figcaption></figure><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lq"><img src="../Images/3a9ab5217a756ae1fedef67b26f28aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*cVO4_zlekSSPO_NYts5Iiw.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example going to the querystring page with querystrings</figcaption></figure><figure class="kr ks kt ku fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lr"><img src="../Images/417c7cd6e46f5e16332b3d1b8d97e957.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*A45hFVuvv7L9D9jk6ZCZWw.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">Example querystring from GET</figcaption></figure><p id="ab14" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些参数是页面的输出，我们可以用它们来提供信息等。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="fc72" class="la jp ht kw b fi lb lc l ld le">req.body</span></pre><p id="4982" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果用户使用页面中的一个表单，并从POST请求中发送其数据，我们可以从该对象中看到关于它的信息。</p><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es ls"><img src="../Images/45b339da06c23fe94ef3bab03e6d7194.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*7UQ_IZFlwuRatpBlxCDP3w.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example body page</figcaption></figure><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lt"><img src="../Images/a98f441556b1e0abfaaab7532ed70816.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/format:webp/1*RUYlJoiwhar7BD_xE5qyVg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example output on the console with the request body</figcaption></figure><p id="a98f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我有一个未定义的保留字，但这是因为我们需要从POST发送数据，这将捕获对象，我们可以保存它。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="0bce" class="la jp ht kw b fi lb lc l ld le">req.route</span></pre><p id="1d47" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于当前路线的信息</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="aa36" class="la jp ht kw b fi lb lc l ld le">app.get( '/route', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.route )<br/><em class="lg">res</em>.send( 'Route' )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lu"><img src="../Images/2ba6c161d67d2a64d9ba6e9c7090bb7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*pcMI2EmKL6SaSMBB05IGXg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example route page</figcaption></figure><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lv"><img src="../Images/784f593187bfc7ceb2a0f3ff062770c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*G0gyINgKs0clrufrfcZBtQ.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Output on the console with all the information about the route</figcaption></figure><p id="b06a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如你所见，它给出了关于路线的所有信息</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="7935" class="la jp ht kw b fi lb lc l ld le">req.cookies</span></pre><p id="f4b4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于cookies值的信息</p><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lw"><img src="../Images/faedb4424abaf35abfdf7ec75ac0ca97.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*lmlKWm6e_-28ycTo844JJg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example cookies page</figcaption></figure><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lx"><img src="../Images/6c003861ea3936792ce8844bb85c1443.png" data-original-src="https://miro.medium.com/v2/resize:fit:212/format:webp/1*a8hsf_z08bsYrV0rQx-f4Q.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example output on the console</figcaption></figure><p id="0e88" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以看到，在输出中又出现了一个未定义的保留字，因为我们需要用cookie传递信息。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9f03" class="la jp ht kw b fi lb lc l ld le">req.headers</span></pre><p id="7fc8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来自客户端的信息你可以在Chrome DevTools的网络部分看到，点击页面，在右边你会看到标题。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="48a0" class="la jp ht kw b fi lb lc l ld le">app.get( '/headers', ( <em class="lg">req</em>, <em class="lg">res</em>) =&gt; {<br/><em class="lg">res</em>.type( 'text/plain' )<br/>const headers = <em class="lg">Object</em>.entries( <em class="lg">req</em>.headers )<br/><em class="lg">res</em>.send(<br/>headers.map( <em class="lg">itm</em> =&gt; `${ <em class="lg">itm</em>[ 0 ] }: ${ <em class="lg">itm</em>[ 1 ] }` )<br/>)})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ly"><img src="../Images/bfded8ba61b8a16600458189f1ff25db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_dZ_B3dxC1g2qPSLultRA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">Example headers from the server to the client</figcaption></figure><p id="45f6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是关于从服务器到客户端的头的信息，但是我把它发送到客户端，但是这是在幕后</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="5380" class="la jp ht kw b fi lb lc l ld le">req.accepts</span></pre><p id="828e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是为了确定用户是否接受给定的类型</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="20ab" class="la jp ht kw b fi lb lc l ld le">app.get( '/accepts', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log(<em class="lg">req</em>.accepts)<br/><em class="lg">res</em>.send( 'Accepts' )})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/2ed219878d740c4a4686430e92166d1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*83qb4-7rR1d3QZ9Si0Ca3w.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example accepts page</figcaption></figure><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es ma"><img src="../Images/12f524b1af2786c4c46953be55e3f164.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/1*1YufNZCEnOTP4j_-mCGGrw.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example output on the console</figcaption></figure><p id="2d82" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以看到for accepts发送了一个匿名函数，其中包含了我们需要的信息。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="b4c0" class="la jp ht kw b fi lb lc l ld le">req.ip</span></pre><p id="a193" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">包括客户端的IP</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="53be" class="la jp ht kw b fi lb lc l ld le">app.get( '/ip', ( <em class="lg">req</em>, <em class="lg">res</em>) =&gt; {<br/>const ip = <em class="lg">req</em>.ip<br/>console.log( <em class="lg">req</em>.ip )<br/><em class="lg">res</em>.send( `Your IP address is : ${ ip }`  )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es mb"><img src="../Images/fa73836062761aa90deabfe841bbb846.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*wkdLJz9wgQ9p_RJVjIBLYg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example IP address from the client</figcaption></figure><p id="3794" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如您所见，正在发送本地环境的IP地址</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9dbd" class="la jp ht kw b fi lb lc l ld le">req.hostname</span></pre><p id="5432" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">客户端报告的主机名</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="59bc" class="la jp ht kw b fi lb lc l ld le">app.get( '/hostname', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.hostname)<br/><em class="lg">res</em>.send( `Your hostname is : ${<em class="lg">req</em>.hostname }` )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es lr"><img src="../Images/92f55ca81c17f3f9a8ff46c5c533336d.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*KE5B8Yq3VbPp8_PP2uH2uw.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example hostname of the client</figcaption></figure><p id="e36c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如您所见，在这种情况下，发送客户端的主机名也是本地环境</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="fb24" class="la jp ht kw b fi lb lc l ld le">req.path</span></pre><p id="2856" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">URL的请求路径只是路径</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d2be" class="la jp ht kw b fi lb lc l ld le">app.get( '/path', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log(<em class="lg">req</em>.path)<br/><em class="lg">res</em>.send(  `your path is : ${ <em class="lg">req</em>.path }`)<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es mc"><img src="../Images/b6cf9b66dab13fcbe8b3ac25685b48a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*muF3HXIo1Z8dLqJJbAf9KA.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example path page</figcaption></figure><p id="0571" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样的方式也适用于路径页面</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="e4e3" class="la jp ht kw b fi lb lc l ld le">req.xhr</span></pre><p id="0b99" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果调用是Ajax，它将返回true</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="a906" class="la jp ht kw b fi lb lc l ld le">app.get( '/xhr', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.xhr )<br/><em class="lg">res</em>.send( `Are you using XHR? : ${ <em class="lg">req</em>.xhr }` )})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es md"><img src="../Images/b8e52256ff6e1f340bba8d56d03275ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*sQfktzIc4BMCecIoD1fHlg.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example using XHR in the XHR page</figcaption></figure><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="fffb" class="la jp ht kw b fi lb lc l ld le">req.protocol</span></pre><p id="af9f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">检查请求是什么协议，HTTP还是HTTPS</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="e907" class="la jp ht kw b fi lb lc l ld le">app.get( '/protocol', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.protocol )<br/><em class="lg">res</em>.send( `your protocol is: ${ <em class="lg">req</em>.protocol }` )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es me"><img src="../Images/d9490d2b10b2ade6fef08157efc1a1e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*OM2cOmzp8iJz1TXA2ZzhDQ.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example showing protocols</figcaption></figure><p id="e029" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这一部分，它会发送您正在使用的协议，HTTP或HTTPS在这种情况下是HTTP</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c020" class="la jp ht kw b fi lb lc l ld le">req.secure</span></pre><p id="ebb4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果连接是安全的，返回true</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="ac58" class="la jp ht kw b fi lb lc l ld le">app.get( '/secure', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.secure )<br/><em class="lg">res</em>.send( `Is this secure? ${ <em class="lg">req</em>.secure }` )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es mc"><img src="../Images/4a03ef512ac820a9eeeb7e37d4fe7a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*AkU2kKVgdyvBEcb2XFkOGQ.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example secure page</figcaption></figure><p id="999e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以看到我的页面不安全，因为我们使用HTTP而不是HTTPS</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="77f1" class="la jp ht kw b fi lb lc l ld le">req.url</span></pre><p id="97dc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将返回路径和查询字符串</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="4bd2" class="la jp ht kw b fi lb lc l ld le">app.get( '/url', ( <em class="lg">req</em>, <em class="lg">res</em> ) =&gt; {<br/>console.log( <em class="lg">req</em>.url )<br/><em class="lg">res</em>.send( ` this is your url ${ <em class="lg">req</em>.url }` )<br/>})</span></pre><figure class="kr ks kt ku fd hk er es paragraph-image"><div class="er es mf"><img src="../Images/0799ae19c586f3375415b93efc318ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*1EHct9FXD7PefaoWO1rOFQ.png"/></div><figcaption class="li lj et er es lk ll bd b be z dx">Example URL Object URL page</figcaption></figure><p id="1383" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们可以看到URL正在发送URL和查询字符串</p><h1 id="8c13" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="c504" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">总之，请求对象非常方便，因为它是向客户端返回清晰信息的基础，在这种情况下是一致和准确的，了解这个对象并与它一起工作以在Express.js项目中增加更好的结果非常重要。</p><h1 id="8ed5" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">来源</h1><p id="d418" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这本<a class="ae mg" href="https://www.amazon.com/Web-Development-Node-Express-Leveraging/dp/1492053511" rel="noopener ugc nofollow" target="_blank">书</a>真的很神奇！</p><div class="hh hi ez fb hj mh"><a href="http://expressjs.com/en/api.html#req" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hu fi z dy mm ea eb mn ed ef hs bi translated">4.x API</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">创建快速应用程序。express()函数是由express模块导出的顶级函数。var…</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">expressjs.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv hp mh"/></div></div></a></div></div></div>    
</body>
</html>