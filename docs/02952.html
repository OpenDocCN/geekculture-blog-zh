<html>
<head>
<title>Camera setup on Raspberry Pi 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Raspberry Pi 4上的摄像头设置</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/camera-setup-on-raspberry-pi-4-912e7d415cdf?source=collection_archive---------1-----------------------#2021-05-28">https://medium.com/geekculture/camera-setup-on-raspberry-pi-4-912e7d415cdf?source=collection_archive---------1-----------------------#2021-05-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7e2a" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">无线摄像机设置</h2></div><p id="960c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作者:<a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">爱德华多·帕德隆</a></p><p id="9ca8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Raspberry中最常用的应用之一是使用相机，使用Tensorflow并赋予它检测对象的能力。既然Raspberry Pi已经足够快来执行机器learning🧠，那么在项目中添加这些功能就更容易了。</p><p id="0261" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本指南将向您展示如何连接Raspberry Pi相机模块、拍摄照片、录制视频和应用格式更改的步骤。了解相机模块很重要📷在开始创建我们的应用程序之前。</p><p id="e6f6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们开始吧。</p><h1 id="0096" class="ju jv hi bd jw jx jy jz ka kb kc kd ke io kf ip kg ir kh is ki iu kj iv kk kl bi translated">1.你需要什么</h1><p id="39a7" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">有多个选项，但在本指南中，我会给你两个选项来选择，在树莓Pi的一部分有两个相机模块，我稍后会谈到它们。</p><ul class=""><li id="bd5b" class="kr ks hi iz b ja jb jd je jg kt jk ku jo kv js kw kx ky kz bi translated">笔记本电脑</li><li id="e8f1" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated">树莓Pi 4</li><li id="9e9a" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated">电源(如果你没有太多经验的话，最好和你的覆盆子一起购买官方电源以免出现问题<a class="ae jt" href="https://www.raspberrypi.org/products/type-c-power-supply/" rel="noopener ugc nofollow" target="_blank"> USB-C电源</a>。</li><li id="8179" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated">具有移动热点功能的智能手机</li><li id="f490" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated">微型SD卡</li><li id="c96c" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated"><a class="ae jt" href="https://www.adafruit.com/product/4561" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi高品质相机</a>(这是我将在本指南中使用的相机，但你可以使用<a class="ae jt" href="https://www.adafruit.com/product/3099" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi相机板v2 </a>这是更老更便宜的版本。)</li><li id="5236" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated"><a class="ae jt" href="https://www.adafruit.com/product/4563" rel="noopener ugc nofollow" target="_blank"> 6mm 3MP广角镜头，用于Raspberry Pi HQ相机3MP</a>(HQ相机模块允许我们使用镜头，在使用第二个相机选项的情况下，此元素是可选的)。</li><li id="7f18" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated"><a class="ae jt" href="https://www.adafruit.com/product/2087" rel="noopener ugc nofollow" target="_blank">Raspberry Pi摄像头排线</a>(通常包含在Raspberry Pi摄像头模块的购买中)。</li><li id="55b6" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated">相机三脚架(<strong class="iz hj">注:仅在使用HQ模块且您认为有必要时使用</strong>)。HQ模块的优势在于它有一个标准的1/4”-20三脚架，这是目前大多数三脚架都有的，我给你留了一个在<a class="ae jt" href="https://www.amazon.com/JOBY-GorillaPod-Magnetic-Mini-Smartphones/dp/B074WFVQKM/ref=as_li_ss_tl?dchild=1&amp;keywords=joby+tripod&amp;qid=1606086337&amp;s=electronics&amp;sr=1-16&amp;linkCode=sl1&amp;tag=mmjjg-20&amp;linkId=ef1e9b5d641d78641b1fd25e0b683232&amp;language=en_US" rel="noopener ugc nofollow" target="_blank">亚马逊</a>上购买选项的链接。</li></ul><p id="aa5e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可选:</p><ul class=""><li id="ba75" class="kr ks hi iz b ja jb jd je jg kt jk ku jo kv js kw kx ky kz bi translated"><a class="ae jt" href="https://learn.adafruit.com/raspberry-pi-hq-camera-case/3d-printing" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi HQ相机外壳</a>(如果你有3D打印机或者可以进行3D打印，我会给你留下一个链接，这样你就可以打印一个相机形状的外壳，稍后我会给你它的样子)。</li><li id="0ed9" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js kw kx ky kz bi translated">如果您使用该案例，您将需要定制螺钉<a class="ae jt" href="https://www.adafruit.com/product/3299" rel="noopener ugc nofollow" target="_blank"> M2.5 </a>，我们将需要12毫米和8毫米长，尽管为了利用您可以购买一些10毫米和5毫米长的螺钉，它们可能对其他项目有用，您可以在亚马逊或专业电子商店购买它们。</li></ul><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lf"><img src="../Images/2280c8d842eb5ed317549816a8f9d274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_aLtE1tRIyfXJvzqnsWvlg.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="28bf" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你要使用3D模型的情况下，这里你有一个什么样子的图像，这是惊人的，你不觉得吗？</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lv"><img src="../Images/18167617dca60b083d7e52e203364d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjZRi8eI5oS2Vbr7TifmpQ.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by Adafruit <a class="ae jt" href="https://cdn-learn.adafruit.com/assets/assets/000/091/673/medium640/raspberry_pi_hero-camera.jpg?1591047793" rel="noopener ugc nofollow" target="_blank">3D Case Raspberry Pi</a></figcaption></figure><p id="5c6c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们将讨论我提到的两个模块。</p><h2 id="ea15" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">1.1总部摄像头模块</h2><p id="2594" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">这个模块是最新的树莓Pi相机配件。与现有的v2相机模块相比，它提供了更高的分辨率(1200万像素，而以前为800万像素)和灵敏度(每像素面积增加约50%，以提高在弱光条件下的性能)，并且设计用于可互换的C和CS安装镜头。使用适配器可以使用其他镜头。</p><p id="e263" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6mm CS转接环镜头和带C转接环的<a class="ae jt" href="https://www.adafruit.com/product/4562" rel="noopener ugc nofollow" target="_blank"> 16 mm </a>镜头是所有兼容镜头的例子。高品质摄像机为摄像机模块v2提供了另一种选择。</p><p id="7d69" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">适用于要求最高视觉保真度和/或集成专业光学器件的工业和消费应用，包括安全摄像机。它兼容所有树莓Pi型号，最新版本的软件。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es mk"><img src="../Images/2ce42bf8caf3250752a656ed7a7a56ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*2NsZ-o0s_z8XVMZtXQY2Zg.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://www.raspberrypi.org/homepage-9df4b/static/ee30c4f49820a9787a203666ccd64c37/adf0e/03b5b033-5aca-40a7-ae4a-1592a9403890_CAM%2BHERO%2BALT%2B2.jpg" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es ml"><img src="../Images/3f9042a213e001d789660c64f87d3683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*_xV8v7_UxWX7rlFg_SKmSw.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://www.raspberrypi.org/homepage-9df4b/static/0c55b8f99763f65ef3d7c2553fa6c23c/adf0e/5b702dd6-20bd-41ba-9655-dc3c9e73c048_CAMEAR%2BBACK.jpg" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><h2 id="c78d" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">1.2 Raspberry Pi摄像头板v2 (8 Mp)</h2><p id="77e6" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">这个8 Mp摄像头模块能够捕捉1080 px的视频和图像，它可以连接到所有的Raspberry Pi型号。即插即用，非常适合膝上型摄影、视频录制或用于安全和运动检测应用。只需将随附的电缆连接到Raspberry Pi的CSI端口。</p><p id="c0d2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该模块尺寸很小，为25 mm x 23 mm x 9 mm，重量为3克，非常适合重量非常重要的移动应用或其他应用。</p><p id="e420" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该传感器的分辨率为800万像素，并有一个对焦镜头。至于图像，该相机能够拍摄高达3280 x 2464像素的静态图像和1830p30视频。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es mm"><img src="../Images/e96cc1bad951c157fa683d792db37b36.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*tnixx_GEUzKD1bGwya2e2Q.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://www.raspberrypi.org/homepage-9df4b/static/621b26de7977c5b8d765b3003b341a49/8924f/68fe7e4cb53767ad6c033bf3b46da3452188a24a_pi-camera-front-1-1426x1080.jpg" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><h1 id="f175" class="ju jv hi bd jw jx jy jz ka kb kc kd ke io kf ip kg ir kh is ki iu kj iv kk kl bi translated">2.摄像机设置</h1><h2 id="5c0d" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">2.1连接</h2><p id="5974" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">目前所有的Raspberry Pi型号都有一个连接摄像头模块的端口。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mn"><img src="../Images/e21d86b964f8033b42011cec04c12111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xriFCyDMv-I4zmae08o-WA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://projects-static.raspberrypi.org/projects/getting-started-with-picamera/e700e884354667bc3db3dddc19e20931a787c9a7/en/images/pi4-camera-port.png" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><p id="b195" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">注:如果您想使用Raspberry Pi Zero，您需要一根摄像头模块电缆，它可以插入Raspberry Pi Zero的较小摄像头模块端口。</strong></p><p id="7a16" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">连接摄像头模块。确保你的树莓酱已经关闭。</p><p id="79d5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.找到摄像头模块端口</p><p id="b752" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.轻轻拉起塑料端口夹的边缘</p><p id="8d2a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.插入相机模块的扁平电缆(<strong class="iz hj">注:确保电缆方向正确。电缆的蓝色一侧朝向插孔连接器和USB端口</strong></p><p id="e104" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.将塑料夹放回原位。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mn"><img src="../Images/53e4f8ab441624f8c30729729a0cbdbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cdWRY2ldCqz-8hYnuiTfBw.gif"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Gig by <a class="ae jt" href="https://projects-static.raspberrypi.org/projects/getting-started-with-picamera/e700e884354667bc3db3dddc19e20931a787c9a7/en/images/connect-camera.gif" rel="noopener ugc nofollow" target="_blank">Raspbery Pi</a></figcaption></figure><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es mo"><img src="../Images/a7877e6fdd3d65773ac1bd10649bd9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*xCMSdMIYZiNyNgy5w6knVg.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://magpi.raspberrypi.org/books/camera-guide" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><p id="2f24" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我的例子中，连接HQ模块如下所示:</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mp"><img src="../Images/8eda735d4974a824d0b605ff7ccc2c76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z0D7KsUVAseGJ40qORqiBw.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="1660" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我选择只使用带有树莓的3D模型的相机支架，所以我将向你展示一些如何使用螺丝和最终结果。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mq"><img src="../Images/07e33b9914d9a0026e790faf7bc50499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VDkZZQVrEWv8Y0syvhLZOg.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="7308" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我只需要连接镜头，这一次我用的是6mm的镜头，如果你用的是8 Mp V2选项，你可以跳过这一部分，直接用2.2。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mr"><img src="../Images/348a5d49cef2812025522f4d042b7c75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IhPbJMFanFXDofDDca5idg.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://magpi.raspberrypi.org/books/camera-guide" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><p id="98de" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们必须移除6mm镜头的防尘盖和C-CS适配器，如下所示:</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es mk"><img src="../Images/2ce42bf8caf3250752a656ed7a7a56ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*2NsZ-o0s_z8XVMZtXQY2Zg.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://www.raspberrypi.org/homepage-9df4b/static/ee30c4f49820a9787a203666ccd64c37/adf0e/03b5b033-5aca-40a7-ae4a-1592a9403890_CAM%2BHERO%2BALT%2B2.jpg" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><p id="d2df" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">镜头配有两个盖子，一个在镜头侧面，另一个用于连接模块的输入。</p><h2 id="1c18" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">安装透镜</h2><p id="a82f" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">6毫米镜头是CS安装，所以你不需要C-CS适配器环。如果安装了适配器，它将无法正确对焦，因此如果有必要，请将其移除。</p><p id="1c78" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后一直顺时针转动镜头，使其与后焦距调节环连接。<strong class="iz hj">不要太用力挤压，因为你可能会损坏镜头或模块，只要保持紧固即可。</strong></p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es ms"><img src="../Images/9dcdddf05d0a24cb55cae04d9ed3dc8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*RdtmcgLbx2iSC8EimXoeKA.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://magpi.raspberrypi.org/books/camera-guide" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><h2 id="81f8" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">2.1.2后焦点调节环和锁紧螺钉</h2><p id="9d0c" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">后焦距调节环应该完全拧紧，以获得尽可能短的后焦距。使用后焦距锁定螺钉，确保在调整光圈或焦距时，它不会从这个位置移动(购买HQ模块时，它包括一个尺寸正好能够操作锁定螺钉的螺丝刀)。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es mt"><img src="../Images/777b9bd94bbff3231652ee849a24ca4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*ksQrMiUINGGNhIU0Uc5kog.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://magpi.raspberrypi.org/books/camera-guide" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><p id="4bb2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦准备好并安装好，我们的镜头看起来会像下面这样。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mu"><img src="../Images/03c81aea6edf0be89293b8729e5618c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O2oTju8Ip63Q0_hCGnXr7g.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="abe3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦镜头安装完毕，模块连接到我们的Raspberry，我们就可以在打开和通过VNC进入时继续配置。</p><h2 id="76a0" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">2.2树莓Pi配置。</h2><ol class=""><li id="76ee" class="kr ks hi iz b ja km jd kn jg mv jk mw jo mx js my kx ky kz bi translated">打开你的树莓派。</li><li id="8013" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js my kx ky kz bi translated">通过VNC从你的电脑进入你的覆盆子。</li><li id="af23" class="kr ks hi iz b ja la jd lb jg lc jk ld jo le js my kx ky kz bi translated">进入主菜单，打开<strong class="iz hj">树莓派配置</strong>。</li></ol><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es mz"><img src="../Images/dee917ed11e6c1f8feb37403799073fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*8kFeYpggHyjFNejfcPotlQ.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="4d36" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择选项卡<strong class="iz hj">接口</strong>并确保摄像机<strong class="iz hj">已启用</strong>。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es na"><img src="../Images/6d31b9bfdbdaae84d125c62e4e928a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z57N0eDwgSnbjdUGkuyYYA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="94a8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">重启你的覆盆子。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es nb"><img src="../Images/6619b3929657898c2b9fa38f02efce22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oet3qGs9_i6cUO69kB7M1g.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="d0e5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦重新启动，我们将在VNC树莓桌面内进行一些更改，当执行一些命令时，它会向我们展示它将在VNC捕获的预览。除非我们进行这些更改，否则这是不可能的。第一件事是去VNC图标并点击。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es nb"><img src="../Images/e59c5f7630fee0679d373e1a7bd7d398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I1YuexQvHViK39ODFZ123Q.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="2d05" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面的窗口将会打开，我们会在右边找到一个框，我们将点击。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es nc"><img src="../Images/03204b35bda0bb40dc4ae95d17489e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BAY2ceMiMbTEveXjCGt3iA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="82c1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将点击“选项”。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es nd"><img src="../Images/c4a88f933ab5449070b4298496f674e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QZRv2heRey31yqA2Oqp9og.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="1c9d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将转到“故障排除”选项卡。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/180ea608b87e5d8d4bd2e695c738bdb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QpM0ntLJ3PaVo4qIECLkTw.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="6c1d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将单击“启用直接捕获模式”框，然后单击“应用”。这将允许我们看到我们的相机模块正在捕捉的预览。它将进入黑屏几秒钟，当它恢复图像时，它将准备好，这是不必要的，但你可以重新启动树莓开始下一步。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/796960b6c345aa029a99adc048c920da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BjOEnQZhftBACJXhXC_uxQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="6f19" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此刻，摄像机没有对准焦点，所以我们需要运行一个命令来访问视图。所以我们打开树莓终端吧。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es na"><img src="../Images/0d653b3415a2e31c3b00343decce844f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cpiYA3E94WrT3TDvINvWlg.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="5fd6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">raspistill是用于从相机捕捉图像的命令工具。要验证相机安装是否正确，并仅将相机用作取景器，而不保存照片，请输入以下命令:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="9e58" class="lw jv hi ng b fi nk nl l nm nn">raspistill -t 0</span></pre><p id="3233" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它会给我们一个模糊的图像，当然，对于V2模块的HQ模块来说，这不会有什么大问题。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es no"><img src="../Images/a8b965b0946a538fb421c9978bc952af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*kwPAAelwwwUGi-q-Fsyr2g.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="59c1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们将看到用镜头聚焦模块的步骤。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es np"><img src="../Images/34d49e05f0131937f7a55f8e74c79ed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVZqMEfaFJ5T5vykyY7tIw.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><h2 id="7922" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">孔径</h2><p id="b156" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">要解决这个问题，你必须调整光圈，让镜头远离你的相机。<br/>旋转中环，同时握住离相机最远的外环，保持稳定。顺时针移动以关闭光圈并降低图像亮度。逆时针转动打开开口。一旦你对光线水平感到满意，拧紧镜头侧面的螺丝以锁定光圈。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es nq"><img src="../Images/5e4263505f841d475cc95035afcc4435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*DyPoGRksrVXlLVIx87nLkA.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://magpi.raspberrypi.org/books/camera-guide" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><h2 id="2335" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">重点</h2><p id="bc88" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">首先，锁定内对焦环，贴上标签。</p><p id="5c5b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“近远”，通过拧紧螺丝定位。现在拿着相机，镜头背对着你。握住镜头的两个外环，顺时针转动。</p><p id="1319" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">直到图像聚焦，需要四到五圈。要调整焦距，顺时针转动两个外环，聚焦在附近的物体上。逆时针旋转以聚焦于远处的物体，之后每次取下和安装镜头时，您很可能需要再次调整光圈。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es nr"><img src="../Images/06f0bb911579113934e8838d701c0ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*mThc2SyGeWGeBFSAgueOvg.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://magpi.raspberrypi.org/books/camera-guide" rel="noopener ugc nofollow" target="_blank">Raspberry Pi</a></figcaption></figure><p id="49a5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">聚焦后，我们将不得不关闭窗口，也许我们不能，因为图像非常大，关闭图标没有出现，在这种情况下，我们将不得不通过SSH访问并使用命令:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="246f" class="lw jv hi ng b fi nk nl l nm nn">sudo reboot</span></pre><p id="2611" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">能够通过VNC再次访问。</p><h2 id="70db" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">测试image.jpg</h2><p id="f83f" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">现在，您应该可以看到清晰的图像，并且可以通过输入以下命令来拍摄测试照片:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="ca58" class="lw jv hi ng b fi nk nl l nm nn">raspistill -o test.jpg</span></pre><p id="7549" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您按下回车键时，将出现实时预览图像，在预定的五秒钟后，相机将拍摄一张静态图像。这将存储在您的个人文件夹中，并命名为“test.jpg”。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/16d42956cf06ef7329e20095b84eb121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYjAe_8kjLuZS8B4USADoA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="61f4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是我用这个命令拍摄的图像:</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ns"><img src="../Images/a9f05fad4b91f9597be72074d3a36933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k_A60Q7cgEZEfhsNAQXWow.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><h2 id="b9ff" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">视频测试</h2><p id="cc52" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">要录制视频，raspivid就是你需要的。尝试使用以下终端命令:</p><p id="c077" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">-t 10000是录制视频的时间，10000毫秒是10秒钟的录制时间。h264是在vlc中播放的视频格式，VLC是一个包含Raspberry Pi操作系统的播放器，如果你想将格式更改为MP4，这是一种更常见和友好的编辑格式，在最后我会给你留下一些命令和链接。</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="53ef" class="lw jv hi ng b fi nk nl l nm nn">raspivid -t 10000 -o testvideo.h264</span></pre><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/4e9f8788bc49203e295abdfc3ee118b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HC75Q0ZP6MJFVS4uekU9eg.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="e007" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以看到文件的预览，然后在Raspberry Pi文件夹中，我们将找到能够再现它的文件。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/fab9f158f74d2f9314412b04d1d72704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RhmH-W8SjLtB9tARM1HR0Q.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><h1 id="6dc8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke io kf ip kg ir kh is ki iu kj iv kk kl bi translated">3.用Python代码控制摄像头模块</h1><h2 id="da3e" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">3.1预览</h2><p id="26b8" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">Python库<strong class="iz hj"> picamera </strong>允许你控制你的相机模块并创建令人惊叹的项目。</p><p id="8144" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">打开一个Python 3编辑器，比如Thonny Python IDE或者利用之前的教程【Raspberry Pi上的VS代码】(https: //)我们可以使用VS代码，我们将在桌面上创建一个名为camera或camera的文件夹，我们将右键单击打开选项，我们将选择“在终端中打开当前文件夹”，以直接打开文件夹和终端，您也可以在终端中使用cd命令来定位我们在camera文件夹中的位置。</p><p id="1989" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦位于文件夹中的终端内，我们将使用命令:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="0f0f" class="lw jv hi ng b fi nk nl l nm nn">code .</span></pre><p id="b82e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这样，我们将直接打开将要使用的文件夹中的VS代码。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/966d6f07624e1e60940034e7cdc908ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4uojdpuGjNu6uqRJeLn0iQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="4b81" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">打开一个新文件，保存为camera.py。</p><p id="eae8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">注意:千万不要将文件保存为pica mera . py。</strong></p><p id="a7fa" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在VS代码中，我们可以找到创建新文件的图标。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div class="er es nt"><img src="../Images/dc08437a936211fb2da788f6c2d41a38.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*tOhaTGL4oFO5VAjxTzh7_w.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="5a06" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们将单击“CTRL + S”进行保存，将出现以下窗口。我们输入我们的文件名，以便能够输入代码。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/1e7f36b0b8fdfbcfbb5d159b8c1ff4a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eT6FRnhyAMRiXRILXIQdbA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="a6c8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在输入代码之前，我们必须确保已经安装了用于VS代码的Python工具。使用映像验证您已经安装了我们将使用的映像。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/44cfe008743a4f695fb02c2e96a4f583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtA8LsCDWXFY4waXxDXLcw.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="2ba6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输入下面的代码，这将允许我们做同样的功能，给我们一个预览图像，以验证我们的镜头在焦点上。如果您已经完成了此步骤，并且没有断开摄像机，您可以跳过此步骤，转到以下代码:</p><figure class="lg lh li lj fd lk"><div class="bz dy l di"><div class="nu nv l"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Code by <a class="ae jt" href="https://github.com/fullmakeralchemist" rel="noopener ugc nofollow" target="_blank">Eduardo Padron</a></figcaption></figure><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/05c0465436383ce024ff11d8430da334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aM9qS2jHqnmIhdbTced7bg.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="85ac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们使用“CRTL + S”来保存，现在我们将为这个项目在VS代码中打开一个终端。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/609f1b80b6cca271ed41ef3979181c36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5I4FSNvAHCNcyZRSmZ1HIQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="ae4a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们可以在下半部分看到终端，我们只需要运行右上方有VS代码的按钮的代码行。您也可以从终端以传统方式执行此操作，并使用以下命令:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="002f" class="lw jv hi ng b fi nk nl l nm nn">sudo python3 camera.py</span></pre><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/05c0465436383ce024ff11d8430da334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aM9qS2jHqnmIhdbTced7bg.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="87d5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以在底部看到命令的执行。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/90fd9e89a92b7bcb8c85e2739ac3169d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J7F7hVt_t5_5E7-6KmNeVA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="d86b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当执行时，它将打开一个非常大的窗口，该窗口将在5秒钟后关闭，正如我们在sleep (5)中所定义的，我们必须定义一个时间，如果窗口不会像在raspistill -t 0中那样保持打开，那么我们将必须使用SSH来输入sudo命令reboot，以便再次进入并继续执行下一个代码。</p><h2 id="dae6" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">3.2照片</h2><p id="57ed" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">现在，要拍摄一些照片，您可以创建第二个文件(在我的例子中称为cameratake.py ),修改您的代码以添加camera.capture()行:</p><figure class="lg lh li lj fd lk"><div class="bz dy l di"><div class="nu nv l"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Code by <a class="ae jt" href="https://github.com/fullmakeralchemist" rel="noopener ugc nofollow" target="_blank">Eduardo Padron</a></figcaption></figure><p id="e68f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">注意:在拍摄图像之前至少要有两秒钟的睡眠时间，这很重要，因为这给了相机传感器时间来检测光线水平。</strong></p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/345a543df740fce390c5663048972c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vi8AuuvQbakX7GitH4-Mew.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="f8eb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您应该看到打开的相机预览五秒钟，然后应该捕捉到一个静态图像。拍摄图像时，您可以观看调整到不同分辨率的预览。您的新图像应该保存到桌面上。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/99688b49e3313777db5b35a8d7c03ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l0J2KTCxOlUyuZcYvc4GhQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><p id="5dc5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">代码拍摄的图像:</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/42e41c046891802c890a6e06984ddb70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*up7fpi8Qx-aTojhmIho4TQ.jpeg"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Image by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><h2 id="de22" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">3.3视频</h2><p id="f512" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">现在拍个视频！</p><p id="9e22" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">修改您的代码以移除capture()并改为添加start_recording()和stop_recording()来开始和停止记录。您的代码现在应该是这样的:</p><figure class="lg lh li lj fd lk"><div class="bz dy l di"><div class="nu nv l"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Code by <a class="ae jt" href="https://github.com/fullmakeralchemist" rel="noopener ugc nofollow" target="_blank">Eduardo Padron</a></figcaption></figure><p id="067b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行代码。您的Raspberry Pi应该会打开一个预览，录制10秒钟的视频，然后关闭预览。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/adb0842dc6d4c777d4855aee5bb05fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-yxkdDaWrIcuav4xuU-1Bw.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ne"><img src="../Images/ead469718ce1c94c8c330158b62e65b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3hCG_sO05bUucKPwKk8AQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Screenshot by <a class="ae jt" href="https://fullmakeralchemist.medium.com/" rel="noopener">Eduardo Padron</a></figcaption></figure><h1 id="712c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke io kf ip kg ir kh is ki iu kj iv kk kl bi translated">4.临时演员</h1><h2 id="78f8" class="lw jv hi bd jw lx ly lz ka ma mb mc ke jg md me kg jk mf mg ki jo mh mi kk mj bi translated">4.1视频格式MP4</h2><p id="7f89" class="pw-post-body-paragraph ix iy hi iz b ja km ij jc jd kn im jf jg ko ji jj jk kp jm jn jo kq jq jr js hb bi translated">Raspberry Pi以原始H264视频格式捕获视频。许多媒体播放器将拒绝播放它，或者以错误的速度播放它，除非它被“包装”在像MP4这样的合适的容器格式中。使用raspivid命令获取MP4文件的最简单方法是使用MP4Box。使用以下命令安装MP4Box:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="a187" class="lw jv hi ng b fi nk nl l nm nn">sudo apt install -y gpac</span></pre><p id="3b6b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用raspivid从终端捕获原始视频，并将其包装在MP4容器中，如下所示:</p><figure class="lg lh li lj fd lk"><div class="bz dy l di"><div class="nu nv l"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Code by <a class="ae jt" href="https://github.com/fullmakeralchemist" rel="noopener ugc nofollow" target="_blank">Eduardo Padron</a></figcaption></figure><p id="de15" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者，将MP4格式包装在现有的raspivid输出中，使用:</p><pre class="lg lh li lj fd nf ng nh ni aw nj bi"><span id="b4ab" class="lw jv hi ng b fi nk nl l nm nn">MP4Box -add video.h264 video.mp4</span></pre><p id="a7e4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本指南到此结束，你可以练习用Python编写代码，让你的视频保持MP4格式，将学到的知识付诸实践，在Raspberry访问<a class="ae jt" href="https://www.raspberrypi.org/documentation/usage/camera/raspicam/raspivid.md" rel="noopener ugc nofollow" target="_blank"> raspivid </a>查看更多关于MP4格式的信息。</p><p id="ca3e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以利用Git和VS代码指南将这些代码上传到您的Github。</p><p id="dea2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想了解更多关于树莓派和相机的使用，请访问<a class="ae jt" href="https://projects.raspberrypi.org/en/projects/getting-started-with-picamera/6" rel="noopener ugc nofollow" target="_blank">相机树莓派</a>..</p><p id="a89e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<a class="ae jt" href="https://github.com/fullmakeralchemist/raspberrycamerasetup" rel="noopener ugc nofollow" target="_blank"> Github </a>上访问我的知识库。</p></div></div>    
</body>
</html>