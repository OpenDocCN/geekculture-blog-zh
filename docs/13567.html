<html>
<head>
<title>Share Your GitHub Releases to Your Communities with Just One Click</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">只需点击一下鼠标，就可以将您的GitHub版本分享到您的社区</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/share-your-github-releases-to-your-communities-with-just-one-click-65050ef69d0b?source=collection_archive---------20-----------------------#2022-07-15">https://medium.com/geekculture/share-your-github-releases-to-your-communities-with-just-one-click-65050ef69d0b?source=collection_archive---------20-----------------------#2022-07-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="949c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开发人员花费大量时间编码、提炼产品、发布增强、修复和改进。这些更新对产品用户来说至关重要。组织必须向他们的用户宣布更新，以提高对产品的认识，并帮助用户充分利用改进的产品。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8ad3934bd301ae454c23e6831711f4d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JtSD09BoF_Q-R6DbtAMS8g.png"/></div></div></figure><p id="ff0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我们将学习如何构建一个Discord bot，在10分钟内在您想要的Discord服务器上的频道中共享最新版本。我们来建吧！</p><p id="33d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是<a class="ae jp" href="https://app.appsmith.com/templates/62c2cd58e8e73110ce252a8f" rel="noopener ugc nofollow" target="_blank"> app </a>的样子；你可以骑着它去兜风。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h1 id="4ed1" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">设置Appsmith</h1><ul class=""><li id="f35a" class="kv kw hi ih b ii kx im ky iq kz iu la iy lb jc lc ld le lf bi translated">前往appsmith.com<a class="ae jp" href="http://appsmith.com/" rel="noopener ugc nofollow" target="_blank">注册一个新账户或登录现有账户。</a></li><li id="7ec1" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">在您喜欢的组织中创建一个新的应用程序，现在您将看到一个编辑器，您可以在其中拖放UI小部件来构建UI。</li></ul><h1 id="5d22" class="jx jy hi bd jz ka ll kc kd ke lm kg kh ki ln kk kl km lo ko kp kq lp ks kt ku bi translated">为你的应用程序设置用户界面</h1><p id="191e" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">对于UI，添加以下小部件:</p><ul class=""><li id="85d1" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">选择一个你喜欢的主题！</li><li id="e0f3" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">带有文本小部件和图标按钮的容器，用于应用程序的标题</li><li id="a627" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">两个按钮—一个用于预览消息，另一个用于在不一致时发送消息</li><li id="3a5b" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">一个文本小部件，用于预览机器人将在频道上发送的文本消息</li></ul><p id="b94d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是用户界面。只需四个简单的步骤，您就可以设置好应用程序的用户界面🎊。下面是它的样子:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/e8a714b455b05f8011179d483c4214bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OATzRcNmO4cIUsE1"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">App UI</figcaption></figure><h1 id="cdc8" class="jx jy hi bd jz ka ll kc kd ke lm kg kh ki ln kk kl km lo ko kp kq lp ks kt ku bi translated">在Appsmith上集成Discord和GitHub</h1><p id="20b7" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">您将在希望安装机器人的服务器上使用一个不和谐的webhook。这个webhook将帮助您在服务器的文本通道上发送自动消息。你可以在这里阅读更多关于不和谐网钩<a class="ae jp" href="https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><ul class=""><li id="0799" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">按照本文<a class="ae jp" href="https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks" rel="noopener ugc nofollow" target="_blank">中提到的步骤</a>来设置一个webhook。</li><li id="f075" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">一旦webhook生成，将URL复制到webhook。</li></ul><p id="5252" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将使用<a class="ae jp" href="http://docs.github.com/en/rest/releases/releases" rel="noopener ugc nofollow" target="_blank"> GitHub releases API </a>来查找最新发布的版本并获得关于它们的信息。</p><ul class=""><li id="ddee" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">根据<a class="ae jp" href="http://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" rel="noopener ugc nofollow" target="_blank"> GitHub文档</a>中提到的步骤生成您的GitHub个人访问令牌。发布API的基本认证需要这个令牌。</li></ul><h1 id="5d27" class="jx jy hi bd jz ka ll kc kd ke lm kg kh ki ln kk kl km lo ko kp kq lp ks kt ku bi translated">设置查询和API</h1><p id="7b0a" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">您将首先设置一个API来获取GitHub存储库的最新版本。为此，请按照下列步骤操作:</p><ul class=""><li id="8f44" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">从查询窗格创建“新的空白API”。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/7e186cc0ae1e8ad51f2b17d7d0f2ab9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/0*rwAgcDCm9JMJmErx"/></div><figcaption class="lx ly et er es lz ma bd b be z dx">Query pane</figcaption></figure><ul class=""><li id="4665" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">将查询重命名为<strong class="ih hj"> GetRelease </strong>。为一个<strong class="ih hj"> GET </strong>请求设置API，因为我们想要<em class="mc"> get </em>最新发布的信息。</li><li id="5122" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">为API添加此URL</li></ul><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="147a" class="mi jy hi me b fi mj mk l ml mm">https://api.github.com/repos/&lt;USERNAME&gt;/&lt;REPO-NAME&gt;/releases/latest</span></pre><p id="027b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确保添加您想要最新版本的存储库的存储库名称来代替<strong class="ih hj"> &lt;存储库名称&gt; </strong>，并添加存储库所有者的用户名来代替<strong class="ih hj"> &lt;用户名&gt; </strong></p><ul class=""><li id="8c94" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">在报头中添加授权密钥，其值设置为基本<strong class="ih hj"> &lt;访问令牌&gt;。</strong>确保添加您之前复制的访问令牌，代替<strong class="ih hj"> &lt;访问令牌&gt; </strong></li></ul><p id="e2aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击'<strong class="ih hj"> Run </strong>'按钮，您应该会看到一个API响应，其中包含最新版本的详细信息。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/3ba100b4dcff69b2183acdb25530addf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_Un30ivKIoKyG63x"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">API Response</figcaption></figure><p id="7141" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将在Appsmith中设置Discord Webhook。为此，</p><ul class=""><li id="c049" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">从“查询”窗格中单击“新API”，并将其命名为<strong class="ih hj"> PostDiscord </strong>。</li><li id="2b99" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">将API设置为<strong class="ih hj"> POST </strong>请求，因为我们将<em class="mc">向Discord服务器发送</em>消息。</li><li id="95c8" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">将你的webhook URL粘贴到API的URL中。</li><li id="e3fd" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">将<strong class="ih hj">内容类型</strong>设置为标题中的关键字，其值设置为<strong class="ih hj">应用程序/json </strong></li></ul><p id="322d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">PostMessage API如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/6536900c9c9ddf2e928ef574805fbafd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RJ0vNu4NcEsxxEM7"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">PostMessage API</figcaption></figure><p id="2a7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们编写一个查询来定制您想要在Discord服务器通道上发送的消息。</p><ul class=""><li id="e1cb" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">创建新的JSObject</li><li id="f813" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">在JSObject中添加这个函数</li></ul><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="15bb" class="mi jy hi me b fi mj mk l ml mm">message: () =&gt; {</span><span id="b824" class="mi jy hi me b fi mo mk l ml mm">var apibody=GetRelease.data.body</span><span id="30e8" class="mi jy hi me b fi mo mk l ml mm">const body= apibody.replace(/ *\([^)]*\) */g, “”)</span><span id="0429" class="mi jy hi me b fi mo mk l ml mm">return((GetRelease.data.name) + “ is out🎉 \n\n” + (body) + “\n\nCheck the release out at “ + (GetRelease.data.html_url) )</span><span id="52bd" class="mi jy hi me b fi mo mk l ml mm">}</span></pre><p id="9382" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们使用<strong class="ih hj"> (GetRelease.data.body) </strong>来获取发布说明的正文，<strong class="ih hj"> (GetRelease.data.name) </strong>来获取发布名称，<strong class="ih hj">(getrelease . data . html _ URL)</strong>来获取发布说明的链接。</p><p id="a8ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以自由地使用任意多的属性进一步定制消息！</p><h1 id="6085" class="jx jy hi bd jz ka ll kc kd ke lm kg kh ki ln kk kl km lo ko kp kq lp ks kt ku bi translated">将查询绑定到应用程序UI</h1><p id="40e8" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">既然已经设置了所有的API和查询，那么只需将它们绑定到小部件上。</p><ul class=""><li id="427a" class="kv kw hi ih b ii ij im in iq lt iu lu iy lv jc lc ld le lf bi translated">绑定<strong class="ih hj"> {{GetRelease.run()}} </strong>在<strong class="ih hj">上运行onClick </strong>中的预览消息按钮。</li><li id="5b26" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">将<strong class="ih hj">{ { jsobject 1 . message()} }</strong>绑定到文本小部件的属性窗格中的<strong class="ih hj">文本</strong>。</li><li id="f1e5" class="kv kw hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">绑定<strong class="ih hj"> {{PostMessage.run()}} </strong>在<strong class="ih hj">上运行onClick </strong>中的发送消息到Discord按钮。</li></ul><p id="8f3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">而且，就是这样。测试并运行你的机器人！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/8fbe9b62c5e7b3a84299ae47eb4d3762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6TEpacwv9Rbdp1FeSq9RNg.gif"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Screen recording</figcaption></figure><p id="41a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以像专业人士一样在您的社区中共享您的发布！</p><p id="0014" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了测试这个机器人，我们有一个用于GitHub发布模板的<a class="ae jp" href="https://app.appsmith.com/templates/62c2cd58e8e73110ce252a8f" rel="noopener ugc nofollow" target="_blank">不和谐机器人</a>，你可以派生并使用它。</p><p id="12c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请通过此表格让我们知道您是否有任何可以帮助加快制作内部工具<a class="ae jp" href="https://app.appsmith.com/app/request-templates/request-form-6241b5a8c99df2369931a656" rel="noopener ugc nofollow" target="_blank">的模板请求。</a></p><p id="ce68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如有任何疑问，请点击<a class="ae jp" href="https://discord.com/invite/rBTTVJp" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">【不和谐】</strong> </a>，关注<a class="ae jp" href="https://www.youtube.com/c/Appsmith" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> YouTube </strong> </a>和<a class="ae jp" href="https://twitter.com/theappsmith" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Twitter </strong> </a>了解最新消息。</p></div></div>    
</body>
</html>