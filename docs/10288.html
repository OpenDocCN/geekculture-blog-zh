<html>
<head>
<title>Create your own AI-generated art in 5 minutes!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在5分钟内创建您自己的人工智能生成的艺术！</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/getting-hands-on-with-neural-style-transfer-in-5-minutes-374cfc5e99ce?source=collection_archive---------19-----------------------#2022-01-21">https://medium.com/geekculture/getting-hands-on-with-neural-style-transfer-in-5-minutes-374cfc5e99ce?source=collection_archive---------19-----------------------#2022-01-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a944" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我们将简要了解什么是神经风格转移(NST)及其底层架构，然后再看如何使用Google Magenta！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/11f80fba207e9aaac0f3b7107e3432dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XLObDzN-zj6QagIZrv3tEA.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@hishahadat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Shahadat Rahman</a> on <a class="ae jt" href="https://unsplash.com/s/photos/neural-transfer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="fb47" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">入门理论</h2><p id="26e0" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">神经风格转移是一种操纵图像或其他媒体以将它们的外观改变成另一个图像的方式。</p><p id="4f76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">神经网络将两个图像作为输入(一个称为内容图像，另一个称为样式图像)，内容图像充当基础图像，我们将对其应用样式图像中的样式。</p><p id="3f86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至于底层网络本身，网络在最中间的隐藏层包含一个“瓶颈”。这个“瓶颈”充当编码和解码过程之间的边界——编码过程是将样式图像分解为其特征的过程，而解码过程是使用这些特征构建内容图像的过程。</p><p id="2b08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要更深入地了解架构，请查看<a class="ae jt" href="https://towardsdatascience.com/light-on-math-machine-learning-intuitive-guide-to-neural-style-transfer-ef88e46697ee" rel="noopener" target="_blank">神经类型转移直观指南|作者Thushan Ganegedara |迈向数据科学</a>。这是一本非常全面的指南。</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h2 id="5d78" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">什么是谷歌洋红？</h2><p id="035e" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">Google Magenta是谷歌工程师的一个开源研究项目，旨在探索机器学习在艺术和音乐创作过程中的作用。这是我们将用于应用风格转移的模型，而不必训练我们自己的模型——我们将利用<a class="ae jt" href="https://www.tensorflow.org/hub" rel="noopener ugc nofollow" target="_blank"> TensorFlow Hub </a>上的版本。</p><p id="b625" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经看了一些理论，让我们开始吧！</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h2 id="1f1a" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">一个可以上手的快速入门脚本</h2><p id="9b68" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">首先，我们需要将以下包安装并导入到Python脚本中:</p><pre class="je jf jg jh fd lb lc ld le aw lf bi"><span id="e89f" class="ju jv hi lc b fi lg lh l li lj">import argparse<br/>import tensorflow_hub as hub<br/>import tensorflow as tf<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import cv2</span></pre><ul class=""><li id="4ab5" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated"><em class="lt"> argparse </em>包将帮助我们处理命令行参数——注意这是一个标准的库包！</li><li id="c9a9" class="lk ll hi ih b ii lu im lv iq lw iu lx iy ly jc lp lq lr ls bi translated"><em class="lt"> tensorflow_hub </em>包是一个训练有素的机器学习模型库，可以开箱即用，即<a class="ae jt" href="https://www.tensorflow.org/hub/" rel="noopener ugc nofollow" target="_blank"> TensorFlow Hub </a>。我们将用它来访问Google Magenta模型。</li><li id="0bcf" class="lk ll hi ih b ii lu im lv iq lw iu lx iy ly jc lp lq lr ls bi translated">tensorflow 包将帮助我们完成一些功能，比如从一个类似张量的物体中创建一个常数张量。</li><li id="0fac" class="lk ll hi ih b ii lu im lv iq lw iu lx iy ly jc lp lq lr ls bi translated">numpy包在任何与ML相关的项目中总是有用的。</li><li id="452f" class="lk ll hi ih b ii lu im lv iq lw iu lx iy ly jc lp lq lr ls bi translated"><em class="lt">cv2</em>&amp;<em class="lt">matplotlib</em>包将帮助我们处理、加载和保存我们的图像。</li></ul><p id="4a3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们分解代码，然后看一个例子！</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="40e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看上面的要点，我们可以看到脚本被分解成两个函数——一个用argparse包处理命令行参数，另一个加载Magenta模块并完成样式转换。</p><p id="f49e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将关注<em class="lt"> main() </em>函数，我们向它传递3个参数:分别指向内容和样式图像的路径，以及保存输出图像的路径。</p><p id="9781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该函数首先使用matplotlib库函数从其路径位置读取内容和样式图像，然后将图像转换为标准化的numpy数组。因此，数组中的每个值现在对应于图像的一个像素，并且这些值将是该像素在黑白标度上的颜色值的比率。</p><p id="81a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们从Tensorflow Hub加载Magenta模型，向其传递两个张量常数numpy数组中的两个图像。剩下的就是处理输出，然后将输出图像保存到传递给<em class="lt"> main() </em>函数的输出路径中！</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><h2 id="811f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">使用示例脚本</h2><p id="05f6" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">现在我们已经研究了脚本的内容，让我们看看在中的使用，以及输出示例是什么！</p><p id="15e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要调用该脚本，您可以运行如下命令:</p><pre class="je jf jg jh fd lb lc ld le aw lf bi"><span id="bf34" class="ju jv hi lc b fi lg lh l li lj">python google_magenta_example.py -c '&lt;content_image_path&gt;' -s '&lt;style_image_path&gt;' -o '&lt;output_path&gt;'</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/cf4545bef4d692b99bcae7c11ad85d15.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*PJkD2i9Bo2rePaSsQ3ilTQ.png"/></div></figure><p id="034e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于这个例子，我使用美丽的谢菲尔德作为我的内容图像，然后使用一幅旧画作为我的风格图像。</p><p id="956b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从左边的简化流程图可以看出，内容图像已经被分解，然后使用样式图像的特性重新构建。</p><p id="1bd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这可能会产生一些真正令人惊叹的艺术品，所以一定要尝试不同的组合！</p><h2 id="3360" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">结论</h2><p id="738f" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">这让我们接近尾声！</p><p id="f035" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我们已经探索了神经风格转移的介绍性架构，然后看了一个快速入门脚本，以获得和创建自己的艺术——所有这一切都在5分钟内完成！</p><p id="0a92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">~伊森</p></div></div>    
</body>
</html>