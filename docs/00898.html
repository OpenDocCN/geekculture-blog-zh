<html>
<head>
<title>HERE Maps API for JavaScript in Your Jupyter Notebooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这里映射了你的Jupyter笔记本中的JavaScript API</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/here-maps-api-for-javascript-in-your-jupyter-notebooks-6e012440a0d1?source=collection_archive---------10-----------------------#2021-03-18">https://medium.com/geekculture/here-maps-api-for-javascript-in-your-jupyter-notebooks-6e012440a0d1?source=collection_archive---------10-----------------------#2021-03-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a5b5f1e89ef86efe314602eba292e0f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TPQOrl4UQh3uilbGtzeyPw.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Here Map Widget for Jupyter</figcaption></figure><p id="b084" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在地图上可视化地理空间数据是地理空间分析的一个非常重要的方面。由于Jupyter笔记本已经成为数据科学、数据分析、<strong class="iw hj"> </strong>研究和开发的事实标准，因此在Jupyter笔记本中使用HERE Maps API for JavaScript使地理空间可视化更加直观和有趣！</p><p id="8f2b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" href="https://developer.here.com/develop/javascript-api" rel="noopener ugc nofollow" target="_blank">用于JavaScript的HERE Maps API】是一组编程接口，使开发人员能够以功能丰富的交互式</a><a class="ae js" href="https://www.here.com/" rel="noopener ugc nofollow" target="_blank"> HERE Maps </a>为中心构建web应用。</p><p id="f0bd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">今天，我们向您介绍开源python包<a class="ae js" href="https://pypi.org/project/here-map-widget-for-jupyter/" rel="noopener ugc nofollow" target="_blank">HERE-Map-widget-for-jupyter</a>，它结合了Jupyter widgets和HERE Maps API for JavaScript的功能，结合这些功能，Here Map widget for Jupyter可以在您的Jupyter笔记本中实现交互式地图和地理空间数据可视化。用于Jupyter API的Here地图小部件映射到用于JavaScript的HERE地图API，将其核心功能引入Jupyter生态系统。</p><p id="8af2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Jupyter的Here地图微件的一些重要功能:</p><ul class=""><li id="ba8c" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated">Jupyter笔记本中的交互式地图</li><li id="718f" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">倾斜、旋转和3D地图外观</li><li id="ae83" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">与<a class="ae js" href="https://github.com/heremaps/here-location-services-python" rel="noopener ugc nofollow" target="_blank"> HERE位置服务</a>集成</li><li id="69c2" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">与此处的<a class="ae js" href="https://github.com/heremaps/xyz-spaces-python" rel="noopener ugc nofollow" target="_blank">数据中枢</a>集成</li><li id="890c" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">这里是矢量瓷砖</li><li id="53cb" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">这里是栅格切片</li></ul><p id="7011" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">先决条件:</strong></p><p id="6d15" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">用于JavaScript的HERE Maps API具有API驱动的架构，因此要访问各种HERE Maps API，您需要一个API密钥进行身份验证。API密匙可以从<a class="ae js" href="https://developer.here.com/" rel="noopener ugc nofollow" target="_blank"> HERE开发者门户</a>免费获得。获取API密钥的指令在这里提到<a class="ae js" href="https://developer.here.com/documentation/identity-access-management/dev_guide/topics/dev-apikey.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="99e4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">安装:</strong></p><p id="7548" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">安装<strong class="iw hj">here-map-widget-for-jupyter</strong>:</p><p id="c48e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用conda:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="90e7" class="kq kr hi km b fi ks kt l ku kv">$ conda install -c conda-forge here-map-widget-for-jupyter</span></pre><p id="589a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用画中画:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="05c2" class="kq kr hi km b fi ks kt l ku kv">$ pip install here-map-widget-for-jupyter</span></pre><p id="748c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们一个接一个地看例子:</p><ol class=""><li id="b701" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr kw jz ka kb bi translated">地图:</li></ol><p id="65c6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">可视化地图非常简单，在地图类上创建一个对象，如下所示:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="c71e" class="kq kr hi km b fi ks kt l ku kv">import os<br/>from here_map_widget import Map</span><span id="ea67" class="kq kr hi km b fi kx kt l ku kv">api_key = os.environ["LS_API_KEY"]  # Read API key from environment</span><span id="7b07" class="kq kr hi km b fi kx kt l ku kv">m = Map(api_key=api_key, center=[52.5147, 13.3984], zoom=13)</span><span id="3a0f" class="kq kr hi km b fi kx kt l ku kv">m</span></pre><p id="3ca3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您可以缩放、平移和倾斜地图。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/db26a6a3175e49eae9a2e6c96fed17cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eZm--YwmKGF0bfFtHzA6iA.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">map</figcaption></figure><p id="fb03" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2.底图</p><p id="5429" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">底图使用栅格切片、矢量切片和地图切片API提供，如以下代码片段所示:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="f37a" class="kq kr hi km b fi ks kt l ku kv">import os<br/>from here_map_widget import Map, DefaultLayers, DefaultLayerNames, Platform</span><span id="55f0" class="kq kr hi km b fi kx kt l ku kv">api_key = os.environ["LS_API_KEY"]</span><span id="7036" class="kq kr hi km b fi kx kt l ku kv">default_layer = DefaultLayers(layer_name=DefaultLayerNames.raster.satellite.map)</span><span id="e30b" class="kq kr hi km b fi kx kt l ku kv">m = Map(api_key=api_key, basemap=default_layer, center=[52.5147, 13.3984], zoom=13)<br/>m</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/182fe78c2cd37ebfc85843a08bc58653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aoFD85knf_iFNgE3xSmMtA.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Basemaps</figcaption></figure><p id="0912" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">3.标记:</p><p id="f1ba" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当您有一组兴趣点时，您可以将其作为点标记添加到地图上。以下示例显示了如何使用标记在地图上表示单个点。</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="b787" class="kq kr hi km b fi ks kt l ku kv">import os<br/>from here_map_widget import Map, Marker</span><span id="3080" class="kq kr hi km b fi kx kt l ku kv">api_key = os.environ["LS_API_KEY"]<br/>m = Map(api_key=api_key, center=[52.53075, 13.3851], zoom=12)</span><span id="202a" class="kq kr hi km b fi kx kt l ku kv">marker = Marker(lat=52.53075, lng=13.3851)<br/>m.add_object(marker)<br/>m</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/bdd742e88927a31c0feac2ce39c34622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CkWCL1qyxUUnGddSnE7STA.png"/></div></div></figure><p id="1347" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">除了默认标记，您还可以使用图标对象为标记定制图标，jupyter的地图小部件也支持SVG和DOM标记。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="lb lc l"/></div><figcaption class="iq ir et er es is it bd b be z dx">markers</figcaption></figure></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><p id="7d13" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里Jupyter的地图小部件有三个可以添加到顶部的元素。</p><p id="5893" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一.对象:</p><p id="3b8e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对象是几何图形，例如:</p><ul class=""><li id="a59d" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated">要点</li><li id="bc56" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">线串</li><li id="338d" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">多重字符串</li><li id="a0f2" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">多边形</li><li id="735b" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">多重多边形</li><li id="16ef" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">矩形</li><li id="7f3c" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">圆</li><li id="c159" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">多叉线</li></ul><p id="26a1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">二。图层:</p><p id="bc02" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">图层是添加在地图顶部的叠加层。这里，Jupyter的地图微件支持以下图层:</p><ul class=""><li id="7e30" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated">杰奥森</li><li id="16c5" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">地理数据框架(地理数据库数据框架)</li><li id="2696" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">数据中枢空间层</li><li id="4e0f" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">Choropleth</li><li id="1a00" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">KML</li><li id="70fb" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">热图</li><li id="17a3" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">市场集群</li></ul><p id="cbed" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> MarkerCluster层:</strong></p><p id="9c5f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在下面的示例中，我们将世界上所有的机场作为标记聚类图层添加到地图上。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/f0a4f5b6138759418fb0f86f61dafa75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oCz48FFd03SbRPcKIlaYXg.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">markers_cluster</figcaption></figure><p id="f2b3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> Choropleth层:</strong></p><p id="770c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以下是基于美国各州失业指数的choropleth地图示例。失业数据为CSV格式，用于定义choropleth图层。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/96311e9c80d644cbad5d72cd2d865a5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5JHV2I7ea9ygX7mVD5Ksvw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">choropleth</figcaption></figure><p id="2cce" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们扩展上述示例并创建一个交互式地图，将鼠标指针悬停在州上方时，在ipywidgets的帮助下，通过在Choropleth层上注册on_hover回调，州的名称将显示在地图的左上角。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/d8dd70c50a552f35d26895762425df8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Lm3gCTm6fyfLPwFVjEA0_w.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">interactive</figcaption></figure><p id="0087" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">三。控件:</p><p id="8acc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">控件提供各种控制功能。</p><ul class=""><li id="438e" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated">全屏</li><li id="3217" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">地图设置控件</li><li id="bafc" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">尺寸</li><li id="2264" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">比例尺</li><li id="82e4" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">搜索</li><li id="7a03" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">拆分地图控件</li><li id="2e59" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">缩放控制</li><li id="f24b" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">缩放矩形控件</li><li id="4eed" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">小部件控件</li></ul><p id="1ff1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">控件控制:</strong></p><p id="26b8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">借助widget控件，可以在地图上添加ipywidgets，链接地图的性状来控制地图。在下面的例子中，我们将地图的标题特征链接到ipywidgets的IntSlider，这样我们就可以使用滑块旋转地图。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/3c310ed3cdf923176f16de23ba16b246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*u0GWxSKrTKFt57esQ9KzwQ.gif"/></div></div></figure><p id="3400" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这篇文章中，我展示了Jupyter的Here地图小部件的基本示例，你可以使用这个小部件实现一些高级的GIS功能。</p></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><p id="9614" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这里，Jupyter的地图小部件有大量的文档和更高级的例子。下面是一些重要的链接，可以获得关于这个小部件的更多信息。</p><ul class=""><li id="506f" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated"><a class="ae js" href="https://github.com/heremaps/here-map-widget-for-jupyter" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="0f2b" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated"><a class="ae js" href="https://here-map-widget-for-jupyter.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">文档</a></li><li id="2040" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated"><a class="ae js" href="https://pypi.org/project/here-map-widget-for-jupyter/" rel="noopener ugc nofollow" target="_blank"> PyPI </a></li></ul></div></div>    
</body>
</html>