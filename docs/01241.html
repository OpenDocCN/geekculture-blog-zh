<html>
<head>
<title>Bye-bye Mini Screen</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再见迷你屏幕</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/bye-bye-mini-screen-a6ceb2e2ce29?source=collection_archive---------23-----------------------#2021-04-02">https://medium.com/geekculture/bye-bye-mini-screen-a6ceb2e2ce29?source=collection_archive---------23-----------------------#2021-04-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="135e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你是否曾经为网络应用程序中几乎看不见的微小图片而烦恼过？还是微小的网络游戏屏幕？</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e7ee9fd94b1789fb166a1b803e7c2f7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mhA0Qyt_-KCsKl8R.png"/></div></div></figure><p id="9334" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不要让<strong class="ih hj">你的</strong> web应用<strong class="ih hj"> </strong>的用户有同样的体验！</p><p id="a6fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用全屏API！</p><p id="93f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文为您带来了一个关于在基本JS环境中使用全屏API的小演示。</p><p id="46ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我给你简单介绍一下全屏API的重要方法和属性。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/7b6b507bfd2eeb854d08f07bb01963d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uGXbkDA11tNuevtfJAJOAQ.png"/></div></div></figure><h1 id="1578" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">方法</h1><p id="b0f7" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">全屏API允许您在<em class="kt">文档</em>和<em class="kt">元素</em>接口上添加方法。</p><ol class=""><li id="a855" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc kz la lb lc bi translated"><strong class="ih hj">element . request full screen()</strong>—获取全屏</li><li id="4fef" class="ku kv hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated"><strong class="ih hj">document . exit full screen()</strong>—退出全屏</li></ol><h1 id="b7a7" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">性能</h1><ol class=""><li id="caf5" class="ku kv hi ih b ii ko im kp iq li iu lj iy lk jc kz la lb lc bi translated"><strong class="ih hj">document . full screen element</strong>—获取当前全屏元素</li><li id="6fa8" class="ku kv hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated"><strong class="ih hj">document . full screen enabled</strong>—获得全屏模式的可能性</li></ol><p id="c99c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看如何在web应用程序中的图像上使用这些方法和属性。</p><p id="3cfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从一个简单的JS项目开始。我用一个HTML文件和一个Js文件创建了一个简单的静态网页。我在这里解释的所有Javascript代码都将插入到<em class="kt"> page.js </em>文件中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/c71677581f58d0db24d5512a944e7f8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yo_JdMUywi57ahM-uShr0Q.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Figure 1</figcaption></figure><p id="b643" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图2显示了我们的web页面的初始外观。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/60f2d209b76a2d1ad0df2e70ddfc210c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltUe8GeJbPMYH97FRptuqg.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Figure 2</figcaption></figure><p id="8af2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将向您展示我们如何</p><ul class=""><li id="da90" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc lr la lb lc bi translated">双击图像以全屏显示</li><li id="43cb" class="ku kv hi ih b ii ld im le iq lf iu lg iy lh jc lr la lb lc bi translated">使用当前全屏元素退出全屏模式</li><li id="9e45" class="ku kv hi ih b ii ld im le iq lf iu lg iy lh jc lr la lb lc bi translated">切换全屏</li><li id="2f44" class="ku kv hi ih b ii ld im le iq lf iu lg iy lh jc lr la lb lc bi translated">提高浏览器兼容性</li><li id="b3ba" class="ku kv hi ih b ii ld im le iq lf iu lg iy lh jc lr la lb lc bi translated">识别全屏模式不可用的页面</li></ul><p id="be8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们需要一个<strong class="ih hj"> id </strong>用于我们的图像。在<em class="kt">index.html</em>文件中，编辑<code class="du ls lt lu lv b">&lt;img&gt;</code>标签，如下所示。</p><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="9134" class="ma jr hi lv b fi mb mc l md me">&lt;img src="image.jpg" width="500" height="300" <strong class="lv hj">id="img"</strong>&gt;</span></pre><p id="4411" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以通过id调用<em class="kt"> page.js </em>中的图片。</p><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="7e26" class="ma jr hi lv b fi mb mc l md me">var image = document.getElementById(“img”)</span></pre><h1 id="b1b0" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak"> 1。双击图像进入全屏模式</strong></h1><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="d7f8" class="ma jr hi lv b fi mb mc l md me">image.addEventListener(‘dblclick’, ()=&gt;{<br/> image.requestFullscreen().catch(console.log);<br/>});</span></pre><p id="3955" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么我们必须使用事件监听器？</p><p id="ef3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">全屏API只能通过<strong class="ih hj">用户手势</strong>启动。因此，我们需要一个事件列表器来捕获用户交互，如<code class="du ls lt lu lv b">click</code>、<code class="du ls lt lu lv b">dblclick </code>等。</p><h1 id="413b" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">2.通过使用当前全屏元素退出全屏模式</h1><p id="0ddf" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">如果文件不是全屏模式，<code class="du ls lt lu lv b">document.fullscreenElement</code>返回<code class="du ls lt lu lv b">null</code>。否则，它返回当前全屏元素。</p><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="c831" class="ma jr hi lv b fi mb mc l md me">image.addEventListener(‘dblclick’, ()=&gt;{<br/>if (<strong class="lv hj">document.fullscreenElement</strong>) {<br/>     document.exitFullscreen();<br/> }<br/>});</span></pre><p id="2deb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当双击图像时，如果输出不为空，该代码将执行<code class="du ls lt lu lv b">exitFullscreen()</code>方法。</p><p id="c2f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意<code class="du ls lt lu lv b">exitFullscreen()</code>只在文档对象上被调用。不需要传递元素。</p><h1 id="521e" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">3.切换全屏模式</h1><p id="8a27" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我们现在可以将上面的两个代码块组合成一个if-else条件，并在双击图像时在全屏和正常屏幕之间切换。</p><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="e25b" class="ma jr hi lv b fi mb mc l md me">image.addEventListener(‘dblclick’, ()=&gt;{</span><span id="7866" class="ma jr hi lv b fi mf mc l md me"> if (document.fullscreenElement) {<br/>     document.exitFullscreen();<br/> }<br/> else {<br/>     image.requestFullscreen().catch(console.log);<br/> }</span><span id="7aa7" class="ma jr hi lv b fi mf mc l md me">});</span></pre><h1 id="bbe9" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">4.提高浏览器兼容性</h1><p id="499d" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">某些浏览器的某些旧版本有时不支持这些方法和属性。我们可以使用这些属性和方法来支持旧版本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mg"><img src="../Images/f1cf2140c73fcebbce4b5dcea04e74f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DXHvvyg2tJIZkixY32ujhA.png"/></div></div></figure><p id="3832" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与多个方法和属性混淆？别担心。可以得到函数的使用。</p><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="4894" class="ma jr hi lv b fi mb mc l md me">function <strong class="lv hj">getFullscreenElement()</strong>{<br/>   return document.fullscreenElement<br/>          ||document.webkitFullscreenElement<br/>          ||document.mozFullscreenElement<br/>          ||document.msFullscreenElement</span><span id="339a" class="ma jr hi lv b fi mf mc l md me">}</span><span id="cce6" class="ma jr hi lv b fi mf mc l md me">function <strong class="lv hj">toggleFullscreen()</strong>{<br/>if (<strong class="lv hj">getFullscreenElement()</strong>) {<br/>     document.exitFullscreen();<br/> }<br/> else {<br/>     image.requestFullscreen().catch(console.log);<br/> }</span><span id="b238" class="ma jr hi lv b fi mf mc l md me">}</span><span id="41a6" class="ma jr hi lv b fi mf mc l md me">image.addEventListener(‘dblclick’, ()=&gt;{<br/> <strong class="lv hj">toggleFullscreen();</strong></span><span id="9fdd" class="ma jr hi lv b fi mf mc l md me">});</span></pre><h1 id="246b" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">5.识别全屏模式不可用的页面</h1><p id="1da7" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">有一种方法可以检查全屏模式是否适用于您的网页。如果页面在其任何文档中包含任何窗口插件，或者如果任何<code class="du ls lt lu lv b">&lt;iframe&gt;</code>元素不包含<code class="du ls lt lu lv b">allowfullscreen</code>属性集，则全屏模式对于该页面将不可用。</p><p id="19af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的代码块请求全屏<strong class="ih hj">，前提是</strong>全屏模式可用于您的页面。</p><pre class="je jf jg jh fd lw lv lx ly aw lz bi"><span id="a60b" class="ma jr hi lv b fi mb mc l md me">function <strong class="lv hj">requestFullScreen()</strong> {<br/>  if (<strong class="lv hj">document.fullscreenEnabled</strong>) {<br/>    image.requestFullScreen();<br/>  } <br/>  else {<br/>    console.log('Full screen mode is not available');<br/>  }<br/>}</span><span id="a65f" class="ma jr hi lv b fi mf mc l md me">image.addEventListener(‘dblclick’, ()=&gt;{<br/> <strong class="lv hj">requestFullScreen();</strong></span><span id="04a4" class="ma jr hi lv b fi mf mc l md me">});</span></pre></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><p id="15fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Fullscreeen API是一个非常简单的API，有一些方法、属性、事件和事件处理程序。您可以通过几行Javascript在您的网页中获得全屏模式的体验。</p></div></div>    
</body>
</html>