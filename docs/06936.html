<html>
<head>
<title>How To Programmatically Deploy and Mint a Simple NFT on the Polygon Blockchain</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在多边形区块链上以编程方式部署和创建一个简单的NFT</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-programmatically-deploy-and-mint-a-simple-nft-on-the-polygon-blockchain-88e1beede15d?source=collection_archive---------0-----------------------#2021-09-02">https://medium.com/geekculture/how-to-programmatically-deploy-and-mint-a-simple-nft-on-the-polygon-blockchain-88e1beede15d?source=collection_archive---------0-----------------------#2021-09-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5205" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">快速指南，在没有NFT市场的情况下部署您的第一个NFT，同时仍然能够在OpenSea上进行交易。</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/93f271841f3572fbb8119634128754bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5ylajXWNSeCZ0arGe1-pA.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Photo by <a class="ae ju" href="https://unsplash.com/@austindistel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Austin Distel</a> on <a class="ae ju" href="https://unsplash.com/s/photos/ethereum?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c702" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个时候，区块链是一个有趣的软件。这是一个非常热门的话题，开发者正在慢慢上升到顶端。以太坊，最大的智能合约区块链正在迅速崛起。然而问题是，<strong class="ih hj">它的汽油费也随之上涨</strong>。部署一份简单的NFT智能合同将花费我1300美元。</p><p id="24dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是为什么我们要使用<a class="ae ju" href="https://polygon.technology/" rel="noopener ugc nofollow" target="_blank">多边形</a>的区块链。这是一个以太坊兼容的区块链，许多项目采用它作为第二选择。<strong class="ih hj">它的油费低得多</strong>，但功能不变。我们还将使用<a class="ae ju" href="https://hardhat.org/" rel="noopener ugc nofollow" target="_blank">安全帽</a>。用JavaScript连接区块链的一种方式。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="23f8" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">项目设置</h1><p id="b629" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们将在Polygon Testnet(孟买)上部署和铸造我们的NFT。我们将使用Polygon，因为它的天然气费用较低，并且仍然能够与OpenSea等平台连接。</p><h2 id="35d8" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">设置您的钱包</h2><p id="727a" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">首先，您需要设置元掩码，获取一些testnet MATIC并使其出现在您的钱包中。你可以按照我写的另一篇文章来实现这一点。</p><div class="lt lu ez fb lv lw"><a rel="noopener follow" target="_blank" href="/codex/setting-up-metamask-for-polygon-blockchain-development-af058d0fab2e"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">为多边形区块链开发设置元掩码</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">关于设置和获得孟买测试网自动令牌的完整指南。</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">medium.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk jo lw"/></div></div></a></div><p id="63ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建钱包并设置好多边形运行所需的一切后，您可以继续。</p><h2 id="7656" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">设置项目</h2><p id="bc35" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们将使用<a class="ae ju" href="https://hardhat.org/" rel="noopener ugc nofollow" target="_blank"> Hardhat </a>部署我们的智能合约。Hardhat是一个以太坊开发环境，但谢天谢地，它对多边形和其他链也很有效。我们还将使用NPM来设置一切。</p><pre class="jf jg jh ji fd ml mm mn mo aw mp bi"><span id="c250" class="lf kd hi mm b fi mq mr l ms mt">npm install --save-dev hardhat<br/>npx hardhat</span></pre><p id="e0a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二个命令将提示您一些选项。在这种情况下，您可以选择默认选项。你可以在官方文件中了解更多。</p><p id="26fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您现在应该有一个目录，其中包含一些文件和文件夹，如合同、脚本和测试。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="eafa" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">制定明智的合同</h1><p id="edfd" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们将使用OpenZeppelin的契约库快速创建一个ERC721智能契约，它符合ERC721标准中指定的规范，这是NFTs的默认规范。</p><pre class="jf jg jh ji fd ml mm mn mo aw mp bi"><span id="176b" class="lf kd hi mm b fi mq mr l ms mt">npm install @openzeppelin/contracts</span></pre><p id="f0fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将在Contracts文件夹中使用这些有用的工具创建我们自己的合同。您可以将下面要点中的代码复制并粘贴到一个名为<code class="du mu mv mw mm b">MyToken.sol</code>的文件中。代码是用<a class="ae ju" href="https://docs.openzeppelin.com/contracts/4.x/wizard" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin的令牌向导</a>生成的，这是一个制作简单契约的有用工具。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="ac08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该合同有能力由合同所有者铸造。它会使用<code class="du mu mv mw mm b">Counters</code>自动跟踪<code class="du mu mv mw mm b">TokenId</code>，通过使用<code class="du mu mv mw mm b">Enumerable</code>，我们可以很容易地跟踪有多少代币以及它们属于谁。底部的两个功能是<code class="du mu mv mw mm b">Enumerable</code>所需的简单覆盖。</p><p id="cd9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">阅读我们在<a class="ae ju" href="https://docs.openzeppelin.com/contracts/4.x/api/token/erc721#ERC721" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin </a>上导入的契约的能力会非常有用。只需阅读函数和它们的作用。如果你需要更多关于坚固的知识，我建议去做隐僵尸教程。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="b18d" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">部署</h1><p id="9f8c" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们可以创建一个简单的脚本，调用它将我们的脚本部署到我们选择的网络中。多边形的孟买测试网。为此，我们还需要在Hardhat配置中添加一些小选项。</p><p id="706e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在脚本文件夹中，创建一个名为<code class="du mu mv mw mm b">deploy-script.js</code>的新文件，并向其中添加以下代码。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="9289" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，修改<code class="du mu mv mw mm b">hardhat.config.js</code>以包含以下代码。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="b701" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">私钥应该是元掩码钱包中的私钥。如果您的钱包中有testnet MATIC令牌(私钥来自该令牌),那么我们现在已经拥有了部署契约所需的一切，方法是运行:</p><pre class="jf jg jh ji fd ml mm mn mo aw mp bi"><span id="8f9f" class="lf kd hi mm b fi mq mr l ms mt">npx hardhat run scripts/deploy-script.js --network matic_testnet</span></pre><p id="9eae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在控制台中复制它将返回的地址，你甚至可以在孟买多边形扫描网站上查看它。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="1f81" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">铸造</h1><p id="8d32" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">如果契约被部署，您应该能够以多种方式调用<code class="du mu mv mw mm b">mint</code>函数。你可以用Web3连接你的钱包，让一个按钮调用<code class="du mu mv mw mm b">mint</code>，但是我们也可以用另一个脚本来完成。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="7242" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以用它打电话</p><pre class="jf jg jh ji fd ml mm mn mo aw mp bi"><span id="7ee3" class="lf kd hi mm b fi mq mr l ms mt">npx hardhat run scripts/mint-script.js --network matic_testnet</span></pre><p id="7d34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你的第一个NFT现在应该铸造出来了，你应该可以在OpenSea上看到它们。</p><p id="ecf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，这个NFT没有URI，没有图像，也没有元数据。这是另一篇文章的内容。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="a0d0" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论</h1><p id="97ed" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">如果你想制造大量的NFT，你可以使用一个在你的cmd中执行命令的库来循环运行<code class="du mu mv mw mm b">npx</code>命令。让我在推特上知道你创造了什么样的NFT项目！</p><p id="a85b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非常感谢您的阅读，祝您度过美好的一天。</p></div></div>    
</body>
</html>