<html>
<head>
<title>Improving Video Recordings With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python改进视频录制</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/improving-video-recordings-with-python-fb3f31cdc794?source=collection_archive---------31-----------------------#2021-08-19">https://medium.com/geekculture/improving-video-recordings-with-python-fb3f31cdc794?source=collection_archive---------31-----------------------#2021-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b9a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">独特的Python X OBS协作</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/c7aa3faa7cf062d7d15b71524a162ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NbstQTmDzTZ__3rz.jpg"/></div></div></figure><p id="ed34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任何在生活中看过足够多视频游戏YouTubers的人可能都知道WASD的按键设置。人们会在他们的屏幕上显示他们正在按的键，特别是WASD键，还有LMB、人民币、空格，也许还有Shift。</p><p id="71be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我主要是在《我的世界》的录音中看到这一点，但它在其他场景中也非常有用。在本文中，我的目标是涵盖3个主题:</p><ol class=""><li id="5a8c" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">为什么你应该使用这个</li><li id="2ad0" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">PyGame中的代码</li><li id="f4cd" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">在OBS中设置它</li><li id="9f22" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">更多应用</li></ol><h2 id="6925" class="kd ke hi bd kf kg kh ki kj kk kl km kn iq ko kp kq iu kr ks kt iy ku kv kw kx bi translated">为什么应该使用这个:</h2><p id="cd3d" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">使用Python x OBS有很大的威力。一旦你完成这个项目，你应该有能力做几乎任何与OBS显示相关的事情。你可以高亮显示屏幕上的东西，添加自定义水印(就像我在视频中做的那样)，通常让OBS对正在发生的事情更加敏感。我最喜欢的一个应用是设置pygame在后台运行，并在击键时播放声音效果。</p><p id="e505" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可能性是无限的。如果你以任何你想的方式使用这篇文章中展示的简单技巧，你的录音会变得更好。</p><p id="e959" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事不宜迟，让我们直接进入代码。</p><h2 id="33a7" class="kd ke hi bd kf kg kh ki kj kk kl km kn iq ko kp kq iu kr ks kt iy ku kv kw kx bi translated">代码位</h2><p id="ea9b" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">首先要做的是创建一个名为<code class="du ld le lf lg b">wasdkey.pyw</code>的文件或类似的东西。确保扩展名为“pyw”这将允许您双击文件来运行它。</p><p id="8cdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我要展示代码，然后我会分解它。如果您不关心代码为什么工作(您应该关心，因为如果您了解如何操作它，它会变得更加强大),那么您可以直接跳到在OBS中设置它。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="b527" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">分解:<br/> </strong>首先，我们需要我们的进口。我们将使用PyGame作为实际的GUI，然后使用一些win32api来设置透明度和检测击键，即使窗口不在焦点上。</p><p id="d46a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，pip安装您需要的软件包:</p><p id="b83f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ld le lf lg b">pip install pywin32</code></p><p id="a74c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，将它们导入文件:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="389e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们设置pygame，以及我们将要使用的颜色。暗褐色是背景色，所以任何暗褐色的东西都是透明的。</p><p id="f51e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这之后，我们用win32gui在一堆复杂的代码中设置背景透明。</p><p id="4f64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们再次使用win32api检查某个键是否被按下。“key”中的值通常是字母的顺序(大写字母)</p><p id="647f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，如果你按下<code class="du ld le lf lg b">a</code>，那么你将调用<code class="du ld le lf lg b">isKeyPressed(ord('A'))</code></p><p id="7be4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第26到42行简单地配置了文本和文本的位置，所以这是所有基本的pygame。</p><p id="6d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第45到74行也发生了同样的事情。然而，设置鼠标按键非常困难。尝试使用<code class="du ld le lf lg b">isKeyPressed(someNumber)</code>，其中someNumber是1到32之间的一个数字。检查当你按下鼠标左键和右键时会发生什么。每台电脑都不一样。对我来说，LMB就是<code class="du ld le lf lg b">0x01=1</code>，人民币就是win32con认为的LMB。</p><p id="3f0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码的其余部分非常简单。</p><h2 id="53b2" class="kd ke hi bd kf kg kh ki kj kk kl km kn iq ko kp kq iu kr ks kt iy ku kv kw kx bi translated">在OBS中设置它</h2><p id="b9cb" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">首先，在文件资源管理器中双击打开文件。按下<code class="du ld le lf lg b">⊞ Win</code> + <code class="du ld le lf lg b">Tab ↹</code>，然后拖动标签到一个新窗口。确保此窗口中没有其他内容。</p><p id="9d30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在OBS中(不是在上面的同一个窗口中)，创建一个新场景，并向sources选项卡添加一个显示捕获。确保选择整个显示屏。然后，添加WASDKey (python pygame)的窗口截图。然后，右键单击窗口捕获，并选择过滤器。为绿色屏幕添加滤镜，并将颜色自定义为棕褐色。现在背景在OBS中是透明的。</p><p id="7594" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切正确，OBS应该看起来像:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/53fc8c4307098dc0e31bdc48b55493c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kmLrJJJvn6MdlZwF_SXa4g.png"/></div></div></figure><h2 id="efb4" class="kd ke hi bd kf kg kh ki kj kk kl km kn iq ko kp kq iu kr ks kt iy ku kv kw kx bi translated">更多应用:</h2><p id="659a" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">PyGame x OBS有很多应用，如果你停下来想一想，我肯定你会找到一些。</p><p id="4b29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，假设在录音时，您想让屏幕在您按下<code class="du ld le lf lg b">CTRL+SHIFT+1</code>时高亮显示您的鼠标。然后，只需检测所有按钮何时被同时按下，并在鼠标位置周围添加一个黄色圆圈。你可以使用<a class="ae lk" href="https://stackoverflow.com/a/50454340" rel="noopener ugc nofollow" target="_blank">这个</a>来确保屏幕全屏，并获得鼠标的X和Y位置。使用之前的透明技术，只需将pygame窗口覆盖到OBS上，就大功告成了！</p><p id="2a25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ll">学到了新东西？留下一些掌声让我知道！</em> </strong></p><p id="884b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ll">有什么有趣的想法可以和PyGame + OBS搭配使用？或者有什么问题吗？请在评论中告诉我！</em> </strong></p></div></div>    
</body>
</html>