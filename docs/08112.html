<html>
<head>
<title>Simple Brute Force Attack on Zip File Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python对Zip文件进行简单的暴力攻击</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/simple-brute-force-attack-on-zip-file-using-python-2eb10b9ab5e6?source=collection_archive---------4-----------------------#2021-10-15">https://medium.com/geekculture/simple-brute-force-attack-on-zip-file-using-python-2eb10b9ab5e6?source=collection_archive---------4-----------------------#2021-10-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/74733b9d6b327ba39753c057e8b985a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P56YpAbKCvlM2wreS2mxYg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@marcusurbenz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Marcus Urbenz</a> on <a class="ae iu" href="https://unsplash.com/s/photos/zip?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="79b3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ZIP是一个支持数据压缩的存档格式化程序。ZIP文件可以由一个或多个文件或目录填充。ZIP的大小比原来的小。它还支持密码保护，以保护我们的数据免受他人。但是，如果你是一个喜欢设置新密码的人，有时你会忘记你的旧密码，即使它是最简单的一个。真的很烦对吧。</p><p id="e408" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这篇文章的目的是当你忘记你的受保护的zip文件时如何处理你自己。请注意，<strong class="ix hj">这是给你的ZIP文件，不是给其他人的。</strong>任何进入他人档案的行动都超出了我的职责范围。但是，相信我，这个方法会对我们有很大帮助。尤其是当我们真的记不起之前输入的密码时。仅供参考，这是我从<a class="ae iu" href="https://twitter.com/xtremepentest" rel="noopener ugc nofollow" target="_blank"> @xtremepentest </a>得到的文章</p><p id="23c9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧，让我们进入代码</p><h1 id="2b3e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">初始化</h1><p id="05d5" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">好了，让我们制作一些受保护的文件，这里是例子，我想保护三首歌曲进入ZIP，在这种情况下我给它密码<code class="du kw kx ky kz b">password</code></p><figure class="lb lc ld le fd ij er es paragraph-image"><div class="er es la"><img src="../Images/71fd3561e6eaaa0468e544c3a867a32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*f76VcPpq2IfKRtPj8ie9lQ.png"/></div></figure><p id="4cd2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在成功保护文件后，它会要求我们在每次解压时输入密码，如下图所示</p><figure class="lb lc ld le fd ij er es paragraph-image"><div class="er es la"><img src="../Images/3db651b864a0ceb906d0d6c48ad932db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*09FBaDLuFr8ZLL_DUSm8Kw.png"/></div></figure><p id="b8cf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好了，我们的受保护文件准备好了，让我们进入代码部分</p><h1 id="967d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">代码部分</h1><p id="e656" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">首先，这将使用<code class="du kw kx ky kz b">zipfile</code>模块进行暴力攻击和<code class="du kw kx ky kz b">tqdm</code>模块建立一个进度条，使攻击更加真实。</p><pre class="lb lc ld le fd lf kz lg lh aw li bi"><span id="510b" class="lj ju hi kz b fi lk ll l lm ln">from tqdm import tqdm<br/>import zipfile</span></pre><p id="34f1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您还没有安装这两个模块，只需在您终端上运行即可。</p><pre class="lb lc ld le fd lf kz lg lh aw li bi"><span id="7530" class="lj ju hi kz b fi lk ll l lm ln">pip install tqdm<br/>pip install zipfile</span></pre><p id="00fd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将要求用户输入zip文件名和单词表来进行字典攻击。</p><pre class="lb lc ld le fd lf kz lg lh aw li bi"><span id="e849" class="lj ju hi kz b fi lk ll l lm ln">protected_file = input("Zip file: ")<br/>wordlist = input("Choose wordlist: ")</span></pre><p id="01e1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">单词表是暴力攻击中常用的文本集合。您可以手动构建，只需将您的文件保存为<code class="du kw kx ky kz b">.txt</code>文件。这是一个例子</p><pre class="lb lc ld le fd lf kz lg lh aw li bi"><span id="4623" class="lj ju hi kz b fi lk ll l lm ln">...<br/>scooter<br/>richard<br/>soccer<br/>rachel<br/>purple<br/>password<br/>melissa<br/>jackson<br/>angela<br/>arsenal<br/>222222<br/>...</span></pre><p id="2db7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我把上面的单词表保存为<code class="du kw kx ky kz b">my_wordlist.txt</code>。创建单词表后，我们需要检查程序是否是ZIP文件。如果程序是ZIP文件，代码将运行，如果不是，代码将停止。</p><pre class="lb lc ld le fd lf kz lg lh aw li bi"><span id="458a" class="lj ju hi kz b fi lk ll l lm ln">try:<br/>    zip_file = zipfile.ZipFile(protected_file)<br/>    n_pass = len(list(open(wordlist, "rb")))<br/>except:<br/>    print("\a")<br/>    print("File not zip, exiting...")<br/>    exit(0)</span></pre><p id="05c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的代码中，我也阅读了所有的单词表，以了解有多少单词将被用于暴力攻击。最后，这里我们进入攻击发生时的最终代码。</p><pre class="lb lc ld le fd lf kz lg lh aw li bi"><span id="1312" class="lj ju hi kz b fi lk ll l lm ln">print("Number of password that will be checked:", n_pass)<br/>print('\n')</span><span id="b7d0" class="lj ju hi kz b fi lo ll l lm ln">with open(wordlist, "rb") as wordlist:<br/>    for word in tqdm(wordlist, total=n_pass, unit='word'):<br/>        try:<br/>            zip_file.extractall(pwd=word.strip())<br/>        except:<br/>            continue<br/>        else:<br/>            print("\a")<br/>            print("[+] Password Found:", word.decode().strip())<br/>            print("\a")<br/>            print('Exiting...')<br/>            exit(0)</span><span id="2b7b" class="lj ju hi kz b fi lo ll l lm ln">print("\a")<br/>print("[X] Password not found in the wordlist, try another one")</span></pre><p id="f7dc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗯，使用来自<code class="du kw kx ky kz b">zipfile</code>模块的<code class="du kw kx ky kz b">extractall</code>函数，暴力将运行到单词列表的末尾。如果密码匹配，它会提示出密码。但是，如果不是蛮力将退出。</p><h1 id="dbaa" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">履行</h1><p id="dd5f" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">好了，这是我们之前构建的攻击场景的文档</p><figure class="lb lc ld le fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/6bcbc082674d207f7ccfa816a6968b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3-Ay7qtmpWVmCutmk0y6Tg.gif"/></div></div></figure><p id="55cf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗯，是的，密码是<code class="du kw kx ky kz b">password</code>就像我们之前声明的那样。如果你想要一些挑战，试着找到<a class="ae iu" href="https://drive.google.com/file/d/1FdnFL2wJAB7tWL40WB2ESb2QIlspOzoS/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">这个ZIP文件密码</a>并告诉我答案。</p><h1 id="7f20" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="e2eb" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在这篇文章中，我分享了如何通过实现<code class="du kw kx ky kz b">tqdm</code>和<code class="du kw kx ky kz b">zipfile</code>模块进行简单的强力zip文件攻击。请在你的生活中明智地使用这个教程。</p><p id="7eed" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以上就是我的全部内容，感谢阅读。✌</p></div></div>    
</body>
</html>