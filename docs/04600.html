<html>
<head>
<title>Greykite: Forecasting Library from LinkedIn (Case: Bitcoin Price Prediction)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Greykite:来自LinkedIn的预测库(案例:比特币价格预测)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/greykite-the-new-forecasting-library-from-linkedin-case-bitcoin-price-prediction-981d21e79b31?source=collection_archive---------10-----------------------#2021-06-30">https://medium.com/geekculture/greykite-the-new-forecasting-library-from-linkedin-case-bitcoin-price-prediction-981d21e79b31?source=collection_archive---------10-----------------------#2021-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2021年5月，LinkedIn发布了一个时间序列预测库，<a class="ae jd" href="https://github.com/linkedin/greykite" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Greykite </strong> </a>，以简化其数据科学家的预测过程。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/36d4a48cf7c1f67934bc78ef75f0eb9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GvuYw3y-9m7wLNCF.PNG"/></div></div></figure><h1 id="feaa" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">灰风筝简介</strong></h1><p id="da61" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated"><strong class="ih hj">grey kite库</strong>是<strong class="ih hj"> </strong>一个开源Python库，旨在支持LinkedIn的预测需求。<strong class="ih hj"> </strong> LinkedIn开发了GreyKite，以支持其团队基于时间序列预测模型做出有效决策。这个库中使用的主要预测算法是<code class="du kt ku kv kw b"><strong class="ih hj">Silverkite</strong></code>，它可以自动进行预测。</p><p id="9e74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">Silverkite</strong>模型有许多预先调整的模板(即参数配置),以适应不同的预测频率、范围和数据模式。除了Silverkite，它还包括一个由脸书开发的先知模型的接口。下表解释了这些选项。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kx"><img src="../Images/3af6359b6d774b1cfadd45c365f9db57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RB7Tv3It9bTZo96Q5SHUg.png"/></div></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ky"><img src="../Images/4ae642a858762150154c14b6d4d11971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJSzoyhOynBkHkIIYw6DQA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx"><a class="ae jd" href="https://linkedin.github.io/greykite/docs/0.1.0/html/pages/stepbystep/0100_choose_model.html" rel="noopener ugc nofollow" target="_blank">Sources</a></figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ld"><img src="../Images/d5faf29a45a15407a3f1569697b59cd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tk4loaLTRetT3fVBnP4txQ.png"/></div></div></figure><h2 id="813e" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">灰风筝的一些主要优点是:</h2><ul class=""><li id="22e5" class="ls lt hi ih b ii ko im kp iq lu iu lv iy lw jc lx ly lz ma bi translated"><strong class="ih hj">灵活</strong>:提供时间序列回归器(趋势、季节性、节假日、变点和自回归)。</li><li id="0011" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><strong class="ih hj">直观</strong>:提供强大的绘图工具、模型模板并产生可解释的输出(模型概要和组件图)。</li><li id="5392" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><strong class="ih hj">快速</strong>:促进交互式原型、网格搜索和基准测试。</li><li id="25d6" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><strong class="ih hj">可扩展框架</strong>:在同一个界面中展示多种预测算法。同一管道提供预处理、交叉验证、回溯测试、预测和对任何算法的评估。</li></ul><p id="8621" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">greykite的其他主要优势是:探索性数据分析、异常值/异常预处理、特征提取和工程、网格搜索、评估、基准和绘图。</p><h2 id="af46" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">灰风筝的建筑图:</h2><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mg"><img src="../Images/cdb9a115dfc89d532db869b670debb67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EwKtmazfKk6toAoX.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx"><strong class="bd js">Architecture Diagram of Greykite Library’s Main Forecasting Algorithm, Silverkite</strong></figcaption></figure><ul class=""><li id="2924" class="ls lt hi ih b ii ij im in iq mh iu mi iy mj jc lx ly lz ma bi translated">绿色:模型输入(时间序列、异常、潜在事件、潜在未来回归变量、自回归成分和变点日期)。</li><li id="c5ff" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">橙色:模型输出(预测、预测区间和诊断:准确性度量、可视化和摘要)。</li><li id="f225" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">蓝色:算法的计算步骤。</li></ul><h1 id="6569" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">案例:比特币价格预测</strong></h1><p id="f22e" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated"><strong class="ih hj">比特币</strong>是一种去中心化的数字货币，没有中央银行，可以在点对点的比特币网络上从一个用户发送到另一个用户，不需要中间人。交易由网络节点通过加密进行验证，并记录在一个名为“区块链”的公共分布式账本中。</p><p id="776b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对未来的准确了解对任何企业都有帮助。时间序列预测可以提供度量标准和其他随时间可测量的量的未来预期</p><h1 id="cc39" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">我们来码！</strong></h1><h2 id="7d30" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">1.装置</h2><p id="bd46" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated"><code class="du kt ku kv kw b">Greykite</code>在PyPI上可用，可与pip一起安装:</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="13c2" class="le jr hi kw b fi mo mp l mq mr">pip install greykite</span></pre><p id="d66f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kt ku kv kw b">Greykite</code>库在<a class="ae jd" href="https://github.com/linkedin/greykite" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> GitHub </strong> </a>和<a class="ae jd" href="https://github.com/linkedin/greykite" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> PyPI </strong> </a>上都有。更多安装提示，参见<a class="ae jd" href="https://linkedin.github.io/greykite/installation" rel="noopener ugc nofollow" target="_blank">安装。 </a></p><h2 id="802c" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">2.导入所有必需的</h2><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="28e9" class="le jr hi kw b fi mo mp l mq mr"><strong class="kw hj">from</strong> collections <strong class="kw hj">import</strong> defaultdict<br/><strong class="kw hj">import</strong> warnings</span><span id="d8ae" class="le jr hi kw b fi ms mp l mq mr">warnings.filterwarnings("ignore")</span><span id="aab7" class="le jr hi kw b fi ms mp l mq mr"><strong class="kw hj">import</strong> pandas as pd<br/><strong class="kw hj">import</strong> numpy as np<br/><strong class="kw hj">import</strong> plotly<br/><strong class="kw hj">import</strong> plotly.offline as pyo<br/><strong class="kw hj">import</strong> plotly.graph_objs as go</span><span id="6dac" class="le jr hi kw b fi ms mp l mq mr">pyo.init_notebook_mode()</span><span id="2dcd" class="le jr hi kw b fi ms mp l mq mr"><strong class="kw hj">from</strong> greykite.common.data_loader <strong class="kw hj">import</strong> DataLoader<br/><strong class="kw hj">from</strong> greykite.framework.templates.autogen.forecast_config <strong class="kw hj">import</strong> ForecastConfig<br/><strong class="kw hj">from</strong> greykite.framework.templates.autogen.forecast_config <strong class="kw hj">import</strong> MetadataParam<br/><strong class="kw hj">from</strong> greykite.framework.templates.forecaster <strong class="kw hj">import</strong> Forecaster<br/><strong class="kw hj">from</strong> greykite.framework.templates.model_templates <strong class="kw hj">import</strong> ModelTemplateEnum<br/><strong class="kw hj">from </strong>greykite.framework.utils.result_summary <strong class="kw hj">import</strong> summarize_grid_search_results</span></pre><h2 id="cb01" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">3.导入数据集</h2><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="532e" class="le jr hi kw b fi mo mp l mq mr">df = pd.read_csv('dataset.csv')<br/>df['date'] = pd.to_datetime(df['Timestamp'],unit='s').dt.date<br/>group = df.groupby('date')<br/>Price = group['Weighted_Price'].mean()</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mt"><img src="../Images/8c25b1467a09f58041458e877b15f211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*skQflmdAwss4h5NwPgdPBQ.png"/></div></div></figure><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="16b3" class="le jr hi kw b fi mo mp l mq mr">df_price_zz=Price.to_frame()<br/>df_price_zz['Timestamp'] = df_price_zz.index<br/>df_price_zz['Timestamp'] = pd.to_datetime(df_price_zz['Timestamp'])<br/>df_price_zz.reset_index(drop=True,inplace=True)<br/>df_price_include_zz = df_price_zz[df_price_zz['Timestamp'].dt.year &gt;= 2017]<br/>df_price_include_zz.reset_index(drop=True,inplace=True)<br/># df_price_include_zz</span><span id="3163" class="le jr hi kw b fi ms mp l mq mr">df_price_include_zz.set_index("Timestamp", inplace = True)<br/>df_price_include_zz</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mu"><img src="../Images/d35beb47f5c2d0ecddc4bec60e20edec.png" data-original-src="https://miro.medium.com/v2/resize:fit:382/format:webp/1*i7wAnUf7AmYDtv581keKhQ.png"/></div></figure><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="2daf" class="le jr hi kw b fi mo mp l mq mr">Price.to_numpy()<br/>df_price=Price.to_frame()<br/>df_price['Timestamp'] = df_price.index<br/>df_price['Timestamp'] = pd.to_datetime(df_price['Timestamp'])<br/>df_price.reset_index(drop=True,inplace=True)<br/>df_price_include = df_price[df_price['Timestamp'].dt.year &gt;= 2017]<br/>df_price_include.reset_index(drop=True,inplace=True)</span><span id="5829" class="le jr hi kw b fi ms mp l mq mr">prediction_days = 50<br/>df_train= df_price_include_zz[:len(df_price_include_zz)-prediction_days]<br/>df_test= df_price_include_zz[len(df_price_include_zz)-prediction_days:]</span></pre><h2 id="8122" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">4.创建预测</h2><p id="99e7" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">首先，指定数据集信息。我们将<code class="du kt ku kv kw b">time_col</code>参数设置为“时间戳”，将<code class="du kt ku kv kw b">value_col</code>参数设置为“加权价格”，并将<code class="du kt ku kv kw b">freq</code>值设置为开始日期每天的D。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="54d7" class="le jr hi kw b fi mo mp l mq mr">metadata = MetadataParam(<br/>           time_col="Timestamp",   <br/>           value_col="Weighted_Price",  <br/>           freq="W"           <br/>)</span></pre><p id="890d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后使用GreyKite包中的<strong class="ih hj">预测师</strong>类创建一个预测师。我们可以选择<code class="du kt ku kv kw b">Prophet</code>或<code class="du kt ku kv kw b">Silverkite</code>预测模型。</p><p id="8e3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们使用<code class="du kt ku kv kw b">'Silverkite</code>:</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="9f7b" class="le jr hi kw b fi mo mp l mq mr">forecaster = Forecaster()  # Creates forecasts and stores the result<br/>result = forecaster.run_forecast_config(  # result is also stored as `forecaster.forecast_result`.<br/> df=df,<br/> config=ForecastConfig(<br/>     model_template=ModelTemplateEnum.<strong class="kw hj">SILVERKITE</strong>.name,<br/>     forecast_horizon=365,  # forecasts 365 steps ahead<br/>     coverage=0.95,         # 95% prediction intervals<br/>     metadata_param=metadata<br/> )<br/>)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mv"><img src="../Images/49eb7a1c6643e2df242a94a480244c03.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*fmRbUdm7xHx1nQfUzyjNUg.png"/></div></figure><h2 id="779e" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">5.检查结果</h2><p id="b079" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated"><code class="du kt ku kv kw b">run_forecast_config</code>的输出是一个字典，包含未来预测、历史预测性能和原始时间序列。</p><p id="6735" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们绘制原始时间序列，交互图由<code class="du kt ku kv kw b">plotly</code>生成</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="b7f6" class="le jr hi kw b fi mo mp l mq mr">ts = result.timeseries<br/>fig = ts.plot()<br/>plotly.io.show(fig)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mw"><img src="../Images/844425cfdb0c81fc26717018f22ae681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C3fhBIZnjFGFGYUaYUCUkg.png"/></div></div></figure><h2 id="5325" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">6.交叉验证</h2><p id="52ce" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">默认情况下，<code class="du kt ku kv kw b">run_forecast_config</code> <strong class="ih hj"> </strong>提供历史评估，存储在<code class="du kt ku kv kw b">grid_search</code>(交叉验证分割)和<code class="du kt ku kv kw b">backtest</code>(维持测试集)中。</p><p id="f77e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，<code class="du kt ku kv kw b">'ElementwiseEvaluationMetricEnum</code>中的所有指标都是在每次交叉验证训练/测试分割中计算的。交叉验证评估指标的配置可在评估指标中找到。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="48cc" class="le jr hi kw b fi mo mp l mq mr">grid_search = result.grid_search<br/>cv_results = summarize_grid_search_results(<br/>    grid_search=grid_search,<br/>    decimals=2,</span><span id="84d6" class="le jr hi kw b fi ms mp l mq mr"><strong class="kw hj"># The below saves space in the printed output. Remove to show all available metrics and columns.</strong><br/>    cv_report_metrics=None,<br/>    column_order=["rank", "mean_test", "split_test", "mean_train",<br/>    "split_train", "mean_fit_time", "mean_score_time", "params"])</span><span id="ec87" class="le jr hi kw b fi ms mp l mq mr"><strong class="kw hj"># Transposes to save space in the printed output</strong><br/>cv_results["params"] = cv_results["params"].astype(str)<br/>cv_results.set_index("params", drop=True, inplace=True)<br/>cv_results.transpose()</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mx"><img src="../Images/515970b1ea8eacb791ac04744ad5003b.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*Pe3RhH-x9IljqtH1Njrggg.png"/></div></figure><h2 id="34ab" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">7.绘制回溯测试</h2><p id="244f" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">让我们在维持测试集上绘制历史预测。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="3fb7" class="le jr hi kw b fi mo mp l mq mr">backtest = result.backtest<br/>fig = backtest.plot()<br/>plotly.io.show(fig)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es my"><img src="../Images/6b2f7881d832c95948e85005650aa4e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bOch0pGtSYF7lhA_foxLEg.png"/></div></div></figure><p id="b6f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以检查历史评估指标(在历史训练/测试集上)。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="8c0f" class="le jr hi kw b fi mo mp l mq mr">backtest_eval = defaultdict(list)<br/>for metric, value in backtest.train_evaluation.items():<br/>    backtest_eval[metric].append(value)<br/>    backtest_eval[metric].append(backtest.test_evaluation[metric])<br/>metrics = pd.DataFrame(backtest_eval, index=["train", "test"]).T<br/>metrics</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mz"><img src="../Images/f1537f3d7b393141e6621959689263f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*4t9ibrEScLeS85XKJwTpgw.png"/></div></figure><p id="7f11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kt ku kv kw b">forecast</code>属性包含预测的结果。至于<code class="du kt ku kv kw b">backtest</code> <strong class="ih hj">，</strong>我们就可以出结果了。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="0c6b" class="le jr hi kw b fi mo mp l mq mr">forecast = result.forecast<br/>fig = forecast.plot()<br/>plotly.io.show(fig)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es na"><img src="../Images/2e31db1c5a04be35bf5c16a7d894a7a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ukN0k9pLMXnpxdutRmG42w.png"/></div></div></figure><p id="30dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预测值在<code class="du kt ku kv kw b">df</code>中提供</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="7f97" class="le jr hi kw b fi mo mp l mq mr">forecast.df.head().round(2)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nb"><img src="../Images/0dbe4b3b1a60ff9358bacd43d24ef212.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*RwqAtWFuckM6BR-X9TFJgA.png"/></div></figure><h2 id="7f63" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">8.模型诊断</h2><p id="a686" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">组件图显示了我们的数据集的趋势、季节性和事件/假日模式在模型中的处理方式:</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="ae55" class="le jr hi kw b fi mo mp l mq mr">fig = forecast.plot_components()<br/>plotly.io.show(fig)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nc"><img src="../Images/7443de6d451bd2fc3065a4b69a28a296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*ZwhCVqZNO80lBu3CjVsCzw.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es nd"><img src="../Images/5bbd6f0e7173d9d7bb3ec00f4c087c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*cfYyth9EFHRk7Mb4HnypZA.png"/></div></div></figure><h2 id="b644" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated"><strong class="ak"> 9。车型概要</strong></h2><p id="d7f6" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">模型摘要允许检查单个模型术语。检查参数估计及其重要性，以了解模型如何工作以及哪些方面可以进一步改进。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="9baf" class="le jr hi kw b fi mo mp l mq mr">summary = result.model[-1].summary()  # -1 retrieves the estimator from the pipeline<br/>print(summary)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ne"><img src="../Images/9bb95b0318b5c1f0fd915f98e8eb0279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*P1vGPK5I4WudTc47QpMUcw.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nf"><img src="../Images/07bed678b4c0b40c23e8b6aa2bde2f0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*5tUpa3mwB5d6M74gGi7yEA.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ng"><img src="../Images/199c151b3a4ff9e340721bb10eacbeb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*ruCYmea8SlP33NBAhXjvcg.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es nh"><img src="../Images/9970a6d4ba1ee315e9038bc84b879588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zfQkZYpYHjPwYJ6VR7k0JQ.png"/></div></div></figure><h2 id="a916" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">12.建模结果</h2><p id="5c0e" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">经过训练的模型可用作拟合模型<code class="du kt ku kv kw b">sklearn.pipeline.Pipeline</code></p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="9395" class="le jr hi kw b fi mo mp l mq mr">model = result.model<br/>model</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ni"><img src="../Images/dc16301f0f15eb5e257689c57745a77d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pyZ_FGSUcQQfQpXtzwc-uQ.png"/></div></div></figure><h2 id="e398" class="le jr hi bd js lf lg lh jw li lj lk ka iq ll lm ke iu ln lo ki iy lp lq km lr bi translated">13.预测未来时间段的值</h2><p id="9945" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated"><code class="du kt ku kv kw b">make_future_dataframe</code>便利功能可用于创建该数据框。在这里，我们预测模型的训练结束日期之后的下4个期间。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="26ac" class="le jr hi kw b fi mo mp l mq mr">future_df = result.timeseries.make_future_dataframe(<br/>    periods=4,<br/>    include_history=False)<br/>future_df</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nj"><img src="../Images/c51f65563a0e1976b25b6c1bc4308cef.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*SxseSsLDR5-3fxmslUhhFw.png"/></div></figure><p id="6bca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调用<code class="du kt ku kv kw b">.predict()</code>来计算预测。</p><pre class="jf jg jh ji fd mk kw ml mm aw mn bi"><span id="629e" class="le jr hi kw b fi mo mp l mq mr">model.predict(future_df)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nk"><img src="../Images/1964a6e0b6c813199ae2c280ca3c7d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*au_uXjCBP1wPMiVU2FqGJg.png"/></div></figure><h1 id="71cb" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">下一次探索的参考:</h1><p id="3c35" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">有关有助于我们改进预测和了解结果的其他工具:</p><ul class=""><li id="6294" class="ls lt hi ih b ii ij im in iq mh iu mi iy mj jc lx ly lz ma bi translated"><a class="ae jd" href="https://linkedin.github.io/greykite/docs/0.1.0/html/gallery/quickstart/0200_changepoint_detection.html" rel="noopener ugc nofollow" target="_blank">变点检测</a></li><li id="fa85" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><a class="ae jd" href="https://linkedin.github.io/greykite/docs/0.1.0/html/gallery/quickstart/0300_seasonality.html" rel="noopener ugc nofollow" target="_blank">季节性</a></li><li id="97e5" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><a class="ae jd" href="https://linkedin.github.io/greykite/docs/0.1.0/html/gallery/quickstart/0400_model_summary.html" rel="noopener ugc nofollow" target="_blank">型号汇总</a></li><li id="3b76" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><a class="ae jd" href="https://linkedin.github.io/greykite/docs/0.1.0/html/gallery/quickstart/0500_grid_search.html" rel="noopener ugc nofollow" target="_blank">网格搜索</a></li></ul><h1 id="7563" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">参考文献:</strong></h1><div class="nl nm ez fb nn no"><a href="https://pypi.org/project/greykite/" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">灰风筝</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">Greykite:一个灵活、直观和快速的预测库</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">pypi.org</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jo no"/></div></div></a></div><div class="nl nm ez fb nn no"><a href="https://www.kaggle.com/misalraj/greykite-a-library-for-time-series-forecasting" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">📈Greykite:时间序列预测库</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自时间序列分析的数据</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">www.kaggle.com</p></div></div><div class="nx l"><div class="od l nz oa ob nx oc jo no"/></div></div></a></div><div class="nl nm ez fb nn no"><a href="https://github.com/linkedin/greykite" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">领英/灰风筝</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">Greykite:一个灵活、直观和快速的预测库</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">github.com</p></div></div><div class="nx l"><div class="oe l nz oa ob nx oc jo no"/></div></div></a></div><div class="nl nm ez fb nn no"><a href="https://www.analyticsvidhya.com/blog/2021/05/greykite-time-series-forecasting-in-python/" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">grey kite:Python中的时间序列预测</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">本文是作为数据科学博客介绍的一部分发表的，时间序列预测是一个非常有用的工具</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">www.analyticsvidhya.com</p></div></div><div class="nx l"><div class="of l nz oa ob nx oc jo no"/></div></div></a></div><div class="nl nm ez fb nn no"><a href="https://www.kaggle.com/kaustubh93/time-series-forecasting-of-dogecoin-using-greykite" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">用灰风筝进行狗的时间序列预测</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自加密货币历史价格的数据</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">www.kaggle.com</p></div></div><div class="nx l"><div class="og l nz oa ob nx oc jo no"/></div></div></a></div><div class="nl nm ez fb nn no"><a href="https://linkedin.github.io/greykite/docs/0.1.0/html/pages/greykite/overview.html" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">概述— Greykite库文档</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">Greykite是一个预测库，允许您进行探索性数据分析(EDA)、预测管道、模型调整…</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">领英. github.io</p></div></div></div></a></div><div class="nl nm ez fb nn no"><a href="https://towardsdatascience.com/linkedins-response-to-prophet-silverkite-and-greykite-4fd0131f64cb" rel="noopener follow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">LinkedIn对Prophet-silver kite和Greykite的回应</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">时间序列预测新算法综述</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">towardsdatascience.com</p></div></div><div class="nx l"><div class="oh l nz oa ob nx oc jo no"/></div></div></a></div><p id="ed78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有关更多技术细节，我们可以阅读这篇论文:</p><div class="nl nm ez fb nn no"><a href="https://arxiv.org/abs/2105.01098" rel="noopener  ugc nofollow" target="_blank"><div class="np ab dw"><div class="nq ab nr cl cj ns"><h2 class="bd hj fi z dy nt ea eb nu ed ef hh bi translated">生产系统的柔性预测模型</h2><div class="nv l"><h3 class="bd b fi z dy nt ea eb nu ed ef dx translated">本文讨论生产系统中预测模型的理想性质。然后它发展出一个家族…</h3></div><div class="nw l"><p class="bd b fp z dy nt ea eb nu ed ef dx translated">arxiv.org</p></div></div><div class="nx l"><div class="oi l nz oa ob nx oc jo no"/></div></div></a></div></div></div>    
</body>
</html>