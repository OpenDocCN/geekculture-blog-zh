<html>
<head>
<title>1 If-Statement to Prevent Spamming Attack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">1个If语句来防止垃圾邮件攻击</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/1-if-statement-to-prevent-spamming-attack-40ba27cfd332?source=collection_archive---------21-----------------------#2021-11-30">https://medium.com/geekculture/1-if-statement-to-prevent-spamming-attack-40ba27cfd332?source=collection_archive---------21-----------------------#2021-11-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/5df8f6a1115f6dc3317be3d6368932f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/1*MBMAUm_LuE6NTJR71e5Fzw.gif"/></div></figure><p id="a4cb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">目的</strong>:对攻击动画和输入进行编码，以便有足够快的响应和避免垃圾邮件</p><p id="67da" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦我创建了攻击动画，像往常一样，我立即发现了一个问题。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/b0e2af49f2ac015d2804f9310bdaf4dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*0XkvSSvHu0Zeg5qOdxc_Nw.png"/></div></figure><p id="78f1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我发现为攻击发送垃圾信息会导致动画中断，而斜线效果的粒子动画会独立继续。一点都不好。</p><p id="1ca4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">起初，我想过修改动画本身，去掉结尾太多的帧，当角色回到默认位置时。即使这是一个好的举措，这也是不够的。</p><p id="f96c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们想一想我们在这里想要什么:我想在我玩的时候砸碎输入键(这很有趣，你知道的)，而不破坏任何游戏机制。但还是，我不想白白砸了…<strong class="io hj"/>！</p><p id="7437" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">状态机行为的时间到了。</p><figure class="jl jm jn jo fd ij"><div class="bz dy l di"><div class="jp jq l"/></div></figure><p id="237a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个想法是使用一个bool，<code class="du jr js jt ju b">isAttacking</code>，来自主战斗类。如果角色正在攻击，那么它可以再次攻击，直到我们将bool重置为false。</p><p id="7a75" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在进入动画状态时，bool显然是真的，但是我们不是在退出时将它变为假的，而是在动画的某个百分比(这里是试错)时这样做。访问这个百分比的一种方式是通过<code class="du jr js jt ju b">animatorStateInfo.normalizedTime</code>属性:一个范围从0到1的浮点数，所以实际上是一个百分比。</p><p id="4132" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当到达动画的<code class="du jr js jt ju b">97.6%</code>时，布尔再次为真，我们可以再次攻击。</p><p id="32ce" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是为什么要这样选择呢？</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/cef09365ce8e9bacb4e48dc4d2c9ff95.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/1*k2Xv4jAwRdGO8C5HifEr2Q.gif"/></div></figure><p id="d592" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">好吧，如果你以足够慢的速度点击，你不会感受到任何不同。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es if"><img src="../Images/5df8f6a1115f6dc3317be3d6368932f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/1*MBMAUm_LuE6NTJR71e5Fzw.gif"/></div></figure><p id="336b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果试图发送垃圾邮件攻击输入，你将无法中断当前动画，直到它几乎完成:在必须等待动画完成和对我们的垃圾邮件根本没有反应之间的一个很好的妥协。</p><p id="63f7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你喜欢，就鼓掌吧！看看我的游戏或者给我买杯咖啡:感谢每一种支持！！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><a href="https://danioquero.itch.io/"><div class="er es jw"><img src="../Images/dcf4d4b1f490c7140043d8f0460f4aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*OxQOMsD-vlGrfHyGJ7713w.jpeg"/></div></a></figure><figure class="jl jm jn jo fd ij er es paragraph-image"><a href="https://ko-fi.com/danioquero"><div class="er es jx"><img src="../Images/99eb2091d096af2a73a26040fdfa987a.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*VZjq00d2Oe78qpu6tJNvfA@2x.png"/></div></a></figure></div></div>    
</body>
</html>