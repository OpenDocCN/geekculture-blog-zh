<html>
<head>
<title>RealityKit 911 — Photogrammetry</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RealityKit 911 —摄影测量</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/realitykit-911-photogrammetry-77659381af50?source=collection_archive---------4-----------------------#2021-12-29">https://medium.com/geekculture/realitykit-911-photogrammetry-77659381af50?source=collection_archive---------4-----------------------#2021-12-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/523379b9ae7208778cb105f78ce4d917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7KUEilnkIyTnoHrdgLRQ6A.jpeg"/></div></div></figure><h1 id="2a96" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">序</h1><p id="ba9c" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">苹果的原生<strong class="jq hj"> <em class="km">摄影测量</em> </strong>不仅旨在使USDZ和OBJ模型的创建和自动UV纹理更容易，还将增强现实行业推向了一个全新的水平。过去花费几百美元的东西现在是免费的。</p><p id="8a6b" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">随着macOS 12和Xcode 13的发布，苹果开发者获得了一个创建纹理化3D模型的强大工具，这为参与AR和VR软件制作的公司节省了时间和预算。</p><h1 id="a9a0" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">捕捉照片</h1><p id="d781" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">RealityKit的摄影测量，或称<strong class="jq hj"> <em class="km">物体重建API </em> </strong>，是一种将一堆2D图像变成3D模型的计算机视觉技术。图像可以在iPhone或任何DSLR相机上拍摄。你需要想到的只是如何在合适的光照条件下，以等距的角度拍摄一系列照片。作为摄影测量输入，您可以使用<strong class="jq hj"> <em class="km"> jpeg </em> </strong>、<strong class="jq hj"> <em class="km"> png </em> </strong>或<strong class="jq hj"> <em class="km"> heic </em> </strong>格式的有序或无序的高分辨率照片。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="77a8" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">今天我想用一个小小的公猪泥人做一些摄影测量测试。我目前有两个小工具——iPhone X和用于摄影的无名LED灯板。我拍了48张肖像<strong class="jq hj"> <em class="km"> jpeg </em> </strong>照片(3024×4032)放在一个名为<strong class="jq hj"> <em class="km">野猪</em> </strong>的文件夹里。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/dc741dff218dabe3be685c257e9f87bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LmDDoseHxbKICXRFzo77lg.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx">A folder with 48 images of boar clay figurine</figcaption></figure><p id="1ac7" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">看看泥人的细节，粗糙度和纹理。只有5厘米长。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/7bc98b2a1e6243d4292e1a7e0f073582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yJHbOFtiAVK5Dbdftv36Og.jpeg"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx">Real-world model</figcaption></figure><p id="6e38" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">查看iPhone X相机设置:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/57d398760ec8670ddcdd17a70e9b4443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QGx2kGFQ0j6W8T11CIYwxA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx">Camera settings</figcaption></figure><p id="a6c1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在继续之前，让我分享一些实用的技巧，帮助您拍摄更高质量的照片:</p><ul class=""><li id="2f9b" class="lf lg hi jq b jr kn jv ko jz lh kd li kh lj kl lk ll lm ln bi translated">照明条件必须接近理想</li><li id="8bf7" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">使用产生柔和模糊阴影的灯具</li><li id="de12" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">使用带有间歇旋转模式的电动转盘</li><li id="d755" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">相邻照片必须有70%的重叠</li><li id="1427" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">最好是带有<strong class="jq hj"> <em class="km">深度通道</em> </strong>的图像</li><li id="8776" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">带有<strong class="jq hj"> <em class="km">重力数据</em> </strong>的图像更佳</li><li id="4e34" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">更高分辨率的图像是优选的</li><li id="04ab" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">不要捕捉移动和变形的对象</li><li id="ede7" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">避免反射、折射和半透明的物体</li><li id="9e4f" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">避免一维非常薄的物体</li><li id="e1c1" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">不要捕捉带有镜面高光的对象</li><li id="50ea" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">不要捕捉玻璃物品和宝石</li><li id="0228" class="lf lg hi jq b jr lo jv lp jz lq kd lr kh ls kl lk ll lm ln bi translated">不要使用自动对焦和相机闪光灯</li></ul><blockquote class="lt lu lv"><p id="bda9" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated">官方文件说:相邻镜头之间的重叠小于50%，物体创建过程可能会失败或导致低质量的重建。</p></blockquote><p id="3d5c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">我找到了Dimitris Katsafouros的一个视频，它讲述了制作一堆适合摄影测量的照片所需的步骤。这是:</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="4223" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">然而，如果你需要同时创作一系列高质量的生物照片——人类或动物——你将不得不使用任何配备有由120台相机组成的子弹时间相机装备的工作室的服务。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="dfdb" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">专业的摄影测量设备是许多3D应用程序开发人员的梦想。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="kw kx l"/></div></figure><h1 id="49e1" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">重建模型</h1><p id="a9ed" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">为了使用摄影测量功能，您需要一台装有macOS 12.0或更高版本以及Xcode 13.0或更高版本的电脑。尽管如此，要确定您的硬件是否满足最低要求(CPU和GPU型号、RAM数量，并提供<a class="ae lz" href="https://stackoverflow.com/questions/25397586/accessing-barycentric-coordinates-inside-fragment-shader" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> <em class="km">重心坐标</em> </strong> </a>到<a class="ae lz" href="https://developer.apple.com/documentation/realitykit/modifying_realitykit_rendering_using_custom_materials" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> <em class="km">片段着色器</em> </strong> </a>)，请实现以下代码:</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="cb10" class="mf ir hi mb b fi mg mh l mi mj"><strong class="mb hj">import</strong> Metal<br/><br/><strong class="mb hj">private func</strong> supportsObjectReconstruction() -&gt; Bool {<br/>    <strong class="mb hj">for</strong> device <strong class="mb hj">in</strong> MTLCopyAllDevices() <strong class="mb hj">where</strong> <br/>        <strong class="mb hj">!</strong>device.isLowPower &amp;&amp;<br/>        device.areBarycentricCoordsSupported &amp;&amp;<br/>        device.recommendedMaxWorkingSetSize &gt;= UInt64(<strong class="mb hj">4e9</strong>) {<br/>        <strong class="mb hj">return true</strong><br/>    }<br/>    <strong class="mb hj">return false</strong><br/>}<br/><br/><strong class="mb hj">private func</strong> supportsRayTracing() -&gt; Bool {<br/>    <strong class="mb hj">for</strong> device <strong class="mb hj">in</strong> MTLCopyAllDevices() <strong class="mb hj">where<br/>                                         </strong>device.supportsRaytracing {<br/>        <strong class="mb hj">return true</strong><br/>    }<br/>    <strong class="mb hj">return false</strong><br/>}<br/><br/><strong class="mb hj">func</strong> supportsObjectCapture() -&gt; Bool {<br/>    <strong class="mb hj">return</strong> supportsObjectReconstruction() &amp;&amp; supportsRayTracing()<br/>}<br/><br/><strong class="mb hj">func</strong> doObjectCapture() {<br/>    <strong class="mb hj">guard</strong> supportsObjectCapture() <strong class="mb hj">else</strong> {<br/>        print("Object capture is not available")<br/>        <strong class="mb hj">return</strong><br/>    }<br/>}</span></pre><p id="d724" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这个视频将阐明什么是重心坐标。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="11f9" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">嗯，我有一台装有M1芯片和16 MB内存的电脑，所以我准备使用摄影测量学。下面的代码允许您在<strong class="jq hj"> <em class="km">命令行模式</em> </strong>中启动对象重建过程。你可能会对代码如此简单感到惊讶——苹果的工程师们做得非常好。非常尊重他们！😀</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="16df" class="mf ir hi mb b fi mg mh l mi mj"><strong class="mb hj">import</strong> Cocoa<br/><strong class="mb hj">import</strong> RealityKit</span><span id="6040" class="mf ir hi mb b fi mk mh l mi mj"><strong class="mb hj">struct</strong> Photogrammetry {</span><span id="f6ca" class="mf ir hi mb b fi mk mh l mi mj">    <strong class="mb hj">typealias</strong> Request = PhotogrammetrySession.Request<br/>    <strong class="mb hj">var</strong> inputFolder = "/Users/swift/Desktop/WildBoar"<br/>    <strong class="mb hj">var</strong> outputFile = "/Users/swift/Desktop/wildBoar.usdz"<br/>    <strong class="mb hj">var</strong> detail: Request.Detail = .medium</span><span id="9561" class="mf ir hi mb b fi mk mh l mi mj">    <strong class="mb hj">fileprivate func</strong> running() {</span><span id="1fe0" class="mf ir hi mb b fi mk mh l mi mj">        <strong class="mb hj">var</strong> config = PhotogrammetrySession.Configuration()<br/>        config.featureSensitivity = .normal<br/>        config.isObjectMaskingEnabled = <strong class="mb hj">true</strong><br/>        config.sampleOrdering = .unordered</span><span id="330f" class="mf ir hi mb b fi mk mh l mi mj">        <strong class="mb hj">let</strong> inputFolderURL = URL(fileURLWithPath: inputFolder, <br/>                                     isDirectory: <strong class="mb hj">true</strong>)</span><span id="f5cf" class="mf ir hi mb b fi mk mh l mi mj">        <strong class="mb hj">var</strong> optionalSession: PhotogrammetrySession? = <strong class="mb hj">nil</strong></span><span id="395c" class="mf ir hi mb b fi mk mh l mi mj">        <strong class="mb hj">do</strong> {<br/>            optionalSession = <strong class="mb hj">try</strong> PhotogrammetrySession(<br/>                                             input: inputFolderURL,<br/>                                     configuration: config)        <br/>        } <strong class="mb hj">catch</strong> {<br/>            print("<em class="km">ERROR</em>")<br/>            Foundation.exit(1)<br/>        }</span><span id="5213" class="mf ir hi mb b fi mk mh l mi mj">        <strong class="mb hj">guard let</strong> session = optionalSession <br/>        <strong class="mb hj">else</strong> { Foundation.exit(1) }</span><span id="9b2d" class="mf ir hi mb b fi mk mh l mi mj">        withExtendedLifetime(session) {</span><span id="4b02" class="mf ir hi mb b fi mk mh l mi mj">            <strong class="mb hj">do</strong> {<br/>                <strong class="mb hj">let</strong> request = PhotogrammetrySession.Request<br/>                   .modelFile(url: URL(fileURLWithPath: outputFile),<br/>                           detail: detail)<br/>                <strong class="mb hj">try</strong> session.process(requests: [request])<br/>                RunLoop.main.run()<br/>            } <strong class="mb hj">catch</strong> {<br/>                print("<em class="km">ERROR</em>")<br/>                Foundation.exit(1)<br/>            }<br/>        }<br/>    }<br/>}</span></pre><p id="c5b7" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">现在调用<strong class="jq hj"> <em class="km"> running() </em> </strong>方法:</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="6a71" class="mf ir hi mb b fi mg mh l mi mj"><strong class="mb hj">if #available</strong>(macOS 12.0, *) {<br/>    Photogrammetry().running()<br/>} <strong class="mb hj">else</strong> {<br/>    fatalError("Requires macOS 12.0 or higher")<br/>}</span></pre><p id="8942" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">花费在对象重建上的时间取决于许多因素:CPU和GPU的能力、RAM的数量、设置、照片的数量和大小等。在我的电脑上，重建一个泥人模型(48张图片)花了2分30秒。然而，如果我使用苹果公司的<strong class="jq hj"> <em class="km"> PegasusTrail </em> </strong>示例(124张图片)，生成一个USDZ模型几乎需要10分钟。毫无疑问，当使用<strong class="jq hj"> <em class="km">深度</em> </strong>数据时，重建过程会花费更长的时间。</p><blockquote class="lt lu lv"><p id="8880" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated"><strong class="jq hj">提示</strong> : RealityKit object creation接受任何数码相机拍摄的图像，包括iPhone或iPad上的相机、DSLR或无反光镜相机，甚至是配备相机的无人机。如果您的源图像包含深度数据，RealityKit将使用它来计算扫描对象的真实大小。RealityKit也可以从没有深度数据的图像中创建对象，但在将对象放入AR场景时，您可能需要缩放它。有关捕捉图像深度数据的更多信息，请参见<a class="ae lz" href="https://developer.apple.com/documentation/avfoundation/cameras_and_media_capture/capturing_photos_with_depth" rel="noopener ugc nofollow" target="_blank">捕捉具有深度的照片</a>。</p></blockquote><h1 id="8772" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">生成的几何图形和纹理</h1><p id="b1fe" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">自从macOS Monterey发布以来，我一直在使用原生的苹果摄影测量API(<em class="km">我以前使用Agisoft软件</em>)，但每次创建新的USDZ模型时，我都会由衷地惊讶于苹果摄影测量工具的易用性和模型的质量。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/e3816408ff8ece1f5577baf2015c0d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VcrfW6xesOy2dcKfRgtfpw.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx">Reconstructed model in USDZ format</figcaption></figure><p id="adfd" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果你<a class="ae lz" href="https://stackoverflow.com/questions/55544185/how-to-generate-usdz-file-again-from-zip-file/55631922#55631922" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> <em class="km">解压</em></strong></a>USDZ文件的内容，那么除了二进制的USDC模型(而<strong class="jq hj"> OBJ </strong> <em class="km">模型</em> <em class="km">是</em> <em class="km"> ASCII码</em>或<em class="km"> </em> <strong class="jq hj"> DAE </strong> <em class="km">模型是基于XML的</em>之外，你将可以访问该目录并对其纹理进行编辑。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/77b507f2e512ce439d3835eee3beb391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MqzUqAvPFtApnXQ2IudzFg.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx">Generated textures for USDZ’s Physically Based shader</figcaption></figure><p id="e4c6" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj"> <em class="km">细节</em> </strong>案例为重建模型提供了五种不同的质量等级供您选择。这也会影响纹理的数量和分辨率。</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="0b8d" class="mf ir hi mb b fi mg mh l mi mj"><strong class="mb hj">var</strong> detail: Request.Detail = .medium</span></pre><h2 id="b0ae" class="mf ir hi bd is mn mo mp iw mq mr ms ja jz mt mu je kd mv mw ji kh mx my jm mz bi translated"><strong class="ak"> <em class="na">。预览</em> </strong></h2><blockquote class="lt lu lv"><p id="8d8d" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated">预览会尽可能快地生成低质量的几何体，以帮助在生成计算成本更高的模型之前验证几何体。</p></blockquote><h2 id="d1f0" class="mf ir hi bd is mn mo mp iw mq mr ms ja jz mt mu je kd mv mw ji kh mx my jm mz bi translated"><strong class="ak"> <em class="na">。减少了</em>和</strong></h2><blockquote class="lt lu lv"><p id="f855" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated">减少细节优化内存和网络传输带宽。</p></blockquote><h2 id="88a0" class="mf ir hi bd is mn mo mp iw mq mr ms ja jz mt mu je kd mv mw ji kh mx my jm mz bi translated"><strong class="ak"> <em class="na">。中等</em> </strong></h2><blockquote class="lt lu lv"><p id="67f0" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated">中等细节提供了<strong class="jq hj">之间的折中。减少了</strong>和<strong class="jq hj">。满<em class="hi">。</em> </strong></p></blockquote><h2 id="cf0d" class="mf ir hi bd is mn mo mp iw mq mr ms ja jz mt mu je kd mv mw ji kh mx my jm mz bi translated"><strong class="ak"> <em class="na">。完整的</em>和</strong></h2><blockquote class="lt lu lv"><p id="c562" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated">“完整细节”优化了系统可以生成的最大网格和纹理细节，以供目标交互使用。</p></blockquote><h2 id="e955" class="mf ir hi bd is mn mo mp iw mq mr ms ja jz mt mu je kd mv mw ji kh mx my jm mz bi translated"><strong class="ak"> <em class="na">。raw</em>T51】</strong></h2><blockquote class="lt lu lv"><p id="f731" class="jo jp km jq b jr kn jt ju jv ko jx jy lw kp kb kc lx kq kf kg ly kr kj kk kl hb bi translated">对于高端生产用例，<strong class="jq hj">。原始的</strong>细节将提供未经处理的资产，允许专业艺术家使用基于物理的渲染光线跟踪器来实现最高质量的结果。</p></blockquote><p id="09e4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">通过检查此表中的数据，您可以更详细地了解<strong class="jq hj"> <em class="km">细节</em> </strong>情况的选择如何影响最终几何体，以及投影纹理的大小和数量(也称为aov或渲染过程)。</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="c47c" class="mf ir hi mb b fi mg mh l mi mj">|---------------|--------------|------------|-----------------|<br/>|     <strong class="mb hj">Detail</strong>    |   <strong class="mb hj">Polygons </strong>  |    <strong class="mb hj">AOVs    </strong>|  <strong class="mb hj">Ready for iOS  </strong>|<br/>|---------------|--------------|------------|-----------------|<br/>|   .preview    |    25,000    |   1 – 1K   |       Yes       |<br/>|---------------|--------------|------------|-----------------|<br/>|   .reduced    |    25,000    |   3 – 2K   |       Yes       |<br/>|---------------|--------------|------------|-----------------|<br/>|   .medium     |    50,000    |   3 – 4K   |       Yes       |<br/>|---------------|--------------|------------|-----------------|<br/>|   .full       |   100,000    |   5 – 4K   |        No       |<br/>|---------------|--------------|------------|-----------------|<br/>|   .raw        |   132,500    |   1 – 4K   |        No       |<br/>|---------------|--------------|------------|-----------------|</span></pre><p id="6ea5" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">正如你所看到的，当你赋值<strong class="jq hj">T1的时候。完整的 </strong>案例，你会得到一个由<strong class="jq hj"> <em class="km"> 100K个多边形</em> </strong>组成的USDZ模型，每个都有五个4K大小的UV贴图纹理——分别用于<strong class="jq hj"> <em class="km">【漫射】</em> </strong>、<strong class="jq hj"> <em class="km">遮挡</em> </strong>、<strong class="jq hj"> <em class="km">粗糙度</em> </strong>、<strong class="jq hj"> <em class="km">位移</em> </strong>和<strong class="jq hj"> <em class="km">正常</em> </strong>通道这样的模型适合3D制作，不适合iOS中的AR。</p><p id="923c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">摄影测量会话的好处是，您可以轻松地同时请求多个模型:</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="4d35" class="mf ir hi mb b fi mg mh l mi mj"><strong class="mb hj">try</strong>! session.process(requests: [</span><span id="9ee5" class="mf ir hi mb b fi mk mh l mi mj">    .modelFile(“<em class="km">/Users/you/Desktop/boarR.usdz</em>”, detail: <strong class="mb hj">.reduced</strong>),<br/>    .modelFile(“<em class="km">/Users/you/Desktop/boarM.usdz</em>”, detail: <strong class="mb hj">.medium</strong>),<br/>    .modelFile(“<em class="km">/Users/you/Desktop/boarF.usdz</em>”, detail: <strong class="mb hj">.full</strong>)<br/>])</span></pre><p id="46cc" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">不要忘记，您不仅可以在RealityKit中使用结果模型，还可以在SceneKit中使用结果模型。并且让我们打开一个<strong class="jq hj"> <em class="km">默认照明</em> </strong>。</p><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="69ff" class="mf ir hi mb b fi mg mh l mi mj"><strong class="mb hj">import</strong> SceneKit</span><span id="7d75" class="mf ir hi mb b fi mk mh l mi mj"><strong class="mb hj">class</strong> ViewController: UIViewController {</span><span id="b323" class="mf ir hi mb b fi mk mh l mi mj">    <strong class="mb hj">override func</strong> viewDidLoad() {<br/>        <strong class="mb hj">super</strong>.viewDidLoad()</span><span id="6f39" class="mf ir hi mb b fi mk mh l mi mj">        <strong class="mb hj">let</strong> sceneView = <strong class="mb hj">self</strong>.view <strong class="mb hj">as</strong>! SCNView</span><span id="1ebe" class="mf ir hi mb b fi mk mh l mi mj"><strong class="mb hj">        let</strong> scene = SCNScene(named: "art.scnassets/<em class="km">boarM</em>.usdz")!<br/>        sceneView.scene = scene</span><span id="d65c" class="mf ir hi mb b fi mk mh l mi mj">        sceneView.allowsCameraControl = <strong class="mb hj">true<br/>        </strong>sceneView.autoenablesDefaultLighting = <strong class="mb hj">true<br/>    </strong>}<br/>}</span></pre><h1 id="4aae" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">捐赠给作者</h1><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/c0650a189c6fb3281d999d5e2342f8a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*79QZO5t3vV-z7yeDjw2dvQ.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx">Click on the picture to make the QR code bigger</figcaption></figure><pre class="ks kt ku kv fd ma mb mc md aw me bi"><span id="37d6" class="mf ir hi mb b fi mg mh l mi mj">addr1q9w70n62nu8p7f9ukfn66gzumm9d9uxwppkx7gk7vd7gy0ehfavj97gkncwm8t8l8l8x9e4adzmw2djh4y5gd9rmtewqr99zr3</span></pre><p id="42b7" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">目前就这些。</p><p id="3d39" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果这篇帖子对你有用，请按下<strong class="jq hj"> <em class="km">拍下</em> </strong>按钮，按住<strong class="jq hj"><em class="km"/></strong>即可。在Medium上，你可以在每个帖子上最多拍50次<strong class="jq hj"><em class="km"/></strong>。</p><p id="a5a2" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">你可以在我在<a class="ae lz" href="https://stackoverflow.com/users/6599590/andy-fedoroff" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>上的帖子中找到更多关于ARKit、RealityKit和SceneKit的信息。</p><p id="ee23" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">后会有期！</p></div></div>    
</body>
</html>