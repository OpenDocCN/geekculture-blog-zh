<html>
<head>
<title>Setup Filestore (shared filesystem) on Google Cloud and mount on to Ubuntu systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google Cloud上设置Filestore(共享文件系统),并挂载到Ubuntu系统上</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/setup-filestore-shared-filesystem-on-google-cloud-and-mount-on-to-ubuntu-systems-157fb762b25c?source=collection_archive---------0-----------------------#2021-01-08">https://medium.com/geekculture/setup-filestore-shared-filesystem-on-google-cloud-and-mount-on-to-ubuntu-systems-157fb762b25c?source=collection_archive---------0-----------------------#2021-01-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><ol class=""><li id="6061" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">在Google Cloud控制台中，转到文件存储实例页面，然后单击创建实例</li></ol><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/d7569a61beb6fc250f98e92115cbf3ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*NJnSSHhugpH_-BLmZLfRnQ.png"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es jf"><img src="../Images/93672e52cb5f4cf4a58ada1eabd77545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QyQgOJDy9kAeKq6y7X1ZcQ.png"/></div></div></figure><p id="4bb6" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">2.输入文件存储实例的详细信息。当我们在Ubuntu客户端系统上挂载文件存储时，<strong class="ih hj">实例ID非常重要</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es jz"><img src="../Images/50059ce44c2caab45e199d527b73a5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UN0wm77VbWSgRT6SndNKAA.png"/></div></div></figure><p id="7bc5" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">选择适当的地区和区域。此外，选择适当的VPC。否则，它将使用默认的VPC。文件共享名是必需的，但是在挂载文件存储时我们不使用它。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es ka"><img src="../Images/fd289d5c67c211d23ba148a2776f5313.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KqMtt2jvFiJZCoLjnt9Umw.png"/></div></div></figure><p id="c4e9" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">使用上述设置创建文件存储后，我们应该在文件存储实例下看到它。在Ubuntu客户端系统上挂载文件存储时，需要<strong class="ih hj">实例ID </strong>和<strong class="ih hj"> IP地址</strong>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kb"><img src="../Images/751745e59aeec3a1359ad8ca71329468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WUy_wngkTLVnEFAGdx1tA.png"/></div></div></figure><p id="dec8" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3)将文件存储挂载到Ubuntu客户端机器上</p><p id="638c" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.1)访问Ubuntu系统并从其源同步软件包索引文件</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kc"><img src="../Images/8b3f69996bec9d1c6f333b23f7698f0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vBxY8Q0QrTbk1GMlKYF6hQ.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">sudo apt-get -y update &amp;&amp;</figcaption></figure><p id="2f0b" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.2)安装NFS支持文件</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kh"><img src="../Images/cf11f96e73e9eca6f393c82949c9b565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1IIRmSYnfgSoZL1XKVJRAA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">sudo apt-get -y install nfs-common</figcaption></figure><p id="f7db" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.3)为挂载创建一个目录</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es ki"><img src="../Images/057b2f48c96331851da8e32b6561df6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xtTwjU-jlKQi5Mf0aQxBmw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">sudo mkdir my_filestore (assuming the folder name is my_filestore)</figcaption></figure><p id="e37b" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.4)挂载文件存储</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kj"><img src="../Images/0cadf7bdfab0b28e42de862251b06f81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pk4BFi_X3kdwVHzu4oC4Mw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">sudo mount xxx.xxx.xxx.xxx:/test-filestore /opt/my_filestore</figcaption></figure><p id="7750" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.5)授予装载文件夹适当的权限</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kk"><img src="../Images/f53b1134f7ca98e278947f1731b95f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9wJRQh3JqO81SrVb8f9NEA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">sudo chmod +xxx /opt/my_filestore</figcaption></figure><p id="9ca8" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.6)编辑文件系统表，以便<strong class="ih hj">在客户端机器重启时自动挂载</strong>文件存储</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kc"><img src="../Images/96ac28ed537bb74642aaf9f2a19ca605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*czenGdiMowCjxDqZPt_BHA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">sudo nano /etc/fstab</figcaption></figure><p id="459f" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.7)输入安装详细信息</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jg jh di ji bf jj"><div class="er es kl"><img src="../Images/5a940880435dea7bb7278a6dde0f5207.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWsT6KpHXBC9GOiM6Fgibw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">xxx.xxx.xxx.xxx:/test-filestore /opt/my_filestore nfs defaults,_netdev 0 0</figcaption></figure><p id="be63" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">3.8)保存并运行<strong class="ih hj"> sudo reboot </strong>以确保文件存储在重新启动后自动挂载</p><p id="93ba" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated"><strong class="ih hj">您已经成功创建并挂载了Filestore！</strong></p><h1 id="bcc1" class="km kn hi bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">常见问题</h1><p id="74aa" class="pw-post-body-paragraph jk jl hi ih b ii lk jm jn ik ll jo jp im lm jr js io ln ju jv iq lo jx jy is hb bi translated"><strong class="ih hj">如何在AWS(EFS——弹性文件系统)上设置文件系统？</strong></p><p id="9dbc" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated">请浏览我的文章<a class="ae lp" href="https://suryagutta.medium.com/ow-to-setup-amazon-elastic-file-system-efs-and-mount-on-to-ubuntu-ec2-b47346427d5" rel="noopener">设置亚马逊弹性文件系统(EFS)并挂载到Ubuntu EC2 </a>。</p><p id="1a4e" class="pw-post-body-paragraph jk jl hi ih b ii ij jm jn ik il jo jp im jq jr js io jt ju jv iq jw jx jy is hb bi translated"><strong class="ih hj">感谢</strong>阅读！请👏如果你喜欢这篇文章，请跟我来，因为它鼓励我写更多！</p></div></div>    
</body>
</html>