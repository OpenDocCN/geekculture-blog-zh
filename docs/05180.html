<html>
<head>
<title>String — An array of characters with ‘\0’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">字符串—带有“\0”的字符数组</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/string-an-array-of-characters-with-0-a133fd56e9d9?source=collection_archive---------14-----------------------#2021-07-13">https://medium.com/geekculture/string-an-array-of-characters-with-0-a133fd56e9d9?source=collection_archive---------14-----------------------#2021-07-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/785cc11645d542514480aa9197d19525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*Yf1qhJz0tWpyLLKRzzOLFQ.png"/></div></figure><p id="a55a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi jk translated">数字和字符可以存储在一个数组中。如果一个单词或一个句子需要存储在变量中怎么办？一种方法是使用字符数组。有一种更方便的方法，将它们存储为字符串。</p><h1 id="3849" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">什么是字符串？</h1><p id="06b7" class="pw-post-body-paragraph im in hi io b ip ks ir is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj hb bi translated">字符串是以空终止符结束的字符数组。空终止符是一个特殊字符' \0 '，其数值为0。它被用来代表空虚。因此，在字符串的情况下，空终止符表示字符串的结束位置。所以，我们不能用一个空字符来终止吗？不，char不接受空值。事情不是这样的。这就是使用空终止符的原因。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="7616" class="lg jv hi lc b fi lh li l lj lk">char myself[] = {'I', ' ', 'a', 'm', ' ', 'c', 'o', 'o', 'l'};<br/>printf("%c", myself[0]);</span></pre><p id="becd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输出:</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="bc0b" class="lg jv hi lc b fi lh li l lj lk">I</span></pre><p id="5c06" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是如何使用char数组存储一个句子或单词。现在，想想如果需要显示整个句子会怎么样。方法是创建一个for循环，循环遍历每个char并显示它们。当处理许多单词或者需要比较两个字符串是否相等时，这是不方便的。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="48ff" class="lg jv hi lc b fi lh li l lj lk">char myself[] = {'I', ' ', 'a', 'm', ' ', 'c', 'o', 'o', 'l', '\0'};<br/>printf("%s", myself);</span></pre><p id="febf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输出</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="c555" class="lg jv hi lc b fi lh li l lj lk">I am cool</span></pre><p id="ae26" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">除了结尾的' \0 '以外，字符串的存储方式类似于char。可以使用“% s”<a class="ae jt" href="https://medium.datadriveninvestor.com/code-factory-variables-and-data-types-aa20cfccfe80" rel="noopener ugc nofollow" target="_blank">格式说明符</a>显示字符串。现在，不需要循环数组来显示整个句子。这是字符串的实际格式，但是声明字符串更容易。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="bb76" class="lg jv hi lc b fi lh li l lj lk">char myself[] = "I am cool";<br/>printf("%s", myself);</span></pre><p id="b1a1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这也给出了相同的输出。像这样声明一个字符串时，字符串被转换成一个char数组，并在后台以' \0 '结束。所以，很酷。</p><h1 id="009e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">比较字符串</h1><p id="5d1b" class="pw-post-body-paragraph im in hi io b ip ks ir is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj hb bi translated">要比较字符串，我们需要包含' string.h '。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="7ebf" class="lg jv hi lc b fi lh li l lj lk">#include &lt;string.h&gt;</span></pre><p id="f9a1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个头文件提供了一些函数或方法来对字符串进行一些操作。“strcmp()”用于比较字符串。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="a7a3" class="lg jv hi lc b fi lh li l lj lk">strcmp(string1, string2);</span></pre><p id="1e85" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在“strcmp()”的括号内，提供了要比较的字符串。如果字符串相等，则输出0，如果字符串不相等，则输出其他值。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="835f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输出</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="0c8c" class="lg jv hi lc b fi lh li l lj lk">0</span></pre><h1 id="7237" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">分配给字符串</h1><p id="210f" class="pw-post-body-paragraph im in hi io b ip ks ir is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj hb bi translated">字符串赋值不以通常的方式工作。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="b63e" class="lg jv hi lc b fi lh li l lj lk">char myCar[] = "BMW";<br/>char myNewCar[] = "Tesla";</span><span id="9fe5" class="lg jv hi lc b fi ln li l lj lk">myCar = myNewCar;<br/>printf("%s", myCar);</span></pre><p id="8025" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输出</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="0550" class="lg jv hi lc b fi lh li l lj lk">main.c:16:11: error: assignment to expression with array type</span></pre><p id="da15" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">该错误说明我们试图将数组类型赋值给一个表达式。基本上，字符串是一个字符数组。所以，我们必须做一个循环，把myCar数组的每一项赋值给myNewChar数组的每一项。我们不能直接分配它。我们需要使用“string.h”中的函数strcpy()。</p><p id="f64a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要将一个字符串分配给另一个字符串，请按顺序传递目标字符串和源字符串，即strcpy(目标字符串，源字符串)。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="3a0c" class="lg jv hi lc b fi lh li l lj lk">#include &lt;stdio.h&gt;<br/>#include &lt;string.h&gt;</span><span id="77e4" class="lg jv hi lc b fi ln li l lj lk">int main()<br/>{<br/>    char myCar[] = "BMW";<br/>    char myNewCar[] = "Tesla";<br/>    strcpy(myCar, myNewCar);<br/>    printf("%s", myCar);<br/>}</span></pre><p id="0fa9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输出</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="0249" class="lg jv hi lc b fi lh li l lj lk">Tesla</span></pre><h1 id="62f7" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">读取字符串</h1><p id="71da" class="pw-post-body-paragraph im in hi io b ip ks ir is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj hb bi translated">读取用户输入的字符串有点不同。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="5b86" class="lg jv hi lc b fi lh li l lj lk">char name[30];<br/>scanf("%s", name);</span></pre><p id="4512" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通常,“与”符号放在要存储输入值的变量之前。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="e025" class="lg jv hi lc b fi lh li l lj lk">int num;<br/>scanf("%d", &amp;num);</span></pre><p id="5a36" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于字符串，不需要&amp;符号。原因超出了本文的范围。有兴趣可以搜索一下。</p><p id="525c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是如何读取字符串。它适用于不带空格的单词。在句子和全名中，会有空格。</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="614d" class="lg jv hi lc b fi lh li l lj lk">char name[30];<br/>printf("Enter name: ");<br/>scanf("%s", name);<br/>printf("%s", name);</span></pre><p id="4c34" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果名称是一个像' Shafi '这样的单词，则输出“Shafi”。如果名称包含空格，如“Shafi Sahal ”,输出仍然是“Shafi”。这里发生的情况是，在读取输入时，读取在字符串中第一次出现空格时停止。</p><p id="f3b6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要读取带空格的字符串，方法不止一种。这里，我们将讨论使用扫描集的方法。<a class="ae jt" href="https://www.geeksforgeeks.org/taking-string-input-space-c-3-different-methods/" rel="noopener ugc nofollow" target="_blank">有兴趣可以查查其他方式。</a> <a class="ae jt" href="https://www.geeksforgeeks.org/scansets-in-c/" rel="noopener ugc nofollow" target="_blank">你可能还会检查什么是scanset？</a></p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="2529" class="lg jv hi lc b fi lh li l lj lk">char name[30];<br/>printf("Enter name: ");<br/>scanf("%[^\n]", name);<br/>printf("%s", name);</span></pre><p id="1764" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输出</p><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="f2f6" class="lg jv hi lc b fi lh li l lj lk">Enter name: Shafi Sahal<br/>Shafi Sahal</span></pre><p id="8323" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，给出的是扫描集，而不是<a class="ae jt" href="https://medium.datadriveninvestor.com/code-factory-variables-and-data-types-aa20cfccfe80" rel="noopener ugc nofollow" target="_blank">格式说明符</a>。扫描集告诉如何读取输入。方括号中给出了扫描集:%[]，在本例中，扫描集是“^\n".”这会告诉读取输入，直到遇到换行符。因此，直到按下enter键，整个句子或单词将被视为输入。</p><h1 id="9f2f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">示例测验程序</h1><p id="9c64" class="pw-post-body-paragraph im in hi io b ip ks ir is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj hb bi translated">让我们用通过这篇文章和以前的文章获得的所有知识做一个小测验程序。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="7453" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jt" rel="noopener" href="/geekculture/arrays-store-multiple-items-using-the-same-variable-7e2af6e2bdf"> <strong class="io hj"> Previous = &gt;数组—使用同一个变量存储多个项目。</strong>T9】</a></p><p id="2dc9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jt" rel="noopener" href="/geekculture/functions-reusable-logic-b1fad28e72cb"> <strong class="io hj"> Next = &gt;功能—可重用逻辑</strong> </a></p></div></div>    
</body>
</html>