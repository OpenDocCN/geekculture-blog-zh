<html>
<head>
<title>Introduction To Hyperledger Fabric</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger结构简介</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/introduction-to-hyperledger-fabric-1ce0a1d67494?source=collection_archive---------8-----------------------#2021-04-17">https://medium.com/geekculture/introduction-to-hyperledger-fabric-1ce0a1d67494?source=collection_archive---------8-----------------------#2021-04-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/765278433dae0c90cd6d652a81927a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VpWGKXub015e_zDbg1LlWw.png"/></div></div></figure><h2 id="3d1e" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">介绍</h2><p id="40d6" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">在本文中，我们将讨论hyperledger西装和hyperledger面料区块链的关键概念。</p><h2 id="5459" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">观众</h2><p id="64b7" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">Hyperledger fabric初学者、操作员和管理员。这是一篇理论文章。对于初学者，我想建议请通过一些区块链的基本概念。在我之前的<a class="ae kr" rel="noopener" href="/geekculture/introduction-to-bitcoin-and-blockchain-731c66a0831d">作品</a>中，我已经解释了一些重要的概念。</p><h2 id="e5ab" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">历史</h2><p id="240d" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">区块链最广泛认可的应用是比特币和以太坊，但以太坊采取了不同的方法，实现了许多与比特币相同的特征，但增加了一些更多的功能，如智能合约，以创建一个分布式应用的平台。</p><p id="c358" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">比特币和以太坊是<em class="kx">公开的</em>区块链。这意味着任何人都可以加入网络，并在任何时候离开。</p><h2 id="9080" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">什么是公共区块链？？</strong></h2><p id="9aaf" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">公共区块链是没有权限的。任何人都可以加入网络，在区块链内阅读、写作或参与。</p><p id="4f2f" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">公共区块链有一个在互联网上人人可见的分类账。比特币、以太坊和莱特币是众所周知的区块链。</p><h2 id="57e3" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">什么是二等兵区块链？？</h2><p id="33ce" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">私人区块链是允许的。只有组织中的特定人员可以添加新节点/块。</p><p id="b989" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">所有私有区块链解决方案都有某种形式的授权方案来识别节点/块。Hyperledger、R3Corda、Ripple和Quorum是著名的二等兵区块链。</p><h2 id="3a29" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">公立区块链VS私立区块链</h2><p id="c6b8" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">让我们在下表中看到它们之间的区别。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ky"><img src="../Images/08f0c927e4fdb01f6b1619a3c18ec6cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uky0WDW_AhQ-aGlOIzemSw.png"/></div></div></figure><p id="f0b5" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated"><strong class="jy hj"> Hyperledger Fabric </strong>是目前榜单上最受欢迎的<strong class="jy hj">私人区块链</strong>平台之一。让我们深入探讨一下。</p><h1 id="6598" class="kz iz hi bd ja la lb lc je ld le lf ji lg lh li jm lj lk ll jq lm ln lo ju lp bi translated">什么是Hyperledger？？</h1><p id="6c44" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">Hyperledger是由一家名为Linux基金会的开源公司设计的一组产品。</p><p id="54f5" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">Hyperledger为各种区块链框架提供服务，包括Hyperledger Fabric、Hyperledger Indy、Hyperledger Besu、Hyperledger锯齿以及各种库，如Hyperledger caliper、Hyperledger explorer。</p><h2 id="1dab" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">超分类帐结构</h2><p id="ad00" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">Hyperledger Fabric是一种开源的企业级许可分布式账本技术(DLT)或区块链平台。Hyperledger基本上是用于企业建立私人和许可的网络。</p><p id="07be" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">Hyperledger在创建智能合同、创建网络、加入网络以及使其生效方面比任何其他可用的区块链堆栈都要复杂得多。</p><p id="8432" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">该结构具有高度模块化和可配置的体系结构。该平台最重要的优势之一是其对<strong class="jy hj">可插拔共识协议</strong>的支持，这使得该平台能够更有效地进行定制，以适应特定的使用案例和信任模型。大多数系统组件在结构中是即插即用的。这意味着，我们可以部署自己的CA、共识算法、节点、对等体等。</p><p id="e19b" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">就交易处理和交易确认延迟而言，Fabric是目前性能较好的平台之一。织物可以扩展到20000 TPS ( <a class="ae kr" href="https://arxiv.org/abs/1901.00910" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p><p id="e707" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">任何企业的一个关键特征是，只有合法用户才能进入企业网络。我们需要一个组件来启用用户id及其身份验证。所有成为该网络一部分的用户都需要被认证。Hyperledger fabric中的一个实体，称为<strong class="jy hj">会员服务提供商(MSP)。</strong>不仅用户需要认证，就连将要被添加的用户也需要认证。每个实体，无论是用户、对等体、节点还是应用程序，在注册到系统之前都需要一个可信的入口。每个实体都需要认证。MSP使用一个<strong class="jy hj">认证机构</strong>来获取证书，并将这些证书分发给各个条目。</p><h2 id="d1a0" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">会员服务提供商(MSP) </strong></h2><p id="4575" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">MSP跟踪谁需要访问什么，授予了什么特权，以及谁可以访问网络。MSP监控所有安全证书和访问。Hyperledger Fabric区块链网络可以由一个或多个MSP管理。</p><h2 id="40e4" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">认证机构(CA)</h2><p id="69f4" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">CA根据MSP的请求发布证书，以便将证书分发给节点、对等节点和用户。</p><h2 id="409d" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">共识；一致</h2><p id="705b" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">与其他区块链相比，hyper ledger结构中的共识完全不同，如比特币使用<strong class="jy hj">工作证明</strong> (PoW)，以太坊使用<strong class="jy hj">工作证明</strong> (PoW)/ <strong class="jy hj">利益证明</strong> (PoS)。</p><p id="8794" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">没有权力或地位概念。通常，共识由负责授权交易的单个节点驱动，并将这些节点推入区块链，这些节点被称为<strong class="jy hj">签署者节点、</strong>，而块的分发被给予称为<strong class="jy hj">订购者的特殊节点。</strong></p><p id="694e" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">在块分发之后，每个节点接收它们，并且它们被称为<strong class="jy hj">提交器节点的特殊节点提交。</strong>Hyperledger fabric中有三种类型的节点。</p><blockquote class="lq lr ls"><p id="c946" class="jw jx kx jy b jz ks kb kc kd kt kf kg lt ku ki kj lu kv kl km lv kw ko kp kq hb bi translated">在这里，您可能会问为什么不是PoW或PoS？？因为这是专用网络，所以我们已经知道谁将推送块和事务，因为它们都是授权节点。</p></blockquote><h2 id="165c" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">频道</h2><p id="3fe6" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">在面料方面，有一个在其他区块链不存在的渠道概念。在一个区块链网络中，我们可以同时运行多个网络。基本上，它提供了一个创建亚区块链网络的工具。</p><p id="737c" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">例如:-假设我们已经为公司组织创建了一个区块链，它由不同的部门组成，如人力资源、开发、测试和管理。在这种情况下，人力资源部门向管理层报告数据以及其他部门不应看到的机密信息。在这里，我们需要引入两个渠道，一个针对所有部门，另一个针对人力资源和管理部门。</p><blockquote class="lq lr ls"><p id="1b9e" class="jw jx kx jy b jz ks kb kc kd kt kf kg lt ku ki kj lu kv kl km lv kw ko kp kq hb bi translated">有私有数据收集的概念来解决这个问题，而不创建新的信道。</p></blockquote><h2 id="7eda" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">链码(智能合同)</h2><p id="1817" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">超级分类帐中的智能合同称为链码。此后，我们将智能合同称为<strong class="jy hj">链码</strong>。顾名思义，这是网络组织之间的契约，它们将如何同意使用业务逻辑。基本上，我们在这里编写业务逻辑。</p><p id="2ad5" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">链码使我们能够与区块链数据库互动。目前，hyperledger fabric支持以下语言的链代码开发:Go、Nodejs或Java。</p><p id="95dc" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">Chaincode运行在一个安全的Docker容器中，该容器与批准对等进程相隔离。Chaincode通过应用程序提交的事务来管理分类帐状态。</p><p id="d730" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">让我们看看链码的例子。假设我们有包含汽车名称、型号、所有者和颜色字段的汽车数据。我们将使用上述语言编写一个链码。这里我们必须编写两个方法，一个是将数据推入区块链，另一个是检索数据。chaincode APIs提供了putState()和getState()方法，因此我们可以高效地编写契约。</p><h2 id="8692" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">背书人</h2><p id="e614" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">我们已经了解了什么是背书者，因此，在单个组织中，我们可以定义多个背书者，基于此，我们可以有不同类型的<strong class="jy hj">背书策略。背书政策</strong>定义了背书人如何背书交易。</p><p id="5474" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">让我们看一个例子，假设我们有两个背书者。我们可以有一个政策，使他们中的任何一个可以验证交易，或者我们可以有一个政策，两个背书人都需要签署和验证交易，然后只有它会被接受。根据背书政策，我们的交易将被接受或拒绝。</p><h2 id="9b0c" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">订购者</h2><p id="1b97" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">这些是hyperledger结构中特殊类型的节点。也称为订购服务。订单的主要功能是通过向提交节点/对等节点分发块来维护分类帐状态。</p><p id="389b" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">订购者维护允许创建渠道的组织列表。订购者还控制通道的基本访问，限制谁可以向通道读写数据，谁可以配置通道。根据我们定义的策略，只有授权的实体才能修改通道中的配置元素。</p><p id="14d5" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">配置事务由订购方处理。假设如果我们想要修改当前运行的结构网络，那么我们可以在订购服务的帮助下完成。订购者根据现有配置验证更新请求，生成新的配置事务，并将其打包到一个块中，该块被中继到通道上的所有对等点。</p><p id="0757" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">fabric中有三种类型的订购服务。</p><ol class=""><li id="d3dd" class="lw lx hi jy b jz ks kd kt jj ly jn lz jr ma kq mb mc md me bi translated"><strong class="jy hj"> Raft </strong>(推荐):Raft是基于Raft协议实现的崩溃容错订购服务。这是一个共识算法。Raft遵循一个<strong class="jy hj">“领导者和追随者”</strong>模型，其中一个领导者节点被选出，它的决定被追随者复制。Raft订购服务比基于Kafka的订购服务更容易建立和管理。你可以按照这个<a class="ae kr" href="http://thesecretlivesofdata.com/raft/" rel="noopener ugc nofollow" target="_blank">链接</a>去了解Raft共识的工作机制。</li><li id="9152" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated"><strong class="jy hj">卡夫卡</strong>:卡夫卡和筏是断层陶洛伦特系统。在fabric 2.x中已弃用</li><li id="a9dc" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated"><strong class="jy hj"> Solo </strong>:这里我们只有一个订单节点。在fabric 2.x中已弃用</li></ol><p id="5593" class="pw-post-body-paragraph jw jx hi jy b jz ks kb kc kd kt kf kg jj ku ki kj jn kv kl km jr kw ko kp kq hb bi translated">让我们深入探讨一下Fabric的事务流和体系结构</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mk"><img src="../Images/d67329616745bbff4eade1e837998fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*6cSwAvq4CRDL6iIBTFuHYQ.png"/></div></figure><ol class=""><li id="dfb2" class="lw lx hi jy b jz ks kd kt jj ly jn lz jr ma kq mb mc md me bi translated">第一个应用程序(客户机)创建一个事务请求，并向一个给定的节点(批准对等体)提交一个提议。</li><li id="cdf9" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated">背书对等体执行链码(智能合约)并创建RWset。然后，批准节点将签名的提议响应发送回客户端应用程序。</li><li id="6054" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated">应用程序将交易和签名发送到订购服务。</li><li id="1f2b" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated">订购服务创建交易块，并将它们广播到区块链网络。</li><li id="b0af" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated">包括创建事务的节点在内的所有节点都会收到来自订购服务的块。</li><li id="6899" class="lw lx hi jy b jz mf kd mg jj mh jn mi jr mj kq mb mc md me bi translated">节点中的提交对等方验证该块并将该块提交到分类帐中。</li></ol><blockquote class="lq lr ls"><p id="e147" class="jw jx kx jy b jz ks kb kc kd kt kf kg lt ku ki kj lu kv kl km lv kw ko kp kq hb bi translated">RWSet(读写)集由签署者生成，并由提交者用来验证事务。</p></blockquote><h2 id="a4c8" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">摘要</h2><p id="09d5" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq hb bi translated">我们已经讨论了一些关键概念，如公共和私有区块链、hyperledger结构、会员服务提供商、认证机构、共识、渠道、链码、背书者、订购者和交易流。</p></div></div>    
</body>
</html>