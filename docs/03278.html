<html>
<head>
<title>1mg’s Data Stack Explained: How They Harness and Activate Unlimited, Real-time Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">1mg的数据堆栈解释:他们如何利用和激活无限的实时数据</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/1mgs-data-stack-explained-how-they-harness-and-activate-unlimited-real-time-data-c8b7b8f6dc69?source=collection_archive---------41-----------------------#2021-06-04">https://medium.com/geekculture/1mgs-data-stack-explained-how-they-harness-and-activate-unlimited-real-time-data-c8b7b8f6dc69?source=collection_archive---------41-----------------------#2021-06-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1b4a34c3306b52fc0eaa35b4293ce154.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e1sTkMRZPHsNNK0uII7lTA.png"/></div></div></figure><h1 id="3198" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">概观</h1><p id="d65e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">这篇文章打破和分解了1mg的数据堆栈，允许他们安全地利用无限的实时数据。我们还将了解他们使用哪些工具来激活这些数据，以用于下游分析和个性化用例。</p><h1 id="d9f4" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">1mg是谁？</h1><p id="3f2b" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">1mg是一个在线平台，提供医疗诊断、咨询、实验室测试和一般医疗保健。每天，数百万用户访问1mg网站或使用他们的应用程序购买药品，安排与医生的时间，或找到有用的医疗信息。</p><h1 id="3ea4" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">1毫克的数据堆栈</h1><ul class=""><li id="8976" class="km kn hi jq b jr js jv jw jz ko kd kp kh kq kl kr ks kt ku bi translated"><strong class="jq hj">数据收集和同步</strong></li><li id="afde" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated"><a class="ae la" href="http://www.rudderstack.com/" rel="noopener ugc nofollow" target="_blank">方向舵栈</a>SDK，自定义脚本</li><li id="a836" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated"><strong class="jq hj">数据转换和丰富</strong></li><li id="c52a" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">SQL、方向舵堆栈转换、AWS Athena</li><li id="332f" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated"><strong class="jq hj">数据湖和下游数据库</strong></li><li id="3398" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">亚马逊S3，亚马逊红移，阿帕奇卡珊德拉</li><li id="9b48" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated"><strong class="jq hj">商务智能和云工具集</strong></li><li id="44f3" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">谷歌分析，Lotame</li><li id="61cf" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated"><strong class="jq hj">作业编排</strong></li><li id="8f21" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">阿帕奇卡夫卡</li></ul><h1 id="e9c2" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">1mg面临的数据挑战</h1><p id="6d7a" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">1mg完全是数据驱动的。他们使用数据在业务的各个方面做出决策，包括供应链、营销和产品开发。凭借数百万的日常用户，1mg收集了大量的数据。面对如此高的数据量和公司内如此多的不同数据需求，1mg数据科学团队的高级工程师Utkarsh Gupta和他的数据工程团队必须管理一个复杂的、技术要求高的数据管道。</p><p id="b42b" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">1mg在整体数据基础设施方面面临两大挑战:</p><h1 id="7adb" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">安全、实时地收集非结构化数据:</h1><p id="8ef2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">1mg收集的大部分数据是非结构化的，比如医疗报告、电子邮件、客户聊天等。对于数据工程团队来说，在收集和存储这些数据时，不必担心数据量和价格，同时遵守数据安全法规是一项重大挑战。</p><h1 id="635f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">有效的数据激活</h1><p id="326c" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">1mg希望建立一个数据工作流，利用非结构化数据获得对其客户旅程和其他产品个性化使用案例的关键见解。</p><p id="8501" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">让我们看看1mg的数据堆栈的数据工程团队是如何解决这些问题的。</p><h1 id="50ce" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">1mg的数据堆栈说明</h1><p id="032c" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">概括地说，下面是1mg数据堆栈的流程:</p><ul class=""><li id="ec68" class="km kn hi jq b jr lb jv lc jz lg kd lh kh li kl kr ks kt ku bi translated">事件收集和路由通过<strong class="jq hj">ruder stack</strong>Enterprise进行，利用JavaScript和移动SDK。请注意，RudderStack Enterprise托管在1mg的VPC，以实现最大的安全性和合规性，这是医疗保健公司的强制性要求。</li><li id="a274" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">1mg将所有数据转储到他们的<strong class="jq hj">亚马逊S3 </strong>数据湖中。流经RudderStack的事件以及来自其他来源的数据被路由到S3进行转换和编排。</li><li id="e6de" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated"><strong class="jq hj"> AWS Athena </strong>用于转换和丰富数据。这个标准化的数据随后也被批量发送到<strong class="jq hj">红移</strong>和<strong class="jq hj">卡珊德拉</strong>用于1mg的下游用例。</li><li id="17dd" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">流经RudderStack的事件也被直接发送到Firebase和Google Analytics，用于分析和商业智能，而<strong class="jq hj"> Lotame </strong>用于营销激活。</li><li id="9c82" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">实时事件也被发送到<strong class="jq hj"> Apache Kafka </strong>，由1mg的数据科学团队用来优化他们的产品推荐引擎。</li></ul><p id="1921" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">这是他们数据流的可视化:</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div class="er es lj"><img src="../Images/36989c07083e1ff3d97b54b9bb98ef3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*KT15_7xcI9oBJgEV.png"/></div></figure><p id="32a4" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated"><strong class="jq hj">1毫克数据流过舵栈</strong></p><p id="3ef4" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">在接下来的章节中，我们将更详细地探讨数据流的各个方面，从收集到丰富和分析。</p><h1 id="96c2" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">数据收集和存储</h1><p id="5cf2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">对于数据收集，1mg在他们自己的VPC部署了RudderStack，允许他们:</p><ul class=""><li id="fce3" class="km kn hi jq b jr lb jv lc jz lg kd lh kh li kl kr ks kt ku bi translated">请遵守关于医疗保健数据收集和存储的现有法规</li><li id="3dc6" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">克服数据收集的数量或类型的任何限制，而不必担心定价</li><li id="3c2f" class="km kn hi jq b jr kv jv kw jz kx kd ky kh kz kl kr ks kt ku bi translated">通过他们的仓库基础设施将任何数据路由到任何团队，或者直接路由到他们下游用例的最终目的地</li></ul><p id="e3e3" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">1mg的大部分数据来自他们的客户行为，所以网站和手机app是他们的主要数据来源。</p><p id="3897" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">1mg使用RudderStack的<a class="ae la" href="https://docs.rudderstack.com/rudderstack-sdk-integration-guides/rudderstack-javascript-sdk" rel="noopener ugc nofollow" target="_blank"> JavaScript SDK </a>从他们的网站收集实时客户活动数据。这个SDK跟踪各种用户行为，从页面浏览量到产品浏览量，点击量，结账流程等等。他们还利用RudderStack的identify()方法来跟踪新客户和老客户，并驱动个性化用例。</p><p id="1715" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">对于他们的移动应用程序，1mg使用RudderStack的<a class="ae la" href="https://docs.rudderstack.com/rudderstack-sdk-integration-guides/rudderstack-ios-sdk" rel="noopener ugc nofollow" target="_blank"> iOS </a>和<a class="ae la" href="https://docs.rudderstack.com/rudderstack-sdk-integration-guides/rudderstack-android-sdk" rel="noopener ugc nofollow" target="_blank"> Android </a>原生SDK来跟踪和收集应用程序事件，并将它们直接发送到Firebase和Lotame，用于分析和营销用例。RudderStack通过<a class="ae la" href="https://docs.rudderstack.com/get-started/rudderstack-connection-modes#device-mode" rel="noopener ugc nofollow" target="_blank">设备模式</a>向这些目的地发送事件数据。换句话说，应用内的RudderStack原生SDK会自动直接调用目标API。</p><p id="4ba8" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">1mg还从各种其他来源收集数据。这些数据主要是事务性的，包括来自他们的API日志、微服务、CRM系统等的数据。1mg建立了一个专用的ETL管道，从所有这些数据源中提取数据，并将其推送到他们的亚马逊S3数据湖。</p><p id="679e" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">为了从MongoDB、PostgreSQL和MySQL等数据库中转移事务数据，1mg使用AWS的数据迁移服务。他们的数据工程团队还编写了自定义脚本，每天从点击流源(如Google BigQuery)中提取数据。此外，他们还构建了一个定制的数据管道，将来自各种微服务和API日志的数据推送到他们的S3数据湖。</p><h1 id="e75a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">数据转换、丰富和路由</h1><p id="2992" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">下一步是将从各种来源提取的原始数据转换成可用的格式。对于这种转换，1mg使用AWS Athena——一种交互式的无服务器查询服务，允许他们将原始数据规范化为可用的优化数据表。</p><p id="fc21" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">数据湖中所有主要的数据转换都发生在Athena中。这些包括将JSON中的数据转换成可读的表格格式，或者连接不同的数据湖表。1mg还使用Athena来存储与数据湖中的表相关的所有元数据和模式信息。</p><h1 id="a403" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">面向下游用例的1mg工具集</h1><p id="c315" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在原始数据被规范化后，它再次被推入S3数据湖，并批处理到其他数据库，如用于1mg下游用例的<strong class="jq hj">亚马逊红移</strong>和<strong class="jq hj">阿帕奇卡珊德拉</strong>。</p><p id="5faa" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">虽然与业务和产品分析用例相关的所有数据表都驻留在Redshift中，但Cassandra用于存储用户和产品个性化数据。1mg将这些数据发送到第三方分析工具，如Google Analytics，以获得实时见解和报告，其产品和营销团队可以据此做出有效的决策。</p><p id="d28c" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">除了这些工具之外，1mg还利用Apache Kafka的实时数据处理功能进行推荐用例。RudderStack支持Apache Kafka作为目的地，从1mg web和移动应用程序向其发送实时事件。他们的数据科学团队利用这些数据来构建和优化1mg的产品推荐引擎，该引擎向其客户推荐相关的产品。</p><p id="2d8f" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated">发送到Lotame的点击流数据允许1mg团队对其用户进行细分，并获得其客户产品和购买旅程的360度视图。他们可以A/B测试新产品功能，并利用这些见解改造他们的网站，推动更有效的客户获取计划。产品营销团队还使用这些数据来建立更有效的营销活动，从而提高整体客户参与度和保留率。</p><h1 id="a8cb" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">总结一下…</h1><p id="81c4" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">1mg建立了一个现代化的客户数据堆栈，能够可靠地处理巨大规模的数据。他们的实时数据产品不仅创造了更好的客户体验，Utkarsh的团队还通过让团队快速行动和优化公司的每个部分，帮助建立了显著的竞争优势。</p><h1 id="b1ef" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">免费注册并开始发送数据</h1><p id="8fe4" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">测试我们的事件流、ELT和反向ETL管道。使用我们的HTTP源在不到5分钟的时间内发送数据，或者在您的网站或应用程序中安装我们12个SDK中的一个。<a class="ae la" href="https://app.rudderlabs.com/signup?type=freetrial" rel="noopener ugc nofollow" target="_blank">入门</a>。</p><p id="727f" class="pw-post-body-paragraph jo jp hi jq b jr lb jt ju jv lc jx jy jz ld kb kc kd le kf kg kh lf kj kk kl hb bi translated"><strong class="jq hj">本博客原载于</strong><a class="ae la" href="https://rudderstack.com/blog/1mgs-data-stack-explained-how-they-harness-and-activate-unlimited-real-time-data" rel="noopener ugc nofollow" target="_blank"><strong class="jq hj">https://rudder stack . com/blog/1 MGS-data-stack-explained-how-they-harness-and-activate-unlimited-real-time-data</strong></a><strong class="jq hj">。</strong></p></div></div>    
</body>
</html>