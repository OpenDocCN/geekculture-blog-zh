<html>
<head>
<title>Creating and Animating Pixel Art in JavaScript + Phaser</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript + Phaser中创建和动画像素艺术</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-and-animating-pixel-art-in-javascript-phaser-54b18699442d?source=collection_archive---------12-----------------------#2021-04-08">https://medium.com/geekculture/creating-and-animating-pixel-art-in-javascript-phaser-54b18699442d?source=collection_archive---------12-----------------------#2021-04-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ade1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你像我一样喜欢像素艺术的极简主义魅力，你可能想知道如何创建自己的交互式像素艺术。也许你甚至想知道如何用自己的艺术资产制作自己的2D游戏。网上有很多免费的像素艺术资产，但有自由根据你的项目和愿景定制自己的资产也很好。</p><p id="bbf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将分解如何制作你自己的像素艺术精灵表，用普通Javascript制作动画的挑战，以及使用Phaser这样的库的能力。</p><p id="7042" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">样板:</strong></p><p id="bd36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你正在考虑使用React，只是一个警告，有相当多的Phaser和React不能很好地一起使用的文档。如果你想快速上手并运行，我强烈推荐从Phaser的样板文件开始:【https://github.com/photonstorm/phaser3-project-template<a class="ae jd" href="https://github.com/photonstorm/phaser3-project-template" rel="noopener ugc nofollow" target="_blank"/></p><h2 id="51c9" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated"><strong class="ak">做出创造性的决定！</strong></h2><p id="7a5c" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">接下来，决定你的角色，以及你的动画需要什么动作。从简单开始。</p><p id="3394" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像素艺术可能会给人一种比其他动画形式更容易的错觉，但用更少的东西进行更多的交流是它自己的艺术。给人一种只用两帧行走或呼吸的错觉，并停留在模型上，同时在像素而不是线条的范围内挤压和拉伸，这是它自己的挑战。</p><h2 id="226a" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated"><strong class="ak">雪碧片</strong></h2><p id="52ae" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">2D游戏不是单独存储每一帧(这会很快变得混乱),而是将姿势存储在称为sprite sheets的资产中。下面是我为猫“Pusheen”制作的精灵图片示例:</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ke"><img src="../Images/50026c0d2e3c110e9fb5d1da1849fff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTRxvnxhVMNxE3NhBAhp5Q.png"/></div></div></figure><p id="56e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一些很棒的程序可以让你画出你的像素艺术，并为你生成精灵表。</p><p id="6abe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想学习如何在Adobe Photoshop中设置和创建精灵表，请继续阅读，否则你可以跳到“给你的游戏添加帧”</p><h2 id="42b7" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated"><strong class="ak">在Adobe Photoshop中创建Sprite工作表</strong></h2><p id="8010" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">首先创建一个你想要的大小的新画布。请记住，我们是在处理像素！所以我们将从小尺寸开始——比如40 x 40像素是一个好的开始。我们可以在以后改变这一点。</p><p id="f144" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">放大你的小画布，现在让我们设置它，这样我们就可以看到像素在哪里。</p><p id="45b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考线，网格&amp;切片设置:</strong>(首选项- &gt;参考线，网格&amp;切片)</p><p id="3d88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些设置将为每个像素创建一个可见的网格，这将使我们更容易绘制它们:</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kq"><img src="../Images/91dfe5bf45005f37754abff33f506ca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N5RPpHXVDhG8kAdC"/></div></div></figure><p id="fa6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的画布现在应该看起来像右边的一样:</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kr"><img src="../Images/53b6c0a0681a3a00f970139e0cf274e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*irdORBmvcs2isJgLn14tQA.png"/></div></div></figure><p id="db89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你没有看到你的网格，去查看-&gt;显示-&gt;点击网格打开网格线。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ks"><img src="../Images/23d62f3fe39937ff744fa9a164090ad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_UC-67Jvbu-j5lO4knin9A.png"/></div></div></figure><p id="87e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">笔刷设置:</strong></p><p id="ee53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到你的笔刷设置，按住点击并释放来查看其他笔刷选项，并选择“铅笔工具”</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es kt"><img src="../Images/100de318ace6022dd3a48350cfa514d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/0*ODLJoiXuc3HE-BxC"/></div></figure><p id="6a32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将笔刷大小调整为1个像素。您可以使用热键[和]来快速调整画笔的大小。或者你可以点击工具栏中的笔刷下拉菜单，手动选择笔刷大小。</p><p id="5556" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">图像插值设置:</strong></p><p id="adc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到首选项-&gt;常规-&gt;图像插值:最近邻</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ku"><img src="../Images/62a313e7c5a4a3213dd7c7ba175e178e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tbpObGeab0j9-1kD"/></div></div></figure><p id="a1b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这告诉photoshop不要平滑边缘，通常我们希望这样，但对于像素艺术，我们希望每个像素都有一个硬边。以下是这些不同的图像插值设置如何以不同的方式缩放图像。默认情况下，这是设置为双三次平滑线。对于像素艺术，我们希望保留硬边:</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es kv"><img src="../Images/cd18fa7c4ccabc78e414d9bfaa0d07ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/0*MpP-4XMOSwW8Z5I-"/></div><figcaption class="kw kx et er es ky kz bd b be z dx">source: <a class="ae jd" href="https://www.youtube.com/watch?v=rLdA4Amea7Y&amp;t=13s" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=rLdA4Amea7Y&amp;t=13s</a></figcaption></figure><p id="2851" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">给你的游戏添加画面</strong></p><p id="8d39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后你必须想办法告诉你的游戏你想要的当前帧在哪里。</p><p id="d5fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过向它传递x和y坐标以及要从sprite工作表中剪切的单个帧的尺寸来实现这一点。</p><p id="0a58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的例子中，每个Pusheen是35 x 35像素。</p><p id="bf75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">得到这些x，y坐标的简单公式:</p><p id="203f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> x =索引*宽度</strong></p><p id="3402" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> y =指数*高度</strong></p><p id="c877" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们的sprite工作表有多行，我们将像这样计算x和y:</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es la"><img src="../Images/41f931c925eda51bb14be83187e8c013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ywmAOxal3-aaVXGrhASZA.png"/></div></div></figure><p id="956c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到多种姿势和更多的游戏资源会很快变得非常乏味。</p><p id="8d4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">进入相位器！</p><p id="67a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">在相位器中制作精灵动画</strong></p><p id="d915" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Phaser为我们做这些计算，并使精灵动画变得非常简单。</p><p id="f48e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">设置游戏</strong></p><p id="1557" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们用“new”命令创建一个新游戏，并传递给它我们想要的类型、大小、场景和物理属性。重力的典型设置如下所示:</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lb"><img src="../Images/e7a61479867576e86a7dc1ccfa6438a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ejIMqeu9IcIWDRAF"/></div></div></figure><p id="11c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调试时(如您所料), debug属性会派上用场。当设置为true时，您可以看到所有游戏对象周围的点击框，这有助于找出资产何时表现不符合预期。</p><p id="81a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此之上，通过延长相位器来创建你的游戏场景。场景类。确保传递给游戏场景属性的场景名称匹配！：</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lc"><img src="../Images/3c12f9bbd370d9f92d0f3eca63aa3a55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ff0DFlPf3XjlTH-lWC3isA.png"/></div></div></figure><p id="d580" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">场景方法</strong></p><p id="fa3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">场景由这三种主要方法组成:</p><ul class=""><li id="67ad" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated"><strong class="ih hj">预载()</strong></li><li id="7f84" class="ld le hi ih b ii lm im ln iq lo iu lp iy lq jc li lj lk ll bi translated"><strong class="ih hj"> create() </strong></li><li id="d05a" class="ld le hi ih b ii lm im ln iq lo iu lp iy lq jc li lj lk ll bi translated"><strong class="ih hj">更新()</strong></li></ul><p id="5922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">预载()</strong></p><p id="703a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预加载是你加载所有初始游戏图像的地方。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lr"><img src="../Images/3708216b066837d2f36cfd6baec5a81d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4kWtnCB1fOIqDMVW"/></div></div></figure><p id="f1c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我使用phaser中的内置方法来加载一个sprite sheet“cat”和两个图像:“background”和“grass”。</p><p id="7851" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个参数是您想要给它的键名，第二个参数是图像的文件路径，第三个参数允许我们设置帧大小。当我们创建动画时，我们将引用这些关键名称！</p><p id="a367" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建()</strong></p><p id="6c60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“创建”是从上面加载的图像中创建游戏对象的地方。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ls"><img src="../Images/48ca350f41944fbcf1b398cb5331849c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bmvZFbioJ78wsgT6"/></div></div></figure><p id="f39c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面我们正在添加我们的背景图片。角色和背景被添加到物理中，因此重力会影响它们。前两个参数是我们希望资源在场景中出现的x和y坐标，第三个参数是键名。</p><p id="47d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也将在这里创建我们的动画周期！</p><p id="4029" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们回到只有一行的原始sprite表。还记得之前我们必须计算每一帧的x和y吗？有了Phaser，就像告诉它sprite表中图像的索引一样简单。</p><p id="a5a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于下面的精灵图，我们清醒时的坐姿周期是第0帧和第1帧，睡眠时是第2帧和第3帧。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ke"><img src="../Images/50026c0d2e3c110e9fb5d1da1849fff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTRxvnxhVMNxE3NhBAhp5Q.png"/></div></div></figure><p id="655e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用<strong class="ih hj"> this.anims.create() </strong>方法为我们的角色创建动画循环，以便在其间切换。我们传递给它以下属性:</p><p id="af85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">键:</strong>你的动画周期的名字</p><p id="1e20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">重复:</strong>循环重复多少次。值-1会将其设置为连续循环。下面，我们将猫设置为“坐下”4帧，然后再睡着。</p><p id="dc73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> frames: </strong>这是我们传递之前命名的sprite工作表的键名的地方，并传递sprite工作表中循环的起始和结束索引号<strong class="ih hj">。</strong></p><p id="78c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">更新()</strong></p><p id="ecf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在游戏场景中第三个也是最后一个主要方法是更新。这是我们添加游戏状态更新逻辑的地方，比如动画周期何时改变。</p><p id="dfd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Phaser还内置了我们可以利用的键盘事件监听器。我们可以将它保存在一个变量中，以使我们的代码更简洁，更容易使用。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lt"><img src="../Images/62dfec409f6ce3fee0f0189f93fae539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IoAhXmNr7hbYFGLxr9lqhA.png"/></div></div></figure><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lu"><img src="../Images/5e115f5680138c74bc50442647de0f32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nniHz1F1aC15Jg1gdxKe0w.png"/></div></div></figure><p id="ae77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我为在屏幕上走动的猫设置了监听器。如果玩家点击左，猫将播放向左行走的循环，并向那个方向移动，以此类推。</p><p id="39a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这只是Phaser所能做的一切的开始。我希望这能帮助你开始制作你自己的惊人的像素艺术资产，并在Phaser中制作动画！</p></div></div>    
</body>
</html>