<html>
<head>
<title>How to Insert an Item Into an Array Using a Custom Method, in JavaScript.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用自定义方法将项目插入数组。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-insert-an-item-into-an-array-using-a-custom-method-in-javascript-664575afe0f9?source=collection_archive---------19-----------------------#2021-03-28">https://medium.com/geekculture/how-to-insert-an-item-into-an-array-using-a-custom-method-in-javascript-664575afe0f9?source=collection_archive---------19-----------------------#2021-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ee3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JavaScript中的数组列表是可调整大小的，这在很多情况下很方便。JavaScript提供了向数组Array.push()插入/追加元素的方法，但是我们将实现一个自定义的append方法，在数组的末尾插入新元素。</p><p id="efcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从创建一个新的类ArrayList开始，这个类有一个接受一个参数的构造函数，这个参数可以是一个空数组。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="b409" class="jm jn hi ji b fi jo jp l jq jr">class ArrayList(){<br/>    constructor(items){<br/>        this.items=items;<br/>        this.size=items.length;<br/>    }<br/>}</span></pre><p id="3704" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是创建一个<strong class="ih hj"> getItem，</strong>方法来访问数组<strong class="ih hj">中的项目。</strong></p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="1a02" class="jm jn hi ji b fi jo jp l jq jr">class ArrayList(){<br/>    constructor(items){<br/>        this.items=items;<br/>        this.size=items.length;<br/>    }</span><span id="d3d7" class="jm jn hi ji b fi js jp l jq jr">   //get method<br/>    getItem(index){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        return this.items[index];<br/>    }</span><span id="01c0" class="jm jn hi ji b fi js jp l jq jr">}</span></pre><p id="948d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是创建一个<strong class="ih hj"> setMethod </strong>，一个在特定索引处赋值的方法。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="342b" class="jm jn hi ji b fi jo jp l jq jr">class ArrayList(){<br/>    constructor(items){<br/>        this.items=items;<br/>        this.size=items.length;<br/>    }</span><span id="6ed3" class="jm jn hi ji b fi js jp l jq jr">   //get method<br/>    getItem(index){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        return this.items[index];<br/>    }</span><span id="f3d5" class="jm jn hi ji b fi js jp l jq jr">   //set method<br/>    setItem(index,item){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        this.items[index]=item;<br/>    }</span><span id="8726" class="jm jn hi ji b fi js jp l jq jr">}</span></pre><p id="5d78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们要创建我们的<strong class="ih hj">自定义追加方法</strong>，在数组列表的末尾插入新的条目。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="d14d" class="jm jn hi ji b fi jo jp l jq jr">class ArrayList(){<br/>    constructor(items){<br/>        this.items=items;<br/>        this.size=items.length;<br/>    }</span><span id="af4c" class="jm jn hi ji b fi js jp l jq jr">    //get method<br/>    getItem(index){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        return this.items[index];<br/>    }</span><span id="d382" class="jm jn hi ji b fi js jp l jq jr">    //set method<br/>    setItem(index,item){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        this.items[index]=item;<br/>    }</span><span id="dff4" class="jm jn hi ji b fi js jp l jq jr">    //append method<br/>    appendItem(item) {<br/>        this.items[this.size] = item;<br/>        this.size += 1;//increment the size after every append<br/>    }</span><span id="0c6e" class="jm jn hi ji b fi js jp l jq jr">}</span></pre><p id="009c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的最后一个方法是<strong class="ih hj"> getItems </strong>，它返回数组的新长度。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="486f" class="jm jn hi ji b fi jo jp l jq jr">class ArrayList(){<br/>    constructor(items){<br/>        this.items=items;<br/>        this.size=items.length;<br/>    }</span><span id="a1a0" class="jm jn hi ji b fi js jp l jq jr">   //get method<br/>    getItem(index){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        return this.items[index];<br/>    }</span><span id="e1ee" class="jm jn hi ji b fi js jp l jq jr">   //set method<br/>    setItem(index,item){<br/>        //first check if index is not out of bounds<br/>        if (index &lt; 0 || index &gt;= this.size) {<br/>            throw new RangeError('Array index out of bounds');<br/>        }<br/>        this.items[index]=item;<br/>    }</span><span id="91c7" class="jm jn hi ji b fi js jp l jq jr">   //append method<br/>    appendItem(item) {<br/>        this.items[this.size] = item;<br/>        this.size += 1;//increment the size after every append<br/>    }</span><span id="23bf" class="jm jn hi ji b fi js jp l jq jr">    //get items<br/>    getItems(){<br/>        return this.items;<br/>    }</span><span id="07fd" class="jm jn hi ji b fi js jp l jq jr">}</span></pre><p id="d885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">动作中</strong></p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="9ba2" class="jm jn hi ji b fi jo jp l jq jr">let array=[10,20];<br/>let arrayList=new ArrayList(array);<br/>for(let i=0; i&lt;5; i++){<br/>    arrayList.appendItem(i);<br/>}<br/>console.log(arrayList.getItems());<br/>//log [10,20,0,1,2,3,4]</span></pre><p id="b654" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能会问自己，它真的够快吗？下面是Array.push()和我们的自定义方法在插入100，000个项目时的执行时间的比较。</p><figure class="jd je jf jg fd ju er es paragraph-image"><div class="er es jt"><img src="../Images/8dce942c0a134d5bd3159dca12634076.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*UGp9ldAdoGHSJlY6Tp07nQ.png"/></div></figure><p id="885b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不太远。</p></div></div>    
</body>
</html>