<html>
<head>
<title>How to pass params on App Switch from Cordova to KOTLIN App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在从Cordova到KOTLIN应用程序的应用程序切换中传递参数</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-pass-params-on-app-switch-from-cordova-to-kotlin-app-37e1442bcec2?source=collection_archive---------10-----------------------#2022-03-25">https://medium.com/geekculture/how-to-pass-params-on-app-switch-from-cordova-to-kotlin-app-37e1442bcec2?source=collection_archive---------10-----------------------#2022-03-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e617" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以最近我有一个任务，在应用程序切换期间，我需要通过intent将一些参数从一个应用程序推送到另一个应用程序，而KOTLIN应用程序应该根据参数是否通过来获取这些参数并执行一些特定的操作。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/c5a0599dc8e3fe9ae1f8a6fb2a68cdbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*9t7QZQTLBh7jIpSNlaT26w.png"/></div></figure><p id="7a72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我花了一些时间研究和寻找合适的插件，最终能够做到这一点。我想把我的学习浓缩到这篇文章中，这样其他想做同样事情的人可能就不用太费劲了。</p></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h2 id="4c7f" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated"><strong class="ak"> Cordova App实现— <em class="kn">来源</em> </strong></h2><p id="bf22" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">你需要在这里使用一些插件来传递数据。出于我的目的，我继续使用<a class="ae kt" href="https://www.npmjs.com/package/cordova-plugin-app-launcher" rel="noopener ugc nofollow" target="_blank">链接</a></p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="3623" class="js jt hi kv b fi kz la l lb lc">cordova-plugin-app-launcher</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="ab fe cl ld"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><p id="9ec7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在使用这个插件有多种方式来触发目标应用程序。</p><blockquote class="le lf lg"><p id="d827" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">此插件允许您检查是否安装了可以处理特定uri的应用程序，并通过iOS和Android上的uri启动应用程序。此外，您可以使用其包id打开Android应用程序。</p><p id="4602" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(iOS、Android)检查是否安装了任何可以通过指定uri启动的应用程序。(iOS、Android)通过指定的uri启动应用程序。</p><p id="3c5a" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(Android)检查应用程序是否通过其包id安装。</p><p id="52e0" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(Android)检查是否为动作名称安装了应用程序。</p><p id="f9ac" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(Android)通过包id启动应用程序。</p><p id="e974" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(Android)为动作名称启动应用程序。</p><p id="4081" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(Android)启动一个包含附加功能的应用程序。</p><p id="2e63" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">(Android)完成后从已启动的应用程序返回结果。</p></blockquote><p id="100b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我选择了通过包id打开目标应用程序并通过intent传递参数的方式。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="596c" class="js jt hi kv b fi kz la l lb lc">window.plugins.launcher.<strong class="kv hj">canLaunch</strong>({ packageName },() =&gt; {</span><span id="00ef" class="js jt hi kv b fi ll la l lb lc">  window.plugins.launcher.<strong class="kv hj">launch</strong>(<br/>  { <strong class="kv hj">packageName</strong>: packageName, <strong class="kv hj">extras</strong>: intentParams },<br/>  () =&gt; { console.log(`Switched to ${appName} app`) },<br/>  () =&gt; {<br/>      UICommunication.showErrorAlert(`An error occurred while launching ${appName} app. Please try again.`);}<br/>    );<br/>  },<br/>  () =&gt; {<br/>    // app not found.<br/>    UICommunication.showErrorAlert(`${appName} app is not installed on device.`);<br/>   }<br/>);</span></pre><p id="93c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你在上面的例子中看到的，我在这里传递了一些意图参数。这些是我想作为额外参数传递给KOTLIN应用程序的参数。</p><p id="ad07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以创建如下所示的意图参数。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="0aac" class="js jt hi kv b fi kz la l lb lc">let intentParams = [];<br/>intentParams.push({<br/>  name: "deliveryNumber",          //key for this value<br/>  value: '123456,                  //actual value<br/>  dataType: "String",              //data type<br/>});<br/>intentParams.push({<br/>  name: "doorNumber",              //key for this value<br/>  value: '111',                    //actual value<br/>  dataType: "String",              //data type <br/>});</span></pre><p id="4460" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您能够在要通过intent传递的参数上创建多个类型。下面是插件支持的列表。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="f539" class="js jt hi kv b fi kz la l lb lc">extras: [<br/>		{"name":"myByte", "value":1, "dataType":"Byte"},<br/>		{"name":"myByteArray", "value":[1,0,2,3], "dataType":"ByteArray"},<br/>		{"name":"myShort", "value":5, "dataType":"Short"},<br/>		{"name":"myShortArray", "value":[1,2,3,4], "dataType":"ShortArray"},<br/>		{"name":"myInt", "value":2000, "dataType":"Int"},<br/>		{"name":"myIntArray", "value":[12,34,56], "dataType":"IntArray"},<br/>		{"name":"myIntArrayList", "value":[123,456,789], "dataType":"IntArrayList"},<br/>		{"name":"myLong", "value":123456789101112, "dataType":"Long"},<br/>		{"name":"myLongArray", "value":[123456789101112,121110987654321], "dataType":"LongArray"},<br/>		{"name":"myFloat", "value":12.34, "dataType":"Float"},<br/>		{"name":"myFloatArray", "value":[12.34,56.78], "dataType":"FloatArray"},<br/>		{"name":"myDouble", "value":12.3456789, "dataType":"Double"},<br/>		{"name":"myDoubleArray", "value":[12.3456789, 98.7654321], "dataType":"DoubleArray"},<br/>		{"name":"myBoolean", "value":false, "dataType":"Boolean"},<br/>		{"name":"myBooleanArray", "value":[true,false,true], "dataType":"BooleanArray"},<br/>		{"name":"myString", "value":"this is a test", "dataType":"String"},<br/>		{"name":"myStringArray", "value":["this","is", "a", "test"], "dataType":"StringArray"},<br/>		{"name":"myStringArrayList", "value":["this","is","a","test"], "dataType":"StringArrayList"},<br/>		{"name":"myChar", "value":"T", "dataType":"Char"},<br/>		{"name":"myCharArray", "value":"this is a test", "dataType":"CharArray"},<br/>		{"name":"myCharSequence", "value":"this is a test", "dataType":"CharSequence"},<br/>		{"name":"myCharSequenceArray", "value":["this","is a", "test"], "dataType":"CharSequenceArray"},<br/>		{"name":"myCharSequenceArrayList", "value":["this","is a", "test"], "dataType":"CharSequenceArrayList"},<br/>		{"name":"myParcelable", "value":"http://foo", "dataType":"Parcelable", "paType":"Uri"},<br/>		{"name":"myParcelableArray", "value":["http://foo","http://bar"], "dataType":"ParcelableArray", "paType":"Uri"},<br/>		{"name":"myParcelableArrayList", "value":["http://foo","http://bar"], "dataType":"ParcelableArrayList", "paType":"Uri"},<br/>		{"name":"mySparseParcelableArray", "value":{"10":"http://foo", "-25":"http://bar"}, "dataType":"SparseParcelableArray", "paType":"Uri"},<br/>	]</span></pre><p id="4c96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你这样做了，你将触发目标应用程序(在我的例子中是KOTLIN应用程序),并传递以下参数。现在让我们看看如何在KOTLIN应用程序中接收它们。</p></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h2 id="14cf" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">KOTLIN应用实施— <em class="kn">目的地</em></h2><p id="5fb9" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">现在在KOTLin应用中，你可以进入你的<code class="du lm ln lo kv b">MainActivity.kt</code>文件。</p><p id="1e9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，您可以访问如下所示的<code class="du lm ln lo kv b">onCreate()</code>方法中的意图参数。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="d0fa" class="js jt hi kv b fi kz la l lb lc">val delNbr = <em class="lh">intent</em>.getStringExtra("deliveryNumber")<br/>//OR<br/>val delNbr = intent.getSerializableExtra("deliveryNumber")</span></pre><p id="6d84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您确实需要知道从intent访问它们的确切密钥，否则您可以将整个intent作为一个包，并尝试从中提取它们。</p><p id="504b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦获得了intent值，您可以将它传递给所需的组件，也可以保存它并从任何需要的地方访问它。</p><blockquote class="le lf lg"><p id="a399" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">N <strong class="ih hj"> ote </strong> —插件不允许你传递对象，即一个键内有多个值，因此你需要小心你通过intent传递了多少个值。理想情况下，它应该是最小的。</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lp"><img src="../Images/67ac45b3591287975a9a37c4bcaf0ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/0*ebLJTvzvlDmVdRPl"/></div></figure><h2 id="80ac" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">结论</h2><p id="b133" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">希望这有助于你理解一种通过意图参数将参数从cordova应用程序传递到KOTLIN应用程序的方法。</p><p id="f5a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请查看我的其他文章，并关注更多关于Javascript、React JS和KOTLIN的内容</p><div class="lq lr ez fb ls lt"><a rel="noopener follow" target="_blank" href="/geekculture/parcelize-in-kotlin-how-and-why-you-need-it-f33fa0212eed"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hj fi z dy ly ea eb lz ed ef hh bi translated">在科特林打包。你如何以及为什么需要它？</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">由于对KOTLIN和Java不太熟悉，我总是觉得parcelize很有趣。希望你能了解更多关于…</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">medium.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh jj lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a href="https://javascript.plainenglish.io/require-vs-import-in-js-82a7a47671f" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hj fi z dy ly ea eb lz ed ef hh bi translated">比较JavaScript中的require()和import()</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">探索JavaScript中require()和import()方法的特性。</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">javascript.plainenglish.io</p></div></div><div class="mc l"><div class="mi l me mf mg mc mh jj lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a href="https://javascript.plainenglish.io/code-splitting-in-react-all-you-need-to-know-392b0dfeb1fa" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hj fi z dy ly ea eb lz ed ef hh bi translated">React中的代码拆分—您需要知道的一切</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">React中代码拆分的深入探讨。</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">javascript.plainenglish.io</p></div></div><div class="mc l"><div class="mj l me mf mg mc mh jj lt"/></div></div></a></div></div></div>    
</body>
</html>