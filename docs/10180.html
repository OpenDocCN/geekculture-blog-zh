<html>
<head>
<title>Streaming Twitter Feed into Elasticsearch and MySQL using Apache NiFi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Apache NiFi将Twitter Feed流式传输到Elasticsearch和MySQL</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/streaming-twitter-feed-into-elasticsearch-and-mysql-using-apache-nifi-6fb0b17583d5?source=collection_archive---------4-----------------------#2022-01-17">https://medium.com/geekculture/streaming-twitter-feed-into-elasticsearch-and-mysql-using-apache-nifi-6fb0b17583d5?source=collection_archive---------4-----------------------#2022-01-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/bc20d748631c02e407723ac61e9485f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*me7yPK6eV6RkG4lMKeAbLg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://www.flickr.com/photos/145790030@N05/" rel="noopener ugc nofollow" target="_blank">Kurt Bohi</a> on <a class="ae iu" href="https://www.flickr.com/" rel="noopener ugc nofollow" target="_blank">Flickr</a></figcaption></figure><p id="b721" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇博文中，我将解释如何通过使用Apache NiFi，轻松提取Twitter feed，将其实时传输到Elasticsearch，分析并可视化Kibana中的数据，并近乎实时地将feed插入MySQL数据库。</p><p id="21f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">什么是阿帕奇尼菲？</strong></p><p id="a5bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Apache NiFi是一个简单、强大、可靠的数据接收平台，可以在各种系统、数据库和云存储提供商之间处理和分发数据。Apache NiFi支持多种数据格式，比如日志、地理位置数据、社交提要等等。Apache可以处理任何可以通过HTTPS访问的东西。Apache NiFi还支持几种不同的协议，包括HTTP/S、SFTP、HDFS，以及几种不同的消息传递系统，如Apache Kafka或ActiveMQ，以及大多数主要的数据库。</p><p id="eb33" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">如何设置Twitter API开发者账号并获取凭证？</strong></p><p id="b89e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">只需用你的twitter账户登录并提供必要的详细信息。此外，他们还会询问您关于如何以及为什么对使用他们的API感兴趣的信息。一旦你提交了这些细节，Twitter会审核并给你一个开发者账户。</p><p id="3adb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我按照这里提到的<a class="ae iu" href="https://developer.twitter.com/en/docs/developer-portal/overview" rel="noopener ugc nofollow" target="_blank">的步骤</a>。一般来说，他们需要几天的时间来审核并回复您，所以请耐心等待。</p><p id="28be" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">先决条件</strong></p><ol class=""><li id="6306" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">确保在您的机器上设置了JAVA</li><li id="43c8" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">点击从<a class="ae iu" href="https://www.elastic.co/downloads/elasticsearch" rel="noopener ugc nofollow" target="_blank">下载Elasticsearch二进制文件。对于本教程，不需要修改二进制文件中的任何现有配置。</a></li><li id="af3d" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">下载<a class="ae iu" href="https://www.elastic.co/downloads/kibana" rel="noopener ugc nofollow" target="_blank"> Kibana </a>以可视化您的ES(弹性搜索)索引中的数据</li><li id="ec37" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">在本地设置MySQL数据库。</li></ol><p id="abc4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据流图</strong></p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/5f8d3d6dfa0f6afce70c0b3729f2cc99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_x_us6QNFnJCuD1fEpDh4w.png"/></div></div></figure><p id="b43e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">旋转弹力搜索的步骤:</strong></p><p id="407a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">进入您下载的发行版的bin文件夹(路径如下所示:elasticsearch-7.15.2/bin)并执行以下命令:</p><p id="a5cd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">。/elasticsearch</p><p id="38f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">旋转基巴纳的步骤:</strong></p><p id="ee8e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">进入下载的发行版的bin文件夹(路径如下所示:kibana-7.15.2-linux-x86_64/bin)并执行以下命令:</p><p id="f7bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">。/基巴纳</p><p id="9504" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">启动NIFI的步骤:</strong></p><p id="7afc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">进入下载的发行版的bin文件夹(路径如下所示:nifi-1.15.0/bin)并执行以下命令:</p><p id="0bac" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">。/nifi.sh运行</p><p id="2ea4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">理想情况下，这会启动NiFi服务器，这通常会在您的初始启动过程中花费一些时间。如果没有正确设置JAVA或者内存太低，它可能会抛出错误。您可以从nifi-1.15.0/logs/nifi-app.log中检查堆栈跟踪或详细的异常</p><p id="8240" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦您能够顺利启动服务器，您就可以在浏览器中导航到这个web URL:localhost:8443/nifi/log in</p><p id="3f85" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您应该能够看到类似如下的窗口:</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div class="er es km"><img src="../Images/1271f5e0488541ad06c1367f8201e5b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*fToPpE7pXiIUWY1IcWw0PA.png"/></div></figure><p id="f1f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">NiFi将自动为您生成凭证，您可以从logs/nifi-app.log中获取凭证。如果您需要与凭证相关的更多信息，您可以参考<a class="ae iu" href="https://nifi.apache.org/docs/nifi-docs/html/getting-started.html#i-started-nifi-now-what" rel="noopener ugc nofollow" target="_blank">这个</a>。</p><blockquote class="kn ko kp"><p id="3a24" class="iv iw kq ix b iy iz ja jb jc jd je jf kr jh ji jj ks jl jm jn kt jp jq jr js hb bi translated">日志文件将包含带有<code class="du ku kv kw kx b">Generated Username [USERNAME]</code>和<code class="du ku kv kw kx b">Generated Password [PASSWORD]</code>的行，指示访问所需的凭证</p></blockquote><p id="9fb3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您不想使用生成的凭据，您仍然可以通过运行以下命令来创建自己的凭据:</p><pre class="ki kj kk kl fd ky kx kz la aw lb bi"><span id="5e7d" class="lc ld hi kx b fi le lf l lg lh">/bin/nifi.sh set-single-user-credentials &lt;username&gt; &lt;password&gt;</span></pre><p id="da9f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是一旦您创建了它们，请确保重新启动NiFi服务器，如果您已经启动并运行了它。成功登录后，您应该能够看到如下所示的空白模板。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/c5f294c5d273e212cc9fa939f76f87fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G4B-GfEX7B_ZH-tD2Zkcvw.png"/></div></div></figure><p id="4973" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在继续学习本教程之前，必须理解NiFi的一些核心概念，比如什么是流文件？什么是处理器？有哪些可用的处理器？什么是过程组？等等</p><p id="8991" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我不打算在这里解释这些概念，因为这不是这篇博客的动机，但请确保浏览他们的<a class="ae iu" href="https://nifi.apache.org/docs/nifi-docs/html/overview.html" rel="noopener ugc nofollow" target="_blank">文档</a>，其中有一个很好的解释，因为如果你对这些概念没有基本的理解，跟随教程的其余部分会有点困难。</p><p id="c660" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">继续前进…</p><p id="d400" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将使用的处理器列表:</p><ul class=""><li id="5937" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js lj jz ka kb bi translated">GetTwitter:提取Twitter API提要</li><li id="07c6" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js lj jz ka kb bi translated">JoltTransformJson:能够从原始Json的100多个属性中只提取必要的字段</li><li id="ac20" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js lj jz ka kb bi translated">QueryRecord:设置Json读取器和写入器，将必要的键值对写入流文件</li><li id="8e4d" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js lj jz ka kb bi translated">SplitJson:将一个Json文件分割成多个流文件</li><li id="d015" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js lj jz ka kb bi translated">PutElasticsearchHttp:提供关于ES索引的详细信息</li><li id="b649" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js lj jz ka kb bi translated">PutSQL:使用生成的SQL语句插入到表中</li><li id="a40e" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js lj jz ka kb bi translated">ConveryJSONToSQL:将流文件中的JSON转换成SQL</li></ul><p id="6406" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您想查看上述处理器的详细说明，请访问此<a class="ae iu" href="https://nifi.apache.org/docs/nifi-docs/components/nifi-docs/components/org.apache.nifi/nifi-standard-nar/1.9.0/" rel="noopener ugc nofollow" target="_blank"> url </a>并搜索您需要的处理器。</p><p id="b9fd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经为两个流设计了NiFi模板，如流程图所示。我将提供我的NiFi模板的链接，这样你就可以根据你的需要简单地重用它。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/706f96e8716107ff650e9b48e14c568e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6zIZzl_tSLW3BRqoXF-Ew.png"/></div></div></figure><p id="5538" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">解释:</p><ol class=""><li id="ef7d" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">使用GetTwitter处理器，通过提供您现在已经收到的Twitter开发人员证书来获取Twitter API提要。另外，如果你注意到，我使用与Covid相关的关键字作为过滤器，这样我只引入与Covid相关的数据(这只是这篇博文的一个例子，你可以使用任何你想要的关键字)</li></ol><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/4e716ad6b913c719c457ad2ff27907ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lUiWzfU7w8W9d_jjz-hivQ.png"/></div></div></figure><p id="0894" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.JoltTransformJson用于添加JoltSpecification，它将只引入我们需要的属性，而不是引入所有的列。正如您在下图中看到的，我只从我们得到的原始提要中提取了某些字段。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/53efdf4c7adf1179006d4c22db128e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E_37YDYpsZSOvzE5DuhIaA.png"/></div></div></figure><p id="545f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.然后，我们利用QueryRecord处理器添加JsonReader和Writer，这对于将更新的json添加到流文件中是至关重要的。。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/506d6320d6fae319e4c56d80910e7539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zO9cHRNUaCwa1i217dyWOg.png"/></div></div></figure><p id="95a4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.SplitJson是将一个Json文件拆分成多个流文件</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/5783889e47ba8db6a6082abfa0356290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-10FbncQ0c4alW5Qe5huQ.png"/></div></div></figure><p id="8da4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.PutElasticsearchHttp处理器用于将流文件中的数据推送到特定的Elasticsearch索引中</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/d94048fd3824f4ed9e63a4ed99d5d398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSrIT04QWhfO0AmYwKboLg.png"/></div></div></figure><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/f3507a35d7a42fc764d6f82798bb6450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VG_roDVaAVj1ZMeOUbdtag.png"/></div></div></figure><p id="6a49" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如您在上面两张图片中看到的，我已经指定了Elasticsearch主机URL，这是我的本地主机和默认端口9200。此外，我还创建了一个名为twitter_feed的elasticsearch索引，上面我已经给出了它的索引名。</p><p id="d528" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要创建ES索引，您需要向以下URL发送PUT请求:</p><p id="0eef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="http://localhost:9200/twitter_feed_raw" rel="noopener ugc nofollow" target="_blank">http://localhost:9200/&lt;T1】index _ name&gt;</a></p><p id="3111" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建索引后，请务必列出索引并参见。这可以通过使用以下URL发出GET请求来实现:</p><p id="bac8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">http://<a class="ae iu" href="http://localhost:9200/_cat/indices" rel="noopener ugc nofollow" target="_blank">localhost:9200/_ cat/indexes</a></p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/618ff0b1b87b6ece5956b32542813240.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3LDrfkXaJU_1ts91yRVr8w.png"/></div></div></figure><p id="7c83" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.ConvertJSONToSQL处理器用于将流文件中的JSON转换成SQL语句。这里我们需要指定应该是哪种类型的语句(插入/更新/删除)以及模式/表名。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/fba18d3f43f64d997fcab13e1ee6d802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ceKSRiUKJ0NVfvvYOz6fNA.png"/></div></div></figure><p id="160d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经在本地创建了一个名为twitter_feed的MySQL表以及我们需要的列。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/4e84ff95592a441c6e4b87e4c5214fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mPoNhNNMcWEJRqdxa2jKwg.png"/></div></div></figure><p id="272f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.最后，使用PutSQL处理器最终将记录插入到表中。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/33ec27d97af5454dfd8834c1fceda29f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iHh3PZ4ZofKErLRozUFMkA.png"/></div></div></figure><p id="ec35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">应该使用数据库连接详细信息来定义JDBC连接池。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/e5f5d9e718b241e4201167a40908e6dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epzCRU0Yd8qipmcd7rbiWQ.png"/></div></div></figure><p id="9989" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">设置好所有处理器后，您只需右键单击模板上的任意位置，然后单击Start。这将运行所有相互连接的处理器。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/66d7d86d06535301e8703c7969005117.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*1G7L200LJbEpFY6RC_5qlw.png"/></div></figure><p id="8686" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">几秒钟后，你应该会看到推文实时流入你的弹性搜索指数。您可以通过进入Kibana仪表板(<a class="ae iu" href="http://localhost:5601/app/discover" rel="noopener ugc nofollow" target="_blank"> localhost:5601 </a>)并选择discover选项来轻松查看数据。可以通过展开随机记录来验证数据，并查看JSON是否能够看到您期望的属性。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/27bb8b2b9c57a8626961478d484a9784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NFypp8uFYDBW2sN85Ue9wA.png"/></div></div></figure><p id="5d3e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还应该看到数据流入MySQL表:</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/be8aa0aa9770b8778de5bb5f8712bc57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cMpxSqGxAj7G4D-Qck5YGg.png"/></div></div></figure><p id="8a76" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以从<a class="ae iu" href="https://gist.github.com/Kulasangar/e604ded2f950ffe2d31f6846d559d0cb" rel="noopener ugc nofollow" target="_blank">这里</a>下载NiFi流文件。确保在二进制文件位置nifi-1.15.0\conf下替换它之前对其进行gzip压缩。gzip文件名将是flow.xml.gz</p><p id="585a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个用例还可以扩展到将数据推送到多个目标，比如Kafka主题或S3桶，最好的部分是NiFi已经有现成的处理器。</p><p id="735b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">参考文献:</strong></p><ol class=""><li id="911d" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated"><a class="ae iu" href="https://nifi.apache.org/docs/nifi-docs/html/getting-started.html" rel="noopener ugc nofollow" target="_blank">Apache NiFi入门</a></li><li id="f814" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae iu" href="https://vichargrave.github.io/programming/tweet-ingestion-with-nifi-and-elasticsearch/" rel="noopener ugc nofollow" target="_blank">用NiFi和Elasticsarch摄取Tweet—vichargrave . github . io</a></li><li id="8d6b" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae iu" href="https://www.youtube.com/watch?v=fblkgr1PJ0o" rel="noopener ugc nofollow" target="_blank"> Apache Nifi速成班——YouTube</a></li><li id="d496" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae iu" href="https://docs.cloudera.com/HDPDocuments/HDF3/HDF-3.2.0/apache-nifi-overview/content/the-core-concepts-of-nifi.html" rel="noopener ugc nofollow" target="_blank">NiFi(cloudera.com)的核心概念</a></li></ol></div></div>    
</body>
</html>