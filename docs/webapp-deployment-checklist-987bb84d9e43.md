# Webapp 部署清单

> 原文：<https://medium.com/geekculture/webapp-deployment-checklist-987bb84d9e43?source=collection_archive---------19----------------------->

![](img/2a2d4101a9d28d31b6d9f3c5ed6dd573.png)

我将尽量不写太多，只提供一个 webapp 部署清单的大纲(以及一些内容),该 web app 具有以下高级架构:

*   web 客户端
*   应用服务器
*   数据库
*   云服务
*   其他集成(服务、应用程序数据导出)

这不仅仅是为了部署一个网站——你可以在网上找到很多这样的网站。我假设你已经完成了开发，没有任何错别字，你的 SEO 策略已经定好了。此外，你有相当高的知识水平，所以你会明白这一切没有帮助。这个列表并不全面，所以请务必在评论中添加您自己的建议！现在来说更大的事情。

## 部署任务

创建生产静态资源桶(用于提供图像、pdf 等)

设置资源的公共访问策略

克-奥二氏分级量表

创建具有适当安全性的生产数据库资源和帐户

通过 IaC(即 Terraform)自动创建生产资源

创建网站的生产 URL 推送至 DNS

部署生产无服务器资源

使用秘密管理器的系统？

您是否有维护窗口，能否自动部署到该窗口？

## 数据库ˌ资料库

准备第一次使用-是否加载了参考表？加载了其他固定数据吗？删除所有测试数据？

数据库备份设置？正确的周期？

如果出现问题，知道如何恢复站点吗？

识别数据库脚本来修复出错的地方

生产中的需求并不总是预先知道的，所以要准备好提供专门的数据库报告

你是否已经为你的查询所搜索的每一个字段建立了索引？排序依据等？

## 建立工作关系网

实例都是私有的并且只能通过 WAF/NAT 访问吗？

通信流中的任何组件是否会导致超时，从而中断某些进程？

您是否在需要的地方设置了 SSH 访问？

## 安全测试

运行 OWASP ZAP。云提供商允许这样做。你可能需要暂时禁用你的 WAF，以避免它把你列入黑名单！！

跟踪、评估和补救问题

生产 URL 的 SSL 证书“打开”且没有错误？

是否为生产访问设置了 2FA？(例如用于管理控制台访问)

## 测试

如果可能，在试运行前对生产系统进行测试，并且不要忘记清理！

即使你已经这样做了一千次，在流行的浏览器和移动设备上再次浏览这个网站！

## 负载和容量测试

这里还得多说一点。不抱歉。

**批量测试** —测试所有你想测试的，但是如果你没有数据库中的生产量级别，你就是在浪费时间。你需要模拟数据，比如来自 https://mockaroo.com/ T4 的数据。加载数千或数百万行的数据库——无论您需要什么——这样您就可以真正测试您的查询有多快，以及完成数据导出需要多长时间。

提示:产生电话号码的模拟数据网站有时会产生真实的电话号码。如果使用虚假号码发短信，请清理你的数据。

**负载测试**——所有的单用户测试都是为了展示你的网站在阳光明媚的场景下工作。当负载变高时会发生什么？JMeter(【https://jmeter.apache.org/】T4)非常适合负载测试。您还可以设计模拟真实用户的测试，并深入到您的站点来测试数据库——这非常重要！Jmeter 还可以处理 GET、POST、登录表单以及那些讨厌的 CSRF 令牌。报告也不错。

## **第三方服务**

生产系统的 IP 是否与外部服务一起列入白名单？

您是否调用了正确的生产服务端点？

您是否考虑过通过队列系统使用限速或异步调用来解决外部服务中的瓶颈？观看那些 TPS 报告，不要忘记封面页！

## 文本消息传送

生产实例中的消息传递工作正常吗？

是否为生产副测试设定了定期信息？

您的邮件配额限制设置是否适合生产？

## 晶圆设置

这不仅仅是一个防火墙，而是一个数据包检查器，旨在保护 webapps 免受常见攻击。这些都可以根据您正在运行的 webapp 类型进行配置，因此请正确设置！你不能只是“打开它”然后继续你的一天。WAF 也是动态的，会根据攻击模式改变其规则(软件定义的网络)。

## 网站(全球资讯网的主机站)

测试您的自动伸缩，并验证所有创建的实例都是可访问的并且配置正确

有正确的生产环境变量吗？

有翻译吗？检查您的资源是否已经为生产系统进行了转换(包括错误消息！).这并不总是正常构建的一部分。

验证所有网站链接(内部和外部)

## 现场监控

是否设置了带有警报的生产监控？

制定一个计划来执行各种指标的交叉检查，这样您就可以看到在生产负载下事情是否有意义

报告系统是否已配置并能够使用生产资源？

# 那是一个包裹。去部署些东西！