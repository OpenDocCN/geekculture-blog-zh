<html>
<head>
<title>Using Dapper and SQLKata in .NET Core for High-Performance Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在中使用Dapper和SQLKata。面向高性能应用的网络核心</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/using-dapper-and-sqlkata-in-net-core-for-high-performance-application-716d5fd43210?source=collection_archive---------0-----------------------#2020-05-13">https://medium.com/geekculture/using-dapper-and-sqlkata-in-net-core-for-high-performance-application-716d5fd43210?source=collection_archive---------0-----------------------#2020-05-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/522326940635b722f57fe94aece76263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3JNtjvBSYtQkOp6j"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">Photo by <a class="ae jc" href="https://unsplash.com/@jneric?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joe Neric</a> on <a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ad4a" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">介绍</h1><p id="abc1" class="pw-post-body-paragraph kb kc hi kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky hb bi translated"><a class="ae jc" href="https://en.wikipedia.org/wiki/Object-relational_mapping" rel="noopener ugc nofollow" target="_blank">对象关系映射</a> (ORM)是一种让你使用面向对象的范例从数据库中查询和操作数据的技术。它在应用程序和数据源之间创建了一个层，并向您返回关系对象，而不是(就您正在使用的c#而言)ADO.NET对象。这是每个ORM做的基本事情。</p><p id="0d55" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">ORM库是用你选择的语言编写的完全普通的库，它封装了操纵数据所需的代码，所以你不再使用SQL你可以用你正在使用的同一种语言直接与一个物体互动。这里有很多ORM库:</p><ul class=""><li id="4d43" class="le lf hi kd b ke kz ki la km lg kq lh ku li ky lj lk ll lm bi translated"><strong class="kd hj">爪哇</strong> : <a class="ae jc" href="https://en.wikipedia.org/wiki/Hibernate_(Java)" rel="noopener ugc nofollow" target="_blank">冬眠</a>。</li><li id="90f2" class="le lf hi kd b ke ln ki lo km lp kq lq ku lr ky lj lk ll lm bi translated"><strong class="kd hj"> PHP </strong> : <a class="ae jc" href="https://en.wikipedia.org/wiki/Propel_(PHP)" rel="noopener ugc nofollow" target="_blank"> Propel </a>或<a class="ae jc" href="https://en.wikipedia.org/wiki/Doctrine_(PHP)" rel="noopener ugc nofollow" target="_blank"> Doctrine </a></li><li id="728e" class="le lf hi kd b ke ln ki lo km lp kq lq ku lr ky lj lk ll lm bi translated"><strong class="kd hj">Python</strong>:Django ORM或者<a class="ae jc" href="https://en.wikipedia.org/wiki/SQLAlchemy" rel="noopener ugc nofollow" target="_blank"> SQLAlchemy </a></li><li id="b2d9" class="le lf hi kd b ke ln ki lo km lp kq lq ku lr ky lj lk ll lm bi translated"><strong class="kd hj">c#</strong>:<a class="ae jc" href="https://en.wikipedia.org/wiki/NHibernate" rel="noopener ugc nofollow" target="_blank">NHibernate</a>或<a class="ae jc" href="https://en.wikipedia.org/wiki/Entity_Framework" rel="noopener ugc nofollow" target="_blank">实体框架</a></li></ul><p id="ad27" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">除了上面的ORM库，还有类似于。网络世界。</p><h1 id="69ee" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">ORM和Micro ORM (EF和Dapper)</h1><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ls"><img src="../Images/24c8932a2f6c4bbefff1d361f7f0e6be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QycToY8tvTdMj9UF"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">Photo by <a class="ae jc" href="https://unsplash.com/@rblvmberg?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ralph Blvmberg</a> on <a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8eb2" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">实体框架是一个开源的ORM库。微软支持的. NET应用程序。它也是一个跨平台的框架，可以运行在Windows、Linux和Mac上。</p><p id="85b3" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">Dapper是一个微型ORM，或者说它是一个简单的对象映射框架，帮助将本地查询输出映射到一个域类或C#类。这是一个高性能的数据访问系统，由StackOverflow团队构建，并以开源形式发布。</p><p id="2fd3" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><strong class="kd hj">实体框架</strong>有很多好的特性，比如为你生成查询，让你的应用数据库独立，缓存你的数据以备将来调用，为你管理工作单元等等；其中一个是UnitOfWork。追踪是UoW的职责之一。当对象第一次被请求(SQL查询)时，它会导致到数据库的一次往返。然后，该对象被保存在内存缓存中。完整的ORM跟踪对这个已经加载的对象所做的更改。如果再次请求相同的对象，那么EF将从内存缓存中返回该对象，而不是调用数据库。这样可以节省大量时间。</p><p id="a1ac" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><em class="lt">注意:</em> <strong class="kd hj"> <em class="lt">衣冠楚楚</em> </strong> <em class="lt">不支持此功能。</em></p><p id="9e40" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">但是，这种优势仅适用于多次加载相同对象的情况。此外，如果加载到内存中的对象数量太多，这会降低应用程序的速度，因为<em class="lt">检查</em>内存中的对象所需的时间会更长。</p><p id="b6c1" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">EF通常执行查询，并将返回的<code class="du lu lv lw lx b">DataReader</code>映射到POCO类。<strong class="kd hj"> Dapper </strong>仅限于此。</p><p id="222e" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><strong class="kd hj"> Dapper </strong>不能为你生成类模型，不能为你生成查询，也不能为你跟踪对象及其变化，而<strong class="kd hj"> EF </strong>可以。但是如果你真的想提高你的应用程序性能，那么<strong class="kd hj"> Dapper </strong>在性能方面拥有Micro ORM之王的称号。</p><blockquote class="ly lz ma"><p id="2250" class="kb kc lt kd b ke kz kg kh ki la kk kl mb lb ko kp mc lc ks kt md ld kw kx ky hb bi translated">注意:可以在这里访问<a class="ae jc" href="https://github.com/StackExchange/Dapper" rel="noopener ugc nofollow" target="_blank">查看Dapper与其他ORM库的细节基准测试(小节性能)。</a></p></blockquote><p id="b155" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">让我们来做一个用Dapper in的例子。网芯！</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es me"><img src="../Images/546c591a7bf2c57473309f38df4237b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*grTChIqqXBnhhF3T.jpg"/></div></figure><h1 id="49fb" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">与Dapper一起工作</h1><p id="fe72" class="pw-post-body-paragraph kb kc hi kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky hb bi translated">Dapper 没有特定于DB的实现细节，它适用于所有。NET ADO提供者包括SQLite，SQL CE，Firebird，Oracle，MySQL，PostgreSQL和SQL Server。</p><p id="3fbe" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">让我们用Dapper制作简单的CRUD函数“<strong class="kd hj"> ProductType </strong>”和“<strong class="kd hj"> Product </strong>”如下表:</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mf"><img src="../Images/cab4a6d712c645639a2ae0941ced1d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qivw-4OHPI5WOARbZ7T3JA.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 1: Product and ProductType table</figcaption></figure><p id="d571" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">下面是创建表的SQL脚本:</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="5b74" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">首先，你应该安装NuGet的"<strong class="kd hj"> Dapper </strong>"包。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mi"><img src="../Images/eda333aa955c0413c83652681faa200f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0WcrAylBCMcNPYaOmRl46A.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 2: install Dapper package from NuGet</figcaption></figure><p id="2df1" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><strong class="kd hj"> Dapper </strong>主要包括3个步骤:</p><ul class=""><li id="ae5e" class="le lf hi kd b ke kz ki la km lg kq lh ku li ky lj lk ll lm bi translated"><strong class="kd hj">步骤1 </strong>:用数据库的连接字符串创建一个<strong class="kd hj"> IDBConnection </strong>对象。</li><li id="556b" class="le lf hi kd b ke ln ki lo km lp kq lq ku lr ky lj lk ll lm bi translated"><strong class="kd hj">第二步</strong>:编写一个查询，并将其存储在一个普通的字符串变量中。</li><li id="3ee3" class="le lf hi kd b ke ln ki lo km lp kq lq ku lr ky lj lk ll lm bi translated"><strong class="kd hj">第三步</strong>:调用db.execute()并传递查询就完成了。</li></ul><p id="c7bc" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><strong class="kd hj">第一步</strong></p><p id="d3c7" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">下面的SQLConnectionFactory类将设法打开您的连接字符串。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mj"><img src="../Images/949a4dcd61094e94d7f06405e021770a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNWS1OVnJNAdr4UatJjuTQ.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 2: SQLConnectionFactory class</figcaption></figure><p id="f326" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">我们还需要用您的连接名注册它来使用依赖注入。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mk"><img src="../Images/a294b022b77f57e7343ccb0d8fd15ac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSQW4GK9pFqD7DiroKz_Ww.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 3: connection string in appsettings.json</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ml"><img src="../Images/f23e2dbb51ab1a8752c537a91a4cf008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7nkuEcbQiJNKgTTumj-jpQ.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 4: register DI</figcaption></figure><p id="70cf" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">注意:如果你不熟悉。NET Core，这个可以参考我的文章。</p><div class="mm mn ez fb mo mp"><a rel="noopener follow" target="_blank" href="/@letienthanh0212/net-core-dependency-injection-in-asp-net-core-7fdf5e1cc200"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">[.ASP中的依赖注入。网络核心——“老而金”</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">在本文中，我们将讨论依赖反转原则(DIP)、控制反转(IoC)和依赖…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd iw mp"/></div></div></a></div><p id="053b" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">事实上，您可以像这样打开到数据库的连接:</p><pre class="in io ip iq fd ne lx nf ng aw nh bi"><span id="370a" class="ni je hi lx b fi nj nk l nl nm">var cs = @"Server=localhost;Database=testdb;Trusted_Connection=True;";<br/><br/>using var con = new SqlConnection(cs);<br/>con.Open();</span></pre><p id="0be1" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">但是在一个真实的项目中，我们永远不会那样做。因为它很难维护，还有很多重复的代码。</p><p id="9626" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><strong class="kd hj">第二步和第三步</strong></p><p id="a209" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">编写并执行查询</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nn"><img src="../Images/dba6f35bb7a8c8b2439abd3f32e2d3d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8cAa_ZT-3ZvywoXxFrIP4A.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 5: fetch ProductType table</figcaption></figure><p id="77f1" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">使用SQL参数编写和执行查询</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es no"><img src="../Images/283b2232df7716f52faecbdb25db8d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YMWMKVU2gWhgZS9I2oGaBQ.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 6: get ProductType details with SQL Params</figcaption></figure><p id="dae6" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated"><em class="lt">注意:你必须使用SQL参数化来防止SQL注入问题。</em></p><p id="ed26" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">插入命令</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es np"><img src="../Images/3111d8c9b2fc4dc032958bdceb548b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k91Yp0ScpQ9OehvBVl3o9g.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 7: insert ProductType table</figcaption></figure><p id="6d25" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">更新命令</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nq"><img src="../Images/c0cdc88c71cb0c98b2798466aded9665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6XNFIIm4PS3SzgPubIpLvA.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 8: update ProductType</figcaption></figure><p id="281a" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">删除命令</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nr"><img src="../Images/047213805408ee385dbce3deeddcddde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n0ze9TDw-fAr7yyZloIgBA.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 9: delete ProductType by ID</figcaption></figure><p id="9069" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">执行存储过程</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ns"><img src="../Images/9e3a688066f39d3680dcc9b81342db97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vglsRKuPme02EE_1RfgloA.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 9: execute Stored Procedure</figcaption></figure><p id="ca36" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">或者可以使用命令类型参数来调用存储过程</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mf"><img src="../Images/869204b2e423e7cd737b27935a7a011b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xco6FRnHlCRy1bAtX9TQjw.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 9: execute Stored Procedure with command type is StoredProcedure</figcaption></figure><p id="c0bd" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">通过上面的例子，您可以看到，当您决定将<strong class="kd hj"> Dapper </strong>应用到您的应用程序中时，大部分精力都用在了编写SQL语句上。别担心，有很多SQL Builder库可以帮助您节省时间。SQLKata 就是其中之一。</p><h1 id="2d80" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">用于查询生成器的SQLKata</h1><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nt"><img src="../Images/ded077dadc0ea56f7f63aa7cd1b4b3ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FchgFYFslSUNCtkJ"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">Photo by <a class="ae jc" href="https://unsplash.com/@wilstewart3?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Wil Stewart</a> on <a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class="mm mn ez fb mo mp"><a href="https://sqlkata.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">SQL data . net SQL查询生成器</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">一个C# var query = db的流畅SQL查询生成器。查询(“书籍”)。OrderByDesc("PublishingDate")…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">sqlkata.com</p></div></div><div class="my l"><div class="nu l na nb nc my nd iw mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a href="https://github.com/sqlkata/querybuilder" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">sqlkata/querybuilder</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">关注@ahmadmuzavi了解关于SqlKata的最新更新。SqlKata查询生成器是一个功能强大的Sql查询生成器…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">github.com</p></div></div><div class="my l"><div class="nv l na nb nc my nd iw mp"/></div></div></a></div><p id="bf7d" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">SqlKata 是一个优雅的C # SQL查询生成器，它帮助你以更高的自由度与数据库引擎对话，它允许你非常容易和快速地编写复杂的查询。</p><p id="f835" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">让我们更新上面的示例，将<strong class="kd hj"> SQLKata </strong>用于查询构建器！</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nw"><img src="../Images/49d2dadb34680b3b54290517ad4da7f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kp5VwssAXVC-poVwZa_BpQ.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 10: Fetch ProductType using SQLKata</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nx"><img src="../Images/f53fad029f10cb78f64d1cc903587ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CXgTIvc_CmtHIejkvTclDg.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 11: get ProductTypeDetails using SQLKata</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ny"><img src="../Images/b11c68fe4935d77c7f4336c5669b1f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n2U0KwMC23IvlHX9z_hmSQ.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 12: create Product Type using SQLKata</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nz"><img src="../Images/58ffad8609f0f1a0e451793d20414c45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ba7emAjpilE1UD6ICVnahw.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 13: update Product Type using SQLKata</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es oa"><img src="../Images/24263c6ac345b4b303e2769589fed91d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IN1r8sWTrXoy6Dn7dH9WHA.png"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">figure 14: delete Product Type using SQLKata</figcaption></figure><blockquote class="ly lz ma"><p id="b618" class="kb kc lt kd b ke kz kg kh ki la kk kl mb lb ko kp mc lc ks kt md ld kw kx ky hb bi translated">注:你可以从我的Github获得源代码供你参考</p></blockquote><div class="mm mn ez fb mo mp"><a href="https://github.com/thanhle0212/Self-Order-System" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">thanh le 0212/自订系统</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">注意:运行database/database_scripts.sql创建数据库架构后端技术栈ASP。网络核心3.1…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">github.com</p></div></div><div class="my l"><div class="ob l na nb nc my nd iw mp"/></div></div></a></div><h1 id="92eb" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="022a" class="pw-post-body-paragraph kb kc hi kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky hb bi translated">所有对比都很蹩脚，仅供参考。尽管EF的性能不如<strong class="kd hj"> Dapper </strong>好，但它仍然有很多好的特性，比如为你生成查询来独立地创建你的应用数据库，缓存你的数据以备将来调用，为你管理工作单元等等。</p><p id="7b6d" class="pw-post-body-paragraph kb kc hi kd b ke kz kg kh ki la kk kl km lb ko kp kq lc ks kt ku ld kw kx ky hb bi translated">使用<strong class="kd hj"> Dapper </strong>的主要缺点是你的代码中有赤裸裸的SQL查询。如果有人做了手脚，在我们对代码进行测试之前，我们不会意识到任何问题。另外，我的团队成员比<strong class="kd hj"> Dapper </strong>更熟悉<strong class="kd hj"> EF </strong>，因此开发时间会更快。</p><h1 id="24e3" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">参考文献</strong></h1><div class="mm mn ez fb mo mp"><a href="https://sqlkata.com" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">SQL data . net SQL查询生成器</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">一个C# var query = db的流畅SQL查询生成器。查询(“书籍”)。OrderByDesc("PublishingDate")…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">sqlkata.com</p></div></div><div class="my l"><div class="oc l na nb nc my nd iw mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a href="https://github.com/sqlkata/querybuilder" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">sqlkata/querybuilder</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">关注@ahmadmuzavi了解关于SqlKata的最新更新。SqlKata查询生成器是一个功能强大的Sql查询生成器…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">github.com</p></div></div><div class="my l"><div class="od l na nb nc my nd iw mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a href="https://en.wikipedia.org/wiki/Entity_Framework" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">实体框架</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">实体框架(EF)是一个用于ADO.NET的开源对象关系映射(ORM)框架。它是。网络…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">en.wikipedia.org</p></div></div><div class="my l"><div class="oe l na nb nc my nd iw mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a href="https://en.wikipedia.org/wiki/Dapper" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">衣冠楚楚的</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">Dapper可能指的是:Musée Dapper，一家专门收藏非洲艺术的巴黎博物馆Dapper级炮艇，一艘皇家海军…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">en.wikipedia.org</p></div></div><div class="my l"><div class="of l na nb nc my nd iw mp"/></div></div></a></div></div></div>    
</body>
</html>