<html>
<head>
<title>SQL Interview Question 1: Grouping by expression which is not in existing columns of table.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL面试问题1:按不在表的现有列中的表达式分组。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/sql-interview-question-1-grouping-by-expression-which-is-not-in-existing-columns-of-table-900f13882b73?source=collection_archive---------2-----------------------#2022-09-24">https://medium.com/geekculture/sql-interview-question-1-grouping-by-expression-which-is-not-in-existing-columns-of-table-900f13882b73?source=collection_archive---------2-----------------------#2022-09-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="ca3e" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">SQL面试问题系列中的第一名</h2><div class=""/><div class=""><h2 id="1e8e" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">最常见的SQL面试查询和概念#SQL #RDBMS</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/0b08b5128606a286e4bca2396d0fbb7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVtbHaKa7DTAGPy1TXZx-g.jpeg"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Photo by <a class="ae jw" href="https://unsplash.com/@johnschno?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">John Schnobrich</a> on <a class="ae jw" href="https://unsplash.com/s/photos/data-analysis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6e8f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">你好。！</p><p id="b628" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">SQL是数据分析专业人员必备且最重要的工具。在参加分析行业各种角色和职位的面试时，我们都会遇到测试我们的SQL知识以及编写复杂SQL查询和数据库设计的熟练程度的面试。所以，我打算写一些关于我在SQL中的面试经历、我被问到的问题以及大多数人在面试时遇到的问题的文章。</p><p id="93e9" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">从第1篇文章开始，我将共享一个查询，通过使用分组表达式从表中获取记录，该表达式不存在于表的列中。通读这篇文章，你会有更多的了解。所以让我们开始吧，</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="976b" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">我使用了一个表<em class="la"> basic_pays </em>，总共有120条记录，列<strong class="jz hs"> <em class="la"> employee_id、财政年度、薪水</em> </strong>，并在PostgreSQL上运行我的查询。下面是表中的<em class="la"> Select * </em>查询的片段。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lb"><img src="../Images/e3468327218981f22aeb38ac04c87d23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCI52vsNGa8oI8-I2b90YQ.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Credits: By Author</figcaption></figure><p id="087f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">现在，在这个表中，通过列引用对记录进行分组变得更加容易。例如，如果我们想查看在不同的<strong class="jz hs"><em class="la"/></strong>财政年度给所有员工的<strong class="jz hs"> <em class="la">最低、最高、平均或总工资</em> </strong>，我们可以简单地编写下面的查询<strong class="jz hs">，使用<em class="la">聚合函数将其按财政年度分组。</em>T19】</strong></p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lc"><img src="../Images/81e8ab616a695a18dc77ee240b5d0b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mFg0wAaW9AYrGbGhJxkHHQ.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Credits: By Author</figcaption></figure><p id="20a6" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">但问题是，如果我被要求将我的工资分为3类，即低、中、高范围，并计算在这些范围内获得工资的员工人数。让我们先定义范围，</p><pre class="jh ji jj jk fd ld le lf lg aw lh bi"><span id="c032" class="li lj hi le b fi lk ll l lm ln"><strong class="le hs">Low_salary:</strong> salary ≤ 5000<br/><strong class="le hs">Medium_salary:</strong> 5000 &lt;salary ≤ 15000<br/><strong class="le hs">High_salary:</strong> salary≥15000</span></pre><p id="784c" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs"> <em class="la">对于这类问题，首先我们需要创建所需的表达式，然后在group by子句中应用它。对于创建表达式，我们可以有多种方法。</em> </strong></p><p id="e52f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi lo translated"><span class="l lp lq lr bm ls lt lu lv lw di"> 1。</span> <strong class="jz hs">方法1: </strong>在第一种方法中，我们通过使用<strong class="jz hs">中的<strong class="jz hs"> CASE </strong>语句创建列表达式<strong class="jz hs"> <em class="la"> salary_grp </em> </strong>，选择</strong>语句本身并拉入我们需要的薪金范围，然后在此基础上，我们通过使用group by子句中的<em class="la"> salary_grp </em>对结果进行分组，以找到每个薪金范围内的雇员数。请参见下面的查询以了解相关信息，</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lx"><img src="../Images/82ec360974481d435358bfc3d204ef02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLY5AsjgSX2y-MJJxXW-gw.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">By Author</figcaption></figure><p id="c66d" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">但是有些数据库不提供这种功能，也就是说，它们不允许在group by子句中直接使用别名表达式，如<strong class="jz hs"> <em class="la"> salary_grp </em> </strong>。因此，在这种情况下，我们需要将select语句中使用的相同表达式复制到group by子句中，它将以相同的方式工作，并将产生三个薪金范围的雇员计数。下面是相同的片段，</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ly"><img src="../Images/cec74ad7f02204b4dd2a1e74c65adabd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zh_r3pYfA8hJ3fpwY4PFfQ.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Credits: By Author</figcaption></figure><p id="1127" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi lo translated"><span class="l lp lq lr bm ls lt lu lv lw di"> 2。</span> <strong class="jz hs">方法二:</strong>利用<strong class="jz hs">常用表表达式</strong>借助<strong class="jz hs"> <em class="la">借助</em> </strong>子句。首先，我们借助带有 子句的<strong class="jz hs"> <em class="la">创建一个表<em class="la"> salary_data </em>，并使用其输出表<em class="la"> salary_data </em>获取我们想要的结果。下面是代码片段，</em></strong></p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lz"><img src="../Images/820998148f48da998bd6a5a430f2b6cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3BZd5bjPEkatjnQ6vr6W3A.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Credits: By author</figcaption></figure><p id="ee54" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">你可以在我的GitHub页面上找到所有这些问题:</p><p id="10e0" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><a class="ae jw" href="https://github.com/sdeeksha07/SQL-Case-Statement/tree/main" rel="noopener ugc nofollow" target="_blank">https://github.com/sdeeksha07/SQL-Case-Statement/tree/main</a></p><p id="a118" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">您可以自己尝试这些查询。希望这篇文章已经明确了你的一些概念。</p><p id="c57c" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">感谢阅读！！</p><p id="c593" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">如有任何疑问，请通过LinkedIn、Twitter或电子邮件联系我。</p><p id="9c69" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs">【sdeevi07@gmail.com】邮箱: </strong></p><p id="d2e5" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs"> <em class="la">碎碎念:</em></strong><a class="ae jw" href="https://twitter.com/sdeeksha07" rel="noopener ugc nofollow" target="_blank"><strong class="jz hs"><em class="la">https://twitter.com/sdeeksha07</em></strong></a></p><p id="58d6" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs"> <em class="la">领英:</em></strong><a class="ae jw" href="https://www.linkedin.com/in/sdeeksha07/" rel="noopener ugc nofollow" target="_blank"><strong class="jz hs"><em class="la">https://www.linkedin.com/in/sdeeksha07/</em></strong></a></p><p id="cefd" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs">不断学习，不断练习！！</strong></p></div></div>    
</body>
</html>