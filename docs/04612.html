<html>
<head>
<title>Creating GOLang Project, Server and URL paths</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建GOLang项目、服务器和URL路径</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-golang-project-server-and-url-paths-700336598335?source=collection_archive---------22-----------------------#2021-06-30">https://medium.com/geekculture/creating-golang-project-server-and-url-paths-700336598335?source=collection_archive---------22-----------------------#2021-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2471" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">近年来，GoLang已经成为流行的web开发后端语言。在这篇文章中，我将告诉你</p><ol class=""><li id="8e15" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">如何创建GoLang项目？</li><li id="1b23" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">使用net/http模块创建服务器、路由和页面。</li><li id="33e0" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">将大量路径的代码分成api文件。</li></ol><p id="d548" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了练习，你可以在<a class="ae jr" href="https://github.com/ruminder-hub/medium/tree/main/golang-http" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">链接</strong> </a>中找到示例代码。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="9d95" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">创建项目</h1><p id="9bab" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">有人会发现创建项目，导入文件很复杂，但一旦你知道它是非常容易的。使用brew install go或从Golang <a class="ae jr" href="https://golang.org/dl/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">网站</strong> </a> <strong class="ih hj">将go安装到您的笔记本电脑上。</strong></p><p id="ccee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为您的项目创建文件夹。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="fd42" class="ll ka hi lh b fi lm ln l lo lp">mkdir golang-http<br/>cd golang-http</span></pre><h2 id="cd92" class="ll ka hi bd kb lq lr ls kf lt lu lv kj iq lw lx kn iu ly lz kr iy ma mb kv mc bi translated">Go.mod文件</h2><p id="4fec" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">创建Go.mod文件。GoLang使用go.mod文件来跟踪所有的依赖项，即你将在应用程序中使用的类似于package.json的库。在创建时，我们将路径传递给它，这将是你的模块或应用程序路径，这样，如果你想让其他开发人员使用他们的模块，他们就可以使用它们。大多数时候我们使用github.com，因为我们的代码会在上面。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="e8de" class="ll ka hi lh b fi lm ln l lo lp">go mod init github.com/username/golang-http</span></pre><h2 id="d273" class="ll ka hi bd kb lq lr ls kf lt lu lv kj iq lw lx kn iu ly lz kr iy ma mb kv mc bi translated">Main.go</h2><p id="a89a" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">现在创建main.go文件，它将包含main函数，这是应用程序的起点。任何文件的第一行都应该是<strong class="ih hj">包包名</strong>。</p><h2 id="9dad" class="ll ka hi bd kb lq lr ls kf lt lu lv kj iq lw lx kn iu ly lz kr iy ma mb kv mc bi translated"><strong class="ak">创建路线</strong></h2><p id="66e6" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">为了创建API路由，我们将使用net/http包。你也可以使用mux或者其他内部实现net/http接口的库。<br/>要处理请求，您需要创建一个处理程序，然后创建该处理程序运行的路径或路由。把处理程序想象成将为特定路径运行的控制器。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="a237" class="ll ka hi lh b fi lm ln l lo lp">func welcome(writer http.ResponseWriter, request *http.Request){<br/>      io.WriteString(writer, "&lt;h1&gt;Welcome to first goLang    <br/>                     application\n&lt;/h1&gt;")<br/>}</span></pre><p id="88e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个方法将返回上面的方法，并将输出作为请求的响应。您可以使用fmt等其他库进行输出。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="e9d8" class="ll ka hi lh b fi lm ln l lo lp">func hello(writer http.ResponseWriter, request *http.Request) {<br/>   fmt.Fprintf(writer, "Hello")<br/>   fmt.Fprintf(writer, "&lt;h1&gt;First GoLang Application&lt;/h1&gt;")<br/>}</span></pre><p id="6c9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您想使用html标签，请确保首先添加它们，否则输出将是普通文本。</p><h2 id="4862" class="ll ka hi bd kb lq lr ls kf lt lu lv kj iq lw lx kn iu ly lz kr iy ma mb kv mc bi translated">服务器创建和向路由添加处理程序</h2><p id="566e" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">在main函数中，我们将编写所有的请求处理程序和服务器初始化，因为我们希望我们的服务器运行main函数。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="1cda" class="ll ka hi lh b fi lm ln l lo lp">func main() {<br/>   http.HandleFunc("/", welcome) <br/>   http.HandleFunc("/hello", hello)<br/>   log.Fatal(http.ListenAndServe(":3000", nil))<br/>}</span></pre><p id="b505" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">http的ListenAndServer方法将在给定的端口和处理程序处启动服务器，该端口和处理程序保持为零以便启动。我们已经把它传给了日志。致命的错误发生时，它会打印日志。这里对于地址"/"我们将调用welcome方法。http。HandleFunc告诉所有对“/hello”的请求将由hello方法处理。</p><h2 id="b87e" class="ll ka hi bd kb lq lr ls kf lt lu lv kj iq lw lx kn iu ly lz kr iy ma mb kv mc bi translated">API层创建</h2><p id="3bd4" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">随着时间的推移，应用程序的规模会增加，路线也会增加。将所有的路由处理程序添加到主文件中会使调试变得混乱和困难。我们将根据路由分离处理程序，并将所有具有相同基本路由的路由添加到单个文件中。创建文件夹处理程序，并基于路径创建文件，即apiHandler.go。将所有具有基本URL“/API”的方法添加到其中。要使用包(包是文件夹)之外的函数，方法名必须以大写字母开头。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="b905" class="ll ka hi lh b fi lm ln l lo lp">package handlers<br/>import (<br/>"fmt"<br/>"io"<br/>"net/http"<br/>)<br/>func WelcomeAPI(writer http.ResponseWriter, request *http.Request) {<br/>    io.WriteString(writer, "&lt;h1&gt;Welcome to first goLang<br/>                          application\n&lt;/h1&gt;")<br/>}<br/>func HelloAPI(writer http.ResponseWriter, request *http.Request) {<br/>    fmt.Fprintf(writer, "Hello")<br/>    fmt.Fprintf(writer, "&lt;h1&gt;First GoLang Application&lt;/h1&gt;")<br/>}</span></pre><p id="a0cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了导入文件，我们将使用创建go.mod文件时使用的路径。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="cbaa" class="ll ka hi lh b fi lm ln l lo lp">package handlers<br/>import (<br/>"fmt"<br/>"github.com/username/golang-http/handlers"<br/>)</span></pre><p id="1292" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并使用http。HandleFunc("/api/")，处理程序。WelcomeAPI)将其用于API函数。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="ee37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你知道如何开始与GoLang合作。如有任何问题，请给我留言。祝GoLang好运。</p></div></div>    
</body>
</html>