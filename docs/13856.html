<html>
<head>
<title>Creating Ratings and Reviews With Laravel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Laravel创建评级和评论</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-ratings-and-reviews-with-laravel-6efa61d43ee3?source=collection_archive---------0-----------------------#2022-08-02">https://medium.com/geekculture/creating-ratings-and-reviews-with-laravel-6efa61d43ee3?source=collection_archive---------0-----------------------#2022-08-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ac93ff6135f303f48c4b796ae482f03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBZfcST3-0FVyiy5CeHb0w.png"/></div></div></figure><p id="16ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，你们都好吗，我希望你们都永远健康和成功。这一次我们将回到编码。用laravel评分。当你创建销售应用程序或其他服务时，这对于你获得对你创建的服务的评价和评论是非常重要的。</p><p id="c606" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以学习其他教程:</p><p id="95f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/en/drag-and-drop-image-file-upload-using-laravel/" rel="noopener ugc nofollow" target="_blank">使用Laravel拖放图像/文件上传</a></p><p id="f99c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/en/rest-api-login-register-with-sanctum-laravel/" rel="noopener ugc nofollow" target="_blank"> REST API登录&amp;向圣所注册</a></p><p id="dcbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/en/upload-files-using-ajax-in-laravel/" rel="noopener ugc nofollow" target="_blank">在Laravel中使用Ajax上传文件</a></p><h1 id="1b58" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Laravel评论和评级</h1><p id="2d64" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">评论评级是每个应用程序中最常见的模块，通常你会在电子商务平台上看到评论和评级系统，在每个产品后都有一个选项来评级或被用户评论，以分享他们的体验或反馈。</p><p id="4670" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，为了在laravel应用程序中实现一个评论和评级系统，我们在数据库中创建并存储多个帖子，然后在每个帖子后实现一个评论和评级平台，用户可以选择一个星级并撰写评论。</p><p id="c226" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好吧，让我们直接进入讨论。</p><h1 id="231f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">移民</h1><p id="7946" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">您必须首先创建一个评级表，用于存储来自评级和评论的数据。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="a99a" class="lb jq hi kx b fi lc ld l le lf">php artisan make:migration create_review_ratings_table</span></pre><p id="e628" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们打开在<strong class="is hj"> database\migrations\ </strong>文件夹中创建的迁移文件，并填写如下代码:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="c6a4" class="lb jq hi kx b fi lc ld l le lf">&lt;?php</span><span id="afb0" class="lb jq hi kx b fi lg ld l le lf">use Illuminate\Support\Facades\Schema;<br/>use Illuminate\Database\Schema\Blueprint;<br/>use Illuminate\Database\Migrations\Migration;</span><span id="f458" class="lb jq hi kx b fi lg ld l le lf"><em class="lh">class</em> CreateReviewRatingsTable extends Migration<br/>{<br/>    /**<br/>     * Run the migrations.<br/>     *<br/>     * @return void<br/>     */<br/>    public <em class="lh">function</em> up()<br/>    {<br/>        Schema::create('review_ratings', <em class="lh">function</em> (Blueprint $table) {<br/>            $table-&gt;increments('id');<br/>            $table-&gt;unsignedBigInteger('booking_id');<br/>            $table-&gt;longText('comments')-&gt;nullable();<br/>            $table-&gt;integer('star_rating');<br/>            $table-&gt;enum('status', ['active', 'deactive']);<br/>            $table-&gt;timestamps();<br/>        });<br/>    }</span><span id="d2c0" class="lb jq hi kx b fi lg ld l le lf">    /**<br/>     * Reverse the migrations.<br/>     *<br/>     * @return void<br/>     */<br/>    public <em class="lh">function</em> down()<br/>    {<br/>        Schema::dropIfExists('review_ratings');<br/>    }<br/>}</span></pre><p id="0e55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:在booking_id字段中，您可以使用您的所有表进行定制。在这种情况下，我将给出一个我的项目的例子。</p><h1 id="1d75" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">运行迁移</h1><p id="83a6" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">php工匠迁移</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/b0200bb5ae6dcd3d05d1cd133256a27d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zhzdNgmDweKJ0WJT.png"/></div></div></figure><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/6e993ceb1d044948b94e72451c5af392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9sEEfBPOMknlhRgZ.png"/></div></div></figure><h1 id="56f6" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">路线</h1><p id="276e" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">您在<strong class="is hj"> routes\web.php </strong>中添加一个如下所示的路由</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="882a" class="lb jq hi kx b fi lc ld l le lf">Route::post('review-store', 'BookingController@reviewstore')-&gt;name('review.store');</span></pre><h1 id="da36" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">控制器</h1><p id="9c64" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">在控制器中添加如下代码:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="2c97" class="lb jq hi kx b fi lc ld l le lf">public <em class="lh">function</em> reviewstore(Request $request){<br/>        $review = new ReviewRating();<br/>        $review-&gt;booking_id = $request-&gt;booking_id;<br/>        $review-&gt;comments= $request-&gt;comment;<br/>        $review-&gt;star_rating = $request-&gt;rating;<br/>        $review-&gt;user_id = Auth::user()-&gt;id;<br/>        $review-&gt;service_id = $request-&gt;service_id;<br/>        $review-&gt;save();<br/>        return redirect()-&gt;back()-&gt;with('flash_msg_success','Your review has been submitted Successfully,');<br/>    }</span></pre><h1 id="0a76" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">叶片</h1><p id="1ee2" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">添加一个评级刀片，请在您的表单中添加下面的代码，所有人。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="393e" class="lb jq hi kx b fi lc ld l le lf">&lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"&gt;<br/>      &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"&gt;&lt;/script&gt;<br/>      &lt;script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"&gt;&lt;/script&gt;<br/>&lt;style&gt;<br/>     .rate {<br/>         float: left;<br/>         height: 46px;<br/>         padding: 0 10px;<br/>         }<br/>         .rate:not(:checked) &gt; input {<br/>         position:absolute;<br/>         display: none;<br/>         }<br/>         .rate:not(:checked) &gt; label {<br/>         float:right;<br/>         width:1em;<br/>         overflow:hidden;<br/>         white-space:nowrap;<br/>         cursor:pointer;<br/>         font-size:30px;<br/>         color:#ccc;<br/>         }<br/>         .rated:not(:checked) &gt; label {<br/>         float:right;<br/>         width:1em;<br/>         overflow:hidden;<br/>         white-space:nowrap;<br/>         cursor:pointer;<br/>         font-size:30px;<br/>         color:#ccc;<br/>         }<br/>         .rate:not(:checked) &gt; label:before {<br/>         content: '★ ';<br/>         }<br/>         .rate &gt; input:checked ~ label {<br/>         color: #ffc700;<br/>         }<br/>         .rate:not(:checked) &gt; label:hover,<br/>         .rate:not(:checked) &gt; label:hover ~ label {<br/>         color: #deb217;<br/>         }<br/>         .rate &gt; input:checked + label:hover,<br/>         .rate &gt; input:checked + label:hover ~ label,<br/>         .rate &gt; input:checked ~ label:hover,<br/>         .rate &gt; input:checked ~ label:hover ~ label,<br/>         .rate &gt; label:hover ~ input:checked ~ label {<br/>         color: #c59b08;<br/>         }<br/>         .star-rating-complete{<br/>            color: #c59b08;<br/>         }<br/>         .rating-container .form-control:hover, .rating-container .form-control:focus{<br/>         background: #fff;<br/>         border: 1px solid #ced4da;<br/>         }<br/>         .rating-container textarea:focus, .rating-container input:focus {<br/>         color: #000;<br/>         }</span><span id="5f50" class="lb jq hi kx b fi lg ld l le lf">         .rated {<br/>         float: left;<br/>         height: 46px;<br/>         padding: 0 10px;<br/>         }<br/>         .rated:not(:checked) &gt; input {<br/>         position:absolute;<br/>         display: none;<br/>         }<br/>         .rated:not(:checked) &gt; label {<br/>         float:right;<br/>         width:1em;<br/>         overflow:hidden;<br/>         white-space:nowrap;<br/>         cursor:pointer;<br/>         font-size:30px;<br/>         color:#ffc700;<br/>         }<br/>         .rated:not(:checked) &gt; label:before {<br/>         content: '★ ';<br/>         }<br/>         .rated &gt; input:checked ~ label {<br/>         color: #ffc700;<br/>         }<br/>         .rated:not(:checked) &gt; label:hover,<br/>         .rated:not(:checked) &gt; label:hover ~ label {<br/>         color: #deb217;<br/>         }<br/>         .rated &gt; input:checked + label:hover,<br/>         .rated &gt; input:checked + label:hover ~ label,<br/>         .rated &gt; input:checked ~ label:hover,<br/>         .rated &gt; input:checked ~ label:hover ~ label,<br/>         .rated &gt; label:hover ~ input:checked ~ label {<br/>         color: #c59b08;<br/>         }<br/>&lt;/style&gt;  <br/>@if(!empty($value-&gt;star_rating))<br/>                                &lt;div class="container"&gt;<br/>                                    &lt;div class="row"&gt;<br/>                                       &lt;div class="col mt-4"&gt;<br/>                                             &lt;p class="font-weight-bold "&gt;Review&lt;/p&gt;<br/>                                             &lt;div class="form-group row"&gt;<br/>                                                &lt;input type="hidden" name="booking_id" value="{{ $value-&gt;id }}"&gt;<br/>                                                &lt;div class="col"&gt;<br/>                                                   &lt;div class="rated"&gt;<br/>                                                    @for($i=1; $i&lt;=$value-&gt;star_rating; $i++)</span><span id="4523" class="lb jq hi kx b fi lg ld l le lf">                                                      {{-- &lt;input type="radio" id="star{{$i}}" class="rate" name="rating" value="5"/&gt; --}}<br/>                                                      &lt;label class="star-rating-complete" title="text"&gt;{{$i}} stars&lt;/label&gt;<br/>                                                    @endfor<br/>                                                    &lt;/div&gt;<br/>                                                &lt;/div&gt;<br/>                                             &lt;/div&gt;<br/>                                             &lt;div class="form-group row mt-4"&gt;<br/>                                                &lt;div class="col"&gt;<br/>                                                    &lt;p&gt;{{ $value-&gt;comments }}&lt;/p&gt;<br/>                                                &lt;/div&gt;<br/>                                             &lt;/div&gt;<br/>                                       &lt;/div&gt;<br/>                                    &lt;/div&gt;<br/>                                 &lt;/div&gt;<br/>                                @else<br/>                                &lt;div class="container"&gt;<br/>                                    &lt;div class="row"&gt;<br/>                                       &lt;div class="col mt-4"&gt;<br/>                                          &lt;form class="py-2 px-4" action="{{route('admin.review.store')}}" style="box-shadow: 0 0 10px 0 #ddd;" method="POST" autocomplete="off"&gt;<br/>                                             @csrf<br/>                                             &lt;p class="font-weight-bold "&gt;Review&lt;/p&gt;<br/>                                             &lt;div class="form-group row"&gt;<br/>                                                &lt;input type="hidden" name="booking_id" value="{{ $value-&gt;id }}"&gt;<br/>                                                &lt;div class="col"&gt;<br/>                                                   &lt;div class="rate"&gt;<br/>                                                      &lt;input type="radio" id="star5" class="rate" name="rating" value="5"/&gt;<br/>                                                      &lt;label for="star5" title="text"&gt;5 stars&lt;/label&gt;<br/>                                                      &lt;input type="radio" checked id="star4" class="rate" name="rating" value="4"/&gt;<br/>                                                      &lt;label for="star4" title="text"&gt;4 stars&lt;/label&gt;<br/>                                                      &lt;input type="radio" id="star3" class="rate" name="rating" value="3"/&gt;<br/>                                                      &lt;label for="star3" title="text"&gt;3 stars&lt;/label&gt;<br/>                                                      &lt;input type="radio" id="star2" class="rate" name="rating" value="2"&gt;<br/>                                                      &lt;label for="star2" title="text"&gt;2 stars&lt;/label&gt;<br/>                                                      &lt;input type="radio" id="star1" class="rate" name="rating" value="1"/&gt;<br/>                                                      &lt;label for="star1" title="text"&gt;1 star&lt;/label&gt;<br/>                                                   &lt;/div&gt;<br/>                                                &lt;/div&gt;<br/>                                             &lt;/div&gt;<br/>                                             &lt;div class="form-group row mt-4"&gt;<br/>                                                &lt;div class="col"&gt;<br/>                                                   &lt;textarea class="form-control" name="comment" rows="6 " placeholder="Comment" maxlength="200"&gt;&lt;/textarea&gt;<br/>                                                &lt;/div&gt;<br/>                                             &lt;/div&gt;<br/>                                             &lt;div class="mt-3 text-right"&gt;<br/>                                                &lt;button class="btn btn-sm py-2 px-3 btn-info"&gt;Submit<br/>                                                &lt;/button&gt;<br/>                                             &lt;/div&gt;<br/>                                          &lt;/form&gt;<br/>                                       &lt;/div&gt;<br/>                                    &lt;/div&gt;<br/>                                 &lt;/div&gt;<br/>                                 @endif</span></pre><p id="ceeb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:在上面的代码中，我只分享了一些html和css代码。请把你所有的表格都加上。我给出了输入表单时和输入表单后的两个条件，结果如下。</p><p id="65ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输入形式</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/9e368400a74f447ce87cc29301c56737.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/0*m3PI_QUtcB_VkN9y.png"/></div></figure><p id="9557" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/b6b5c2265242706090d1aed2f7a9df01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/0*yVEe_iBE13NVkXjF.png"/></div></figure><p id="b4e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以上是我这次可以传达的教程，希望有用。</p><p id="0c38" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢了。</p></div></div>    
</body>
</html>