<html>
<head>
<title>Microsoft Adaptive Cards in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的Microsoft自适应卡</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/microsoft-adaptive-cards-in-swiftui-c2b63f96122b?source=collection_archive---------8-----------------------#2022-03-14">https://medium.com/geekculture/microsoft-adaptive-cards-in-swiftui-c2b63f96122b?source=collection_archive---------8-----------------------#2022-03-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9ef3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博文中，我将</p><ul class=""><li id="815c" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">向您介绍微软适配卡</li><li id="ac76" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">解释如何在SwiftUI项目中使用其开源的Objective-C SDK，以及</li><li id="8bae" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">给你一些忠告。</li></ul><p id="29a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jr" href="https://adaptivecards.io/" rel="noopener ugc nofollow" target="_blank">适配卡</a>是一种开放的卡交换格式，使开发者能够以通用和一致的方式交换UI内容。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/69fec454eff16921fc1a02c5dfc2f2c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PtG-IG9upOV-_3vd"/></div></div></figure><blockquote class="ke"><p id="6970" class="kf kg hi bd kh ki kj kk kl km kn jc dx translated">自适应卡是平台无关的UI片段，由JSON编写，应用程序和服务可以公开交换。当交付给特定的应用程序时，JSON被转换成一个自动适应周围环境的本机UI。它帮助设计和集成所有主要平台和框架的轻量级UI。</p></blockquote><p id="dca0" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">由于微软维护自适应卡，您可以在他们的产品中看到它的使用，例如微软团队或Outlook可操作行动。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/59e196bdbb1ec0e2e0cddbad9d7c2c43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZsoTiU0SNevTvI9k"/></div></div></figure><p id="7673" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一个简单的JSON代码片段声明卡片的例子。</p><pre class="jt ju jv jw fd kt ku kv kw aw kx bi"><span id="edeb" class="ky kz hi ku b fi la lb l lc ld">{<br/>  "type": "AdaptiveCard",<br/>  "version": "1.0",<br/>  "body": [<br/>    {<br/>      "type": "Image",<br/>      "url": "<a class="ae jr" href="http://adaptivecards.io/content/adaptive-card-50.png" rel="noopener ugc nofollow" target="_blank">http://adaptivecards.io/content/adaptive-card-50.png</a>",<br/>      "horizontalAlignment": "center"<br/>    },<br/>    {<br/>      "type": "TextBlock",<br/>      "horizontalAlignment": "center",<br/>      "text": "Hello **Adaptive Cards!**"<br/>    }<br/>  ],<br/>  "actions": [<br/>    {<br/>      "type": "Action.OpenUrl",<br/>      "title": "Learn more",<br/>      "url": "<a class="ae jr" href="http://adaptivecards.io" rel="noopener ugc nofollow" target="_blank">http://adaptivecards.io</a>"<br/>    },<br/>    {<br/>      "type": "Action.OpenUrl",<br/>      "title": "GitHub",<br/>      "url": "<a class="ae jr" href="http://github.com/Microsoft/AdaptiveCards" rel="noopener ugc nofollow" target="_blank">http://github.com/Microsoft/AdaptiveCards</a>"<br/>    }<br/>  ]<br/>}</span></pre><p id="3098" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">卡片，这里有一个图像和两个动作，无需应用程序开发人员编写特定于平台的代码就可以呈现。</p><p id="7ecc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">BotFramework WebChat中此卡的可视化表示示例:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es le"><img src="../Images/ebe3a2ad10e6d01fbe4d5ff33381fc18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OH0I2iyIbuZH61BI"/></div></div></figure><p id="9b5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Outlook可操作消息中此卡片的可视化表示示例:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lf"><img src="../Images/8008c9b6cc445d272c716d1284928d85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*voiyWu5V9D_U3xZY"/></div></div></figure><p id="6e09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<a class="ae jr" href="https://adaptivecards.io/designer/" rel="noopener ugc nofollow" target="_blank">设计器</a>或者在这里探索整个模式<a class="ae jr" href="https://adaptivecards.io/explorer" rel="noopener ugc nofollow" target="_blank">。你可以在官方网站上找到</a><a class="ae jr" href="https://adaptivecards.io/samples/" rel="noopener ugc nofollow" target="_blank">更多更复杂的例子</a>。</p><p id="8f2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Adaptive Cards附带了一组本机平台渲染器:</p><ul class=""><li id="dac8" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">Java Script语言</li><li id="97a4" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">。NET (+WPF + HTML)</li><li id="3b84" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">UWP视窗</li><li id="652b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">机器人</li><li id="7b69" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">ios</li></ul><h1 id="b039" class="lg kz hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">iOS上的适配卡</h1><p id="2de0" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">一个用Objective-C编写的<a class="ae jr" href="https://github.com/Microsoft/AdaptiveCards/tree/main/source/ios" rel="noopener ugc nofollow" target="_blank">开源SDK实现</a>，可以通过<a class="ae jr" href="https://cocoapods.org/about" rel="noopener ugc nofollow" target="_blank"> Cocoapods </a>使用。</p><p id="0ee0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mi">请注意</em>:存储库确实有一个<code class="du mj mk ml ku b">Package.swift</code>文件，但是将包添加到您的项目中在Xcode中不起作用。</p><p id="15b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们创建一个在SwiftUI中实现的iOS应用程序，利用自适应卡并交互式地呈现我们的示例。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es mm"><img src="../Images/0c59c9b98a502b2e92dbfa26641d19b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/1*w7BQ5aOJjDssWOo-pZzHJQ.gif"/></div><figcaption class="mn mo et er es mp mq bd b be z dx">An interactive adaptive card on iOS</figcaption></figure><p id="c929" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">名为<code class="du mj mk ml ku b">MSAdaptiveCardExample</code>并支持iOS 14的Xcode项目的<code class="du mj mk ml ku b">Podfile</code>示例。</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="aae1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在Swift中使用代码，让我们创建一个必要的桥接报头。这里的<a class="ae jr" href="https://mycodetips.com/ios/manually-adding-swift-bridging-header-1290.html" rel="noopener ugc nofollow" target="_blank">是一个有用的指南</a>。</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="3c9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SDK使用<code class="du mj mk ml ku b">UIKit</code>作为UI框架。下面是一个用各种SDK APIs创建ViewController的例子，比如<code class="du mj mk ml ku b">ACOAdaptiveCard</code>或<code class="du mj mk ml ku b">ACRRenderer</code>。</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="b801" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在SwiftUI中使用UIKit ViewController需要创建一个符合<code class="du mj mk ml ku b">UIViewControllerRepresentable</code>的<code class="du mj mk ml ku b">View</code>。</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="212e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，该视图可以嵌入SwiftUI视图层次结构中的任何位置。例子</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="b66b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在GitHub上查看完整的项目，包括让渲染图像实际工作的技巧</p><div class="mt mu ez fb mv mw"><a href="https://github.com/MarcoEidinger/ms-adaptivecards-ios-example" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab dw"><div class="my ab mz cl cj na"><h2 class="bd hj fi z dy nb ea eb nc ed ef hh bi translated">GitHub-MarcoEidinger/ms-Adaptive cards-IOs-Example:渲染自适应卡的示例…</h2><div class="nd l"><h3 class="bd b fi z dy nb ea eb nc ed ef dx translated">基于…在iOS上渲染适配卡(微软)的示例</h3></div><div class="ne l"><p class="bd b fp z dy nb ea eb nc ed ef dx translated">github.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk kc mw"/></div></div></a></div><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es nl"><img src="../Images/a42259014c083193d1cef4b9f5294d6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*qjaLFRTi8sE2G1FV-V5itQ.gif"/></div><figcaption class="mn mo et er es mp mq bd b be z dx">A more complex interactive adaptive card on iOS</figcaption></figure><h1 id="5aae" class="lg kz hi bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">警告</h1><p id="0b9c" class="pw-post-body-paragraph if ig hi ih b ii md ik il im me io ip iq mf is it iu mg iw ix iy mh ja jb jc hb bi translated">作为一名工程师，我对构建一个“一次构建，随处运行”(跨平台)、“无/低代码UI”(声明式)框架考虑平台间差异的想法和成本持怀疑态度。</p><p id="e458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">具体到适配卡，我没有看到他们在过去12个月里对移动SDK的重大投资。更令人担忧的是，移动SDK仍然不支持<a class="ae jr" href="https://docs.microsoft.com/en-us/adaptive-cards/templating/" rel="noopener ugc nofollow" target="_blank">模板化</a>，这是2020年为Javascript和。NET SDKs。</p><p id="80d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后是<strong class="ih hj">没有SwiftUI路线图</strong>。微软没有支持一个社区项目来实现自适应卡的本地SwiftUI渲染器:(</p><div class="mt mu ez fb mv mw"><a href="https://github.com/gonzalezreal/AdaptiveCardUI" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab dw"><div class="my ab mz cl cj na"><h2 class="bd hj fi z dy nb ea eb nc ed ef hh bi translated">GitHub-Gonzalez real/AdaptiveCardUI:UI片段，用JSON编写，用SwiftUI呈现</h2><div class="nd l"><h3 class="bd b fi z dy nb ea eb nc ed ef dx translated">AdaptiveCardUI是一个用于在SwiftUI中呈现自适应卡片的库。自适应卡是UI的片段，在…</h3></div><div class="ne l"><p class="bd b fp z dy nb ea eb nc ed ef dx translated">github.com</p></div></div><div class="nf l"><div class="nm l nh ni nj nf nk kc mw"/></div></div></a></div><p id="3d0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的结论是:不要为iOS上的适配卡费心</p></div><div class="ab cl nn no gp np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hb hc hd he hf"><p id="8d76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mi">原发布于</em><a class="ae jr" href="https://blog.eidinger.info/microsoft-adaptive-cards-in-swiftui" rel="noopener ugc nofollow" target="_blank"><em class="mi">https://blog . ei dinger . info</em></a><em class="mi">。</em></p></div></div>    
</body>
</html>