<html>
<head>
<title>Leveraging a TigerGraph Graph Database with a Web Server in Go for Hackathon Registrations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用TigerGraph图形数据库和Web服务器进行黑客马拉松注册</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/leveraging-a-tigergraph-graph-database-with-a-web-server-in-go-for-hackathon-registrations-f640de0d2fd2?source=collection_archive---------14-----------------------#2022-05-29">https://medium.com/geekculture/leveraging-a-tigergraph-graph-database-with-a-web-server-in-go-for-hackathon-registrations-f640de0d2fd2?source=collection_archive---------14-----------------------#2022-05-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d6e9" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用TigerGo和Gin Gonic在Golang中创建一个Web服务器，以帮助黑客马拉松参赛者找到队友</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/83e4c37f081c45e77b6b9f5ea9277c1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ChLF1yjMB26fLOhH.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Image from <a class="ae jn" href="https://pixabay.com/illustrations/lightbulb-artificial-intelligence-5442769/" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><h1 id="7cfb" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">介绍</h1><p id="9589" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在我拥有的令人敬畏的经历中，我是大联盟Hacks的社区领袖。我喜欢参加黑客马拉松，我甚至有机会在2020年主办当地黑客日的德克萨斯州分会。黑客马拉松潜在的困难但最有趣的方面之一是找到使用相同框架和有相似兴趣的队友。那么，为什么不利用graph——特别是tiger graph——的力量来帮助黑客马拉松参赛者找到队友呢？</p><p id="0148" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">这个项目将使用新的TigerGraph Go包装器TigerGo和一个流行的Go webserver包Gin Gonic来创建一个支持图形的web服务器，从而创建一个hackathon partner-finding应用程序。</p><h2 id="aa11" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">使用的工具</h2><ul class=""><li id="2a7e" class="lv lw hi ki b kj kk km kn kp lx kt ly kx lz lb ma mb mc md bi translated"><a class="ae jn" href="https://genericp3rson.github.io/TigerGo/" rel="noopener ugc nofollow" target="_blank"> TigerGo </a>:一个TigerGraph包装器(我创造的！)为了Golang</li><li id="9fc2" class="lv lw hi ki b kj me km mf kp mg kt mh kx mi lb ma mb mc md bi translated"><a class="ae jn" href="https://tgcloud.io/" rel="noopener ugc nofollow" target="_blank"> TigerGraph Cloud </a>:创建和托管TigerGraph图形数据库的平台</li><li id="d9e3" class="lv lw hi ki b kj me km mf kp mg kt mh kx mi lb ma mb mc md bi translated"><a class="ae jn" href="https://github.com/gin-gonic/gin" rel="noopener ugc nofollow" target="_blank"> Gin Gonic </a>:创建网络服务器的流行Golang库</li></ul><h1 id="2206" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">第一部分:创建图表</h1><h2 id="ac87" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">第一步:创建新的解决方案</h2><p id="9c7a" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">首先，在TigerGraph Cloud上创建一个新的空白解决方案。为此，导航到<a class="ae jn" href="https://tgcloud.io/" rel="noopener ugc nofollow" target="_blank">https://tgcloud.io/</a>并创建一个帐户(如果您还没有)。接下来，导航到“我的解决方案”选项卡，然后按蓝色的“创建解决方案”按钮。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/f623360ac3ef3c00d5b7dead74992648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*riG0GaPUNKsncK0JY3xbIA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Press “My Solutions” then “Create Solution”</figcaption></figure><p id="328b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在第一页上，按“空白”选项，然后按下一步。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/4ca78cf09317c8fc202316e3e1ce9550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dyl2vKsH2TnWcClP5MknGA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Select “Blank v3.5.3” and press next</figcaption></figure><p id="5297" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">不要更改第二页上的任何内容；这将建立一个免费的TigerGraph解决方案。在第三页上，根据需要配置选项。</p><blockquote class="ml mm mn"><p id="c2d6" class="kg kh mo ki b kj lc ij kl km ld im ko mp le kr ks mq lf kv kw mr lg kz la lb hb bi translated">注意:请记住您的解决方案的密码和子域！此外，该子域是当时其他解决方案所独有的，因此您可能无法在本例中使用该子域。</p></blockquote><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ms"><img src="../Images/0efd89b749edc24490084dd0fd433173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vZgEtZukVMAnhH3bJt8IMw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Configure the solution</figcaption></figure><p id="991e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">确认最后一页一切正常，然后点击提交。接下来等待几分钟，直到解决方案状态变成一个绿点，表示“就绪”</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mt"><img src="../Images/9a0197a68f648e843ab8cf5321174f8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*H2AZw_KK_VY_KXw6fLgEPg.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Wait till the status is ready.</figcaption></figure><h2 id="ff51" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">第二步:打开GraphStudio并导入解决方案</h2><p id="9849" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">一旦解决方案准备就绪，通过从四个方块的下拉列表中单击“GraphStudio”来打开GraphStudio(悬停文本为“Applications”)。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mu"><img src="../Images/b0870a4193a824cfe7daf8e58ab8cc2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*Mzg_Rx6d--EjiWVhS3_ABg.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Click GraphStudio from the applications dropdown</figcaption></figure><blockquote class="ml mm mn"><p id="d918" class="kg kh mo ki b kj lc ij kl km ld im ko mp le kr ks mq lf kv kw mr lg kz la lb hb bi translated">注意:接下来，我将向您展示如何直接导入我的解决方案。如果您更愿意自己设置解决方案，请跳过这一步，按照剩下的步骤操作。如果您想立即导入解决方案，请完成这一步，安装查询，然后跳到第二部分。</p></blockquote><p id="0ef0" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在GraphStudio中，单击“导入现有工作室”按钮。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/a5c8731d6c07581c1b42f6b4e39347bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LrhIvns0kjcUUwIS8mZzzQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Click “Import an Existing Solution”</figcaption></figure><p id="daaf" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">你可以在这里找到导入<a class="ae jn" href="https://github.com/GenericP3rson/TigerGoGinExample/blob/master/HackGraph.tar.gz" rel="noopener ugc nofollow" target="_blank">的解决方案。</a></p><div class="mw mx ez fb my mz"><a href="https://github.com/GenericP3rson/TigerGoGinExample/blob/master/HackGraph.tar.gz" rel="noopener  ugc nofollow" target="_blank"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">tigerginexample/hack graph . tar . gz at master generic 3 rson/tigerginexample</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">github.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn jh mz"/></div></div></a></div><h2 id="914a" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">第三步:创建一个新的图表和模式</h2><p id="ddfd" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在左侧面板上，单击“全局视图”打开下拉菜单。在下拉列表中，单击“新建图表”在我的例子中，我将创建一个名为“HackGraph”的图</p><div class="iy iz ja jb fd ab cb"><figure class="no jc np nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/21850508b7cfd89d437c2562eb29d0bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*eb0-8kPbrESmQW6xHK4XXA.png"/></div></figure><figure class="no jc nu nq nr ns nt paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/617925d2928c84eca1e73723fc0fd314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1462/format:webp/1*CWKgNrh56RHFsUJH4Ijs6A.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx nv di nw nx">Create a new graph called “HackGraph”</figcaption></figure></div><p id="c3cb" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，按“设计模式”使用加号添加顶点，然后创建边。关于如何使用TigerGraph Cloud创建和设计模式的分步教程，请查看此视频<a class="ae jn" href="https://www.youtube.com/watch?v=qay0GJJ28W8" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/e89594578ece073c84dc3c310f60a9c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LSag34-S_D2TeOcNk4PWrg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Graph Schema in GraphStudio</figcaption></figure><p id="f0ef" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">作为参考，这将是图形模式的脚本等价物。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="7f50" class="lh jp hi nz b fi od oe l of og">CREATE VERTEX Language(PRIMARY_ID language STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX User(PRIMARY_ID user STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Interest(PRIMARY_ID interest STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"</span><span id="403e" class="lh jp hi nz b fi oh oe l of og">CREATE UNDIRECTED EDGE USER_LANGUAGE(FROM User, TO Language, experience STRING)<br/>CREATE UNDIRECTED EDGE USER_INTEREST(FROM User, TO Interest)</span></pre><p id="b1f4" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">一旦你创建了你的模式，点击发布按钮！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es oi"><img src="../Images/1a0e148b099bbc3f1e04c2975a7f0117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bbomFffNyRuiEvVepZlqQA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Press the up arrow to publish your schema</figcaption></figure><p id="7fe4" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">恭喜，您已经创建了您的第一个模式！</p><h2 id="09fe" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">第四步:编写一个查询</h2><p id="24b0" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">接下来，您需要创建查询来实际建议队友。导航到“我的查询”选项卡。创建一个新的查询(我称之为“suggestTeammates”)。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es oj"><img src="../Images/245c1ce9c968c86153e5220561bafc3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pzcRQl1TGbMk-L5ffWz3pA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Create a new queries</figcaption></figure><p id="76df" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果您想了解GSQL，请查阅<a class="ae jn" href="https://docs.tigergraph.com/gsql-ref/current/tutorials/gsql-101/" rel="noopener ugc nofollow" target="_blank"> GSQL 101文档</a>。为此，我使用累加器创建了一个基本查询。对于与该用户共享一个顶点的所有用户，他们在相似性累加器上得到1。在这种情况下，兴趣和语言顶点具有权重；然而，这可以被调整为或多或少地给出一个。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="0ea9" class="lh jp hi nz b fi od oe l of og">CREATE QUERY suggestTeammates(VERTEX&lt;User&gt; username) FOR GRAPH HackGraph SYNTAX v2 { <br/>  <br/>  SumAccum&lt;INT&gt; @similarity;<br/>  <br/>  Seed = {username};<br/>  <br/>  Res1 = SELECT u FROM Seed:s - (USER_INTEREST:e1) - Interest:i - (USER_INTEREST:e2) - User:u<br/>        WHERE u.user != username.user<br/>        ACCUM u.@similarity += 1;<br/>  <br/>  Res2 = SELECT u FROM Seed:s - (USER_LANGUAGE:e1) - Language:l - (USER_LANGUAGE:e2) - User:u<br/>        WHERE u.user != username.user AND e1.experience == e2.experience<br/>        ACCUM u.@similarity += 1;<br/>  <br/>  Users = {User.*};<br/>  <br/>  Res = SELECT u FROM Users:u<br/>        WHERE u.user != username.user<br/>        ORDER BY u.@similarity DESC<br/>        LIMIT 5;<br/>  <br/>  PRINT Res;<br/>  <br/>}</span></pre><p id="0d6f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">最后，安装查询。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ok"><img src="../Images/f0fb95d7821b49d45dc2c3b90f70430f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66lu-YdQTnuimoFGvz1XHw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Install the query with the up arrow.</figcaption></figure><p id="c946" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在解决方案已经准备好了！您现在可以创建Go项目了。</p><h1 id="e928" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">第二部分:创建和配置一个新的Golang项目</h1><h2 id="aae2" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">第一步:去拿包裹</h2><p id="6131" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">首先，初始化一个新的Golang项目。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="3cec" class="lh jp hi nz b fi od oe l of og">go mod init test/gin</span></pre><p id="d484" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，进口杜松子酒。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="be28" class="lh jp hi nz b fi od oe l of og">go get -u github.com/gin-gonic/gin</span></pre><blockquote class="ml mm mn"><p id="01ad" class="kg kh mo ki b kj lc ij kl km ld im ko mp le kr ks mq lf kv kw mr lg kz la lb hb bi translated">注意:你必须用这个抓住包裹。有时候运行<code class="du ol om on nz b">go mod tidy</code>的时候，会在运行代码的时候抛出错误。</p></blockquote><p id="e415" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">最后，进口TigerGo。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="2c89" class="lh jp hi nz b fi od oe l of og">go get github.com/GenericP3rson/TigerGo</span></pre><p id="e46b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">完美！一切都应该按照库的方式进行设置。</p><h2 id="f2ba" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">步骤二:连接到TigerGraph解决方案</h2><p id="901a" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">首先创建一个文件来存放代码。例如，我将创建<code class="du ol om on nz b">index.go</code>。接下来，将TigerGo 的快速入门代码<a class="ae jn" href="https://genericp3rson.github.io/TigerGo/" rel="noopener ugc nofollow" target="_blank">添加到文件中。</a></p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="7abe" class="lh jp hi nz b fi od oe l of og">package main </span><span id="0042" class="lh jp hi nz b fi oh oe l of og">import(<br/>   "fmt" // fmt for printing stuff out<br/>   "github.com/GenericP3rson/TigerGo" // TigerGo<br/>)</span><span id="7a37" class="lh jp hi nz b fi oh oe l of og">func main() {<br/>   conn := TigerGo.TigerGraphConnection{<br/>      Token: "TOKEN", <br/>      Host: "https://SUBDOMAIN.i.tgcloud.io",<br/>      GraphName: "GRAPHNAME",<br/>      Username: "tigergraph",<br/>      Password: "PASSWORD"<br/>   }<br/>}</span></pre><p id="01ef" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果您还没有令牌，请将该字段留空，并使用以下内容生成一个令牌:</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="85b8" class="lh jp hi nz b fi od oe l of og">fmt.Println(conn.GetToken())</span></pre><p id="677f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我建议将令牌和密码复制到单独的文档中，然后从主文档中调用它。</p><p id="9cd8" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><code class="du ol om on nz b">token.go</code></p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="975a" class="lh jp hi nz b fi od oe l of og">package main</span><span id="c926" class="lh jp hi nz b fi oh oe l of og">func token() string {<br/>   return "TOKEN_JUST_GENERATED"<br/>}</span><span id="54f8" class="lh jp hi nz b fi oh oe l of og">func password() string {<br/>   return "PASSWORD"<br/>}</span></pre><p id="2307" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><code class="du ol om on nz b">index.go</code></p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="181d" class="lh jp hi nz b fi od oe l of og">import(<br/>   "fmt"<br/>   "github.com/GenericP3rson/TigerGo"<br/>)</span><span id="9755" class="lh jp hi nz b fi oh oe l of og">func main() {<br/>   conn := TigerGo.TigerGraphConnection{<br/>      Token: token(), <br/>      Host: "https://SUBDOMAIN.i.tgcloud.io",<br/>      GraphName: "GRAPHNAME",<br/>      Username: "tigergraph",<br/>      Password: password()<br/>   }<br/>}</span></pre><p id="3849" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">太棒了。通过运行<code class="du ol om on nz b">conn.Echo()</code>测试连接。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="206a" class="lh jp hi nz b fi od oe l of og">go run .</span></pre><p id="3ac1" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果一切顺利，您就可以开始了！</p><h2 id="eb39" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">第三步:创建一个Gin服务器</h2><p id="8b3a" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">现在我们可以连接到我们的解决方案，我们可以创建一个基本的Gin服务器，从一个<code class="du ol om on nz b">/echo</code>端点开始。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="f445" class="lh jp hi nz b fi od oe l of og">package main</span><span id="7981" class="lh jp hi nz b fi oh oe l of og">import (<br/>   "fmt"<br/>   "github.com/GenericP3rson/TigerGo"<br/>   "github.com/gin-gonic/gin"<br/>   "net/http"<br/>)</span><span id="ba01" class="lh jp hi nz b fi oh oe l of og">func main() {<br/>   <br/>   conn := TigerGo.TigerGraphConnection{<br/>      Token: token(),<br/>      Host: "https://SUBDOMAIN.i.tgcloud.io",<br/>      GraphName: "HackGraph",<br/>      Username:  "tigergraph",<br/>      Password:  password(),<br/>   }</span><span id="67d9" class="lh jp hi nz b fi oh oe l of og">   r := gin.Default()</span><span id="19af" class="lh jp hi nz b fi oh oe l of og">   r.GET("/echo", func(c *gin.Context) {<br/>      c.JSON(http.StatusOK, gin.H{<br/>         "message": conn.Echo(),<br/>      })<br/>   })</span><span id="37e2" class="lh jp hi nz b fi oh oe l of og">   r.Run(":8080")</span><span id="fe19" class="lh jp hi nz b fi oh oe l of og">}</span></pre><p id="b53b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">这会在<code class="du ol om on nz b">/echo</code>端点运行一个GET请求。它将返回一个<code class="du ol om on nz b">"message": conn.Echo()</code>的JSON对象(将是<code class="du ol om on nz b">"message": "Hello GSQL"</code>)。运行文件。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="8f74" class="lh jp hi nz b fi od oe l of og">go run .</span></pre><p id="b060" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">您可以通过访问<a class="ae jn" href="http://0.0.0.0:8080/echo/" rel="noopener ugc nofollow" target="_blank">http://0 . 0 . 0 . 0:8080/echo/</a>来确保一切正常。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es oo"><img src="../Images/4b4b147706bdcc4b123c2b7b1bb127ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G1hXgwyrS6oKDscRVb4SGg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Hello GSQL in Brower</figcaption></figure><p id="3d62" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">完美！一旦准备好了，让我们开始构建示例的端点！</p><h1 id="7e71" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">第三部分:创建端点</h1><p id="4b28" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">对于这个项目，我将创建四个端点:<code class="du ol om on nz b">/join</code>、<code class="du ol om on nz b">/add-lang</code>、<code class="du ol om on nz b">/add-interest</code>和<code class="du ol om on nz b">/suggest-teammates</code>。</p><h2 id="7ebf" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">加入</h2><p id="8b10" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">当用户加入时，我们将使用参数<code class="du ol om on nz b">user</code>向服务器创建一个POST请求。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="668f" class="lh jp hi nz b fi od oe l of og">r.POST("/join", func(c *gin.Context) {</span><span id="c8f4" class="lh jp hi nz b fi oh oe l of og">   usr := c.Query("user")<br/>   fmt.Println(conn.UpsertVertex("User", usr, map[string]string{"user": usr}))</span><span id="2a0c" class="lh jp hi nz b fi oh oe l of og">})</span></pre><p id="9f9c" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">为了验证端点是否工作，在curl中创建一个POST请求。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="f723" class="lh jp hi nz b fi od oe l of og">curl -X POST <!-- -->http://0.0.0.0:8080/join?<!-- -->user=Username</span></pre><p id="f44b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">当运行这个命令时，一个新的用户名顶点将被插入到数据库中。</p><h2 id="f055" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">添加利息</h2><p id="5e09" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated"><code class="du ol om on nz b">/add-interest</code>端点的功能类似。这一次，它将向上插入两个顶点，用户和兴趣，并向上插入一条连接这两个顶点的边。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="84b7" class="lh jp hi nz b fi od oe l of og">r.POST("/add-interest", func(c *gin.Context) {</span><span id="a8de" class="lh jp hi nz b fi oh oe l of og">   usr := c.Query("user")<br/>   interest := c.Query("interest")</span><span id="5e80" class="lh jp hi nz b fi oh oe l of og">   fmt.Println(conn.UpsertVertex("User", usr, map[string]string{"user": usr}))</span><span id="a8dc" class="lh jp hi nz b fi oh oe l of og">   fmt.Println(conn.UpsertVertex("Interest", interest, map[string]string{"interest": interest}))</span><span id="64ef" class="lh jp hi nz b fi oh oe l of og">   fmt.Println(conn.UpsertEdge("User", usr, "USER_INTEREST", "Interest", interest, nil))</span><span id="9e4a" class="lh jp hi nz b fi oh oe l of og">})</span></pre><p id="2a95" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">POST请求将输入两个参数:用户和兴趣。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="dbf1" class="lh jp hi nz b fi od oe l of og">curl -X POST "<!-- -->http://0.0.0.0:8080/add-interest?<!-- -->user=Username&amp;interest=Graph"</span></pre><p id="4a2f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">太好了！这会创建一个新的<code class="du ol om on nz b">Graph</code>顶点，并将其连接到之前创建的<code class="du ol om on nz b">Username</code>顶点。</p><h2 id="e4e9" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">添加语言</h2><p id="fa16" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">API将发出的最后一个POST请求是<code class="du ol om on nz b">/add-lang</code>请求。这将接受三个参数:edge属性的用户、语言和体验。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="d266" class="lh jp hi nz b fi od oe l of og">r.POST("/add-lang", func(c *gin.Context) {</span><span id="6dbe" class="lh jp hi nz b fi oh oe l of og">   usr := c.Query("user")<br/>   lang := c.Query("lang")<br/>   exp := c.Query("experience")</span><span id="3d48" class="lh jp hi nz b fi oh oe l of og">   fmt.Println(conn.UpsertVertex("User", usr, map[string]string{"user": usr}))</span><span id="8cea" class="lh jp hi nz b fi oh oe l of og">   fmt.Println(conn.UpsertVertex("Language", lang, map[string]string{"language": lang}))</span><span id="1031" class="lh jp hi nz b fi oh oe l of og">   fmt.Println(conn.UpsertEdge("User", usr, "USER_LANGUAGE", "Language", lang, map[string]string{"experience": exp}))</span><span id="39b9" class="lh jp hi nz b fi oh oe l of og">})</span></pre><p id="bcba" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">再次使用curl查询这个端点。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="3831" class="lh jp hi nz b fi od oe l of og">curl -X POST "http://0.0.0.0:8080/add-lang?user=Username&amp;lang=Go&amp;experience=beginner"</span></pre><h2 id="faca" class="lh jp hi bd jq li lj lk ju ll lm ln jy kp lo lp ka kt lq lr kc kx ls lt ke lu bi translated">建议队友</h2><p id="d555" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">最后，我们可以运行GET请求来运行我们在第一步中编写的查询！</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="d038" class="lh jp hi nz b fi od oe l of og">r.GET("/suggest-teammates", func(c *gin.Context) {</span><span id="ea12" class="lh jp hi nz b fi oh oe l of og">   usr := c.Query("user")</span><span id="f812" class="lh jp hi nz b fi oh oe l of og">   c.JSON(http.StatusOK, gin.H{<br/>      "results": conn.RunInstalledQuery("suggestTeammates", map[string]string{"username": usr}),<br/>   })</span><span id="f99f" class="lh jp hi nz b fi oh oe l of og">})</span></pre><p id="e1e3" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">用curl测试端点。</p><pre class="iy iz ja jb fd ny nz oa ob aw oc bi"><span id="9084" class="lh jp hi nz b fi od oe l of og">curl -X GET http://0.0.0.0:8080/suggest-teammates?user=Username</span></pre><h1 id="d936" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">第四部分:后续步骤和资源</h1><p id="c90c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">恭喜你。您现在已经在Go querying TigerGraph中创建了一个web服务器！点击查看完整代码<a class="ae jn" href="https://github.com/GenericP3rson/TigerGoGinExample" rel="noopener ugc nofollow" target="_blank">。</a></p><div class="mw mx ez fb my mz"><a href="https://github.com/GenericP3rson/TigerGoGinExample" rel="noopener  ugc nofollow" target="_blank"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">GitHub-generic 3 rson/tigerginexample</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">github.com</p></div></div><div class="ni l"><div class="op l nk nl nm ni nn jh mz"/></div></div></a></div><p id="2a48" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，您将需要构建一个网站或其他东西来使用您创建的端点。此外，您可以添加更多端点来查询更多细节，以形成更复杂的队友建议算法。</p><p id="259a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果你想有任何问题或想在其他很酷的TigerGraph项目上工作，请随时加入TigerGraph Discord！</p><div class="mw mx ez fb my mz"><a href="https://discord.gg/tigergraph" rel="noopener  ugc nofollow" target="_blank"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">加入TigerGraph Discord服务器！</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">查看Discord上的TigerGraph社区-与1，287名其他成员一起玩，享受免费的语音和文本聊天。</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">不和谐. gg</p></div></div><div class="ni l"><div class="oq l nk nl nm ni nn jh mz"/></div></div></a></div><blockquote class="ml mm mn"><p id="ee06" class="kg kh mo ki b kj lc ij kl km ld im ko mp le kr ks mq lf kv kw mr lg kz la lb hb bi translated">注:除特别注明外，所有图片均由作者创作。</p></blockquote></div></div>    
</body>
</html>