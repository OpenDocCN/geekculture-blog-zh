<html>
<head>
<title>Bit Manipulation with examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带示例的位操作</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/bit-manipulation-with-examples-fc44ae618da8?source=collection_archive---------17-----------------------#2021-07-27">https://medium.com/geekculture/bit-manipulation-with-examples-fc44ae618da8?source=collection_archive---------17-----------------------#2021-07-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c573" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章将带你了解技术面试中最害怕的话题之一，那就是钻头操纵。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/fb0fcc60dbe500e27b6a53c867da4afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-bCVZZQa7JYvOTzg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@mlarosa97?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Michael LaRosa</a> on <a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8a9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我假设你知道二进制数的基础知识，从二进制到十进制的转换和位移，如果没有，请参考我链接的一些资料。</p><ol class=""><li id="24fd" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">理解算术移位。</li><li id="7aeb" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">理解逻辑转换。(示例)</li></ol><p id="bf4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jt" href="https://youtu.be/nSKT6Ph8u9Q" rel="noopener ugc nofollow" target="_blank">https://youtu.be/nSKT6Ph8u9Q</a></p><p id="dc8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.(从LSB开始计数)提取第I位执行<code class="du ki kj kk kl b">(NUMBER &amp; (i &lt;&lt; 1))</code></p><p id="0e97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.(从LSB开始计数)将第I位设置为1执行<code class="du ki kj kk kl b">(NUMBER | (i &lt;&lt; 1))</code></p><p id="092f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.使用<code class="du ki kj kk kl b">NUMBER &amp; ~(1&lt;&lt;i)</code>清除ith位</p><p id="b5e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.使用<code class="du ki kj kk kl b">(1&lt;&lt;i)-1 &amp; NUMBER</code>清除MSB至ith的所有位</p><p id="7bbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.使用<code class="du ki kj kk kl b">(-1&lt;&lt;(i + 1)) &amp; NUMBER</code>清除从第I位到LSB的所有位</p><p id="af45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.使用<code class="du ki kj kk kl b">~(1&lt;&lt;i) &amp; NUMBER | (value &lt;&lt; i)</code>更新特定位</p><p id="8333" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.了解XOR运算符(示例)<a class="ae jt" href="https://www.khanacademy.org/computing/computer-science/cryptography/ciphers/a/xor-bitwise-operation" rel="noopener ugc nofollow" target="_blank">https://www . khanacademy . org/computing/computer-science/cryptography/ciphers/a/XOR-bitwise-operation</a></p><p id="c7c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，现在我们清楚了基础知识，让我们从Python中位操作的第一个问题开始。</p><h2 id="8291" class="km kn hi bd ko kp kq kr ks kt ku kv kw iq kx ky kz iu la lb lc iy ld le lf lg bi translated">示例1:编写一个python代码来查找设置为1的位数</h2><p id="33da" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq lj is it iu lk iw ix iy ll ja jb jc hb bi translated">直觉:</p><p id="348e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是右移</strong>:从LSB中移除一位，并在MSB中加一个零。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lm"><img src="../Images/8ce3d26d49fef185f1d653ba4f2ae21d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*sGWWTssFVw_QKn_oVNgmsg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx"><a class="ae jt" href="https://en.wikipedia.org/wiki/Logical_shift" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Logical_shift</a></figcaption></figure><p id="7b42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，如果我们对输入长度执行逻辑右移，我们会得到以下结果，我们可以观察到LSB是如何被替换的</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ln"><img src="../Images/9b84b7258242abd51b530be10f3b0467.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*3-ttSNnNH4AOV-Ag_dS_UQ.png"/></div></figure><p id="52e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们对这些结果执行按位And运算，我们会得到以下结果，因为我们可以观察到，在这种情况下，提取了LSB</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/43f6d60b9ba73fc58bc103a32c1de48e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bBs8PKGMuFTn1--ZlBGVAg.png"/></div></div></figure><p id="7314" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">算法:如果我们观察右移和按位and的模式，我们得出一个结论，我们可以用这两个运算符来知道该位是0还是1。因此，为了计算位数，首先定义一个名为<code class="du ki kj kk kl b">num_bit</code>的int变量，将其设置为0，直到输入<code class="du ki kj kk kl b">x</code>存在，对x执行按位and，并将结果添加到<code class="du ki kj kk kl b">num_bits</code>，然后执行右移。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/2274529a5e5e8b65eac382ee70951850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*Hm7RGbwDkFJTgVY0pWzBlw.png"/></div></div></figure><p id="0f34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:空间O(1)，时间O(n)，其中n是输入的长度</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="c610" class="km kn hi kl b fi lu lv l lw lx">def num_bits(num: int) -&gt; int:<br/>    num_bit = 0<br/>    while num:<br/>        num_bit += num &amp; 1<br/>        num = num &gt;&gt; 1</span><span id="3ce5" class="km kn hi kl b fi ly lv l lw lx">return num_bit</span></pre><p id="ed3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例2:返回二进制数中最右边的1(从LSB开始返回1)</strong></p><p id="b7c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于101101，返回000001</p><p id="b554" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于101010，返回000010</p><p id="a70a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于010000返回010000</p><p id="98b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">直觉</strong>:<code class="du ki kj kk kl b">number -1</code>做什么，考虑下面的例子在每个例子中，当我们用1减去整数时，最右边的位1变成0</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lz"><img src="../Images/fd4fad4d78e570406807548d458ffedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*gv5nB_19w-TLltVUDKa7MQ.png"/></div></figure><p id="c711" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们对这些数字进行按位And运算呢？正如我们在下面的例子中所看到的，这将返回我们输入的所有数字，除了最后一个1是零。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ma"><img src="../Images/34066662655d30dd46d1c31a956e1a6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*fHRZNzo-zgaUeprmOpV9ew.png"/></div></figure><p id="f848" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我们所做的是用一个数减去1，然后对它进行按位and运算。现在我们想要的是得到最右边的1。</p><p id="35a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此之前，仔细考虑XOR真值表。如果两个值相等，答案是0，如果两个值不相等，答案是1。</p><p id="2cdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，如果我们将从<code class="du ki kj kk kl b">NUMBER &amp; (NUMBER -1)</code>获得的值与我们的初始数字进行异或运算(从<code class="du ki kj kk kl b">NUMBER &amp; (NUMBER — 1)</code>获得的值是最右边的1翻转后的值)。因此，异或这将给出我们需要的结果</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/061f10dda9c68c5c2455451266415531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PktUWJRe34OWuPg8Tkv_2Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx"><a class="ae jt" href="https://www.researchgate.net/figure/Truth-table-of-the-logical-operator-XOR_tbl1_326006336" rel="noopener ugc nofollow" target="_blank">https://www.researchgate.net/figure/Truth-table-of-the-logical-operator-XOR_tbl1_326006336</a></figcaption></figure><p id="3626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">实时编码。</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="63b9" class="km kn hi kl b fi lu lv l lw lx">def rightmost_one(num):<br/>    return num ^ (num &amp; (num - 1))</span></pre><h2 id="5157" class="km kn hi bd ko kp kq kr ks kt ku kv kw iq kx ky kz iu la lb lc iy ld le lf lg bi translated"><strong class="ak">例3:计算一个词的奇偶性。</strong></h2><p id="b65a" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq lj is it iu lk iw ix iy ll ja jb jc hb bi translated">如果一个二进制数中一的个数是奇数，则该数的奇偶性为1，否则为0。</p><p id="583e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">101101101的奇偶校验为0</p><p id="7d63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">111101101的奇偶校验为1</p><p id="8dec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将给出三个例子，每个例子的时间复杂度都有所提高。</p><p id="b0a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">解决方案1: </strong></p><p id="7f77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直觉1 :我们已经知道执行<code class="du ki kj kk kl b">NUMBER</code>和1的按位AND运算会得到LSB。在下面的例子中，我执行了<code class="du ki kj kk kl b">NUMBER &amp; 1</code>，它给出了LSB。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/96e8849aa48a63ea6cef834838abd4c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ilf4xe3pnLmgSvtzEgzqw.png"/></div></div></figure><p id="513a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在考虑数字451，在纸上写下它的位，将它的值与零进行异或运算，记住结果，对MSB之前的位执行相同的操作。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/5ad93e66d74d883f85ca57374a22b285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MP5N1lUGUteXiMaGbnEmqA.png"/></div></div></figure><p id="0a59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们观察到，如果此时你有类似<em class="me">的问题，“我们如何在没有数组或for循环的情况下迭代二进制数呢？”</em> <strong class="ih hj"> <em class="me">简单使用右移运算符。</em> </strong></p><p id="7a0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:我们将结果取为0，因为由于XOR的特性，输入中的1将相互抵消，如果有奇数个1，则该1与0的XOR将得到1。</p><p id="734c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:时间O(n): n是输入的长度。</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="2e6f" class="km kn hi kl b fi lu lv l lw lx">def find_parity_one(num):<br/>    result = 0<br/>what to write and what not to.ios the Question     while num:<br/>        result = result ^ (num &amp; 1)<br/>        num = num &gt;&gt; 1<br/>    return result</span></pre><p id="09fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">解决方案2 </strong></p><p id="0af5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直觉:正如我们在前面的例子中观察到的，当我们用1减去一个二进制数时，我们得到的是除了它后面的1之外的数。同样，如果我们对这个结果和初始数字进行按位AND运算会怎么样呢？</p><p id="7df5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ki kj kk kl b">NUMBER &amp; (NUMBER-1)</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mf"><img src="../Images/76e235a219390d6c80580b762289e3b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RoYRgrbiQEAsdi5vRdBRMw.png"/></div></div></figure><p id="5620" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记住这个属性，如果我们取一个初始值为0的变量，然后执行按位XOR运算，直到输入中有1，我们会得到我们的答案。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mg"><img src="../Images/574f12915f43b22036b0bba1182bb4d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cU1l7HZmw9G7xo6Szrf4-w.png"/></div></div></figure><p id="1c94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，太棒了，现在我们可以写一个非常有效的算法，只迭代输入中的1。</p><p id="7bfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:我们可以观察到时间复杂度大大降低</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="a107" class="km kn hi kl b fi lu lv l lw lx">def find_parity_two(num):<br/>    result = 0<br/>    while num:<br/>        result = result ^ 1<br/>        num = num &amp; (num - 1)<br/>    return result</span></pre><p id="6ff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">方案三</strong></p><p id="c64f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直觉3:让我们在这里利用异或的基本性质，考虑我们有一个数字abcxyz比</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/70f89452a268a8537ead543a61058a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L9JLaxF6RoGHNCA1kqc5YA.png"/></div></div></figure><p id="f4ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑例子</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mi"><img src="../Images/d040677a694f9ad69283d0702a619cbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYJ10QP6VU04WBrZaqlvCg.png"/></div></div></figure><p id="9724" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们有一个8位输入，如果我们想计算这个数的奇偶性，我们需要做的就是执行前4位与后4位的按位异或，然后前2位与后2位的按位异或，依此类推。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mj"><img src="../Images/7d79148a6ee668a505c118439a806fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7awoWaRYTrrnDx8WZDELg.png"/></div></div></figure><p id="213e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="9ffb" class="km kn hi kl b fi lu lv l lw lx">def find_parity_three(num):<br/>    # my system is 64-bit so i will start with 32<br/>    val = 64<br/>    for _ in range(6):<br/>        num = num ^ val<br/>        val //= 2<br/>    <br/>    return num &amp; 0x1</span></pre><p id="05d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例4:给定两个整数X和Y，找出将整数X转换成Y所需的位数。</strong></p><p id="ea8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直觉:如果我们理解异或的性质，这是一个相对简单的问题。</p><p id="a56f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑这个例子</p><p id="1084" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">x = 1011010</p><p id="4160" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">y = 1001000</p><p id="9bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要将整数x转换为y，我们需要匹配为1的位。</p><p id="fada" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从下面的例子中，我们观察到转换需要两位</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mk"><img src="../Images/f758959443241b29e9307a7099690ae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XcpVQ7dLnz4bwDPSfQbBQ.png"/></div></div></figure><p id="9c0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们对“X”和“Y”进行异或运算，我们将只得到那些不同的位。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/5ad12b1056d4e44d33258efb5ecb3828.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vgC5299hrtgcog8JrmCNgQ.png"/></div></div></figure><p id="8de1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们可以使用第一个例子中使用的算法来计算位数。</p><p id="a843" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="aaa3" class="km kn hi kl b fi lu lv l lw lx">def no_of_bits(X,Y):<br/>    X_XOR_Y = X ^ Y <br/>    result = 0<br/>    while X_XOR_Y:<br/>        result += X_XOR_Y &amp; 1<br/>        X_XOR_Y &gt;&gt;=1<br/>    return result</span></pre><p id="74f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例5:给你一个整数输入和两个位置，你的目标是交换这些位置。</strong></p><p id="4da7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入:编号，第I个位置，第j个位置</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/b5709e860a69a449a434935e0f75a75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QXKlTwE4mtiJKVkolnbAvQ.png"/></div></div></figure><p id="1206" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">交换位置5和1</p><p id="dc9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直觉:要交换这两个位，我们需要首先找到给定位置的位的值，我们可以用各种方法来实现，但我将展示两种简洁的方法，一种使用左移，另一种使用右移。</p><blockquote class="mn mo mp"><p id="6bb1" class="if ig me ih b ii ij ik il im in io ip mq ir is it mr iv iw ix ms iz ja jb jc hb bi translated">使用右移位。</p></blockquote><p id="773d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将输入num右移第I个位置，并执行按位and，类似于第j个位置。<code class="du ki kj kk kl b">(NUMBER &gt;&gt; i) &amp; 1</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mt"><img src="../Images/3d923afa2a110c5a1d2b06a1de02b563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRW2FXL1jGZuY6BWRYt5bA.png"/></div></div></figure><p id="1b06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样我们就可以提取位置。</p><blockquote class="mn mo mp"><p id="9072" class="if ig me ih b ii ij ik il im in io ip mq ir is it mr iv iw ix ms iz ja jb jc hb bi translated">使用左移</p></blockquote><p id="bdb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将1左移“I”并与num执行与“j”相似的按位and。<code class="du ki kj kk kl b">NUMBER &amp; (1 &lt;&lt; i)</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/61265fdeee138c362c4b4aab7b8c3d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gkIFUBs9azIdKXZGuUTnsg.png"/></div></div></figure><p id="990f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经提取了这些位，我们要做的就是翻转这些位，只有当这些位不同时我们才会继续，否则返回输入的num。</p><p id="0112" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果位不同，我们将使用XOR和OR的属性来生成位掩码。</p><p id="de16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用左移中演示的方法，我们可以将1放在“I”和“j”的位置。如果我们执行按位或运算，我们将得到第I个和第j个位置的掩码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/f3a9007f8e6fad5ca3e153c24924c59b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sh84I-U1piMpPGlabyxJmg.png"/></div></div></figure><p id="d513" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对num和掩码执行按位XOR运算，我们将通过翻转位得到我们需要的答案。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/ebe735eb805e6eb1986cd5783e40986d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CG2B_odlTV5c1MdySJxjhQ.png"/></div></div></figure><p id="e27e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">密码</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="ded7" class="km kn hi kl b fi lu lv l lw lx">def flipping_the_bits(num,i,j):<br/>    # using right shifting<br/>    if (num &gt;&gt; i) &amp; 1 != (num &gt;&gt; j) &amp; 1:<br/>        bitmask = (1 &lt;&lt; i) | (1 &lt;&lt; j)<br/>        num = num ^ bitmask<br/>    return nu<strong class="kl hj">m</strong></span></pre><p id="9527" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例6:给定输入的反转位</strong></p><p id="1f87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">10101010 -&gt; 01010101</p><p id="e7bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">01101010 -&gt; 01010110</p><p id="2573" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">直觉和算法:</strong></p><p id="cbd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">EOP的问题是64位，而leetcode是32位，但为了简单起见，我们将使用6位。</p><ol class=""><li id="4462" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">我们将使用右移位来遍历这些位，并执行按位and来提取这些位。<code class="du ki kj kk kl b">(NUMBER &gt;&gt; n) &amp; 1</code></li><li id="dca4" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">一旦该位被隔离，我们将迭代地用幂左移该位，并执行按位或运算。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/25220df353ee04a88f6acefb97712efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rmr-dC1Be8rmlhXd8leLGw.png"/></div></div></figure><p id="ba72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:</p><pre class="je jf jg jh fd lq kl lr ls aw lt bi"><span id="ff0e" class="km kn hi kl b fi lu lv l lw lx">def reverse_bits_one(num):<br/>    power,res = 32,0<br/>    while num:<br/>        res += (num &amp; 1) &lt;&lt; power <br/>        num &gt;&gt;= 1<br/>        power -= 1<br/>    return res</span></pre></div></div>    
</body>
</html>