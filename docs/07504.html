<html>
<head>
<title>Python’s best visualization library — Seaborn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python最好的可视化库——Seaborn</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/pythons-top-visualization-library-seaborn-80758d336c04?source=collection_archive---------19-----------------------#2021-09-20">https://medium.com/geekculture/pythons-top-visualization-library-seaborn-80758d336c04?source=collection_archive---------19-----------------------#2021-09-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ed64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python有许多方法来创建漂亮的视觉效果，但是用漂亮的图形来探索数据的最简单和最有效的库必须是Seaborn。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/2898eda279aaa44ba87f24b7e551249c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*_TF2WRGa8KA0g724BNka3Q.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">pairplot on the titanic dataset</figcaption></figure><p id="d0af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想快速开始，这里有一份来自Datacamp的<a class="ae jp" href="http://datacamp-community-prod.s3.amazonaws.com/263130e2-2c92-4348-a356-9ed9b5034247" rel="noopener ugc nofollow" target="_blank"> Seaborn备忘单</a>:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/8ea7135882f4ca14f45b8d0f8fc45acd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQI7azA_vsIjvgSYZ1X2_A.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">Source D<a class="ae jp" href="http://datacamp-community-prod.s3.amazonaws.com/263130e2-2c92-4348-a356-9ed9b5034247" rel="noopener ugc nofollow" target="_blank">atacamp</a></figcaption></figure><p id="7763" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们在备忘单中看到的，根据我们的数据类型和我们试图分析的内容，我们可以创建图表的“类别”:</p><ul class=""><li id="7de5" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated"><strong class="ih hj">回归</strong> &amp; <strong class="ih hj">线性</strong> — regplot，lineplot，lmplot</li><li id="e248" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">分布</strong> —分布图，历史图</li><li id="8b73" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">分类</strong>—柱状图、箱线图、紫线图、散点图、计数图</li><li id="23e7" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">矩阵</strong> —热点图、聚类图</li></ul><p id="e95e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从每个部分选择一些图表，看看我们是否能从我们的2个数据集找到任何有趣的分析:</p><ul class=""><li id="0ed4" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated"><strong class="ih hj">泰坦尼克号</strong>——泰坦尼克号上的乘客信息，关注幸存者</li><li id="95ac" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">小费</strong> —关注小费金额的餐厅顾客信息</li></ul><p id="0e84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们安装seaborn，并使用所需的库来设置我们的Jupyter笔记本</p><h1 id="8f63" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated"><strong class="ak">设置</strong></h1><ol class=""><li id="a25d" class="jv jw hi ih b ii lh im li iq lj iu lk iy ll jc lm kb kc kd bi translated">通过Windows命令行或Anaconda shell安装Seaborn</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ln"><img src="../Images/2245946efe11850ceda615c522d79caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*BuQ-BKG2Pca0HPe-OHYIcQ.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Command line or Anaconda Shell</figcaption></figure><p id="c6e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.加载我们的Jupiter笔记本——导入熊猫、seaborn库和我们的两个示例数据集</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="f777" class="lt kk hi lp b fi lu lv l lw lx">import seaborn as sns<br/>import pandas as pd</span><span id="288a" class="lt kk hi lp b fi ly lv l lw lx">titanic = sns.load_dataset("titanic")<br/>tips = sns.load_dataset("tips")</span></pre><p id="0ff9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查我们数据的前5行</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lz"><img src="../Images/f4c8529fd908af5e8c8e7fe0c1c78378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jYG_6pQPsF83D7DgWj2Y0w.png"/></div></div></figure><h2 id="3196" class="lt kk hi bd kl ma mb mc kp md me mf kt iq mg mh kx iu mi mj lb iy mk ml lf mm bi translated">Seaborn地块</h2><p id="ea43" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">对于我们的大多数图，所需的参数通常为以下格式:</p><blockquote class="mq mr ms"><p id="fa8d" class="if ig mt ih b ii ij ik il im in io ip mu ir is it mv iv iw ix mw iz ja jb jc hb bi translated"><strong class="ih hj"> sns。</strong> plottype( <strong class="ih hj">数据</strong>=数据帧，<strong class="ih hj"> x = </strong>列名，<strong class="ih hj"> y = </strong>列名)</p></blockquote><h1 id="423e" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">回归和线形图</h1><h2 id="cc70" class="lt kk hi bd kl ma mb mc kp md me mf kt iq mg mh kx iu mi mj lb iy mk ml lf mm bi translated">regplot</h2><p id="9703" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">我们从回归图(regplot)开始，分析<strong class="ih hj">小费</strong>数据，看看小费数量和账单金额之间有什么关联</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="0afd" class="lt kk hi lp b fi lu lv l lw lx">sns.<strong class="lp hj">regplot</strong>(data = tips, x = "total_bill",y = "tip" )</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es mx"><img src="../Images/538c272313f05402b85160727133189b.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*jNyxHPlzUR1IMbRQapT70w.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx">Regression plot (regplot)</figcaption></figure><p id="13d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<strong class="ih hj"> regplot </strong>中，我们注意到这里确实存在相关性，账单总额越大，小费也就越多，但是如果我们想要包含第三个变量，reg plot<strong class="ih hj">reg plot</strong>不能给我们任何进一步的细分。</p><p id="ced8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，让我们尝试<strong class="ih hj"> lmplot </strong>()并添加一个“吸烟者”作为<strong class="ih hj">色调</strong>，这将在一个轴上创建plot 2回归图</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="2594" class="lt kk hi lp b fi lu lv l lw lx">sns.<strong class="lp hj">lmplot</strong>(data = tips, x = “total_bill”,y = “tip” , hue = “smoker”)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es my"><img src="../Images/55dc0c095176231681c75cba0fa4ae3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*oFFfRztqW0d74FBHWD6OSA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Regression plot (lmplot)</figcaption></figure><p id="e45f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太棒了。我们可以看到，随着账单的增加，不吸烟者(与吸烟者相比)给的小费更多</p><h1 id="12cb" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">分配</h1><p id="0b9b" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">对于分布图或直方图，我们只需要一个<strong class="ih hj"> x值</strong>，它将被分桶(或装箱)到设定的范围并进行计数</p><p id="d2d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">显示屏</strong></p><p id="663d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个很好的分布图是<strong class="ih hj">显示图</strong>，在这里我们可以分析泰坦尼克号上的“年龄”分布。然后我们可以把“性别”作为一种<strong class="ih hj">色调</strong>包括进来，看看男女年龄的区别</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="fbf6" class="lt kk hi lp b fi lu lv l lw lx">sns.<strong class="lp hj">displot</strong>(data = titanic , x = "age" , hue = "sex", hue_order = ['female', 'male'])</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mz"><img src="../Images/639fc8a245f1b53a2882ef1ef7469929.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*zJ-dqiDfJWvOgvOhNwnP8Q.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Distribution plot (displot)</figcaption></figure><p id="db14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">显示</strong>显示船上大多数人的年龄在18-35岁之间，通过<strong class="ih hj">色调</strong>我们可以看到船上有更多的男性(相对于女性)和更多的老年男性</p><p id="c774" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还改变了这里的<strong class="ih hj">色调顺序</strong>，将女性颜色放在前面，男性放在第二位(试一下没有<strong class="ih hj">色调顺序</strong>的情况，看看默认顺序)</p><h2 id="5bd4" class="lt kk hi bd kl ma mb mc kp md me mf kt iq mg mh kx iu mi mj lb iy mk ml lf mm bi translated"><strong class="ak">明确的</strong></h2><p id="fc8d" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">对于分类图，我们有很多，所以让我们展示一些我经常使用的关键点</p><h2 id="1479" class="lt kk hi bd kl ma mb mc kp md me mf kt iq mg mh kx iu mi mj lb iy mk ml lf mm bi translated">箱线图</h2><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="c0fe" class="lt kk hi lp b fi lu lv l lw lx">sns.boxplot(data = titanic, x = "sex", y= "age")</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es na"><img src="../Images/f7371de93ecc04f55fd84b213261d6d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*KuB6K2I_KH7ElqqCFQnXhw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Categorical (boxplot)</figcaption></figure><p id="d89b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">箱线图显示了一些与显示图类似的信息，但是我们也可以看到一些男性年龄(大约68岁以上)的异常值</p><h2 id="ff9a" class="lt kk hi bd kl ma mb mc kp md me mf kt iq mg mh kx iu mi mj lb iy mk ml lf mm bi translated">紫罗兰花</h2><p id="e8ce" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">让我们看看能否用我最喜欢的一个情节——小提琴情节——来增强盒子情节</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="e24f" class="lt kk hi lp b fi lu lv l lw lx">sns.violinplot(data = titanic, x = "sex", y="age")</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nb"><img src="../Images/98ff380471c5ec7ca7be90118e5906a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*w2boiL3JrAgFeI-bV4aqDA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Categorical (violinplot)</figcaption></figure><p id="bb46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧！现在我们可以看到一些年龄的密度，但是如果我们添加另一列“幸存”作为<strong class="ih hj">色调</strong>会怎么样</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="2ba5" class="lt kk hi lp b fi lu lv l lw lx">sns.violinplot(data = titanic, x = “sex”, y=”age”,hue = “survived”, split=True)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nc"><img src="../Images/48f0557d600345dd9c24219badc66682.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*WiiNFVJzRxDt1mysvZ_lvw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Categorical (violinplot with hue and split)</figcaption></figure><p id="5ce8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，这在一张图中是相当多的，让我们来分解它，我们将“幸存”添加到<strong class="ih hj">色调</strong>和<strong class="ih hj">分割</strong> (split = True)图的中间，以便更好地进行比较。</p><p id="e52b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有很多东西需要分析，但快速浏览一下就会发现，年轻的雄性看起来有更高的存活率</p><h1 id="d467" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">[数]矩阵</h1><h2 id="4ba4" class="lt kk hi bd kl ma mb mc kp md me mf kt iq mg mh kx iu mi mj lb iy mk ml lf mm bi translated">热图</h2><p id="1311" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">我在矩阵列表中最有用的图是<strong class="ih hj">热图</strong>，特别是在查看相关矩阵时。</p><p id="1bc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong>:我们可以使用<strong class="ih hj"> corr </strong>()快速创建一个关联矩阵</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="41b6" class="lt kk hi lp b fi lu lv l lw lx">titanic.corr().head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nd"><img src="../Images/6bbfc6536a71fa81652f5c0bb676b954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*mehsl7JK0RpOmaKQePmZzw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Correlation matrix of titanic dataset</figcaption></figure><p id="7c50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在可以创建这些相关性的热图</p><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="f013" class="lt kk hi lp b fi lu lv l lw lx">sns.heatmap(data = titanic.corr())</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ne"><img src="../Images/c0789c7ba13ea6801cd14fe1e2c31829.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*X_3ItZLuB9b5wFe02CS63A.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Matrix (heatmap)</figcaption></figure><p id="81dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这看起来很好，但我们可以做得更好:</p><ul class=""><li id="8dc2" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated">将我们的值设置在0 -&gt;1之间，这样我们可以更好地看到最小值和最大值(<strong class="ih hj"> vmin </strong> / <strong class="ih hj"> vmax </strong>)</li><li id="9e3d" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">注释(<strong class="ih hj">不能</strong>)块内的值</li><li id="2a0e" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">改变调色板看颜色变化更好(<strong class="ih hj"> cmap </strong>)，可以在<a class="ae jp" href="https://seaborn.pydata.org/tutorial/color_palettes.html" rel="noopener ugc nofollow" target="_blank"> Seaborn网站</a>上找到不同的调色板</li></ul><pre class="je jf jg jh fd lo lp lq lr aw ls bi"><span id="d31d" class="lt kk hi lp b fi lu lv l lw lx">sns.heatmap(data = titanic.corr(), vmin = -1, vmax = 1, annot=True , cmap = "Spectral")</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nf"><img src="../Images/c8e374a854539d4824379f601135ebdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*znLJPE8VorzhW5a19fIVwA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Matrix (heatmap with annot and cmap)</figcaption></figure><p id="0662" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这张热图中我们看到了一些微小的正相关和负相关，但一些关键的是单独的<strong class="ih hj">和<strong class="ih hj">成年雄性</strong>之间的<strong class="ih hj">正相关</strong>和<strong class="ih hj">成年雄性</strong>和<strong class="ih hj">幸存</strong>之间的<strong class="ih hj">负相关</strong></strong></p><h1 id="2cc8" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">结论</h1><p id="a51d" class="pw-post-body-paragraph if ig hi ih b ii lh ik il im li io ip iq mn is it iu mo iw ix iy mp ja jb jc hb bi translated">我们只强调了Seaborn中可用的几个情节，但希望本文中的示例将为您提供一个良好的基础。</p><p id="4281" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你对Seaborn感到更舒服了，看看他们的<a class="ae jp" href="https://seaborn.pydata.org/examples/index.html" rel="noopener ugc nofollow" target="_blank">画廊</a>和教程部分，更好地定制你的<a class="ae jp" href="https://seaborn.pydata.org/tutorial.html" rel="noopener ugc nofollow" target="_blank">图</a></p><p id="9ed4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有代码和数据都可以在我们的<a class="ae jp" href="https://github.com/Slyth3/Python-vs-R/tree/main/Python" rel="noopener ugc nofollow" target="_blank"> github </a>上找到</p></div></div>    
</body>
</html>