<html>
<head>
<title>Caffeinate with Tasker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tasker的咖啡因</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/caffeinate-with-tasker-301bed100e60?source=collection_archive---------18-----------------------#2021-09-10">https://medium.com/geekculture/caffeinate-with-tasker-301bed100e60?source=collection_archive---------18-----------------------#2021-09-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d54a95a8200882ae3f8930a679ab7fd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xB_hn8wUVKf2Kq1ggZSAIQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photos by <a class="ae iu" href="https://unsplash.com/@rmrdnl?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Daniel Romero</a> and <a class="ae iu" href="https://unsplash.com/@nate_dumlao?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Nathan Dumlao</a> on <a class="ae iu" href="https://unsplash.com/s/photos/android?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ba46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我把手机的超时设置为30秒。通常，这足够了，但有时我需要让我的屏幕开得更久。</p><p id="1954" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Play Store上有几个名为<a class="ae iu" href="https://play.google.com/store/apps/details?id=xyz.omnicron.caffeinate" rel="noopener ugc nofollow" target="_blank"> Caffeinate </a>的应用程序可以做到这一点。不幸的是，自从Android 11以来，我使用的那个已经不再适合我了，所以我用Tasker做了一个替代方案。今天，我将展示我是如何做到这一点的。</p><h1 id="8d41" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">行为</h1><p id="01d5" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">应用程序通常保持屏幕打开一段时间，这段时间由计时器定义。时间到后，屏幕关闭。第一次点击快速设置图标会启动计时器，随后的点击会增加计时器。</p><p id="bbf8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于Tasker，我更喜欢不同的方法。每点击一次快速设置图块，显示超时就会增加。默认超时是30秒，其他步骤是:</p><ul class=""><li id="ed3e" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">第一次轻拍:1分钟。</li><li id="d42d" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">第二次敲击:5分钟。</li><li id="931a" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">第三次敲击:10分钟。</li><li id="b555" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">第四拍:5小时。</li><li id="4921" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">第五次点击:默认超时。</li></ul><p id="f48d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">更新:</strong>你可以在<a class="ae iu" href="https://pirasalbe.medium.com/caffeinate-with-tasker-improved-version-f7f20c918b05" rel="noopener">这个故事</a>中找到一个可以随任务个性化的改进版本的下载链接。它允许定制默认超时和每一步。</p><p id="bd8e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">原文:</strong>这里可以下载项目<a class="ae iu" href="https://taskernet.com/shares/?user=AS35m8nzU8Z2OxB1WGqHbYHDLajdlq0DG%2B8k8f7L2XfQM3eHbHEAthA2xNvalA2%2FZaJvRZj2roE7ow%3D%3D&amp;id=Project%3ACaffeinate" rel="noopener ugc nofollow" target="_blank">。您可以根据需要随意调整步骤和默认超时。</a></p><h1 id="7fc8" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第一步。任务</h1><p id="8e56" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">该项目有以下两项任务。</p><h2 id="25b6" class="lk ju hi bd jv ll lm ln jz lo lp lq kd jg lr ls kh jk lt lu kl jo lv lw kp lx bi translated">咖啡因</h2><p id="0db0" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">此任务会增加显示超时。它使用以下变量:</p><ul class=""><li id="7c99" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated"><strong class="ix hj"> %caffeinateState </strong>:定义功能是否激活。它的值或者是<strong class="ix hj">真</strong>或者是<strong class="ix hj">假</strong>。</li><li id="f9d2" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><strong class="ix hj"> %caffeinateDefault </strong>:默认显示超时。这是我手动定义的。</li><li id="b45a" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><strong class="ix hj"> %DTOUT </strong>:以秒为单位的<a class="ae iu" href="https://tasker.joaoapps.com/userguide/en/variables.html" rel="noopener ugc nofollow" target="_blank">显示超时</a>值。</li></ul><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/dacb6c0d357651c912e247d88bc64086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coZHdZ532aHsnhZcu-o1Ew.png"/></div></div></figure><p id="cfa0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它执行以下操作:</p><ol class=""><li id="8306" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js md lc ld le bi translated"><strong class="ix hj">变量设置</strong>:将<em class="me"> %caffeinateState </em>变量设置为<strong class="ix hj">真</strong>。</li><li id="ab87" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj"> If </strong>:检查变量<em class="me"> %DTOUT </em>是否等于<em class="me"> %caffeinateDefault </em>。</li><li id="ee9b" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">显示超时</strong>:设置显示超时为1分钟。</li><li id="a97e" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">否则如果</strong>:检查<em class="me"> %DTOUT </em>变量是否等于60。</li><li id="e2dc" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">显示超时</strong>:设置显示超时为5分钟。</li><li id="bbd0" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">否则如果</strong>:检查<em class="me"> %DTOUT </em>变量是否等于300。</li><li id="8599" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">显示超时</strong>:设置显示超时为10分钟。</li><li id="f66a" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">否则如果</strong>:检查<em class="me"> %DTOUT </em>变量是否等于600。</li><li id="77a8" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">显示超时</strong>:设置显示超时为5小时。</li><li id="f89d" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">否则</strong>:如果不满足前面的条件。</li><li id="f910" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">执行任务</strong>:运行<strong class="ix hj">咖啡因重置</strong>任务，恢复显示超时。</li><li id="5926" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">如果</strong>结束:关闭条件。</li><li id="8c86" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">通知</strong>:显示显示超时信息的持续通知。</li></ol><p id="ae41" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该通知允许用户:</p><ul class=""><li id="6f12" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated"><strong class="ix hj">增加</strong>:用<em class="me">执行任务</em>动作调用任务<strong class="ix hj">咖啡因</strong>增加超时。</li><li id="782a" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><strong class="ix hj">停止</strong>:通过<em class="me">执行任务</em>动作调用任务<strong class="ix hj">咖啡因复位</strong>恢复显示超时。</li></ul><h2 id="1a91" class="lk ju hi bd jv ll lm ln jz lo lp lq kd jg lr ls kh jk lt lu kl jo lv lw kp lx bi translated">咖啡因重置</h2><p id="618c" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">此任务恢复显示超时，重置变量，并删除通知。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/e75038c45e62ff99436ad938ffcce3d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*tUCTWnuRuvHKPS45_kMg9A.png"/></div></figure><p id="23e1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它执行以下操作:</p><ol class=""><li id="34ca" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js md lc ld le bi translated"><strong class="ix hj">变量设置</strong>:将<em class="me"> %caffeinateState </em>变量设置为<strong class="ix hj"> false </strong>。</li><li id="00b3" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">通知取消</strong>:删除通知。</li><li id="5d16" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js md lc ld le bi translated"><strong class="ix hj">显示超时</strong>:设置显示超时为<em class="me"> %caffeinateDefault </em>秒。</li></ol><h1 id="caee" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第二步。轮廓</h1><p id="f1ff" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">当屏幕关闭时，此配置文件会将显示超时重置为默认值。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/4da9f54b89e6d7eba4100aefa37bf8da.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*wqWd4QSeNboStn5RDXBsqw.png"/></div></figure><p id="d9bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它在以下条件下触发并运行<strong class="ix hj">咖啡因重置</strong>任务。</p><ul class=""><li id="09b6" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated"><strong class="ix hj">显示器关闭事件:</strong>这发生在显示器关闭时。</li><li id="d857" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><strong class="ix hj">变量值</strong>:检查<em class="me">%咖啡因状态</em>变量是否为<strong class="ix hj">真</strong>。</li></ul><h1 id="f444" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第三步。快速凝固瓷砖</h1><p id="e562" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">可以将<strong class="ix hj">咖啡因</strong>任务设置为<em class="me">快速设置</em>图块，方法是将其添加到Tasker首选项中<em class="me">动作</em>选项卡下的<strong class="ix hj">快速设置任务</strong>中。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/bfc38c80133cb6e32ef18dfe81618edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*GPgr0wi20oXATbvIHBc3Vw.png"/></div></figure><p id="5ae0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后您可以将它添加到您的<em class="me">快速设置</em>中并使用它。</p></div></div>    
</body>
</html>