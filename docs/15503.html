<html>
<head>
<title>How to level up the code-review culture on your team</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何提升团队中的代码审查文化</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-level-up-the-code-review-culture-on-your-team-2181d15261?source=collection_archive---------9-----------------------#2022-11-04">https://medium.com/geekculture/how-to-level-up-the-code-review-culture-on-your-team-2181d15261?source=collection_archive---------9-----------------------#2022-11-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/251fcce7ad4b978bd7ffed3ee15d35c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ohrZP9QGY0jQNVng"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">What it feels like when your code is in review for over 24 hours</figcaption></figure><p id="ff72" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">发现代码审查需要几天才能完成？代码评审是交付高质量代码的重要部分。但是有时当你的团队没有被有效地优先化时，你会觉得他们处于停滞状态。</p><p id="ce40" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">代码审查可能是令人沮丧的来源。想要专注于自己的任务，并将代码评审视为从<a class="ae js" href="https://www.stashpad.com/blog/maximize-deep-work-when-working-remotely" rel="noopener ugc nofollow" target="_blank">深层工作</a>中窃取你的注意力，这是很自然的。</p><p id="9272" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，您可能倾向于尝试快速浏览一系列拉取请求。或者推迟它们，直到它们威胁到某个特性的发展。但是这两种方法都让你错过了加强团队文化的机会。</p><p id="72c3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于GitHub的员工工程经理Derek Prior来说，代码审查是在公司建立正确文化的方式。</p><p id="4f61" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在RailsConf上，<a class="ae js" href="https://www.youtube.com/watch?v=PJjmw9TRB7s" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">Prior</strong></a>说:“代码审查是与你的同行讨论你的代码的规程，这推动了更高的编码标准。</p><p id="3777" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">围绕代码的讨论让你深入了解你的团队，鼓励知识共享，并推动创新。你不会被困在代码审查中。它们是摆脱困境的途径。</p><p id="45db" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">代码审查可能是一件苦差事。它们会暴露出我们最糟糕的习惯。但是，他们也可以帮助你了解你的团队的需求，并建立更深层次的联系。</p><p id="bb0f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通过建立良好的代码审查文化，你将为你的团队创造更好的文化。下面是怎么做的。</p><h1 id="56e5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">1.找到你的代码审查瓶颈。</h1><p id="ee5e" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">在您能够改变代码审查过程之前，您必须了解它在哪里出了问题。代码审查总是有一个瓶颈。如果你是创始人或高级工程师，那很可能就是你。</p><p id="fc7c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最有经验的开发人员是团队中最有可能被要求签出代码的人。工作量很大。而且分量很重。积压的评论甚至可能阻碍其他领域的进展，比如发布新功能。</p><p id="9cef" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">也许你已经认识到了这个问题。所以，你开始训练某人。但是训练需要时间和信任。与此同时，您积压的拉取请求正在增加。</p><p id="7d7d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">改变始于承认团队中有人背负了太多的负担。请记住，高级工程师通常不是唯一能够审查一段代码的人。</p><p id="8ce0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你的团队想要更多的所有权。你可能已经准备好清理你的盘子了。那么，如何减轻自己的负担，给他们机会呢？</p><h1 id="f781" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">2.评估你的团队对代码评审的态度和舒适度。</h1><p id="3f9d" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">当你注意到你所有的代码评审都是由同一个人或少数几个人完成的时候，在<a class="ae js" href="https://render.com/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj"/></a>的工程副总裁Uma Chingunde建议问这样一个问题:</p><p id="ca6a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">"每个人都有信心进行代码评审吗？"</p><p id="8a5c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">即使是最具功能性的团队也会纠结于如何在代码评审中进行注释。在重新构建代码评审过程的早期阶段，鼓励团队成员记住代码背后有人。</p><p id="b272" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">博客和时事通讯《务实工程师》的开发者Gergely Orosz认为，移情在<a class="ae js" href="https://blog.pragmaticengineer.com/good-code-reviews-better-code-reviews/" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">更好的代码评审文化</strong> </a>中起着重要作用。</p><p id="0e54" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先承认你的团队成员可能还在学习你的指导方针或部分代码。然后，他建议专注于“解释替代方法”，并提交“语气非常积极的评论，庆祝作者建议的代码库的最初几个变化。”</p><p id="c396" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">团队成员不进行代码评审有很多原因。除非你问，否则你不会知道为什么。乌玛建议深入了解正在发生的事情。</p><p id="c169" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">“如果团队中有人不复习，那就聊一聊，”乌玛说。“你可以说，‘我注意到你不复习。’有可能他们没有自信，或者他们没有得到价值。"</p><p id="c2e7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你的队友的回答会让你知道你是否需要审视你是如何沟通、分享知识或者分配代码评审的。剧透提示:以上都是。</p><h1 id="476d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">3.良好的沟通始于清晰、简洁的拉动式请求。</h1><p id="13c2" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">歧义是避开代码审查的一种快捷方式。最好的结果——无论是代码评审还是<a class="ae js" href="https://www.stashpad.com/blog/planned-group-brainstorming" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">头脑风暴</strong></a>——都来自于询问独特的、有意义的问题。</p><p id="0e55" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Palantir的团队在一篇关于代码评审最佳实践的<a class="ae js" href="https://blog.palantir.com/code-review-best-practices-19e02780015f" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">博客文章中，开发了一种简化代码评审过程的实用方法。</strong></a></p><p id="d577" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">"“只提交完整的、自我审查的(通过diff)和自我测试的CRs，”Palantir团队指出. "为了节省评审人员的时间，在分配评审人员之前，测试提交的变更(即运行测试套件)并确保它们通过所有构建以及所有测试和代码质量检查，包括本地和CI服务器上的测试和代码质量检查。"</p><p id="dee7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">花时间抓住那些显而易见的事情。你可以让评审者更容易理解什么是重要的，你也可以从自己无法解决的挑战中获益。</p><p id="e71c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于Prior，拉请求是对话的开始。请求作者提供了上下文——他为每个变更建议了两个段落(侧重于您所学到的)——以帮助评审者理解为什么做出了给定的代码选择。该解释也与未来的讨论相关，因为它成为提交的一部分。</p><p id="4af7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">反过来，代码的审查者应该“提出问题，而不是提出要求。”通过将潜在的变化框定为问题，你将鼓励讨论，为多种观点创造空间，并有机会分享关于为什么给定的想法可能是最佳前进方式的知识。</p><h1 id="b8da" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">4.跟踪完成代码评审需要多长时间。</h1><p id="d799" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">当你开始将更多的团队成员整合到代码评审过程中时，事情自然会变慢。</p><p id="a254" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">那么，如果代码审查花费的时间太长，你该怎么办呢？Uma认为这是与您的工程师进行另一次检查的好时机。</p><p id="3286" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">“如果人们花太长时间做评论，是因为他们太忙于自己的事情吗？还是因为他们觉得审查代码很难？”</p><p id="c27b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通常，其他职责和不明确的期望的组合可能会导致代码评审的速度变慢。为了克服这种惰性，您将不得不有意地在您团队的时间表中安排时间，并重新评估您如何分配代码评审。</p><h1 id="042d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">5.通过使用代码评审的暂停点来优化您的计划。</h1><p id="5219" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">代码审查不一定会拖累生产力。通过围绕自然停顿点建立时间，你可以<a class="ae js" href="https://www.stashpad.com/blog/maximize-deep-work-when-working-remotely" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">避免打断你的流程</strong> </a>和上下文切换的成本。午饭前或晨会后花30分钟来复习代码。</p><p id="d3b1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">留出固定的时间来复习会让你开始养成习惯。你甚至可以利用接下来的事情——一杯浓咖啡或在街区散步——作为完成代码审查的奖励，同时培养这个习惯。</p><p id="b9d9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这种策略是一种有效利用你离开会议或结束深度工作的时间的方法。如果是在站立会议之后，代码审查甚至可以从与拉请求的作者的简短对话开始，以帮助给你除了已经键入的内容之外的额外的上下文或重点。</p><h1 id="979d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">6.分配代码评审以建立对团队的期望。</h1><p id="95d9" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">您的团队可能在假设代码审查不是他们的责任的情况下运作。要求某人做出贡献不足以打破这个假设。您必须将代码审查分配给团队的每个成员，以明确这是一项共同的责任。</p><p id="1483" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有许多方法来组织作业。这里有两个对你的团队有用的想法:让工程师们一起完成任务，这样你就不需要单独的评审或者通过轮换制度来分配评审。</p><p id="b38d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">结对是一种有用的结构，因为它们有助于对话。您不需要明确地将某人分配到评审中。您两人一组编写每条逻辑——一个人“驾驶”(打字)——另一个人阅读并讨论他们的代码。不可避免地会有更多的想法分享和不同的方法。</p><p id="78a6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你引入了一个伙伴来加快游戏的节奏。在结对的时候，当你一起写代码的时候，你会自动拥有一个内置的代码审查。这种知识——有人会支持你——也减轻了你必须处理所有事情的压力。</p><p id="ffaf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们目前正在评估<a class="ae js" href="https://docs.github.com/en/organizations/organizing-members-into-teams/managing-code-review-settings-for-your-team" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">自动代码审查任务</strong> </a>。创建自动分配轮换对提取请求的作者和被分配人都有帮助。确保团队成员有明确的方式告诉每个人，无论是在Slack还是其他地方，他们已经要求进行代码审查。</p><p id="c92c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">自动化系统减少了工程师的决策疲劳。它消除了代码评审可能是一种负担的感觉，以及试图记住谁是你最后一个评审任务的成本。也许，最重要的是，它通过明确每个人都将轮流来支持代码审查的文化。</p><p id="3cae" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您需要团队中具有特定技能的人来审查您的代码，您总是可以添加一个选项来覆盖自动分配。</p><p id="a258" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">建立可持续的代码审查文化鼓励富有成效的辩论和意想不到的洞察力。团队对代码的所有权通过消除冲突和防止倦怠来加强关系。</p><p id="9a34" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果没有一个定义良好的代码评审过程，您的团队可能会勉强度日。但是围绕代码审查建立清晰的实践和期望可以帮助您的团队更好地分担负载，并且更加平稳和有效地前进。</p><p id="f466" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Unsplash上<a class="ae js" href="https://unsplash.com/photos/y_s8HnoZmI0" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj"> renee_ek </strong> </a>的照片。</p></div><div class="ab cl kw kx gp ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="hb hc hd he hf"><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="a9b8" class="lm ju hi li b fi ln lo l lp lq"><a class="ae js" href="https://twitter.com/cara_jacqueline" rel="noopener ugc nofollow" target="_blank">Cara Borenstein</a><strong class="li hj"> </strong>is Co-Founder and CEO at<strong class="li hj"> </strong><a class="ae js" href="https://stashpad.com" rel="noopener ugc nofollow" target="_blank"><strong class="li hj">Stashpad</strong></a> - note-taking that feels like messaging<strong class="li hj">. </strong>She previously worked in engineering at Twilio and is an alum at Columbia University.</span></pre></div></div>    
</body>
</html>