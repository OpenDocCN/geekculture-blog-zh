<html>
<head>
<title>Spicing up Your Svg Icons with Draw and Fill Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用绘制和填充动画增加Svg图标的趣味</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/spicing-up-your-svg-icons-with-draw-and-fill-animations-a178871bc9b?source=collection_archive---------26-----------------------#2021-06-21">https://medium.com/geekculture/spicing-up-your-svg-icons-with-draw-and-fill-animations-a178871bc9b?source=collection_archive---------26-----------------------#2021-06-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d3f8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">不费吹灰之力就能获得令人印象深刻的效果</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/149292e08384abf3747a8b6c25d1ce47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XHkhpBYLuQvuU3aKc02NTg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">A CSS animation, which we will use later</figcaption></figure><p id="5684" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现代用户界面利用SVG来显示图标和图像，因为它们在不同的屏幕尺寸上很灵活，但是让它们弹出到你的页面上很无聊。幸运的是，我们可以通过动画做得更好，如果你不想，甚至不需要添加任何特殊的东西——只需要SVG元素和CSS就可以完成！</p><p id="760c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">跟随我的CodePen示例(全部在React中)来学习如何操作。</p><h1 id="ff03" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">什么样的动画？</h1><p id="850d" class="pw-post-body-paragraph jn jo hi jp b jq lb ij js jt lc im jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">SVG或多或少是定义计算机应该如何绘制图像的方式，所以我们创建动画来使它看起来像是SVG被绘制到页面中是非常合适的，对吗？</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lg"><img src="../Images/42e013efab4ff37cf7927b19e14ea809.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*1lqDCnNS0w9_v6gDEA2NSw.gif"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Example of an animation that draws in SVGs</figcaption></figure><p id="74c4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我把动画分成两部分:画线和填充形状。在轮廓完成之前填充形状不仅不协调，而且两者的实现也非常不同。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="cb81" class="kj kk hi bd kl km lo ko kp kq lp ks kt io lq ip kv ir lr is kx iu ls iv kz la bi translated">绘制SVG线条的动画</h1><p id="d4ae" class="pw-post-body-paragraph jn jo hi jp b jq lb ij js jt lc im jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">我知道我说过你不需要JavaScript，但TLDR版本是<a class="ae lt" href="https://maxwellito.github.io/vivus/" rel="noopener ugc nofollow" target="_blank">你应该只使用像Vivus </a>这样的库，因为它已经是轻量级和配置的，所以不值得你自己制作副本的麻烦。看这支笔，我用它从上面画了一个5方块的图案:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Simple animation that draws in lines of an SVG shape using Vivus</figcaption></figure><p id="2dd3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">但是，如果您是好奇型的，想知道它是如何工作的，或者在没有JS的情况下它是如何工作的，我将在本节的剩余部分中介绍它。否则，请随意跳到下一部分。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><p id="1f0c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我并不是第一个创作画SVG线条的动画的人。我完全相信这篇博文教会了我这背后的机制。这是我的快速总结:</p><p id="3191" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">SVG支持两个相关的属性，当这两个属性结合在一起时，会产生一种在其中绘制SVG的错觉:</p><ul class=""><li id="28f2" class="lw lx hi jp b jq jr jt ju jw ly ka lz ke ma ki mb mc md me bi translated"><code class="du mf mg mh mi b">stroke-dasharray</code>，定义SVG线中虚线图案的实线和空白部分的长度</li><li id="82b1" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mb mc md me bi translated"><code class="du mf mg mh mi b">stroke-dashoffset</code>，定义虚线图案的移动量</li></ul><p id="8ada" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">交互是这样进行的:</p><ol class=""><li id="9fb9" class="lw lx hi jp b jq jr jt ju jw ly ka lz ke ma ki mo mc md me bi translated">通过将<code class="du mf mg mh mi b">stroke-dasharray</code>设置为线的精确长度(在下面的例子中为240)，将会有一条实线，后面跟着相同长度的空白部分。</li><li id="4a0c" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mo mc md me bi translated">当<code class="du mf mg mh mi b">stroke-dashoffset</code>被设置为线的精确长度(再次为240)时，仅显示空白部分。</li><li id="fb49" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mo mc md me bi translated">随着<code class="du mf mg mh mi b">stroke-dashoffset</code>减少到0，空行移动得越来越多，显示出越来越多的实线部分，使它看起来像正在被绘制。</li></ol><p id="e9bd" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">因为它和<code class="du mf mg mh mi b">stroke</code>一起工作，你画的线必须有<code class="du mf mg mh mi b">stroke </code>定义。正如你在下面看到的，这只用CSS就能做到！</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Simple animation that draws in lines of an SVG shape using only CSS</figcaption></figure></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="f332" class="kj kk hi bd kl km lo ko kp kq lp ks kt io lq ip kv ir lr is kx iu ls iv kz la bi translated">动画填充</h1><p id="c58f" class="pw-post-body-paragraph jn jo hi jp b jq lb ij js jt lc im jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">动画填充需要SVG元素而不是CSS元素:</p><ul class=""><li id="b913" class="lw lx hi jp b jq jr jt ju jw ly ka lz ke ma ki mb mc md me bi translated"><code class="du mf mg mh mi b">linearGradient </code>允许我们定义多种颜色来填充一个形状。是的，一个梯度。</li><li id="a5cb" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mb mc md me bi translated"><code class="du mf mg mh mi b">stop </code>定义在线性渐变中放置颜色的方式和位置</li><li id="6e42" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mb mc md me bi translated"><code class="du mf mg mh mi b">animate </code>定义了如何在SVG中逐渐改变属性</li></ul><p id="87f4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">交互是这样进行的:</p><ol class=""><li id="94c1" class="lw lx hi jp b jq jr jt ju jw ly ka lz ke ma ki mo mc md me bi translated">当一个<code class="du mf mg mh mi b">linearGradient </code>中的两个<code class="du mf mg mh mi b">stop </code>元素有相同的<code class="du mf mg mh mi b">offset </code>属性时，它有一个硬边框而不是渐变，所以我们可以设置一种颜色为白色或透明，另一种为填充色。</li><li id="2a12" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mo mc md me bi translated">如果动画元素同等地改变两个停止点的偏移属性，则线条会移动，导致SVG被填充的错觉。</li><li id="3c73" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mo mc md me bi translated">我们可以通过属性<code class="du mf mg mh mi b">fill=”url(#linear-gradient-id)”</code>使用<code class="du mf mg mh mi b">linearGradient</code>制作形状</li></ol><p id="0a66" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">同样，不需要JavaScript！</p><p id="d5f0" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">您可以将线条绘制和填充与<code class="du mf mg mh mi b">animate</code>中的<code class="du mf mg mh mi b">begin</code>属性结合使用，这将延迟<code class="du mf mg mh mi b">animate</code>的生效。看看两者的合作:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Animation that draws SVG shapes and then fills in the shapes afterwards</figcaption></figure></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="5d90" class="kj kk hi bd kl km lo ko kp kq lp ks kt io lq ip kv ir lr is kx iu ls iv kz la bi translated">进一步的改进</h1><p id="58f0" class="pw-post-body-paragraph jn jo hi jp b jq lb ij js jt lc im jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">虽然上面两个例子可以涵盖很多用例，但最后一个例子仍然不够完美。每个矩形同时填充。如果矩形在画好之后就开始填充，那就更好看了。我想出了一个方法来做到这一点，但我们需要一些JavaScript和SVG操作。</p><p id="5b4a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为了便于解释，请参见代码笔:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Animation that draws the shape and immediately starts filling it in when the shape is drawn</figcaption></figure><ol class=""><li id="be54" class="lw lx hi jp b jq jr jt ju jw ly ka lz ke ma ki mo mc md me bi translated">我将每个<code class="du mf mg mh mi b">path</code>的值放到它自己的字符串中，并将它们放入一个数组中。</li><li id="6e8f" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mo mc md me bi translated">然后，我为每个字符串呈现一个<code class="du mf mg mh mi b">path</code>和一个<code class="du mf mg mh mi b">linearGradient</code>。渐变有一个唯一的<code class="du mf mg mh mi b">id</code>，它被<code class="du mf mg mh mi b">path</code>唯一地用作它的<code class="du mf mg mh mi b">fill</code>。</li><li id="cc6a" class="lw lx hi jp b jq mj jt mk jw ml ka mm ke mn ki mo mc md me bi translated">基于索引，线性梯度具有不同的<code class="du mf mg mh mi b">begin</code>值，因此每个值都有自己的延迟。</li></ol><p id="95d7" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">就是这样！真的就这么简单！(假设您计算出每个<code class="du mf mg mh mi b">stop</code>的正确延迟，即……)</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="11fb" class="kj kk hi bd kl km lo ko kp kq lp ks kt io lq ip kv ir lr is kx iu ls iv kz la bi translated">结束语</h1><p id="21bc" class="pw-post-body-paragraph jn jo hi jp b jq lb ij js jt lc im jv jw ld jy jz ka le kc kd ke lf kg kh ki hb bi translated">每当您想在加载时向页面添加一些光晕时，可以考虑使用这些SVG动画来实现。很多这些都可以在没有JS的情况下完成，甚至这些库都是相当轻量级的，所以您可以在不增加包大小的情况下自由地完成。如果没有别的，我展示的人们称这种效果为“<strong class="jp hj">华丽</strong>”(他们的话，不是我的)所以你至少会用它给一些人留下深刻印象！</p></div></div>    
</body>
</html>