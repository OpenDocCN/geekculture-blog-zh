<html>
<head>
<title>Arduino: How to select a Sensor/Hardware Library?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Arduino:如何选择传感器/硬件库？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/arduino-how-to-select-a-sensor-hardware-library-955cf38cb947?source=collection_archive---------17-----------------------#2021-10-18">https://medium.com/geekculture/arduino-how-to-select-a-sensor-hardware-library-955cf38cb947?source=collection_archive---------17-----------------------#2021-10-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b7b4b1eae9b5c99417fd5db6d95ed550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*hcuRJFfmcqdyhu3fysTzJw.png"/></div></div></figure><p id="fb5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每个Arduino程序员都需要从某个地方开始。第一个Arduino设备是薄膜键盘和8X8矩阵的简单组合。当一个键被按下时，它显示在8X8矩阵上。只需检查膜的API，找出如何处理按下的按钮。然后将这个字符发送到LED矩阵。这听起来很简单，对吗？</p><p id="c7a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嗯，当你对Arduino编程有了扎实的经验时，就是了。但是当我开始这个开发者之旅时，很多事情我都不知道。我花了很长时间才明白我所面临的问题的根源。在这篇博文中，我反思了这些挑战，并确定了关键的经验。</p><p id="86a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">本文原载于我的博客【admantium.com】<a class="ae jp" href="https://admantium.com/blog/micro15_choose_arduino_libraries/" rel="noopener ugc nofollow" target="_blank"><em class="jo"/></a>。</em></p><h1 id="5ccb" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">连接LED矩阵</h1><p id="74ef" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">使用Arduino IDE时，已经为您安装了许多附加库。因此，软件开发过程从识别您要连接到Arduino的硬件开始，然后选择合适的库。</p><p id="4c5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的初始设置是一个完整的套件，包括Arduino Uno、大约20个传感器、一块试验板、4个显示器和4个电机。按照教程，我使用了提供的驱动程序，我有点惭愧地说，只是将示例代码复制到IDE中，将程序烧录到引导加载程序中，并启动Arduino。不出所料，小品每次都管用。</p><p id="751a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于LED矩阵，我很好奇它的功能。于是，从我的IDE上，我看到有一个方法叫做<code class="du kt ku kv kw b">drawChar</code>。这个方法需要一条线和一个你想画的字符。无论我怎么尝试，我都无法让显示器显示这个角色...</p><p id="cfd4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">隔天。我看了文档。该库将用于LED矩阵和分段矩阵。我使用的方法不是为简单的LED矩阵设计的。有了这个认识，我开始重新选择一个合适的图书馆。</p><h1 id="8ab6" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">选择库—第1部分</h1><p id="561d" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">来自JavaScript开发的世界，选择包意味着浏览中央NPM注册中心，阅读文档，并决定使用哪个库。在开发Arduino应用程序时，这种舒适并不容易实现。</p><p id="c347" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一个区别是IDE附带的库(Arduino Studio或PlattformIO)与可用库的总数不匹配。你可以在Github、私人网页甚至论坛上找到库。</p><p id="b54d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下一个区别是安装。已经捆绑在应用程序中的库可以导入到项目中。如果IDE可以访问源代码，还可以添加其他库。或者您需要直接下载源代码，并将它们添加到您的项目中。</p><p id="e283" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第三个区别是文档。与您的IDE捆绑在一起的库显示了有用的描述，但只显示了指向附加信息的链接。如果您访问其他库，您会发现网页、带有自述文件的GitLab repos或带有注释的纯源代码的混合体。</p><p id="d30c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一个难以选择的区别是，一个库没有“确定”的版本，无论是根据它的年龄，还是根据它的功能，你都无法做出区分。当我的LED矩阵不工作时，我在GitHub中找到了一个库，它是最近更新的。查看它的代码，我发现它与我的工具包中建议的库非常相似。经过进一步研究，我发现了一个2013年的库，它似乎是这两个新库的父库。</p><p id="1c05" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此时，我完全不知道如何做出一个好的选择。我又回到了起点。</p><h1 id="45d2" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">选择图书馆—第2部分</h1><p id="bf50" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">有了这些经验之后，我用以下步骤起草并测试了一个小的决策过程。</p><h1 id="bab9" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">1.了解硬件</h1><p id="2bb5" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">您需要了解传感器或硬件的一般工作原理。你不需要理解电路图(最终你会获得这些知识)。但是你应该对操作流程有一个基本的了解。</p><p id="e8b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">回到LED矩阵，关键的一点是要了解电源管理、清除显示以及LED如何排列等方面。库将基于此描述与传感器/硬件一起运行。</p><h1 id="2e84" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">2.列出所有可用的库</h1><p id="163c" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">接下来，浏览IDE的所有库，并在Github或互联网上搜索。重要的来源是:</p><ul class=""><li id="7745" class="kx ky hi is b it iu ix iy jb kz jf la jj lb jn lc ld le lf bi translated"><a class="ae jp" href="https://platformio.org/lib" rel="noopener ugc nofollow" target="_blank">platform . io</a></li><li id="845f" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated"><a class="ae jp" href="https://www.arduino.cc/en/reference/libraries" rel="noopener ugc nofollow" target="_blank"> arduino.cc </a></li><li id="9a24" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated"><a class="ae jp" href="https://www.arduinolibraries.info/" rel="noopener ugc nofollow" target="_blank"> Arduino库列表</a></li></ul><h1 id="97d8" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">3.评估图书馆</h1><p id="efed" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">最明显的步骤是浏览库，获取一个示例程序，并尝试它。如果这个例子开箱即用，那么这个库是一个很好的候选库。</p><p id="0ece" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我强烈建议你努力去理解这个库，直到你对它的工作方式感到舒服为止。对自己诚实一点，复制&amp;粘贴代码示例不会长久。</p><p id="269a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我认为这个库基本上可用时，我将应用两个缩小范围的标准:特异性和质量。</p><p id="ef1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一个标准是特异性。比起支持多个版本或类似硬件的通用库，更喜欢与您的硬件/传感器特别匹配的库。这将更容易找到帮助，也更容易理解。</p><p id="6dea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下一个标准是源代码和文档。你能大体理解源代码吗？是否简洁易读？如果有，记得硬件是怎么工作的，尽量在库中看到这些操作。越清晰越好。最后，检查文档(源代码、wiki、网页等)。)和例子。找到的越多越好。</p><p id="17ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有在特异性和质量上得分高的库都应该被高度评价。</p><h1 id="f4cd" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">4.尝试</h1><p id="1a59" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">最后一步是使用库。使用我的意思是明确不只是复制和粘贴源代码！给自己设定一个时间框架，打开一个空文件，从头开始编码。如果你能让图书馆在规定的时间内运行，你就找到了你的候选人。</p><h1 id="7a69" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="19d8" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">当给你的Arduino项目添加一个新的传感器或其他硬件时，你身上懒惰的程序员可能会浮出水面，抓取下一个最好的库，复制粘贴一个例子并让它运行。但是这种方法不能长期有效。努力遵循您选择的库的选择过程。我的选择过程有4个步骤:了解硬件，制作库列表，评估库，并尝试它们。这个过程有助于构建知识、洞察力和技能:硬件如何工作的知识、库如何与硬件一起运行的洞察力，以及通过从头开始编写代码来使用库的技能。现在开始，让你的Arduino项目变得更好。</p></div></div>    
</body>
</html>