<html>
<head>
<title>Analogue-like Jumping System — Input Manager Discovering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类模拟跳跃系统—输入管理器发现</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/analogue-like-jumping-system-input-manager-discovering-18a64a307e1c?source=collection_archive---------17-----------------------#2021-12-03">https://medium.com/geekculture/analogue-like-jumping-system-input-manager-discovering-18a64a307e1c?source=collection_archive---------17-----------------------#2021-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/701bc22a15c6edda01870e76805e4868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/1*NBKVb-ew3mFbsyqSzSzv0A.gif"/></div></figure><p id="f791" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">目标</strong>:重新考虑跳跃系统，让它可以在几个高度跳跃</p><p id="4e5b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我在考虑制造一个关卡，如果你错误判断了距离，跳得太长或太短，从狭窄的悬崖上掉下来，你可能会死。</p><p id="38b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当我在做测试时，我注意到达到目标是多么困难，有这样一个<strong class="io hj">固定</strong>跳跃系统:按下空间，设定速度。</p><p id="9f90" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我想要一个类似水平运动的行为。所以我需要一个输入轴。如果你进入编辑- &gt;项目设置，你会发现输入管理器部分，其中列出了许多轴，如水平或垂直。</p><p id="7645" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">还有火和跳。像jump这样的轴与水平轴和垂直轴有很大的不同，让我们找出原因。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/87dbe43289a75d0b7d12b7257e236ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*fmuBXGuYodBdSfFjJS33cA.png"/></div></figure><p id="6424" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">每个轴都有相同的属性，只有值不同。在运动轴(水平、垂直)中，想法是模仿操纵杆的<strong class="io hj">模拟</strong>感觉。当然，键盘不能，但一些技巧可以让我们更接近。在详细探究之前，我们必须知道轴产生-1到+1之间的浮点值，其中0对应于没有输入。</p><p id="1f4a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这次“仿真”涉及的属性有<strong class="io hj">重力</strong>、<strong class="io hj">死</strong>和<strong class="io hj">灵敏度</strong>。</p><ol class=""><li id="ff7e" class="jp jq hi io b ip iq it iu ix jr jb js jf jt jj ju jv jw jx bi translated"><strong class="io hj">重力</strong>代表当我们停止输入时，轴的浮动值<strong class="io hj">多快会回到0 </strong>:如果我向右移动，按下D键，角色不会在释放键后立即停止，重力越高，它会越快停止。</li><li id="b936" class="jp jq hi io b ip jy it jz ix ka jb kb jf kc jj ju jv jw jx bi translated"><strong class="io hj">死点</strong>代表零值附近的<strong class="io hj">死区</strong>:只有绝对值超过死点，轴才会开始工作。</li><li id="41fa" class="jp jq hi io b ip jy it jz ix ka jb kb jf kc jj ju jv jw jx bi translated"><strong class="io hj">灵敏度</strong>类似于重力，表示给定输入时<strong class="io hj">轴值从0开始多快达到最大值</strong> (+1)或最小值(-1)。</li></ol><p id="7c42" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这三个属性将模拟行为转化为时间:如果通过将操纵杆推到最大值已经达到了最大值，那么对于键盘来说，等待值达到最大值只是时间问题。这个时间是由重力和敏感度决定的。</p><p id="b1c1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了将这些知识应用到我跳跃的新想法中，我修改了跳跃轴。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es kd"><img src="../Images/fc471df649e3b21ee5e777f989fa777d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urm3kBEAtTWNBTTBkNXUqw.png"/></div></div></figure><p id="75be" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">重力被设置为最大浮动值，让我们说，当空格键释放值几乎立即下降到0。灵敏度被调整，直到找到最佳匹配。因为没有负按钮，所以不允许有负值。</p><p id="611d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有了这个全新的轴，我不得不修改代码。</p><figure class="jl jm jn jo fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="2a60" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在以输入为轴，对返回值<code class="du kk kl km kn b">_jumpAxis</code>进行检查。该值包含在速度评估中。</p><p id="c582" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因为这种检查在每一帧都要执行，而且因为重力很大，但不是无限的，所以可能会发生这样的情况，我们再次落入if语句中，不是因为我们按了键，而是因为速度仍然大于0。这将导致角色接触地面时重新触发跳跃动画(这是进入if语句所需的第二个条件)。</p><p id="053e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了避免这种丑陋的事情发生，我们将使用一个机器状态行为脚本，附加到跳转动画中。</p><figure class="jl jm jn jo fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="85d9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">简单来说，一旦动画结束，脚本将会取消激活触发器，确保每个输入只执行一次。</p><p id="e3f8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里是如何短期和高跳将出现。</p><div class="jl jm jn jo fd ab cb"><figure class="ko ij kp kq kr ks kt paragraph-image"><img src="../Images/c5e6089faf333280930a995526f569be.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/1*u6TnyVwSpAQZxq52mjHfEQ.gif"/></figure><figure class="ko ij ku kq kr ks kt paragraph-image"><img src="../Images/ec6eaa4665309eb426e6f83d9d9a54ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/1*gjM-hd6UD0TRG3ZlXGWduA.gif"/></figure></div><p id="02bc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你喜欢，就鼓掌吧！看看我的游戏或者给我买杯咖啡:感谢每一种支持！！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><a href="https://danioquero.itch.io/"><div class="er es kv"><img src="../Images/dcf4d4b1f490c7140043d8f0460f4aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*OxQOMsD-vlGrfHyGJ7713w.jpeg"/></div></a></figure><figure class="jl jm jn jo fd ij er es paragraph-image"><a href="https://ko-fi.com/danioquero"><div class="er es kw"><img src="../Images/99eb2091d096af2a73a26040fdfa987a.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*VZjq00d2Oe78qpu6tJNvfA@2x.png"/></div></a></figure></div></div>    
</body>
</html>