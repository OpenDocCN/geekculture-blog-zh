<html>
<head>
<title>Sequence Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">序列类型</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/sequence-types-b35148523788?source=collection_archive---------5-----------------------#2021-01-28">https://medium.com/geekculture/sequence-types-b35148523788?source=collection_archive---------5-----------------------#2021-01-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5ac8ca7f9c201cadba3a240c20a5a466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DZKf4nGDTZDn3H4QYMtLFg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">ryan putra — unsplash</figcaption></figure><p id="1ccd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">序列类型具有第一个元素、第二个元素等等的一般概念。基本上是使用自然数对序列项进行排序。在Python(和许多其他语言)中，起始索引被设置为<code class="du js jt ju jv b">0</code>，而不是<code class="du js jt ju jv b">1</code>。</p><p id="6a47" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以第一个条目有索引<code class="du js jt ju jv b">0</code>，第二个条目有索引<code class="du js jt ju jv b">1</code>，以此类推。</p><p id="9888" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Python有内置的可变和不可变序列类型。</p><p id="39ee" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">字符串、元组是不可变的——我们可以访问但不能修改<strong class="iw hj">序列</strong>的<strong class="iw hj">内容</strong>:</p><p id="d5ab" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ba6a" class="ke kf hi jv b fi kg kh l ki kj">t <strong class="jv hj">=</strong> (1, 2, 3)</span><span id="78f2" class="ke kf hi jv b fi kk kh l ki kj">t[0]</span></pre><p id="3681" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="7a5b" class="ke kf hi jv b fi kg kh l ki kj">1</span></pre><p id="07c5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="076f" class="ke kf hi jv b fi kg kh l ki kj">t[0] <strong class="jv hj">=</strong> 100</span><span id="256e" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-3-155b9e8fb284&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/><strong class="jv hj">----&gt; 1 </strong>t<strong class="jv hj">[0]</strong> <strong class="jv hj">=</strong> <strong class="jv hj">100</strong></span><span id="b037" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: 'tuple' object does not support item assignment</span></pre><p id="2c93" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是当然，如果序列包含可变对象，那么尽管我们不能修改元素序列(不能替换、删除或插入元素)，我们肯定<strong class="iw hj">可以</strong>改变可变对象的内容:</p><p id="c585" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="fe6d" class="ke kf hi jv b fi kg kh l ki kj">t <strong class="jv hj">=</strong> ( [1, 2], 3, 4)</span></pre><p id="287e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du js jt ju jv b">t</code>是不可变的，但是它的第一个元素是一个可变对象:</p><p id="a078" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="f55d" class="ke kf hi jv b fi kg kh l ki kj">t[0][0] <strong class="jv hj">=</strong> 100</span><span id="b545" class="ke kf hi jv b fi kk kh l ki kj">t</span></pre><p id="a5bc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d69b" class="ke kf hi jv b fi kg kh l ki kj">([100, 2], 3, 4)</span></pre><h2 id="6961" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">可重复的</h2><p id="db31" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">一个<strong class="iw hj">可迭代的</strong>就是可以迭代的东西，例如使用一个<code class="du js jt ju jv b">for</code>循环:</p><p id="bd86" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ad53" class="ke kf hi jv b fi kg kh l ki kj">t <strong class="jv hj">=</strong> (10, 'a', 1<strong class="jv hj">+</strong>3j)</span><span id="03c8" class="ke kf hi jv b fi kk kh l ki kj">s <strong class="jv hj">=</strong> {10, 'a', 1<strong class="jv hj">+</strong>3j}</span><span id="437f" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">for</strong> c <strong class="jv hj">in</strong> t:</span><span id="1248" class="ke kf hi jv b fi kk kh l ki kj">print(c)</span><span id="9767" class="ke kf hi jv b fi kk kh l ki kj">Out:</span><span id="1eeb" class="ke kf hi jv b fi kk kh l ki kj">10<br/>a<br/>(1+3j)</span></pre><p id="5587" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="6194" class="ke kf hi jv b fi kg kh l ki kj"><strong class="jv hj">for</strong> c <strong class="jv hj">in</strong> s:</span><span id="8542" class="ke kf hi jv b fi kk kh l ki kj">print(c)</span><span id="c94c" class="ke kf hi jv b fi kk kh l ki kj">Out:</span><span id="9b54" class="ke kf hi jv b fi kk kh l ki kj">a<br/>10<br/>(1+3j)</span></pre><p id="89c9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意我们是如何迭代元组和集合的。迭代元组保留了元组中元素的<strong class="iw hj">顺序</strong>，但不是集合的顺序。集合没有元素的顺序，它们是可迭代的，但不是序列。</p><p id="f371" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">大多数序列类型支持<code class="du js jt ju jv b">in</code>和<code class="du js jt ju jv b">not in</code>操作。范围也可以，但不如列表、元组、字符串等有效。</p><p id="6566" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="236d" class="ke kf hi jv b fi kg kh l ki kj">'a' <strong class="jv hj">in</strong> ['a', 'b', 100]</span></pre><p id="8357" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d89a" class="ke kf hi jv b fi kg kh l ki kj">True</span></pre><p id="bc31" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d899" class="ke kf hi jv b fi kg kh l ki kj">100 <strong class="jv hj">in</strong> range(200)</span></pre><p id="d7a6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="b2cd" class="ke kf hi jv b fi kg kh l ki kj">True</span></pre><h2 id="798a" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">最小、最大和长度</h2><p id="078f" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">序列通常还支持<code class="du js jt ju jv b">len</code>方法来获取集合中的项目数。一些iterables可能也支持该方法。</p><p id="0d7f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d05b" class="ke kf hi jv b fi kg kh l ki kj">len('python'), len([1, 2, 3]), len({10, 20, 30}), len({'a': 1, 'b': 2})</span></pre><p id="c500" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="aaa2" class="ke kf hi jv b fi kg kh l ki kj">(6, 3, 3, 2)</span></pre><p id="1997" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">序列(甚至一些iterables)可能支持<code class="du js jt ju jv b">max</code>和<code class="du js jt ju jv b">min</code>，只要集合中的数据类型在某种意义上可以<strong class="iw hj">排序</strong>(<code class="du js jt ju jv b">&lt;</code>或<code class="du js jt ju jv b">&gt;</code>)。</p><p id="dbb3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ed05" class="ke kf hi jv b fi kg kh l ki kj">a <strong class="jv hj">=</strong> [100, 300, 200]</span><span id="f782" class="ke kf hi jv b fi kk kh l ki kj">min(a), max(a)</span></pre><p id="45f5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="c15a" class="ke kf hi jv b fi kg kh l ki kj">(100, 300)</span></pre><p id="fb50" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="15db" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> 'python'</span><span id="c4d4" class="ke kf hi jv b fi kk kh l ki kj">min(s), max(s)</span></pre><p id="0725" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3793" class="ke kf hi jv b fi kg kh l ki kj">('h', 'y')</span></pre><p id="e206" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="6e2e" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> {'p', 'y', 't', 'h', 'o', 'n'}</span><span id="f1e0" class="ke kf hi jv b fi kk kh l ki kj">min(s), max(s)</span></pre><p id="f85f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d176" class="ke kf hi jv b fi kg kh l ki kj">('h', 'y')</span></pre><p id="3f7c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是如果元素没有定义排序:</p><p id="eec8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="08bb" class="ke kf hi jv b fi kg kh l ki kj">a <strong class="jv hj">=</strong> [1<strong class="jv hj">+</strong>1j, 2<strong class="jv hj">+</strong>2j, 3<strong class="jv hj">+</strong>3j]</span><span id="1aa7" class="ke kf hi jv b fi kk kh l ki kj">min(a)</span><span id="fc0d" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-17-b0cd79e53377&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/>      1 a <strong class="jv hj">=</strong> <strong class="jv hj">[1+1j,</strong> <strong class="jv hj">2+2j,</strong> <strong class="jv hj">3+3j]</strong><br/><strong class="jv hj">----&gt; 2 </strong>min<strong class="jv hj">(</strong>a<strong class="jv hj">)</strong></span><span id="30b6" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: '&lt;' not supported between instances of 'complex' and 'complex'</span></pre><p id="5927" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du js jt ju jv b">min</code>和<code class="du js jt ju jv b">max</code>将适用于异构类型，只要元素是成对可比较的(<code class="du js jt ju jv b">&lt;</code>或<code class="du js jt ju jv b">&gt;</code>已定义)。</p><p id="90f6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">例如:</p><p id="8946" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="9ad2" class="ke kf hi jv b fi kg kh l ki kj"><strong class="jv hj">from</strong> decimal <strong class="jv hj">import</strong> Decimal</span><span id="1326" class="ke kf hi jv b fi kk kh l ki kj">t <strong class="jv hj">=</strong> 10, 20.5, Decimal('30.5')</span><span id="5606" class="ke kf hi jv b fi kk kh l ki kj">min(t), max(t)</span></pre><p id="8323" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="5489" class="ke kf hi jv b fi kg kh l ki kj">(10, Decimal('30.5'))</span></pre><p id="fd09" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="c6c2" class="ke kf hi jv b fi kg kh l ki kj">t <strong class="jv hj">=</strong> ['a', 10, 1000]</span><span id="7dde" class="ke kf hi jv b fi kk kh l ki kj">min(t)</span><span id="eb68" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-21-983eac063887&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/>      1 t <strong class="jv hj">=</strong> <strong class="jv hj">['a',</strong> <strong class="jv hj">10,</strong> <strong class="jv hj">1000]</strong><br/><strong class="jv hj">----&gt; 2 </strong>min<strong class="jv hj">(</strong>t<strong class="jv hj">)</strong></span><span id="bfa9" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: '&lt;' not supported between instances of 'int' and 'str'</span></pre><p id="3789" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">甚至<code class="du js jt ju jv b">range</code>对象支持<code class="du js jt ju jv b">min</code>和<code class="du js jt ju jv b">max</code>:</p><p id="97cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3a65" class="ke kf hi jv b fi kg kh l ki kj">r <strong class="jv hj">=</strong> range(10, 200)</span><span id="1ef9" class="ke kf hi jv b fi kk kh l ki kj">min(r), max(r)</span></pre><p id="d6e4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="f92a" class="ke kf hi jv b fi kg kh l ki kj">(10, 199)</span></pre><h2 id="7262" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">串联</h2><p id="c32d" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">我们可以使用<code class="du js jt ju jv b">+</code>操作符<strong class="iw hj">连接</strong>序列:</p><p id="a0cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3227" class="ke kf hi jv b fi kg kh l ki kj">[1, 2, 3] <strong class="jv hj">+</strong> [4, 5, 6]</span></pre><p id="d1ab" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="b08b" class="ke kf hi jv b fi kg kh l ki kj">[1, 2, 3, 4, 5, 6]</span></pre><p id="fa1e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="0162" class="ke kf hi jv b fi kg kh l ki kj">(1, 2, 3) <strong class="jv hj">+</strong> (4, 5, 6)</span></pre><p id="4ed9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="a495" class="ke kf hi jv b fi kg kh l ki kj">(1, 2, 3, 4, 5, 6)</span></pre><p id="3ad8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，串联结果的类型与被串联的序列的类型相同，因此串联不同类型的序列将不起作用:</p><p id="2820" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="5470" class="ke kf hi jv b fi kg kh l ki kj">(1, 2, 3) <strong class="jv hj">+</strong> [4, 5, 6]</span><span id="f229" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-25-67a9e2ed8695&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/><strong class="jv hj">----&gt; 1 (1,</strong> <strong class="jv hj">2,</strong> <strong class="jv hj">3)</strong> <strong class="jv hj">+</strong> <strong class="jv hj">[4,</strong> <strong class="jv hj">5,</strong> <strong class="jv hj">6]</strong></span><span id="4a64" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: can only concatenate tuple (not "list") to tuple</span></pre><p id="53ad" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="930e" class="ke kf hi jv b fi kg kh l ki kj">'abc' <strong class="jv hj">+</strong> ['d', 'e', 'f']</span><span id="119e" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-26-8cbdd441adc1&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/><strong class="jv hj">----&gt; 1 'abc'</strong> <strong class="jv hj">+</strong> <strong class="jv hj">['d',</strong> <strong class="jv hj">'e',</strong> <strong class="jv hj">'f']</strong></span><span id="4e80" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: must be str, not list</span></pre><p id="1db2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">注意:如果你真的想连接不同的类型，你必须先把它们转换成一个通用类型:</p><p id="db30" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="8ebc" class="ke kf hi jv b fi kg kh l ki kj">(1, 2, 3) <strong class="jv hj">+</strong> tuple([4, 5, 6])</span></pre><p id="2f24" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="6d1f" class="ke kf hi jv b fi kg kh l ki kj">(1, 2, 3, 4, 5, 6)</span></pre><p id="1fa0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="8295" class="ke kf hi jv b fi kg kh l ki kj">tuple('abc') <strong class="jv hj">+</strong> ('d', 'e', 'f')</span></pre><p id="bfb5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2177" class="ke kf hi jv b fi kg kh l ki kj">('a', 'b', 'c', 'd', 'e', 'f')</span></pre><p id="e832" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="b553" class="ke kf hi jv b fi kg kh l ki kj">''.join(tuple('abc') <strong class="jv hj">+</strong> ('d', 'e', 'f'))</span></pre><p id="725b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="68ed" class="ke kf hi jv b fi kg kh l ki kj">'abcdef'</span></pre><h2 id="af99" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">重复</h2><p id="296c" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">大多数序列类型还支持<strong class="iw hj">重复</strong>，本质上是将相同的序列串联整数次:</p><p id="8a07" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="7cf2" class="ke kf hi jv b fi kg kh l ki kj">'abc' <strong class="jv hj">*</strong> 5</span></pre><p id="8476" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="91b9" class="ke kf hi jv b fi kg kh l ki kj">'abcabcabcabcabc'</span></pre><p id="3e31" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="37e2" class="ke kf hi jv b fi kg kh l ki kj">[1, 2, 3] <strong class="jv hj">*</strong> 5</span></pre><p id="b5dc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2545" class="ke kf hi jv b fi kg kh l ki kj">[1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]</span></pre><p id="4d9a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们一会儿将回到连接和重复的一些注意事项。</p><h2 id="7f5f" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">按顺序寻找事物</h2><p id="b008" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">我们可以找到一个元素在序列中出现的索引:</p><p id="77f9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="7272" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> "gnu's not unix"</span><span id="8616" class="ke kf hi jv b fi kk kh l ki kj">s.index('n')</span></pre><p id="c111" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="37c7" class="ke kf hi jv b fi kg kh l ki kj">1</span></pre><p id="273e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="5cd3" class="ke kf hi jv b fi kg kh l ki kj">s.index('n', 1), s.index('n', 2), s.index('n', 8)</span></pre><p id="93cf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="9cd7" class="ke kf hi jv b fi kg kh l ki kj">(1, 6, 11)</span></pre><p id="0782" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果找不到该元素，就会引发一个异常，所以如果不想让应用程序崩溃，就要捕捉它:</p><p id="4ad5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="e7f3" class="ke kf hi jv b fi kg kh l ki kj">s.index('n', 13)</span><span id="7829" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">ValueError</strong>                                Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-35-d038ca109973&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/><strong class="jv hj">----&gt; 1 </strong>s<strong class="jv hj">.</strong>index<strong class="jv hj">('n',</strong> <strong class="jv hj">13)</strong></span><span id="8776" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">ValueError</strong>: substring not found</span></pre><p id="3067" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="221f" class="ke kf hi jv b fi kg kh l ki kj"><strong class="jv hj">try</strong>:</span><span id="5b3d" class="ke kf hi jv b fi kk kh l ki kj">idx <strong class="jv hj">=</strong> s.index('n', 13)</span><span id="cae0" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">except</strong> ValueError:</span><span id="e440" class="ke kf hi jv b fi kk kh l ki kj">print('not found')</span><span id="7440" class="ke kf hi jv b fi kk kh l ki kj">Out:</span><span id="aa85" class="ke kf hi jv b fi kk kh l ki kj">not found</span></pre><p id="0919" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，这些在序列中查找对象的方法并不假设序列中的对象以任何方式排序。这些基本上是在序列中搜索迭代，直到找到(或找不到)所请求的元素。</p><p id="e275" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您有一个排序的序列，那么其他搜索技术也是可用的，比如二进制搜索。我将在本课程的附加部分讲述其中的一些主题。</p><h2 id="6cca" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">限幅</h2><p id="14f3" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">我们将在后面的讲座中回到切片，但是序列类型通常支持切片，甚至范围(从Python 3.2开始)。就像拼接一样，切片将返回与被切片的序列相同的类型:</p><p id="7f0e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="f7c3" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> 'python'</span><span id="8c0c" class="ke kf hi jv b fi kk kh l ki kj">l <strong class="jv hj">=</strong> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]</span><span id="88bb" class="ke kf hi jv b fi kk kh l ki kj">s[0:3], s[4:6]</span></pre><p id="41ed" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="bb6e" class="ke kf hi jv b fi kg kh l ki kj">('pyt', 'on')</span></pre><p id="6c85" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="a394" class="ke kf hi jv b fi kg kh l ki kj">l[0:3], l[4:6]</span></pre><p id="b857" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d742" class="ke kf hi jv b fi kg kh l ki kj">([1, 2, 3], [5, 6])</span></pre><p id="0b1c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">可以将范围扩展到序列界限之外:</p><p id="1a4f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2365" class="ke kf hi jv b fi kg kh l ki kj">s[4:1000]</span></pre><p id="fea9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="220d" class="ke kf hi jv b fi kg kh l ki kj">'on'</span></pre><p id="6285" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你的第一个参数是<code class="du js jt ju jv b">0</code>，你甚至可以省略它。省略第二个参数意味着它将包括所有剩余的元素:</p><p id="d4e1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="9686" class="ke kf hi jv b fi kg kh l ki kj">s[0:3], s[:3]</span></pre><p id="d2d3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="60f5" class="ke kf hi jv b fi kg kh l ki kj">('pyt', 'pyt')</span></pre><p id="a05f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3fcf" class="ke kf hi jv b fi kg kh l ki kj">s[3:1000], s[3:], s[:]</span></pre><p id="0973" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2f17" class="ke kf hi jv b fi kg kh l ki kj">('hon', 'hon', 'python')</span></pre><p id="2d34" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们甚至可以扩展切片，提供开始、停止和一个步骤:</p><p id="e9e9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="8b77" class="ke kf hi jv b fi kg kh l ki kj">s, s[0:5], s[0:5:2]</span></pre><p id="d185" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="96c0" class="ke kf hi jv b fi kg kh l ki kj">('python', 'pytho', 'pto')</span></pre><p id="7eef" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="db7e" class="ke kf hi jv b fi kg kh l ki kj">s, s[::2]</span></pre><p id="d7d4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="4b00" class="ke kf hi jv b fi kg kh l ki kj">('python', 'pto')</span></pre><p id="c1d0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从技术上讲，我们也可以在切片中使用负值，包括扩展切片(稍后将详细介绍):</p><p id="6803" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="89a7" class="ke kf hi jv b fi kg kh l ki kj">s, s[<strong class="jv hj">-</strong>3:<strong class="jv hj">-</strong>1], s[::<strong class="jv hj">-</strong>1]</span></pre><p id="5cb2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="23bd" class="ke kf hi jv b fi kg kh l ki kj">('python', 'ho', 'nohtyp')</span></pre><p id="9356" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3237" class="ke kf hi jv b fi kg kh l ki kj">r <strong class="jv hj">=</strong> range(11)  <em class="lj"># numbers from 0 to 10 (inclusive)</em></span><span id="0df5" class="ke kf hi jv b fi kk kh l ki kj">print(r)</span><span id="5677" class="ke kf hi jv b fi kk kh l ki kj">print(list(r))</span><span id="0716" class="ke kf hi jv b fi kk kh l ki kj">Out:</span><span id="873b" class="ke kf hi jv b fi kk kh l ki kj">range(0, 11)<br/>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></pre><p id="fd98" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ebd7" class="ke kf hi jv b fi kg kh l ki kj">print(r[:5])</span><span id="05f4" class="ke kf hi jv b fi kk kh l ki kj">Out:</span><span id="6cbe" class="ke kf hi jv b fi kk kh l ki kj">range(0, 5)</span></pre><p id="2047" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="4709" class="ke kf hi jv b fi kg kh l ki kj">print(list(r[:5]))</span><span id="1c8b" class="ke kf hi jv b fi kk kh l ki kj">[0, 1, 2, 3, 4]</span></pre><p id="2e1d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">正如您所看到的，对一个范围进行切片也会像预期的那样返回一个range对象。</p><h2 id="2159" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">散列法</h2><p id="e9c8" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">不可变序列通常支持一个<code class="du js jt ju jv b">hash</code>方法，我们将在映射类型一节中详细讨论这个方法:</p><p id="acd8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="f8a9" class="ke kf hi jv b fi kg kh l ki kj">l <strong class="jv hj">=</strong> (1, 2, 3)</span><span id="642f" class="ke kf hi jv b fi kk kh l ki kj">hash(l)</span></pre><p id="4023" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2977" class="ke kf hi jv b fi kg kh l ki kj">2528502973977326415</span></pre><p id="4760" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="813d" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> '123'</span><span id="d4e6" class="ke kf hi jv b fi kk kh l ki kj">hash(s)</span></pre><p id="e5f4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="e9fb" class="ke kf hi jv b fi kg kh l ki kj">-1892188276802162953</span></pre><p id="1553" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="a42d" class="ke kf hi jv b fi kg kh l ki kj">r <strong class="jv hj">=</strong> range(10)</span><span id="ab52" class="ke kf hi jv b fi kk kh l ki kj">hash(r)</span></pre><p id="04b1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="f4d1" class="ke kf hi jv b fi kg kh l ki kj">-6299899980521991026</span></pre><p id="9fad" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是可变序列(以及一般的可变类型)不会:</p><p id="7d4f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="732c" class="ke kf hi jv b fi kg kh l ki kj">l <strong class="jv hj">=</strong> [1, 2, 3]</span><span id="5fda" class="ke kf hi jv b fi kk kh l ki kj">hash(l)</span><span id="1f44" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-54-22dd9c98a095&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/><strong class="jv hj">----&gt; 1 </strong>hash<strong class="jv hj">(</strong>l<strong class="jv hj">)</strong></span><span id="de25" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: unhashable type: 'list'</span></pre><p id="a1f2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另请注意，如果一个可哈希序列的一个(或多个)元素不可哈希，则该序列不再可哈希:</p><p id="397c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="cbe0" class="ke kf hi jv b fi kg kh l ki kj">t <strong class="jv hj">=</strong> (1, 2, [10, 20])</span><span id="9470" class="ke kf hi jv b fi kk kh l ki kj">hash(t)</span><span id="9ade" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-55-30cac1c4a226&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/>      1 t <strong class="jv hj">=</strong> <strong class="jv hj">(1,</strong> <strong class="jv hj">2,</strong> <strong class="jv hj">[10,</strong> <strong class="jv hj">20])</strong><br/><strong class="jv hj">----&gt; 2 </strong>hash<strong class="jv hj">(</strong>t<strong class="jv hj">)</strong></span><span id="ba60" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: unhashable type: 'list'</span></pre><p id="2720" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但这是可行的:</p><p id="f614" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="477d" class="ke kf hi jv b fi kg kh l ki kj">t <strong class="jv hj">=</strong> ('python', (1, 2, 3))</span><span id="e088" class="ke kf hi jv b fi kk kh l ki kj">hash(t)</span></pre><p id="d058" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ea68" class="ke kf hi jv b fi kg kh l ki kj">-8790163410081325536</span></pre><p id="6d5b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一般来说，不可变类型可能是可散列的，而不可变类型则不是。因此，数字、字符串、元组等是可散列的，但列表和集合不是:</p><p id="fff6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="c3cb" class="ke kf hi jv b fi kg kh l ki kj"><strong class="jv hj">from</strong> decimal <strong class="jv hj">import</strong> Decimal</span><span id="1520" class="ke kf hi jv b fi kk kh l ki kj">d <strong class="jv hj">=</strong> Decimal(10.5)</span><span id="0d47" class="ke kf hi jv b fi kk kh l ki kj">hash(d)</span></pre><p id="e1b9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3a6f" class="ke kf hi jv b fi kg kh l ki kj">1152921504606846986</span></pre><p id="b080" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">集合不可散列:</p><p id="08b8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="f680" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> {1, 2, 3}</span><span id="22b8" class="ke kf hi jv b fi kk kh l ki kj">hash(s)</span><span id="e1d7" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">---------------------------------------------------------------------------</strong><br/><strong class="jv hj">TypeError</strong>                                 Traceback (most recent call last)<br/><strong class="jv hj">&lt;ipython-input-58-2216931a6bc4&gt;</strong> in &lt;module&gt;<strong class="jv hj">()</strong><br/>      1 s <strong class="jv hj">=</strong> <strong class="jv hj">{1,</strong> <strong class="jv hj">2,</strong> <strong class="jv hj">3}</strong><br/><strong class="jv hj">----&gt; 2 </strong>hash<strong class="jv hj">(</strong>s<strong class="jv hj">)</strong></span><span id="17c6" class="ke kf hi jv b fi kk kh l ki kj"><strong class="jv hj">TypeError</strong>: unhashable type: 'set'</span></pre><p id="862b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是冻结集合，集合的不可变变体，是:</p><p id="6484" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="64da" class="ke kf hi jv b fi kg kh l ki kj">s <strong class="jv hj">=</strong> frozenset({1, 2, 3})</span><span id="326a" class="ke kf hi jv b fi kk kh l ki kj">hash(s)</span></pre><p id="4d3f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="7a5f" class="ke kf hi jv b fi kg kh l ki kj">-7699079583225461316</span></pre><h2 id="62a1" class="ke kf hi bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">连接和重复的注意事项</h2><p id="cb91" class="pw-post-body-paragraph iu iv hi iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">考虑一下这个:</p><p id="0133" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="7b7d" class="ke kf hi jv b fi kg kh l ki kj">x <strong class="jv hj">=</strong> [2000]</span><span id="2d6a" class="ke kf hi jv b fi kk kh l ki kj">id(x[0])</span></pre><p id="9488" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ab10" class="ke kf hi jv b fi kg kh l ki kj">2177520743920</span></pre><p id="3a08" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="eb96" class="ke kf hi jv b fi kg kh l ki kj">l <strong class="jv hj">=</strong> x <strong class="jv hj">+</strong> x</span><span id="b84d" class="ke kf hi jv b fi kk kh l ki kj">l</span></pre><p id="7eb4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ab48" class="ke kf hi jv b fi kg kh l ki kj">[2000, 2000]</span></pre><p id="3756" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="700e" class="ke kf hi jv b fi kg kh l ki kj">id(l[0]), id(l[1])</span></pre><p id="fd72" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2173" class="ke kf hi jv b fi kg kh l ki kj">(2177520743920, 2177520743920)</span></pre><p id="7058" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">不出所料，<code class="du js jt ju jv b">l[0]</code>和<code class="du js jt ju jv b">l[1]</code>中的物体是一样的。</p><p id="d9ae" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">也可以使用:</p><p id="4ca0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="d664" class="ke kf hi jv b fi kg kh l ki kj">l[0] <strong class="jv hj">is</strong> l[1]</span></pre><p id="da48" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="2ae9" class="ke kf hi jv b fi kg kh l ki kj">True</span></pre><p id="87c3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果被连接的对象是不可变的，这没什么大不了。但是如果它们是可变的:</p><p id="9b3c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="738a" class="ke kf hi jv b fi kg kh l ki kj">x <strong class="jv hj">=</strong> [ [0, 0] ]</span><span id="7c6f" class="ke kf hi jv b fi kk kh l ki kj">l <strong class="jv hj">=</strong> x <strong class="jv hj">+</strong> x</span><span id="6df8" class="ke kf hi jv b fi kk kh l ki kj">l</span></pre><p id="160f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3c5e" class="ke kf hi jv b fi kg kh l ki kj">[[0, 0], [0, 0]]</span></pre><p id="f64d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="57d7" class="ke kf hi jv b fi kg kh l ki kj">l[0] <strong class="jv hj">is</strong> l[1]</span></pre><p id="ddb7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="e999" class="ke kf hi jv b fi kg kh l ki kj">True</span></pre><p id="c61b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后我们有了以下内容:</p><p id="a990" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="8185" class="ke kf hi jv b fi kg kh l ki kj">l[0][0] <strong class="jv hj">=</strong> 100</span><span id="047d" class="ke kf hi jv b fi kk kh l ki kj">l[0]</span></pre><p id="95f1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="60ce" class="ke kf hi jv b fi kg kh l ki kj">[100, 0]</span></pre><p id="b64e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="ab38" class="ke kf hi jv b fi kg kh l ki kj">l</span></pre><p id="3462" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3d5e" class="ke kf hi jv b fi kg kh l ki kj">[[100, 0], [100, 0]]</span></pre><p id="1880" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，更改第一个元素的第一项也会更改第二个元素的第一项。</p><p id="18cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">正如我们刚才所做的，当使用<code class="du js jt ju jv b">+</code>操作符连接时，这看起来相当明显，同样的情况实际上发生在重复中，可能看起来不那么明显:</p><p id="b882" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="7466" class="ke kf hi jv b fi kg kh l ki kj">x <strong class="jv hj">=</strong> [ [0, 0] ]</span><span id="b3b0" class="ke kf hi jv b fi kk kh l ki kj">m <strong class="jv hj">=</strong> x <strong class="jv hj">*</strong> 3</span><span id="1bbf" class="ke kf hi jv b fi kk kh l ki kj">m</span></pre><p id="faac" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="8732" class="ke kf hi jv b fi kg kh l ki kj">[[0, 0], [0, 0], [0, 0]]</span></pre><p id="70e1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="b971" class="ke kf hi jv b fi kg kh l ki kj">m[0][0] <strong class="jv hj">=</strong> 100</span><span id="efad" class="ke kf hi jv b fi kk kh l ki kj">m</span></pre><p id="03c5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="0370" class="ke kf hi jv b fi kg kh l ki kj">[[100, 0], [100, 0], [100, 0]]</span></pre><p id="4a1c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">而事实上，连<code class="du js jt ju jv b">x</code>都变了:</p><p id="a76d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3867" class="ke kf hi jv b fi kg kh l ki kj">x</span></pre><p id="7e7e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="fa96" class="ke kf hi jv b fi kg kh l ki kj">[[100, 0]]</span></pre><p id="4715" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你真的想让这些重复的对象成为不同的对象，你必须以某种方式复制它们。简单的列表理解在这里很有用:</p><p id="51a1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="72c0" class="ke kf hi jv b fi kg kh l ki kj">x <strong class="jv hj">=</strong> [ [0, 0] ]</span><span id="d97b" class="ke kf hi jv b fi kk kh l ki kj">m <strong class="jv hj">=</strong> [e.copy() <strong class="jv hj">for</strong> e <strong class="jv hj">in</strong> x<strong class="jv hj">*</strong>3]</span><span id="b5d8" class="ke kf hi jv b fi kk kh l ki kj">m</span></pre><p id="30c4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="3b32" class="ke kf hi jv b fi kg kh l ki kj">[[0, 0], [0, 0], [0, 0]]</span></pre><p id="f7e0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="9c5c" class="ke kf hi jv b fi kg kh l ki kj">m[0][0] <strong class="jv hj">=</strong> 100</span><span id="9763" class="ke kf hi jv b fi kk kh l ki kj">m</span></pre><p id="1334" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="c1db" class="ke kf hi jv b fi kg kh l ki kj">[[100, 0], [0, 0], [0, 0]]</span></pre><p id="c7fc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="5c1c" class="ke kf hi jv b fi kg kh l ki kj">x</span></pre><p id="516e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出局:</p><pre class="jw jx jy jz fd ka jv kb kc aw kd bi"><span id="16dc" class="ke kf hi jv b fi kg kh l ki kj">[[0, 0]]</span></pre></div></div>    
</body>
</html>