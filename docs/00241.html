<html>
<head>
<title>How to Utilize EFS?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何利用EFS？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-utilize-efs-c3cd45412ea1?source=collection_archive---------0-----------------------#2020-12-01">https://medium.com/geekculture/how-to-utilize-efs-c3cd45412ea1?source=collection_archive---------0-----------------------#2020-12-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a683" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">什么是EFS？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/6e760ebd54042efce8f60caf2efdf6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*7fS9VPPn5vAu4gBkqv-6FA.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx"><a class="ae jj" href="http://www.msp360.com" rel="noopener ugc nofollow" target="_blank">www.msp360.com</a></figcaption></figure><p id="7926" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">亚马逊弹性文件服务(EFS)是AWS提供的三个主要存储选项中的最新一个。EFS是一个共享的、弹性的、基于云的文件系统，可以挂载在多个Amazon EC2实例上。它提供了一个传统的文件存储模型，将内容组织到目录和子目录中。</p><p id="db90" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">让我们来看看EFS的主要特色。</p><h1 id="420b" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">主要特征</h1><p id="38a2" class="pw-post-body-paragraph jk jl hi jm b jn ky ij jp jq kz im js jt la jv jw jx lb jz ka kb lc kd ke kf hb bi translated"><strong class="jm hj">共享存储</strong></p><p id="2297" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">EFS可以安装在多个EC2实例中，可以用作共享网络存储。除非EBS，否则它可以被来自同一区域的多个可用性区域的多个实例同时访问。它提供多台服务器的同步读写。</p><p id="e48a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">弹性</strong></p><p id="c03e" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">EFS是可扩展的，但与S3和EBS不同，它不需要手动扩展EFS。EFS的容量会根据添加或删除的工作负载自动增加或减少。</p><p id="85ac" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">按需付费</strong></p><p id="0d73" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">因为容量会自动扩展，所以不需要预配置存储。用户只需为正在使用的存储付费。</p><p id="370e" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">由于这些特殊的特点，EFS现在正被各行各业广泛使用。</p><h1 id="5b8d" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">用例</h1><p id="6273" class="pw-post-body-paragraph jk jl hi jm b jn ky ij jp jq kz im js jt la jv jw jx lb jz ka kb lc kd ke kf hb bi translated"><strong class="jm hj">机器学习和大数据分析</strong></p><p id="e1c5" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">亚马逊EFS最适合用于大量数据，例如用于分析的大量工作负载。虽然像EBS这样的不可扩展存储无法处理这种大规模数据，因为用户需要将其拆分并分散在不同的EBS实例中，但亚马逊EFS通过高吞吐量和低延迟操作提供了大数据应用程序所需的规模和效率。EFS支持同时访问不同可用性区域中的数千个EC2实例，提供了无缝处理和分析大量数据的机会。</p><p id="c47a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">媒体和娱乐工作流程</strong></p><p id="e780" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">需要从许多服务器访问的大型媒体文件强烈依赖于具有共享存储的需求。EFS通过高吞吐量和可扩展的性能提供高数据一致性。对大型媒体文件的共享访问通过在多个服务器之间分配工作负载，为媒体处理提供了巨大的支持。</p><p id="cde8" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">主目录</strong></p><p id="7671" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">亚马逊EFS为用户提供了一个文件管理器界面，它使用标准的文件系统语义，比如锁定、重命名和修改文件。它使用一种类似于基于标准前提的系统的分层结构。在数据集有多个用户的情况下，数据集的管理员或所有者可以从亚马逊EFS获得访问控制设施。所有者可以在文件或目录级别为用户和组设置访问和更新权限。</p><p id="bfdc" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">内容管理和网络服务</strong></p><p id="a1ab" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">EFS是专为大数据工作负载和分析应用程序产生的海量数据而设计的，特别是EBS无法访问以进行处理和分析的大数据。亚马逊EFS为内容管理系统提供了一个持久、高吞吐量和可扩展的文件系统，可以为各种应用程序(如网站、在线日志和档案)快速提供静态文件。</p><p id="1020" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">大型内容存储库</strong></p><p id="a492" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">具有高吞吐量的共享文件系统减少了在各种存储库上执行作业的时间，并将多个本地文件存储库集成到一个位置。</p><p id="132a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">但是，EFS不适合需要频繁修改的工作负载。非常重要的是要记住，当许多小文件经常被修改时，亚马逊EFS的性能可能会下降。</p><p id="7ba9" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">数据库备份、数据库转储和日志文件</strong></p><p id="3244" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">亚马逊EFS的可伸缩性为存储大型数据库备份、转储和日志文件提供了便利。许多企业受益于在云中存储数据库备份的灵活性，无论是为了更新期间的临时保护，还是为了开发和测试。</p><p id="2ea7" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><strong class="jm hj">开发和测试环境数据</strong></p><p id="43f9" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">使用EFS时，不需要在开发开始时预测开发最后阶段所需的测试数据和开发数据所需的存储。这样，EFS有助于降低高估存储的资本投资成本。</p><p id="2441" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">迷茫？如果您比较三个主要的AWS存储选项，您会看到一些常见的用例。那么，我们到底应该何时以及如何使用EFS呢？</p></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><h1 id="199f" class="kg kh hi bd ki kj lk kl km kn ll kp kq io lm ip ks ir ln is ku iu lo iv kw kx bi translated">EFS最好的！</h1><p id="93f9" class="pw-post-body-paragraph jk jl hi jm b jn ky ij jp jq kz im js jt la jv jw jx lb jz ka kb lc kd ke kf hb bi translated">EFS是为低延迟应用程序而设计的，具有IOPS，吞吐量随着EC2实例的使用和数量而扩展。当存储大小增加时，性能也会提高。在峰值性能时，EFS提供每秒10GB的吞吐量和500k的IOPS。</p><p id="dcea" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">亚马逊EFS不是为小型、通用和频繁访问的工作负载设计的，比如版本控制系统和频繁访问的存储库。对于需要快照的工作负载，EBS将是比EFS更好的解决方案。此外，不能从Microsoft Windows操作系统访问EFS，因为它不支持Windows使用的服务器消息块(SMB)协议。需要高IOPS(每秒输入输出)的应用程序(如OLTP数据库)在AWS EFS中无法高效运行，尤其是在以通用性能模式运行的EFS中。</p><blockquote class="lp lq lr"><p id="0cfd" class="jk jl ls jm b jn jo ij jp jq jr im js lt ju jv jw lu jy jz ka lv kc kd ke kf hb bi translated">性能模式</p></blockquote><p id="e5a0" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">亚马逊AWS提供了两种性能模式。</p><ul class=""><li id="212e" class="lw lx hi jm b jn jo jq jr jt ly jx lz kb ma kf mb mc md me bi translated">通用性能模式</li><li id="35c7" class="lw lx hi jm b jn mf jq mg jt mh jx mi kb mj kf mb mc md me bi translated">最大I/O性能模式</li></ul><p id="15be" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">通用性能模式是EFS的默认模式，当应用程序需要更高的吞吐量时，建议切换到最大I/O性能模式，但是，这种更高的吞吐量是以更高的延迟为代价的。最大I/O性能模式对于由大量EC2实例访问的应用程序来说是最佳的。</p><h1 id="3eac" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">什么时候应该使用EFS？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mk"><img src="../Images/ea16c59c4cc967a23e7fe62c5b060787.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*xf3oEUddiT4BnxMHrYYisg.jpeg"/></div></figure><ul class=""><li id="a104" class="lw lx hi jm b jn jo jq jr jt ly jx lz kb ma kf mb mc md me bi translated">当您需要基于云的文件系统时。</li></ul><p id="a11f" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">您可以像处理本地文件系统一样处理EFS的文件和目录。</p><ul class=""><li id="1451" class="lw lx hi jm b jn jo jq jr jt ly jx lz kb ma kf mb mc md me bi translated">当您需要具有并发访问能力的大型共享存储时。</li></ul><p id="4cd5" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">EFS最适合无法用单个EC2实例连接的大量数据。</p><ul class=""><li id="e0df" class="lw lx hi jm b jn jo jq jr jt ly jx lz kb ma kf mb mc md me bi translated">当您需要一个可伸缩的、有弹性的文件系统时。</li></ul><p id="e929" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">随着数据移入或移出，EFS会自动扩展或缩小，这消除了您在工作过程中耗尽存储空间的担忧，并为扩展付出了额外的努力。</p><ul class=""><li id="cd04" class="lw lx hi jm b jn jo jq jr jt ly jx lz kb ma kf mb mc md me bi translated">当您不需要为您不使用的东西额外付费时。</li></ul><p id="7554" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">使用EFS时，您只需为当前使用的存储空间付费。</p></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><h1 id="6137" class="kg kh hi bd ki kj lk kl km kn ll kp kq io lm ip ks ir ln is ku iu lo iv kw kx bi translated">结论</h1><p id="d171" class="pw-post-body-paragraph jk jl hi jm b jn ky ij jp jq kz im js jt la jv jw jx lb jz ka kb lc kd ke kf hb bi translated">EFS是最昂贵的主要AWS存储选项，因此最大限度地利用您所能负担的非常重要。</p><p id="efce" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">从亚马逊EFS获得的优势取决于如何使用它。首先，仔细确定你的储物需求，决定它是否值得与EFS同行。说到共享的、可扩展的大型文件系统，EFS是不二之选！</p></div></div>    
</body>
</html>