<html>
<head>
<title>But what is Synchronous and Asynchronous programming?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">但是什么是同步和异步编程呢？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/but-what-is-synchronous-and-asynchronous-programming-86d1e92471c?source=collection_archive---------22-----------------------#2021-07-20">https://medium.com/geekculture/but-what-is-synchronous-and-asynchronous-programming-86d1e92471c?source=collection_archive---------22-----------------------#2021-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1826e5adee89f252053c1896ee732784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_z-BxvDLZ_B411hJju1ow.png"/></div></div></figure><p id="022a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">回调、承诺和异步等待…这些是什么？我们为什么需要它们？如果你是一个新手，很容易被这些术语弄糊涂。所以让我们一劳永逸地结束这种混乱，把它分成更小的、更容易理解的概念。</p><p id="ad92" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们从弄清楚什么是同步和异步编程开始。</p><h2 id="7961" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">同步编程</h2><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fca9f377c8c157334c93dd61ecbf9374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zVwOySeWlggK5S52Ot_W_w.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Source: <a class="ae kr" rel="noopener" href="/from-the-scratch/wtf-is-synchronous-and-asynchronous-1a75afd039df">https://medium.com/from-the-scratch/wtf-is-synchronous-and-asynchronous-1a75afd039df</a></figcaption></figure><p id="5f4e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在同步程序中，任务<strong class="is hj">一次执行一个，只有当一个任务完成</strong>时，下面的任务才被解除阻塞。换句话说，你需要等待一个任务完成才能进入下一个。</p><pre class="kj kk kl km fd ks kt ku kv aw kw bi"><span id="4a5a" class="jo jp hi kt b fi kx ky l kz la">console.log("Hello,") //Instruction 1</span><span id="999d" class="jo jp hi kt b fi lb ky l kz la">const syncExample=()=&gt;{</span><span id="a1fd" class="jo jp hi kt b fi lb ky l kz la">console.log("How are you?") </span><span id="0c5e" class="jo jp hi kt b fi lb ky l kz la">}</span><span id="e63b" class="jo jp hi kt b fi lb ky l kz la">syncExample()//Instruction 2</span><span id="a5b9" class="jo jp hi kt b fi lb ky l kz la">console.log("World.")//Instruction 3</span></pre><p id="248b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为javascript是单线程编程语言，即它逐行读取代码并按顺序执行，所以上述同步代码片段的输出如下。</p><pre class="kj kk kl km fd ks kt ku kv aw kw bi"><span id="03e1" class="jo jp hi kt b fi kx ky l kz la">Hello,<br/>How are you?<br/>World.</span></pre><p id="7a97" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如javascript编译器所预期的，首先读取并执行指令1，然后是指令2和指令3。</p><h2 id="24c7" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">异步编程</h2><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e44c6a480c083d9506bb6a627e4e4940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_rEjSqEdj3oU52MKr-fd9g.png"/></div></div></figure><p id="9936" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">异步编程允许您执行并行编程。这样，您可以在不阻塞主进程/线程的情况下执行该工作。</p><p id="1073" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下面的代码片段中，我修改了前面的代码，并通过添加操作setTimeout使其异步。有几个异步函数，如ClickListener、fetch、setInterval等。那也可以用。</p><pre class="kj kk kl km fd ks kt ku kv aw kw bi"><span id="5bc5" class="jo jp hi kt b fi kx ky l kz la">console.log("Hello,"); //Instruction 1</span><span id="2fee" class="jo jp hi kt b fi lb ky l kz la">const asyncExample = () =&gt; {</span><span id="1536" class="jo jp hi kt b fi lb ky l kz la">setTimeout(() =&gt; {</span><span id="d519" class="jo jp hi kt b fi lb ky l kz la">console.log("How are you?");</span><span id="eee8" class="jo jp hi kt b fi lb ky l kz la">}, 3000);</span><span id="02ae" class="jo jp hi kt b fi lb ky l kz la">};</span><span id="40ae" class="jo jp hi kt b fi lb ky l kz la">asyncExample(); //Instruction 2</span><span id="5ee2" class="jo jp hi kt b fi lb ky l kz la">console.log("World."); //Instruction 3</span></pre><p id="18e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你能猜出上面的输出吗？根据我们对javascript行为的了解，应该首先执行指令1，然后在等待3秒后执行指令2，最后执行指令3。对吗？</p><p id="d8bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不完全是。实际输出如下。</p><pre class="kj kk kl km fd ks kt ku kv aw kw bi"><span id="6031" class="jo jp hi kt b fi kx ky l kz la">Hello,<br/>World.<br/>How are you?</span></pre><p id="18b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里发生了什么？为什么javascript行为不端？</p><p id="0259" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其实不是的。</p><p id="dd8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Javascript简单地将其异步操作发送给WebAPI，反过来，WebAPI跟踪setTimeout函数中的计时器。所以基本上，当JavaScript编译器遇到异步函数时，它只是将执行上下文弹出到WebAPI，并继续执行其主函数。从而同时执行两项任务。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/73608dc6061cbe04313a848b1154a520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kQs-4w6mzuqp0E9I.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Source: <a class="ae kr" href="https://www.dotnetcurry.com/aspnet/1192/aspnet-web-api-async-calls-mvc-wpf" rel="noopener ugc nofollow" target="_blank">https://www.dotnetcurry.com/aspnet/1192/aspnet-web-api-async-calls-mvc-wpf</a></figcaption></figure><p id="8a3c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，如果我们希望在主执行上下文中使用异步函数的结果，该怎么办呢？这就是问题所在。</p><p id="ae97" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我给你看一个例子。</p><pre class="kj kk kl km fd ks kt ku kv aw kw bi"><span id="97a2" class="jo jp hi kt b fi kx ky l kz la">console.log("Hello,"); //Instruction 1</span><span id="c52b" class="jo jp hi kt b fi lb ky l kz la">const asyncExample = (givenName) =&gt; {</span><span id="27bc" class="jo jp hi kt b fi lb ky l kz la">setTimeout(() =&gt; {</span><span id="ee08" class="jo jp hi kt b fi lb ky l kz la">console.log("Execution of function.");</span><span id="1fe1" class="jo jp hi kt b fi lb ky l kz la">return { name: givenName };</span><span id="3e82" class="jo jp hi kt b fi lb ky l kz la">}, 3000);</span><span id="2585" class="jo jp hi kt b fi lb ky l kz la">};</span><span id="19f0" class="jo jp hi kt b fi lb ky l kz la">console.log(asyncExample("Puja")); //Instruction 2</span><span id="076f" class="jo jp hi kt b fi lb ky l kz la">console.log("World."); //Instruction 3</span></pre><p id="7e08" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于setTimeout函数，asyncExample在执行3秒钟后返回其输出。上述代码片段的输出是</p><pre class="kj kk kl km fd ks kt ku kv aw kw bi"><span id="40a1" class="jo jp hi kt b fi kx ky l kz la">Hello,<br/>undefined<br/>World.<br/>Execution of function.</span></pre><p id="8eeb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于调用asyncExample函数时它仍在运行，编译器返回一个“未定义”的输出。最后，当setTimeout函数运行完毕时，我们得到控制台日志输出“函数的执行”在asyncExample函数内部。有几种方法可以解决这个问题:允许异步函数完成它的执行，然后在函数调用中检索数据。</p><p id="c609" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我的下一篇文章中，我将讨论回调、承诺和async-await，它们有助于处理异步代码的问题。</p></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><p id="22f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，希望你喜欢这篇文章。我是Puja，一个正在发展中的开发者。研究和写这样一篇文章需要做很多工作，还需要鼓掌或关注👏从你开始意味着整个世界🌍对我来说。对你来说不到10秒，对我来说也是伸手可及！你也可以问我任何问题，或者指出任何事情，或者只是说声“嘿”👇在下面。</p></div></div>    
</body>
</html>