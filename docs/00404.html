<html>
<head>
<title>React setState() and Why State Should Not Be Mutated Directly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React setState()以及为什么状态不应该直接变异</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/react-setstate-and-why-state-should-not-be-mutated-directly-8a4e15b0449e?source=collection_archive---------4-----------------------#2021-02-01">https://medium.com/geekculture/react-setstate-and-why-state-should-not-be-mutated-directly-8a4e15b0449e?source=collection_archive---------4-----------------------#2021-02-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ca9d8e3b9d61340c30b86dfc0972bddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7J74c5AVS9Y9DAISFmNXOQ.png"/></div></div></figure><p id="0d53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您正在React中使用类组件，很可能您想要访问<em class="jo">状态</em>。使用钩子可以在功能组件中使用<em class="jo">状态</em>，但是这里我们将更仔细地看看类组件中的setState函数。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/0486553300139b035c07d0c5476f5126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RjB_9oh7Rf1YVM9ZdKkiQQ.png"/></div></div></figure><p id="21f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">React类组件提供setState函数，该函数在被调用时将更新<em class="jo">状态</em>，并告诉react重新渲染组件以及所有子组件。这在使用事件处理程序时非常方便。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/291ffcbd43c98d0fed3d87d965d8b651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*u71R7nqlrL_41FtOImVB0A.png"/></div></figure><p id="2f8e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，为什么我们使用setState而不是直接改变状态呢？好吧，React保留了前一个状态的副本，并把它作为一个参考点。当我们使用setState时，它会在系统内存中创建一个新项目…一个与原始项目截然不同的项目…现在，React能够根据之前的状态来区分哪些项目需要重新渲染。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/157d8bccb2aa7cb4dd11c00db767c519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VeJ4U2ynrxYf3gsdMBzVww.png"/></div></div></figure><p id="cc43" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们直接改变状态，不仅会失去这个功能，而且因为没有参考点，添加或更改现有元素的值仍然会等于它以前的状态。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/f79e1a0010cf3bc60e42d5968c3ce901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*Eyo43E-f7mloPmrcql4ycw.png"/></div></figure><p id="08ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们能从中得到什么？这很简单。不要直接改变状态。</p></div></div>    
</body>
</html>