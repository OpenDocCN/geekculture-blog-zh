<html>
<head>
<title>Angular:Passing data into and out of Dynamic Components created using ComponentFactoryResolver</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular:将数据传入和传出使用ComponentFactoryResolver创建的动态组件</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/angular-passing-data-into-and-out-of-dynamic-components-created-using-componentfactoryresolver-64c5d08c61e8?source=collection_archive---------0-----------------------#2021-11-07">https://medium.com/geekculture/angular-passing-data-into-and-out-of-dynamic-components-created-using-componentfactoryresolver-64c5d08c61e8?source=collection_archive---------0-----------------------#2021-11-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f410" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我探索了两种创建动态组件的方法:<strong class="ih hj">componentforyresolver</strong>和<strong class="ih hj">ngcomponentfoutlet</strong>，以及如何将数据传入传出组件。</p><p id="0635" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个故事中，我们只是在看第一种方法。</p><p id="f7a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你正在寻找第二种方法，请点击下面的链接。</p><div class="jd je ez fb jf jg"><a href="https://link.medium.com/Bi48Ihtu0kb" rel="noopener follow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">Angular:将数据传入和传出使用ngComponentOutlet创建的动态组件</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">我已经写了一个故事，探讨了如何将数据传入和传出使用…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">link.medium.com</p></div></div><div class="jp l"><div class="jq l jr js jt jp ju jv jg"/></div></div></a></div><p id="a60e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我假设你知道什么是动态组件，为什么需要它。这超出了本故事的范围。</p><p id="f9d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从创建两个选项卡开始，它们实际上是两个组件:<strong class="ih hj"> Tab1Component和Tab2Component </strong>动态加载到父组件<strong class="ih hj"> TabContainerComponent </strong>中</p><p id="c8d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> TabContainerComponent模板:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="30c6" class="kf kg hi kb b fi kh ki l kj kk">&lt;ul class=”nav”&gt;<br/>&lt;li <strong class="kb hj">*ngFor=”let x of tabs</strong>;let ind = index<strong class="kb hj">” </strong>class=”nav-item”&gt;<br/>&lt;a <strong class="kb hj">[ngClass]="x.isActive ? 'activeTab' : ''"</strong> <br/>class=”nav-link” <strong class="kb hj">(click)=”loadTabs(x.component, x.data,ind)”</strong>&gt;<strong class="kb hj">{{x.tab}}</strong>&lt;/a&gt;<br/>&lt;/li&gt;<br/>&lt;/ul&gt;</span><span id="9283" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">&lt;ng-template #view&gt;&lt;/ng-template&gt;</strong></span><span id="c534" class="kf kg hi kb b fi kl ki l kj kk">&lt;p&gt;Data received from Tab:<strong class="kb hj">{{ receivedData }}</strong>&lt;/p&gt;</span></pre><figure class="jw jx jy jz fd kn er es paragraph-image"><div class="er es km"><img src="../Images/71d60da83b8388ff294fcdeeede0b48f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*6OWLFqHkQKmtGQ4i-03L3w.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">Tab1 is active in TabsContainerComponent</figcaption></figure><figure class="jw jx jy jz fd kn er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es kt"><img src="../Images/7a6c68064209a3a169a9d1e2eea638e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iEsFlN3PU65B_wqZtKECsQ.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Tab2 is active in TabsContainerComponent</figcaption></figure><p id="752f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们正在迭代一个变量<strong class="ih hj"> tabs，</strong>，它是一个包含每个选项卡的数据、组件细节和活动状态的2个对象的数组。</p><p id="4d70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击一个特定的选项卡，我们调用一个方法<strong class="ih hj"> loadTabs() </strong>，传递组件名、选项卡数据和选项卡索引作为参数。</p><p id="d870" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该选项卡将加载到<strong class="ih hj"> &lt; ng模板&gt; </strong>内，该模板已被分配了一个名为<strong class="ih hj">视图</strong>的引用。</p><p id="4972" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> TabContainerComponent类:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="bad9" class="kf kg hi kb b fi kh ki l kj kk">export class <strong class="kb hj">TabsContainerComponent </strong>implements OnInit {<br/>constructor(<strong class="kb hj">private resolver: ComponentFactoryResolver</strong>) {}</span><span id="2311" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">@ViewChild(‘view’, { read: ViewContainerRef }) view: ViewContainerRef;</strong><br/>//read property must be added to avoid undefined errors in //loadTabs()</span><span id="87b1" class="kf kg hi kb b fi kl ki l kj kk">public <strong class="kb hj">tabs</strong>: any = [{<br/>tab: ‘Tab1’,<br/>component: <strong class="kb hj">Tab1Component</strong>,<br/>data: ‘This is the first Tab’,<br/>isActive:true<br/>},<br/>{<br/>tab: ‘Tab2’,<br/>component: <strong class="kb hj">Tab2Component</strong>,<br/>data: ‘This is the second tab’,<br/>isActive:false<br/>},<br/>];</span><span id="6e6a" class="kf kg hi kb b fi kl ki l kj kk">public <strong class="kb hj">receivedData</strong>: string;</span><span id="2368" class="kf kg hi kb b fi kl ki l kj kk">ngOnInit() {}</span><span id="f4fc" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">ngAfterViewInit()</strong> {<br/>this.loadTabs(this.tabs[0].component, this.tabs[0].data,0);<br/>}</span><span id="39d4" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">setActiveTab(tabInd: number) {</strong><br/>this.tabs.forEach((tab, tabIndex) =&gt; {<br/>tab.isActive = tabIndex === tabInd;<br/>});<br/>}</span><span id="4a3f" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">loadTabs(tabComponent: any, tabData: string,tabIndex: number) {</strong><br/>this.view.clear();<br/>setTimeout(() =&gt; {</span><span id="2237" class="kf kg hi kb b fi kl ki l kj kk">this.<strong class="kb hj">setActiveTab(tabIndex)</strong>;<br/>this.receivedData = ‘’;<br/>let componentFactory =<br/>this.resolver.<strong class="kb hj">resolveComponentFactory</strong>(tabComponent);</span><span id="f7f6" class="kf kg hi kb b fi kl ki l kj kk">let componentRef: ComponentRef&lt;typeof tabComponent&gt; =<br/>this.view.<strong class="kb hj">createComponent</strong>(componentFactory);</span><span id="6149" class="kf kg hi kb b fi kl ki l kj kk">componentRef.instance.data = tabData;<br/>componentRef.instance.output.subscribe((results) =&gt; {<br/>this.receivedData = results;<br/>});</span><span id="98ed" class="kf kg hi kb b fi kl ki l kj kk">}, 0);</span><span id="d9e9" class="kf kg hi kb b fi kl ki l kj kk">}}</span></pre><p id="8aae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个类中，我们定义了数组<strong class="ih hj"> tabs </strong>，这是一个由两个对象组成的数组。每个对象包含4个属性:<strong class="ih hj">选项卡、组件、数据和isActive </strong></p><p id="1eb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选项卡包含要在模板中显示的选项卡名称；组件包含该页签对应的组件名称，即<strong class="ih hj">页签1组件和页签2组件</strong>；数据包含一个小字符串，它将作为输入传递给组件；isActive告诉我们该选项卡当前是否被选中。</p><p id="0090" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们正在使用<strong class="ih hj">视图</strong>引用访问<ng-template>。</ng-template></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="07c5" class="kf kg hi kb b fi kh ki l kj kk"><strong class="kb hj">@ViewChild(‘view’, { read: ViewContainerRef }) view: ViewContainerRef;</strong></span></pre><p id="b139" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> receivedData </strong>包含从选项卡发送到TabContainerComponent的数据。我们在TabContainerComponent中显示如下的<strong class="ih hj">接收数据</strong>。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="4371" class="kf kg hi kb b fi kh ki l kj kk">&lt;p&gt;Data received from Tab:<strong class="kb hj">{{ receivedData }}</strong>&lt;/p&gt;</span></pre><figure class="jw jx jy jz fd kn er es paragraph-image"><div class="er es ky"><img src="../Images/bc9ddf66da299e0902eadf7326457cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*R7cOgkmfpxZnMQ1AruUCvQ.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">TabsContainerComponent receives data from Tab1</figcaption></figure><figure class="jw jx jy jz fd kn er es paragraph-image"><div class="er es kz"><img src="../Images/54e0be89ca8ad1d4e609239624751220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*-NVwdqIDeCV7sA1vgaTTVw.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">TabsContainerComponent receives data from Tab2</figcaption></figure><p id="e9c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在应用程序加载时，我们希望创建Tab1Component并显示其数据。因此在<strong class="ih hj">ngafterviewit()</strong>中，我们调用<strong class="ih hj"> loadTabs() </strong>传递组件、<strong class="ih hj">选项卡数组</strong>的第一个对象的数据属性和选项卡索引<strong class="ih hj"> </strong>作为参数。</p><p id="9ce2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么要ngAfterViewInit()？因为@ViewChild引用视图仅在ngAfterViewInit生命周期挂钩中可用。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="9457" class="kf kg hi kb b fi kh ki l kj kk"><strong class="kb hj">ngAfterViewInit()</strong> {<br/>this.loadTabs(this.tabs[0].component, this.tabs[0].data,0);<br/>}</span></pre><p id="645c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们跳到loadTabs()方法。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="08fa" class="kf kg hi kb b fi kh ki l kj kk"><strong class="kb hj">loadTabs(tabComponent: any, tabData: string,tabIndex:number) {</strong><br/>this.view.clear();<br/>setTimeout(() =&gt; {</span><span id="16fd" class="kf kg hi kb b fi kl ki l kj kk">this.<strong class="kb hj">setActiveTab(tabIndex);</strong><br/>this.receivedData = ‘’;<br/>let componentFactory =<br/>this.resolver.<strong class="kb hj">resolveComponentFactory</strong>(tabComponent);</span><span id="06e2" class="kf kg hi kb b fi kl ki l kj kk">let componentRef: ComponentRef&lt;typeof tabComponent&gt; =<br/>this.view.<strong class="kb hj">createComponent</strong>(componentFactory);</span><span id="eb89" class="kf kg hi kb b fi kl ki l kj kk">componentRef.instance.data = tabData;<br/>componentRef.instance.output.subscribe((results) =&gt; {<br/>this.receivedData = results;<br/>});</span><span id="fecf" class="kf kg hi kb b fi kl ki l kj kk">}, 0);</span><span id="62bb" class="kf kg hi kb b fi kl ki l kj kk">}</span></pre><p id="b2b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> clear() </strong>调用引用<strong class="ih hj">视图</strong>会破坏任何已有的视图。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="7449" class="kf kg hi kb b fi kh ki l kj kk">this.view.clear();</span></pre><p id="0b01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将其余代码包含在setTimeout()中的目的是为了避免ExpressionChangedAfterChecked错误。</p><p id="ae93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先调用<strong class="ih hj"> setActiveTab() </strong>，将选项卡索引作为参数传递，以便设置选项卡的<strong class="ih hj"> isActive </strong>属性值。基于这个属性值，我们使用ngClass添加或删除CSS类<strong class="ih hj"> activeTab </strong>，如下所示。</p><p id="326b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个CSS类只是添加了一个背景色到活动标签中，以示区别。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="cadf" class="kf kg hi kb b fi kh ki l kj kk">&lt;li <strong class="kb hj">*ngFor=”let x of tabs</strong>;let ind = index<strong class="kb hj">” </strong>class=”nav-item”&gt;<br/>&lt;a <strong class="kb hj">[ngClass]="x.isActive ? 'activeTab' : ''"</strong> <br/>class=”nav-link” <strong class="kb hj">(click)=”loadTabs(x.component, x.data,ind)”</strong>&gt;<strong class="kb hj">{{x.tab}}</strong>&lt;/a&gt;<br/>&lt;/li&gt;</span></pre><p id="43bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们接下来将<strong class="ih hj"> receivedData </strong>属性设置为空字符串，这样在切换选项卡时，前一个选项卡的数据将被删除。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="5655" class="kf kg hi kb b fi kh ki l kj kk">this.receivedData = ‘’;</span></pre><p id="8767" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> ComponentFactory </strong>是可以动态创建组件的工厂的基类。</p><p id="096b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">componentffactoryresolver</strong>将组件映射到ComponentFactory类。</p><p id="b93a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> resolve </strong>是在构造函数内部创建的<strong class="ih hj">componentffactoryresolver</strong>的引用。我们在这个解析引用上调用方法<strong class="ih hj">resolveComponentFactory()</strong>,并将组件名作为参数传递给它。</p><p id="b8e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">工厂<strong class="ih hj">组件工厂</strong>从方法<strong class="ih hj"> resolveComponentFactory()返回。</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="5ecc" class="kf kg hi kb b fi kh ki l kj kk">let componentFactory =<br/>this.resolver.<strong class="kb hj">resolveComponentFactory</strong>(tabComponent);</span></pre><p id="03e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过将<strong class="ih hj"> componentFactory </strong>传递给引用<strong class="ih hj">视图的<strong class="ih hj"> createComponent() </strong>方法，</strong>创建了动态组件的一个实例，并将其宿主视图插入到视图容器中。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="dff7" class="kf kg hi kb b fi kh ki l kj kk">let componentRef: ComponentRef&lt;typeof tabComponent&gt; =<br/>this.view.<strong class="kb hj">createComponent</strong>(componentFactory);</span></pre><p id="5bce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建的动态组件实例:<strong class="ih hj"> componentRef </strong>可以用来访问组件的属性和方法。</p><p id="39bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用这个实例向动态选项卡组件传递数据，并从它那里接收数据。</p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="a068" class="kf kg hi kb b fi kh ki l kj kk">componentRef.instance.data = tabData;<br/>componentRef.instance.output.subscribe((results) =&gt; {<br/>this.receivedData = results;<br/>});</span></pre><p id="71d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将数据传递给实例的名为<strong class="ih hj"> data </strong>的属性。这个属性<strong class="ih hj">数据</strong>将是动态标签组件内部的@Input()属性。</p><p id="c4e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还为这个实例附加了一个属性<strong class="ih hj">输出</strong>，它实际上是动态标签组件中的一个<strong class="ih hj">主题</strong>。这将有助于父TabContainerComponent从子动态选项卡组件接收数据。</p><p id="71e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了理解这是如何发生的，让我们检查一下彼此非常相似的tab 1组件和tab 2组件。</p><p id="ed83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">tab 1组件模板:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="c20d" class="kf kg hi kb b fi kh ki l kj kk">&lt;p&gt;Data received from Parent Component:<strong class="kb hj">{{data}}</strong>&lt;/p&gt;</span><span id="490d" class="kf kg hi kb b fi kl ki l kj kk">&lt;button (click)=”<strong class="kb hj">sendData()</strong>”&gt;Send data from Tab1 to Parent&lt;/button&gt;</span></pre><p id="c51a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">表1组件类:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="f0e3" class="kf kg hi kb b fi kh ki l kj kk">export class Tab1Component implements OnInit {<br/>constructor() {}</span><span id="8227" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">@Input(‘data’) data: string;<br/>private output = new Subject&lt;string&gt;();</strong></span><span id="3c75" class="kf kg hi kb b fi kl ki l kj kk">ngOnInit() {}</span><span id="9e61" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">sendData() {</strong><br/>this.output.next(‘Sent data from Tab1’);<br/>}<br/>}</span></pre><p id="c7ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当我们点击<strong class="ih hj">将数据从Tab1发送到父</strong>按钮时，主题<strong class="ih hj">输出</strong>正在被传递一些数据。如前所述，我们在TabsContainerComponent中订阅这个输出主题。</p><p id="ce0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Tab2Component现在是不言自明的，因为它只是Tab1Component的副本，只做了一些小的改动。</p><p id="f436" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">tab 2组件模板:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="ebd0" class="kf kg hi kb b fi kh ki l kj kk">&lt;p&gt;Data received from Parent Component:<strong class="kb hj">{{data}}</strong>&lt;/p&gt;</span><span id="71a3" class="kf kg hi kb b fi kl ki l kj kk">&lt;button (click)=”<strong class="kb hj">sendData()</strong>”&gt;Send data from Tab2 to Parent&lt;/button&gt;</span></pre><p id="b4e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">tab 2组件类:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="3a41" class="kf kg hi kb b fi kh ki l kj kk">export class <strong class="kb hj">Tab2Component </strong>implements OnInit {<br/>constructor() {}</span><span id="a6de" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">@Input(‘data’) data: string;<br/>private output = new Subject&lt;string&gt;();</strong></span><span id="b35f" class="kf kg hi kb b fi kl ki l kj kk">ngOnInit() {}</span><span id="9db4" class="kf kg hi kb b fi kl ki l kj kk"><strong class="kb hj">sendData() {</strong><br/>this.output.next(‘Sent data from Tab2’);<br/>}<br/>}</span></pre><p id="7827" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个非常简单的例子，但是一旦理解了这个想法，实现复杂的例子将是轻而易举的事情。</p><p id="caf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在下面的链接查看整个工作:</p><div class="jd je ez fb jf jg"><a href="https://stackblitz.com/edit/angular-qyzrvk?file=src/app/tabs-container/tabs-container.component.html" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">角形(叉形)堆叠</h2><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">将数据传入和传出使用componentforyresolver stackblitz.com创建的动态组件</p></div></div><div class="jp l"><div class="la l jr js jt jp ju jv jg"/></div></div></a></div></div></div>    
</body>
</html>