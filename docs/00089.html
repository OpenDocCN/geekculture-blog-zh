<html>
<head>
<title>CRUD WITH VANILLA JAVASCRIPT</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">普通JAVASCRIPT的CRUD</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/crud-with-vanilla-javascript-ff1f54e93cf5?source=collection_archive---------0-----------------------#2020-04-28">https://medium.com/geekculture/crud-with-vanilla-javascript-ff1f54e93cf5?source=collection_archive---------0-----------------------#2020-04-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="ab fe cl ij"><img src="../Images/37b8c8c16dde211dd9080d9b1066c99f.png" data-original-src="https://miro.medium.com/v2/0*h2vVdvRRDvNFTq3M"/></div></figure><p id="0a68" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">作为一名开发人员，在构建web或移动应用程序时，您一定已经达到了想要创建、读取、更新和删除数据的程度。</p><p id="7c2f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">数组和对象之类的东西用来保存用户的动态数据。能够存储和更新这些数据对于正确控制数据的使用非常重要。</p><p id="b339" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，您将看到并学习如何使用我们将使用普通JavaScript构建的Product_List_App对表单输入数据执行CRUD操作。</p><p id="90bc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们创建我们的产品列表应用程序文件。你可以使用任何你喜欢的HTML编辑器，但是我在这个课程中使用visual studio代码(vscode)。</p><p id="0809" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在编辑器中打开一个新文件夹，命名为Product_List_App，在里面创建一个文件，命名为product.html。进入我们在上面创建的HTML文件来添加它；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="ab fe cl ij"><img src="../Images/61801c6d92570fa1264ca3681922dccd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Em1a89s9IM61Ly9msmSGoA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">HTML file for the production list app</figcaption></figure><p id="ae6e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面我们已经创建了一个HTML文件，打开了一个表单，并为用户值添加了输入，我还为input元素添加了一个占位符和name属性，以便进行适当的说明。在输入元素中，还添加了一个id属性，这将使我们能够动态地获取输入元素的值。</p><p id="239d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们还添加了包含我们所有产品的table元素、一个table head元素，并且创建了一个表体，它将被动态地添加值。</p><p id="45aa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">就在结束body标记之前，还添加了一个包含SRC属性的script标记，该属性包含JavaScript文件的路径，这是因为我们将在这个项目的构建中使用外部JavaScript文件。这是上面HTML文件的浏览器视图。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es js"><img src="../Images/71d638b25eb9f75732ebafab1fc1cb43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2n9AoNPsf6M1msUKiMMCmw.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">The browser look of the HTML</figcaption></figure><p id="673a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">添加了一点CSS样式，使事情看起来简洁明了。</p><p id="2145" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在Product_List_App文件夹中，我们创建了一个JavaScript文件，将其命名为product.js。在该文件中，我们将存放Product_List_App的所有算法。</p><p id="c785" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">此时，您的文件夹应该分别包含product.js和product.js。现在让我们声明所有的全局变量。转到我们创建的product.js文件中添加它；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es jx"><img src="../Images/6d847b92e6fc4f348e220a13945efc40.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*gZDg-Om8ciGuYG1E7Kq7IQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The global variables</figcaption></figure><p id="bb55" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">进一步来说，我们将有八个函数可以使用。这些功能如下:</p><ul class=""><li id="c5d6" class="jy jz hi io b ip iq it iu ix ka jb kb jf kc jj kd ke kf kg bi translated">createItem函数，</li><li id="6a1f" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">总价格函数，</li><li id="56a0" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">表头功能，</li><li id="ca12" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">表体函数，</li><li id="7a79" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">readItem函数，</li><li id="2a99" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">表功能，</li><li id="2edb" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">updateItem函数，</li><li id="07fe" class="jy jz hi io b ip kh it ki ix kj jb kk jf kl jj kd ke kf kg bi translated">删除项目函数。</li></ul><h1 id="b2dc" class="km kn hi bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">创造产品</h1><p id="3faf" class="pw-post-body-paragraph im in hi io b ip lk ir is it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj hb bi translated">现在让我们转向createItem函数，在我们已经创建的全局变量下面，让我们添加createItem函数。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es lp"><img src="../Images/e7898bcb9c892fa58c103627c645fef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*bxioMcHsE2RxmypoNBH9pQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The function that adds the form values to the array</figcaption></figure><p id="97b2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在上面，我们已经声明了所有的函数变量，document.querySelector用于分别获取所有的值。由于我们要存储所有这些值，并且能够处理这些值，这些值被设置为一个对象，现在将这个对象放入我们在上面的全局变量中声明的数组中。</p><p id="38fd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">createItem函数是在我们创建的HTML文件中的create item按钮中执行的。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es lq"><img src="../Images/b50920dd50ab4067eb82fe46dfa8eb5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*nNHiSt3689oQoAZ_N7HVAg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Executing of createItem function</figcaption></figure><p id="47ba" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，让我们前往浏览器控制台，看看阵列中有什么:</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es lr"><img src="../Images/44b5c1bd25bb935d4b8c9c2dde744a69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LmaN6bKuhl6ko_C0l-1mg.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">The Product List</figcaption></figure><p id="e599" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面我们首先添加了一个项目是牛奶，控制台给了我们一个牛奶属性的数组。其次，我们添加了另一个条目，即玉米片，这一次数组包含一个对象的两个实例，该对象包含我们的条目。更进一步，这是物品将继续被添加到数组中的方式。</p><p id="b267" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">总价格输入包含数量值和价格值的乘积。如果我们仔细观察上面的createItem函数，我们在这里只有一个小挑战，我猜你可能没有注意到，尽管如果你能够自己添加项目的准确总价，这不是问题。</p><p id="b349" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我说清楚。查看上面的createItem函数，我们的项目的价格和数量的乘积不会自动设置在总价格输入中，毫无疑问，如果不固定，我们很容易对总价格进行错误计算，这是我们根本不想参与的。让我来给我们省点压力吧。很快，让我们在下面的总价输入上添加我上面提到的totalPrice函数；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/13ab75e00dfe927b9bfde0bb3c2f906c.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*FqlT8SKwMHuokwlrHPVY3g.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Giving the total price input its value on lookup on price input</figcaption></figure><p id="3efe" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，在价格输入上附加了一个oninput函数，它总是查找数量输入来进行计算，然后将值传递给总价格输入。这将使我们不必为避免总成本价计算错误而增加总价格输入值。现在，我们正在接受我们的价值观，让我们进一步拯救这些价值观。</p><h2 id="fa8e" class="lt kn hi bd ko lu lv lw ks lx ly lz kw ix ma mb la jb mc md le jf me mf li mg bi translated">拯救产品</h2><p id="aa70" class="pw-post-body-paragraph im in hi io b ip lk ir is it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj hb bi translated">这就给我们带来了一个强大的浏览器API叫做<a class="ae mh" rel="noopener" href="/@princewillchime43/local-storage-with-vanilla-javascript-c87e3923163a?sk=85673734d89b5926166023b806067643"> <strong class="io hj"> <em class="mi">本地存储</em> </strong> </a>。这给了我们在浏览器上存储和持久化数据的能力。让我们将它添加到上面创建的createItem函数中。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mj"><img src="../Images/493d901cfd446711b3093b0dff3b7ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*PNWsqWi5G84PcvdPSIoUSA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Using the try and catch method to save and persist items to the local storage</figcaption></figure><p id="4b5e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面应用了试捕法。它是一个条件语句，检查给定的算法是否正确，如果不正确，它会向控制台捕捉一条错误消息。</p><p id="ab6c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在try curry大括号内，使用了一个条件语句来检查商品是否已经保存到本地存储，如果没有，商品列表将被设置到本地存储。如果是，新的表单数据将被添加到本地存储的现有列表中。目前，只要单击上面的“创建项目”按钮，所有表单数据都将保存到本地存储中。</p><p id="07b6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果您正在学习本课程，您的“创建项目”函数应该如下所示:</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/3058a30dba4526d744828c55b87d87bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*QbfRScEBYCpgctWMOEvRzg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The createItem function</figcaption></figure><p id="ca9c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们看看我们的本地存储目前的情况:</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/5b123834c7d9f44b6a00b361628078de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*l58mjutaTe5kPEx0PEtFRQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Product list that was saved to the local storage</figcaption></figure><p id="6521" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通过以上操作，我们已经成功地将一些项目保存到本地存储中。</p><p id="851a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">另一方面，每当单击create item按钮时，它总是将数据提交到本地存储，无论是否为空对象。因此，让我们转到createItem函数，并在将它提交到本地存储之前添加一些验证。将被添加到create item函数中的const赋值之后。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/fb4f610846607fd9fc3025edf4763587.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*x-np5aenpPiz6ON1-ar0DQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Form authentication for the product lists before saving to the local storage</figcaption></figure><p id="55e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，我们已经成功地验证了产品列表的表单输入数据。在上面的示例中，我们检查了输入值是否为空，如果为真，将弹出一个警告，指示未填充的特定输入，并立即关注该输入以快速填充空输入。</p><h1 id="e145" class="km kn hi bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">R-阅读产品</h1><p id="c2ff" class="pw-post-body-paragraph im in hi io b ip lk ir is it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj hb bi translated">我们将在这里显示我们的项目，这些项目将保存到我们在上面的HTML文件中创建的表的本地存储中。现在让我们创建上面提到的tableHead函数。</p><h2 id="edb9" class="lt kn hi bd ko lu lv lw ks lx ly lz kw ix ma mb la jb mc md le jf me mf li mg bi translated">表头功能</h2><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mn"><img src="../Images/78a27f05ede36c5de274527d065a9756.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*VJK-PjDclpFJJJTos8ir1w.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The function that takes care of the table headings</figcaption></figure><p id="eba3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面是一个读取表格标题数据的函数，这些数据将很快显示在浏览器上。它需要一个参数来查找要访问和使用的对象数组。</p><p id="080c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Object.keys()是一个为我们提供对象键功能的方法。更多关于物体的阅读<a class="ae mh" rel="noopener" href="/learnfactory-nigeria/constructors-prototypal-inheritance-and-es6-classes-b54a5aad8f62?source=friends_link&amp;sk=c2af11e4df62886386be59ccca94b916"> <strong class="io hj"> <em class="mi">这里</em> </strong> </a>。document.createElement帮助我们创建动态HTML元素。在我们的例子中，我们用它来创建表格的行和标题元素。table元素的标题将保存产品列表数组中存储对象的键。</p><h2 id="c741" class="lt kn hi bd ko lu lv lw ks lx ly lz kw ix ma mb la jb mc md le jf me mf li mg bi translated">表体功能</h2><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/73a12b1c998589b88bf5a5825d6feda0.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*2imiYQ2sUl4KnxO1W13G8g.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The function that handles the table body function</figcaption></figure><p id="351a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是一个查找要访问的对象数组的函数，就像我们上面创建的table head函数一样，除了Object.value()方法之外，其他都保持不变，该方法使我们可以访问对象值和分别保存表体数据的单元格。接下来让我们创建上面提到的readItem函数，它将显示我们的数据，这样它就可读了。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/24c2c48cf0feb3de23b1397a86dd0dcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*M4ZnDasKOhY_p9jrod4DWQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The function that handles the readable data</figcaption></figure><p id="8906" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面是一个函数，它显示本地存储中的数据以提高可读性。让我们看看刚刚发生了什么。首先声明一个名为storage的变量来保存本地存储数据。其次，进行了一项检查，以了解本地存储是否保存了将要显示的任何数据</p><p id="29c7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，进行最后一次检查，以了解存储数据是否已经加载到表中。如果是，表格保持不变。如果否，数据将被加载到表中。</p><p id="e65f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面创建的表头和表体函数在readItem函数中执行，以使数据的键成为表的标题，数据的值成为单元格的值。</p><p id="b9cf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">readItem函数是在HTML文件中创建的read item按钮上触发的，如下所示:</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mq"><img src="../Images/4498eee30ec6d7b2e638332c0f07b953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*5xQVzsOrXYy5GV4yEyPTGw.png"/></div></figure><p id="faf9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">更进一步，所有尚未创建的函数将分别在它们的按钮中被调用。现在让我们看看当我们触发read item按钮时，我们的表是什么样子的</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es js"><img src="../Images/da541ae14081066d4041e761f53958a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ReqSvF-enaQ8mK2D3ekkig.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">The product lists now readable</figcaption></figure><p id="a186" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">哇！我相信这太棒了,“阅读项目”按钮让我们看到了显示在桌面上的产品列表。现在让我们看看并学习如何更新本地存储中的数据</p><h1 id="dc6a" class="km kn hi bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">更新产品列表</h1><p id="a704" class="pw-post-body-paragraph im in hi io b ip lk ir is it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj hb bi translated">在更新表数据之前，我们应该指定将要更新的实际项目。这将使我们现在创建之前提到的表函数。因此，让我们将以下代码添加到product.js文件中:</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/27954312b805d97d229227889eb11efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*sf072mYTK_ifKz0wIxlw4A.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The table function that will handle the user’s click on the table</figcaption></figure><p id="3412" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，一个on click函数被添加到创建的表中，表中的行被获取并分配给上面截图中声明的行。</p><p id="c712" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们删减了表中的行，以便能够管理每一行数据，最后添加了一个事件监听器，监听表中每一行的click事件。</p><p id="e260" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个函数作为事件侦听器的第二个参数传递，该函数名为activateItem。该函数将处理每一行被单击时发生的情况。下面让我们添加activateItem函数；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es ms"><img src="../Images/09c451d982b8d8d1be8f16e8e1d59204.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*Ks17rAv_u2CfXZzcy6v81g.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Function to get the product lists activated</figcaption></figure><p id="c975" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在上面的截图中，声明了一个变量，当被点击时，该变量将保存被激活项目的索引。因为我们希望更新项目，所以被单击的行将被设置回表单字段进行编辑。</p><p id="8b5d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">既然我们已经成功地将激活的条目返回到表单字段，接下来就是用更新后的条目更新本地存储数据并重新加载页面。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mt"><img src="../Images/2d0e10122496fb7d77f41de440e8070a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*DbJyo3_26dhNATGpZw4FFQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Our Update function</figcaption></figure><p id="f215" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">之前，我们已经成功地编辑了激活更新时的产品列表。上面我们得到了存储数据，声明了保存表单输入值的变量，并声明了保存将被单击的项的索引的表行索引变量。</p><p id="fb8c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们进一步验证这个表单字段，以确保我们不必将空字符串更新到本地存储，并确保用户已经单击了将被更新的项目。下面让我们用验证更新上面创建的updateItem函数；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/669cfa4ec451bc71b3ef974cc0db72b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*w2jTC-eVS02-Tln1qQ7Onw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Validating Of The Form Fields</figcaption></figure><p id="641d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，我们已经成功地验证了产品列表的表单字段。在上面的示例中，我们检查了用户是否激活了将要更新的条目，还检查了输入值是否为空，如果为空，将弹出一个警告，指示未填充的特定输入，并立即关注该输入以快速填充空输入。</p><p id="3e52" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在调整表单输入值后，弹出一个确认警告会很好，为什么？以防用户记得在最终将数据更新到本地存储器之前仍然进行一些其他改变。该权限将被授予用户。所以让我们在上面声明的updateItem函数中添加警告框；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mv"><img src="../Images/c086de9631a8d872f12c815bb88574fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*FBzz--VB1thE7Hd_-pxdnA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Creating a confirm alert for the user on update</figcaption></figure><p id="8eb3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面我们已经创建了一个窗口警告框，每当点击更新项目按钮时总是弹出。向确认括号传递了一个文本，该括号包含用户阅读并确定更新过程是否应该继续或取消更新过程的消息。</p><p id="0994" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们有了确认警告框，如下图所示；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mw"><img src="../Images/541a18a29e752d5103622528c6acd6d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*1DZe-yt6q5jzmLsSCGMu5g.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The Alert Box for confirmation</figcaption></figure><p id="6a39" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们进一步将编辑过的项目更新到下面的本地存储中；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mx"><img src="../Images/5ef908b4562aa5ea17af5e5f7578b453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*RODXkFoT20xTxxdbvMMA6A.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Updating The Edited Item To The Local Storage</figcaption></figure><p id="8a19" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在上面的截图中有一些事情需要注意，这些事情是应用的tableIndexRow和splice()方法。</p><p id="dceb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">只有当confirm为true时，才会执行updatedItem函数。拼接方法是用存储中的旧项目更新最近更改的方法。</p><p id="740e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">注意:<strong class="io hj"><em class="mi">array . filter()</em></strong>也可以用于本地存储的数据更新</p><p id="ea82" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">splice方法用于将索引相同的项目与用户想要更新的项目的索引进行拼接。然后页面会被刷新。下面是此时本地存储的样子</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es my"><img src="../Images/916affc4642c1dfebda3635e503125cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*5qB30mPsO0ztXRnutLcnLg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">This is the JSON format of our product lists</figcaption></figure><p id="c369" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们更新本地存储中已有的内容，看看它是如何工作的，方法是添加一个像面包这样的项目，并将玉米片项目更新为糖。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es mz"><img src="../Images/b9bfa0cb7c2849d7de546a481286c356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*EoB8GWFuzfz9bJVbSyYIBg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The local storage has been updated with the sugar item and we added the bread item as said earlier. the length has updated to 3 currently table has been successfully updated with the recent change</figcaption></figure><p id="f00f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我相信这很好。让我们来看看delete item函数，看看事情是如何完成的。</p><h1 id="9e4f" class="km kn hi bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">D-删除产品</h1><p id="9e43" class="pw-post-body-paragraph im in hi io b ip lk ir is it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj hb bi translated">很多时候，在录音时，你会希望有一些/一张唱片不再出现在你的录音列表中。你会在一瞬间学会，并且能够自己做。让我们快速创建下面的deleteItem函数；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es na"><img src="../Images/2d924d419451a08862106f4a1855be0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*1zRdG3P9dgGWyEGuc-A7sg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The function that handles the deleting of an individual item in our product lists</figcaption></figure><p id="98b4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在上面的截图中，我们已经创建了前面提到的deleteItem函数。在deleteItem函数中，我们有一个弹出窗口，用户在从存储中删除任何产品项目之前必须确认该窗口。</p><p id="01ea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们还检查并确保用户已经激活了一个特定的项目，我们在存储中查找与被点击的项目在同一索引中的项目，并将其从本地存储中删除。之后，页面将重新加载。</p><p id="0f10" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">注:<strong class="io hj"> <em class="mi"> Array.find() </em> </strong>，<strong class="io hj"> <em class="mi">数组。Filter() </em> </strong>和<strong class="io hj"> <em class="mi"> include() </em> </strong>也可以用来执行删除操作。</p><p id="f762" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们通过尝试删除糖项并保留牛奶和面包项的存储数据来尝试这个函数。</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/745843135c2f6a88416a881b060e834e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*Gt-9YSkS43C1bCiC61Ifaw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Our storage items after deleting the sugar item current product item after deleting the sugar item</figcaption></figure><p id="b1b3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你的HTML文件应该是这样的</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div class="ab fe cl ij"><img src="../Images/61801c6d92570fa1264ca3681922dccd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Em1a89s9IM61Ly9msmSGoA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">The complete HTML file for the product list app</figcaption></figure><p id="1945" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您的product.js文件也应该是这样的；</p><figure class="jk jl jm jn fd ii er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nb"><img src="../Images/1e200b8de799b13ee3d3b8b68a6594aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5GJbpN2WqKZLkwuNGNu5LA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">The product.js file</figcaption></figure><p id="a8d5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">很简单，对吧？至少您现在可以使用本地存储持久化和执行CRUD操作。</p><p id="771a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果本课程对您有帮助，您可以分享和推荐，或者如果您有任何与本课程相关的问题，您也可以放弃下面的问题。</p><p id="9a0f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">可以关注我<strong class="io hj"><em class="mi">M</em></strong><a class="ae mh" href="https://medium.com/u/ca30ca69cc7e" rel="noopener"><strong class="io hj"><em class="mi">edium</em></strong></a><strong class="io hj"><em class="mi">。t</em></strong><a class="ae mh" href="https://twitter.com/cprincewill102" rel="noopener ugc nofollow" target="_blank"><strong class="io hj"><em class="mi">witter</em></strong></a>和<strong class="io hj"><em class="mi">L</em></strong><a class="ae mh" href="http://www.linkedin.com/in/chime-princewill-3a2b1b192" rel="noopener ugc nofollow" target="_blank"><strong class="io hj"><em class="mi">inkedin</em></strong><strong class="io hj"><em class="mi">。</em> </strong>为本课程全部代码，<strong class="io hj"><em class="mi"/></strong></a><a class="ae mh" href="https://github.com/chibuike07/product_item_list_app" rel="noopener ugc nofollow" target="_blank"><strong class="io hj"><em class="mi">我这里是</em> </strong> </a></p></div></div>    
</body>
</html>