<html>
<head>
<title>Creating a Shield Damage Feature Using the Alpha Color of a Sprite in Unity — Part 01 (Setting the RGBA values)!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中使用精灵的Alpha颜色创建护盾伤害特征——第一部分(设置RGBA值)！</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-a-shield-damage-feature-using-the-alpha-color-of-a-sprite-in-unity-part-01-setting-the-eab880e23928?source=collection_archive---------43-----------------------#2021-08-04">https://medium.com/geekculture/creating-a-shield-damage-feature-using-the-alpha-color-of-a-sprite-in-unity-part-01-setting-the-eab880e23928?source=collection_archive---------43-----------------------#2021-08-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="652e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标</strong>:使用<strong class="ih hj"> Unity </strong>中精灵图像的alpha <strong class="ih hj">颜色</strong>，在我们的<strong class="ih hj"> 2D银河射击游戏</strong>中构建一个<strong class="ih hj">护盾伤害</strong>特征！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f5ecb04753c2269f482c3e90df5f79f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ofjC_3Ceuht4lCT8d4txyg.gif"/></div></div></figure><p id="219e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始之前，我将向你展示两种不同的方法来调整或操作精灵图像的alpha颜色。这第一篇文章将处理设置<strong class="ih hj">颜色的</strong> <strong class="ih hj"> RGBA </strong>值。第二个是如何改变alpha属性'<strong class="ih hj"> color.a' </strong>，因为这个值不能直接改变。</p><p id="7284" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着我们的<strong class="ih hj"> 2D银河射击游戏</strong>接近尾声，我们有一些新功能需要实现，然后才能结束今天的工作。这一次，我们将创建一个<strong class="ih hj">护盾伤害</strong>系统，玩家能够在<strong class="ih hj">护盾</strong>被<strong class="ih hj">摧毁</strong>之前<strong class="ih hj">护盾被激活</strong>时受到<strong class="ih hj"> 3 </strong>的伤害。目前我们只设置了接受<strong class="ih hj"> 1 </strong>的攻击，这并不太有效，因为敌人现在有<strong class="ih hj"> 2 </strong>激光可以射击，如果他们都击中了玩家，那么就会从他们身上取走<strong class="ih hj">1</strong>T36】盾和<strong class="ih hj">1</strong>T40】玩家生命。让我们给玩家一个机会吧！</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h2 id="a42a" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">让我们添加一些代码！</h2><p id="8ccc" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">由于我们的'<strong class="ih hj"> <em class="kw">玩家</em> </strong>'脚本已经内置了<strong class="ih hj">伤害()</strong>方法，让我们在这里继续工作:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kx"><img src="../Images/7e750e0bd31cb5b65d17f53a1fcf0c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XasUJYl74eOm7xOe0SWWvw.png"/></div></div></figure><p id="8288" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先我们需要创建一个变量来存储我们的<strong class="ih hj">盾</strong>被允许击中多少次。</p><p id="7b23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还需要来自<strong class="ih hj">盾牌</strong>游戏对象的<strong class="ih hj"> SpriteRenderer </strong>组件，所以不要忘了<strong class="ih hj"> GetComponent </strong>这个，最后，让我们确保空检查我们成功地从<strong class="ih hj">盾牌</strong>游戏对象抓取了这个组件。由于我的<strong class="ih hj">盾</strong>游戏对象在运行时被停用，我无法使用<strong class="ih hj">游戏对象。Find() </strong>方法，因为它只在场景中搜索活动的游戏对象。然而，<strong class="ih hj">变换。Find("Shield") </strong>会成功找到这个游戏对象，而不需要激活它，然后由于<strong class="ih hj">盾牌</strong>是<strong class="ih hj">玩家</strong>游戏对象(<strong class="ih hj">父</strong>)的<strong class="ih hj">子</strong>，我们就可以<strong class="ih hj">GetComponentInChildren&lt;&gt;()</strong>为<strong class="ih hj">精灵渲染者</strong>！</p><p id="88d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，在我们的<strong class="ih hj">伤害()</strong>方法中，让我们先检查一下<strong class="ih hj">玩家的护盾</strong>是否被激活。如果是，让我们运行<strong class="ih hj"> ShieldDamage() </strong>方法，而不是取一个<strong class="ih hj">玩家的</strong>生命。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ky"><img src="../Images/a108214ed9f8fc85fdcda742c4ba3bd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZ-Qiu1kekqFsajBDRCzxA.png"/></div></div></figure><p id="ed9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们向现有的<strong class="ih hj"> ShieldBoostActive() </strong>方法添加一些代码，该方法将在我们收集加电时将我们的<strong class="ih hj"> _shieldHits </strong>设置为<strong class="ih hj"> 3 </strong>，并且让我们将我们的<strong class="ih hj">玩家的盾</strong> <strong class="ih hj">颜色</strong>值设置为白色(<strong class="ih hj"> 1f，1f，1f，1f </strong>)。这保留了精灵图像的颜色，因为这是它通常会显示如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kz"><img src="../Images/2f66fea209038de0ad3b91706bc5cd15.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*T1s9dJ-pklfVO-CijOxfIg.png"/></div></figure><p id="115a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们创建一个<strong class="ih hj">ShieldBoostDeactivated()</strong>方法，当<strong class="ih hj"> shields </strong>电荷为<strong class="ih hj"> 0 </strong>时，该方法被调用。这将简单地将<strong class="ih hj"> _isShieldBoostEnabled </strong>切换到<strong class="ih hj"> false </strong>并关闭<strong class="ih hj">盾</strong>游戏对象。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="3b40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们需要创建我们的<strong class="ih hj"> ShieldDamage() </strong>方法，该方法将在<strong class="ih hj">盾</strong>被激活并发生碰撞时运行:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es la"><img src="../Images/d644722da6cada9201ea5d54d4e84401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XAasX0B9MpOdg7xtrrg5Zg.png"/></div></div></figure><p id="9137" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此方法仅在使用第一幅图所示的<strong class="ih hj"> Damage() </strong>方法将<strong class="ih hj"> _isShieldBoostEnabled </strong>设置为true时运行。也就是说，在这个方法中，我们的<strong class="ih hj">屏蔽</strong>电荷永远不会是<strong class="ih hj"> 3 </strong>，因为我们在<strong class="ih hj"> ShieldBoostActive() </strong>方法中将电荷设置为<strong class="ih hj"> 3 </strong>，并且还将alpha设置为<strong class="ih hj"> 1 </strong>(其最大值)。因此，我们不需要为<strong class="ih hj"> _shieldHits </strong>为<strong class="ih hj"> 3 </strong>的if语句，因为当方法运行时，它总是为<strong class="ih hj"> 2 </strong>或更少。</p><p id="dbb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们的<strong class="ih hj"> _shieldHits </strong>为<strong class="ih hj"> 2 </strong>时，让我们将精灵alpha设置为其最大值的<strong class="ih hj">2/3</strong>(<strong class="ih hj">0.66 f</strong>)。然后，当<strong class="ih hj"> _shieldHits </strong>为<strong class="ih hj"> 1 </strong>时，将其设置为其最大值的<strong class="ih hj">1/3</strong>(<strong class="ih hj">0.33 f</strong>)。最后，当我们的<strong class="ih hj">_盾击数</strong>小于<strong class="ih hj"> 1 </strong>或<strong class="ih hj"> 0 </strong>时，让我们运行<strong class="ih hj">ShieldBoostDeactivated()</strong>方法来关闭<strong class="ih hj">盾</strong>，现在<strong class="ih hj">玩家</strong>可以开始再次受到伤害并移除生命。</p><p id="38b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong><em class="kw">alpha的范围在</em> <strong class="ih hj"> <em class="kw"> 0 </em> </strong> <em class="kw">(完全透明)和</em> <strong class="ih hj"> <em class="kw"> 1 </em> </strong> <em class="kw">(不透明)之间。</em></p><p id="7b38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"/></p></div></div>    
</body>
</html>