<html>
<head>
<title>Power BI — Guide to Data Modeling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Power BI —数据建模指南</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/power-bi-data-modeling-and-understanding-star-schema-its-importance-bf8245fdc9c5?source=collection_archive---------8-----------------------#2021-03-18">https://medium.com/geekculture/power-bi-data-modeling-and-understanding-star-schema-its-importance-bf8245fdc9c5?source=collection_archive---------8-----------------------#2021-03-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="cfd0" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">Power BI数据建模指南及其在数据分析中的重要性</h2><div class=""/><div class=""><h2 id="9f8f" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated"><em class="jg">数据建模是Power BI的关键优势之一，用于对数据进行建模和整形</em></h2></div><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/970413b35b8e51f281e32634e457478b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5KT6j8Db8mN7rY4oJn7o7A.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Power BI — Guide to Data Modeling</strong></figcaption></figure><p id="5f30" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi ku translated"><span class="l kv kw kx bm ky kz la lb lc di"> W </span> <em class="ld">当我们拥有来自多个来源的海量数据时，关于</em> <strong class="ka hs"> <em class="ld">数据建模的知识</em> </strong> <em class="ld">在</em><strong class="ka hs"><em class="ld">Power BI</em></strong><em class="ld">中对这些数据进行建模和整形变得非常重要，以使自助式BI更容易。当我们需要从不同的表的不同字段创建报表时，学习</em> <strong class="ka hs"> <em class="ld">数据建模</em> </strong> <em class="ld">就变得很重要。我们可以说，</em> <strong class="ka hs"> <em class="ld">数据建模</em> </strong> <em class="ld">是</em><strong class="ka hs"><em class="ld">Power BI</em></strong><em class="ld">的关键优势之一，因为它不一定要求所有数据都在一个表中，而是我们可以将数据放在不同的表中，我们可以用一个公共列定义这些表之间的关系。再来讨论一下Power BI中的</em> <strong class="ka hs"> <em class="ld">数据建模及其重要性</em> </strong> <em class="ld">。</em></p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es le"><img src="../Images/e5826fd65cfe271d8b2c54eae6a8b8a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CutN5ps1L9lCF14D"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Photo by <a class="ae lf" href="https://unsplash.com/@marvelous?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marvin Meyer</a> on <a class="ae lf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><p id="c898" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">Power BI是一个基于数据模型的BI报告工具，并非所有工具都是基于数据模型的。SQL Server Reporting Service (SSRS)和传统的excel就是基于非数据模型的BI工具的一些例子。</p><h1 id="dc19" class="ln lo hi bd jx lp lq lr ls lt lu lv lw ix lx iy ly ja lz jb ma jd mb je mc md bi translated">Power BI中的数据建模是什么？</h1><p id="1265" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated"><strong class="ka hs">数据建模</strong>是<strong class="ka hs"> Power BI </strong>中的一个特性，它是<strong class="ka hs">使用一个关系</strong>来连接多个数据源。关系实际上定义了数据源如何相互连接，或者定义了不同数据源之间的逻辑连接。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es mj"><img src="../Images/d80931d5f953026a485203b61d6b8bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eLSb1ffg6s3leMlI2WbCXQ.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">The stages involded in a Power BI Project</strong></figcaption></figure><p id="23db" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">下面显示了一个示例，其中数据来自多个表中的多个数据源</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es mk"><img src="../Images/bcdffadfa899dc31e0570a2e92adf465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DeaMpRnWvvig9TKxNAlLbw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Example of data from different sources into multiple tables</strong></figcaption></figure><blockquote class="ml mm mn"><p id="9932" class="jy jz ld ka b kb kc is kd ke kf iv kg mo ki kj kk mp km kn ko mq kq kr ks kt hb bi translated"><strong class="ka hs">易语言中的数据建模— </strong> <br/>当我们从多个表中获取数据时，我们将这些表连接在一起，并在这些表之间创建一种关系称为数据建模。</p></blockquote><p id="5d16" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">用途—数据建模功能允许企业定义新的指标，并对这些指标执行自定义计算。</p><h1 id="4939" class="ln lo hi bd jx lp lq lr ls lt lu lv lw ix lx iy ly ja lz jb ma jd mb je mc md bi translated">数据建模——掌握Power BI<strong class="ak">7大支柱中的重要支柱</strong></h1><p id="82ed" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated"><strong class="ka hs">数据建模</strong>是Power BI开发人员和分析师需要掌握的重要技能。</p><blockquote class="ml mm mn"><p id="d84c" class="jy jz ld ka b kb kc is kd ke kf iv kg mo ki kj kk mp km kn ko mq kq kr ks kt hb bi translated">Power BI数据建模技巧经常被忽视。</p></blockquote><p id="97a9" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">在我的另一篇文章(下面提供了链接)中，我们讨论了掌握Power BI的7个支柱，我们将数据建模定义为掌握Power BI的一个要点。同样，如果我们不知道<strong class="ka hs">数据建模</strong>，我们就不能进入<strong class="ka hs">计算</strong>阶段。下面提供了文章链接—</p><div class="mr ms ez fb mt mu"><a rel="noopener follow" target="_blank" href="/swlh/power-bi-7-pillars-for-mastering-power-bi-23671d86040d"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hs fi z dy mz ea eb na ed ef hr bi translated">Power BI —掌握Power BI的7大支柱</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">什么是Power BI，Power BI为什么重要，是否应该学习Power BI？电源BI是一个受欢迎的…</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">medium.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni jr mu"/></div></div></a></div><h1 id="4b9e" class="ln lo hi bd jx lp lq lr ls lt lu lv lw ix lx iy ly ja lz jb ma jd mb je mc md bi translated">电力商业智能数据建模—</h1><p id="c0cc" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated">那么数据从哪里来呢？<br/>通常来自数据库，在那里我们有很多表，我们不应该直接导入所有的表，而是应该通过使用公共列连接它们来减少表，其中表的集合被减少到更少的表，如下所示</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nj"><img src="../Images/ea58ee914ff8d8d93f21084fcb0789a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtD2dHSSfEuSfe0E5m8QfA.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Example where tables are reduced by joining them</strong></figcaption></figure><p id="860e" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">对于连接表，我们有一些应该遵守的规则—  <br/>永远不要将所有的表连接成一个大表。在连接表格时，我们应该始终考虑<strong class="ka hs">维度模型</strong>。</p><h2 id="258e" class="nk lo hi bd jx nl nm nn ls no np nq lw kh nr ns ly kl nt nu ma kp nv nw mc ho bi translated"><strong class="ak">维度表— </strong></h2><p id="6730" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated">维度是一个描述商业实体、我们模型中的事物或我们公司中的事物的表格。它们是查找表。</p><p id="49e6" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">实体可以包括产品、人、地点和包括时间本身在内的概念。</p><p id="acb0" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">例如，谁，何时，何地，什么。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nx"><img src="../Images/2596380f5d5d48ccf947bdd190dcb166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*aCjhqYgrQOXaPSAmD5bavQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Example of Dimension and Fact tables in Data Modeling</strong></figcaption></figure><p id="6ef9" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">通常我们在切片器和视轴上使用它们。这些表的主要目的是对事实表中存储的值进行分组和筛选。</p><h2 id="f1c1" class="nk lo hi bd jx nl nm nn ls no np nq lw kh nr ns ly kl nt nu ma kp nv nw mc ho bi translated"><strong class="ak">事实数据表— </strong></h2><p id="0267" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated">事实表就是事件，每当我们有事情发生的时候。事实表存储观察或事件，可以是销售订单、库存余额、汇率、温度等。</p><p id="864b" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">例如，销售、购买或交易，任何类型的历史交易都存储在事实上。</p><p id="acb4" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">它包含维度的关键字、日期和一些数字。</p><blockquote class="ml mm mn"><p id="b03a" class="jy jz ld ka b kb kc is kd ke kf iv kg mo ki kj kk mp km kn ko mq kq kr ks kt hb bi translated">事实表通常很大，有很多行，而维度则有更多的列，更少的行。例如，通常我们没有数百万的产品或数百万的客户，但我们有数百万的销售额。</p></blockquote><p id="a395" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">这就是主要的区别，<strong class="ka hs">查找表是维度</strong>而<strong class="ka hs">数据表是事实</strong>。</p><h2 id="403f" class="nk lo hi bd jx nl nm nn ls no np nq lw kh nr ns ly kl nt nu ma kp nv nw mc ho bi translated"><strong class="ak">雪花模式— </strong></h2><p id="2e52" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated">每当我们有维度相互连接时，它就是一个雪花模式。这不是最优的形式，最优的结构是当我们谈论次元模型时用的幂BI。</p><p id="ea43" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">所以我们应该做的是，我们应该将这三个表连接在一起，只构建一个表，这个表是维度产品，在同一个表中包含类别和子类别，如下所示</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ny"><img src="../Images/b2fb6b4a66817248f75c1b57747baa5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJKjEvA0vp5yyokhfi-ZOQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Example where Dimensions are connected with each other — Dimension Product</strong></figcaption></figure><p id="9a03" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">所以当我们有相互关联的维度时，我们应该把它们连接在一起，但这是有限度的。</p><blockquote class="ml mm mn"><p id="3614" class="jy jz ld ka b kb kc is kd ke kf iv kg mo ki kj kk mp km kn ko mq kq kr ks kt hb bi translated">我们不应该做什么？ <br/>我们不应该把这三个表都放在事实表中。<br/> <strong class="ka hs">别这样</strong>。我们应该将维度合并到一个表中，但是不应该将维度中的列放在事实表中。</p></blockquote><p id="af75" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">所以有一个更好的方法来解决这个问题——将这些表连接在一起，构建我们称之为<strong class="ka hs">星型模式</strong>。</p><h1 id="24c7" class="ln lo hi bd jx lp lq lr ls lt lu lv lw ix lx iy ly ja lz jb ma jd mb je mc md bi translated"><strong class="ak">星型模式— </strong></h1><p id="cc2e" class="pw-post-body-paragraph jy jz hi ka b kb me is kd ke mf iv kg kh mg kj kk kl mh kn ko kp mi kr ks kt hb bi translated">星型模式要求建模者将他们的模型表分类为维度或事实。星型模式具有连接到事实表的维度。注意-没有维度连接到另一个维度。</p><blockquote class="ml mm mn"><p id="6103" class="jy jz ld ka b kb kc is kd ke kf iv kg mo ki kj kk mp km kn ko mq kq kr ks kt hb bi translated"><strong class="ka hs">星型模式</strong>是简化数据模型的方法之一</p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es mj"><img src="../Images/2b71177118c343d88f5f34e6cdc66193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*461oMlGPYCnO0kYewyshQg.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Star Schema</strong></figcaption></figure><p id="1295" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">这些维度包含了所有的东西，比如谁，什么时候，什么，在哪里。所以维度表有销售的描述。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nx"><img src="../Images/2596380f5d5d48ccf947bdd190dcb166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*aCjhqYgrQOXaPSAmD5bavQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Star Schema — Dimentions connected to the Fact Tables</strong></figcaption></figure><p id="6490" class="pw-post-body-paragraph jy jz hi ka b kb kc is kd ke kf iv kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">这里是Power BI中的另一个例子<strong class="ka hs">和两个事实表。事实表也可以放在维度表的下面，这样我们就知道关系是从顶部<strong class="ka hs">到底部</strong>，<strong class="ka hs">从维度到事实</strong>。所以我们总是试图在这样的星形模式中建立一个维度模型。永远永远。没有例外。</strong></p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es nz"><img src="../Images/8abfa5ccc3e96b9d458f2d0cd53c28a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DTa5w98VXflT2-URHBLRg.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">Relationship from Top to Botton</strong></figcaption></figure><blockquote class="ml mm mn"><p id="fbd5" class="jy jz ld ka b kb kc is kd ke kf iv kg mo ki kj kk mp km kn ko mq kq kr ks kt hb bi translated"><strong class="ka hs">提示</strong>——如果你陷入了一个小节，如果你不能正确地写它。别忘了先检查你的模型。<br/>问题可能出在你的模型上，而不是DAX指数上。你必须总是<strong class="ka hs">维度</strong>和<strong class="ka hs">事实</strong>。<br/> <strong class="ka hs">以及通过关系与事实相连的维度</strong>。<br/>这里有一个重要的要求，即<strong class="ka hs">所有维度必须有一个唯一的列，该列是表</strong>的主键。</p></blockquote><h1 id="2c25" class="ln lo hi bd jx lp lq lr ls lt lu lv lw ix lx iy ly ja lz jb ma jd mb je mc md bi translated">需要记住的事情—</h1><ol class=""><li id="b190" class="oa ob hi ka b kb me ke mf kh oc kl od kp oe kt of og oh oi bi translated">Power BI数据建模是在多个表的公共列之间创建关系的过程。</li><li id="7599" class="oa ob hi ka b kb oj ke ok kh ol kl om kp on kt of og oh oi bi translated">我们应该将维度连接到一个表中，但是不应该将维度中的列放在事实表中。</li><li id="9d94" class="oa ob hi ka b kb oj ke ok kh ol kl om kp on kt of og oh oi bi translated">尽可能避免多对多的关系。</li><li id="d2c2" class="oa ob hi ka b kb oj ke ok kh ol kl om kp on kt of og oh oi bi translated">在您的数据模型中始终有一个日期表。</li><li id="d6d0" class="oa ob hi ka b kb oj ke ok kh ol kl om kp on kt of og oh oi bi translated">始终以每个维度表与事实表的1:多关系为目标。</li></ol></div></div>    
</body>
</html>