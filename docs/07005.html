<html>
<head>
<title>Create a basic Server with Node.js and event-driven programming (Really Basic)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Node.js和事件驱动编程创建一个基本的服务器(非常基本)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-a-basic-server-with-node-js-and-event-driven-programming-really-basic-3337bcece53e?source=collection_archive---------16-----------------------#2021-09-04">https://medium.com/geekculture/create-a-basic-server-with-node-js-and-event-driven-programming-really-basic-3337bcece53e?source=collection_archive---------16-----------------------#2021-09-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/581542e605f9e490f1ea01445973f669.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GSF82CG0y4de7XnM"/></div></div></figure><div class=""/><p id="434d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我想学习Node.js和他的环境，我想分享我为自己做的小步骤，这只是第一步，请注意！。</p><h1 id="58bb" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">Node.js的一点介绍</h1><p id="fa8e" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">Node.js是一个JavaScript运行时环境，你可以用于后端和前端项目，它有自己的包模块(NPM)它是由Ryan Dahl创建的，如果你想了解更多关于Node.js的信息，请点击这里<a class="ae kr" href="https://nodejs.dev/learn" rel="noopener ugc nofollow" target="_blank"/></p><h1 id="353e" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">事件驱动编程</h1><p id="c431" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">让我们看看维基百科会告诉我们<a class="ae kr" href="https://en.wikipedia.org/wiki/Event-driven_programming" rel="noopener ugc nofollow" target="_blank">关于这个</a>的什么:</p><blockquote class="ks"><p id="eb7e" class="kt ku ht bd kv kw kx ky kz la lb jn dx translated">事件驱动编程是一种范例，其中程序的流程由用户的事件决定。</p></blockquote><p id="adb2" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hb bi translated">如果你把Node.js看作一个服务器端，你需要知道，在基于web的浏览器中，用户需要在地址栏上写下路径，然后它会返回网页，我们不控制用户的移动，一切都是一个事件，当用户改变页面到另一个页面时，就是路由，我们使用事件驱动编程。</p><p id="e3a6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本练习中，您需要在计算机上安装Node.js</p><p id="305e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要获取Node.js，请点击<a class="ae kr" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">这里</a></p><h1 id="021b" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">观看视频</h1><figure class="lh li lj lk fd hk"><div class="bz dy l di"><div class="ll lm l"/></div></figure><h1 id="0954" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">基本示例</h1><p id="7f26" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">好，让我们来做这个小例子，在Node.js上创建一个小服务器，我们需要创建一个名为hello.js的文件，我们将在上面写这个</p><pre class="lh li lj lk fd ln lo lp lq aw lr bi"><span id="2f9e" class="ls jp ht lo b fi lt lu l lv lw">const http = require( 'http' )</span><span id="bf90" class="ls jp ht lo b fi lx lu l lv lw">const port = process.env.PORT | 3000</span><span id="0e19" class="ls jp ht lo b fi lx lu l lv lw">const server =  http.createServer( ( <em class="ly">req</em>, <em class="ly">res</em> ) =&gt; {</span><span id="c831" class="ls jp ht lo b fi lx lu l lv lw">const path = req.url.replace( /\/?(?:\?.*)?$/, '' ).toLowerCase()<br/>switch( path ){<br/>case '':<br/>res.writeHead( 200, {<br/>'Content-Type': 'text/plain'<br/>})<br/>res.end( 'Home' )<br/>break<br/>case '/about':{<br/>res.writeHead( 200, {<br/>'Content-Type': 'text/plain'<br/>}) }<br/>res.end( 'About' )<br/>break<br/>default: { res.writeHead( 404, { 'Content-Type': 'text/plain' })<br/>res.end( '404 not Found :(' )}break}<br/>})<br/>server.listen( port, () =&gt; console.log( `Server is on PORT ${ port } Ctrl + C to STOP ` ) )</span></pre><p id="a6b8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将创建一个名为HTTP的常量，我们将使用这个库，我们需要这个端口，我将为这个端口创建另一个名为port的常量，然后我们将使用<strong class="is hu"> http.createServer </strong>创建我们的服务器，它接收一个函数，当有人添加我们服务器的URL时，它将触发这个函数。</p><p id="0810" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用参数req，我们将保存我们的路径，并且我们将清除这个“？”之后的所有信息然后，通过一个开关，我们将返回页面的响应，在这种情况下是<strong class="is hu"> home、about和404 </strong>，我们需要第二个参数<strong class="is hu"> res.writeHead() </strong>，它可以管理两个参数，第一个是状态，第二个是包含响应的所有信息头的对象，然后在结束时，我们使用res.end()在流关闭之前写入数据。</p><p id="fd6a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们用<strong class="is hu"> server.listen() </strong>监听服务器。现在，我们将添加端口和一个包含控制台日志的函数，这将向我们显示是否一切正常。</p><p id="3f43" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，如果我们运行node <strong class="is hu"> hello.js </strong>，我们将在控制台上看到类似这样的内容</p><figure class="lh li lj lk fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/b65eba0395fcc077427654cb015232e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*MO4l6pPnS0OgGdbqUvI_ng.png"/></div><figcaption class="ma mb et er es mc md bd b be z dx">Example server with Node.js console output</figcaption></figure><p id="0c00" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们需要进入我们最喜欢的浏览器，在地址栏上写下这个<strong class="is hu"> 127.0.0.1:3000，</strong>然后我们就有了这个</p><figure class="lh li lj lk fd hk er es paragraph-image"><div class="er es me"><img src="../Images/2774ca7c679b462096e210cd2d065e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*32i9909CDL8v4FuCqs5dtg.png"/></div><figcaption class="ma mb et er es mc md bd b be z dx">Example Home Page with node server</figcaption></figure><figure class="lh li lj lk fd hk er es paragraph-image"><div class="er es mf"><img src="../Images/4c6f776ba76e10f5e5657c24af987b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*z9BQnK_FW7gqJn6MsShfZQ.png"/></div><figcaption class="ma mb et er es mc md bd b be z dx">Example About Page with node server</figcaption></figure><figure class="lh li lj lk fd hk er es paragraph-image"><div class="er es mg"><img src="../Images/b4d93ae01b10184412c275d86f200ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*Z1GTww--Z4hwYtN7qgHZaQ.png"/></div><figcaption class="ma mb et er es mc md bd b be z dx">Example 404 Page with node server</figcaption></figure><h1 id="b463" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="737f" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这个例子的目的是让你在学习Node.js的新挑战上更上一层楼。对我来说，这是一个很好的新体验，它有他的缺点和优点，但好奇的是，我们学习了事件驱动编程，以及如何创建一个简单的带有路由的服务器，我们将很快看到更多！</p><h1 id="6cf9" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">来源</h1><div class="hh hi ez fb hj mh"><a href="https://en.wikipedia.org/wiki/Ryan_Dahl" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hu fi z dy mm ea eb mn ed ef hs bi translated">瑞安·达尔-维基百科</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">Ryan Dahl(生于1981年)是一名美国软件工程师，也是Node.js JavaScript运行时和</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">en.wikipedia.org</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv hp mh"/></div></div></a></div><div class="hh hi ez fb hj mh"><a href="https://nodejs.dev/learn" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hu fi z dy mm ea eb mn ed ef hs bi translated">Node.js简介</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">Node.js入门指南，服务器端JavaScript运行时环境。Node.js构建于Google之上…</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">nodejs.dev</p></div></div><div class="mq l"><div class="mw l ms mt mu mq mv hp mh"/></div></div></a></div><div class="hh hi ez fb hj mh"><a href="https://en.wikipedia.org/wiki/Event-driven_programming" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hu fi z dy mm ea eb mn ed ef hs bi translated">事件驱动编程-维基百科</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">在计算机编程中，事件驱动编程是一种编程范式，在这种编程范式中，程序流是动态的</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">en.wikipedia.org</p></div></div><div class="mq l"><div class="mx l ms mt mu mq mv hp mh"/></div></div></a></div><div class="hh hi ez fb hj mh"><a href="https://www.amazon.com/Web-Development-Node-Express-Leveraging/dp/1492053511" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hu fi z dy mm ea eb mn ed ef hs bi translated">使用Node和Express进行Web开发:利用JavaScript堆栈</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">使用Node和Express进行Web开发:利用Amazon.com的JavaScript堆栈。*免费*送货到…</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">www.amazon.com</p></div></div><div class="mq l"><div class="my l ms mt mu mq mv hp mh"/></div></div></a></div><div class="hh hi ez fb hj mh"><a href="https://nodejs.org/en/" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hu fi z dy mm ea eb mn ed ef hs bi translated">节点. js</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">Node.js是基于Chrome的V8 JavaScript引擎构建的JavaScript运行时。</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">nodejs.org</p></div></div><div class="mq l"><div class="mz l ms mt mu mq mv hp mh"/></div></div></a></div></div></div>    
</body>
</html>