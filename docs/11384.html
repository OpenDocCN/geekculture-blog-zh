<html>
<head>
<title>An AWKward introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">尴尬的介绍</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/an-awkward-introduction-c672cc0490dd?source=collection_archive---------13-----------------------#2022-03-19">https://medium.com/geekculture/an-awkward-introduction-c672cc0490dd?source=collection_archive---------13-----------------------#2022-03-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6f34" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">了解如何使用awk命令来解析文本</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b9380eff130c0bc4726801f40f42cb81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jcIS3aFhzKShDH2I"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@bernardhermant?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Bernard Hermant</a> on <a class="ae jn" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fe59" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从文件或命令输出中提取信息是大多数用户都会面临的任务。然而，执行手动解析是不方便的，尤其是当您需要在批处理中重复执行时。有一个GNU util命令叫做awk。命令允许您自动操作文本文件。然而，初学者可能很难理解awk命令是如何工作的。</p><p id="793d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面介绍一下笨拙的指挥作品。</p><h2 id="afae" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">awk命令能做什么？</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lf"><img src="../Images/a43551d4172772426977002c8102faf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NMctNxWT4LkHUCBx"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Yancy Min</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9605" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">该命令可以执行的操作:</p><ul class=""><li id="cc3d" class="lg lh hi jq b jr js ju jv jx li kb lj kf lk kj ll lm ln lo bi translated">逐行扫描文件</li><li id="4a38" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated">将每个输入行拆分成字段</li><li id="ad94" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated">将输入行/场与模式进行比较</li><li id="0ed9" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated">对匹配的行执行操作</li></ul><p id="1b24" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">使用案例:</p><ul class=""><li id="666c" class="lg lh hi jq b jr js ju jv jx li kb lj kf lk kj ll lm ln lo bi translated">转换数据文件</li><li id="1bec" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated">生成格式化报告</li></ul><p id="f804" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里注册我的电子邮件列表。</p><h2 id="4cd4" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">awk的不同实现</h2><p id="c194" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">awk命令有多种实现方式。你有nawk，gawk，甚至mawk。Linux中通常使用两种不同类型的awk命令。awk和GNU awk在语法和功能上非常相似。GNU awk是标准awk的一个分支。这意味着awk上的所有命令都应该在gawk上运行，然而，反过来却不是这样。这同样适用于awk的每一个分支。</p><p id="57d5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" rel="noopener" href="/subscribe/@drechang">在这里注册我的电子邮件列表。</a></p><h2 id="fc66" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">awk命令的结构</h2><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="4110" class="kk kl hi ma b fi me mf l mg mh">awk [options] 'selection _criteria { action }' [input_file] &gt; [output_file]</span></pre><p id="027e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" rel="noopener" href="/subscribe/@drechang">在这里注册我的电子邮件列表。</a></p><h2 id="df69" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">内置环境变量</h2><p id="ca01" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">awk命令有内置的变量，比如$1、$2、$3来表示您正在选择的列($0表示整行)。</p><ul class=""><li id="588d" class="lg lh hi jq b jr js ju jv jx li kb lj kf lk kj ll lm ln lo bi translated"><strong class="jq hj"> NR </strong>:输入记录或行数</li><li id="193e" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><strong class="jq hj"> NF </strong>:字段或列的数量</li><li id="17fa" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><strong class="jq hj"> FS </strong>:字段分隔符。默认情况下，它是空白。</li><li id="2fdb" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><strong class="jq hj"> RS </strong>:记录分隔符。默认情况下，它是换行符或“\n”</li><li id="08c9" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><strong class="jq hj"> OFS </strong>:输出场分隔符。默认情况下，它是空白。</li><li id="b045" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><strong class="jq hj"> ORS </strong>:输出记录分隔符。默认情况下，它是换行符或“\n”</li></ul><p id="2155" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里注册我的电子邮件列表。</p><h2 id="8a87" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">使用AWK命令的简单示例</h2><p id="a01a" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated"><strong class="jq hj">从账户信息文件中提取账户名和姓</strong></p><p id="cff3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">大多数动态网站或网络应用只是美化了的excel电子表格。假设您想要提取一个帐户信息文件的名字和姓氏。</p><p id="f1bd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输入文件:</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="29c8" class="kk kl hi ma b fi me mf l mg mh"># accounts.csv<br/>Nadine,Rudkin,nrudkin0@wikia.com,Male,200.61.156.1972,<br/>Cesaro,Spearman,cspearman1@blinklist.com,Female,113.65.62.713,<br/>Bryant,Wheway,bwheway2@infoseek.co.jp,Male,12.232.111.1934,<br/>Starlene,Tomaello,stomaello3@google.com.au,Female,110.137.45.1035,<br/>Abagael,Hawton,ahawton4@nbcnews.com,Female,199.194.154.1186,<br/>Stacy,Lennard,slennard5@goo.ne.jp,Male,16.221.204.647,<br/>Francis,Iacobetto,fiacobetto6@paypal.com,Female,123.92.45.988,<br/>Ailina,Burdon,aburdon7@163.com,Female,207.240.235.2549,<br/>Joline,Dymick,jdymick8@bluehost.com,Female,78.207.170.5710,<br/>Irving,Odhams,iodhams9@wisc.edu,Female,80.81.222.23011,<br/>Gisele,Pluthero,gplutheroa@apache.org,Male,39.211.29.15612,<br/>Woody,Housden,whousdenb@epa.gov,Male,204.249.180.14313,<br/>Taite,Dennistoun,tdennistounc@list-manage.com,Male,195.157.252.17814,<br/>Terza,Mowday,tmowdayd@marketwatch.com,Female,91.8.171.23115,<br/>Vida,Croome,vcroomee@paypal.com,Male,119.6.60.16016,<br/>Perle,Renoden,prenodenf@marriott.com,Female,198.239.236.9417,<br/>Rawley,Grayham,rgrayhamg@samsung.com,Female,103.197.116.4618,<br/>Kippar,Deeming,kdeemingh@tumblr.com,Male,60.73.105.18819,<br/>Margery,Devereu,mdevereui@cnet.com,Female,44.159.148.23220,<br/>Fenelia,Ivanitsa,fivanitsaj@uiuc.edu,Male,48.58.78.174</span></pre><p id="c888" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面是命令。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="701e" class="kk kl hi ma b fi me mf l mg mh">awk -F "\"*,\"*" '{ print $1 " " $2 }' accounts.csv &gt; full_name.txt</span></pre><p id="1da5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输出文件:</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="b374" class="kk kl hi ma b fi me mf l mg mh"># full_name.txt<br/>Nadine Rudkin</span><span id="2c84" class="kk kl hi ma b fi mi mf l mg mh">Cesaro Spearman</span><span id="26ba" class="kk kl hi ma b fi mi mf l mg mh">Bryant Wheway</span><span id="e3d4" class="kk kl hi ma b fi mi mf l mg mh">Starlene Tomaello</span><span id="2783" class="kk kl hi ma b fi mi mf l mg mh">Abagael Hawton</span><span id="d442" class="kk kl hi ma b fi mi mf l mg mh">Stacy Lennard</span><span id="75b0" class="kk kl hi ma b fi mi mf l mg mh">Francis Iacobetto</span><span id="fd45" class="kk kl hi ma b fi mi mf l mg mh">Ailina Burdon</span><span id="2775" class="kk kl hi ma b fi mi mf l mg mh">Joline Dymick</span><span id="92ab" class="kk kl hi ma b fi mi mf l mg mh">Irving Odhams</span><span id="4574" class="kk kl hi ma b fi mi mf l mg mh">Gisele Pluthero</span><span id="0018" class="kk kl hi ma b fi mi mf l mg mh">Woody Housden</span><span id="0160" class="kk kl hi ma b fi mi mf l mg mh">Taite Dennistoun</span><span id="34bb" class="kk kl hi ma b fi mi mf l mg mh">Terza Mowday</span><span id="d163" class="kk kl hi ma b fi mi mf l mg mh">Vida Croome</span><span id="e34c" class="kk kl hi ma b fi mi mf l mg mh">Perle Renoden</span><span id="dd32" class="kk kl hi ma b fi mi mf l mg mh">Rawley Grayham</span><span id="cd30" class="kk kl hi ma b fi mi mf l mg mh">Kippar Deeming</span><span id="270c" class="kk kl hi ma b fi mi mf l mg mh">Margery Devereu</span><span id="1253" class="kk kl hi ma b fi mi mf l mg mh">Fenelia Ivanitsa</span></pre><p id="9dea" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里注册我的电子邮件列表。</p><p id="a579" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">获取名字中包含字母a的帐户。</strong></p><p id="2f97" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输入文件:</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="ad9c" class="kk kl hi ma b fi me mf l mg mh"># accounts.csv<br/>Nadine,Rudkin,nrudkin0@wikia.com,Male,200.61.156.1972,<br/>Cesaro,Spearman,cspearman1@blinklist.com,Female,113.65.62.713,<br/>Bryant,Wheway,bwheway2@infoseek.co.jp,Male,12.232.111.1934,<br/>Starlene,Tomaello,stomaello3@google.com.au,Female,110.137.45.1035,<br/>Abagael,Hawton,ahawton4@nbcnews.com,Female,199.194.154.1186,<br/>Stacy,Lennard,slennard5@goo.ne.jp,Male,16.221.204.647,<br/>Francis,Iacobetto,fiacobetto6@paypal.com,Female,123.92.45.988,<br/>Ailina,Burdon,aburdon7@163.com,Female,207.240.235.2549,<br/>Joline,Dymick,jdymick8@bluehost.com,Female,78.207.170.5710,<br/>Irving,Odhams,iodhams9@wisc.edu,Female,80.81.222.23011,<br/>Gisele,Pluthero,gplutheroa@apache.org,Male,39.211.29.15612,<br/>Woody,Housden,whousdenb@epa.gov,Male,204.249.180.14313,<br/>Taite,Dennistoun,tdennistounc@list-manage.com,Male,195.157.252.17814,<br/>Terza,Mowday,tmowdayd@marketwatch.com,Female,91.8.171.23115,<br/>Vida,Croome,vcroomee@paypal.com,Male,119.6.60.16016,<br/>Perle,Renoden,prenodenf@marriott.com,Female,198.239.236.9417,<br/>Rawley,Grayham,rgrayhamg@samsung.com,Female,103.197.116.4618,<br/>Kippar,Deeming,kdeemingh@tumblr.com,Male,60.73.105.18819,<br/>Margery,Devereu,mdevereui@cnet.com,Female,44.159.148.23220,<br/>Fenelia,Ivanitsa,fivanitsaj@uiuc.edu,Male,48.58.78.174</span></pre><p id="9fe6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面是命令。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="6f0b" class="kk kl hi ma b fi me mf l mg mh">awk '$1 ~ /^A/ {print $0}' accounts.csv &gt; first_names_w_A.csv</span></pre><p id="73bb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输出:</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="67b1" class="kk kl hi ma b fi me mf l mg mh"># first_names_w_A.csv<br/>Abagael,Hawton,ahawton4@nbcnews.com,Female,199.194.154.1186,</span><span id="3b35" class="kk kl hi ma b fi mi mf l mg mh">Ailina,Burdon,aburdon7@163.com,Female,207.240.235.2549,</span></pre><p id="8592" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">提取系统进程ID </strong></p><p id="30e3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">运行命令提取进程ID。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="e7b4" class="kk kl hi ma b fi me mf l mg mh">ps aux | awk '{ print $2 }'</span></pre><p id="ab62" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输出:</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="b858" class="kk kl hi ma b fi me mf l mg mh">PID</span><span id="eb6f" class="kk kl hi ma b fi mi mf l mg mh">1</span><span id="beed" class="kk kl hi ma b fi mi mf l mg mh">2</span><span id="7e68" class="kk kl hi ma b fi mi mf l mg mh">3</span><span id="4351" class="kk kl hi ma b fi mi mf l mg mh">4</span><span id="5743" class="kk kl hi ma b fi mi mf l mg mh">6</span><span id="b472" class="kk kl hi ma b fi mi mf l mg mh">8</span><span id="c84d" class="kk kl hi ma b fi mi mf l mg mh">9</span><span id="ddc5" class="kk kl hi ma b fi mi mf l mg mh">10</span><span id="879c" class="kk kl hi ma b fi mi mf l mg mh">11</span><span id="35bb" class="kk kl hi ma b fi mi mf l mg mh">12</span><span id="0502" class="kk kl hi ma b fi mi mf l mg mh">13</span><span id="9828" class="kk kl hi ma b fi mi mf l mg mh">14</span><span id="7ac4" class="kk kl hi ma b fi mi mf l mg mh">15</span><span id="e883" class="kk kl hi ma b fi mi mf l mg mh">16</span><span id="dfb5" class="kk kl hi ma b fi mi mf l mg mh">17</span><span id="3cb1" class="kk kl hi ma b fi mi mf l mg mh">19</span><span id="291a" class="kk kl hi ma b fi mi mf l mg mh">20</span><span id="fc98" class="kk kl hi ma b fi mi mf l mg mh">21</span><span id="3e3b" class="kk kl hi ma b fi mi mf l mg mh">22</span><span id="90bb" class="kk kl hi ma b fi mi mf l mg mh">23</span><span id="145e" class="kk kl hi ma b fi mi mf l mg mh">24</span><span id="6a48" class="kk kl hi ma b fi mi mf l mg mh">26</span><span id="29a0" class="kk kl hi ma b fi mi mf l mg mh">27</span><span id="b7bc" class="kk kl hi ma b fi mi mf l mg mh">28</span><span id="1be9" class="kk kl hi ma b fi mi mf l mg mh">29</span><span id="0fbd" class="kk kl hi ma b fi mi mf l mg mh">30</span><span id="65f5" class="kk kl hi ma b fi mi mf l mg mh">31</span><span id="0a1b" class="kk kl hi ma b fi mi mf l mg mh">33</span><span id="a811" class="kk kl hi ma b fi mi mf l mg mh">...</span></pre><p id="ce52" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里注册我的电子邮件列表。</p><h2 id="6b36" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">AWK脚本</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/a8bf50aaef6a0f5f787faf0f74917396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*toVVFlWUqDLWWT17"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="127b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">AWK不仅仅是一个文本提取工具，它还是一个成熟的脚本语言。您可以创建包含指令集的awk脚本文件。</p><p id="3ebe" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">剧本的结构</strong></p><p id="40a0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://www.gnu.org/software/gawk/manual/gawk.html#BEGIN_002fEND" rel="noopener ugc nofollow" target="_blank">该文件将包含</a></p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="b9de" class="kk kl hi ma b fi me mf l mg mh">BEGIN {}</span></pre><p id="37bb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">块，它声明脚本的开始执行。您也可以使用</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="5565" class="kk kl hi ma b fi me mf l mg mh">END {}</span></pre><p id="34d7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">块，以确保在脚本结束时清理它。您可以使用ARGC和ARGV 通过下面的语法<a class="ae jn" href="https://www.gnu.org/software/gawk/manual/html_node/ARGC-and-ARGV.html#ARGC-and-ARGV" rel="noopener ugc nofollow" target="_blank">访问传入脚本的参数。</a></p><p id="70fd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">值类型</strong></p><ul class=""><li id="8a24" class="lg lh hi jq b jr js ju jv jx li kb lj kf lk kj ll lm ln lo bi translated"><a class="ae jn" href="https://www.gnu.org/software/gawk/manual/gawk.html#Constants" rel="noopener ugc nofollow" target="_blank">数字学</a></li><li id="72f7" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><a class="ae jn" href="https://www.gnu.org/software/gawk/manual/gawk.html#Constants" rel="noopener ugc nofollow" target="_blank">字符串</a></li><li id="36fc" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated">八进制数</li><li id="70e2" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated">十六进制数字</li><li id="5100" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><a class="ae jn" href="https://www.gnu.org/software/gawk/manual/gawk.html#Constants" rel="noopener ugc nofollow" target="_blank">正则表达式</a></li></ul><p id="379b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">运行脚本中的功能</strong></p><p id="5905" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您也可以使用下面的块声明一个函数。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="3e18" class="kk kl hi ma b fi me mf l mg mh">function name(arg_0, ..., arg_n) {}</span></pre><p id="2948" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://www.gnu.org/software/gawk/manual/html_node/Statements.html#Statements" rel="noopener ugc nofollow" target="_blank">脚本还有声明性语法块，如for、while、do等，这些是大多数脚本语言的标准。</a></p><p id="edf9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">正则表达式</strong></p><p id="7f8b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您还可以使用调用正则表达式匹配</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="e265" class="kk kl hi ma b fi me mf l mg mh">exp ~ /regexp/</span></pre><p id="3ee8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">基本数据结构</strong></p><p id="61fc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Awk没有任何数据结构。您将使用的最重要的数据结构是数组。使用数组不需要任何花哨的声明。可以使用删除数组项目</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="811e" class="kk kl hi ma b fi me mf l mg mh">delete array[i]</span></pre><p id="b83a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">正在评论</strong></p><p id="9bd5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">注释就像bash和python等其他脚本语言一样。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="2e5d" class="kk kl hi ma b fi me mf l mg mh"># This is an awk script comment.</span></pre><p id="7eb2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你可以阅读更多关于awk following的内容。</p><div class="mk ml ez fb mm mn"><a href="https://www.gnu.org/software/gawk/manual/html_node/index.html#SEC_Contents" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab dw"><div class="mp ab mq cl cj mr"><h2 class="bd hj fi z dy ms ea eb mt ed ef hh bi translated">GNU Awk用户指南</h2><div class="mu l"><h3 class="bd b fi z dy ms ea eb mt ed ef dx translated">这个文件记录了awk，一个可以用来选择文件中特定记录并对其执行操作的程序…</h3></div><div class="mv l"><p class="bd b fp z dy ms ea eb mt ed ef dx translated">www.gnu.org</p></div></div></div></a></div><p id="4737" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里注册我的电子邮件列表。</p><h2 id="c1e3" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">更多高级示例</h2><p id="d219" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">下面是一些使用awk完成任务的高级脚本示例。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="f1cc" class="kk kl hi ma b fi me mf l mg mh">awk 'BEGIN { for(i=1;i&lt;=6;i++) print "cube of", i, "is", i*i*i}'</span></pre><p id="25ae" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是输出。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="547c" class="kk kl hi ma b fi me mf l mg mh">cube of 1 is 1<br/>cube of 2 is 8<br/>cube of 3 is 27<br/>cube of 4 is 64<br/>cube of 5 is 125<br/>cube of 6 is 216</span></pre><p id="19b7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你甚至可以创建一个进行斐波那契计算的脚本。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="8742" class="kk kl hi ma b fi me mf l mg mh"># Source: cubbi.com<br/># This program calculates the nth fibonacci number<br/># using alrogirhtm 1A: naive binary recursion<br/>#<br/># compiled: N/A<br/># executed: awk -f f1a.awk n<br/>#<br/># The BEGIN block in awk is the first thing to be executed<br/># This block prints out usage information if the wrong number of<br/># command-line arguments were supplied, or if the argument is a<br/># non-numeric string: for such strings, explicit string-&gt;number conversion<br/># (performed by adding zero in awk) turns them into zero.<br/>BEGIN {<br/>    if(ARGC==2 &amp;&amp; 0+ARGV[1]!=0 || ARGV[1]=="0")<br/>        fib_print(ARGV[1])<br/>    else<br/>        print "Usage: awk -f f1a.awk &lt;n&gt;"<br/>}<br/># Function fib_print(n) prints the n'th Fibonacci number<br/>function fib_print(n) {<br/>    printf "%dth Fibonacci number is %d\n",n,f(n)<br/>}<br/># Function f(n) handles the negative arguments: F(-n) = F(n)*(-1)^(n+1)<br/>function f(n) {<br/>    if(n&lt;0)<br/>        return n%2 ? fib(-n) : -fib(-n)<br/>    else<br/>        return fib(n)<br/>}<br/># Naive binary recursion: F(n) = F(n-1) + F(n-2)<br/>function fib(n) {<br/>    return n&lt;2 ? n : fib(n-1) + fib(n-2)<br/>}</span></pre><p id="4f91" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里注册我的电子邮件列表。</p><h2 id="ad77" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">了解有关AWK命令的更多信息</h2><p id="ab30" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">您可以通过查看终端中的手册页来了解关于AWK命令的更多信息。</p><pre class="iy iz ja jb fd lz ma mb mc aw md bi"><span id="4c52" class="kk kl hi ma b fi me mf l mg mh">man awk</span></pre><p id="c0cb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">IT和工程领域是快速发展的领域。跟不上意味着你将被落在后面。跟上的最好方法是保持最新的新闻和教育内容。<a class="ae jn" rel="noopener" href="/subscribe/@dretechtips">订阅免费电子邮件列表，将您的职业生涯提升10倍。</a></p><p id="f6a1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">加入我们吧，因为50多位想要快速提升职业生涯和知识基础的人已经注册了。</strong></p><p id="b6c7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">相关内容:</strong></p><ul class=""><li id="b6c3" class="lg lh hi jq b jr js ju jv jx li kb lj kf lk kj ll lm ln lo bi translated"><a class="ae jn" href="http://How to SECURELY delete files in Linux?" rel="noopener ugc nofollow" target="_blank">如何在Linux上安全删除文件？</a></li><li id="833c" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><a class="ae jn" rel="noopener" href="/geekculture/how-to-find-files-in-linux-6ed09a98c899">如何在Linux上查找文件？</a></li><li id="40a1" class="lg lh hi jq b jr lp ju lq jx lr kb ls kf lt kj ll lm ln lo bi translated"><a class="ae jn" rel="noopener" href="/geekculture/ssh-securely-connect-to-your-servers-8895faab7083">如何安全地连接到您的服务器？</a></li></ul></div></div>    
</body>
</html>