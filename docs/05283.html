<html>
<head>
<title>Storing Json Response in Room Database Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Json响应存储在房间数据库Android中</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/storing-json-response-in-room-database-android-be9550728b54?source=collection_archive---------6-----------------------#2021-07-17">https://medium.com/geekculture/storing-json-response-in-room-database-android-be9550728b54?source=collection_archive---------6-----------------------#2021-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/b5909f73fb17b62c43a8910f221a530f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*ZO35I_lOVEnqJ-6bMO6w3Q.png"/></div></figure><p id="dfe5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">由于其快速的响应，房间数据库现在是开发者的首选，与realm和kotlin coroutines相比，它不占用太多空间。我见过许多开发人员使用kotlin将整个json对象存储在房间数据库android中。</p><p id="a0ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">无论是对象格式还是数组格式，存储整个json都非常简单。您只需要通过创建数据库处理程序、数据库Dao和数据库表来设置数据库。</p><p id="9b14" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，假设您希望在用户登录到您的应用程序以维护用户会话时存储用户信息。</p><p id="1f18" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在您的gradle文件中添加以下Gson依赖项:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="3898" class="jt ju hi jp b fi jv jw l jx jy">implementation 'com.google.code.gson:gson:2.8.6'</span></pre><p id="9ae3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">第一步:</strong> <br/>你需要创建登录响应的数据类。</p><p id="16a4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">步骤2: </strong> <br/>您需要创建登录响应的类型转换器类，如下所示:</p><figure class="jk jl jm jn fd ij"><div class="bz dy l di"><div class="jz ka l"/></div></figure><p id="9d11" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">步骤3: </strong> <br/>你需要告诉你的数据库处理器类关于这个类型转换器，这样room就可以存储整个json对象。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="6010" class="jt ju hi jp b fi jv jw l jx jy">@TypeConverters(LoginConverter::class)</span></pre><p id="8519" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您需要在数据库处理程序类名上方添加这个注释。现在，您的应用程序能够将json响应存储在房间数据库中。</p><p id="cbf1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你面临任何问题，然后留下评论，我会回答你的问题。<br/>快乐编码！</p></div></div>    
</body>
</html>