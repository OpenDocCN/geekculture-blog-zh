<html>
<head>
<title>How to Easily Deploy Your First Angular App On Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Heroku上轻松部署你的第一个Angular应用</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-easily-deploy-your-first-angular-app-on-heroku-65dd546c8181?source=collection_archive---------0-----------------------#2021-10-11">https://medium.com/geekculture/how-to-easily-deploy-your-first-angular-app-on-heroku-65dd546c8181?source=collection_archive---------0-----------------------#2021-10-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/72573331c4a72d46de4d527d56135620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KXSij7J8_y3bKoUC"/></div></div></figure><p id="bea8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你是一个刚刚完成Angular app的开发者吗？我假设你不想只为自己保留这个应用程序，主要是你希望任何人都可以访问这个应用程序，如果它只是你的个人项目，你知道你不会从中赚到任何钱，你可能也不想在它上面花任何钱。</p><p id="9eda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Heroku来救援了！！！</p><p id="eba0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将介绍将Angular应用程序部署到Heroku服务器的步骤。</p><p id="3020" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，假设您的代码在GitHub库中可用，我们将讨论以下内容。</p><ul class=""><li id="3a9b" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">创建Heroku应用程序</li><li id="af30" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">将GitHub repo链接到Heroku应用程序进行自动部署。</li><li id="a520" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">为Heroku服务器配置Angular应用程序</li></ul><h2 id="bcf6" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">创建Heroku应用程序</h2><p id="1be9" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">在这里免费创建一个Heroku账号<a class="ae lc" href="https://signup.heroku.com/" rel="noopener ugc nofollow" target="_blank"/>。如果您已经有帐户，请登录并转到仪表板。</p><p id="1937" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里你需要创建一个新的应用程序。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/273b71a3a1a77955beb2ec665b0f31b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8P1Yl689bw5nifTM.png"/></div></div></figure><p id="72f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并输入唯一的应用程序名称</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/37449a5605fd68fcb347e66e311bf2d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*csQN6rP4LEgPP0aJ.png"/></div></div></figure><h2 id="5a70" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">将GitHub repo链接到Heroku应用程序进行自动部署。</h2><p id="aea5" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">要做到这一点，你可以去你的Heroku应用程序。在deploy部分，您需要选择第二个选项GitHub。(如果你的Heroku账户没有连接到git hub，你必须登录GitHub并连接你的Github账户。)并且您将能够看到一个输入框，用于搜索与您的git hub帐户相关联的存储库。你可以找你的回购，点击连接。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/ed3e12320d29c5ce6744db275edafc09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BCMpvEQOAdEzr6c7.png"/></div></div></figure><p id="e812" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦连接了存储库，您可以选择<strong class="is hj">enable automatic deployments</strong>，现在一切都完成了，只要有一个推送到您的Github repo，Heroku就会自动部署更改。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/fd5e7bdf6842e723bc662cc74bd9cfe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1c3limHPCqcHys_7.png"/></div></div></figure><p id="d3f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，你的棱角将会消失。因为我们还没有为Heroku部署配置angular应用程序。所以让我们现在就开始吧。</p><h2 id="3e0c" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">为Heroku服务器配置Angular应用程序</h2><p id="965b" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">首先，您需要确保您的项目中有angular cli和angular编译器开发依赖项。</p><p id="4dcb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，您可以转到package.json文件，验证在开发依赖项中是否有@angular/cli和@angular/compiler-cli。如果没有，你需要在你的项目的根文件夹中运行下面的cmd。</p><p id="fb0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">npm install @angular/cli@latest @angular/compiler-cli — save-dev</code></p><p id="6697" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在在你的package.json中，从dev-dependencies中复制下面的代码，并粘贴到dependencies对象中。</p><p id="0389" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">“@angular/cli”: “x.x.x”,<br/>“@angular/compiler-cli”: “x.x.x”,</code></p><p id="bb79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">和</p><p id="c1c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">“typescript”: “x.x.x”</code></p><p id="a854" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们需要添加一个脚本，告诉Heroku使用提前(AOT)编译器来构建项目，这样我们就有了浏览器可以理解的HTML、javascript文件。因此，我们在package.json的脚本中添加了以下内容。</p><p id="e240" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">“heroku-postbuild”: “ng build — prod”</code></p><p id="2b9c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将创建所有编译过的文件，并将它们放在将要部署的dist文件夹中。</p><p id="71f0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，重要的是要知道我们不能像现在这样部署angular应用程序，所以我们将创建一个节点服务器来服务我们的应用程序。做到这一点非常简单。</p><p id="8b06" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们将在项目中安装express模块和路径，为此，请在项目目录中运行下面的cmd。</p><p id="0335" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">npm install express path --save</code></p><p id="edfa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在在你的项目的根目录下创建一个文件server.js，并添加下面的代码记住用你的实际应用名替换<app-name>,这个应用名可以在package.json name键中找到。</app-name></p><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/5b6d09c9288d8d8b7c2f82013d25c46e.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*9l0VW4fcLm2R_GYKZHuKtg.png"/></div></figure><pre class="le lf lg lh fd ln ll lo lp aw lq bi"><span id="ae59" class="kc kd hi ll b fi lr ls l lt lu">const express = require('express');</span><span id="14b6" class="kc kd hi ll b fi lv ls l lt lu">const path = require('path');</span><span id="da14" class="kc kd hi ll b fi lv ls l lt lu">const app = express();</span><span id="299e" class="kc kd hi ll b fi lv ls l lt lu">app.use(express.static(__dirname + '/dist/&lt;app-name&gt;'));</span><span id="0474" class="kc kd hi ll b fi lv ls l lt lu">app.get('/*', function(req,res) {</span><span id="8b3e" class="kc kd hi ll b fi lv ls l lt lu">res.sendFile(path.join(__dirname+</span><span id="fbc4" class="kc kd hi ll b fi lv ls l lt lu">'/dist/&lt;app-name&gt;/index.html'));});</span><span id="c342" class="kc kd hi ll b fi lv ls l lt lu">app.listen(process.env.PORT || 8080);</span></pre><p id="e2c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们需要添加一个节点和npm引擎，Heroku将使用它们来运行我们的应用程序。因此，在package.json文件中添加以下代码。作为新的键值对。</p><p id="0e26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">“engines”: { “node”: “x.x.x”, “npm”: “x.x.x” }</code></p><p id="98c6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们最好将节点和npm配置为与本地机器上的版本相同。所以运行命令<code class="du li lj lk ll b">npm -v</code>和<code class="du li lj lk ll b">node-v</code>来获得版本。</p><p id="4f4f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们差不多完成了，最后一步是将package.json中的启动脚本改为</p><pre class="le lf lg lh fd ln ll lo lp aw lq bi"><span id="091e" class="kc kd hi ll b fi lr ls l lt lu">"start" : "node server.js"</span></pre><p id="4835" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们都准备好了。让我们使用下面的代码添加、提交并推送到Github</p><pre class="le lf lg lh fd ln ll lo lp aw lq bi"><span id="e34d" class="kc kd hi ll b fi lr ls l lt lu">git add .<br/>git commit -m "updates to deploy to heroku"<br/>git push</span></pre><p id="5cec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者其他你喜欢的方式。</p><p id="2f01" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完成后，您将能够在Heroku app仪表盘中看到构建已自动启动，因为我们已经在上述步骤中完成了配置。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/36425c0026854edb4ff78ea725884c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*joGEmmRyl_rxJgI0.png"/></div></div></figure><p id="a920" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">部署成功后，您可以单击顶部的打开应用程序按钮，访问您的angular应用程序，并与任何人共享该链接，以便他们可以访问您的应用程序。</p><p id="de86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您的阅读，如果您有任何问题或建议，请在评论中联系我。</p></div></div>    
</body>
</html>