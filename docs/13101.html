<html>
<head>
<title>Understanding The Emotions Behind The Human Language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解人类语言背后的情感</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/understanding-the-emotions-behind-the-human-language-34938a1fb5c7?source=collection_archive---------17-----------------------#2022-06-17">https://medium.com/geekculture/understanding-the-emotions-behind-the-human-language-34938a1fb5c7?source=collection_archive---------17-----------------------#2022-06-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a12e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Python中使用NLTK的评论情感分析</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/50fcd4141acb99862be2268503b2ff81.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*3SdeTLPqe-iRbYEshpDGEw.png"/></div></figure><p id="e85e" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kb" href="https://ijoc.org/index.php/ijoc/article/viewFile/1566/743" rel="noopener ugc nofollow" target="_blank">根据加州大学圣地亚哥分校<strong class="jh hj"> <em class="kc">的研究人员Roger Bohn和James Short的研究</em></strong></a>，美国人平均每天消耗约34g数据(截至2012年)。 </p><p id="95b5" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">那是…大量的数据。在撰写本文时，个人消耗的数据量可能会大得多。</p><blockquote class="kd"><p id="7d61" class="ke kf hi bd kg kh ki kj kk kl km ka dx translated">如果一个人每天可以消耗如此大量的数据，您认为组织会收集多少数据？</p></blockquote><h2 id="1a7f" class="kn ko hi bd kp kq kr ks kt ku kv kw kx jo ky kz la js lb lc ld jw le lf lg lh bi translated">最突出的一种数据类型是文本数据</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es li"><img src="../Images/c7f0eb00eee3c2ef3bfeb1a4294ae343.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*iAf8cOs2xaZY_x7hFGQIrg.jpeg"/></div></figure><p id="00d0" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在网络上的海量数据中，有一种类型的数据非常突出，那就是文本数据——一些消息来源估计网络上的信息80%是文本数据。</p><p id="5598" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">事实上，不管网络上的文本数据占多大比例，我们都不能否认这些文本数据的重要性。</p><p id="b38a" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">通过称为<strong class="jh hj">文本挖掘</strong>的过程，即从文本信息中提取洞察力，公司能够<strong class="jh hj">做出数据驱动的业务决策，以发展和扩大其组织。</strong></p><p id="2443" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在本文中，我将分享一个简单的<strong class="jh hj">情感分析算法</strong>来<strong class="jh hj">使用Python中的<code class="du lj lk ll lm b">NLTK</code>库导出文本</strong>的情感。</p><p id="e862" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">什么是情感分析？什么是NLTK？请继续阅读，寻找答案！</strong></p></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h1 id="2390" class="lu ko hi bd kp lv lw lx kt ly lz ma kx io mb ip la ir mc is ld iu md iv lg me bi translated">什么是NLTK？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mf"><img src="../Images/fa5e2c924ce0154fabe0dc799a90e7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*8lqFOYrG2KNLMADOztybZQ.jpeg"/></div></figure><p id="3cce" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> NLTK代表自然语言工具包</strong>，这是一个用<strong class="jh hj"> Python </strong>编写的NLP(自然语言处理)库，它允许我们<strong class="jh hj">分析文本数据并得出有价值的见解。</strong></p><p id="71f9" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><code class="du lj lk ll lm b">NLTK</code>提供的一些功能包括</p><ul class=""><li id="8d8d" class="mg mh hi jh b ji jj jl jm jo mi js mj jw mk ka ml mm mn mo bi translated"><strong class="jh hj">标记化</strong>(即将句子拆分成单词列表，或将段落拆分成句子列表)</li><li id="aa03" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka ml mm mn mo bi translated"><strong class="jh hj">词干化</strong>(即将一个单词还原成它的词根形式。关心、细心、粗心属于“care”的词根)</li><li id="695f" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka ml mm mn mo bi translated"><strong class="jh hj">词性标注</strong>(即将每个单词标注为名词、代词、形容词、动词等。)</li><li id="b527" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka ml mm mn mo bi translated">…以及更多！</li></ul><p id="2a80" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这个强大的库允许我们<strong class="jh hj">分析我们的文本数据，并得出文本的情感。</strong></p><h1 id="47bf" class="lu ko hi bd kp lv mu lx kt ly mv ma kx io mw ip la ir mx is ld iu my iv lg me bi translated">什么是情感分析？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mz"><img src="../Images/1371d4d8bd09e46fbe364168a32ce640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*MfODya0e1VZGwoUTqxd7uQ.jpeg"/></div></figure><p id="ccbb" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">有时被称为<strong class="jh hj">观点挖掘</strong>，情感分析是指<strong class="jh hj">识别文本中表达的情感。</strong></p><p id="2275" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">示例</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es na"><img src="../Images/00d82c4701c4f336980b9359b4b800bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*vuKpXQExVs_QE9z8QaT-ZA.png"/></div></figure><p id="6255" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> <em class="kc">“我很幸福”</em> </strong>是肯定句，因而被认定为有积极的情绪。<br/> <strong class="jh hj"> <em class="kc">“这个相机太差了，把我弄哭了”</em> </strong>是否定句，因而被认定为有负面情绪。</p><h1 id="cc89" class="lu ko hi bd kp lv mu lx kt ly mv ma kx io mw ip la ir mx is ld iu my iv lg me bi translated">我们的工作空间——Jupyter实验室</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/70c35327ff7d4a209eb193cbf4498f20.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*aoBm2sV7W-SvCX4EmpEk-g.jpeg"/></div></figure><p id="832c" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为了演示<code class="du lj lk ll lm b">NLTK</code>库中某些方法的例子，我将使用<a class="ae kb" href="https://jupyterlab.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> JupyterLab </a>作为我的主要工作空间。</p><p id="05ff" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> JupyterLab </strong>是一个<strong class="jh hj"> web应用，它允许我们查看基于我们的python代码</strong>的交互式输出。也经常被<strong class="jh hj">数据科学家和机器学习工程师使用。</strong></p><h1 id="fb4a" class="lu ko hi bd kp lv mu lx kt ly mv ma kx io mw ip la ir mx is ld iu my iv lg me bi translated">我们的文本数据源——亚马逊Kindle设备评论</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nc"><img src="../Images/091fcf8cf6a6c4794c3bed4c030a9efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*lt9KQ487tKzxCQRveugCgg.jpeg"/></div></figure><p id="9fe1" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这个项目中，我们的目标是识别不同文本的情感。</p><p id="4b57" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，我将使用亚马逊商店上一款<a class="ae kb" href="https://www.amazon.sg/Kindle-Paperwhite-Waterproof-International-generation/dp/B07741S7Y8/ref=sr_1_18?keywords=kindle+paperwhite+2021&amp;qid=1651924528&amp;sprefix=kindle+paperwhite%2Caps%2C323&amp;sr=8-18#customerReviews" rel="noopener ugc nofollow" target="_blank">流行阅读设备Kindle设备</a>的评论作为数据源来执行情感分析。为了帮助我们完成这个过程，我已经完成了数据收集阶段，并提取了几篇包含正面和负面观点的评论。</p><p id="9d92" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> kindle_reviews.txt </strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es nd"><img src="../Images/c926a29f8781e52215aa74e6e5dd3bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VD7HlG-E_Xbcmp0cM_tP9g.png"/></div></div></figure><p id="3e21" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">作为人类，我们可以非常清楚地识别第一次审查是负面的，第二次审查是正面的。</p><p id="1a02" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">第一次审查— <code class="du lj lk ll lm b">The warranty and support is really bad</code>:明显否定<br/>第二次审查— <code class="du lj lk ll lm b">I highly recommend this...</code>:明显肯定。</p><p id="8991" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们看看如何创建一个情感分析算法来做同样的事情。</p><h1 id="f8f7" class="lu ko hi bd kp lv mu lx kt ly mv ma kx io mw ip la ir mx is ld iu my iv lg me bi translated">我们的情感分析算法</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ni"><img src="../Images/db7c97fd9d27284b9f7d0ce9906b8c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*bKM-0fifwd5m4DFoh0SGJQ.jpeg"/></div></figure><p id="5dfd" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">对于我们的情感分析算法，我们将创建以下工作流:</p><ol class=""><li id="11eb" class="mg mh hi jh b ji jj jl jm jo mi js mj jw mk ka nj mm mn mo bi translated">阅读文件源并提取单个评论</li><li id="2d26" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka nj mm mn mo bi translated">对于每个评论，我们将使用<code class="du lj lk ll lm b">nltk.word_tokenize()</code>将<strong class="jh hj">段落标记为</strong>单词标记</li><li id="b204" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka nj mm mn mo bi translated">对于复习中的每个单词，我们会识别出<strong class="jh hj">词性</strong>(即名词、动词、形容词等。)与它相关联使用<code class="du lj lk ll lm b">ntlk.pos_tag()</code></li><li id="b23f" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka nj mm mn mo bi translated">在获得单词列表以及它们各自的词性之后，我们将把所有的形容词提取到一个形容词单词列表中。</li><li id="4878" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka nj mm mn mo bi translated">接下来，我们将遍历形容词单词列表中的每个形容词，并根据包含肯定和否定单词列表的<code class="du lj lk ll lm b">positive.txt</code>和<code class="du lj lk ll lm b">negative.txt</code>文件来识别该形容词是肯定的还是否定的。如果形容词是积极的，我们将在评论的情感得分上加1。<br/>如果形容词是负面的，我们会从评论的情绪得分中减去1。</li><li id="a56e" class="mg mh hi jh b ji mp jl mq jo mr js ms jw mt ka nj mm mn mo bi translated">如果最终得分是肯定的，我们可以有把握地认为评论是肯定的。还有，分数越高越积极。否则，审查将被视为中立(如果分数为0)或负面(如果分数为负)。</li></ol><p id="b278" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">迷茫？别担心，我会解释创建这个算法的每一个代码块，所以继续吧！</p><p id="492f" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> <em class="kc">注* </em> </strong> — <strong class="jh hj"> <em class="kc">这个项目的源代码也可以在GitHub上找到:</em></strong><a class="ae kb" href="https://github.com/cyberjj999/kindle_reviews_sentiment_analysis" rel="noopener ugc nofollow" target="_blank"><strong class="jh hj"><em class="kc">https://GitHub . com/cyber jj 999/kindle _ reviews _情操_分析</em> </strong> </a></p><p id="a5e2" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">事不宜迟，让我们直接开始编码吧！</p></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h2 id="c7da" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">第一步。阅读文件源并提取单个评论</h2><p id="9a8d" class="pw-post-body-paragraph jf jg hi jh b ji np ij jk jl nq im jn jo nr jq jr js ns ju jv jw nt jy jz ka hb bi translated">第一步是从<strong class="jh hj"> kindle_reviews.txt </strong>中提取我们的个人评论，这是一个包含我事先准备好的评论的文件。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es nu"><img src="../Images/a88b4e8455f80123f9a69aef216df081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYLPfVoXRo6W5ams00NBHA.png"/></div></div></figure><p id="5327" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为了对每个评论执行编程逻辑，我们需要首先将所有评论提取到一个列表中。</p><p id="350c" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，我们打开包含评论的文件，并通过使用分隔符<code class="du lj lk ll lm b">\n\n</code>将每个评论分割成一个列表项</p><p id="4fcf" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">使用<code class="du lj lk ll lm b">review_list[-1]</code>访问列表的最后一个元素向我们展示了最后一次检查。</p><p id="9c38" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> <em class="kc">注* —由于在本项目中数据是预先准备好的，因此不需要数据争论程序。然而，如果您使用python库(如bs4)从网上搜集评论，您将需要执行数据清理，以便源数据可以准确地用于进一步的分析。</em> </strong></p><h2 id="ef70" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">第二步。对于每个评论，我们将使用 <code class="du lj lk ll lm b"><strong class="ak">nltk.word_tokenize()</strong></code>将段落标记为单词标记</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es nv"><img src="../Images/e2cf4a64c110cf24f9cb0c81d721562f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sradjotSwzLDibA5-A4oyg.png"/></div></div></figure><p id="60bb" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，我们使用<code class="du lj lk ll lm b">nltk.word_tokenize()</code>方法将每个评论(即文本段落)标记为一个单词列表。</p><p id="4ade" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">有了单词列表，我们就可以进行词性识别了。</p><p id="845f" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> <em class="kc">注意*—</em></strong><code class="du lj lk ll lm b"><strong class="jh hj"><em class="kc">nltk</em></strong></code><strong class="jh hj"><em class="kc">中的</em> </strong> <code class="du lj lk ll lm b"><strong class="jh hj"><em class="kc">word_tokenize()</em></strong></code> <strong class="jh hj"> <em class="kc">方法并不像Python中的</em> </strong> <code class="du lj lk ll lm b"><strong class="jh hj"><em class="kc">string.split()</em></strong></code> <strong class="jh hj"> <em class="kc">方法那么简单。通过分析该方法的源代码，我们可以看到在标记化过程中实现了各种正则表达式算法。</em>T29】</strong></p><h2 id="8a47" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">第三步。对于评论中的每个单词，我们将使用ntlk.pos_tag()来识别与之相关的词性</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es nw"><img src="../Images/b01fb40fadced53da435633a7cd96c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5DDOxuNoNE95IRxIJZNlA.png"/></div></div></figure><p id="3e97" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为了识别词类，我们可以将单词列表作为参数传递给<code class="du lj lk ll lm b">nltk.pos_tag()</code>方法，并指定<code class="du lj lk ll lm b">tagset='universal'</code>的参数</p><p id="0a6c" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><code class="du lj lk ll lm b">tagset='universal'</code>的目的是<strong class="jh hj">将词性标注简化为动词、名词、形容词等一般类别</strong>。如果不使用通用标记集，将会有非常具体的标记和动词、名词、形容词等的多种变体。</p><p id="70e7" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">输出是一个<code class="du lj lk ll lm b">tuple</code>的列表，第一个元素存储单词，第二个元素存储词性值——即<code class="du lj lk ll lm b">('reading', 'VERB')</code></p><h2 id="b011" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">第四步。在获得单词列表及其词性之后，我们将把所有形容词提取到一个形容词单词列表中。</h2><p id="8508" class="pw-post-body-paragraph jf jg hi jh b ji np ij jk jl nq im jn jo nr jq jr js ns ju jv jw nt jy jz ka hb bi translated">这一步需要一些使用<code class="du lj lk ll lm b">list</code>和<code class="du lj lk ll lm b">tuple</code>的基本python知识。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es nx"><img src="../Images/3479d2db94e746d392871270c4a2edb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9K3Y9GXyw4jK6STN38uyw.png"/></div></div></figure><p id="65b7" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们可以做一个简单的列表理解来过滤<code class="du lj lk ll lm b">pos_list</code>，只提取形容词——即那些标记为<code class="du lj lk ll lm b">"ADJ"</code>的形容词。</p><pre class="iy iz ja jb fd ny lm nz oa aw ob bi"><span id="400c" class="kn ko hi lm b fi oc od l oe of">adj_list = [word[0] for word in pos_list if word[1] == 'ADJ']</span></pre><p id="4adc" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这段代码遍历<code class="du lj lk ll lm b">pos_list</code>，如果第二个元素(词性值)等于<code class="du lj lk ll lm b">ADJ</code>(形容词)，则提取第一个元素(原单词)。</p><p id="0c19" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">太好了！我们现在有一个形容词列表。下一步很简单。</p><h2 id="a016" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">第五步。我们将遍历形容词单词列表中的每个形容词，并基于包含肯定和否定单词列表的positive.txt和negative.txt文件来识别该形容词是肯定的还是否定的。</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es og"><img src="../Images/da3e0c900d0d8db10a637cfaea13146f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M5-TZKD04u7dFobTacSK8g.png"/></div></div></figure><p id="7ef5" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们可以首先从文本文件中提取所有正面和负面的单词，并将它们存储在列表中。</p><p id="3895" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，你可能会注意到有些单词拼错了，比如“accessable”。这不是一个错误，因为互联网评论经常充满了错别字/拼写错误。该列表将考虑常见的拼写错误的单词，从而使我们的分析更加准确。 </p><p id="ce8f" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">接下来，我们将通过将形容词列表与正面和负面单词列表进行比较来计算我们的情感得分。</p><p id="fdb8" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">如果形容词是正面的，我们会给评论的情绪评分加1。<br/>如果形容词是负面的，我们会从评论的情绪得分中减去1。</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es oh"><img src="../Images/c6f62e001f99f30603555409b860751f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vdkwg2cI_9jK83GEcJklBA.png"/></div></div></figure><p id="d837" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们首先指定一个<code class="du lj lk ll lm b">sentiment_score</code>变量来跟踪我们的情感得分。然后，我们检查每个形容词是否在正面或负面单词列表中，并相应地增加/减少情感得分。</p><p id="425f" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">值得注意的是，我们还通过使用<code class="du lj lk ll lm b">lower()</code>方法将我们的评论形容词转换成小写来规范化它们。这使我们能够更准确地将每个形容词与只包含小写单词的肯定和否定单词列表相匹配。</p><p id="9baa" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，你可以看到计算出的最终情绪得分是4。</p><h2 id="528f" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">第六步。如果最终得分是肯定的，我们可以有把握地认为评论是肯定的。还有，分数越高越积极。</h2><p id="c252" class="pw-post-body-paragraph jf jg hi jh b ji np ij jk jl nq im jn jo nr jq jr js ns ju jv jw nt jy jz ka hb bi translated">使用这个逻辑，我们可以看到我们的评论的情绪是积极的——理想的分数是4分！</p><p id="7157" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们再看一遍评论。</p><pre class="iy iz ja jb fd ny lm nz oa aw ob bi"><span id="0c1f" class="kn ko hi lm b fi oc od l oe of">"I've been reading with an e-reader for years. Mostly a Kobo. Also have the Kobo Forma, great e-reader. But I was always curious about the Kindle. Now ordered the Kindle with Amazon.nl and I'm very happy with it! Nice small size. Fits almost in my pocket. Fantastic dictionaries and great ease of reading. I can see that there are years of experience with e-readers behind this. Super purchase."</span></pre><p id="f7b4" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><code class="du lj lk ll lm b">great</code>、<code class="du lj lk ll lm b">happy</code>、<code class="du lj lk ll lm b">Fantastic</code>、<code class="du lj lk ll lm b">super</code>——看起来我们有很多积极的词汇！</p><p id="5397" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">准确吗？看起来肯定是这样的！</p><h1 id="e039" class="lu ko hi bd kp lv mu lx kt ly mv ma kx io mw ip la ir mx is ld iu my iv lg me bi translated">整理代码后的输出</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es oi"><img src="../Images/41e3575f4ea4443876c2e7a6134460c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*istgOJx9FrPL4SyNTgsy3g.png"/></div></div></figure><p id="cb01" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">正如我们所见，该算法工作得相当好！我们能够识别不同的积极和消极形容词，并决定它们对情绪得分的贡献是积极的还是消极的。</p><p id="e2ea" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj"> <em class="kc">当然也有一些明显肯定/否定的词因为没有被</em> </strong> <code class="du lj lk ll lm b"><strong class="jh hj"><em class="kc">nltk</em></strong></code>认定为形容词而被遗漏。如果我们简单地统计所有肯定/否定的单词，而不考虑它们的词性，就会发生相反的情况。我们最终会捕捉所有积极/消极的单词，而不管它们的上下文。</p><p id="7d9b" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这表明，好的情感分析不仅仅是计算正面和负面形容词的数量那么简单。以及在很多情况下，这种算法的表现不尽如人意。</p><h2 id="7338" class="kn ko hi bd kp kq nk ks kt ku nl kw kx jo nm kz la js nn lc ld jw no lf lg lh bi translated">对算法的改进</h2><p id="73e2" class="pw-post-body-paragraph jf jg hi jh b ji np ij jk jl nq im jn jo nr jq jr js ns ju jv jw nt jy jz ka hb bi translated">我们可以探索许多算法来进一步完善我们当前的情感分析算法。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es oj"><img src="../Images/56d3020631717a1e86d66d8ab9d1085f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VQe1iMeFGhMPJsTS_f8Egg.jpeg"/></div></div></figure><p id="d75b" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">一个改进是利用<code class="du lj lk ll lm b">bigrams</code>或<code class="du lj lk ll lm b">trigrams</code>(即连续的相邻单词)来更准确地计算情感得分。</p><p id="0620" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">考虑以下情况</p><pre class="iy iz ja jb fd ny lm nz oa aw ob bi"><span id="14f7" class="kn ko hi lm b fi oc od l oe of">“This device is not good at all. I heard from my friend that it was great, but it is really not very impressive.”</span></pre><p id="698e" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，我们大概可以找到三个积极的词——“好”、“棒极了”和“令人印象深刻”。但是，很明显，评论是负面的。</p><p id="f4f3" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为了改进我们的算法，我们可以考虑肯定/否定词之前的词。<code class="du lj lk ll lm b">"<strong class="jh hj">NOT</strong> good" = &lt;negative&gt; * &lt;positive&gt; = &lt;negative&gt;</code>因而它应该被确定为否定的。<code class="du lj lk ll lm b">"<strong class="jh hj">NOT</strong> bad" = &lt;negative&gt; * &lt;negative&gt; = &lt;positive&gt;</code>因此这应被确定为阳性。</p><p id="5dda" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">使用<code class="du lj lk ll lm b">bigrams</code>和<code class="du lj lk ll lm b">trigrams</code>，我们可能会使算法更加健壮。</p></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h1 id="32bf" class="lu ko hi bd kp lv lw lx kt ly lz ma kx io mb ip la ir mc is ld iu md iv lg me bi translated">结束语</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ok"><img src="../Images/024a8bc52e990e0e178226786dfe0aef.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*_YVCK6_enPzGfTr1Mp34eg.jpeg"/></div></figure><p id="a03b" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">然后…就这样结束了！感谢您阅读我用Python 中的 <code class="du lj lk ll lm b"><strong class="jh hj">NLTK</strong></code> <strong class="jh hj">进行<strong class="jh hj">情绪分析的文章！我希望你学到了一些有价值的东西，学到了一些新东西。</strong></strong></p><p id="14c4" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">人类的语言非常复杂，但也非常重要。有些人认为语言是我们作为一个物种能够真正繁荣昌盛的主要原因之一，我绝对同意这一点！</p><p id="e624" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">理解语言既是一门科学，也是一门艺术我对未来几年NLP(自然语言处理)的进步充满希望！</p><p id="a908" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">只是温柔的提醒一下——你可以在这里访问这个项目的<strong class="jh hj">完整源代码:</strong><a class="ae kb" href="https://github.com/cyberjj999/kindle_reviews_sentiment_analysis" rel="noopener ugc nofollow" target="_blank">https://github . com/cyber jj 999/kindle _ reviews _情操_分析</a></p><p id="88a6" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">继续摇摆，享受学习！下次见！</p></div></div>    
</body>
</html>