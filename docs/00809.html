<html>
<head>
<title>How Relevant Is Django?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">姜戈有多重要？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-relevant-is-django-in-a-world-of-front-end-frameworks-b13e77da405?source=collection_archive---------3-----------------------#2021-03-14">https://medium.com/geekculture/how-relevant-is-django-in-a-world-of-front-end-frameworks-b13e77da405?source=collection_archive---------3-----------------------#2021-03-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/6e416acd36487dc84def973b7755c2e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C01tUZn3pOF89UfZHPPmBw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Django is frequently described as a batteries-included framework</figcaption></figure><div class=""/><p id="2df3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我先说我每天和Django一起工作大约有一年半的经验。我也有使用Express的经验，这使我有资格写这篇文章，这篇文章提供了Django和轻量级框架之间的许多比较。在本文中，我将讨论使用前端框架启动一个新项目的场景(我将引用React，但如果您愿意，也可以假装它是Angular ),并讨论使用Django的利弊。我还讨论了将Django用于微服务和WebSockets。</p><p id="11ea" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我会尽可能地避免在这篇文章中出现任何偏见，而且我绝对不会在你应该使用什么样的后端框架上扮演救世主的角色。如果你读到一些你不同意的东西，请在这部分留言，我会试着把它带进辩论。或者，你也可以在评论里赶走我可能的知识匮乏。</p><h1 id="660c" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">姜戈是什么</h1><p id="ee95" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">这个已经写了一千遍了，我就长话短说吧。</p><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kv"><img src="../Images/635d5a16f63ed4f152503a3c15ee2d32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Zrk4QSpUOJFM2pZr34uPw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Credit: <a class="ae la" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank">https://www.djangoproject.com/</a></figcaption></figure><p id="2685" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">扩展一下你在那里读到的，Django是为你设计的，你不必做很多决定；它固执己见——通常有推荐的方法来做某事。这通常被描述为“包括电池”。你可以专门用Django建立一个网站。通过从头到尾遵循文档，它将回答你所有的功能需求，Django的方式。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="599d" class="js jt hx bd ju jv li jx jy jz lj kb kc kd lk kf kg kh ll kj kk kl lm kn ko kp bi translated">废电池</h1><p id="c24c" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">当人们谈论使用Django作为解耦后端时，我读到的一个批评是，与使用Flask相比，您的项目中浪费了大量功能。</p><p id="4dbe" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们进入其中的一些。</p><p id="ce21" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy"> Django模板</strong></p><p id="52d8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我不会骗你。如果我能回到过去，避免学习任何一种编程技能，那就是Django的模板系统和Jinja2格式。Django就是这样向浏览器呈现动态HTML的。在我看来，与用Django扩展模板相比，在React中使用组件更干净，它允许你制作具有更多功能的应用程序。但是我跑题了。我的目的不是比较React和Django模板。</p><p id="f815" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">那么，这实际上给你带来了什么负面影响呢？简而言之，你的项目规模略大。当您运行“pip install django”时，您会损失宝贵的几秒钟。我知道，太过分了。</p><p id="dec1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">实际上，这个功能不会干扰您的API。这不像当一个请求进来时，它必须通过模板语言才能到达您的REST框架端点。这不会导致任何性能问题。</p><p id="50e5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果Django的大小差异(7.8MB安装v3.1.5)到Flask (549km集体安装Werkzeug，MarkupSafe，Jinja2，itsdangerous，Flask；安装v1.1.2)将会对你的虚拟私人机器、Heroku服务器或者你喜欢部署Django的方式产生影响。</p><p id="2445" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">认证&amp;相关安全</strong></p><p id="e685" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通常，当使用React时，我们希望将它部署到一个独立于我们的API的域中，可能与Nginx一起提供服务。也许不总是这样，但我相信大多数人都是这样做的。</p><p id="3e14" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当你用Django创建一个网站时，它使用会话认证。当我们使用Django Rest框架时，它附带了令牌认证。DRF令牌身份验证可能是您进行身份验证反应的方式。</p><p id="4c74" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Django以其内置的安全性而自豪。从CSRF到JSX再到点击劫持。它已采取措施防止这些袭击。然而，这些并不是为了保护另一个域上的React应用而设计的。Django确实有一些与前面提到的安全性相关的中间件，它显然在每个请求上运行一些代码。我非常怀疑这会显著影响请求的速度。</p><p id="d18d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另外，我最近想在React中使用Django会话认证，因为关于在web应用程序中使用JWT的安全性的争论还没有结束。您将会遇到我在本文中提到的一些令人头疼的问题——如果您感兴趣的话，请查看一下。</p><div class="hh hi ez fb hj ln"><a rel="noopener follow" target="_blank" href="/swlh/django-rest-framework-and-spa-session-authentication-with-docker-and-nginx-aa64871f29cd"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hy fi z dy ls ea eb lt ed ef hw bi translated">Django Rest框架和SPA-会话认证(使用Docker和Nginx)</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">在本文中，我解决了在开发过程中使用DRF、Django会话认证和React的问题，并给出了一个实例</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">medium.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb hp ln"/></div></div></a></div><h2 id="7262" class="mc jt hx bd ju md me mf jy mg mh mi kc jf mj mk kg jj ml mm kk jn mn mo ko mp bi translated"><strong class="ak">关于可能不必要的</strong>功能<strong class="ak">的结论</strong></h2><p id="3de7" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">Django包含了很多Flask没有的功能，我还没有介绍过。我认为Django的额外功能对您、开发人员或您的用户都没有真正的负面影响。</p><p id="3b63" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你需要制作一些SEO优化的页面，你可以使用Django模板系统，这样会带来一些好处。如果您不知道，服务器端呈现(如Django模板)比JavaScript中的客户端呈现(如React)更容易被搜索引擎解析。这没什么大不了的，也没那么简单，但是如果你想在SEO方面有一点优势，你可以在Django模板中写出一些内容。</p><h1 id="0bb8" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><code class="du mq mr ms mt b">What "Batteries" You'll Make Use of</code></h1><p id="7482" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">我想介绍Django内置的一些您可以使用的东西，包括Django Rest框架——当使用Flask或Express之类的东西时，您必须自己或通过第三方实现其中的大部分。</p><p id="cf01" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">用户模型和认证</strong></p><p id="e0f7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Django负责为您在数据库中创建模型。刚刚用Express和TypeOrm创建了一个用户模型，Django阻止您考虑一些事情。例如，散列密码。我相信大多数人都知道你不会把密码以纯文本的形式存储在数据库中。当你注册用户并让他们登录时，Django会处理所有这些事情。</p><p id="df11" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这种用户模型有一个很大的缺点。像大多数应用程序一样，你可能会希望用电子邮件和密码来登录你的用户。Django的方法是用用户名登录，而不是电子邮件。覆盖用户模型是可能的，但是第一次这么做有点让人头疼。我听到的唯一理由是维护遗留项目。还记得我之前说过Django做任何事情都有一个推荐的方法吗？这是一个让我希望有两种内置方式的例子。</p><p id="db0b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一旦您完成了配置(如果您决定这么做)，Django Rest框架的令牌认证就使用Django用户模型。这肯定比使用非独立框架建立自己的身份验证要快。使用第三方包来设置JWT令牌也很容易，它也使用Django用户模型。</p><p id="04c7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">其他相关话题</strong></p><p id="5f48" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Django提供了ORM这样的功能。然而，似乎当你使用SqlAlchemy的Flask或FastAPI时，也是一样简单。</p><p id="dbe7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我要说的是，姜戈的一个不必要的困难是CORS。我花了一整天的时间用django-cors-headers和rest框架撞墙。出于某种原因，它不适合我，而使用npm cors包和express再简单不过了。</p><p id="3c4f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我想说的另一个让Django的生活变得更加简单的特性是静态和媒体文件。具体来说，当你使用亚马逊S3桶，你可能应该为生产，在我看来。django-storages让这变得轻而易举。</p><p id="004d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我最近的Express项目中，我在Django中寻找类似ImageField的东西。如果你不熟悉，在Django中，你使用Pillow包，它允许你在DB模型上有一个图像字段。使用django-storages，您可以将文件上传到该字段，它会处理AWS auth，创建唯一的文件名，检查文件类型，上传到s3 bucket，并跟踪云中的位置。删除和更新也一样。我不确定Flask(我相当有信心<em class="mu"> django- </em> storages是不兼容的)，但是我在npm生态系统中四处看了看，没有发现任何类似的东西。我会假设这是因为有许多ORM包，当有这么多竞争时，没有人想为一个特定的实现它。自己落实一下也没什么大不了的。不过，有了Django就方便了。</p><p id="2ae6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Django还有许多我没有在这里介绍的其他内置特性。例如，如果你需要发送一封电子邮件，Django可以满足你的需求(包括发送HTML模板)。我发现这比在包中保存额外的字节更有用。也许我错了，但是据我所知，向EC2实例添加8MB可能不会引起问题。</p><h1 id="cb33" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">Django Rest框架</strong></h1><p id="a65e" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">在此之前，我一直没有过多地谈论DRF，因为我想单独讨论Django。但实际上，没有它你是不会创建一个API的(除非你用的是GraphQL和graphene，不过那是以后的事了)。你可以，但我个人想不出你为什么要这么做。我发现最有用的两个东西是连续出版物和视图。</p><h1 id="87a7" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">连续出版物</h1><p id="e6e2" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">在我看来，Django Rest框架最好的地方是序列化器，特别是模型序列化器。serialiser是一个您向其传递数据的类，它将处理数据并为您执行一些功能。一旦你精通了这些，你就能以惊人的速度编写CRUD功能。只需将数据传递给模型序列化程序，它就会在指定的模型上施展魔法。它为您执行数据验证和DB操作——您只需要指定操作。从那里，它将返回您需要的数据或错误，两者都是JSON格式。</p><h1 id="35b0" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">视图</h1><p id="8349" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">视图只是为路线提供一些预设功能的一种方式。一般的观点是伟大的。如果您需要返回一个模型的所有数据的列表，您可以在一行代码中完成(假设您已经设置了您的序列化器和模型)。为CRUD设置端点也是如此，尽管一旦您开始需要权限或其他功能，您就有可能远离通用视图。以我的经验，发展很快。</p><p id="628a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Django Rest框架还有更多的内容，但这是我使用最多的，所以这就是我要说的。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="ddeb" class="js jt hx bd ju jv li jx jy jz lj kb kc kd lk kf kg kh ll kj kk kl lm kn ko kp bi translated">含电池vs第三方</h1><p id="d7f6" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">我看到人们经常在网上讨论这个问题。人们对他们喜欢哪一种风格非常固执己见。两者各有利弊。</p><p id="2f67" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对Django的一个很大的批评是建立一个项目需要大量的样板代码。运转</p><pre class="kw kx ky kz fd mv mt mw mx aw my bi"><span id="a357" class="mc jt hx mt b fi mz na l nb nc">django-admin startproject<br/>django-admin startapp</span></pre><p id="6bef" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">给从未使用过Django的人创建了大量的文件。Flask的论点是，你可以用一个文件启动并运行一个API。太好了。然而，一旦你的Flask应用程序设置好了，很可能你就不会继续在main.py中写你所有的逻辑了(请不要)。</p><p id="5cd3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我概述一下关于在一个包中包含许多功能的争论。一个简单的例子是ORM。在pip生态系统中，可能有数十或数百个ORM包可供您使用。我没有使用SQLAlchemy的经验，但是有道理的是，一个单独专注于ORM的包可能比Django ORM稍微好一点，Django ORM是Django做的几百件事情中的一件。除此之外，你还有一个选择。你可以做你的研究，看看不同套餐的利弊；也许有一款最符合你的需求。我在这里使用ORM作为例子，但是这适用于你需要构建的所有功能。让我也声明一下，我喜欢Django ORM，它的开发速度令人欣喜；我只是想提出一个论点。</p><p id="ed1c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然而，在这个争论的另一面，当谈到Django和使用ORM时，只有Django ORM。没有必要去读一些我确信名为“2021年最佳Python ORM”的文章——只要埋头阅读文档就行了。</p><p id="5135" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">进一步添加到Django ORM参数中，让我们假设SQLAlchemy的性能稍微高一点，可以让您在60毫秒而不是65毫秒内完成一些查询(再次强调，我是为了方便讨论而编造的)。这对最终用户几乎没有影响。如果你的Django应用程序扩展到10亿用户，并且查询速度正在消耗大量资源，那么你很可能不会遇到重构或创建微服务来提高速度的问题。</p><p id="23a5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我在这里提出的论点的两个方面都适用于构建应用程序的任何部分。也许有一个稍微好一点的(更专业的)包来处理Flask的模板。如果这是一个巨大的交易，你知道它会让你的生活更容易，使用烧瓶和包装。</p><p id="809c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">总结这一节，真的，它归结为你的应用程序需要什么。如果你需要完全的控制和为你的应用程序需要的每一个功能选择一个包的能力，可能用Flask。但是如果你想加快开发速度，并且希望大部分决策已经为你做好了(包括著名的文档)，那么就选择Django。两种选择都是可行的。</p><h1 id="76b9" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">微服务</strong></h1><p id="15f4" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">我将保持这一部分简短，因为我没有太多的微服务经验。然而，这个论点并不太难布局。</p><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nd"><img src="../Images/89a1974ef3314cbd23f43386a3ac2f30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5jLPiGdr_ob1PDXDD4xZug.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Credit to microservices.io</figcaption></figure><p id="bde7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">除此之外，每个服务通常处理项目/应用/系统/技术的一部分——例如，身份验证或图像处理。回想一下我之前说过的关于Django的额外功能和启动时生成的大量文件。我说这真的不会对事情产生太大影响。当你试图建立一个只做一件事的小服务时，这就不成立了。拥有额外的电池很可能会碍事。</p><p id="43c6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我认为用Django或者轻量级的东西来构建微服务是一个非常明确的选择。我相信你一定可以用每个运行的Django构建微服务。不过，用Flask更有意义，也更坚持微服务的精神。</p><h1 id="d27f" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">异步代码和WebSockets </strong></h1><p id="c58e" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">早在2005年制作Django时，WebSockets HTTP协议(创建于2011年)还不存在。这意味着完全同步地编写所有Django是完全合乎逻辑的。切到今天，和Django一起使用WebSockets最流行的方式是Django通道。</p><p id="06ff" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我对Django有相当多的经验，但我并不觉得实现通道很直观。让我说清楚；那纯粹是我的意见。也许我需要付出更多的努力，我会掌握它的窍门。我认为不完全直接的是在异步和同步代码之间切换以使用ORM。我最近一直在节点生态系统中使用socket.io和Apollo Server(不在同一个项目中)(在我看来，这些使用WebSockets的选项更简单)。</p><p id="bb00" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我看来，使用通道感觉有点像用胶带将WebSocket功能捆绑到Django，但这并不是说它不起作用。那么，为什么Django的核心不能重写得更加异步友好呢？首先，工作量很大。第二，因为它是2005年创建的，无数的项目使用Django，如果他们发布一个有突破性变化的更新，将会引起强烈抗议。对于依赖Django的项目来说，这是一件好事！但是如果你要开始一个需要WebSockets的项目，你可能需要做更多的研究。</p><p id="d5a7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我也不确定Django Channels适合服务于前端框架还是用Jinja2编写的Django模板。</p><p id="4b1f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">总结一下WebSockets。如果你开始一个需要WebSockets的新项目，请自己研究一下什么是最适合你的框架或包。这部分是我根据自己的经验得出的意见，所以请记住。</p><h1 id="9e3a" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">那么Django在前端框架的世界中处于什么位置呢</h1><p id="2253" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">总结一下我在这篇文章中所涉及的内容。</p><p id="a058" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Django确实有很多功能，当您使用前端框架时，这些功能可能在您的项目中没有用到，但是实际上，不使用这些功能不会导致任何性能问题或开发问题。我认为Django项目的样板文件大小也是如此。这真的只会是初学者的问题，而且很可能不会太久。</p><p id="d8db" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对Django的一个有效的批评是，做事情有固定的方式，大多数时候会给你留下更少的选择来构建功能。但这可能不是一件坏事。Django用16年的思考过程背后的经验为你做出这些关于构建功能的决定。</p><p id="194b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我喜欢Django REST框架，在无头架构中使用前端框架时，它是一个非常有用的工具。Django还有一些其他的功能可以让生活变得更简单，比如用户模型和它的好处，以及我个人最喜欢的django-storages。</p><p id="1664" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">说到WebSockets和微服务，我觉得这是Django的不足之处，但即使如此，可能也不会太多。由于遗留问题，Django在异步代码方面(再次，在我看来)比最近的包要差一些。但这并不是说Django让您没有工具来完成WebSockets。说到微服务，您仍然可以使用Django，但是轻量级框架更适合小型服务。</p><p id="2dbd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我想我已经为Django和它与前端框架的结合提供了一篇平衡的文章。但我认为总体来说，Django是后端框架开发速度的一个很好的选择。然而，当您想做一些“不是Django的方式”的事情时，您会遇到麻烦，例如，在SPA中使用session auth。</p><p id="f659" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">就我个人而言，我正在用Apollo Server、Express、Apollo Client和React构建我的新项目。开发体验很棒。如果你想知道我为什么喜欢它，看看这篇文章。</p><div class="hh hi ez fb hj ln"><a rel="noopener follow" target="_blank" href="/geekculture/how-im-developing-my-full-stack-web-app-with-the-guards-up-62ae1a25cf3a"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hy fi z dy ls ea eb lt ed ef hw bi translated">我如何在警惕的情况下开发我的全栈Web应用程序</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">在这篇文章中，我将分享Apollo、Typescript、Prisma 2.0和GraphQL-codegen是如何改变游戏的，当它…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">medium.com</p></div></div><div class="lw l"><div class="ne l ly lz ma lw mb hp ln"/></div></div></a></div><p id="5426" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢阅读这篇文章。同样，如果你认为我说的任何事情都是严重失实的，请告诉我。</p></div></div>    
</body>
</html>