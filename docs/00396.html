<html>
<head>
<title>Best Practices for Designing REST APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设计REST APIs的最佳实践</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/best-practices-for-designing-rest-apis-e52808c7f8e1?source=collection_archive---------3-----------------------#2021-01-30">https://medium.com/geekculture/best-practices-for-designing-rest-apis-e52808c7f8e1?source=collection_archive---------3-----------------------#2021-01-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f0ab28c84d4d1487bcab1d760ea65184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4mIUhWztaJodNt45x-Rl6g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Best Practices For Designing REST APIs</figcaption></figure><p id="6bf6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本文中，我们将探讨如何设计易于理解的REST APIs，以及了解用例的重要性。</p><h1 id="77cc" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是API设计？</h1><p id="0d7f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">API设计是指开发应用程序编程接口(API)的过程，该接口公开数据和应用程序功能以供开发人员和用户使用。</p><h1 id="604f" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">了解用例的重要性:</h1><p id="a3ea" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated"><strong class="iw hj">当你了解你的软件将如何被使用时，你就能更好地设计它。</strong>API设计中最大的错误是根据你的系统如何工作来做决定，而不是你的消费者需要支持什么。为了围绕用例进行设计，你需要与消费者交谈，或者至少包括那些更了解他们的人。</p><p id="d832" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">软件很少完全由工程师构建。整个组织中都有利益相关者。尽管许多工程师可能非常注重产品，但他们并不总能看到全局。如果你的组织有一个产品组，那通常是最能听到客户声音的地方。在设计API时，让任何了解API使用方式的人参与讨论。当你让其他人参与到API设计中时，你会做得更好。</strong></p><h1 id="e385" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">API设计最佳实践:</h1><p id="b853" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">有了对用例的理解，就可以开始API设计了。每个项目都是不同的，因此最佳实践可能并不总是适合您的情况。</p><p id="72b5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一般来说，有效的API设计具有以下特征:</p><ul class=""><li id="9b8b" class="kv kw hi iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated"><strong class="iw hj">易于阅读和使用</strong></li><li id="e183" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated"><strong class="iw hj">难以误用</strong></li><li id="e48a" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated"><strong class="iw hj">完整简洁</strong></li></ul><p id="8301" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下面是您在准备REST API时应该考虑的8个最佳实践。</p><h1 id="f2a1" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">1.提供API文档:</h1><p id="1719" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">文档很重要。总是为API提供文档。</p><h1 id="7fd7" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">2.保持基本URL简单:</h1><p id="6dd3" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">基本URL应该由复数名词组成，应该避免使用动词。</p><h1 id="fcc1" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">3.接受并回复JSON:</h1><p id="d3c1" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">JSON是传输数据的标准。REST APIs应该接受JSON作为请求负载，并向JSON发送响应。</p><h1 id="77a2" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">4.简化关联:</h1><p id="eba8" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">资源对象通常具有某种功能层次结构，或者彼此相关。例如:<code class="du lj lk ll lm b">GET api/users/1/assets</code>该URL将返回该特定建筑的所有资产，您可以使用<code class="du lj lk ll lm b">POST api/users/1/assets.</code>为该建筑创建资产</p><h1 id="e371" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">4.查询字符串下的复杂性:</h1><p id="c9ca" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">当您预先知道您将需要关于相关资源的额外信息，并且您的目标是减少API对性能的请求时，查询字符串标志可用于资源扩展。在这种情况下，您可以选择指定在查询字符串中展开哪些关系。<code class="du lj lk ll lm b">api/users?expand=assets</code></p><h1 id="1c12" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">5.HTTP状态代码和消息的错误处理:</h1><p id="dd8e" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">没有人喜欢看到他们对你的API做出的响应中的错误。但是如果他们这样做了，最好给他们提供足够的信息，让他们知道发生了什么以及可能的原因。因此，在API开发中，正确的错误处理应该被视为最佳实践之一，因为越早发现问题，修复它就越快、越便宜、越容易。</p><p id="bcf5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">标准的HTTP错误代码处理是必须的。有71种不同的错误代码，为什么不使用它们呢？</p><p id="0963" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">例如{“状态”:400，代码:21，消息:“未指定名称字段”}</p><h1 id="36df" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">5.版本控制:</h1><p id="ce00" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">软件应用程序永远不会结束，它们在不断地进化，无论何时你的API发生突破性的变化，你都不可避免地需要引入一个新的版本。从一开始就对REST API进行版本控制是一个很好的方法。版本化通常用<code class="du lj lk ll lm b">/v1/</code>、<code class="du lj lk ll lm b">/v2/</code>等完成。添加在API路径的开头。</p><h1 id="65bf" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">6.camelCase中的属性名称:</h1><p id="6c7f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">如果您使用JSON，遵循javascript的命名约定是有意义的，尤其是如果消费者应用程序可能也是用JavaScript编写的。snake_case很容易读懂，但是要尽量避免。</p><h1 id="2b86" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">7.缓存数据以提高性能:</h1><p id="79cd" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">缓存的好处是用户可以更快地获取数据。我们可以添加缓存来从本地内存缓存返回数据，而不是每次我们想要检索用户请求的一些数据时都查询数据库来获取数据。</p><h1 id="c44f" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">8.始终使用HTTPS/SSL/TLS并保持良好的安全实践:</h1><p id="6dfb" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">这里没有例外。HTTPS很重要。默认情况下，所有通信都应该是安全的，并且总是使用SSL/TLS来加密与API的通信。</p><p id="31e1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢阅读。如果你发现这篇文章很有用，别忘了<strong class="iw hj">拍拍</strong>和<strong class="iw hj">T5】与你的朋友和同事分享。:)如果你有任何问题，请随时联系我。<br/> <strong class="iw hj">与我接通👉</strong><a class="ae ln" href="https://linkedin.com/in/hiteshmishra708" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">LinkedIn</strong></a><strong class="iw hj">，</strong><a class="ae ln" href="https://github.com/hiteshmishra708" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">Github</strong></a><strong class="iw hj">:)</strong></strong></p></div></div>    
</body>
</html>