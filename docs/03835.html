<html>
<head>
<title>Linux Containers LXC/LXD. Container Management from WebUI.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux容器LXC/LXD。WebUI中的容器管理。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/linux-containers-lxc-lxd-container-management-from-webui-5cf7c7625a08?source=collection_archive---------9-----------------------#2021-06-16">https://medium.com/geekculture/linux-containers-lxc-lxd-container-management-from-webui-5cf7c7625a08?source=collection_archive---------9-----------------------#2021-06-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/61570d02d8c245f6ad7a4f9778acf904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b0n8tgaabZBybqEup7S4kA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><div class=""/><p id="7ebe" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在下面的文章中，我将描述Linux容器LXC的基本概念，并将重点放在该技术的实践方面。您将看到如何在您的主机(Linux OS)上运行和管理不同的Linux发行版。这篇文章只能被认为是对LXC/LXD技术的介绍，该技术是origin在Canonical company中拥有的。文章的想法不是要与Docker、虚拟机或Kubernetes等其他类似技术进行比较。这些想法简单明了地提出了可以利用的可能性(很高兴知道)。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="d032" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我们开始划分细节和运行Linux容器(LXC)之前，理解容器的主要架构和技术背后的想法似乎更合理。首先，我们需要看看下图，我在图中描绘了虚拟机、DXC和Docker的主要架构级别。除了所有呈现的体系结构都适应虚拟化概念之外，虚拟机略有不同，因为虚拟化是从硬件级别开始的。该体系结构的主要组件是虚拟机管理程序，它是负责启动虚拟机并为正在运行的虚拟机提供资源(CPU、RAM、存储磁盘、网络等)的过程。<br/>更进一步，你可以考虑容器与主机(Linux操作系统)共享内核资源。这个概念与虚拟机及其内核之间的一对一映射相反。虚拟机管理程序对常见的可用资源提供更精细的控制和分配。可以说，使用虚拟机管理程序的缺点是开销和有限的可伸缩性。</p><p id="49f3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然而，LXC容器可以被认为是一个运行在主机(Linux)操作系统上的独立应用程序(普通的Linux操作系统发行版)。没有硬件仿真，因为LXC容器可以使用所有可用的硬件资源(也可以是有限的)。就我个人而言，我使用LXC容器(不同的Linux发行版)在网络中运行相同的应用程序，并强调性能。我可以在几毫秒内启动或停止LXC。正如我提到的，我不打算比较这些技术，因为我们每个人都有自己的偏好，开发的应用程序有不同的架构和用途，优于Docker的功能是LXC让我可以直接将数据存储在容器中，充分利用网络的能力，坦率地说，LXC是一个标准的隔离和完全可配置的操作系统。<br/>根据concept principles，LXD提供了一种在其network REST APIs之上构建的方法，以完全自动化多容器部署和管理流程。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jz"><img src="../Images/c7f7e613fb5b24cfb44d8e8336524b71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YuVOs8vegecD075C8RK0XQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="ca7b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在接下来的一节中，你将会熟悉用你最喜欢的Linux操作系统启动你的容器的一组基本命令，所有的命令都已经在<a class="ae ke" href="https://stgraber.org/author/stgraber/" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">斯蒂芬·格雷勃</strong> </a> <strong class="iw hy"> </strong>网站上讨论过了。我将向您展示如何使用SSH访问容器。最后，我将描述web应用程序，它允许您使用自己喜欢的浏览器来管理容器。</p><p id="ba00" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你的操作系统是Ubuntu，那么你可能不会安装LXD。但是，为了以防万一，您可以使用以下命令安装软件:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="a93e" class="kk kl hx kg b fi km kn l ko kp">sudo snap install lxd</span></pre><p id="a3a3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">安装LXD后，您必须初始化环境。我建议你(你的熟悉阶段)在弹出新问题时按回车键。</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="34c9" class="kk kl hx kg b fi km kn l ko kp">lxd init</span></pre><p id="69c6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">可以作为容器LXC运行的可用容器在<a class="ae ke" href="https://uk.images.linuxcontainers.org/" rel="noopener ugc nofollow" target="_blank"> Linux容器项目</a>中列出，但是你也可以在你的终端上查看完整的列表。运行命令:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="9eb9" class="kk kl hx kg b fi km kn l ko kp">lxc remote list</span></pre><p id="a74c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">运行该命令后，可以抓取图像的四个区域将会出现:<strong class="iw hy">图像、本地(这是你的机器)、ubuntu和ubuntu-daily </strong>。<br/>您可以使用以下命令检查每个位置:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="fbff" class="kk kl hx kg b fi km kn l ko kp">lxc image list images:<br/>lxc image list local:<br/>lxc image list ubuntu:<br/>lxc image list ubuntu-daily:</span></pre><p id="ea6a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们假设我们对ubuntu库运行命令，在那里我们发现对我们感兴趣的图像ubuntu 18.04，并且在我们运行相同的命令之后，但是这次指向正确的库。这次我们有兴趣安装Debian 11。这两个容器的安装(启动)可以通过以下命令来执行:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="996c" class="kk kl hx kg b fi km kn l ko kp">lxc launch ubuntu:18.04 myubuntu1804</span><span id="0a78" class="kk kl hx kg b fi kq kn l ko kp">lxc launch images:debian/11 mydebian11</span></pre><p id="c061" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">myubuntu1804和mydebian11是我们自己的本地名。</p><p id="83d8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，您可以运行命令来验证您以前的工作:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="d4f5" class="kk kl hx kg b fi km kn l ko kp">lxc list</span></pre><p id="0be6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您应该会收到类似的:</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kr"><img src="../Images/15f0a8dfcb1bca25a84aea989ca615a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*af45CztdpKQvggLyEXYQbA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="2e93" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如您所见，您的容器正在运行，但是为了访问终端，您应该对特定容器执行以下命令:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="f872" class="kk kl hx kg b fi km kn l ko kp">lxc exec myubunty1804 bash<br/>or<br/>lxc exec mydebian11 bash</span></pre><p id="8891" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae ke" href="https://gist.github.com/berndbausch/a6835150c7a26c88048763c0bd739be6" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">有用的命令</strong> </a>开始/停止等LXC:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="91e6" class="kk kl hx kg b fi km kn l ko kp">lxc start <!-- -->myubunty1804<br/>lxc stop <!-- -->myubunty1804<!-- --> [--force] # --force if it doesn't want to stop<br/>lxc restart <!-- -->myubunty1804<!-- --> [--force]<br/>lxc pause <!-- -->myubunty1804<!-- --> </span><span id="abee" class="kk kl hx kg b fi kq kn l ko kp">lxc move CONTAINER_NAME NEW_NAME</span></pre></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="5fae" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">现在，我们将看到如何使用SSH访问容器。请遵循以下步骤。<br/>运行以下命令，使用SSH访问您的容器。</strong></p><p id="a155" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">(主机)登录到来宾myubunty1804容器:</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="a2d6" class="kk kl hx kg b fi km kn l ko kp">lxc exec <!-- -->myubunty1804 bash</span></pre><p id="019a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">(来宾)添加新的远程用户“我的名字”</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="fc49" class="kk kl hx kg b fi km kn l ko kp">adduser myname</span><span id="5b18" class="kk kl hx kg b fi kq kn l ko kp">//add user to sudo group</span><span id="9964" class="kk kl hx kg b fi kq kn l ko kp">sudo usermod -aG sudo myname</span></pre><p id="e91f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">(来宾)编辑/etc/ssh/sshd_config文件</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="73ef" class="kk kl hx kg b fi km kn l ko kp">nano <!-- -->/etc/ssh/sshd_config file</span><span id="c621" class="kk kl hx kg b fi kq kn l ko kp">Inside the file adjust the flag from "no" to "yes", as follows</span><span id="fb27" class="kk kl hx kg b fi kq kn l ko kp"><br/>PasswordAuthentication yes</span></pre><p id="0200" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">(来宾)重新启动sshd守护程序</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="8172" class="kk kl hx kg b fi km kn l ko kp">systemctl restart sshd</span></pre><p id="3c01" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">(客人)检查IP</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="63bd" class="kk kl hx kg b fi km kn l ko kp">ip a</span><span id="0557" class="kk kl hx kg b fi kq kn l ko kp">or on HOST:hypersivison</span><span id="b73e" class="kk kl hx kg b fi kq kn l ko kp">lxc list</span></pre><p id="d701" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">(主机)使用用户id和密码通过ssh连接到客户机</p><pre class="ka kb kc kd fd kf kg kh ki aw kj bi"><span id="d4b7" class="kk kl hx kg b fi km kn l ko kp">ssh myname@guest_ip</span></pre></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="0767" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">在本文中，我将展示的最后一件事是从浏览器管理LXC的可能性。</strong>在这个简短的介绍中我将简短地描述一下工具<a class="ae ke" href="https://github.com/AdaptiveScale/lxdui" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy"> LXDUI </strong> </a> <strong class="iw hy">。<br/> </strong>查看链接，获得如何安装(非常简单)和使用的灵感。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ks"><img src="../Images/b470dcf2c864bb759eaeca0598604cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IFQ0r3y_9GpGf0lKtbsAoQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="9a80" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">LXDUI是一个无需输入命令就能轻松支持终端管理容器的工具。它允许您分别搜索和管理每个容器。该工具穷尽了终端中所有可用的终端命令。它让您清楚地了解您的容器环境。这些工具非常方便，我认为应该使用。如你所知，我们创建了两个容器:myubunty1804和mydebian11。在我们的机器上运行Web管理器，我们可以管理创建的容器。</p><p id="0da2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从下面的选项卡中，您可以控制所有与mydebian11容器相关(在本例中)的特性——与虚拟机相同或相似。记住容器在毫秒内开始/停止，像Docker。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kt"><img src="../Images/ad5c29d35d1dea9beaeb7c5b0915c069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CwvHJyHzJUR6jchOauwXKA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="7c58" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您还可以访问容器操作系统中的文件夹。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ku"><img src="../Images/37132f618285b565fd7712af1e338541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X4V9vdXkHtIsFubnb1f37g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="4c3a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>