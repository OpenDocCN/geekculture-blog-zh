<html>
<head>
<title>Custom JavaScript Transitions In Vue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue中的自定义JavaScript过渡</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/custom-javascript-transitions-in-vue-ce78dd463d45?source=collection_archive---------16-----------------------#2022-01-29">https://medium.com/geekculture/custom-javascript-transitions-in-vue-ce78dd463d45?source=collection_archive---------16-----------------------#2022-01-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="27de" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">以及为什么你会想使用它们</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/1d1a1e5199f1042f579effe27de8001b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uo41mNLAO2ZjPaLT6tMH2Q.jpeg"/></div></div></figure><p id="06bd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Vue非常支持动画过渡。这是它优于React的最大优势之一。通过自定义JS过渡充分利用它！</p><p id="e428" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">假设您已经对Vue 3有了基本的了解，我将举例说明一个简单的例子，解释为什么您可能想要使用它，并浏览重要的方面。</p><p id="bac0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><em class="kf">(考虑到我通常写的是如何完成某些UI效果的逆向工程，这是比较通用和简单的，但是你必须先走才能跑！这将打开一个充满可能性的世界，我将在以后的文章中阐述。)</em></p><h1 id="4747" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">活生生的例子</h1><p id="f021" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">看看我用它做的代码沙箱。特别是，该转换是针对一个“折叠”组件的，当您单击标题时，该组件会展开和折叠，以300毫秒的动画显示或隐藏内容。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ld le l"/></div></figure><h1 id="7fab" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated"><transition/>组件</h1><p id="3f86" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">与动画元素的进入和退出相关的一切都是通过<a class="ae lf" href="https://v3.vuejs.org/guide/transitions-enterleave.html#transitioning-single-elements-components" rel="noopener ugc nofollow" target="_blank"> Vue的过渡组件发生的。</a>CSS Transition的Transition API非常简洁，在很多情况下，这就是你所需要的。<a class="ae lf" href="https://codepen.io/team/Vue/pen/3466d06fb252a53c5bc0a0edb0f1588a" rel="noopener ugc nofollow" target="_blank">Vue团队创造了一个这样的例子</a>。</p><h1 id="3569" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">如果我可以使用CSS，为什么要使用JavaScript转场？</h1><p id="2c97" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">JavaScript打开了一个CSS无法单独实现可能性的世界。</p><p id="6380" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">想想Collapser组件，它有任意大小的内容，但需要有一致的动画持续时间。使用JavaScript，我可以简单地读取内容的大小，并在动画中使用它，这在CSS中是不可能的。使用合适的工具完成工作！</p><h1 id="013f" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated"><transition/>使用JavaScript</h1><p id="6c7b" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">Transition接受两个重要的事件处理程序。当元素进入DOM时触发<code class="du lg lh li lj b">enter</code>事件处理程序，当元素即将离开DOM时触发<code class="du lg lh li lj b">leave</code>事件处理程序。</p><p id="f420" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">看看代码沙箱中的文件<code class="du lg lh li lj b">/src/animations/slide.js</code>。函数<code class="du lg lh li lj b">useSlide</code>返回两个函数，它们具有<code class="du lg lh li lj b">enter</code>和<code class="du lg lh li lj b">leave</code>事件处理程序所期望的函数定义。</p><ul class=""><li id="039c" class="lk ll hi jl b jm jn jp jq js lm jw ln ka lo ke lp lq lr ls bi translated"><code class="du lg lh li lj b">el</code>是进入或退出的元素，类型为<code class="du lg lh li lj b"><a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement" rel="noopener ugc nofollow" target="_blank">HTMLElement</a></code>。这就是JavaScript转换的强大之处— <em class="kf">你可以做任何事情！</em>(在我的代码中，它读取元素的高度并调用<a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API" rel="noopener ugc nofollow" target="_blank"> Web Animations API </a>来动画显示其高度的变化)。</li><li id="dfc1" class="lk ll hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated"><code class="du lg lh li lj b">done</code>是当你制作完元素动画后要调用的函数。</li></ul><p id="6f9d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">整个过程是这样的:</p><ol class=""><li id="56b8" class="lk ll hi jl b jm jn jp jq js lm jw ln ka lo ke ly lq lr ls bi translated">您用函数签名<code class="du lg lh li lj b">(el, done)</code>创建函数，并将其传递到一个<code class="du lg lh li lj b">&lt;transition /&gt;</code>组件中的<code class="du lg lh li lj b">@enter</code>和<code class="du lg lh li lj b">@exit</code>。</li><li id="ad9e" class="lk ll hi jl b jm lt jp lu js lv jw lw ka lx ke ly lq lr ls bi translated">当在DOM中添加或删除<code class="du lg lh li lj b">&lt;transition /&gt;</code>的直接子对象时，Vue会调用您的函数，这些函数会改变<code class="du lg lh li lj b">el</code>，很可能是以一种创建动画的方式。</li><li id="f08e" class="lk ll hi jl b jm lt jp lu js lv jw lw ka lx ke ly lq lr ls bi translated">最终，您的函数调用<code class="du lg lh li lj b">done()</code>，此时UI最终确定，直到下一次状态改变。</li></ol><h1 id="b3f5" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">结论</h1><p id="8047" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">就这么简单！为了避免过于罗嗦，我故意省略了对代码的一些解释，所以我强烈建议查看代码沙盒示例，或者派生并修改它。希望这篇短文和我的例子能帮助新的Vue爱好者将他们的ui提升到一个新的水平！</p></div></div>    
</body>
</html>