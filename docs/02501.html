<html>
<head>
<title>How to Create a Basic Server Using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js创建基本服务器</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-create-a-basic-server-using-node-js-b696ce54c90a?source=collection_archive---------25-----------------------#2021-05-17">https://medium.com/geekculture/how-to-create-a-basic-server-using-node-js-b696ce54c90a?source=collection_archive---------25-----------------------#2021-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0908" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们将了解如何使用node.js创建一个基本的服务器</p><ol class=""><li id="80df" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">首先，我们必须将“HTTP”、“URL”和“fs”模块导入到我们的。js文件来使用模块中提供不同方法。我们可以按如下方式导入它们</li></ol><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es jm"><img src="../Images/553521e6576b74c8775c9138f25165c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*9hEjPpI5rL5KURsroy2m_Q.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">importing modules</figcaption></figure><p id="e189" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.在导入这三个模块之后，我们必须使用HTTP模块的“createServer()”方法，并且必须将它存储到某个变量中，如下所示。<strong class="ih hj"><em class="jy">http . createserver()</em></strong>方法接受一个回调函数作为参数，在其中我们要做服务器上的所有事情。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es jz"><img src="../Images/806c579d45e4079dddb5b7b5c947cf6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*5PEGZcOhrah3czjRHOC4nA.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">creating server</figcaption></figure><p id="957a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.一旦我们创建了一个服务器，我们必须添加“.listen”方法，该方法将接受第一个参数作为服务器将要托管的端口号，第二个可选参数作为回调函数。例如:-</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es ka"><img src="../Images/6485878626bf681e4e4d6735cc102586.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*TvJlYypu4QqcGEH2UCwG5A.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">server.listen()</figcaption></figure><blockquote class="kb kc kd"><p id="5725" class="if ig jy ih b ii ij ik il im in io ip ke ir is it kf iv iw ix kg iz ja jb jc hb bi translated">“重要提示”:- handleServer()函数必须包含“<strong class="ih hj"> res.end()”。如果我们不使用它，那么服务器将永远不会完成加载，并且将无限期地等待加载</strong></p></blockquote><p id="d19d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.现在我们必须将请求和响应方法添加到handleServer函数中。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kh"><img src="../Images/32a4de7261273e2491b36590278e8326.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*4CgQOxSWJuE-cE5SAkyy7A.png"/></div></figure><p id="7d58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在if语句中，我们寻找URL "/"，它也称为索引URL，如果请求方法是" GET "方法，如果它是真的，那么我们通过使用语句"<strong class="ih hj"><em class="jy">RES . set header(" Content-Type "，" text/html ")告诉JS要显示的项目的内容类型是" HTML "；</em> </strong>”。</p><p id="1e49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们使用fs模块及其createReadStream()方法从原始文件中以小块缓冲内存(node.js为64位)的形式获取数据。我们通过管道把这些数据块显示出来。用来做这件事的语句是"<strong class="ih hj"> <em class="jy"> fs.createReadStream(../../index.html)。</em>管(RES)</strong></p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><blockquote class="kb kc kd"><p id="9846" class="if ig jy ih b ii ij ik il im in io ip ke ir is it kf iv iw ix kg iz ja jb jc hb bi translated">这样，我们可以使用node.js创建非常简单的服务器</p></blockquote></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><h1 id="7850" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">“如何从给定的url获取查询”</h1></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="cb78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果网址像"<strong class="ih hj"> localhost:3000/about/？username=onkar </strong>"。在这种情况下，我们得到一个URL查询，我们可以从中提取。这里的URL模块非常有用。我们知道url模块给了我们"<strong class="ih hj"><em class="jy">URL . parse(give nurl)</em></strong>"方法用来解析给定的URL。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es ln"><img src="../Images/5aa4227d1208b7ddfccd0f1a5928d91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*5cqYyr6JSLMgeT4uU1MPUA.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">harvesting query from url</figcaption></figure><p id="f5ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)这里我们将URL解析成对象，并将其存储到新的变量parsedUrl中</p><p id="57b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b)解析后，我们可以检查路径名和给定的URL。在这里，我们可以发现pathname不包含URL中的查询。</p><p id="493b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">c)我们可以通过访问parsedUrl中名为“query”的键来访问URL中的查询。它是对象形式的。</p><p id="6baf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d)如果我们必须在DOM上显示查询，我们可以使用“<strong class="ih hj"> JSON.stringify() </strong>”方法，我们可以将“<strong class="ih hj"> parsedUrl.queries </strong>”对象作为参数传递给该方法。</p></div></div>    
</body>
</html>