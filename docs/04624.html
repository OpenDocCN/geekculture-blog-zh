<html>
<head>
<title>How I Built a Self Driving Model Car</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何建造一辆自动驾驶模型车的</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-i-built-a-self-driving-model-car-5beaa869dded?source=collection_archive---------34-----------------------#2021-06-30">https://medium.com/geekculture/how-i-built-a-self-driving-model-car-5beaa869dded?source=collection_archive---------34-----------------------#2021-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="4628" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">第1部分—基础知识</h2></div></div><div class="ab cl ix iy gp iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hb hc hd he hf"><p id="f873" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">你如何着手建造一辆自动驾驶的汽车模型？这一系列文章将带领读者从基础到高级技术，包括基于驾驶行为的简单物体检测。这需要一点时间和决心，但我乐在其中！</p><p id="c1c4" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">先说我的帖子列表:</p><ol class=""><li id="9f76" class="ka kb hi jg b jh ji jk jl jn kc jr kd jv ke jz kf kg kh ki bi translated">基础知识，包括为第一个原型设置硬件</li><li id="45c8" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae ko" rel="noopener" href="/@al.mclean/how-i-built-a-self-driving-model-car-8e70d024f117">软件</a>，学习第一个模型</li><li id="62ef" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae ko" href="https://al-mclean.medium.com/how-i-built-a-self-driving-model-car-b5277dee57e2" rel="noopener">试图让它驱动</a>——使用图像预处理来帮助和对付bug！</li><li id="8c9c" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae ko" href="https://al-mclean.medium.com/how-i-built-a-self-driving-model-car-b8cc7566a28b" rel="noopener">更上一层楼</a> —一辆更大更快的汽车，使用TensorFlow Lite、max performance mode改进性能，采用基于TensorRT的物体检测器来避开路上的物体。</li></ol><h1 id="8541" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">第一个原型的硬件</h1><p id="0d13" class="pw-post-body-paragraph je jf hi jg b jh lh ij jj jk li im jm jn lj jp jq jr lk jt ju jv ll jx jy jz hb bi translated">首先，你需要一些硬件。为了开始，我从donkeycar和NVidia的JetBot中获得了灵感。我已经有了一辆遥控车，但它真的是为了外面，因为它非常快，我很难在里面驾驶它。所以我想买一个便宜的遥控履带车来练习。然而，我知道我想在某个时候尝试一些更复杂的计算机视觉应用，比如物体识别。由于这一点和推理性能(见<a class="ae ko" href="https://developer.nvidia.com/embedded/jetson-nano-dl-inference-benchmarks" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae ko" href="https://www.hackster.io/news/benchmarking-machine-learning-on-the-new-raspberry-pi-4-model-b-88db9304ce4" rel="noopener ugc nofollow" target="_blank">这里</a>)我决定从Jetson Nano开始，尽管它的价格是树莓派4的两倍左右！</p><p id="e7eb" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">这是我的材料清单:</p><ul class=""><li id="f081" class="ka kb hi jg b jh ji jk jl jn kc jr kd jv ke jz lm kg kh ki bi translated">FY003–1A遥控汽车全比例四轮驱动爬坡遥控车:36.24</li><li id="c8d2" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">Jetson Nano开发套件4GB : 99</li><li id="1549" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">罗技F710游戏手柄(秒针:15.20)</li><li id="0953" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">PCA9685 16通道12位PWM伺服驱动器:9.99</li><li id="3206" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">DC-DC降压转换器调节器:6.50</li><li id="b2f1" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">防水拉丝电子调速器:11.19</li><li id="cfd3" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">英特尔AC8265蓝牙、WiFi无线适配器:11.70</li><li id="f6da" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">NGFF M.2卡Wifi天线:8.99</li><li id="f435" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">捷信IMX219摄像头模块(8Mp IMX219) — 160 FOV : 20.02</li><li id="63d7" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">Etronix 17G 3.5kg/0.11s微型服务器金属齿轮:11.19</li><li id="b1b0" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">垫片和电路板支架:5.84</li><li id="63f5" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">伺服延长线:6.50</li><li id="505b" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">柔性带状电缆(30厘米):3.29</li><li id="a15d" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">5V 4A电源:12.99</li><li id="591f" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">LiPo 11.1V电池:14.99</li><li id="d172" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">LiPo 7.4V电池:？—我身边就有一个</li><li id="906e" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">LiPo充电器:？—我身边就有一个</li><li id="4bc1" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">DC冷却风扇为杰特森纳米5V风扇支持PWM速度调整:6.75</li><li id="d35a" class="ka kb hi jg b jh kj jk kk jn kl jr km jv kn jz lm kg kh ki bi translated">固态硬盘:？—我身边就有一个</li></ul><p id="eb83" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">总共280.38英镑。值得注意的是，搭载Jetson Nano的NVidia JetRacer Pro售价304英镑，但不含电池。其他版本，如DonkeyCar网站上列出的细节也有类似的价格。然而，我希望能够将我的自动驾驶硬件从测试车转移到更快的车上，并且还希望挑战从零开始构建东西！</p><h1 id="b682" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">首要问题</h1><p id="9f2b" class="pw-post-body-paragraph je jf hi jg b jh lh ij jj jk li im jm jn lj jp jq jr lk jt ju jv ll jx jy jz hb bi translated">我在这里会有什么不同的表现吗？是啊！买下“测试”车后不久，我意识到接收器/ESC/伺服控制器都是一体的，我需要一些更复杂的东西来插入nano。因此，我需要购买电子稳定控制系统和伺服。</p><p id="b0b4" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">一辆稍微贵一点的“测试”车实际上可能变得更便宜、更容易使用！</p><p id="1c31" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">拆卸汽车后，删除组合接收器，电子稳定控制系统和伺服控制器，我发现伺服是一个无电路类型，这意味着它有5线和'智能'是在组合电子模块。所以那也必须取消。我的第一个替代品规定了35mm的宽度，但这个<strong class="jg hj">不包括</strong>固定法兰，所以当它到达时，它不适合底盘。在订购替代品时，我找到了一块丙烯酸板，并将其切割成合适的尺寸——这将成为我的组件基座。然后我开始钻孔来安装电子设备。</p><figure class="lo lp lq lr fd ls er es paragraph-image"><div class="er es ln"><img src="../Images/9a135fc7249750bf9f82a1569ae5337a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*a-SbrNiCSFLx0FRhKKWC3w.jpeg"/></div></figure><h1 id="7e6d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">内核黑客和固态硬盘</h1><p id="ad1a" class="pw-post-body-paragraph je jf hi jg b jh lh ij jj jk li im jm jn lj jp jq jr lk jt ju jv ll jx jy jz hb bi translated">我想马上做的一个修改是使用SSD而不是microsd卡。原因很简单，就是性能问题，幸运的是，我有一个备用的固态硬盘。SSD提供了更快的<a class="ae ko" href="https://tutorial.cytron.io/2020/10/21/nvidia-jetson-nano-boot-from-usb/" rel="noopener ugc nofollow" target="_blank">启动和吞吐速度，虽然这不是推断所必需的，但如果你想对设备本身进行任何培训，它们是有用的。如果你在另一台机器上训练，从Jetson上复制图像会更快。</a></p><p id="c29c" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">这有一点复杂，Jetson需要在启动时加载一些固件来启用USB端口，但我们实际上想从USB启动！</p><p id="5093" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">解决方案是破解Jetson Nano内核，使根文件系统位于USB上，Nano可以从那里加载USB实用程序。不幸的是，现在有实用工具可以提供帮助。我跟随<a class="ae ko" href="https://forums.developer.nvidia.com/t/foolproof-guide-to-move-from-microsd-to-usb-ssd/167785/6" rel="noopener ugc nofollow" target="_blank">这个</a>和<a class="ae ko" href="https://docs.nvidia.com/jetson/l4t/index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/flashing.html#wwpID0E0HM0HA" rel="noopener ugc nofollow" target="_blank">这个</a>来指导我完成这个过程，并且当我在那里时，我还将Jetson上的<a class="ae ko" href="https://www.jetsonhacks.com/2019/11/28/jetson-nano-even-more-swap/" rel="noopener ugc nofollow" target="_blank">交换空间</a>增加到4GB，因为我认为我以后可能会需要它。</p><h1 id="224e" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">建造第一个原型</h1><p id="5e8e" class="pw-post-body-paragraph je jf hi jg b jh lh ij jj jk li im jm jn lj jp jq jr lk jt ju jv ll jx jy jz hb bi translated">使用各种指南，例如用于<a class="ae ko" href="https://github.com/NVIDIA-AI-IOT/jetracer/blob/master/docs/tamiya/hardware_setup.md" rel="noopener ugc nofollow" target="_blank"> JetRacer </a>、<a class="ae ko" href="https://docs.donkeycar.com/guide/build_hardware/#roll-your-own-car" rel="noopener ugc nofollow" target="_blank"> DonkeyCar </a>的指南以及来自<a class="ae ko" href="https://ori.codes/hardware/building-the-car/" rel="noopener ugc nofollow" target="_blank"> Ori的信息。代码</a>我将英特尔AC8265适配器插入Jetson并连接天线，将电源调节器连接到Jetson，连接SSD和相机，然后将Jetson连接到伺服控制器，将伺服控制器连接到ESC，将伺服和ESC连接到电机。</p><div class="lo lp lq lr fd ab cb"><figure class="lv ls lw lx ly lz ma paragraph-image"><img src="../Images/2f8d62c121dccf113d0d9afa047fd84b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*6MRNfoDCCRqWw3b6Q81ltQ.jpeg"/></figure><figure class="lv ls lw lx ly lz ma paragraph-image"><img src="../Images/3c99f4e780089b041a590783ccb102a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*LaL9u-AxKtDP7I3mvFNa8g.jpeg"/></figure></div><h1 id="b620" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">手动驾驶</h1><p id="8dbc" class="pw-post-body-paragraph je jf hi jg b jh lh ij jj jk li im jm jn lj jp jq jr lk jt ju jv ll jx jy jz hb bi translated">随着硬件的组装和运行基本的DonkeyCar代码(我将在下一篇文章中描述)，我能够使用游戏手柄风格的控制器手动驾驶汽车。</p><p id="141f" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">我最初使用现有的蒸汽控制器，我必须通过蓝牙控制汽车，但这有一些问题(细节如下)。</p><figure class="lo lp lq lr fd ls er es paragraph-image"><div class="er es ln"><img src="../Images/e177c722c450c172d66ec616ee28948a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*o2FTpG8yuiITCujR3pFzLw.jpeg"/></div></figure><p id="e422" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">然而，我现在有了一辆手动控制的遥控汽车，所有的硬件都准备好了，可以学习如何自动驾驶。这些组件和装置被设计成便携式的，以便将来证明我的学习和我计划的越来越复杂的实验。</p><p id="2a60" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">在下一篇文章中，我将谈论软件的设置以及我是如何着手学习我的第一个模型的。</p></div></div>    
</body>
</html>