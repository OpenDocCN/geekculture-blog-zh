<html>
<head>
<title>Web app — Dashboard vaccines covid19 Perú</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web应用程序—仪表板疫苗covid19 Perú</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/web-app-dashboard-vaccines-covid19-per%C3%BA-288388cffa76?source=collection_archive---------32-----------------------#2021-06-25">https://medium.com/geekculture/web-app-dashboard-vaccines-covid19-per%C3%BA-288388cffa76?source=collection_archive---------32-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6537" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该项目的目标是通过动态可视化向公众提供秘鲁疫苗接种过程的统计信息。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/dd9ffafa08d2b382aa3488c262ef7cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3mJ8sak4kb1ETOEn.jpeg"/></div></div></figure><p id="0722" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据集可在“<a class="ae jp" href="https://www.datosabiertos.gob.pe/dataset/vacunaci%C3%B3n-contra-covid-19-ministerio-de-salud-minsa" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jq">vacuna ción contra COVID—19【卫生部—卫生部】</em> </strong> </a>”下载。</p><p id="b870" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里可以看到web app<a class="ae jp" href="https://vacunascovid19-peru.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jq"/></strong></a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/0352fee0d3507710180ab323ef283a69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P2iVPj4ebqC0PAgWmFju0w.png"/></div></div></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="aa11" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">建造于</h1><ol class=""><li id="6552" class="kx ky hi ih b ii kz im la iq lb iu lc iy ld jc le lf lg lh bi translated"><strong class="ih hj"> Django </strong> : Django是一个高级Python Web框架，它鼓励快速开发和干净、实用的设计。</li><li id="3e77" class="kx ky hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> Plotly: </strong> Plotly为个人和协作提供在线图形、分析和统计工具，以及Python、R和其他语言的科学图形库。</li><li id="5e80" class="kx ky hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> Appseed: </strong> AppSeed是一个全栈web应用生成器，允许您选择一个可视化主题，并在几分钟内将其应用到一个完整但灵活的技术栈上，大大缩短了从可视化设计到应用部署的开发时间。</li><li id="c7d8" class="kx ky hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> Bootstrap: </strong> Bootstrap是最流行的<strong class="ih hj"> CSS框架</strong>，用于开发响应式和移动优先的网站。</li></ol><p id="6f32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注:</strong>要开展这个项目，有必要在html，css和javascript的基本知识。</p><h2 id="8d5d" class="ln ka hi bd kb lo lp lq kf lr ls lt kj iq lu lv kn iu lw lx kr iy ly lz kv ma bi translated">在姜戈开始一个项目</h2><p id="d531" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated"><a class="ae jp" href="https://docs.djangoproject.com/en/3.2/intro/tutorial01/" rel="noopener ugc nofollow" target="_blank">文档</a></p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="0293" class="ln ka hi mf b fi mj mk l ml mm">django-admin startproject mysite</span></pre><p id="6675" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码，将创建下一个文件。</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="c842" class="ln ka hi mf b fi mj mk l ml mm">mysite/<br/>    manage.py<br/>    mysite/<br/>        __init__.py<br/>        settings.py<br/>        urls.py<br/>        asgi.py<br/>        wsgi.py</span></pre><h2 id="89f2" class="ln ka hi bd kb lo lp lq kf lr ls lt kj iq lu lv kn iu lw lx kr iy ly lz kv ma bi translated">数据清理</h2><p id="76fe" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">在这里，我们将选择用于不同视图的列。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/d2b35a8cfaa9877dc84cee3cf23a8231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EdLUpr9fGx5sLn0II_CDng.png"/></div></div></figure><h2 id="80f2" class="ln ka hi bd kb lo lp lq kf lr ls lt kj iq lu lv kn iu lw lx kr iy ly lz kv ma bi translated">数据处理</h2><p id="f5aa" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">当然，在前面的步骤中，我们能够更深入地清理数据，但是，每个视图需要不同的处理，因此，我们将执行不同的转换并创建几个”。csv”文件，这些文件将被上传到Github，以实现某些流程的自动化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/06091106c32ae706ebdcb3d4a92c074c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-2lMnb22ejbH8TQRUpQztw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/5d0b45711f43e8ae8c59c78a4e1137d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1yoa8sjEM-KeHU7e7tNfA.png"/></div></div></figure><p id="0bda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:</p><p id="253f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建顶级卡片</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/56ce2def04acfc587e71b87fa786f058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hypQpJEL90DYMnyhOqEcpw.png"/></div></div></figure><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="57e0" class="ln ka hi mf b fi mj mk l ml mm">df = data_set<br/>df = df['FABRICANTE'].value_counts().to_frame()<br/>df = df.rename(columns={"FABRICANTE":"COUNTS"})<br/>df.to_csv("report.csv", encoding = "utf-8")<br/>report = pd.read_csv("report.csv")</span><span id="9569" class="ln ka hi mf b fi mr mk l ml mm">def report(request):<br/>    df = pd.read_csv("report.csv")<br/>    df = df.set_index("Unnamed: 0")<br/>    population = 31237385<br/>    vaccination_rate = f'{(int(df.sum())/population)*100:.02f}%'</span><span id="9d50" class="ln ka hi mf b fi mr mk l ml mm">data = {<br/>        'num_pfizer': int(df.COUNTS[0]),<br/>        'num_sinopharm': int(df.COUNTS[1]),<br/>        'num_astrazeneca': int(df.COUNTS[2]),<br/>        'vaccination_rate': vaccination_rate,<br/>    }</span><span id="e4a7" class="ln ka hi mf b fi mr mk l ml mm">data = json.dumps(data)<br/>    return data</span></pre><p id="b9d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码，首先统计“FABRICANTE”列中的唯一值，基于秘鲁人口的大概数量，通过将接种疫苗的总人数除以人口来计算接种率。</p><p id="2cb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="646e" class="ln ka hi mf b fi mj mk l ml mm">'{"num_pfizer": 4904667, "num_sinopharm": 999463, "num_astrazeneca": 516733, "vaccination_rate": "20.56%"}'</span></pre><p id="29f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将创造潮流。</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="41ec" class="ln ka hi mf b fi mj mk l ml mm">def realtime_growth(date_string=None, weekly=False, monthly=False):<br/>    df = data_set<br/>    df['FECHA_VACUNACION'] = pd.to_datetime(df['FECHA_VACUNACION'], format='%Y%m%d')<br/>    data=df[['FECHA_VACUNACION','FABRICANTE']]<br/>    growth_df=pd.pivot_table(data, index='FECHA_VACUNACION',columns='FABRICANTE',aggfunc=len, fill_value=0)<br/>    <br/>    return growth_df</span><span id="2709" class="ln ka hi mf b fi mr mk l ml mm">def percentage_trends():    <br/>    current = realtime_growth().sum()<br/>    lastest = realtime_growth()[:-8].sum()<br/>    trends = round(number=((current - lastest)/current)*100, ndigits=1)<br/>    <br/>    population = 31237385<br/>    last_week = realtime_growth()[:-8].sum().sum()<br/>    now = realtime_growth().sum().sum()<br/>    rate_change= round((((now-last_week)/population)*100), ndigits=2)<br/>    trends = trends.append(pd.Series(data=rate_change, index=['VACCINATION_RATE']))</span><span id="df0b" class="ln ka hi mf b fi mr mk l ml mm">return trends</span></pre><p id="adda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码将列“DATE_VACCINATION”从类型“int”转换为“datetime”，然后根据“DATE_VACCINATION”制作一个显示接种人数的动态表，它还将现在和一周前的接种人数进行比较，以了解增加或减少了多少。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/8821f20782d276006a0e3134aec14079.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*91mCu5aNKcRNHb2cc_CLDg.png"/></div></div></figure><p id="daed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将在Django框架下工作，解释将会很长，如果下面的内容不能被理解，我道歉。在以后的文章中，我会一步一步来。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mt"><img src="../Images/a8da04c411f56c4e9bf3789e29b881d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*enwOJWeJ8Hpz5BWp_YjtJw.png"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx"><strong class="bd kb">javascript file</strong></figcaption></figure><p id="957d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果上述函数的状态为200，它将返回一个内容，在本例中，html中的元素为“num_pizer”、“num_sinopharm”、“num_astrazeneca”和“_ rate”。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/e0271861648ca88947cfbe7d4db4269c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTvgHFUVDsM7weGavFvHFQ.png"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx"><strong class="bd kb">Header.html</strong></figcaption></figure><p id="7a99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> CSS和引导程序</strong></p><p id="0da9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Bootstrap是一个<strong class="ih hj"> css </strong> <strong class="ih hj">框架</strong>，两者都将负责设计我们仪表板的组件，由于bootstrap，我们将能够使整个设计适应移动设备的屏幕。</p><p id="9dca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个项目的简要总结，有很多我想详细说明，当时间允许的时候我会这样做。感谢您的阅读。</p></div></div>    
</body>
</html>