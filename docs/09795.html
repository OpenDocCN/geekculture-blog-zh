<html>
<head>
<title>How to Make a Website for Free With Python’s Flask and Google App Engine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python的Flask和Google App Engine免费做一个网站</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-make-a-website-for-free-with-pythons-flask-and-google-app-engine-5278a6041762?source=collection_archive---------7-----------------------#2021-12-29">https://medium.com/geekculture/how-to-make-a-website-for-free-with-pythons-flask-and-google-app-engine-5278a6041762?source=collection_archive---------7-----------------------#2021-12-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="395a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程演示了使用Python微框架Flask和Google App Engine构建和部署网站是多么容易。</p><p id="b6e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">经历</strong>:初学者</p><h2 id="a500" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated"><strong class="ak">要求</strong>:</h2><p id="1a7f" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated"><strong class="ih hj">python和html的基础知识。本教程演示了如何只用python和html制作一个实时网站。如果你从未使用过HTML，你可能想从<a class="ae kd" href="https://datasciencecode.medium.com/the-complete-beginners-guide-to-html-and-css-b8ce816fe2ef?" rel="noopener">HTML和CSS初学者指南开始。</a></strong></p><p id="ea3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">一个python解释器比如</strong><a class="ae kd" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">vs code</strong></a><strong class="ih hj">或者</strong><a class="ae kd" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Spyder</strong></a><strong class="ih hj">。这些解释器让你很容易编辑你的代码。</strong></p><p id="46c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">一个</strong> <a class="ae kd" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">谷歌云账号</strong> </a> <strong class="ih hj">和</strong> <a class="ae kd" href="https://cloud.google.com/sdk/docs/install" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云SDK </strong> </a> <strong class="ih hj">。创建一个帐户是免费的，当你这样做时，你将获得300个免费的信用点数。</strong></p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ke"><img src="../Images/5eccf51edb84657ee78c78255131bec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BtuzHkH9U-yj6mrg"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx">Photo by <a class="ae kd" href="https://unsplash.com/@cdr6934?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Chris Ried</a> on <a class="ae kd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="49bf" class="ku je hi bd jf kv kw kx jj ky kz la jn lb lc ld jq le lf lg jt lh li lj jw lk bi translated">设置网站</h1><p id="940f" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">Google App Engine需要四个文件来部署Flask站点。这些文件是:一个<strong class="ih hj"> HTML页面</strong>，一个<strong class="ih hj"> Python文件</strong>作为“控制器】，一个<strong class="ih hj">需求</strong>文件，一个告诉App Engine做什么的文件，叫做<strong class="ih hj"> a .yaml </strong>文件。为这些文件创建一个新目录。除了HTML页面之外的所有内容都应该在这个目录中。对于HTML页面，创建一个名为“templates”的子目录。</p><h2 id="06dc" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">HTML</h2><p id="5045" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">对于这个示例站点，我们将使用一个非常基本的html页面。将下面的代码复制粘贴到一个名为<strong class="ih hj">index.html</strong>的文件中，并放在“模板”子目录中。</p><pre class="kf kg kh ki fd ll lm ln lo aw lp bi"><span id="0989" class="jd je hi lm b fi lq lr l ls lt">&lt;!doctype html&gt;<br/>&lt;html lang=”en”&gt; <br/>&lt;head&gt; <br/>&lt;title&gt;Example Flask Website&lt;/title&gt; <br/>&lt;meta charset=”utf-8"&gt; <br/>&lt;meta name=”viewport” content=”width=device-width, initial-scale=1"&gt;&lt;/head&gt; <br/>&lt;body&gt;Hello World!&lt;/body&gt; <br/>&lt;/html&gt;</span></pre><h2 id="f562" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated"><strong class="ak">控制器</strong></h2><p id="4377" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">python文件告诉网站该做什么。我们需要创建一个新的flask应用程序，并为我们的HTML文件创建一个单独的路径。将以下内容复制并粘贴到一个名为main.py的文件中。</p><pre class="kf kg kh ki fd ll lm ln lo aw lp bi"><span id="6782" class="jd je hi lm b fi lq lr l ls lt">from flask import Flask, render_template, request</span><span id="c032" class="jd je hi lm b fi lu lr l ls lt">app=Flask(__name__) </span><span id="f003" class="jd je hi lm b fi lu lr l ls lt">@app.route(‘/’)<br/>def root(): <br/>    return render_template(‘index.html’) </span><span id="4347" class="jd je hi lm b fi lu lr l ls lt">if __name__ == ‘__main__’: <br/>    app.run(host=”localhost”, port=8080, debug=True)</span></pre><p id="86dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此时，我们可以通过运行这个python文件并转到<a class="ae kd" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a>来查看我们的html页面，以确保一切正常。</p><h2 id="16a5" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">Requirements.txt</h2><p id="8a76" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">需求文件应该列出你的网站中使用的所有python包。因为我们只使用Flask，这个文件应该是一行。将以下内容复制并粘贴到一个名为requirements.txt的文件中。</p><pre class="kf kg kh ki fd ll lm ln lo aw lp bi"><span id="bc5f" class="jd je hi lm b fi lq lr l ls lt">Flask==2.0.2</span></pre><h2 id="643d" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">app.yaml</h2><p id="8329" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">app.yaml告诉app engine如何为您的应用提供服务。由于这只是一个例子，我们将保持它的简单，并使用最低要求。将以下内容复制并粘贴到名为app.yaml的文件中。</p><pre class="kf kg kh ki fd ll lm ln lo aw lp bi"><span id="a0ef" class="jd je hi lm b fi lq lr l ls lt">runtime: python39</span></pre><h1 id="d5de" class="ku je hi bd jf kv kw kx jj ky kz la jn lb lc ld jq le lf lg jt lh li lj jw lk bi translated">部署您的网站</h1><p id="c860" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">在云控制台中创建新项目。打开Google Cloud SDK shell，将这个项目设置为您的工作项目。</p><pre class="kf kg kh ki fd ll lm ln lo aw lp bi"><span id="97b3" class="jd je hi lm b fi lq lr l ls lt">gcloud config set project [PROJECT_NAME]</span></pre><p id="aa7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在将当前工作目录设置为存储文件的位置。运行以下命令。</p><pre class="kf kg kh ki fd ll lm ln lo aw lp bi"><span id="9a32" class="jd je hi lm b fi lq lr l ls lt">gcloud app deploy</span></pre><p id="7037" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按照指导完成站点部署，并在为您的app engine项目提供的免费域中查看站点。</p><p id="e259" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">恭喜你！您已成功将网站部署到Google App Engine。请继续关注用CSS和Javascript定制您的站点！</strong></p><p id="a4d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在github <a class="ae kd" href="https://github.com/spmcneal/Medium-Flask/tree/main/Flask-AppEngine" rel="noopener ugc nofollow" target="_blank">上查看完整的教程代码。</a></p></div></div>    
</body>
</html>