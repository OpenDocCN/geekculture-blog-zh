<html>
<head>
<title>Swift| Inline Closures</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift|内联闭包</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swift-inline-closures-eb1513f304a?source=collection_archive---------7-----------------------#2022-02-08">https://medium.com/geekculture/swift-inline-closures-eb1513f304a?source=collection_archive---------7-----------------------#2022-02-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9e81" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">内联闭包完全指南</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/e5e4451f5c1e4061c67aad1764e86a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q23Vt-wSirnNmRYx.jpeg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Photo by <a class="ae jj" href="https://unsplash.com/@neonbrand?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">NeONBRAND</a> on <a class="ae jj" href="https://unsplash.com/s/photos/%24?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9325" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">Swift自动为内联闭包提供短参数名。</p><p id="a0d0" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">此参数允许您使用$0、$1、$2等值。如果使用缩写的参数名称，可以省略参数输入部分，因为您知道参数值和处理参数时使用的参数是相同的。</p><p id="cee0" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">在开始之前，让我们看看用闭包调用函数的不同方式。</p><p id="8305" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">有三种方法可以调用下面的函数</p><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="cd76" class="kl km hi kh b fi kn ko l kp kq">func morningRoutine(one: String, two:(String)-&gt;String){<br/>       print(one) <br/>       let secondTask = two("Brush Teeth"<br/>       print(secondTask) <br/>       print("Finished") <br/>}</span></pre><h1 id="5ed9" class="kr km hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">第一选项</h1><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="540b" class="kl km hi kh b fi kn ko l kp kq">morningRoutine(one:"Wake up and wash face") { (toDo: String) -&gt; String in <br/>    return "second task is \(toDo)"<br/>}</span></pre><p id="9707" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">这是最简单易懂的方式。</p><h1 id="9b83" class="kr km hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">第二种选择</h1><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="c2d5" class="kl km hi kh b fi kn ko l kp kq">morningRoutine(one:"Wake up and wash face") { toDo -&gt; String in <br/>    return "second task is \(toDo)"<br/>}</span></pre><p id="cd3d" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">Swift可以删除闭包的参数，因为它知道闭包的参数必须是字符串</p><h1 id="802f" class="kr km hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">第三种选择</h1><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="cc54" class="kl km hi kh b fi kn ko l kp kq">morningRoutine(one:"Wake up and wash face") { toDo in <br/>    return "second task is \(toDo)"<br/>}</span></pre><p id="575b" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">Swift可以删除闭包的参数类型和返回值，因为它知道它接受并返回一个字符串。</p><h1 id="e895" class="kr km hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">第四种选择</h1><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="8f6a" class="kl km hi kh b fi kn ko l kp kq">morningRoutine(one:"Wake up and wash face") { toDo in <br/>    "second task is \(toDo)"<br/>}</span></pre><p id="9520" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">您可以去掉return关键字，因为闭包只有一行代码返回值。但是如果你有其他代码，不要使用这个方法，你会遇到一个错误。</p><h1 id="548e" class="kr km hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">第五种选择</h1><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="93f9" class="kl km hi kh b fi kn ko l kp kq">morningRoutine(one:"Wake up and wash face") {<br/>    "second task is \($0)"<br/>}</span></pre><p id="1edd" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">您可以使用速记语法使其更短。您可以让Swift为您的闭包自动命名，而不是编写toDo。他们有一个美元符号，后面跟着一个从0开始的数字。</p><h1 id="c2ad" class="kr km hi bd ks kt ku kv kw kx ky kz la io lb ip lc ir ld is le iu lf iv lg lh bi translated">何时使用速记参数</h1><p id="3cf2" class="pw-post-body-paragraph jk jl hi jm b jn li ij jp jq lj im js jt lk jv jw jx ll jz ka kb lm kd ke kf hb bi translated">当使用闭包时，Swift提供了一个特殊的短参数语法，它考虑到了编写闭包。该语法自动对参数名$0、$1、$2等进行编号。</p><p id="b285" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">例子</p><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="30a3" class="kl km hi kh b fi kn ko l kp kq">Calculator(n1: Int, n2: Int, operation(Int, Int) -&gt; Int{ <br/>     print(operation(n1,n2) <br/>}</span></pre><p id="e787" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">这个函数有一个接受两个参数的闭包，所以我们可以用$0表示第一个参数，用$1表示第二个参数</p><pre class="iy iz ja jb fd kg kh ki kj aw kk bi"><span id="e10e" class="kl km hi kh b fi kn ko l kp kq">Calculator(n1:100, n2: 2) {<br/>    $0 * $1<br/>}//OUTPUT<br/>// 200</span></pre></div></div>    
</body>
</html>