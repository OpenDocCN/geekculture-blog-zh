<html>
<head>
<title>Train a deep learning model for custom object detection using TensorFlow 1.x on Google colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google colab上使用TensorFlow 1.x训练用于自定义对象检测的深度学习模型</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/training-a-model-for-custom-object-detection-using-tensorflow-1-x-on-google-colab-564d3e62e9ef?source=collection_archive---------0-----------------------#2021-10-28">https://medium.com/geekculture/training-a-model-for-custom-object-detection-using-tensorflow-1-x-on-google-colab-564d3e62e9ef?source=collection_archive---------0-----------------------#2021-10-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/a24f090c3ba29809d70f82428d1fff25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1l0lZjqian8TDe7GhlQbBA.png"/></div></div></figure><div class=""/><div class=""><h2 id="2cc1" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh dx translated">使用TensorFlow对象检测API</h2></div><h1 id="0127" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">我在Youtube上的视频！</h1><figure class="ka kb kc kd fd hk"><div class="bz dy l di"><div class="ke kf l"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="e0e8" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">在本教程中，我将在Google Colab上使用<strong class="ak"> TensorFlow 1.x </strong>训练一个深度学习模型，用于自定义对象检测。下面是它的路线图。</h1><ul class=""><li id="de7e" class="ks kt ht ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">收集图像数据集，并对它们进行标记，以获得它们的XML文件。</li><li id="998c" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated">安装TensorFlow对象检测API。</li><li id="4884" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated">生成培训所需的TFRecord文件。(为此需要生成_tfrecord.py脚本和CSV文件)</li><li id="2407" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated">编辑模型管道配置文件，并下载预先训练的模型检查点。</li><li id="16fe" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated">训练和评估模型。</li></ul></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="b24a" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">我正在训练一个面具检测模型。这是通过下一节提到的17个步骤完成的:</p><p id="abac" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">(但首先✅Subscribe到我的YouTube频道👉🏻https://bit.ly/3Ap3sdi<a class="ae me" href="https://bit.ly/3Ap3sdi" rel="noopener ugc nofollow" target="_blank">😁😜)</a></p><ol class=""><li id="4810" class="ks kt ht ku b kv lr kx lt kz mf lb mg ld mh lf mi lh li lj bi translated"><a class="ae me" href="#92f2" rel="noopener ugc nofollow">T5】安装tensor flow 1 . xT7】</a></li><li id="62a9" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#26bd" rel="noopener ugc nofollow"> <strong class="ku hu">导入依赖关系</strong> </a></li><li id="3468" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#e7d3" rel="noopener ugc nofollow"> <strong class="ku hu">在google drive中创建customTF1、training和data文件夹</strong> </a></li><li id="6b91" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#6cb9" rel="noopener ugc nofollow"> <strong class="ku hu">创建并上传您的图像文件和XML文件</strong> </a></li><li id="bdc5" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#7f0c" rel="noopener ugc nofollow"> <strong class="ku hu">将generate_tfrecord.py文件上传到您的驱动器</strong> </a>中的customTF1文件夹</li><li id="0c33" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#2599" rel="noopener ugc nofollow"> <strong class="ku hu">挂载驱动器并链接你的文件夹</strong> </a></li><li id="e063" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#9811" rel="noopener ugc nofollow"> <strong class="ku hu">克隆TensorFlow模型git库&amp;安装TensorFlow对象检测API </strong> </a></li><li id="44f6" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#6c7d" rel="noopener ugc nofollow"> <strong class="ku hu">测试模型构建器</strong> </a></li><li id="e566" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#461a" rel="noopener ugc nofollow"> <strong class="ku hu">导航到驱动器上的数据文件夹，将images.zip和annotations.zip文件解压缩到数据文件夹</strong> </a></li><li id="1b00" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#27cc" rel="noopener ugc nofollow"> <strong class="ku hu">创建测试_标签&amp;训练_标签</strong>T43】</a></li><li id="7637" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#d239" rel="noopener ugc nofollow"> <strong class="ku hu">创建CSV和" label_map.pbtxt "文件</strong> s </a></li><li id="ffbf" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#a640" rel="noopener ugc nofollow"> <strong class="ku hu">创建‘train . record’&amp;【test . record】文件</strong> </a></li><li id="fe09" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#f8ea" rel="noopener ugc nofollow"> <strong class="ku hu">下载预训练模型检查点</strong> </a></li><li id="7cf0" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#38af" rel="noopener ugc nofollow"> <strong class="ku hu">获取模型管道配置文件，对其进行</strong> <strong class="ku hu">修改，并放入</strong> </a>文件夹中</li><li id="462e" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#c5ed" rel="noopener ugc nofollow"> <strong class="ku hu">负载张量板</strong> </a></li><li id="23c5" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#7317" rel="noopener ugc nofollow"> <strong class="ku hu">训练模型</strong> </a></li><li id="e001" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf mi lh li lj bi translated"><a class="ae me" href="#0abf" rel="noopener ugc nofollow"> <strong class="ku hu">测试你训练好的模型</strong> </a></li></ol><h1 id="4d9c" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">如何开始？</h1><ul class=""><li id="c31a" class="ks kt ht ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">在你的浏览器上打开我的<a class="ae me" href="https://colab.research.google.com/drive/10IqIFEorsz2y0rDzuGje5dwsXXlZhqMK?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Colab笔记本</a>。</li><li id="77c7" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated">点击菜单栏中的<strong class="ku hu">文件</strong>并点击<strong class="ku hu">在驱动器</strong>中保存一份副本。这将在您的浏览器上打开我的Colab笔记本的副本，您现在可以使用它了。</li><li id="4d4d" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated">接下来，一旦你打开了我的笔记本的副本并连接到Google Colab VM，点击菜单栏中的<strong class="ku hu">运行时</strong>，并点击<strong class="ku hu">更改运行时类型</strong>。选择<strong class="ku hu"> GPU </strong>并点击保存。</li></ul><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mj"><img src="../Images/6b472351faceef7df8652bf067e76591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Feg7AHLV15eoRS0q.png"/></div></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="a97f" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">我们开始吧！！！</h1><h1 id="92f2" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">1)安装TensorFlow 1.x</h1><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="b5e3" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">#install tensorflow 1.15</strong><br/>!pip install tensorflow==1.15</span><span id="7097" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu">#Check tensorflow version</strong><br/>import tensorflow as tf<br/>print(tf.__version__)</span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="26bd" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">2)导入依赖项</h1><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="8342" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">import os<br/>import glob<br/>import xml.etree.ElementTree as ET<br/>import pandas as pd</strong></span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="e7d3" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">3)在google drive中创建customTF1、training和data文件夹</h1><p id="c556" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">首先，在你的google drive中创建一个名为<strong class="ku hu"> <em class="my"> customTF1 </em> </strong>的文件夹。</p><p id="843d" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">接下来，在<strong class="ku hu"> <em class="my"> customTF1 </em> </strong>文件夹内创建另一个名为<strong class="ku hu"> <em class="my"> training </em> </strong>的文件夹(<strong class="ku hu"> <em class="my"> training </em> </strong>文件夹是训练时保存检查点的位置)。</p><p id="f308" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">最后，在<strong class="ku hu"> <em class="my"> customTF1 </em> </strong>文件夹内创建另一个名为<strong class="ku hu"> <em class="my"> data </em> </strong>的文件夹。</p><h1 id="6cb9" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">4)创建并上传您的图像文件和XML文件。</h1><p id="23db" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">为您的自定义数据集图像创建一个名为<strong class="ku hu"> <em class="my"> images </em> </strong>的文件夹，并为其对应的XML文件创建另一个名为<strong class="ku hu"> <em class="my"> annotations </em> </strong>的文件夹。</p><p id="0a6e" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">接下来，创建他们的zip文件并上传到你的驱动器中的<strong class="ku hu"> <em class="my"> customTF1 </em> </strong>文件夹。</p><blockquote class="mz na nb"><p id="1348" class="lp lq my ku b kv lr iu ls kx lt ix lu nc lv lw lx nd ly lz ma ne mb mc md lf hb bi translated"><strong class="ku hu"> <em class="ht">注意:</em> </strong> <em class="ht">确保所有图像文件的扩展名为</em> <strong class="ku hu"> <em class="ht">。jpg" </em> </strong> <em class="ht">只。其他格式如“</em> <strong class="ku hu"> <em class="ht">”。png</em></strong><em class="ht"/><strong class="ku hu"><em class="ht">。jpeg </em> </strong> <em class="ht">“甚至”。</em><strong class="ku hu"><em class="ht"/></strong><em class="ht">"会给出错误自</em> generate_tfrecord <em class="ht">和</em> xml_to_csv <em class="ht">脚本这里只有</em> <strong class="ku hu"> <em class="ht">。jpg" </em> </strong> <em class="ht">在其中。如果您有其他格式的图像，则相应地在脚本中进行更改。</em></p></blockquote><p id="1468" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">对于数据集，您可以在本文底部的致谢部分查看我的数据集来源。</p><h2 id="5d7f" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">收集图像数据集并标记它们以获得它们的PASCAL_VOC XML注释。</h2><h2 id="db4c" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">标注数据集</h2><p id="247f" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">输入图像示例(<strong class="ku hu">Image1.jpg</strong>)</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div class="er es ns"><img src="../Images/5ccff9a55e570894635bd033fef78a2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*iSVNb1rEUVUitwDV.jpeg"/></div></figure><p id="88c7" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">你可以使用任何软件来贴标签，比如<a class="ae me" href="https://github.com/tzutalin/labelImg#labelimg" rel="noopener ugc nofollow" target="_blank"> <strong class="ku hu">标签</strong> </a>工具。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nt"><img src="../Images/c8ce1b18afeb1434a1224035381b0184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O9GCML23sLBBX74I.png"/></div></div></figure><p id="37c7" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">我使用一个名为<strong class="ku hu"> OpenLabeling </strong>的开源标签工具，它有一个非常简单的UI。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div class="er es nu"><img src="../Images/f3db82b42d300fc15edce51817a064d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*Y62yF11nNGv16IJb.gif"/></div></figure><p id="5231" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">点击下面的链接，了解更多关于贴标过程和其他软件的信息:</p><ul class=""><li id="c3f5" class="ks kt ht ku b kv lr kx lt kz mf lb mg ld mh lf lg lh li lj bi translated"><a class="ae me" href="https://techzizou.com/dataset-labeling-annotation-tutorial-for-beginners/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku hu">影像数据集标注条</strong> </a></li></ul><p id="51d6" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">注:</strong>垃圾入=垃圾出。选择和标记图像是最重要的部分。尽量找质量好的图片。数据的质量在很大程度上决定了结果的质量。</p><p id="5f12" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">输出的PASCAL_VOC标记的XML文件如下所示:</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nv"><img src="../Images/225168e311f4fc296be6db577bfb5170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KurnJ11JDp_jYWs8.png"/></div></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="7f0c" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">5)将generate_tfrecord.py文件上传到驱动器中的customTF1文件夹</h1><p id="88ff" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">你可以在这里找到generate_tfrecord.py文件<a class="ae me" href="https://github.com/techzizou/Train-Object-Detection-Model-TF-1.x" rel="noopener ugc nofollow" target="_blank"/></p><figure class="ka kb kc kd fd hk"><div class="bz dy l di"><div class="nw kf l"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="2599" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">6)安装驱动器并链接您的文件夹</h1><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="22c6" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">#mount drive</strong><br/>from google.colab import drive<br/>drive.mount('/content/gdrive')</span><span id="05b3" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu"># this creates a symbolic link so that now the path /content/gdrive/My Drive/ is equal to /mydrive</strong><br/>!ln -s /content/gdrive/My Drive/ /mydrive</span><span id="2c70" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu">#list the contents in the drive</strong><br/>!ls /mydrive</span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="9811" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">7)克隆TensorFlow模型git存储库并安装TensorFlow对象检测API</h1><p id="ce4a" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">在Colab虚拟机中克隆TensorFlow模型的存储库</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="2d8f" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">!git clone --q </strong><a class="ae me" href="https://github.com/tensorflow/models.git" rel="noopener ugc nofollow" target="_blank"><strong class="ml hu">https://github.com/tensorflow/models.git</strong></a></span></pre><p id="5c97" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">按照TensorFlow官方文档页面<a class="ae me" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1.md" rel="noopener ugc nofollow" target="_blank">上的说明安装TensorFlow对象检测API，此处</a></p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="14bd" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">#navigate to /models/research folder to compile protos</strong><br/>%cd models/research</span><span id="b88e" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu"># Compile protos.</strong><br/>!protoc object_detection/protos/*.proto --python_out=.</span><span id="7d3f" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu"># Install TensorFlow Object Detection API.</strong><br/>!cp object_detection/packages/tf1/setup.py .<br/>!python -m pip install .</span><span id="52b7" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu">#Dont have to use the --use-feature=2020-resolver as it is already the deafault now</strong></span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="6c7d" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">8)测试模型构建器</h1><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="a102" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">!python object_detection/builders/model_builder_tf1_test.py</strong></span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="461a" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">9)导航到驱动器上的数据文件夹，并将images.zip和annotations.zip文件解压缩到数据文件夹中</h1><p id="f8e8" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">导航到/mydrive/customTF1/data/</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="623a" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">%cd /mydrive/customTF1/data/</strong></span></pre><p id="aace" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">将images.zip和annotations.zip文件解压缩到data文件夹中</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="2b25" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu"># unzip the datasets and their contents so that they are now in /mydrive/customTF1/data/ folder</strong></span><span id="bc87" class="mp jj ht ml b fi mu mr l ms mt">!unzip /mydrive/customTF1/images.zip -d .<br/>!unzip /mydrive/customTF1/annotations.zip -d .</span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="27cc" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">10)创建测试标签和训练标签</h1><p id="6514" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">当前工作目录为<strong class="ku hu"><em class="my">/my drive/custom tf1/data/</em></strong></p><p id="0ca7" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">将标注分为test_labels(20%)和train_labels(80%)。</p><figure class="ka kb kc kd fd hk"><div class="bz dy l di"><div class="nw kf l"/></div></figure><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nv"><img src="../Images/6e117f9239de8c1ea81eae4d612f7150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oOWomoBGRvEmLg8M.png"/></div></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="d239" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">11)创建CSV文件和“label_map.pbtxt”文件</h1><p id="5af0" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">当前工作目录为<strong class="ku hu"><em class="my">/my drive/custom tf1/data/</em></strong></p><p id="ee78" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">运行下面的xml_to_csv脚本来创建<strong class="ku hu"><em class="my">test _ labels . CSV</em></strong>和<strong class="ku hu"><em class="my">train _ labels . CSV</em></strong></p><p id="5b4d" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">该脚本还使用XML文件中提到的类创建了<strong class="ku hu"><em class="my">label _ map . Pb txt</em></strong>文件。</p><figure class="ka kb kc kd fd hk"><div class="bz dy l di"><div class="nw kf l"/></div></figure><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nv"><img src="../Images/09216d6d16a2518d230a22cea7f8d153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y94MCRoFT2gmslBj.png"/></div></div></figure><p id="84de" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">创建的3个文件即<strong class="ku hu"> train_labels.csv </strong>、<strong class="ku hu"> test_labels.csv </strong>和<strong class="ku hu"> label_map.pbtxt </strong>如下图所示:</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nx"><img src="../Images/a59dcfcfd3f57ee57e85d38ec9037da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*POLR7XuAXKCwjTWv"/></div></div></figure><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ny"><img src="../Images/e9c26ec5b1bd16c90bcd9a6308caa4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JRzDLr-HoEXddMVu"/></div></div></figure><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nz"><img src="../Images/32ad8292a79c1ca4c647924e4fb68b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XxTVPvsKOdEWHHFQ"/></div></div></figure><p id="82c9" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu"> train_labels.csv </strong>包含所有列车图像的名称、这些图像中的类以及它们的注释。</p><p id="87c8" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu"> test_labels.csv </strong>包含所有测试图像的名称、这些图像中的类以及它们的注释。</p><p id="6b79" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu"> label_map.pbtxt </strong>文件包含来自您的带标签的XML文件的类名。</p><p id="1716" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">注:</strong>我有两个类，即“带_掩码”和“不带_掩码”。</p><blockquote class="mz na nb"><p id="77f1" class="lp lq my ku b kv lr iu ls kx lt ix lu nc lv lw lx nd ly lz ma ne mb mc md lf hb bi translated"><strong class="ku hu"> <em class="ht">标签图id 0为背景标签预留。</em> </strong></p></blockquote></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="a640" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">12)创建训练记录和测试记录文件</h1><p id="5034" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">当前工作目录为<strong class="ku hu"><em class="my">/my drive/custom tf1/data/</em></strong>。</p><p id="50cc" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">运行<strong class="ku hu"><em class="my">generate _ TF record . py</em></strong>脚本创建<strong class="ku hu"> <em class="my"> train.record </em> </strong>和<strong class="ku hu"> <em class="my"> test.record </em> </strong>文件。</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="6dc2" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">#Usage:</strong><br/>#!python generate_tfrecord.py output.csv output_pb.txt /path/to/images output.tfrecords</span><span id="d43d" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu">#FOR train.record</strong><br/>!python /mydrive/customTF1/generate_tfrecord.py train_labels.csv  label_map.pbtxt images/ train.record</span><span id="a89d" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu">#FOR test.record</strong><br/>!python /mydrive/customTF1/generate_tfrecord.py test_labels.csv  label_map.pbtxt images/ test.record</span></pre><p id="f40b" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">如果一切顺利，您将看到以下输出:</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nx"><img src="../Images/e93455b70ab0c92f85a941848afe70e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7v9cjqIAm6y7bAh7.png"/></div></div></figure><p id="18fe" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">图像文件的总数是1370。因为我们将标签分为两类，即。train_labels(80%)和test_labels(20%)，“<strong class="ku hu">train . record”</strong>的文件数为1096，“<strong class="ku hu"> test.record </strong>的文件数为274。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="f8ea" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">13)下载预先训练的模型检查点</h1><p id="27c1" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">当前工作目录为<strong class="ku hu"><em class="my">/my drive/custom tf1/data/</em></strong></p><p id="9049" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">根据您的数据和要求，您可以选择任何模型进行培训。阅读<a class="ae me" href="https://serokell.io/blog/how-to-choose-ml-technique" rel="noopener ugc nofollow" target="_blank">这篇</a>博客，了解更多相关信息。</p><p id="a7a6" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">在本教程中，我将使用<strong class="ku hu"> ssd_mobilenet_v2_coco </strong>模型。</p><p id="145f" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">TensorFlow 1.x的检测检查点列表可以在<a class="ae me" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md" rel="noopener ugc nofollow" target="_blank">这里</a>找到。下面我们就来下载上面这款车型的<strong class="ku hu">SSD _ mobilenet _ v2 _ coco _ 2018 _ 03 _ 29 . tar . gz</strong>检查点。</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="8c8e" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">#Download the pre-trained model ssd_mobilenet_v2_coco_2018_03_29.tar.gz into the <em class="my">data</em> folder &amp; unzip it</strong></span><span id="c347" class="mp jj ht ml b fi mu mr l ms mt">!wget http://download.tensorflow.org/models/object_detection/ssd_mobilenet_v2_coco_2018_03_29.tar.gz<br/>!tar -xzvf ssd_mobilenet_v2_coco_2018_03_29.tar.gz</span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="38af" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">14)获取模型管线配置文件，对其进行更改，并将其放入数据文件夹中</h1><p id="1f74" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">从<strong class="ku hu"><em class="my">/content/models/research/object _ detection/samples/configs/</em></strong>文件夹下载<strong class="ku hu">SSD _ mobilenet _ v2 _ coco . config</strong>。对其进行所需的更改，并将其上传到<strong class="ku hu"><em class="my">/my drive/custom tf1/data</em></strong>文件夹。</p><p id="86e6" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">或</strong></p><p id="bf5b" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">在Colab VM中编辑<strong class="ku hu"><em class="my">/content/models/research/object _ detection/samples/configs/</em></strong>中的配置文件，并将编辑后的配置文件复制到<strong class="ku hu"><em class="my">/my drive/custom tf1/data</em></strong>文件夹中。</p><p id="a096" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">您还可以在我们在上一步中刚刚下载的模型检查点文件夹中找到管道配置文件。</p><p id="e7e6" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">您需要做出以下更改:</strong></p><ul class=""><li id="7189" class="ks kt ht ku b kv lr kx lt kz mf lb mg ld mh lf lg lh li lj bi translated"><strong class="ku hu"> <em class="my"> num_classes </em> </strong>给你的班级数。</li><li id="bddd" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><strong class="ku hu"><em class="my">test . record</em></strong>path，<strong class="ku hu"><em class="my">train . record</em></strong>path&amp;<strong class="ku hu"><em class="my">label map</em></strong>path到你创建这些文件的路径(训练时路径应该相对于你当前的工作目录)。</li><li id="e19f" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><strong class="ku hu"> <em class="my">微调检查点</em> </strong>到步骤13下载的检查点所在的路径。</li><li id="61dd" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><strong class="ku hu"><em class="my">fine _ tune _ check point _ type</em></strong>带值<strong class="ku hu">分类</strong>或<strong class="ku hu">检测</strong>视类型而定。</li><li id="6e60" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><strong class="ku hu"> <em class="my"> batch_size </em> </strong>到8的任意倍数，取决于你的GPU能力。(例如:- 24，128，…，512)。GPU能力越好，你能走的越高。我的设置为24。</li><li id="b433" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><strong class="ku hu"> <em class="my"> num_steps </em> </strong>您希望探测器训练的步数。</li></ul><blockquote class="mz na nb"><p id="e9a7" class="lp lq my ku b kv lr iu ls kx lt ix lu nc lv lw lx nd ly lz ma ne mb mc md lf hb bi translated">最大批量大小=可用GPU内存字节数/ 4 /(张量大小+可训练参数)</p></blockquote><p id="3de8" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">接下来，复制编辑好的配置文件</strong>。</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="587c" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu"># copy the edited config file from the samples/configs/ directory to the data/ folder in your drive</strong></span><span id="96cd" class="mp jj ht ml b fi mu mr l ms mt">!cp /content/models/research/object_detection/samples/configs/ssd_mobilenet_v2_coco.config /mydrive/customTF1/data/</span></pre><p id="eda6" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">此时的工作区:</strong></p><figure class="ka kb kc kd fd hk er es paragraph-image"><div class="er es oa"><img src="../Images/242b10b333b1a844903783b9eb5bd966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*Sf5ww8kCu6bm0HUb0UvQfQ.jpeg"/></div></figure><blockquote class="mz na nb"><p id="6c09" class="lp lq my ku b kv lr iu ls kx lt ix lu nc lv lw lx nd ly lz ma ne mb mc md lf hb bi translated">您可以添加许多数据扩充选项。查看完整列表<a class="ae me" href="https://github.com/tensorflow/models/blob/master/research/object_detection/protos/preprocessor.proto" rel="noopener ugc nofollow" target="_blank"> <em class="ht">此处</em> </a>。对于新手来说，以上改动就足够了。</p></blockquote><h2 id="86af" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">数据扩充建议(可选)</h2><p id="3499" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">首先，您应该使用带有上述基本更改的示例配置文件来训练模型，并看看它做得如何。如果你过拟合，那么你可能想做一些更多的图像放大。</p><p id="7a4a" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">在示例配置文件中:默认添加<code class="du ob oc od ml b"><strong class="ku hu">random_horizontal_flip</strong></code> &amp; <code class="du ob oc od ml b"><strong class="ku hu">ssd_random_crop</strong></code>。您也可以尝试添加以下内容:</p><p id="54e9" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">(<strong class="ku hu">注</strong>:每次图像增强都会大幅增加训练时间)</p><ol class=""><li id="a101" class="ks kt ht ku b kv lr kx lt kz mf lb mg ld mh lf mi lh li lj bi translated">来自<strong class="ku hu">列车配置{}: </strong></li></ol><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="5aa2" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">data_augmentation_options {<br/>    random_adjust_contrast {<br/>    }<br/>  }<br/>  data_augmentation_options {<br/>    random_rgb_to_gray {<br/>    }<br/>  }<br/>  data_augmentation_options {<br/>    random_vertical_flip {<br/>    }<br/>  }<br/>  data_augmentation_options {<br/>    random_rotation90 {<br/>    }<br/>  }<br/>  data_augmentation_options {<br/>    random_patch_gaussian {<br/>    }<br/>  }</strong></span></pre><p id="0d59" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">2.在<strong class="ku hu">型号{ }&gt;SSD { }&gt;box _ predictor { }:</strong>将<code class="du ob oc od ml b"><strong class="ku hu">use_dropout</strong></code>设置为<code class="du ob oc od ml b">true</code>这将帮助您应对过度拟合。</p><p id="9213" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">3.在<strong class="ku hu"> eval_config: {} </strong>设置<code class="du ob oc od ml b"><strong class="ku hu">num_examples</strong></code>中的<strong class="ku hu">测试</strong>图像的数量，并移除<code class="du ob oc od ml b"><strong class="ku hu">max_eval</strong></code>以无限期评估</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="a590" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">eval_config: {<br/>  num_examples: 274 # set this to the number of test images we divided earlier<br/>  num_visualizations: 20 # the number of visualization to see in tensorboard<br/>}</strong></span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="c5ed" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">15)加载张量板</h1><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="87c2" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">%load_ext tensorboard<br/>%tensorboard --logdir '/content/gdrive/MyDrive/customTF1/training'</strong></span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="7317" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">16)训练模型</h1><p id="8cf8" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">导航到Colab虚拟机中的<strong class="ku hu"><em class="my">object _ detection</em></strong>文件夹</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="7b9b" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">%cd /content/models/research/object_detection</strong></span></pre><h1 id="81da" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">使用model_main.py进行培训和评估</h1><p id="a424" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">从object_detection目录运行以下命令</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="aa41" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">!python model_main.py --pipeline_config_path=/mydrive/customTF1/data/ssd_mobilenet_v2_coco.config --model_dir=/mydrive/customTF1/training --num_train_steps=200000 --sample_1_of_n_eval_examples=1 --alsologtostderr</strong></span></pre><p id="cdb9" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">其中<strong class="ku hu">管道配置路径</strong>指向管道配置文件，而<strong class="ku hu">模型目录</strong>指向训练检查点和事件将被写入的目录。请注意，这个二进制将交错训练和评估。num_train_steps 是您希望模型训练的步数。在<strong class="ku hu">mobilenet _ SSD _ v2 _ coco . config</strong>文件中默认为200000。您可以在命令中设置不同的值，也可以在配置文件中更改它。</p><p id="f868" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">为了获得最佳结果，如果可能的话，应该在损失小于1时停止训练，否则训练模型，直到损失暂时没有任何显著变化。你可以将步数减少到50000步，然后检查损失是否低于1。如果没有，那么您可以用更多的步骤重新训练模型。</p><p id="778a" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated"><strong class="ku hu">注:不同型号的损耗会有所不同。MobileNet-SSD以大约15到20的损耗开始，并且应该被训练直到损耗始终低于1。理想情况下，我们希望损失尽可能低，但我们希望确保模型不会过度拟合。介于0.5和1之间的损失似乎给出了好的结果。</strong></p><p id="d100" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">运行上述命令后的输出通常看起来像是“冻结”了，但不要急于取消该过程。默认情况下，训练仅每100步输出一次日志，因此，如果您等待一段时间，您应该会在第100步看到一个丢失日志。您应该等待的时间可能会有很大的不同，这取决于您是否使用GPU以及在配置文件中为<code class="du ob oc od ml b"><strong class="ku hu">batch_size</strong></code>选择的值，所以请耐心等待。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h2 id="2ee0" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">重新训练模型(以防断线)</h2><p id="0d1c" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">如果您在Colab VM上断开连接或丢失会话，您可以从您停止的地方开始您的培训，因为检查点保存在您的驱动器上的<strong class="ku hu"> <em class="my">培训</em> </strong>文件夹中。要重新开始训练，只需运行<strong class="ku hu">步骤1、2、6、7、8、15和16。</strong></p><p id="a0cd" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">请注意，由于我们拥有训练所需的所有文件，如记录文件、编辑过的管道配置文件、label_map.pbtxt文件和模型检查点文件夹，因此我们不需要再次创建这些文件。</p><blockquote class="mz na nb"><p id="be1b" class="lp lq my ku b kv lr iu ls kx lt ix lu nc lv lw lx nd ly lz ma ne mb mc md lf hb bi translated"><strong class="ku hu"> <em class="ht">训练自动从最后一个训练过的检查点本身重新开始。</em> </strong></p></blockquote><p id="b0ce" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">但是，如果您发现它没有从最后一个检查点重新开始训练，您可以在管道配置文件中进行1处更改。将<strong class="ku hu"> fine_tune_checkpoint </strong>更改为写入最新训练检查点的位置，并使其指向最新的检查点，如下所示:</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="908e" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">fine_tune_checkpoint: "/mydrive/customTF1/training/model.ckpt-xxxx" </strong>#(where model.ckpt-xxxx is the latest checkpoint)</span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="0abf" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">17)测试你训练好的模型</h1><h1 id="5d0f" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">导出推理图</h1><p id="55bd" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">当前工作目录为<strong class="ku hu"><em class="my">/内容/模型/研究/对象_检测</em> </strong></p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="4e83" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">!python export_inference_graph.py --input_type image_tensor --pipeline_config_path /mydrive/customTF1/data/ssd_mobilenet_v2_coco.config --trained_checkpoint_prefix /mydrive/customTF1/training/model.ckpt-141649 --output_directory /mydrive/customTF1/data/inference_graph</strong></span></pre><h1 id="8db5" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">在图像上测试您训练的对象检测模型</h1><p id="783b" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">当前工作目录是<strong class="ku hu"><em class="my">/内容/模型/研究/对象_检测</em> </strong></p><h2 id="04c6" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">这一步是可选的。</h2><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="a8ae" class="mp jj ht ml b fi mq mr l ms mt"># <strong class="ml hu">Different font-type and font-size for labels text</strong></span><span id="8ea2" class="mp jj ht ml b fi mu mr l ms mt">!wget https://freefontsdownload.net/download/160187/arial.zip<br/>!unzip arial.zip -d .</span><span id="8dc3" class="mp jj ht ml b fi mu mr l ms mt">%cd utils/<br/>!sed -i "s/font = ImageFont.truetype('arial.ttf', 24)/font = ImageFont.truetype('arial.ttf', 50)/" visualization_utils.py<br/>%cd ..</span></pre><h1 id="0163" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">测试您训练过的对象检测模型</h1><p id="b978" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">修改第30行和第34行。第30行是类的数量，第34行是测试图像文件夹的路径。</p><p id="5f5d" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">如果您已经根据本教程创建了所有文件夹和文件，那么您不需要更改第41行和第42行中的路径。</p><figure class="ka kb kc kd fd hk"><div class="bz dy l di"><div class="nw kf l"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="fdfe" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">注意:</h1><p id="9fb5" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">我收集的用于遮罩检测的数据集主要包含特写图像。你可以在网上搜索更多的长镜头图片。有很多网站可以下载有标签和无标签的数据集。我在数据集来源下面给出了一些链接。我也给出了一些掩膜数据集的链接。其中一些有超过10，000张图片。</p><p id="b4ce" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">虽然我们可以对我们的训练配置文件进行某些调整和更改，或者通过增强为每种类型的对象类向数据集添加更多图像，但我们必须小心，以免导致影响模型准确性的过度拟合。</p><p id="9bdf" class="pw-post-body-paragraph lp lq ht ku b kv lr iu ls kx lt ix lu kz lv lw lx lb ly lz ma ld mb mc md lf hb bi translated">对于初学者，你可以简单地使用我上传到GitHub <strong class="ku hu">上的配置文件开始。</strong>我还上传了我的掩模图像数据集以及PASCAL_VOC格式的文本文件，虽然这可能不是最好的，但将为您提供一个如何使用SSD模型训练您自己的自定义对象检测器的良好开端。你可以找到一个质量更好的带标签的数据集或者一个不带标签的数据集，以后自己标注。</p><figure class="ka kb kc kd fd hk er es paragraph-image"><div class="er es nu"><img src="../Images/37865de93de54895a4bde3ed7a34a38d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*LdrlSiXZykDvBXkk.gif"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="afde" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">我的GitHub</h1><p id="b11b" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">培训文件</p><div class="hh hi ez fb hj oe"><a href="https://github.com/techzizou/Train-Object-Detection-Model-TF-1.x" rel="noopener  ugc nofollow" target="_blank"><div class="of ab dw"><div class="og ab oh cl cj oi"><h2 class="bd hu fi z dy oj ea eb ok ed ef hs bi translated">GitHub-techzizou/火车-物体-探测-模型-TF-1.x</h2><div class="ol l"><h3 class="bd b fi z dy oj ea eb ok ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="om l"><p class="bd b fp z dy oj ea eb ok ed ef dx translated">github.com</p></div></div><div class="on l"><div class="oo l op oq or on os hp oe"/></div></div></a></div><h1 id="e032" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">我的掩膜数据集</h1><div class="hh hi ez fb hj oe"><a href="https://www.kaggle.com/techzizou/labeled-mask-dataset-pascal-voc-format" rel="noopener  ugc nofollow" target="_blank"><div class="of ab dw"><div class="og ab oh cl cj oi"><h2 class="bd hu fi z dy oj ea eb ok ed ef hs bi translated">带标签的掩膜数据集(PASCAL_VOC)</h2><div class="ol l"><h3 class="bd b fi z dy oj ea eb ok ed ef dx translated">PASCAL_VOC格式XML注释</h3></div><div class="om l"><p class="bd b fp z dy oj ea eb ok ed ef dx translated">www.kaggle.com</p></div></div><div class="on l"><div class="ot l op oq or on os hp oe"/></div></div></a></div><h1 id="9fd9" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">我的Colab笔记本</h1><p id="836d" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated"><a class="ae me" href="https://colab.research.google.com/drive/10IqIFEorsz2y0rDzuGje5dwsXXlZhqMK?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="ku hu">谷歌合作实验室</strong> </a></p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="aef2" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">信用</h1><h2 id="de21" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">文件/参考资料</h2><ul class=""><li id="1683" class="ks kt ht ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/tensorflow" rel="noopener ugc nofollow" target="_blank">张量流简介</a></li><li id="b904" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/models" rel="noopener ugc nofollow" target="_blank"> Tensorflow模型Git库</a></li><li id="19df" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/models/tree/master/research/object_detection" rel="noopener ugc nofollow" target="_blank"> TensorFlow对象检测API库</a></li><li id="41e7" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/models/tree/master/research/object_detection/g3doc" rel="noopener ugc nofollow" target="_blank"> TF对象检测文档</a></li><li id="03ca" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1.md" rel="noopener ugc nofollow" target="_blank"> TF1安装指南</a></li><li id="9969" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md" rel="noopener ugc nofollow" target="_blank"> TensorFlow 1检测模型动物园</a></li><li id="c653" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_training_and_evaluation.md" rel="noopener ugc nofollow" target="_blank">使用TensorFlow 1进行培训和评估</a></li><li id="179d" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://www.tensorflow.org/tutorials" rel="noopener ugc nofollow" target="_blank">张量流教程</a></li><li id="8b56" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://tfhub.dev/" rel="noopener ugc nofollow" target="_blank">张量流枢纽</a></li><li id="018a" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/tensorflow/hub/blob/master/examples/colab/tf2_object_detection.ipynb" rel="noopener ugc nofollow" target="_blank"> TensorFlow Hub对象检测Colab </a></li><li id="3504" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://towardsdatascience.com/detailed-tutorial-build-your-custom-real-time-object-detector-5ade1017fd2d" rel="noopener" target="_blank">物体探测器教程</a></li></ul><h2 id="142c" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">数据集源</h2><p id="2155" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">您可以从下面提到的网站下载许多对象的数据集。这些网站还包含许多种类的对象的图像以及它们的多种格式的注释/标签，例如YOLO_DARKNET txt文件和PASCAL_VOC xml文件。</p><ul class=""><li id="3478" class="ks kt ht ku b kv lr kx lt kz mf lb mg ld mh lf lg lh li lj bi translated"><a class="ae me" href="https://storage.googleapis.com/openimages/web/index.html" rel="noopener ugc nofollow" target="_blank">通过谷歌打开图像数据集</a></li><li id="7f60" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://www.kaggle.com/datasets" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集</a></li><li id="faa0" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://public.roboflow.com/" rel="noopener ugc nofollow" target="_blank"> Roboflow公共数据集</a></li><li id="001c" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://www.visualdata.io/discovery" rel="noopener ugc nofollow" target="_blank">可视化数据数据集</a></li></ul><h2 id="fd6a" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">屏蔽数据集源</h2><ul class=""><li id="b616" class="ks kt ht ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/prajnasb/observations" rel="noopener ugc nofollow" target="_blank">般若Github </a></li><li id="8d2a" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://www.kaggle.com/andrewmvd/face-mask-detection" rel="noopener ugc nofollow" target="_blank"> Andrewmvd Kaggle </a></li><li id="a33a" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://github.com/X-zhangyang/Real-World-Masked-Face-Dataset" rel="noopener ugc nofollow" target="_blank">X-张洋Github </a></li></ul><h2 id="b2f5" class="mp jj ht bd jk nf ng nh jo ni nj nk js kz nl nm ju lb nn no jw ld np nq jy nr bi translated">更多掩膜数据集</h2><ul class=""><li id="3a61" class="ks kt ht ku b kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Prasoonkottarathil ka ggle(20000张图片)</li><li id="ee92" class="ks kt ht ku b kv lk kx ll kz lm lb ln ld lo lf lg lh li lj bi translated"><a class="ae me" href="https://www.kaggle.com/ashishjangra27/face-mask-12k-images-dataset?select=Face+Mask+Dataset" rel="noopener ugc nofollow" target="_blank">ashishjangra 27 ka ggle</a>(12000张图片)</li></ul></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="1a5b" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">解决纷争</h1><p id="8fb8" class="pw-post-body-paragraph lp lq ht ku b kv kw iu ls kx ky ix lu kz mv lw lx lb mw lz ma ld mx mc md lf hb bi translated">如果你得到一个类似“无法将一个符号张量(cond_2/strided_slice:0)转换成一个numpy数组”的NumPy错误，你可以通过降级你的NumPy版本，卸载并安装pycocotools来修复它。运行以下3个命令:</p><pre class="ka kb kc kd fd mk ml mm mn aw mo bi"><span id="a66a" class="mp jj ht ml b fi mq mr l ms mt"><strong class="ml hu">!pip install numpy==1.19.5</strong></span><span id="0cb2" class="mp jj ht ml b fi mu mr l ms mt"><strong class="ml hu">!pip uninstall pycocotools<br/>!pip install pycocotools</strong></span></pre></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="50c6" class="ji jj ht bd jk jl kn jn jo jp ko jr js iz kp ja ju jc kq jd jw jf kr jg jy jz bi translated">别忘了留下👏</h1><h1 id="ec66" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">祝您愉快！！！✌</h1><h1 id="c12c" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz bi translated">♕·特奇佐·♕</h1></div></div>    
</body>
</html>