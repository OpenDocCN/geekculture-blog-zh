<html>
<head>
<title>I built a digital signage manager for a music festival using Next.js and Dato CMS.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我使用Next.js和Dato CMS为一个音乐节构建了一个数字标牌管理器。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/i-built-a-digital-signage-manager-for-a-music-festival-using-next-js-and-dato-cms-575c27b92342?source=collection_archive---------26-----------------------#2021-09-14">https://medium.com/geekculture/i-built-a-digital-signage-manager-for-a-music-festival-using-next-js-and-dato-cms-575c27b92342?source=collection_archive---------26-----------------------#2021-09-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6e9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">近十年来，我一直是斯特肯市克拉姆洛克节的志愿者。媒体沟通团队使用的大多数在线工具都是我开发和管理的。多年来，我已经建立和重建了4次电影节网站，我创建了仪表板来监控社交媒体，脸书机器人来增加内容参与度，并提供工具来让我们的预订者了解我们的游客希望在电影节上看到哪些艺术家。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/425e6bfaa0a39aa58af8852ee6432f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2epbY37KbICsNGzLSVvCw.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Crammerock Festival 2021, a two-day festival in Belgium with 17000 visitors.</figcaption></figure><h1 id="ea0e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">这一点都不好玩</h1><p id="8411" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">每年的星期四，也就是电影节开始的前一天，我还会为电影节网站上所有的LED屏幕制作标牌。在今年的版本之前，这是一个完全手动的过程，包括以下步骤:</p><ul class=""><li id="e41c" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">列出所有付费在屏幕上出现他们商标的赞助商。</li><li id="5aec" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">收集所有赞助商标志。</li><li id="5aa1" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">获取一个列表，其中包含要在网站不同位置显示的所有消息。</li><li id="865e" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">在每个屏幕上制作keynote演示文稿，并确保分辨率匹配。</li><li id="aa4f" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">将所有主题演讲导出为视频。</li><li id="d827" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">使用正确的编解码器和容器转换视频，以匹配独立的屏幕(古代规格)。</li><li id="ad3c" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">将它们全部保存在USB驱动器上，并交付给不同地点的2家不同供应商。</li></ul><p id="3699" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一过程通常会持续到凌晨3点——确保所有赞助商、标识和信息都经过所有利益相关方的验证。</p><p id="205c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是问题来了。每年，在星期五，或者在节日期间，有人会注意到一个错别字(<em class="ll"> bomvoucher </em>而不是<em class="ll">bon voucher</em>——基本上是说“炸弹券”💣而不是机票代金券。这是一个相当令人痛苦的错别字，因为这是布鲁塞尔机场爆炸的一年。)或者赞助商会抱怨我们用错了他们的logo版本。</p><p id="f680" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对屏幕进行调整意味着我必须重复上面提到的最后4个步骤。每一个。单身。时间。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lm"><img src="../Images/b64ec6753d55b99eb8121c38bcc074c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hmXlzzHVXSLutxwnf2wZww.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">I would have all these keynotes. PDF exports for validation and converted videos for distribution.</figcaption></figure><h1 id="c07f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">Covid版本需要自动化</h1><p id="31ce" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">今年，我们不得不考虑很多covid措施来组织这个节日。所有这些措施都需要在游客一进入电影节时就进行沟通。这意味着额外的屏幕。节日周围街道上的额外屏幕和我们考试中心附近的额外屏幕。</p><p id="52bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于这些屏幕上的通信也可能在周末多次改变，我决定考虑一些数字标牌解决方案，以便从一个位置轻松管理所有屏幕。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ln"><img src="../Images/bc7d2a68257842b57def1e85b1906531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GVufhA3kaylkQZrHGgB3Nw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Me looking at existing digital signage solutions.</figcaption></figure><p id="dcfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我很快决定自己造点东西。</p><h1 id="efa8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">DatoCMS + NextJS =💛</h1><p id="96fa" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为了管理所有的屏幕、幻灯片和赞助商，我选择了<strong class="ih hj"> DatoCMS </strong>，一个无头的内容管理系统。经过10分钟的设置，我有:</p><ul class=""><li id="c65c" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">屏幕模型:定义节日场地上/周围的物理屏幕。</li><li id="917e" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">幻灯片集模型:定义可以分配给一个或多个屏幕的幻灯片集(文本、视频或赞助商/图像)。</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lo"><img src="../Images/4e6e2d85b519d89108b38e63f15e6e5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ss2gduIjjpOEGeIJJrmcZA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Here’s a schematic representation of the CMS. Easy, right?</figcaption></figure><p id="26b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在前端，我选择了静态生成的Next.js设置。代码方面没有什么特别之处，但针对多种屏幕尺寸的特定用例进行了一些优化，这些屏幕尺寸具有怪异的纵横比、分辨率和有限的移动数据可用性(周末为500 MB/屏幕)。</p><p id="ed3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">功能概述:</p><ul class=""><li id="57e4" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">我为“屏幕人”制作了动态URL参数，以便手动插入正确的屏幕分辨率。根据这些宽度和高度参数，我调整了通过DatoCMS GraphQL API查询的资产(图像和视频)的大小。大幅减少加载时间和数据卡使用的数据。</li><li id="7cab" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">对于视频，我决定不使用Dato HLS流媒体，因为我们会很快用完我们的免费流媒体分钟。视频根据屏幕大小调整大小(见上文),并在屏幕设置时预加载一次。</li><li id="8487" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">为了确保“屏幕家伙”不必在每次CMS发布时都进行硬刷新，我可以使用Dato实时API(它使用<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource" rel="noopener ugc nofollow" target="_blank">服务器发送的事件</a>)。我只需要添加一些简单的故障保险，如果屏幕在幻灯片x上，你会删除幻灯片x，它会重新开始循环等。</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lp"><img src="../Images/a3df3682c836c1a4d8f307f3ea2b3df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9qFn5_uKfNGx6osm6KzQDg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">A simple overview of all the screens in the system with the slide sets that are assigned to them.</figcaption></figure><p id="84a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用法:</p><ul class=""><li id="c324" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">最后，我有了一个概览屏幕，可以看到所有活动的屏幕以及分配给它们的幻灯片集。这个页面基本上是我自己参考用的。</li><li id="90cc" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">每个屏幕都有一个网址。那个网址是屏幕上的家伙在周四晚上设置的。而在周末，当有什么需要改变的时候，我只需要在我的iPhone上登录Dato，直接在选择的屏幕上发布改变。</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lq"><img src="../Images/365dfb313663de207522a7c22fce60d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kdvxf7fC0cBNlaWvKv0oNA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Example of a screen URL.</figcaption></figure><h1 id="5cc8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">学习编码，真的</h1><p id="5809" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">最后，我成功地把一个非常非常烦人、令人烦恼、令人沮丧的任务变得非常简单。它只花了我4个小时的编码和成本我们€0，使用现代网络工具和框架。</p><p id="b669" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最棒的是，我明年还可以用它！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ln"><img src="../Images/9188c6c0c735200c8e144476989933f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1akgud8Dug4dr7gGqjjhJQ.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">During testing. 🙃</figcaption></figure></div></div>    
</body>
</html>