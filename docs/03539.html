<html>
<head>
<title>A step-by-step coding guide to Pandas Library — Part -2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫文库的分步编码指南—第二部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-step-by-step-coding-guide-to-pandas-library-part-2-2d509348282d?source=collection_archive---------49-----------------------#2021-06-09">https://medium.com/geekculture/the-step-by-step-coding-guide-to-pandas-library-part-2-2d509348282d?source=collection_archive---------49-----------------------#2021-06-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="63a2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">你好，在本系列的上一篇文章中，我介绍了Pandas库的基础知识。请去看看第一部分，如果你还没有。由于这些文章本质上是连续的，浏览它们将有助于你理解和强化你的基础知识。</h2></div><p id="8c6b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在您对您的数据做出任何决定之前，首先彻底检查它是至关重要的。检查数据可以得到更好的答案，在数据分析过程中，您还可以勾勒出细微差别。</p><blockquote class="jt ju jv"><p id="a85b" class="ix iy jw iz b ja jb ij jc jd je im jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">Y <strong class="iz hj"> <em class="hi"> ou欢迎下载我的</em> </strong> <a class="ae ka" href="https://github.com/Prashantoza/Data_wrangling" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hj"> <em class="hi">代码文件</em> </strong> </a> <strong class="iz hj"> <em class="hi">，跟随文章一起深入了解。</em>T13】</strong></p></blockquote><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es kb"><img src="../Images/36d087536e9e674c4de70ed50c42608c.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/0*dcP6Qrw47d1jYZbD"/></div><figcaption class="kj kk et er es kl km bd b be z dx">For more awesome analytics cartoons, visit <a class="ae ka" href="https://timoelliott.com/blog/cartoons/more-analytics-cartoons" rel="noopener ugc nofollow" target="_blank">https://timoelliott.com/blog/</a></figcaption></figure><p id="b316" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">开始把数据集当成你面前的拼图，把数据分析方法当成你提供的工具。工具的选择和使用取决于特定的难题，在数据分析中，所有的工具不能同时应用于一个数据集。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es kn"><img src="../Images/4567d9d3a68b985474209626a148ef8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WU_fyaaDqScRkTM4"/></div></div><figcaption class="kj kk et er es kl km bd b be z dx">Photo by <a class="ae ka" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae ka" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7a4a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你需要解决手头的问题，并根据所需的精确度选择你的方法。</p><p id="83c1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您在日常生活中处理数据，开发数据分析例程是至关重要的，尽管在开始数据分析时没有单一的标准技术，但建议您在首次检查任何数据集时为自己开发一个例程</p><p id="eb2c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这将有助于增加您对数据集的熟悉程度；最好是一个动态的任务清单，随着你对熊猫和数据分析方法的熟悉程度而变化。</p><p id="378d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我分享我的数据<strong class="iz hj">分析程序</strong>，它可以帮助初学者从零开始建立自己的程序。</p><blockquote class="jt ju jv"><p id="adbf" class="ix iy jw iz b ja jb ij jc jd je im jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="iz hj"> <em class="hi">我们将介绍以下内容:</em> </strong></p></blockquote><ol class=""><li id="8611" class="ks kt hi iz b ja jb jd je jg ku jk kv jo kw js kx ky kz la bi translated"><em class="jw">概述</em></li><li id="35a3" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">减少数据集的内存占用</li><li id="eb25" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">选择方法—最大值中的最小值</li><li id="4ee8" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">选择方法—每组中最大的一个</li><li id="6ce1" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">选择方法—数据子集</li><li id="9e28" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">加快甄选过程</li><li id="5867" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">用iloc或loc索引器切片行</li><li id="f4bd" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">按字典顺序对行进行切片</li><li id="6c82" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">使用布尔索引器过滤数据</li><li id="7827" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">沿着列寻找最常见的最大值</li></ol><h1 id="2d33" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">一.概述</h1><p id="d7d5" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">我将探索数据分析方法，以及如何探索数据框架的过滤和选择——你不能一次处理整个数据集，你需要操纵数据以从中获得更多见解。</p><ul class=""><li id="5ac1" class="ks kt hi iz b ja jb jd je jg ku jk kv jo kw js md ky kz la bi translated">在这里，我将使用我在上一篇文章中使用的相同的网飞和Spotify数据集，让我们加载数据。</li></ul><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es me"><img src="../Images/c585af72eaa34c80f72a58fd3f04b958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xNi4cbjJzQDDiKM7.png"/></div></div></figure><h1 id="a49d" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">二。减少数据集的内存占用。</h1><p id="8ed8" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">在pandas中，整数和浮点的默认大小是-64位，不管特定数据帧的最大必要大小是多少。有两个技巧可以用来减少您正在处理的数据的大小，并使您的程序更快:</p><ul class=""><li id="4c6e" class="ks kt hi iz b ja jb jd je jg ku jk kv jo kw js md ky kz la bi translated">不要一次加载所有数据，而是使用数据的子集(我们将在后面详细介绍)。</li><li id="39bb" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js md ky kz la bi translated">更改数据的数据类型。</li></ul><blockquote class="jt ju jv"><p id="e7b7" class="ix iy jw iz b ja jb ij jc jd je im jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><em class="hi"> A </em> <strong class="iz hj"> <em class="hi">数据类型</em> </strong> <em class="hi">或简称</em> <strong class="iz hj"> <em class="hi">类型</em> </strong> <em class="hi">是数据的一种属性，它告诉编译器或解释器程序员打算如何使用数据。</em></p></blockquote><ol class=""><li id="188d" class="ks kt hi iz b ja jb jd je jg ku jk kv jo kw js kx ky kz la bi translated"><strong class="iz hj"> int8 / uint8: </strong>消耗1字节内存，范围在128/127或0/2554之间。</li><li id="7417" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated"><strong class="iz hj"> bool </strong>:消耗1个字节，真或假。</li><li id="8ffe" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated"><strong class="iz hj"> float16 / int16 / uint16: </strong>消耗2字节内存，范围在-32768和32767之间或0/65535。</li><li id="6dff" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated"><strong class="iz hj"> float32 / int32 / uint32 : </strong>消耗4字节内存，范围在-2147483648和2147483647之间。</li><li id="ceeb" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated"><strong class="iz hj"> float64 / int64 / uint64: </strong>消耗8字节内存。</li></ol><div class="kc kd ke kf fd ab cb"><figure class="mf kg mg mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/3a4d78762dd3d274c8ff7d8d79970b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*E_rkwhVohRoolNbW92LcGA.png"/></div></figure><figure class="mf kg ml mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/b50d9c221405dd1fd566a39ce4b598b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*sBvkr-hCe1uV5T5MT05p2Q.png"/></div></figure><figure class="mf kg mm mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/be29e8a01efcd2f969a974c270d59d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*TI53qUK5hpcQtdHn9RGGPA.png"/></div></figure></div><p id="e0be" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上述步骤从左至右依次解释如下:</p><ol class=""><li id="2afe" class="ks kt hi iz b ja jb jd je jg ku jk kv jo kw js kx ky kz la bi translated">检查Spotify数据集的数据类型。</li><li id="db6e" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">检查Spotify数据集的内存使用情况</li><li id="7d2d" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">列mode、key和target是分类变量，将它们的数据类型更改为int8并保存在新的数据集Spotify2中。</li><li id="3b67" class="ks kt hi iz b ja lb jd lc jg ld jk le jo lf js kx ky kz la bi translated">检查新数据集的内存使用情况</li></ol><p id="513c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">模式、键和目标值缩小到原来的1/8</strong></p><div class="kc kd ke kf fd ab cb"><figure class="mf kg mn mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/415b26771b5aa1fdf0c050915f47fafc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*4ac1C-hGbC_RoQctObQ1BQ.png"/></div></figure><figure class="mf kg mo mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/567a5bffa2b233cd3c0740b7eaa8ae00.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*aXGFWtG37xa6PoWyRT3HKQ.png"/></div></figure></div></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="604d" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">三。选择方法—最大值中的最小值</h1><p id="5f4c" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">在分析过程中，您可能首先需要找到一组包含单个列中前n个值的数据，然后根据不同的列从该数据集中找到后m个值，或者您可能不需要完整的数据来进行分析，只需要前100个数据。</p><p id="3f8f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个食谱可以用来回答你的“你能跟着跳舞的前100首歌？”或者“100首高能歌曲”。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nb"><img src="../Images/7ef6cb18953d6eb3851359890e89260a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g0pYiOIMaPAgffqsSB30uw.png"/></div></div></figure><p id="fd2a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我首先创建了一个包含3个连续变量的数据集，链接<strong class="iz hj"> nlargest </strong>方法创建了一个包含50首具有高跳舞度的热门歌曲的数据集，</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nc"><img src="../Images/6860560b70cd252a92a96b036ba65d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1QXxQG016tc3-6pQRvMJg.png"/></div></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nd"><img src="../Images/49918179249a194d4c4bd0c54f840231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UPJUmpW_TNdmVsdC21qW2A.png"/></div></div></figure><p id="c13f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">链接<strong class="iz hj">n small</strong>方法以返回前50名中最低的5首歌曲。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="92b2" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">四。选择方法—每组中最大的一个</h1><p id="c444" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">在数据分析期间执行的一个常见操作是选择列的最高值，这可以帮助您回答诸如“最高评级的网飞电影”、“年度最长歌曲”或“最高评级的电影导演/艺术家/演员/描述”等问题。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nd"><img src="../Images/6053534c10e18bf02b7c4d0e1c08c75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKRicZG0zywumPgVxoCPIw.png"/></div></div></figure><p id="9205" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在三世。第一步展示了如何使用<strong class="iz hj"> nlargest </strong>方法链接来选择前50首歌曲，我们可以使用sort_values()方法实现同样的效果</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ne"><img src="../Images/36076a995df02e6dca0bf3845dd9da8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PyYDKTatxr40S2q62qrdZA.png"/></div></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es nf"><img src="../Images/97c5dea68c5b201857e282632abd6631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*6hZr9RTIHxAJYFQwI6g2xw.png"/></div></figure><p id="ef19" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您也可以使用<strong class="iz hj">style . highlight</strong>方法高亮显示最大值、最小值和空值:</p><p id="f4b3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> drop_duplicates </strong>方法的默认行为是保留第一次出现的</p><p id="0fc4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">每个唯一的行，因为每个行都是唯一的，所以不会删除任何行。但是，subset参数改变了它，只考虑提供给它的列(或列列表)。在本例中，每个键只返回一行。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nd"><img src="../Images/4ac386a9735f9d772fb60d9b24ac82bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDMg5HAbPDemYKyS-mbP0g.png"/></div></div></figure></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="c10f" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">动词 （verb的缩写）选择方法-数据集的子集</h1><p id="6cb9" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">如上所述，减少任何函数内存占用的另一种方法是不处理整个数据集，而是处理子集。序列或数据帧中的每一维数据都通过索引对象来标记。正是这个索引将pandas数据结构从NumPy的n维数组中分离出来。</p><p id="d394" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Pandas允许用户通过行和列的整数位置来选择数据。这种双重选择功能，一个使用标签，另一个使用整数位置，为选择数据子集提供了强大但令人困惑的语法。</p><p id="49c9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> I .使用loc和iloc索引器的串行子集选择:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ng"><img src="../Images/79a0a3ca498aafb44050811f55dd7b03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mmSLm-lP4ZrZc_XJwBwX7g.png"/></div></div></figure><p id="f22f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">读取以标题为索引的网飞数据集，并使用索引运算符选择单个列持续时间作为序列:</p><p id="1b15" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了选择几个不同的整数位置，我向. iloc传递了一个列表。这将返回一个序列:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nh"><img src="../Images/0b3bd2b6393978838d7311d4b04db5f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2_b6M8KpS_7_Ec_oN4YcA.png"/></div></div></figure><p id="9bff" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了选择等间距的数据分区，我使用了切片符号:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ni"><img src="../Images/c905a93885b73a7c6e9129776e1f4b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJ1GNCHxaihlmf5eDYevMQ.png"/></div></div></figure><p id="7bf3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了选择几个不相交的标签，我使用了一个列表:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nh"><img src="../Images/a2eb8f927933ac4e0df843e1f7bf5e38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V-L32-h85riLrxXvj1neAA.png"/></div></div></figure><p id="40ce" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">二世。使用loc和iloc索引器在数据帧中选择子集:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nj"><img src="../Images/808f5c5c490fb7537696913039bf0159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gkl2PORAOi8u_ObRno__yQ.png"/></div></div></figure><p id="a2cf" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择数据帧行的最明确和首选的方法是使用。iloc和。锁定索引器。它们能够独立并同时选择行或列。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nj"><img src="../Images/e957c1beaabd3cd9e256c3f1211b39b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbPJ2H95Eo4ykZI3BxKcHw.png"/></div></div></figure><p id="3268" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将一个整数传递给。iloc索引器在该位置选择整行。</p><p id="64b2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我可以用loc。索引，以获得与上一步相同的行。</p><p id="b35b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了选择一组不连续的行作为数据帧，我向。iloc索引器，可直接从数据框中选择索引标签列表。</p><div class="kc kd ke kf fd ab cb"><figure class="mf kg nk mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/0e04c6d4afc86ad8b78a2341a7ca10fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*n3AFhzhiWqBGC4Cyg6eYPA.png"/></div></figure><figure class="mf kg nl mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/e20c0c3eb57ffb7e23794d2709b205f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1444/format:webp/1*WHOW8gh7P53wFQsUGUiq-A.png"/></div></figure></div><p id="486d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">三世。同时选择行和列</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ne"><img src="../Images/3259cebf88c75126042fb36589cf4704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4up93y-ez3_CFp3blMXt7A.png"/></div></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nm"><img src="../Images/a73b2a8d2979dbec50bca0740efc107a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6IKqKHkcapc0lbTu3IexZg.png"/></div></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nn"><img src="../Images/8e2d5a43a6d2c194f5d6a725e4239450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpVv8sIJfh8StD5RQLpsgg.png"/></div></div></figure><p id="b7de" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">直接使用索引运算符是从数据帧中选择一列或多列的正确方法。但是，它不允许您同时选择行和列。</p><p id="ebbd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">若要同时选择行和列，您需要将有效的行和列选择传递给。iloc或。锁定索引器。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="49ea" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">不及物动词加快甄选过程</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es no"><img src="../Images/8355d1ae62d23578df8ac55a99a2e859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e9OwjMIqw5ZiQ1xlCnuuag.png"/></div></div></figure><p id="fc0d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">两者都是。iloc和。loc索引器能够从序列或数据帧中选择单个元素，即标量值。然而，存在索引器。iat和。分别以更快的速度实现同样的事情。比如。国际劳工组织。iat索引器使用整数位置进行选择，必须向其传递两个用逗号分隔的整数。类似于。洛克。at index使用标签进行选择，必须向其传递由逗号分隔的索引和列标签。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="6b72" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">七。用iloc或loc索引器切片行</h1><p id="6137" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">选择行的快捷方式只有索引操作符本身。这只是显示pandas附加特性的一个快捷方式，但索引操作符的主要功能实际上是选择DataFrame列。如果要选择行，最好使用。iloc或。因为它们是明确的。</p><div class="kc kd ke kf fd ab cb"><figure class="mf kg np mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/f8f2f965d70fb6be80168ce49d926181.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*POln6ngXRJZgUwRkPt1iBw.png"/></div></figure><figure class="mf kg nq mh mi mj mk paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/8dbfad41743f41e58ae087da4bcf6027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*0XgolCfvbh_kD_Z7i0tCKg.png"/></div></figure></div></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="fa29" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">八。按字典顺序对行进行切片</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nr"><img src="../Images/3af532e8d6558b0ec2c4d2810501417f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X9FMK-BfFdXaahatQ6NKcg.png"/></div></div></figure><p id="bf3c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">的。loc索引器通常基于索引的确切字符串标签来选择数据。但是，它也允许您根据索引中值的字典顺序来选择数据。具体来说，。loc允许您使用切片表示法按字典顺序选择带有索引的所有行。这仅在索引已排序的情况下有效。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ns"><img src="../Images/153976038a032845e70101e2208ca539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0vv7tXl9q5zOTcJrpXDAJQ.png"/></div></div></figure></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="3b86" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">九。使用布尔索引器过滤数据</h1><p id="9329" class="pw-post-body-paragraph ix iy hi iz b ja ly ij jc jd lz im jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">从数据集中过滤数据是最常见的基本操作之一。有许多方法可以使用布尔索引来过滤(或子集)pandas中的数据。布尔索引是指通过为每行提供一个布尔值(真或假)来选择行。这些布尔值通常存储在一个系列或n维数组中，通常通过将布尔条件应用于数据帧中的一列或多列来创建。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nr"><img src="../Images/fece97de80e142d8a63923508288e360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLoRAwhnEVKKMSym47YqFQ.png"/></div></div></figure><p id="ed36" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建一个变量，将每组标准作为一个布尔序列独立保存，然后将所有标准组合成一个布尔序列。</p><p id="4af3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将数据传递给索引操作符，以获取过滤后的数据。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nt"><img src="../Images/aca8641f5767d9938ef2b3392f46abdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bJQWesBWsCPZCVxVF__COw.png"/></div></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nu"><img src="../Images/4267219284ddc3b6c1839c56755e3811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISgXCN1uDEkeJN0yems3nA.png"/></div></div></figure><p id="4f50" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">获得过滤后的数据后，我们可以用。iloc索引器</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="eb5c" class="lg lh hi bd li lj mw ll lm ln mx lp lq io my ip ls ir mz is lu iu na iv lw lx bi translated">X.沿着列寻找最常见的最大值</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nv"><img src="../Images/fa73744c23273d638c4568dc0ba51811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VnRUq8hWlIToYa-QHwhzlg.png"/></div></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nw"><img src="../Images/6b7e590a263ea8a5d3faad39dc3ec5fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L5fh3OhCS3rB85iFgpH1vA.png"/></div></div></figure><p id="efb4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Spotify数据集包含数千首歌曲，单独查看哪首歌曲在各个列中得分最高会很有趣，我们可以使用<strong class="iz hj"> idxmax方法( )来检查它。</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nv"><img src="../Images/4e127fb1a5258fba3233202db0c892de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1uGZNtZeELqalkPhy0wE2Q.png"/></div></div></figure></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="a44e" class="ix iy jw iz b ja jb ij jc jd je im jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="iz hj"> <em class="hi">这是我DataWrangling系列的第二贴，敬请期待。你可以在下面找到第一个帖子。</em> </strong></p></blockquote><div class="nx ny ez fb nz oa"><a rel="noopener follow" target="_blank" href="/geekculture/introduction-to-pandas-data-wrangling-series-1-a6b1862eb2fb"><div class="ob ab dw"><div class="oc ab od cl cj oe"><h2 class="bd hj fi z dy of ea eb og ed ef hh bi translated">熊猫图书馆分步编码指南</h2><div class="oh l"><h3 class="bd b fi z dy of ea eb og ed ef dx translated">Python的熊猫库初学者入门。一个简单的一步一步全面的编码指南，以获得…</h3></div><div class="oi l"><p class="bd b fp z dy of ea eb og ed ef dx translated">medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo kh oa"/></div></div></a></div><p id="d2c3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你好，我期待着你的评论和建议。<br/>善意的鼓掌，订阅，分享。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="ab fe cl op"><img src="../Images/9bf2ca8a7310a6fb8222b60cd3014e57.png" data-original-src="https://miro.medium.com/v2/format:webp/0*W-JuWGGPcKMl6BZv.png"/></div></figure></div></div>    
</body>
</html>