<html>
<head>
<title>The Beginners Guide to the Linux Kernel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux内核初学者指南</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-beginners-guide-to-the-linux-kernel-29743b1a2daf?source=collection_archive---------3-----------------------#2022-03-09">https://medium.com/geekculture/the-beginners-guide-to-the-linux-kernel-29743b1a2daf?source=collection_archive---------3-----------------------#2022-03-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="eb31" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">5分钟学会Linux</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/01d263f7e9178ee03e26be9ac2378b53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CS8SmVbBbn97CpLcM8M0Qw.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Wallpaper from getwallpapers.com</figcaption></figure><p id="5420" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为了开发一个设备驱动程序，你需要了解Linux。初学者可能很难理解什么是Linux。有一种普遍的误解，认为Linux是一种操作系统。然而，事实远非如此。</p><p id="985e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这是Linux内核的初学者指南。</p><h2 id="3160" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">什么是Linux？</h2><p id="c1e6" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">许多人将Linux混淆为计算机的操作系统。Linux实际上是操作系统的内核。GNU是命令行工具。从技术上讲，每个包含Linux的操作系统发行版都是唯一的，因为操作系统的名称是GNU/Linux/每个已安装的软件包或GNU+Linux+每个已安装的软件包。但是，大多数人都把发行版的名字缩写成像Debian或者Manjaro。</p><h2 id="8196" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">内核是做什么的？</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lj"><img src="../Images/c3be6eb87b5717634ae1c6592158afc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/1*MJ1YoayCcOCZbjB-hG5rTw.gif"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Figure 1 from quora.com</figcaption></figure><p id="e3aa" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">内核是位于软件和内部/外部硬件之间的一层，并在这些层之间执行通信。如果这一层不存在，就会发生灾难。把它想象成一个没有排队的快餐连锁店。所有的订单都会随机进来，也会随机出去。因此，创建了一个队列来系统地管理所有呼叫，以确保您的系统有序运行。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/9342ae7c4642ed724e09dc550f079e67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lGPNYx5j_C0a_nWVgMhmnw.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Figure 2 from medium.com</figcaption></figure><p id="7942" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">内核还控制进程的内存管理。在经典计算机中，有两种类型的内存。这些内存被称为<strong class="jp hj">堆栈</strong>和<strong class="jp hj">堆</strong>。当你分配一个变量时，系统调用将自动与内核通信，在堆栈上分配变量。然而，堆栈空间有限，因此必须在堆上分配大的项。根据编程语言的不同，您可能需要手动调用堆的分配。其他语言会动态地这样做。然而，重要的是内核将总是执行内存分配。</p><p id="7dc6" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">内核还控制进程管理。每一个在后台持续运行的程序都是一个进程。当一个程序派生另一个程序时，它将与内核通信来分配另一个进程。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ll"><img src="../Images/e5ae3b39320269d8988a46c61412c4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*1uvJ01nucIkhoEHg2uJb8g.gif"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Figure 3 from asmed.com</figcaption></figure><p id="b39d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">内核还管理操作系统的安全性。这可以防止恶意应用程序访问未经授权的硬件和系统软件。</p><p id="35de" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">总的来说，内核有4个任务:</p><ol class=""><li id="bab0" class="lm ln hi jp b jq jr jt ju jw lo ka lp ke lq ki lr ls lt lu bi translated"><strong class="jp hj">内存管理</strong>:跟踪分配给进程的内存</li><li id="f094" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki lr ls lt lu bi translated"><strong class="jp hj">进程管理</strong>:确定CPU上的进程</li><li id="6e8d" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki lr ls lt lu bi translated"><strong class="jp hj">设备驱动</strong>:充当外部硬件和软件之间的中间件</li><li id="2fed" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki lr ls lt lu bi translated"><strong class="jp hj">系统调用和安全</strong>:防止环路升级</li></ol><h2 id="fc1d" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">如何定制和编译一个内核？</h2><p id="1b76" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">与Windows内核不同，Linux内核是开源的。这意味着公司和大学将直接在内核上工作，而不是创建模块化驱动程序。因此，与其去网站安装像Windows plebs这样的驱动程序。您可以直接进入内核并启用内核中的特性。</p><p id="bd0b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">每个Linux操作系统可能都有自己下载、定制、编译和安装Linux内核的方式。以下是执行这些操作的步骤。</p><p id="f09f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">从您的操作系统的软件包管理器中安装以下Debian软件包。</p><ul class=""><li id="94d1" class="lm ln hi jp b jq jr jt ju jw lo ka lp ke lq ki ma ls lt lu bi translated">fakeroot</li><li id="16c2" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">饭桶</li><li id="0c06" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">构建-基本</li><li id="ebb6" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">ncurses-dev</li><li id="d28a" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">xz-utils</li><li id="bea6" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">libssl-dev</li><li id="0926" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">公元前</li><li id="2490" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">弯曲</li><li id="cc0c" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">自由发展</li><li id="9f77" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated">野牛</li></ul><pre class="iy iz ja jb fd mb mc md me aw mf bi"><span id="3989" class="kj kk hi mc b fi mg mh l mi mj"># Download Kernel<br/>wget <a class="ae mk" href="https://git.kernel.org/torvalds/t/linux-[version].tar.gz" rel="noopener ugc nofollow" target="_blank">https://git.kernel.org/torvalds/t/linux-[version].tar.gz</a></span><span id="31f6" class="kj kk hi mc b fi ml mh l mi mj"># Extract the source<br/>tar xvzf linux-[version].tar.gz</span><span id="26ce" class="kj kk hi mc b fi ml mh l mi mj"># Configure the kernel<br/>make menuconfig</span></pre><p id="7494" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为什么您会对配置内核感兴趣？</p><p id="39d8" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">大多数Linux发行版内核都是通用的。这意味着他们将支持尽可能多的硬件配置。内核将使用更多的RAM和CPU时钟周期来支持您可能不使用的功能。不仅如此，它还会增加攻击面矢量。攻击表面矢量是黑客可以用来利用系统的表面面积。表面积越大，你就越有可能被攻击。因此，为了解决这些问题，内核工程师着眼于为他们正在运行的设备优化内核。</p><pre class="iy iz ja jb fd mb mc md me aw mf bi"><span id="a4fa" class="kj kk hi mc b fi mg mh l mi mj"># Install any modules you've enabled<br/>make modules_installed</span><span id="ab59" class="kj kk hi mc b fi ml mh l mi mj"># Install the kernel<br/>sudo make install</span><span id="75f8" class="kj kk hi mc b fi ml mh l mi mj"># Enable the kernel for boot<br/>sudo update-initramfs -c -k [kernel_version]<br/>sudo update-grub</span></pre><p id="784d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">总之，请确保您知道如何在您的操作系统上下载、配置、编译和安装内核。</p><p id="5902" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">如何在内核上工作？</strong></p><p id="425e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">任何人都可以为Linux内核做出贡献。是的，甚至你也可以为内核做贡献。通常，大多数人会为他们的设备添加驱动程序可比性。</p><p id="fccc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">只要按照这个指南来创建一个开源的Linux内核。</p><div class="mm mn ez fb mo mp"><a href="https://opensource.com/article/18/8/first-linux-kernel-patch" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">提交第一个Linux内核补丁的清单</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">最大的——也是发展最快的——开源项目之一，Linux内核，由大约53，600个文件和……</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">opensource.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd jh mp"/></div></div></a></div><h2 id="799a" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">如何创建内核模块？</h2><p id="e2cf" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">一些公司不顾一切地保持他们代码的私有性，除非他们的代码被混淆，否则他们不会为内核开发。我说的是英伟达。为了取悦科技公司并保持Linux作为主要的服务器内核，Linux的创造者增加了模块特性，允许人们创建非自由驱动程序。</p><p id="b513" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">下面是创建Linux内核模块的指南。</p><div class="mm mn ez fb mo mp"><a href="https://blog.sourcerer.io/writing-a-simple-linux-kernel-module-d9dc3762c234" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">编写一个简单的Linux内核模块</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">抢夺金戒指-0</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">blog . sourcer . io</p></div></div><div class="my l"><div class="ne l na nb nc my nd jh mp"/></div></div></a></div><h2 id="d267" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">Windows会采用Linux内核吗？</h2><div class="mm mn ez fb mo mp"><a href="https://www.overclock3d.net/news/software/microsoft_plans_to_ship_the_linux_kernel_with_windows_to_woo_mac_developers/1" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">微软计划将Linux内核与Windows一起发布，以吸引Mac开发者</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">微软计划将Linux内核与Windows一起发布，以吸引Mac开发者。近年来，微软已开始…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">www.overclock3d.net</p></div></div><div class="my l"><div class="nf l na nb nc my nd jh mp"/></div></div></a></div><p id="9fe1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们可能会看到Windows运行Linux内核的未来。质子兼容层已经成功地将Windows内核调用转换为针对旧应用程序的Linux内核调用。质子开发团队正在增加对新应用程序的支持。</p><div class="mm mn ez fb mo mp"><a href="https://www.protondb.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">ProtonDB |使用Proton和Steam Play的Linux游戏报告</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">在Linux上玩Windows游戏的质子和蒸汽玩游戏报告</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">www.protondb.com</p></div></div><div class="my l"><div class="ng l na nb nc my nd jh mp"/></div></div></a></div><p id="1aa1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">留下你认为这是好事还是坏事的评论。此外，留下评论，说明指南的哪些部分可以改进。在你不理解的地方留下私人笔记。</p><p id="610e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">IT和工程领域是快速发展的领域。跟不上意味着你将被落在后面。跟上的最好方法是保持最新的新闻和教育内容。<a class="ae mk" rel="noopener" href="/subscribe/@dretechtips">订阅免费电子邮件列表，将您的职业生涯提升10倍。</a></p><p id="f6a1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">加入我们吧，因为50多位想要快速提升职业生涯和知识基础的人已经注册了。</strong></p><p id="1ce3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">相关内容:</strong></p><ul class=""><li id="4278" class="lm ln hi jp b jq jr jt ju jw lo ka lp ke lq ki ma ls lt lu bi translated"><a class="ae mk" rel="noopener" href="/geekculture/how-to-automate-tasks-in-linux-bsd-91d0b0560f5">如何在Linux/BSD中实现任务自动化？</a></li><li id="36b0" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated"><a class="ae mk" rel="noopener" href="/geekculture/unix-file-system-explained-9d3554de9d46">Unix文件系统讲解</a></li><li id="d81a" class="lm ln hi jp b jq lv jt lw jw lx ka ly ke lz ki ma ls lt lu bi translated"><a class="ae mk" rel="noopener" href="/@drechang/how-to-reset-the-root-password-on-any-linux-os-7b2075eed7dc">如何在Linux OS上重置root密码？</a></li></ul></div></div>    
</body>
</html>