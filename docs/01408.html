<html>
<head>
<title>Making Your Own Chatroom: Sockets in Python, JavaScript &amp; HTML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建自己的聊天室:Python、JavaScript和HTML中的套接字</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/making-your-own-chatroom-sockets-in-python-javascript-html-ac14c2870064?source=collection_archive---------8-----------------------#2021-04-09">https://medium.com/geekculture/making-your-own-chatroom-sockets-in-python-javascript-html-ac14c2870064?source=collection_archive---------8-----------------------#2021-04-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e1d8a42626d3954e2b140133f1f8d6ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iljw0HMdYyWnzLURwiV-ng.png"/></div></div></figure><p id="f700" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">联系和沟通是成功的关键因素！我们生活的方方面面都离不开通信，从日常谈话到航空公司、国防，一切都严重依赖网络。</p><p id="8fb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是如此重要，没有定期的沟通，我们的生活将无法立足。所以今天我们将看看如何建立我们自己的聊天室，可以连接世界各地的多个用户！</p><p id="44e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用python制作服务器，HTML、Javascript制作客户端。</p><p id="7bf3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以让我们开始编码吧！(我只专注于实现而不是外表，你们比我更有创造力！:D)</p><p id="48ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们先来看看文件结构</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="8455" class="jx jy hi jt b fi jz ka l kb kc">Chatroom_Client_Server<br/>|_____Static<br/>|     |__js<br/>|        |______socket.io.js<br/>|        |______socket.io.js.map<br/>|_____Templates<br/>|     |_________client.html<br/>|_____server.py</span></pre><p id="0341" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我将实现服务器:</p><p id="8d29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">必要模块:</p><ol class=""><li id="9579" class="kd ke hi is b it iu ix iy jb kf jf kg jj kh jn ki kj kk kl bi translated">瓶</li><li id="874d" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">烧瓶浸泡</li><li id="228a" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">小事件</li><li id="3ffd" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">格尼科恩</li></ol><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="a8c7" class="jx jy hi jt b fi jz ka l kb kc">from flask import Flask, request, render_template<br/>from flask_socketio import SocketIO, emit</span><span id="4e0c" class="jx jy hi jt b fi kr ka l kb kc">app = Flask(__name__)<br/>socket = SocketIO(app)</span><span id="fffc" class="jx jy hi jt b fi kr ka l kb kc"><a class="ae ks" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')<br/>def index():<br/>    return render_template('client.html')</span><span id="a2f1" class="jx jy hi jt b fi kr ka l kb kc"><a class="ae ks" href="http://twitter.com/socket" rel="noopener ugc nofollow" target="_blank">@socket</a>.on('connect')<br/>def connect():<br/>    print("[CLIENT CONNECTED]:", request.sid)</span><span id="fa5d" class="jx jy hi jt b fi kr ka l kb kc"><a class="ae ks" href="http://twitter.com/socket" rel="noopener ugc nofollow" target="_blank">@socket</a>.on('disconnect')<br/>def disconn():<br/>    print("[CLIENT DISCONNECTED]:", request.sid)</span><span id="1d05" class="jx jy hi jt b fi kr ka l kb kc"><a class="ae ks" href="http://twitter.com/socket" rel="noopener ugc nofollow" target="_blank">@socket</a>.on('notify')<br/>def notify(user):<br/>    emit('notify', user, broadcast=True, skip_sid=request.sid)</span><span id="5ada" class="jx jy hi jt b fi kr ka l kb kc"><a class="ae ks" href="http://twitter.com/socket" rel="noopener ugc nofollow" target="_blank">@socket</a>.on('data')<br/>def emitback(data):<br/>    emit('returndata', data, broadcast=True)</span><span id="2f4e" class="jx jy hi jt b fi kr ka l kb kc">if __name__ == "__main__":<br/>    socket.run(app)</span></pre><p id="3628" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们创建了一个基本的flask应用程序，并在用户登陆URL时呈现client.html页面。(稍后我们将对此进行说明)；我们通过app.route('/')来实现这一点，然后为它定义一个函数' index()'。</p><p id="0d5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建一个名为“socket”的套接字变量。因此，我们在这里处理事件，服务器和客户端都可以发出主要由两部分组成的信号(事件名称、数据)。因此，每当我们需要传输数据时，我们就会发出信号。</p><p id="ca4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#当服务器收到来自客户端的连接信号请求时，它会在控制台中显示客户端已连接及其会话id。</p><p id="369f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#断开信号请求的情况也是如此。</p><p id="03db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#当用户连接时，客户端将发送“通知”事件，表明他已加入聊天。因此，notify()函数从客户机获取一个字符串，并将其广播给除加入的客户机之外的所有客户机。我们使用emit(event_name，data，broadcast，skip_sid)函数发出信号。</p><p id="13fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#每当任何用户发送消息时，该消息都使用“数据”事件发送到服务器。服务器使用接受字符串的函数emitback(data)将数据发送回所有连接的客户端。在函数中，服务器发出一个事件“returndata ”,将数据返回给所有客户端。</p><p id="a2c3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#最后，我们使用socket.run(app)运行应用程序。这里“socket”是在开始时创建的套接字变量，而“app”是flask app的变量。</p><p id="6aeb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们的，服务器完成了！！</p><p id="e4cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们将使用基本的HTML和Javascript构建客户端。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="9f0f" class="jx jy hi jt b fi jz ka l kb kc">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>&lt;head&gt;<br/>    <br/>    &lt;title&gt;ChatRoom&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;</span><span id="9f32" class="jx jy hi jt b fi kr ka l kb kc">&lt;h3&gt;Welcome to my chatroom&lt;/h3&gt;<br/>    &lt;div id="chat" style="width: 500px; height: 400px; border: 1px solid black; overflow-y: scroll;"&gt;&lt;/div&gt;<br/>    &lt;br&gt;<br/>    &lt;input type="text" id="inp_message" placeholder="Enter message" disabled&gt;<br/>    &lt;button type="submit" id="send" disabled&gt;Send&lt;/button&gt;<br/>    &lt;p&gt;Enter user name: &lt;/p&gt; &lt;input type="text" id="username" placeholder="Enter an username"&gt;<br/>    &lt;button type="submit" id="connect"&gt;Connect&lt;/button&gt;<br/>    &lt;button type="submit" id="disconnect" disabled&gt;Disconnect&lt;/button&gt;<br/>    <br/>    &lt;script src="../static/js/jquery-3.6.0.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="../static/js/socket.io.js"&gt;&lt;/script&gt;<br/>    &lt;script&gt;</span><span id="829b" class="jx jy hi jt b fi kr ka l kb kc">let chat = document.getElementById('chat');<br/>        let inp_message = document.getElementById('inp_message');<br/>        let send = document.getElementById('send');<br/>        let username = document.getElementById('username');<br/>        let btn_connect = document.getElementById('connect');<br/>        let btn_disconnect = document.getElementById('disconnect');<br/>        var user = username.value;<br/>        let socket = io({autoConnect: false});</span><span id="bb8d" class="jx jy hi jt b fi kr ka l kb kc">btn_connect.onclick = function(){<br/>            if(username.value != ""){<br/>                socket.connect();<br/>            }<br/>            else{<br/>                alert("Please enter an username!");<br/>                console.log("Please enter an username!");<br/>            }<br/>        };<br/>        <br/>        socket.on('connect', function(){<br/>            inp_message.disabled = false;               <br/>            send.disabled = false;                      <br/>            username.disabled = true;                   <br/>            btn_connect.disabled = true;                <br/>            user = username.value;                      <br/>            socket.emit('notify', user + " joined!");   <br/>            btn_disconnect.disabled = false;</span><span id="28bf" class="jx jy hi jt b fi kr ka l kb kc">ptag = document.createElement('p');<br/>            ptag.innerHTML = "You joined!";<br/>            chat.appendChild(ptag);</span><span id="2965" class="jx jy hi jt b fi kr ka l kb kc">console.log("Connected to server!");<br/>        });</span><span id="1a9c" class="jx jy hi jt b fi kr ka l kb kc">socket.on('disconnect', function(){<br/>            ptag = document.createElement('p');<br/>            ptag.innerHTML = "You left!";<br/>            chat.appendChild(ptag);</span><span id="1e39" class="jx jy hi jt b fi kr ka l kb kc">console.log('Disconnected to server!')<br/>            inp_message.disabled = true;               <br/>            send.disabled = true;                      <br/>            username.disabled = false;              <br/>            btn_connect.disabled = false;           <br/>            btn_disconnect.disabled = true          <br/>            socket.close();<br/>        });</span><span id="569a" class="jx jy hi jt b fi kr ka l kb kc">socket.on('notify', function(status){<br/>            ptag = document.createElement('p');<br/>            ptag.innerHTML = status;<br/>            chat.appendChild(ptag);<br/>        });</span><span id="f99f" class="jx jy hi jt b fi kr ka l kb kc">btn_disconnect.onclick = function(){<br/>            socket.emit('notify', user + " left!");   <br/>            socket.close();<br/>        };</span><span id="8c11" class="jx jy hi jt b fi kr ka l kb kc">send.onclick = function(){<br/>            socket.emit('data', "["+user+"]: " + inp_message.value);<br/>            inp_message.value = "";<br/>        };</span><span id="11ca" class="jx jy hi jt b fi kr ka l kb kc">socket.on('returndata', function(data){<br/>            ptag = document.createElement('p');<br/>            ptag.innerHTML = data;<br/>            chat.appendChild(ptag);<br/>        });</span><span id="3408" class="jx jy hi jt b fi kr ka l kb kc">&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="92e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">HTML代码对于脚本标签来说是不言自明的！</p><p id="1f8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以我从脚本标签解释。您必须同时包含socket.io.js和socket.io.js.map文件。我会给出下载链接。你必须通过右键点击来保存它。(如果您愿意，您可以包含socket.io的CDN，那么您不需要包含socket.io.js &amp; socket.io.js.map文件)。</p><p id="e2a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">socket.io.js的链接:<a class="ae ks" href="https://raw.githubusercontent.com/socketio/socket.io-client/master/dist/socket.io.js" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/socket io/socket . io-client/master/dist/socket . io . js</a></p><p id="05bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">socket.io.js.map的链接:<a class="ae ks" href="https://raw.githubusercontent.com/socketio/socket.io-client/master/dist/socket.io.js.map" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/socket io/socket . io-client/master/dist/socket . io . js . map</a></p><p id="1189" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#我们通过以下代码获取HTML元素和值:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="841a" class="jx jy hi jt b fi jz ka l kb kc">let chat = document.getElementById('chat');<br/>let inp_message = document.getElementById('inp_message');<br/>let send = document.getElementById('send');<br/>let username = document.getElementById('username');<br/>let btn_connect = document.getElementById('connect');<br/>let btn_disconnect = document.getElementById('disconnect');<br/>var user = username.value;</span></pre><p id="4506" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#我们创建一个名为“socket”的套接字变量并传递一个参数，这样它就不会自动连接</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="f243" class="jx jy hi jt b fi jz ka l kb kc">let socket = io({autoConnect: false});</span></pre><p id="2c48" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#输入用户名并单击连接按钮后，套接字必须连接到服务器，否则会弹出一个必须输入用户名的弹出窗口。我们通过以下代码来实现这一点:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="29e5" class="jx jy hi jt b fi jz ka l kb kc">btn_connect.onclick = function(){<br/>    if(username.value != ""){<br/>        socket.connect();<br/>    }<br/>    else{<br/>        alert("Please enter an username!");<br/>        console.log("Please enter an username!");<br/>    }<br/>};</span></pre><p id="b973" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#当用户成功连接时，启用发送消息的文本区域，启用发送按钮，禁用用户名的输入字段，禁用连接按钮，将用户名保存在名为“user”的变量中，发出信号“notify”，启用断开按钮，创建一个段落标记并将其附加到聊天区域(div元素)</p><p id="bb82" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们通过以下代码来实现这一点:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="c2cf" class="jx jy hi jt b fi jz ka l kb kc">socket.on('connect', function(){<br/>    inp_message.disabled = false;               <br/>    send.disabled = false;                      <br/>    username.disabled = true;                   <br/>    btn_connect.disabled = true;                <br/>    user = username.value;                      <br/>    socket.emit('notify', user + " joined!");   <br/>    btn_disconnect.disabled = false;</span><span id="fb2f" class="jx jy hi jt b fi kr ka l kb kc">ptag = document.createElement('p');<br/>    ptag.innerHTML = "You joined!";<br/>    chat.appendChild(ptag);</span><span id="aa13" class="jx jy hi jt b fi kr ka l kb kc">console.log("Connected to server!");<br/>});</span></pre><p id="8e5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#当用户从服务器断开连接时，我们创建一个段落标记并将其附加到聊天部分，禁用输入消息文本区域，禁用发送按钮，启用用户名输入字段，启用连接按钮，禁用断开按钮。</p><p id="df05" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们通过下面的代码做到这一点</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="24e1" class="jx jy hi jt b fi jz ka l kb kc">socket.on('disconnect', function(){<br/>    ptag = document.createElement('p');<br/>    ptag.innerHTML = "You left!";<br/>    chat.appendChild(ptag);</span><span id="d4ef" class="jx jy hi jt b fi kr ka l kb kc">console.log('Disconnected to server!')<br/>    inp_message.disabled = true;               <br/>    send.disabled = true;                      <br/>    username.disabled = false;              <br/>    btn_connect.disabled = false;           <br/>    btn_disconnect.disabled = true          <br/>    socket.close();<br/>});</span></pre><p id="32a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#但我们如何分离？？通过点击断开按钮。当我们点击这个按钮时，一个“通知”事件被发送到服务器，以便它可以向每个连接的用户广播您已经离开聊天。最后，我们关闭套接字连接。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="4fb0" class="jx jy hi jt b fi jz ka l kb kc">btn_disconnect.onclick = function(){<br/>    socket.emit('notify', user + " left!");<br/>    socket.close();<br/>};</span></pre><p id="f3f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#现在，如果您注意到当客户端连接时，服务器会向每个客户端发送一个“通知”事件，告知用户已加入聊天。它将接收一个字符串，并创建一个段落标签，并将其附加到聊天部分。</p><p id="bc05" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们使用下面的代码实现了这一点</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="e5e7" class="jx jy hi jt b fi jz ka l kb kc">socket.on('notify', function(status){<br/>    ptag = document.createElement('p');<br/>    ptag.innerHTML = status;<br/>    chat.appendChild(ptag);<br/>});</span></pre><p id="43e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#每当用户点击发送按钮，它必须发送消息给每个连接的用户。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="e7f7" class="jx jy hi jt b fi jz ka l kb kc">send.onclick = function(){<br/>    socket.emit('data', "["+user+"]: " + inp_message.value);<br/>    inp_message.value = "";<br/>};</span></pre><p id="da3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#最后，来自服务器的消息需要从用户侧接收。因此，当我们从服务器获得“returndata”事件时，它必须创建一个段落标记；将消息添加到<p>标签中，并添加到聊天部分。</p></p><p id="9ee9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以用代码做到这一点</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="1387" class="jx jy hi jt b fi jz ka l kb kc">socket.on('returndata', function(data){<br/>    ptag = document.createElement('p');<br/>    ptag.innerHTML = data;<br/>    chat.appendChild(ptag);<br/>});</span></pre><p id="122d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这样我们就完成了一个真实的生活，工作聊天室，用户可以连接到它在世界上任何地方！！</p><p id="0890" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，正如我所说的，用户可以从任何地方连接，但在此之前，你必须将其部署在某个地方。因此，如果您想要部署，只需将以下文件添加到您现有的目录中。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="7c3f" class="jx jy hi jt b fi jz ka l kb kc">Chatroom_Client_Server<br/>|_____Static<br/>|     |__js<br/>|        |______socket.io.js<br/>|        |______socket.io.js.map<br/>|_____Templates<br/>|     |_________client.html<br/>|_____server.py<br/>|_____Procfile<br/>|_____requirements.txt<br/>|_____runtime.txt</span></pre><p id="3966" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"># Procfile(其扩展名不是。txt，是一个没有扩展名的文件。您可以使用任何IDE创建它，或者如果您使用linux，则使用“touch”命令)</p><p id="8895" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Procfile中添加以下内容；“服务器”是您的python文件的名称。如果您使用其他名称命名python文件，请将其替换为您的python文件名。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="5ebc" class="jx jy hi jt b fi jz ka l kb kc">web: gunicorn --worker-class eventlet -w 1 server:app</span></pre><p id="d242" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"># requirements.txt</p><p id="ae39" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在命令提示符下使用以下命令创建您的requirements txt文件(使用“cd”更改项目文件夹内的目录)，或者您可以键入创建项目所需的模块的名称。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="5b74" class="jx jy hi jt b fi jz ka l kb kc">pip freeze &gt; requirements.txt</span></pre><p id="d6ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"># runtime.txt</p><p id="23b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个文件中写下将要使用的python版本。在这种情况下，我的python版本是3.9.2。所以按照你的版本写下以下内容。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="c1bb" class="jx jy hi jt b fi jz ka l kb kc">python-3.9.2</span></pre><p id="56d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以我们完了！！现在你要把这些文件推到你的GitHub里，把你的GitHub和你的Heroku账号连接起来。并部署它。</p><p id="8ab7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我给它将如何看截图。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/995338529ea3b5aeb93a598797194d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2w3qoZnpAfFKGL-35V1Udg.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx">Demo: Chatroom based on client-server model</figcaption></figure><p id="128a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜你已经建立了自己的聊天室！</p><p id="2f7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要了解更多关于socket的信息，请访问:<a class="ae ks" href="https://www.youtube.com/watch?v=PlylJnrS4zI&amp;list=PLxcjK2sZUphSQ79prVNzNjggHuRIv8RoZ" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=PlylJnrS4zI&amp;list = plxcjk 2 szupsq 79 prvnznjgghuriv 8 roz</a></p></div></div>    
</body>
</html>