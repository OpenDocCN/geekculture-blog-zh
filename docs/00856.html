<html>
<head>
<title>How to Ensure Code Quality While Shipping Fast</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在快速发货的同时保证代码质量</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-maintain-a-healthy-codebase-while-shipping-fast-3b548baa10b2?source=collection_archive---------26-----------------------#2021-03-15">https://medium.com/geekculture/how-to-maintain-a-healthy-codebase-while-shipping-fast-3b548baa10b2?source=collection_archive---------26-----------------------#2021-03-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/36ef0b74f8057e324e497ca9b5147ca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*noNAPXiTjNJRaB9BLPmzow.jpeg"/></div></div></figure><p id="7ad6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们习惯于认为你不能快速交付并维护一个健康的代码库。但这真的是一种交换吗？</p><p id="e05c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在构建Stepsize时最大的特权之一就是从数百个世界上最好的工程团队那里听到他们如何在保持健康代码库的同时发布软件。</p><p id="f62d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">没错，这些团队走得更快，因为他们恰当地管理了技术债务。我们如此习惯于质量与成本的权衡，以至于这种说法听起来像是谎言——你不可能既快又保持健康的代码库。</p><p id="59fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">马丁·福勒在他的文章《T2》中很好地驳斥了这一观点，高质量的软件值这个价吗？’。剧透:</p><blockquote class="jq jr js"><p id="3dc5" class="iq ir jo is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi">高质量的软件实际上生产起来更便宜。</em> </strong></p></blockquote><p id="336c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将在这篇文章中讲述的经验是从我采访的300多名软件工程师几个世纪的经验中总结出来的。</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/dfb86cc229443bd2fa953a620aba3375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*PcHR74EZVPxgVE69a6hvlA.png"/></div></figure><h1 id="de95" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">何必呢？</h1><p id="e968" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">正如Adam Tornhill和我最近在我们的<a class="ae jp" href="https://www.stepsize.com/blog/ask-me-anything-technical-debt" rel="noopener ugc nofollow" target="_blank">网上研讨会</a>中讨论的那样，软件已经很好地、真正地吃掉了世界。听着，如果你在这里，这可能对你来说是老生常谈。在这种情况下，是因为这是真的。环顾四周，你能说出一个不需要某种形式的软件干预就能生产、购买或交付给你的物品吗？</p><p id="b2d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">软件公司的生死取决于其软件的质量和交付速度。</p><p id="c670" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Stripe发现“工程师花33%的时间处理技术债务”。Gartner发现，管理技术债务的公司比没有管理技术债务的公司多出货50%。这些数据看起来有点枯燥，但我们凭直觉知道它们是真实的。有多少次我们估计一个特性会在一个sprint中交付，结果却用了两个？现在，花一点时间来推断和思考这将在一年、两年或整个生命周期内对你的公司产生的影响。</p><p id="501d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">管理技术债得当的<strong class="is hj">公司简单赢了还不清楚吗？</strong></p><h1 id="d721" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">实现这些结果的简单框架</h1><p id="0978" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">在谷歌上搜索“技术债务类型”,你会发现大量作者撰写的关于代码债务、设计债务、架构债务、流程债务、基础设施债务的文章——这种债务那种债务。</p><p id="adc5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些文章是有帮助的，因为它们可以训练你在遇到技术债务时识别它，但它们不会帮助你决定如何处理每一笔债务，更不用说如何作为一家公司管理技术债务了。</p><p id="d86c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">唯一重要的是你面对的是小额、中型还是大额债务。</p><h1 id="d31d" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">小额债务的流程</h1><p id="be4f" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">这是一种技术债务，只要工程师在代码中发现它，就可以立即处理——快速重构或变量重命名。工程师不需要任何人的批准来做这件事，或者为它创建一个优先处理的标签。应用鲍勃叔叔创造的童子军规则只是他们工作的一部分:</p><blockquote class="jq jr js"><p id="65a2" class="iq ir jo is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">总是让代码比你发现的更好。</p></blockquote><p id="6643" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我采访过的每家科技债务得到控制的软件公司的赌注表。它主要是由工程文化驱动的，在PRs或linters中得到执行，并且人们理解，当每个个体贡献者遇到小块债务时，处理它们是他们的责任。</p><h1 id="2191" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">中型债务的流程</h1><p id="8eac" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我采访过的优秀员工强调持续解决技术债务的重要性，而不是在大项目中解决。</p><blockquote class="le"><p id="e68c" class="lf lg hi bd lh li lj lk ll lm ln jn dx translated">还清技术债是一个过程，不是一个项目。</p></blockquote><p id="280c" class="pw-post-body-paragraph iq ir hi is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">您不希望每隔三到五年就需要停止所有特性开发来重写整个应用程序。</p><p id="cc68" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是为什么这些团队<strong class="is hj">将每个sprint </strong>的10-30%用于解决技术债务的维护工作。我把作为这一过程的一部分浮出水面并得到解决的科技债务称为中等规模债务。</p><p id="95a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要确定你的sprint分配给技术债务的比例，只需找到你要用特性工作修改的代码库部分和你最糟糕的技术债务所在的代码库部分之间的重叠部分。然后，您可以确定技术债务工作的范围，并相应地分配资源。一些团队甚至扩大了他们特色工作的范围，包括相关的<a class="ae jp" href="https://www.stepsize.com/blog/how-to-stop-wasting-engineering-time-on-technical-debt" rel="noopener ugc nofollow" target="_blank">技术债务清理</a>。</p><p id="dbb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要做到这一点，个人贡献者需要随时跟踪中等规模的债务。然后，<strong class="is hj">团队领导的</strong>的责任是优先处理这份技术债务清单，并在sprint规划之前与<strong class="is hj">产品经理</strong>进行讨论，以便有效地分配工程资源。</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/a9f29a53314147533637eed361f05286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*7dM0HHLWCgwhwQKc.jpeg"/></div></figure><h1 id="38b1" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">大额债务的流程</h1><p id="c066" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">偶尔，你的团队会意识到，他们遇到的一些中等规模的债务实际上是由于更大的债务。例如，他们可能意识到前端代码性能低下的原因是因为他们应该使用不同的框架来完成工作。</p><p id="9dbc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果置之不理，这些巨额债务可能会引发巨大的问题，而且像所有的科技债务一样，随着时间的推移，情况会变得更糟。</p><p id="ef8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我采访过的最好的公司都有每月或每季度的技术规划会议，所有的工程和产品领导都参加。根据公司的规模，<strong class="is hj">的员工工程师、首席工程师和/或工程经理</strong>负责汇总技术提案，为每一笔大额债务列出问题、解决方案和商业案例。然后，工程和产品领导会对这些进行审核，优先考虑的项目会添加到路线图中。</p><h1 id="e1eb" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">如何实现这一点</h1><p id="1d2e" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">为了能够运行这一过程，<strong class="is hj">你需要了解你的科技债务。</strong>这些是工程团队管理技术债务最常用的工具:</p><ul class=""><li id="8de4" class="lt lu hi is b it iu ix iy jb lv jf lw jj lx jn ly lz ma mb bi translated"><strong class="is hj">文档</strong></li></ul><p id="e11e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">许多团队使用wiki页面、Trello板或<a class="ae jp" href="https://stepsize.hubspotpagebuilder.com/free-spreadsheet-to-manage-technical-debt" rel="noopener ugc nofollow" target="_blank"> Excel电子表格</a>来记录技术债务问题。这样的文档有助于跨团队带来技术债务的可见性。</p><ul class=""><li id="684b" class="lt lu hi is b it iu ix iy jb lv jf lw jj lx jn ly lz ma mb bi translated"><strong class="is hj">项目管理工具</strong></li></ul><p id="dd26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">项目管理工具中的积压是所有组织中使用最多的工具，特别是吉拉、汉软和Excel。</p><p id="7ceb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">致力于技术债务问题是一种在你的代码库中编目和记录债务的方法。不幸的是，虽然聊胜于无，但这种积压可能很难维护，因为工程师会积累大量的重构数据，直到他们停止跟踪这些数据，因为他们注意到这些数据经常被淹没在噪音中或根本没有被优先考虑。</p><ul class=""><li id="b60b" class="lt lu hi is b it iu ix iy jb lv jf lw jj lx jn ly lz ma mb bi translated"><strong class="is hj">静态分析仪</strong></li></ul><p id="e6a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SonarQube、SonarGraph、Klockwork等工具用于分析源代码，寻找技术债务。这些工具使用定量数据来帮助开发人员识别代码库中可能存在技术债务的热点。它们的局限性之一是，它们不会帮助你识别跨越你的代码库的多个部分的中型到大型的债务，也不会为你提供真正理解每一个债务以及如何区分优先级并最终解决它所必需的背景。</p><ul class=""><li id="38cf" class="lt lu hi is b it iu ix iy jb lv jf lw jj lx jn ly lz ma mb bi translated"><strong class="is hj">技术债务管理</strong></li></ul><p id="416f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一种新的工具类别，专门用于填补上述其他工具没有解决的空白。我们已经建立了一个免费的<a class="ae jp" href="https://www.stepsize.com/" rel="noopener ugc nofollow" target="_blank"> Stepsize </a>工具，帮助工程师可以直接从他们的工作流程(代码编辑器、拉请求、Slack)中跟踪债务，这样你就可以看到你的债务。</p><h1 id="f3ac" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">关键外卖</h1><p id="0efe" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">如果你是一个从事年轻代码库工作的小型工程师团队，你可以从小处着手。应用<a class="ae jp" href="https://www.stepsize.com/blog/how-to-be-an-effective-boy-girl-scout-engineer" rel="noopener ugc nofollow" target="_blank">男孩/女孩童子军规则</a>，采用适当的代码质量和测试覆盖工具，并定期清理产品路线图中特性的债务。</p><p id="29c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你是一个较大的组织，希望在快速交付的同时确保代码质量，那么使用技术管理工具将是你的正确选择。</p></div></div>    
</body>
</html>