<html>
<head>
<title>Create a Simple Search Component in React.js using React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React钩子在React.js中创建一个简单的搜索组件</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-a-simple-search-component-in-react-js-using-react-hooks-710c1dfe8b58?source=collection_archive---------0-----------------------#2021-05-25">https://medium.com/geekculture/create-a-simple-search-component-in-react-js-using-react-hooks-710c1dfe8b58?source=collection_archive---------0-----------------------#2021-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="f415" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">关于在React中使用钩子构建动态搜索组件的简单教程</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/ac921414b8628b9540e350c62e6e40de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pNXrcgIUS8B4fc7x"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b461" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">任何网站最重要的组成部分之一就是它的搜索部分，它能立刻让用户体验变得更好，如果稍微用心一点，它也能把网站变成一个优秀的设计杰作。</p><p id="b55b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在本文中，我将制作一个搜索react组件，您可以轻松地将其集成到自己的React web应用程序中。搜索组件，即使有时看起来有点复杂，也是一个相当简单的组件，尤其是如果你懂一点React的话。</p><blockquote class="kk kl km"><p id="2eb4" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated"><em class="hi">当我第一次想做自己的搜索组件时，我不得不查看大量的文章，这些文章太复杂了，而且对一个简单的组件来说是不必要的复杂。</em></p><p id="9d00" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated"><em class="hi">所以，我将带你通过这几个简单的步骤，在React中自己制作一个搜索组件，并在最后提供一个Github repo。</em></p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h1 id="8f1a" class="ky kz hi bd la lb lc ld le lf lg lh li io lj ip lk ir ll is lm iu ln iv lo lp bi translated">设置项目</h1><h2 id="4ed5" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">先决条件</h2><ol class=""><li id="a8bd" class="me mf hi jq b jr mg ju mh jx mi kb mj kf mk kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">Node.js</code>安装在您的系统上</li><li id="2677" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">create-react-app</code>软件包已安装</li><li id="efe5" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated">优选地，IDE</li><li id="f091" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated">愿意在搜索组件上工作</li></ol><h2 id="652d" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">创建React应用程序</h2><p id="cfb5" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">首先，我们将在<code class="du mp mq mr ms b">create-react-app</code>包的帮助下创建一个React应用程序，因此我们运行以下命令:</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="4c74" class="lq kz hi ms b fi nf ng l nh ni">npx create-react-app react-search<br/>cd react-search</span></pre><p id="3a73" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这之后，我们还需要<code class="du mp mq mr ms b"><a class="ae jn" href="http://tachyons.io/" rel="noopener ugc nofollow" target="_blank">tachyons</a></code>(使用<code class="du mp mq mr ms b">tachyons</code>不是必须的，但是如果你不想在这里设计组件的样式)，所以我们使用yarn添加它，命令如下:</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="1671" class="lq kz hi ms b fi nf ng l nh ni">yarn add tachyons</span></pre><p id="6fcf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，您已经准备好开始开发React应用程序了。</p><h2 id="2d6e" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">清理杂物并设置应用程序(可选)</h2><p id="72fe" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">现在，您已经创建了您的应用程序，在IDE中打开您的工作文件夹，您会看到许多文件已经存在，但对于这个项目(通常是所有小规模项目)的范围，我们可以删除许多这些文件，使您的文件夹看起来更好一些。因此，删除项目的<code class="du mp mq mr ms b">src</code>文件夹中的这些文件:</p><ol class=""><li id="6c08" class="me mf hi jq b jr js ju jv jx nj kb nk kf nl kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">App.test</code></li><li id="c219" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">App.css</code></li><li id="3352" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">index.css</code></li><li id="a22c" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">logo.svg</code></li><li id="a67c" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">serviceWorker.js</code></li><li id="dc0b" class="me mf hi jq b jr mt ju mu jx mv kb mw kf mx kj ml mm mn mo bi translated"><code class="du mp mq mr ms b">setupTests.js</code></li></ol><p id="e035" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这将清空您的<code class="du mp mq mr ms b">src</code>文件夹，您所有的工作都将在这里完成。</p><p id="ae71" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，打开你的<code class="du mp mq mr ms b">public</code>文件夹，转到<code class="du mp mq mr ms b">index.html</code>，在文件中，将你的应用的<code class="du mp mq mr ms b">title</code>更改为React Search(或者你喜欢的任何东西)，即将<code class="du mp mq mr ms b">&lt;title&gt;React App&lt;/title&gt;</code>替换为<code class="du mp mq mr ms b">&lt;title&gt;React Search&lt;/title&gt;</code>,并在上面添加下面一行，以便在你的应用中使用<code class="du mp mq mr ms b"><a class="ae jn" href="http://tachyons.io/" rel="noopener ugc nofollow" target="_blank">tachyons</a></code>:</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="3e5c" class="lq kz hi ms b fi nf ng l nh ni">&lt;link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css"/&gt;</span><span id="2314" class="lq kz hi ms b fi nm ng l nh ni">&lt;title&gt;React Search&lt;/title&gt;</span></pre><p id="15ff" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上面的链接中<code class="du mp mq mr ms b">tachyons</code>的版本可能会改变，你可以从<a class="ae jn" href="http://tachyons.io/#getting-started" rel="noopener ugc nofollow" target="_blank">这里</a>复制最新的命令。</p><p id="e5e7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，打开<code class="du mp mq mr ms b">src</code>文件夹中的<code class="du mp mq mr ms b">App.js</code>和<code class="du mp mq mr ms b">index.js</code>文件，删除不必要的行，之后它们应该是这样的(虽然<code class="du mp mq mr ms b">React.StrictMode</code>是可选的):</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">index.js</figcaption></figure><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">App.js</figcaption></figure><p id="33e9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是请注意，这是一个可选步骤，如果你不想从头开始创建一个应用程序，你可以省去这个步骤。</p><h2 id="84dc" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">创建数据文件</h2><p id="b11c" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">这里有两种方法，这完全取决于你希望你的应用程序如何工作。</p><p id="bb0a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第一个是在<code class="du mp mq mr ms b">App.js</code>文件本身中添加带有<code class="du mp mq mr ms b">useState</code>钩子的数据。如果我们创建一个从用户那里获取数据的表单，这可能是一个好方法(否则在<code class="du mp mq mr ms b">App.js</code>中会有太多的混乱)，但是为了本文的简单，我们将选择另一种方法。</p><p id="02ad" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第二种方法是创建一个不同的文件，然后将其导入到<code class="du mp mq mr ms b">App.js</code>文件中，从而获得一个清晰的外观。</p><p id="c384" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因此，我们从在<code class="du mp mq mr ms b">src</code>文件夹中创建一个<code class="du mp mq mr ms b">data</code>文件夹开始，在这个文件夹中我们创建一个名为<code class="du mp mq mr ms b">initialDetails.js</code>的文件。现在，该文件将包含一个列表，该列表又包含详细信息。</p><p id="a0e2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们用5个主要细节来描述一个人。对于图片，我使用了来自<a class="ae jn" href="https://limitlessdesigns.io/" rel="noopener ugc nofollow" target="_blank">无限设计</a>的8位头像插图，你也可以从<a class="ae jn" href="https://limitlessdesigns.io/avatar-illustrations/" rel="noopener ugc nofollow" target="_blank">这里</a>免费获得(可能需要注册)。然后，我在<code class="du mp mq mr ms b">public</code>文件夹的<code class="du mp mq mr ms b">assets</code>文件夹中创建了一个名为<code class="du mp mq mr ms b">img</code>的文件夹，并在<code class="du mp mq mr ms b">img</code>文件夹中随机粘贴了五张图片，按照给定的格式命名为1-5。</p><p id="9503" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">任何给定人员的<code class="du mp mq mr ms b">imgPath</code>变量将是来自<code class="du mp mq mr ms b">public</code>文件夹的相对地址(我们将在后面看到如何使用这个imgPath，因为React不允许使用<code class="du mp mq mr ms b">src</code>文件夹之外的任何项目)。</p><p id="b202" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">由于在这里创建数据是一项琐碎的任务，我建议您将下面给出的代码复制粘贴到您的文件中，并根据需要进行必要的更改。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">initialDetails.js</figcaption></figure><p id="c746" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">完成这一部分后，我们最终可以继续在React中创建实际的应用程序。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h1 id="d9f5" class="ky kz hi bd la lb lc ld le lf lg lh li io lj ip lk ir ll is lm iu ln iv lo lp bi translated">从项目开始</h1><p id="afd0" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">现在，我们终于准备好工作了，所以我们首先要做的是在<code class="du mp mq mr ms b">src</code>文件夹中创建一个名为<code class="du mp mq mr ms b">components</code>的新文件夹。这里，我们将创建4个新文件，即:</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="f7fc" class="lq kz hi ms b fi nf ng l nh ni">1. Card.js        // Card component to display details<br/>2. SearchList.js  // Component to list out the cards<br/>3. Scroll.js      // Component for making the list scrollable<br/>4. Search.js      // Main search component</span></pre><h2 id="b8e1" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">Card.js</h2><p id="a128" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">我们将从<code class="du mp mq mr ms b">Card</code>组件开始，它只是将一个人的详细信息放在一个卡片组件中，使它看起来更好。</p><p id="50b9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">卡片组件将接收一个人的详细信息，然后显示出来。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Card.js</figcaption></figure><p id="8c40" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这里，在第7行中，我们使用了<code class="du mp mq mr ms b">tachyons</code>来制作一张卡片，在第8行中再次将图像变成一个圆形头像。接下来，我们使用<code class="du mp mq mr ms b">process.env.PUBLIC_URL</code>来访问<code class="du mp mq mr ms b">public</code>文件夹中的所有文件，然后将<code class="du mp mq mr ms b">imgPath</code>变量连接到它，以访问这个人的图像。之后，我们简单地显示一个人的细节。</p><h2 id="9fab" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">SearchList.js</h2><p id="2962" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">接下来，我们看一下<code class="du mp mq mr ms b">SearchList</code>组件，顾名思义，它在<code class="du mp mq mr ms b">map</code>函数的帮助下构建这些<code class="du mp mq mr ms b">Card</code>组件。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">SearchList.js</figcaption></figure><p id="c73e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">首先，我们导入<code class="du mp mq mr ms b">Card</code>组件，然后我们对从render部分的父组件获得的过滤列表使用<code class="du mp mq mr ms b">map</code>函数。通过这个map函数，我们传递所需的参数，为每个人呈现不同的卡片。</p><p id="092d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">之后，在返回部分，我们调用之前创建的<code class="du mp mq mr ms b">filtered</code>对象。</p><h2 id="bab5" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">Scroll.js</h2><p id="f816" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">现在，如果像这样使用<code class="du mp mq mr ms b">SearchList</code>组件，随着数据的增加，它将占用整个屏幕的空间，为了反对这种情况，创建了一个<code class="du mp mq mr ms b">Scroll</code>组件，它也相当简单且不言自明。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Scroll.js</figcaption></figure><p id="1179" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这个组件中，其内部的组件以<code class="du mp mq mr ms b">70 viewport height</code>的高度呈现，如果溢出，则将其变成y轴的可滚动组件。</p><h2 id="c2af" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">搜索. js</h2><p id="198d" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">最后，我们到达<code class="du mp mq mr ms b">Search</code>组件，从文章的角度来看，这是最重要的组件。首先，我们从<code class="du mp mq mr ms b">react</code>导入<code class="du mp mq mr ms b">useState</code>。然后，我们导入<code class="du mp mq mr ms b">Scroll</code>和<code class="du mp mq mr ms b">SearchList</code>组件。接下来，在<code class="du mp mq mr ms b">Search</code>函数中，我们使用<code class="du mp mq mr ms b">useState</code>钩子用<code class="du mp mq mr ms b">useState("")</code>(一个空字符串)初始化<code class="du mp mq mr ms b">searchField state</code>的值。此后，我们在从父节点接收的<code class="du mp mq mr ms b">details</code>列表上使用<code class="du mp mq mr ms b">filter</code>函数。</p><p id="5818" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这个过滤函数中，我们检查两个值，人的名字和他们的电子邮件，然后用<code class="du mp mq mr ms b">toLowerCase</code>函数把它们转换成小写，之后我们用<code class="du mp mq mr ms b">includes</code>函数检查搜索栏是否包含细节中的任何字母。如果它包含指定的查询，则特定人员的详细信息被发送到<code class="du mp mq mr ms b">filteredPersons</code>。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Search.js</figcaption></figure><p id="7139" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这之后，我们转到return并为组件创建一个标题和一个用于搜索细节的输入框。所有这些在<code class="du mp mq mr ms b">tachyons</code>包的帮助下很容易被风格化。在输入中，我们将<code class="du mp mq mr ms b">onChange</code>属性的值作为<code class="du mp mq mr ms b">handleChange</code>函数。</p><p id="aab1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><code class="du mp mq mr ms b">handleChange</code>功能依次用<code class="du mp mq mr ms b">setSearchField()</code>设置<code class="du mp mq mr ms b">searchField</code>的值。</p><p id="df35" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，为了渲染所有的细节，有点类似于我们在<code class="du mp mq mr ms b">SearchList</code>组件中所做的，我们创建一个函数(看位置，函数要在return之外创建)。该函数将<code class="du mp mq mr ms b">SearchList</code>组件包装在<code class="du mp mq mr ms b">Scroll</code>组件中，并在内部传递<code class="du mp mq mr ms b">filteredPersons</code>对象。稍后，在返回中调用这个函数来呈现搜索查询的结果。</p><p id="0632" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这就完成了我们的<code class="du mp mq mr ms b">Search</code>部分，因此也是文章的主要部分。接下来，我们继续到<code class="du mp mq mr ms b">App.js</code>来完成这个<code class="du mp mq mr ms b">Search</code>组件。</p><h2 id="43f0" class="lq kz hi bd la lr ls lt le lu lv lw li jx lx ly lk kb lz ma lm kf mb mc lo md bi translated">App.js</h2><p id="e939" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">我们之前编辑了这个组件，使它看起来很干净。因为我们已经为我们的<code class="du mp mq mr ms b">Search</code>功能创建了不同的组件，所以在集成它的时候，我们在<code class="du mp mq mr ms b">App.js</code>内部会有更少的混乱。</p><blockquote class="np"><p id="a5a4" class="nq nr hi bd ns nt nu nv nw nx ny kj dx translated">一个干净的App.js通常意味着一个创建良好的web应用。</p></blockquote><p id="3e69" class="pw-post-body-paragraph jo jp hi jq b jr nz ij jt ju oa im jw jx ob jz ka kb oc kd ke kf od kh ki kj hb bi translated">首先，我们从<code class="du mp mq mr ms b">Search.js</code>文件导入<code class="du mp mq mr ms b">Search</code>组件，然后从<code class="du mp mq mr ms b">initialDetails.js file.</code>导入<code class="du mp mq mr ms b">initialDetails</code>列表</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">App.js</figcaption></figure><p id="bdd0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然后，我们使用<code class="du mp mq mr ms b">tachyons</code>来设置web应用程序的样式，并且用之前导入的<code class="du mp mq mr ms b">initialDetails</code>来填充<code class="du mp mq mr ms b">Search</code>组件的细节参数。</p><p id="e43e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">至此，我们完成了创建搜索组件的旅程。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h1 id="caf4" class="ky kz hi bd la lb lc ld le lf lg lh li io lj ip lk ir ll is lm iu ln iv lo lp bi translated">运行我们的网络应用</h1><p id="185f" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">最后，我们使用以下命令在bash/命令提示符下运行我们的web应用程序:</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="f203" class="lq kz hi ms b fi nf ng l nh ni">yarn start</span></pre><p id="e36b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">瞧，现在你有了我们自己的网络应用程序和一个工作搜索组件。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h1 id="0280" class="ky kz hi bd la lb lc ld le lf lg lh li io lj ip lk ir ll is lm iu ln iv lo lp bi translated">演示</h1><p id="8d12" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">如果您一直关注这篇文章，那么您应该已经创建了一个类似于下图所示的搜索框，显然欢迎您进行更好的设计，因为我主要关注的是文章中的结构、组织和工作部分，但是一个简单的搜索组件应该是这样的。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oe no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Demo for React-Search Web App</figcaption></figure></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h1 id="d01d" class="ky kz hi bd la lb lc ld le lf lg lh li io lj ip lk ir ll is lm iu ln iv lo lp bi translated">附加部分:隐藏<code class="du mp mq mr ms b">SearchList </code>组件直到被调用</h1><p id="92bd" class="pw-post-body-paragraph jo jp hi jq b jr mg ij jt ju mh im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">你并不总是希望所有的搜索结果都显示在你的网站上，所以为了隐藏它，除非在里面输入了什么，我们简单地做了三件小事，用<code class="du mp mq mr ms b">useState</code>创建一个新的状态<code class="du mp mq mr ms b">searchShow</code>,并将<code class="du mp mq mr ms b">false</code>作为初始值传递给它。</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="1dc7" class="lq kz hi ms b fi nf ng l nh ni">const [searchShow, setSearchShow] = useState(false);</span></pre><p id="f481" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然后，我们在<code class="du mp mq mr ms b">e.target.value</code>的帮助下检查来自搜索栏的输入是否为空，在这种情况下，我们将这个<code class="du mp mq mr ms b">searchShow</code>状态设置为<code class="du mp mq mr ms b">false</code>，否则我们在<code class="du mp mq mr ms b">handleChange</code>函数内的<code class="du mp mq mr ms b">setSearchShow</code>的帮助下将其设置为<code class="du mp mq mr ms b">true</code>。</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="b863" class="lq kz hi ms b fi nf ng l nh ni">if(e.target.value===""){<br/>  setSearchShow(false);<br/>}<br/>else {<br/>  setSearchShow(true);<br/>}</span></pre><p id="cd6d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在此之后，我们向<code class="du mp mq mr ms b">searchList</code>函数添加一个<code class="du mp mq mr ms b">if</code>语句，该语句检查<code class="du mp mq mr ms b">searchShow</code>是否为真，如果为真，则呈现<code class="du mp mq mr ms b">SearchList and Scroll</code>组件，否则不呈现。</p><pre class="iy iz ja jb fd nb ms nc nd aw ne bi"><span id="1772" class="lq kz hi ms b fi nf ng l nh ni">if (searchShow) {</span><span id="6678" class="lq kz hi ms b fi nm ng l nh ni">};</span></pre><p id="7493" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">看一下下面给出的新的<code class="du mp mq mr ms b">Search.js</code>文件，我上面提到的三个变化发生在第10、29–34和38行(第44行也是)。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Search.js</figcaption></figure><p id="a27e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">添加这五行将有效地隐藏您的<code class="du mp mq mr ms b">SearchList</code>组件，并且您的web应用程序在更改后应该是这样的。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oe no l"/></div></figure><p id="7131" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">看起来很酷，不是吗？自己尝试一下，如果你遇到任何问题，请随时联系我或查看我的<a class="ae jn" href="https://github.com/shashankcic/react-search" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>。</p></div></div>    
</body>
</html>