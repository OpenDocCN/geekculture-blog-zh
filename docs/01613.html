<html>
<head>
<title>Hive Installation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蜂巢装置</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/hive-installation-aa191dfee3f?source=collection_archive---------10-----------------------#2021-04-17">https://medium.com/geekculture/hive-installation-aa191dfee3f?source=collection_archive---------10-----------------------#2021-04-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="5f19" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">如何在Windows 10中用5个步骤安装</h2><div class=""/><div class=""><h2 id="e6e9" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">在Windows 10中安装Hive的简单指南。</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/9b9a57dd73987181780f8a76436bcfa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JQk57ZEvxL3CJVHa.jpg"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Image taken from Google images</figcaption></figure><h1 id="bc60" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">1.先决条件</h1><ol class=""><li id="40f2" class="ko kp hi kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">硬件要求<br/> * RAM —最小值。8GB，如果您的系统中有SSD，那么4GB RAM也可以。<br/> * CPU —最小值。四核，至少1.80GHz</li><li id="a177" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb lc ld le lf bi translated"><a class="ae ll" href="https://www.java.com/en/download/windows_offline.jsp" rel="noopener ugc nofollow" target="_blank">JRE 1.8</a>—JRE的离线安装程序</li><li id="d5a8" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb lc ld le lf bi translated"><a class="ae ll" href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html#license-lightbox" rel="noopener ugc nofollow" target="_blank"> Java开发套件— 1.8 </a></li><li id="3e8f" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb lc ld le lf bi translated">我将使用64位windows操作系统，请检查并下载您的系统x86或x64支持的所有软件版本。</li><li id="c79c" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb lc ld le lf bi translated"><a class="ae ll" href="https://archive.apache.org/dist/hadoop/core/hadoop-2.9.2/" rel="noopener ugc nofollow" target="_blank"> Hadoop </a> <br/> *我使用的是Hadoop-2.9.2，你也可以使用任何其他稳定版本的Hadoop。<br/> *如果没有Hadoop，可以参考<a class="ae ll" rel="noopener" href="/analytics-vidhya/hadoop-how-to-install-in-5-steps-in-windows-10-61b0e67342f8"> Hadoop:如何在Windows 10中5步安装</a>安装。</li><li id="3cef" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb lc ld le lf bi translated"><a class="ae ll" href="https://dev.mysql.com/downloads/mysql/" rel="noopener ugc nofollow" target="_blank"> MySQL查询浏览器</a></li><li id="638a" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb lc ld le lf bi translated"><a class="ae ll" href="https://downloads.apache.org/hive/hive-3.1.2/" rel="noopener ugc nofollow" target="_blank">下载Hive zip </a> <br/> *我用的是Hive-3.1.2，你也可以用Hive的任何其他稳定版本。</li></ol><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lm"><img src="../Images/15b38b5a55ff342f8697e0c20da18cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bPvoJmwCmnx0CUQG.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 1:- Download Hive-3.1.2</figcaption></figure><h1 id="7c4d" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">2.解压缩并安装配置单元</h1><p id="21ca" class="pw-post-body-paragraph ln lo hi kq b kr ks is lp kt ku iv lq kv lr ls lt kx lu lv lw kz lx ly lz lb hb bi translated">下载完配置单元后，我们需要解压缩apache-hive-3.1.2-bin.tar.gz文件。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ma"><img src="../Images/5bd7ea4f0aaf12e3eea222d32872232a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kh2ywBX3APoOIn1E.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 2:- Extracting Hive Step-1</figcaption></figure><p id="0354" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">一旦提取，我们会得到一个新的文件apache-hive-3.1.2-bin.tar<br/>现在，我们再次需要提取这个焦油文件。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mg"><img src="../Images/abe15a2a4b19a5af07a663e3e83e6033.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LrTkgl-8tGigTWyA.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 3:- Extracting Hive Step-2</figcaption></figure><ul class=""><li id="5537" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在，我们可以组织我们的配置单元安装，我们可以创建一个文件夹，并在其中移动最终提取的文件。比如说</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ml"><img src="../Images/d2615d86d292be454903e726c5e09858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j4nCgGFZXhgb1sU6.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 4:- Hive Directory</figcaption></figure><ul class=""><li id="3d51" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">请注意，创建文件夹时，不要在文件夹名称之间添加空格。(这可能会导致以后出现问题)</li><li id="ab74" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb mk ld le lf bi translated">我已经把我的蜂箱放在D:驱动器中，你也可以使用C:或任何其他驱动器。</li></ul><h1 id="24e8" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">3.设置环境变量</h1><p id="8e00" class="pw-post-body-paragraph ln lo hi kq b kr ks is lp kt ku iv lq kv lr ls lt kx lu lv lw kz lx ly lz lb hb bi translated">设置工作环境的另一个重要步骤是设置系统环境变量。</p><p id="658b" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">要编辑环境变量，进入控制面板&gt;系统&gt;点击“高级系统设置”链接<br/>或者，我们可以右键单击该电脑图标，点击属性，然后点击“高级系统设置”链接<br/>或者，最简单的方法是在搜索栏中搜索环境变量，这样就可以了…😉</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mm"><img src="../Images/5c2a72feb7644fd9f2a9c547efc2341a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Uv84_GGIfxud7DaB.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 5:- Path for Environment Variable</figcaption></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mn"><img src="../Images/9f7095c3f68878905c60ecdd3bc239e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/0*C6g-wD2mC7ixJP_q.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 6:- Advanced System Settings Screen</figcaption></figure><p id="8218" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 3.1设置HIVE_HOME </strong></p><ul class=""><li id="d051" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">打开环境变量，点击“用户变量”中的“新建”</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mo"><img src="../Images/6f82df170daa7492080d47ba6c808558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nWmhGASLfVl2YQX7.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 7:- Adding Environment Variable</figcaption></figure><ul class=""><li id="0244" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">点击“新建”,我们进入下面的屏幕。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mp"><img src="../Images/9f9ac423a52e4c107c8075b8883711ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SPjWSKDoWbwlYIb6.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 8:- Adding HIVE_HOME</figcaption></figure><ul class=""><li id="b00b" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在如图所示，在变量名中添加HIVE_HOME，在变量值中添加HIVE的路径。</li><li id="b204" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb mk ld le lf bi translated">单击OK，我们就完成了HIVE_HOME设置的一半。</li></ul><p id="2142" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 3.2设置路径变量</strong></p><ul class=""><li id="6cda" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">设置环境变量的最后一步是在系统变量中设置路径。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mq"><img src="../Images/ffa75189560ec03846325c74f15230df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/0*I1HejZzntdxDuwVe.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 9:- Setting Path Variable</figcaption></figure><ul class=""><li id="e058" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">在系统变量中选择路径变量并点击“编辑”。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mr"><img src="../Images/5ffe0b42652b8cc2d8d3f1f25a92ecad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*Gdw48MH96vvj7INw.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 10:- Adding Path</figcaption></figure><ul class=""><li id="b255" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在我们需要将这些路径添加到路径变量:- <br/> * %HIVE_HOME%\bin中</li><li id="4574" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb mk ld le lf bi translated">单击确定和确定。&amp;我们已经完成了环境变量的设置。</li></ul><p id="511e" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 3.4验证路径</strong></p><ul class=""><li id="e92a" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在我们需要验证我们所做的是正确的和反映的。</li><li id="c936" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb mk ld le lf bi translated">打开一个<strong class="kq hs">新的</strong>命令窗口</li><li id="5c74" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb mk ld le lf bi translated">运行以下命令</li></ul><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="a3e4" class="mx jx hi mt b fi my mz l na nb">echo %HIVE_HOME%</span></pre><h1 id="c9ab" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">4.编辑配置单元</h1><p id="92f8" class="pw-post-body-paragraph ln lo hi kq b kr ks is lp kt ku iv lq kv lr ls lt kx lu lv lw kz lx ly lz lb hb bi translated">一旦我们配置了环境变量，下一步就是配置配置单元。它有7个部分</p><p id="a1c3" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.1更换箱子</strong></p><p id="e6f3" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">配置配置单元的第一步是<a class="ae ll" href="https://github.com/HadiFadl/Hive-cmd" rel="noopener ugc nofollow" target="_blank">下载</a>并替换bin文件夹。<br/> *到这个<a class="ae ll" href="https://github.com/HadiFadl/Hive-cmd" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>下载bin文件夹作为zip。<br/> *解压zip并将bin文件夹下的所有文件替换到%HIVE_HOME%\bin</p><blockquote class="nc nd ne"><p id="fd64" class="ln lo nf kq b kr mb is lp kt mc iv lq ng md ls lt nh me lv lw ni mf ly lz lb hb bi translated"><strong class="kq hs"> <em class="hi">注意:-如果您使用不同版本的HIVE，请搜索其各自的bin文件夹并下载。</em> </strong></p></blockquote><p id="6638" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.2创建文件Hive-site.xml </strong></p><p id="f818" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在我们需要在Hive中创建Hive-site.xml文件来配置它:- <br/>(我们可以在Hive-&gt;conf-&gt;Hive-default . XML . template中找到这些文件)</p><p id="cd0a" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">我们需要复制hive-default.xml.template文件，将其粘贴到相同的位置，并将其重命名为hive-site.xml。这将作为我们的hive主配置文件。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nj"><img src="../Images/a034ffed7984ff6e8a2d8b071d9561b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vU5_YTndumsrfbba.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 11:- Creating Hive-site.xml</figcaption></figure><p id="87e1" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.3编辑配置文件</strong></p><p id="5a6c" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.3.1编辑属性</strong></p><p id="829b" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在打开新创建的Hive-site.xml，我们需要编辑以下属性</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="d1fc" class="mx jx hi mt b fi my mz l na nb">&lt;property&gt;<br/>    &lt;name&gt;hive.metastore.uris&lt;/name&gt;<br/>    &lt;value&gt;thrift://&lt;Your IP Address&gt;:9083&lt;/value&gt;<br/> <br/> &lt;property&gt;<br/>    &lt;name&gt;hive.downloaded.resources.dir&lt;/name&gt;<br/>    &lt;value&gt;&lt;Your drive Folder&gt;/${hive.session.id}_resources&lt;/value&gt;<br/> <br/>&lt;property&gt;<br/>    &lt;name&gt;hive.exec.scratchdir&lt;/name&gt;<br/>    &lt;value&gt;/tmp/mydir&lt;/value&gt;</span></pre><p id="76fa" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">用系统的IP地址替换<code class="du nk nl nm mt b">&lt;Your IP Address&gt;</code>的值，用Hive文件夹路径替换<code class="du nk nl nm mt b">&lt;Your drive Folder&gt;</code>。</p><p id="d1d3" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.3.2删除特殊字符</strong></p><p id="d317" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">这是一个简短的步骤，我们需要删除hive-site.xml文件中所有的<code class="du nk nl nm mt b">&amp;#8</code>字符。</p><p id="72f0" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.3.3添加更多属性</strong></p><p id="4bd8" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在，我们需要在hive-site.xml文件中添加以下属性。</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="4cb1" class="mx jx hi mt b fi my mz l na nb">&lt;property&gt;<br/>    &lt;name&gt;hive.querylog.location&lt;/name&gt;<br/>    &lt;value&gt;$HIVE_HOME/iotmp&lt;/value&gt;<br/>    &lt;description&gt;Location of Hive run time structured log   file&lt;/description&gt;<br/> &lt;/property&gt;&lt;property&gt;<br/>    &lt;name&gt;hive.exec.local.scratchdir&lt;/name&gt;<br/>    &lt;value&gt;$HIVE_HOME/iotmp&lt;/value&gt;<br/>    &lt;description&gt;Local scratch space for Hive jobs&lt;/description&gt;<br/>&lt;/property&gt;&lt;property&gt;<br/>    &lt;name&gt;hive.downloaded.resources.dir&lt;/name&gt;<br/>    &lt;value&gt;$HIVE_HOME/iotmp&lt;/value&gt;<br/>    &lt;description&gt;Temporary local directory for added resources in the remote file system.&lt;/description&gt;<br/>  &lt;/property&gt;</span></pre><p id="6258" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">伟大的..！！！我们几乎完成了Hive部分，要将MySQL数据库配置为Hive的Metastore，我们需要遵循以下步骤:-</p><p id="f763" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.4在MySQL中创建Hive用户</strong></p><p id="09b1" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">配置Hive的下一个重要步骤是为MySQL创建用户。<br/>这些用户用于将Hive连接到MySQL数据库，以便从中读取和写入数据。</p><blockquote class="nc nd ne"><p id="652e" class="ln lo nf kq b kr mb is lp kt mc iv lq ng md ls lt nh me lv lw ni mf ly lz lb hb bi translated"><em class="hi">注意:-如果在安装SQOOP时已经创建了配置单元用户，可以跳过这一步。</em></p></blockquote><ul class=""><li id="af98" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">首先，我们需要打开MySQL工作台并打开工作区(默认或任何特定的，如果你想)。我们现在将只使用默认的工作空间。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nn"><img src="../Images/d092c031841a737a642cd6ac2c8bcc24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oyL9L5YlHznax2rL.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 12:- Open MySQL Workbench</figcaption></figure><ul class=""><li id="32a1" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在打开工作区的<code class="du nk nl nm mt b">Administration</code>选项，选择<code class="du nk nl nm mt b">Management.</code>下的<code class="du nk nl nm mt b">Users and privileges</code>选项</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es no"><img src="../Images/5bd46fb78220dc2862bddcea0237a5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/0*RnKGLRHpzq66GnJX.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 13:- Opening Users and Privileges</figcaption></figure><ul class=""><li id="c0e6" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在选择<code class="du nk nl nm mt b">Add Account</code>选项，创建一个新用户，用<code class="du nk nl nm mt b">Login Name</code>作为<code class="du nk nl nm mt b">hive</code>，用<code class="du nk nl nm mt b">Limit to Host Mapping</code>作为你选择的<code class="du nk nl nm mt b">localhost</code>和<code class="du nk nl nm mt b">Password</code>。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es np"><img src="../Images/354bbc660316e790a9d24e9763c2f75c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1akQXkoRShsbJVkf.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 14:- Creating Hive User</figcaption></figure><ul class=""><li id="b87c" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在我们必须在<code class="du nk nl nm mt b">Administrative Roles</code>下为该用户定义角色，并选择<code class="du nk nl nm mt b">DBManager</code>、<code class="du nk nl nm mt b">DBDesigner</code>和<code class="du nk nl nm mt b">BackupAdmin</code>角色</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nq"><img src="../Images/2fe32b34b2bf433735c99a9bd0442a25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OufoboQB04zfNyqb.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 15:- Assigning Roles</figcaption></figure><ul class=""><li id="77b8" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">现在我们需要通过使用<code class="du nk nl nm mt b">Add Entry</code>选项并选择我们需要访问的<code class="du nk nl nm mt b">schemas</code>来授予用户<code class="du nk nl nm mt b">schema privileges</code>。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nr"><img src="../Images/054bd44923270f7a3df86d266708af08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NJ9Qw9442W5X4LqZ.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 16:- Schema Privileges</figcaption></figure><blockquote class="nc nd ne"><p id="a358" class="ln lo nf kq b kr mb is lp kt mc iv lq ng md ls lt nh me lv lw ni mf ly lz lb hb bi translated"><em class="hi">我使用</em> <code class="du nk nl nm mt b"><em class="hi">schema matching pattern</em></code> <em class="hi">作为我所有bigdata相关模式的</em> <code class="du nk nl nm mt b"><em class="hi">%_bigdata%</em></code> <em class="hi">。您也可以使用其他两个选项。</em></p></blockquote><ul class=""><li id="680e" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">点击<code class="du nk nl nm mt b">OK</code>后，我们需要选择该模式的所有权限。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ns"><img src="../Images/d038f888dc2075e00f8319ed79fcb105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DgqEJv6T8hspysbq.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 17:- Select All privileges in the schema</figcaption></figure><ul class=""><li id="8ad3" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">单击Apply，我们就完成了创建配置单元用户的工作。</li></ul><p id="fe79" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.5授予用户权限</strong></p><p id="a61e" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">一旦我们创建了用户<code class="du nk nl nm mt b">hive</code>,下一步就是将先前选择的模式中所有表的所有特权授予这个用户。</p><ul class=""><li id="4c07" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">打开MySQL cmd窗口。我们可以使用窗口的搜索栏打开它。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nt"><img src="../Images/969de88ddb6c3ae7a28112119d43da06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ej0O6Djj_chyzD9u.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 18:- MySQL cmd</figcaption></figure><ul class=""><li id="24b5" class="ko kp hi kq b kr mb kt mc kv mh kx mi kz mj lb mk ld le lf bi translated">打开后，它会询问您的<code class="du nk nl nm mt b">root</code>用户密码(在设置MySQL时创建)。</li><li id="b96a" class="ko kp hi kq b kr lg kt lh kv li kx lj kz lk lb mk ld le lf bi translated">现在我们需要在cmd窗口中运行下面的命令。</li></ul><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="896a" class="mx jx hi mt b fi my mz l na nb">grant all privileges on test_bigdata.* to 'hive'@'localhost';</span></pre><p id="347a" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">其中,<code class="du nk nl nm mt b">test_bigdata</code>是您的模式名,<code class="du nk nl nm mt b">hive@localhost</code>是用户名@主机名。</p><p id="7888" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.6创建Metastore </strong></p><p id="a986" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在我们需要在MySQL中为Hive创建自己的metastore..</p><p id="575c" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">首先，我们需要在MySQL中为metastore创建一个数据库，或者我们可以使用上一步<code class="du nk nl nm mt b">test_bigdata</code>中使用的数据库。</p><p id="0a9f" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在导航到下面的路径</p><p id="0e20" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><code class="du nk nl nm mt b">hive -&gt; scripts -&gt; metastore -&gt; upgrade -&gt; mysql</code>并在你的数据库中执行MySQL中的文件<code class="du nk nl nm mt b">hive-schema-3.1.0.mysql</code>。</p><blockquote class="nc nd ne"><p id="343f" class="ln lo nf kq b kr mb is lp kt mc iv lq ng md ls lt nh me lv lw ni mf ly lz lb hb bi translated"><em class="hi">注意:-如果使用不同的数据库，在</em> <code class="du nk nl nm mt b"><em class="hi">upgrade</em></code> <em class="hi">文件夹中选择相同的文件夹，执行</em> <code class="du nk nl nm mt b"><em class="hi">hive-schema</em></code> <em class="hi">文件。</em></p></blockquote><p id="b17d" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 4.7添加更多属性(Metastore相关属性)</strong></p><p id="1cd4" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">最后，我们需要再次打开我们的<code class="du nk nl nm mt b">hive-site.xml</code>文件，并对其进行一些更改，这些与Hive metastore相关，这就是为什么没有在开始时添加它们，以便区分不同的属性集。</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="836b" class="mx jx hi mt b fi my mz l na nb">&lt;property&gt;<br/>    &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;<br/>    &lt;value&gt;hive&lt;/value&gt;<br/>    &lt;description&gt;Username to use against metastore database&lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>&lt;property&gt;<br/>    &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;<br/>    &lt;value&gt;jdbc:mysql://localhost:3306/&lt;Your Database&gt;?createDatabaseIfNotExist=true&lt;/value&gt;<br/>    &lt;description&gt;<br/>      JDBC connect string for a JDBC metastore.<br/>      To use SSL to encrypt/authenticate the connection, provide database-specific SSL flag in the connection URL.<br/>      For example, jdbc:postgresql://myhost/db?ssl=true for postgres database.<br/>    &lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>  &lt;property&gt;<br/>    &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;<br/>    &lt;value&gt;hdfs://localhost:9000/user/hive/warehouse&lt;/value&gt;<br/>    &lt;description&gt;location of default database for the warehouse&lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>  &lt;property&gt;<br/>    &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;<br/>    &lt;value&gt;&lt;Hive Password&gt;&lt;/value&gt;<br/>    &lt;description&gt;password to use against metastore database&lt;/description&gt;<br/>  &lt;/property&gt;<br/>  <br/>  &lt;property&gt;<br/> &lt;name&gt;datanucleus.schema.autoCreateSchema&lt;/name&gt;<br/> &lt;value&gt;true&lt;/value&gt;<br/>&lt;/property&gt;<br/>&lt;property&gt;<br/> &lt;name&gt;datanucleus.schema.autoCreateTables&lt;/name&gt;<br/> &lt;value&gt;True&lt;/value&gt;<br/> &lt;/property&gt;<br/> <br/> &lt;property&gt;<br/>    &lt;name&gt;datanucleus.schema.validateTables&lt;/name&gt;<br/>    &lt;value&gt;true&lt;/value&gt;<br/>    &lt;description&gt;validates existing schema against code. turn this on if you want to verify existing schema&lt;/description&gt;<br/>  &lt;/property&gt;</span></pre><p id="35b2" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">将<em class="nf"> &lt;配置单元密码&gt; </em>的值替换为我们在MySQL用户创建中创建的配置单元用户密码。并且&lt;您的数据库&gt;与我们在MySQL中用于metastore的数据库。</p><h1 id="70c2" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">5.开始配置单元</h1><p id="0366" class="pw-post-body-paragraph ln lo hi kq b kr ks is lp kt ku iv lq kv lr ls lt kx lu lv lw kz lx ly lz lb hb bi translated"><strong class="kq hs"> 5.1启动Hadoop </strong></p><p id="887a" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在我们需要启动一个新的命令提示符，记得以管理员身份运行它，以避免权限问题，并执行以下命令</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="59f2" class="mx jx hi mt b fi my mz l na nb"><strong class="mt hs"><em class="nf">start-all.cmd</em></strong></span></pre><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nu"><img src="../Images/7567d78d39f48b3ee21f837aa01221da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JR4Vc6_kCWO4lILI.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig. 19:- start-all.cmd</figcaption></figure><p id="c9ad" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">所有4个守护进程都应该启动并运行。</p><p id="200e" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 5.2启动Hive Metastore </strong></p><p id="c8cf" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">打开cmd窗口，运行以下命令启动配置单元metastore。</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="edba" class="mx jx hi mt b fi my mz l na nb">hive --service metastore</span></pre><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nv"><img src="../Images/b412823f098222f491128bd9c34ee5ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/0*KC4KWwHAw3j2BR-q.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Fig 20:- Starting Hive Metastore</figcaption></figure><p id="24bd" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 5.3启动蜂箱</strong></p><p id="f879" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">现在打开一个新的cmd窗口并运行下面的命令来启动Hive</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="d019" class="mx jx hi mt b fi my mz l na nb">hive</span></pre><h1 id="9614" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">6.常见问题</h1><p id="f46f" class="pw-post-body-paragraph ln lo hi kq b kr ks is lp kt ku iv lq kv lr ls lt kx lu lv lw kz lx ly lz lb hb bi translated"><strong class="kq hs"> 6.1无法在配置单元中导出或导入数据</strong></p><p id="bc24" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">启动Hive后，我们面临的第一个常见问题是无法导入或导出</p><p id="1692" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">Sol:-我们需要编辑下面的属性，并将其设为false</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="752f" class="mx jx hi mt b fi my mz l na nb">&lt;property&gt;                      &lt;name&gt;hive.metastore.event.db.notification.api.auth&lt;/name&gt;     &lt;value&gt;false&lt;/value&gt;    <br/>&lt;description&gt;<br/>      Should metastore do authorization against database notification related APIs such as get_next_notification.<br/>      If set to true, then only the superusers in proxy settings have the permission<br/>    &lt;/description&gt;<br/>  &lt;/property&gt;</span></pre><p id="b330" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated"><strong class="kq hs"> 6.2加入不工作</strong></p><p id="449a" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">如果在运行连接查询时遇到问题，我们需要在运行连接查询之前运行以下命令:-</p><pre class="jh ji jj jk fd ms mt mu mv aw mw bi"><span id="ceca" class="mx jx hi mt b fi my mz l na nb">set hive.auto.convert.join=false;<br/>set hive.auto.convert.join.noconditionaltask=false;</span></pre><p id="7ba1" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">因为没有这些配置单元，尝试一个失败的映射端连接，对于普通连接，将这些参数设置为false。</p><h1 id="9e80" class="jw jx hi bd jy jz ka kb kc kd ke kf kg ix kh iy ki ja kj jb kk jd kl je km kn bi translated">7.恭喜..！！！！🎉</h1><p id="6a91" class="pw-post-body-paragraph ln lo hi kq b kr ks is lp kt ku iv lq kv lr ls lt kx lu lv lw kz lx ly lz lb hb bi translated">恭喜你！我们已经成功安装了Hive。我们中的一些人可能会遇到一些问题…不要担心，这很可能是由于一些小失误或不兼容的软件。如果您遇到任何此类问题，请再次仔细访问所有步骤，并验证软件版本是否正确。如果你仍然不能让Hive正常运行，请在评论区描述你的问题。</p><p id="1c38" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">你可以在这里了解我更多。。</p><p id="fd01" class="pw-post-body-paragraph ln lo hi kq b kr mb is lp kt mc iv lq kv md ls lt kx me lv lw kz mf ly lz lb hb bi translated">快乐学习…！！！🙂</p></div></div>    
</body>
</html>