<html>
<head>
<title>Detecting motions using PIR motion sensor with Raspberry PI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用具有Raspberry PI的PIR运动传感器检测运动</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/detecting-motions-using-pir-motion-sensor-with-raspberry-pi-98f88f9d5ffe?source=collection_archive---------13-----------------------#2021-07-05">https://medium.com/geekculture/detecting-motions-using-pir-motion-sensor-with-raspberry-pi-98f88f9d5ffe?source=collection_archive---------13-----------------------#2021-07-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="618b" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">哇！欢迎回到我的第四个树莓派系列。如果你没看过前面的，可以随意<a class="ae jh" rel="noopener" href="/geekculture/how-to-connect-to-the-raspberry-pi-using-mobile-hotspot-2362a6b02efc">查</a>。我在每篇文章的结尾都链接了一些文章。</p></blockquote><p id="b521" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">本文将使用具有Raspberry Pi的PIR(被动红外)传感器构建一个简单的运动检测。PIR传感器用于感应人、动物或其他物体的运动。基本上任何散发红外线热量的物体。温度高于绝对零度的物体以辐射的形式放出热能。通常，这种辐射对人眼来说是不可见的，因为它以红外波长辐射，但它可以被电子设备检测到，如为此目的设计的PIR传感器。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/c0a9e7a71e4b761e09c1c30048c1c869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*-pOiAY7iXvSML7qM.jpg"/></div><figcaption class="jt ju et er es jv jw bd b be z dx"><a class="ae jh" href="https://image.made-in-china.com/202f0j00gqBRrtwGYIkK/High-Quality-Hc-Sr501-Adjust-Infrared-PIR-Motion-Sensor-Detector-Module-for-Raspberry-Pi-or-Arduino.jpg" rel="noopener ugc nofollow" target="_blank">image from image.made-in-china.com</a></figcaption></figure><h2 id="d817" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ji ki kj kk jj kl km kn jk ko kp kq kr bi translated">实用解释:</h2><p id="90b2" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it ji ku iw ix jj kv ja jb jk kw je jf jg hb bi translated">当检测到运动时，其中一个led打开，如果没有检测到运动，另一个led打开。此外，如果检测到运动，将发送一封邮件。</p><h2 id="f0b5" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ji ki kj kk jj kl km kn jk ko kp kq kr bi translated">所需硬件:</h2><ol class=""><li id="dd50" class="kx ky hi il b im ks iq kt ji kz jj la jk lb jg lc ld le lf bi translated">发光二极管</li><li id="b2d9" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">220欧姆电阻</li><li id="617b" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">跳线</li><li id="ad13" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">PIR运动传感器</li><li id="49f2" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">试验板</li><li id="1e91" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">树莓Pi 3型号B+</li><li id="b1c1" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">一个5V 2A微型USB电源适配器。</li></ol><p id="50a6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">以下是对PIR运动传感器的简要说明。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es ll"><img src="../Images/9f67d8426a855ca462a195c331984622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YSNQb5fPrNaU-OOI.jpg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Image from ifuturetech.org</figcaption></figure><p id="83e3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj"> PIR运动传感器:</strong> PIR代表被动红外，由红外探测器、菲涅尔透镜和支持检测电路组成。这种镜头可以探测到任何散发红外线热量的物体，比如人类、动物。热量被运动传感器吸收。</p><p id="502d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">PIR运动传感器有两个电位计，用于设置<strong class="il hj">延迟时间</strong>和<strong class="il hj">灵敏度</strong>。</p><ul class=""><li id="6fae" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lt ld le lf bi translated">延迟时间调整用于设置检测到运动后输出应保持高电平多长时间；它可以从5秒到5分钟不等</li><li id="6dca" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">灵敏度调整用于设置检测范围，范围可以是3到7米。</li></ul><p id="e875" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">PIR运动传感器有三个连接引脚，分别用于电源(VCC)、信号(输出)和接地(GND)。</p><p id="3827" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">PIR运动传感器体积小，价格便宜，功耗低，易于使用，不会磨损。因此，它们通常出现在家用或商用的电器和小工具中。</p><p id="88c7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj">所需软件:</strong></p><ol class=""><li id="ec91" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lc ld le lf bi translated">油灰</li><li id="0b76" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lc ld le lf bi translated">拉斯比安操作系统</li></ol><p id="b5c3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">让我们开始实际的部分。</p><p id="4953" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj">步骤1: </strong>设置电路</p><p id="2552" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">所以我假设你已经成功地做了一些基本的项目。如果没有，可以随意查看我之前的文章<strong class="il hj"> </strong> <a class="ae jh" rel="noopener" href="/geekculture/how-to-blink-led-using-raspberry-pi-8351b06348d7"> <strong class="il hj">这里</strong> </a></p><p id="32d0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj">连接发光二极管和电阻</strong></p><ul class=""><li id="d333" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lt ld le lf bi translated">将led(分别为红色和黄色)连接到试验板。</li><li id="5304" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">选择负极，使用电阻器，将其连接到GND ( <strong class="il hj">引脚39 </strong>)</li><li id="d116" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">将另一端分别连接到GPIO(引脚20和19)</li></ul><p id="b117" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj">连接PIR运动传感器</strong></p><ul class=""><li id="4bd1" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lt ld le lf bi translated">将VCC引脚连接到树莓GPIO的5v电压</li><li id="d051" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">将GND引脚连接到Raspberry GPIO的GND。</li><li id="7854" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">将输出引脚连接到GPIO引脚4。</li></ul><p id="529c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">我们应该有这样的联系。如果没有，请随意使用图片。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es lu"><img src="../Images/ffd2481856ed24ab0cc1860a317600ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SDqbf_F0RpPujCcVNA6wfQ.jpeg"/></div></div></figure><p id="07f3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj">第二步</strong> : python代码</p><ul class=""><li id="ab86" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lt ld le lf bi translated">使用树莓PI的<strong class="il hj"> IP </strong>地址和端口<strong class="il hj"> 22 </strong>对其进行SSH</li><li id="6a6f" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">输入<strong class="il hj">用户名</strong>和<strong class="il hj">密码</strong></li><li id="20c0" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">升级和更新Pi。每次我们使用pi时，总是更新和升级它是一个好习惯。输入<strong class="il hj"> sudo apt-get更新</strong>和<strong class="il hj"> sudo apt-get升级</strong></li><li id="6801" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">创建一个新的python文件<strong class="il hj">sudo nano detect _ motion . py</strong></li><li id="4d74" class="kx ky hi il b im lg iq lh ji li jj lj jk lk jg lt ld le lf bi translated">输入以下代码</li></ul><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="lv lw l"/></div></figure><ul class=""><li id="d702" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lt ld le lf bi translated">使用'<strong class="il hj">python 3 detect _ motion . py</strong>'在终端中运行python文件</li></ul><p id="d5c5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated"><strong class="il hj">结果:</strong></p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lx"><img src="../Images/4f52a6d7379d0e2847a73cd8424f6a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*80D22X19dAaDGocOl7P05Q.png"/></div></figure><p id="82ea" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">还差一步！</p><p id="f13d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">让我们添加以下python代码，以便在检测到运动时发送邮件</p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="9db9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">现在，我们的代码应该是这样的</p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="lv lw l"/></div></figure><ul class=""><li id="42da" class="kx ky hi il b im in iq ir ji lq jj lr jk ls jg lt ld le lf bi translated">最后，在终端中使用<strong class="il hj">python 3 detect _ motion . py</strong>运行python文件</li></ul><p id="b80c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">让我们来看看结果- </p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="ly lw l"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lz"><img src="../Images/3eb79b1ebb7cf43dfb94a18be045233e.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*6ASSVA-DqxZWl4fLwGJzEQ.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es ma"><img src="../Images/45d7644d7256428931bcb3e00383db18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J8_mowVeUgzBiwgbmQg3qA.jpeg"/></div></div></figure><p id="2d8b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">注:确保PIR运动传感器连接正确。</p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="mb lw l"/></div></figure><p id="e8b3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">在 处查看完整代码<a class="ae jh" href="https://github.com/funmi-cod/motionSensor" rel="noopener ugc nofollow" target="_blank"> <strong class="il hj">。</strong></a></p><p id="2c95" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">我将在下一篇文章中分享树莓派的另一个有趣模块— <strong class="il hj"> </strong> <a class="ae jh" rel="noopener" href="/geekculture/how-to-interface-the-picamera-module-with-raspberry-pi-using-python-1570e499cc"> <strong class="il hj"> Pi相机</strong> </a>🙂！</p><p id="2bc7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ji iv iw ix jj iz ja jb jk jd je jf jg hb bi translated">谢谢你坚持到最后。</p></div></div>    
</body>
</html>