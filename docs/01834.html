<html>
<head>
<title>Scrape Bing Videos with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python抓取Bing视频</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/scrape-bing-videos-with-python-81844acfaedf?source=collection_archive---------20-----------------------#2021-04-25">https://medium.com/geekculture/scrape-bing-videos-with-python-81844acfaedf?source=collection_archive---------20-----------------------#2021-04-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/f679047e2b54473d46a6693615479d0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e6JBtYljL-sNiUD1zTQBww.jpeg"/></div></div></figure><div class=""/><p id="81f4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">内容:<a class="ae jo" href="#187b" rel="noopener ugc nofollow">简介</a>，<a class="ae jo" href="#9bc2" rel="noopener ugc nofollow">导入</a>，<a class="ae jo" href="#54cb" rel="noopener ugc nofollow">什么会被刮去</a>，<a class="ae jo" href="#9c5f" rel="noopener ugc nofollow">流程</a>，<a class="ae jo" href="#5fc3" rel="noopener ugc nofollow">代码</a>，<a class="ae jo" href="#13e3" rel="noopener ugc nofollow">提取所有视频</a>，<a class="ae jo" href="#1ddc" rel="noopener ugc nofollow">链接</a>，<a class="ae jo" href="#5a41" rel="noopener ugc nofollow"> outro </a>。</p><h1 id="187b" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">介绍</h1><p id="573d" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">这篇博文是由<a class="ae jo" href="https://dev.to/silanoa/comment/1gael" rel="noopener ugc nofollow" target="_blank"> Rosalex A </a>请求的，是Bing网页抓取系列的后续。在这里，您将看到如何使用Python通过<code class="du ks kt ku kv b">beautifulsoup</code>、<code class="du ks kt ku kv b">requests</code>、<code class="du ks kt ku kv b">lxml</code>和<code class="du ks kt ku kv b">selenium</code>库抓取视频结果。</p><p id="fcc2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您将看到两种方法:</p><ul class=""><li id="d56e" class="kw kx ht is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">用<code class="du ks kt ku kv b">beautifulsoup</code>收集多达10个视频结果。</li><li id="0d3a" class="kw kx ht is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">使用<code class="du ks kt ku kv b">selenium</code>滚动到搜索结果的末尾，抓取所有视频结果。</li></ul><p id="0c23" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lk">注意:这篇博文假设你熟悉</em> <code class="du ks kt ku kv b"><em class="lk">beautifulsoup</em></code> <em class="lk">、</em> <code class="du ks kt ku kv b"><em class="lk">requests</em></code> <em class="lk">和</em> <code class="du ks kt ku kv b"><em class="lk">selenium</em></code> <em class="lk">库，并且对</em> <code class="du ks kt ku kv b"><em class="lk">CSS</em></code> <em class="lk">选择器有基本的经验。</em></p><h1 id="9bc2" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">进口</h1><pre class="ll lm ln lo fd lp kv lq lr aw ls bi"><span id="a61a" class="lt jq ht kv b fi lu lv l lw lx">from bs4 import BeautifulSoup<br/>import requests, lxml<br/>from selenium import webdriver</span></pre><h1 id="54cb" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">会刮什么</h1><figure class="ll lm ln lo fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ly"><img src="../Images/b90dfc100d453fa1867e3747e38ce2ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2CjwBg5VEjb1x0Pu.png"/></div></div></figure><h1 id="9c5f" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">过程</h1><p id="6a7f" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">为容器、标题、视频URL、观看次数、频道名称、平台、发布日期选择<code class="du ks kt ku kv b">CSS</code>选择器。<a class="ae jo" href="https://www.w3schools.com/cssref/css_selectors.asp" rel="noopener ugc nofollow" target="_blank"> <em class="lk"> CSS选择器参考</em> </a> <em class="lk">。</em></p><figure class="ll lm ln lo fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/fb8c1d2f0154b6f39a433b19b1ffc718.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*lSNuPlcNr3GenQ85.gif"/></div></figure><h1 id="5fc3" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">密码</h1><figure class="ll lm ln lo fd hk"><div class="bz dy l di"><div class="ma mb l"/></div></figure><figure class="ll lm ln lo fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/68a00a1ecb5095f047d342cf7662ac86.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*92MvA-TgnGsc_TrN.gif"/></div></figure><h1 id="13e3" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">提取所有视频</h1><p id="620f" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">要提取所有视频，我们需要向下滚动页面，然后在按钮出现时单击它，并再次向下滚动到视频结果的末尾。</p><p id="0d52" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用<code class="du ks kt ku kv b">Selenium</code>向下滚动，您可以使用<code class="du ks kt ku kv b">.send_keys()</code>方法。</p><pre class="ll lm ln lo fd lp kv lq lr aw ls bi"><span id="e657" class="lt jq ht kv b fi lu lv l lw lx">driver.find_element_by_xpath('xpath').send_keys(Keys.KEYBOARD_KEY) <br/># in our case .send_keys(Keys.END) to scroll to the bottom of the page</span></pre><p id="f54b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你也可以像我在<a class="ae jo" href="https://dev.to/dimitryzub/scrape-youtube-search-with-python-part-1-j12" rel="noopener ugc nofollow" target="_blank"> YouTube搜索</a> web抓取系列中所做的那样，通过调用DOM来执行脚本，但是在这种情况下它对我不起作用，或者说我做错了什么。</p><pre class="ll lm ln lo fd lp kv lq lr aw ls bi"><span id="dc06" class="lt jq ht kv b fi lu lv l lw lx">driver . execute_script ( "var scrollingElement = (document.scrollingElement || document.body);scrollingElement.scrollTop = scrollingElement.scrollHeight;" ) # https://stackoverflow.com/a/57076690/15164646 (contains several references)</span></pre><p id="5563" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，嗒嗒。要点击你只有一个选择:<code class="du ks kt ku kv b">.click()</code>方法。</p><pre class="ll lm ln lo fd lp kv lq lr aw ls bi"><span id="67de" class="lt jq ht kv b fi lu lv l lw lx">driver.find_element_by_css_selector('.selector').click()</span></pre><p id="7315" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">提取所有视频结果的完整代码</strong></p><figure class="ll lm ln lo fd hk"><div class="bz dy l di"><div class="ma mb l"/></div></figure><figure class="ll lm ln lo fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/32c72bbc3195672c310bf7d663a7a4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*-J3CbTBUK7BOh0yS.gif"/></div></figure><p id="7b19" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lk">GIF被加速了1550% </em></p><h1 id="1ddc" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">链接</h1><p id="6ab1" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><a class="ae jo" href="https://gist.github.com/dimitryzub/de0088ca1354d9f5f43a366198fd9a26" rel="noopener ugc nofollow" target="_blank">前10个结果的GitHub要点</a><strong class="is hu"/><a class="ae jo" href="https://gist.github.com/dimitryzub/b83db5c1a7f4ff94ac4b9ee9931bd790" rel="noopener ugc nofollow" target="_blank">所有视频结果的GitHub要点</a></p><h1 id="5a41" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结尾部分</h1><p id="6813" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">虽然不是最快的解决方案，但它提供了滚动直到不再显示结果的能力。其他步骤可能是向该代码添加<code class="du ks kt ku kv b">async</code>功能。</p><p id="767d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你发现有些东西不能正常工作，或者如果你想看看如何用Python/Ruby来解决一些我还没有写到的问题，请给我写封邮件。</p><figure class="ll lm ln lo fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/b0650561032f789e72c943dd41425b2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*P5WQClsfDA6BBjii.gif"/></div></figure></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="fa46" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lk">原载于2021年4月25日</em><a class="ae jo" href="https://dev.to/dimitryzub/scrape-bing-videos-with-python-5hjd" rel="noopener ugc nofollow" target="_blank"><em class="lk">https://dev . to</em></a><em class="lk">。</em></p></div></div>    
</body>
</html>