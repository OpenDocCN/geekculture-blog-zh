<html>
<head>
<title>De-identifying Sensitive Information in Salesforce with Google Cloud Data Loss Prevention</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用谷歌云数据丢失防护消除Salesforce中的敏感信息</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/de-identifying-sensitive-information-in-salesforce-with-google-cloud-data-loss-prevention-ffb717f17207?source=collection_archive---------3-----------------------#2021-02-04">https://medium.com/geekculture/de-identifying-sensitive-information-in-salesforce-with-google-cloud-data-loss-prevention-ffb717f17207?source=collection_archive---------3-----------------------#2021-02-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="29a4" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何从检测转向预防—大规模消除敏感数据</h2></div><h1 id="3fca" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="cab1" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">本文探讨了使用<a class="ae kl" href="https://cloud.google.com/dlp" rel="noopener ugc nofollow" target="_blank">谷歌云数据丢失防护</a>从敏感数据的检测和分类转移到<strong class="jr hj">防护</strong>。我将使用Salesforce作为数据源来证明我们如何能够近实时地<strong class="jr hj">去识别</strong>非结构化数据中的个人、健康、凭证和财务信息。</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="fa5e" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">Google Cloud DLP是一项完全托管的服务，旨在帮助您发现、分类和保护您最敏感的数据。我喜欢它的一点是，它可以轻松地从检测转向预防，提供旨在屏蔽敏感信息的服务和衡量重新识别风险的服务(可能与单个个人或小团体相关的数据元素或组合)。</p><p id="a61e" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">我的目标是能够证明<strong class="jr hj">编辑非结构化数据中的</strong>敏感信息的能力——并大规模实现。</p><blockquote class="ky kz la"><p id="1a38" class="jp jq lb jr b js kt ij ju jv ku im jx lc kv ka kb ld kw ke kf le kx ki kj kk hb bi translated"><em class="hi">我可以在Salesforce中编辑</em>  <em class="hi">电子邮件、文件和聊天中输入的敏感数据吗？我能否检测到某人是否在其通信中包含了信用卡号、税务档案号、医疗保健号和其他敏感数据？</em></p></blockquote><p id="62d6" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">以下是我决定测试的约束。</p><ul class=""><li id="6c09" class="lf lg hi jr b js kt jv ku jy lh kc li kg lj kk lk ll lm ln bi translated">编辑密码、云api密钥、医疗卡和信用卡号</li><li id="b7d6" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">近乎实时地编辑文本和图像中的敏感信息</li><li id="8860" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">每分钟处理100条记录，并提供可扩展的存储</li><li id="e28f" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">必须有针对意外停机的冗余设计</li><li id="5ee9" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">必须能够使用Salesforce以外的数据源</li></ul><figure class="lu lv lw lx fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es lt"><img src="../Images/2754157572d87100bd462e1f7a96df9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S7S6Ac_qDGMixuHXEkVNhQ.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx">De-identifying data with Google Cloud Data Loss Prevention API</figcaption></figure><p id="30b2" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">我认为我探索了我认为是设计的关键领域背后的思维过程，而不是详细地走一遍设置。</p><h1 id="71dc" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">谷歌设计决策</h1><figure class="lu lv lw lx fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mj"><img src="../Images/dfb5d3855db370accacd1f69501bab44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6ZAalNL0S9B8DKxywiaNg.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx">Supporting disparate data sources using multiple integration patterns and a redundant design</figcaption></figure><h2 id="3cbd" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">1.集成模式</h2><p id="78e8" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated"><strong class="jr hj"> <em class="lb">实时</em> </strong> —为了支持接近实时的用例，我选择了一种异步操作的事件驱动模式。这将扩展到我需要的数量，而不会影响用户体验。</p><p id="1a8c" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj"> <em class="lb">批处理</em> </strong> —为了支持不需要实时支持的应用程序，我已经包含了一个批处理处理器。这具有额外的优点，即它</p><ul class=""><li id="e14d" class="lf lg hi jr b js kt jv ku jy lh kc li kg lj kk lk ll lm ln bi translated">将满足实时处理中的中断需求—轮询源系统中尚未处理的任何记录。</li><li id="f628" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">就Salesforce而言，当源表中的记录被安全地归档到BigQuery中时，它可以删除这些记录，以防止数据过度增长。</li><li id="11d5" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">如果规则发生变化，可以追溯性地删除数据</li></ul><h2 id="8cdf" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">2.储存；储备</h2><p id="30b5" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我选择BigQuery来存储所有去标识的审计数据。这就具备了将Google Cloud DLP作为原生工具运行的能力。它还可以扩展到多个数据源。</p><h2 id="50f0" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">3.服务</h2><p id="b1bf" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">每个需要消除数据标识的应用都有2个微服务。一个托管在Google App Engine上，用于订阅入站事件，另一个托管为云功能，计划定期运行。然后，开发团队可以决定使用哪种编程语言、临时存储和部署模型。</p><p id="9921" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">为每个入站系统使用服务也允许开发者选择哪个<a class="ae kl" href="https://cloud.google.com/dlp/docs/classification-redaction" rel="noopener ugc nofollow" target="_blank">去标识</a>工具和<a class="ae kl" href="https://cloud.google.com/dlp/docs/infotypes-reference" rel="noopener ugc nofollow" target="_blank">数据类型</a>用于他们的用例。</p><p id="c7b2" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">由于Salesforce是我唯一的数据源，我选择:</p><ul class=""><li id="0ca9" class="lf lg hi jr b js kt jv ku jy lh kc li kg lj kk lk ll lm ln bi translated">解密电子邮件地址、澳大利亚医疗卡号、GCP API密钥、密码和信用卡号</li><li id="0318" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">用星号掩盖信用卡号码</li><li id="f607" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">为了可读性，将其他敏感数据替换为信息类型，这样jane@secretemail.com就变成了[编辑的电子邮件地址]</li></ul><p id="72c3" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">因此，从DLP批处理或实时服务向Google de-identification服务发出的请求示例如下所示:</p><figure class="lu lv lw lx fd ly"><div class="bz dy l di"><div class="my mz l"/></div><figcaption class="mf mg et er es mh mi bd b be z dx">JSON structure to de-identify text using Google Cloud DLP API</figcaption></figure><p id="2c47" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">对于图像，需要以下请求结构</p><figure class="lu lv lw lx fd ly"><div class="bz dy l di"><div class="my mz l"/></div><figcaption class="mf mg et er es mh mi bd b be z dx">JSON structure to de-identify images using Google Cloud DLP API</figcaption></figure><h1 id="ef34" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">Salesforce设计决策</h1><figure class="lu lv lw lx fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es na"><img src="../Images/51107686aa7761815d7b679852680f33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-qqgMK47Z-NI0FLBivRlGw.png"/></div></div></figure><h2 id="dd95" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">1.数据源、DLP处理和存储</h2><p id="ac38" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">Salesforce中的数据源需要涵盖客户可能输入敏感数据的常见用例。一个好的解决方案应该尽可能覆盖这些对象的最大集合。在这里我证明了。</p><ul class=""><li id="b8fe" class="lf lg hi jr b js kt jv ku jy lh kc li kg lj kk lk ll lm ln bi translated">内容版本—扫描的JPEG文件</li><li id="741d" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">FeedItem和FeedComment —非结构化聊天</li><li id="e664" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">LiveChatTranscript —网络聊天对话</li><li id="6ca8" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">电子邮件—入站电子邮件通信</li><li id="24e5" class="lf lg hi jr b js lo jv lp jy lq kc lr kg ls kk lk ll lm ln bi translated">标准和自定义对象中的文本字段—一般非结构化输入</li></ul><p id="5a12" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">现在，我已经确定了潜在敏感数据的来源，我需要这些数据来决定将他们的更新传送到Google的最佳方式。由于这是架构的关键部分，我根据我用来评估API关键决策的3个关键标准(增长和规模、Salesforce对象支持和易维护性)总结了我的思考过程。</p><blockquote class="ky kz la"><p id="2ba1" class="jp jq lb jr b js kt ij ju jv ku im jx lc kv ka kb ld kw ke kf le kx ki kj kk hb bi translated">这些年来，我学到的最重要的技能是研究每个选项的调控器限制，并根据您的用例研究估计的使用情况。现在规划替代方案比开始构建后更容易，并且将确保您的解决方案可以增长和扩展。</p></blockquote><p id="e5ac" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj">流</strong> —下表总结了事件驱动集成模式的选项。</p><figure class="lu lv lw lx fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es nb"><img src="../Images/f242ab146b40483941cb38b3bb913821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hbDi31XHdZkdVH5XwkeRFw.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx">Options for streaming updates from Salesforce</figcaption></figure><p id="2720" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">正如你所看到的，我决定选择第二种——因为考虑到规模、对象支持和易于维护，这是最不坏的选择。</p><p id="173e" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">我创建了一个中央自定义对象(DLP_Audit__c ),并有一个Apex触发器框架来从每个对象获取原始数据，并对其进行预处理以获得一致的形状。</p><blockquote class="ky kz la"><p id="2cb3" class="jp jq lb jr b js kt ij ju jv ku im jx lc kv ka kb ld kw ke kf le kx ki kj kk hb bi translated">其他集成选项呢？</p></blockquote><p id="1cf2" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">为了完整起见，让我们快速掩盖其他选项，以及我为什么认为它们不适合这个目的的一些理由。</p><p id="ab96" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj"> <em class="lb">同步顶点</em></strong>——不是个好主意。这可能会达到调控器的限制，导致显示错误和同步阻塞事务的性能问题。</p><figure class="lu lv lw lx fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es nc"><img src="../Images/d0bd8f3ef8714a16e8847f7657d3de24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KDLMklrtASNkwrBc1omLZA.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx">Synchronous Apex</figcaption></figure><p id="f7f9" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj"> <em class="lb">异步顶点</em> </strong> —更好的主意。无论是批处理还是未来的调出都会减轻调控器限制，但我们仍有可能在短时间内添加大量的未来请求，并且可能会由于流量控制而经历较长的延迟。我们还必须考虑这样一个事实，即未来的调用不一定按照它们被调用时的顺序执行，这可能会导致插入和编辑混淆，从而可能导致我们打乱字段值的顺序。</p><figure class="lu lv lw lx fd ly er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es nc"><img src="../Images/9f41b5eb93ec517d8427108b171bf797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rn4pCnDlC4syp33usdd9XQ.png"/></div></div><figcaption class="mf mg et er es mh mi bd b be z dx">Asynchronous Apex</figcaption></figure><blockquote class="ky kz la"><p id="de30" class="jp jq lb jr b js kt ij ju jv ku im jx lc kv ka kb ld kw ke kf le kx ki kj kk hb bi translated">设计决策并不总是有一个正确和错误的答案。通过使用交通灯系统并确保你的推理被记录下来，你可以增加你做出一个好决定的可能性。</p></blockquote><h2 id="5fb3" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">2-流式传输</h2><p id="7f2b" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">为了让订阅者随时可以使用DLP_Audit__c中的事件，我创建了一个<a class="ae kl" href="https://developer.salesforce.com/docs/atlas.en-us.228.0.api_tooling.meta/api_tooling/tooling_api_objects_platformeventchannel.htm" rel="noopener ugc nofollow" target="_blank">自定义通道</a>。这允许我插入我想要包含的字段。在这种情况下，一个外部id表示BigQuery中的id，用于标识它是否已经被处理。</p><pre class="lu lv lw lx fd nd ne nf ng aw nh bi"><span id="f7eb" class="mk iy hi ne b fi ni nj l nk nl">//Create the channel<br/>{<br/> “FullName”: “DLP__chn”,<br/> “Metadata”: {<br/> “channelType”: “data”,<br/> “label”: “Data Loss Prevention Channel”<br/> }<br/>}</span><span id="d8c6" class="mk iy hi ne b fi nm nj l nk nl">//Associate the channel to the DLP_Audit__c Change Events<br/>{<br/> “FullName”: “DLP_Channel_DLP_Audit_ChangeEvent”,<br/> “Metadata”: {<br/> “eventChannel”: “DLP__chn”,<br/> “selectedEntity”: “DLP_Audit__ChangeEvent”<br/> }<br/>}</span></pre><h2 id="1841" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">3 —批次</h2><p id="ba9f" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">该架构的一个关键部分是冗余设计。事情会出错，我想减轻对业务的影响。一个预定的批处理作业将允许我通过轮询未处理的记录并执行它们来进行恢复。</p><p id="dfb7" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">因为我希望能够一次性处理多达5天的数据，所以我需要能够提取和识别大约。36万条记录。(每天7.2万)。为了处理大数据量，Salesforce提供了批量API，并允许我处理大批量的查询和更新(每批10，000条记录)。不使用批量API可能会导致您超过每24小时的最大API调用次数(100，000 +(许可证数量x每种许可证类型的调用次数)+购买的API调用附加组件)。</p><p id="f71c" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">通过使用批量API，我可以确保处理360，000条审计记录时只使用72个API调用(36个用于查询，36个用于相应的更新)。</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h1 id="87bb" class="ix iy hi bd iz ja nn jc jd je no jg jh io np ip jj ir nq is jl iu nr iv jn jo bi translated">摘要</h1><p id="ba56" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">Google Cloud Data Loss Prevention服务允许您检测和保护可能包含敏感信息的资产，并且可以在您的企业中扩展以支持大量的用例。</p><p id="ac3c" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated">通过使用这种架构，我能够证明以下几点:</p><h2 id="ef77" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">1.chatter帖子中的自由文本可以被编辑</h2><div class="lu lv lw lx fd ab cb"><figure class="ns ly nt nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/24bde3a71eec5aeb86ee09bde6cde1bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*4dbGZUnMcR-9dWwWpa6MSg.png"/></div></figure><figure class="ns ly ny nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/62e94ec918b489e90393561feb94b064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*_d2TpVaw2QnMb-bALXEBLw.png"/></div><figcaption class="mf mg et er es mh mi bd b be z dx nz di oa ob">Before and after: email addresses and credit card numbers are redacted</figcaption></figure></div><h2 id="ce3c" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">2.入站电子邮件可以被编辑</h2><div class="lu lv lw lx fd ab cb"><figure class="ns ly oc nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/75b9581bf5d55163f69591140a6b17b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*nBodjXbnYP8kPyCLfRN2rw.png"/></div></figure><figure class="ns ly od nu nv nw nx paragraph-image"><img src="../Images/bceb533f636edb8f7be2ce84e67d4112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*i8q5Iod7lSKJxd7xYnPqeQ.png"/><figcaption class="mf mg et er es mh mi bd b be z dx nz di oa ob">Before and after: Inbound emails from customers — sensitive information redacted</figcaption></figure></div><h2 id="657d" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">3.标准和自定义对象中的字段值可以被修订</h2><div class="lu lv lw lx fd ab cb"><figure class="ns ly oe nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/ff7b62be811832e52a579d38e1b70558.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*_f_FE6--OdCP8TgwrDyuuQ.png"/></div></figure><figure class="ns ly of nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/28757fc72ff72d2b3fff58d651c47052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*rF0oxkrsUjEHfnfKwbTUTw.png"/></div><figcaption class="mf mg et er es mh mi bd b be z dx nz di oa ob">Before and after: Free text fields on standard and custom objects</figcaption></figure></div><h2 id="5524" class="mk iy hi bd iz ml mm mn jd mo mp mq jh jy mr ms jj kc mt mu jl kg mv mw jn mx bi translated">4.图像可以被编辑(JPEG)</h2><div class="lu lv lw lx fd ab cb"><figure class="ns ly og nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/697ba9888cdcf9fe93b24d0d0bfeb2db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*_HTIFFNfUefPt99QLqKD0g.png"/></div></figure><figure class="ns ly oh nu nv nw nx paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><img src="../Images/026ccb043f658c9637563069177f2e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*lysgc2zXGKIGkgtV_HZ5Pw.png"/></div><figcaption class="mf mg et er es mh mi bd b be z dx oi di oj ob">Before and after: Supported file types have the same data types redacted using opaque boxes</figcaption></figure></div></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h1 id="230b" class="ix iy hi bd iz ja nn jc jd je no jg jh io np ip jj ir nq is jl iu nr iv jn jo bi translated">逮到你了</h1><p id="3cd6" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">和大多数事情一样，我犯了以下错误，这些错误会在我将来的技术设计中考虑进去。</p><p id="85eb" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj">增强型电子邮件</strong> —如果您使用增强型电子邮件，您的Apex处理人员必须能够编辑与入站电子邮件相关的任务和电子邮件记录。此外，由于电子邮件是只读的，您必须在获得身份取消结果后删除原始记录，并创建一个新记录。</p><p id="e01e" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj">文件</strong> —这种架构假设您可以在流程中删除包含敏感数据的文件，并用修订版替换它们。</p><p id="044d" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj">审计字段</strong> —对于文件和增强型电子邮件，由于您正在删除和重新创建记录，因此您需要确保使用原始记录中的日期设置CreatedDate和LastModifiedDate字段。为此，集成用户需要拥有“创建记录时设置审核字段”权限。</p><p id="d1a0" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj">字段历史跟踪</strong> —由于架构依赖异步事件，Salesforce已经对数据变更进行了审核。如果您已请求跟踪字段历史，这意味着可识别数据已被复制到相应的历史对象中。我将确保我没有跟踪任何我因此想要取消标识的字段，而是跟踪在取消标识服务运行后更新的影子字段。</p><p id="27dc" class="pw-post-body-paragraph jp jq hi jr b js kt ij ju jv ku im jx jy kv ka kb kc kw ke kf kg kx ki kj kk hb bi translated"><strong class="jr hj">图像</strong> —图像的去识别仅限于JPEG、BMP和PNG。尚不支持DOCX和PDF。</p></div></div>    
</body>
</html>