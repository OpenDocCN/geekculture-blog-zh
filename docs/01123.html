<html>
<head>
<title>Faster Vue App Page Load By Lazy Loading Youtube iFrame Embed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过延迟加载Youtube iFrame Embed加快Vue应用程序页面加载</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/light-and-responsive-youtube-embeds-faster-vue-web-page-load-speeds-c8e477b93f0f?source=collection_archive---------20-----------------------#2021-03-28">https://medium.com/geekculture/light-and-responsive-youtube-embeds-faster-vue-web-page-load-speeds-c8e477b93f0f?source=collection_archive---------20-----------------------#2021-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="5a12" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">目标是以快速、轻量级的方式将YouTube视频嵌入到您的Vue网页上，减少加载时间并按需嵌入视频，从而减小您的网页大小，提高您的页面速度和Google排名。</p></blockquote><p id="b089" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">嵌入一个YouTube视频对任何参与网络的人来说已经变得非常容易；复制，粘贴，完成。然而，引入像YouTube视频这样的外部资源会降低网页的加载性能，尤其是在同一页面上嵌入了两个或更多视频的情况下。</p><p id="564a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">单个嵌入的YouTube视频相当于25个HTTP请求，总共下载了大约899 KB(见截图)。随着我们在页面上嵌入更多视频，这些数字还会攀升。并且这些文件甚至在访问者点击播放按钮之前就被下载了。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/8d387175dc7df5fb544003fd5e276f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*HKDZCvI2OtmjhsPCQ5dqzA.png"/></div></figure><p id="93e6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果你没有自动播放视频，那么为什么在你不需要的时候减慢你的初始页面加载速度？</p><p id="cf46" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">默认YouTube嵌入代码的另一个缺点是，它提供了一个固定尺寸的视频播放器，并且没有响应能力。</p><h1 id="dcdb" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">“延迟加载”——嵌入YouTube视频而不增加页面大小</h1><p id="3d53" class="pw-post-body-paragraph ii ij hi il b im kq io ip iq kr is it jh ks iw ix ji kt ja jb jj ku je jf jg hb bi translated">它不是在页面加载时嵌入完整的播放器，而是只显示一个缩略图和视频标题，并覆盖一个播放按钮。YouTube播放器的资源不会被加载，除非访问者真的点击了播放按钮，这100%解决了上述问题。</p><p id="55ba" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">要在Vue应用程序中实现这一点，您必须做到以下几点:</p><p id="dafe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">第一步:</strong></p><p id="071b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在你的vue.js应用中添加<a class="ae kv" href="https://github.com/seeratawan01/vue-lazytube" rel="noopener ugc nofollow" target="_blank"> <strong class="il hj"> vue-lazytube </strong> </a>包，有了这个你就可以轻松嵌入YouTube播放器，懒人加载视频，节省资源，减少初始加载大小。</p><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="8267" class="lb jt hi kx b fi lc ld l le lf">npm install --save vue-lazytube</span></pre><p id="1f1c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">第二步:</strong></p><p id="dbe6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">现在你所要做的就是在你的项目中导入‘lazy Youtube’并传递YouTube视频链接作为道具。<em class="ik"> ( </em> <a class="ae kv" href="https://codesandbox.io/s/vue-lazytube-forked-17o8v?file=/src/App.vue" rel="noopener ugc nofollow" target="_blank"> <em class="ik">参见演示</em> </a> <em class="ik"> ) </em></p><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="6300" class="lb jt hi kx b fi lc ld l le lf">&lt;template&gt;<br/>    &lt;LazyYoutube<br/>        src="https://www.youtube.com/watch?v=TcMBFSGVi1c"<br/>    /&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>    import { LazyYoutube } from 'vue-lazytube'</span><span id="51c0" class="lb jt hi kx b fi lg ld l le lf">    export default {<br/>      name: "YourAwesomeComponent",<br/>      components: {<br/>        LazyYoutube<br/>      },<br/>    };<br/>&lt;/script&gt;</span></pre><p id="1ffe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">现在它只渲染一个缩略图和一个视频标题，并覆盖一个播放按钮，你可以使用<a class="ae kv" href="https://github.com/seeratawan01/vue-lazytube#props" rel="noopener ugc nofollow" target="_blank">道具</a>进一步定制。所以当访问者点击播放按钮时，它就会加载资源并播放视频。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lh"><img src="../Images/84a39defa47d15e4b46ee83909dd3e06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OX9YB2KtV6TijwfKmJk9XA.png"/></div></div></figure><p id="7ea3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj"/><a class="ae kv" href="https://www.npmjs.com/package/vue-lazytube" rel="noopener ugc nofollow" target="_blank"><strong class="il hj"/></a><strong class="il hj">提供的所有特性:</strong></p><ul class=""><li id="0d86" class="lm ln hi il b im in iq ir jh lo ji lp jj lq jg lr ls lt lu bi translated">将每个视频的初始加载大小减少约1.1 MB</li><li id="9544" class="lm ln hi il b im lv iq lw jh lx ji ly jj lz jg lr ls lt lu bi translated">通过<code class="du ma mb mc kx b">props</code>全面响应和定制</li><li id="c812" class="lm ln hi il b im lv iq lw jh lx ji ly jj lz jg lr ls lt lu bi translated">提供控制(<code class="du ma mb mc kx b">play</code>、<code class="du ma mb mc kx b">stop</code>、<code class="du ma mb mc kx b">pause</code>和<code class="du ma mb mc kx b">reset</code>)嵌入视频的方法</li><li id="836d" class="lm ln hi il b im lv iq lw jh lx ji ly jj lz jg lr ls lt lu bi translated">提供选项来设置嵌入视频的自定义标题和预览</li><li id="cc7b" class="lm ln hi il b im lv iq lw jh lx ji ly jj lz jg lr ls lt lu bi translated">支持的平台:Youtube和Vimeo</li></ul><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="md me l"/></div><figcaption class="mf mg et er es mh mi bd b be z dx">Complete Demo</figcaption></figure><p id="8ccc" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这就是全部了。你只是把你的<a class="ae kv" href="https://developers.google.com/speed/pagespeed/insights/" rel="noopener ugc nofollow" target="_blank">谷歌页面速度洞察</a>分数减少了一两秒。</p><p id="078c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">谢谢……</em></p></div></div>    
</body>
</html>