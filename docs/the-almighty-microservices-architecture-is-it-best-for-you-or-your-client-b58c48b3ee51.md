# 全能微服务架构:对你还是对你的客户最好？

> 原文：<https://medium.com/geekculture/the-almighty-microservices-architecture-is-it-best-for-you-or-your-client-b58c48b3ee51?source=collection_archive---------55----------------------->

![](img/c8b2712bdf6106d3580ccf1500813e7c.png)

Photo by [Alina Grubnyak](https://unsplash.com/@alinnnaaaa?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

新客户项目的开始经常伴随着这样的问题，即哪种架构适合产品的生命周期。这种产品，无论是:概念验证、寻求开发过程现代化的项目中期开发，还是需要完全数字化转型的成熟产品，都必须满足独特的消费者需求。

在过去的几年里，我有机会为一家大型科技公司工作，该公司是云技术和车库方法(敏捷开发的极端版本)开发方法的行业领导者。这种双面创新涵盖了整个开发过程，让我在为一系列客户设计和开发应用程序方面积累了经验。从小型创业公司一直到大型企业公司；所有人都希望利用最热门的新微服务云技术来提升他们的用户和开发人员体验。延迟、可伸缩性、可用性、数据一致性等术语。经常被认为是确保最干净的用户体验的关键点。一次又一次，我听到同样的话:

> “应用独石不好。微服务好。”

随着分布式计算、松散耦合的轻量级服务和高度可维护/可测试的代码等概念变得越来越有吸引力，微服务架构已经成为大规模应用程序架构的事实上的标准。我想提供一个相反的观点，并提出不是所有的现代应用程序都需要遵循微服务架构。在许多情况下，微服务可能过于复杂，而整体服务实际上可以提供更好的用户体验。为了确定你属于哪个阵营，我建议你和你的客户在承诺采用微服务基础设施之前问自己一系列 **5 个问题**。

# **但是首先，什么是微服务？**

按照孔阳在[简单术语](https://enterprisersproject.com/article/2017/8/how-explain-microservices-plain-english)中的定义，微服务是“一种开发软件应用程序的方法，这些应用程序由可独立部署的模块化服务组成。每个微服务运行一个独特的流程，并通过一个定义良好的轻量级机制(如容器)进行通信，以服务于一个业务目标。”换句话说，微服务将大型应用程序的功能分解成更小的、可管理的块，这些块在部署和维护方面相互独立。这与传统的“整体”方法完全不同，在传统方法中，整个应用程序是一次性部署的，并作为一个实体进行管理、扩展和维护。

![](img/7cdd6161f36a588cc0458782947b4b90.png)

Photo by [Clint Adair](https://unsplash.com/@clintadair?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

## **根据杰里米·希尔波特的说法，** [**这种策略的好处**](https://blog.dreamfactory.com/7-key-benefits-of-microservices/) **不胜枚举**

*   **改进的可扩展性:**如果您需要在不影响应用程序其他部分的情况下独立扩展应用程序的特定功能，微服务是一个强大的框架。您可以优雅地添加、删除和更新功能单元，而不会影响或损害应用程序的其他部分。这在与 Kubernetes 或 OpenShift 等云/容器编排工具结合使用时非常有用，这些工具可以自动处理扩展、pod 监控/再生、100%可用性等。
*   **更具弹性的应用程序的故障隔离:**由于工作负载彼此独立运行的自治特性，一个工作负载中的服务故障可能不会影响其他工作负载
*   **与编程语言和技术无关:**集群中的微服务可以相互通信，而与构建特定服务所使用的语言或技术无关。这是开发灵活性的一个主要好处，可以更好地适应项目中的不同情况或新技术，而整体应用程序可能需要坚持一个编程语言家族。
*   **更好的数据安全性和合规性:**集群中的微服务管理隔离容器中的数据，并利用安全 API 相互通信，确保只有授权用户和资源才能查看数据。
*   **更快的上市时间和“面向未来”**:因为添加和删除微服务架构非常容易；开发和升级(无论是新的还是现有的服务)可以非常快速地进行，并且对集群上的其他资源几乎没有干扰。CI/CD 是这一框架的关键部分。
*   **更大的业务灵活性和对 DevOps 的支持:**对模块化框架的关注允许在小迭代中实现更高的开发速度。如果出现问题，更改可以很容易地回滚。
*   小团队支持:对于像服务集群这样复杂的架构，更有效的方法是让小团队直接沟通，每个微服务由一个特定的团队管理。每个微服务更小的代码库使得由更小的团队维护和部署代码的任务变得更加容易。这个团队框架始终产生更多的产出，并且总体上为开发人员提供了更好的体验。

## **然而，这个框架不存在没有**[](https://solace.com/blog/microservices-advantages-and-disadvantages/)**的一些弊端**

*   ****更高的价位:**微服务的复杂性需要一个足够的托管架构，有更多的安全性和维护支持。托管多种高可用性服务通常会带来更高的价格。对于已经作为一个整体托管其服务并希望向微服务基础架构进行全面数字化转型的企业客户来说，寻找这些资源以及雇用有能力的开发人员和开发运维工程师的初始投资通常是一个高昂的价格。**
*   ****复杂性增加:**想象一下将一个大规模的整体分割成较小的服务，每个服务负责一个功能。这是一个完全由通信和复杂的安全网络驱动的网络。像调试这样的任务变得更难跟踪调用堆栈中实际发生故障的点，尽管微服务的单元测试可能更容易，但集成测试却不容易。这不仅需要测试单个实体，还需要测试整个链中的每个 API 调用。**
*   ****接口变更涉及修改其他服务:**微服务基础设施依赖于功能性工作负载之间简洁、一致的网络通信。这些 API 端点定义了它们与任何其他可能调用它们的服务或客户端之间的接口/契约。如果服务包含经常使用的功能，它甚至可以被多个不同的客户端/服务调用。当一个 API/接口需要改变时，问题就来了。这可能会对调用服务产生级联效应，这些服务也需要进行更改以适应新的修改。否则，它可能无法与微服务正常通信。**

# ****底线****

**微服务[解决了企业应用在同时为数百万客户端提供服务时面临的许多扩展性、可用性和组织问题](https://microservices.io/)。然而，在承担构建微服务基础设施的长期任务之前，非常需要了解项目的范围和时间表、可用资源以及对复杂性的容忍度。你与客户和团队的对话至少需要解决以下问题，否则你将面临浪费大量时间和金钱的风险。**

## ****深入微服务之前要问的 5 个问题****

1.  **您从开发到生产的**时间表**是否合理地支持安全地**设计、构建和配置**一个完整的微服务架构所需的时间长度？**
2.  **您在**架构、开发、开发、维护和管理**方面的**预算**是否足以满足应用程序的整个生命周期？**
3.  **像**延迟、可伸缩性、可用性和改进的安全性**这样的**微服务**主题对您应用的用户/消费者数量重要吗？或者你有一个更小的用户群，可以通过传统的单体结构？**
4.  **您的**开发和 DevOps 团队是否足够成熟**来处理在项目生命周期中持续部署、保护和扩展多个服务的纯粹复杂性？**
5.  **你的开发团队能否以这样一种方式组织**以使他们可以与微服务由**小团队**单独管理的想法协同工作，这些小团队通过直接的**通信**和改进的**操作灵活性**授权？****

**只有当这些问题的答案都是“是”的时候，你才应该考虑让微服务成为你的项目的选择。如果应用程序很大，很复杂，并且非常需要被控制以满足大量的用户需求，那么微服务可能正是你要找的。**

## **资源**

1.  **凯西凯文。"[如何用通俗易懂的英语解释微服务](https://enterprisersproject.com/article/2017/8/how-explain-microservices-plain-english)"企业家项目。2017 年 8 月 16 日。**
2.  **迪盖尔莎拉。"[微服务优缺点:你需要知道的一切](https://solace.com/blog/microservices-advantages-and-disadvantages/)。"慰藉。2020 年 6 月 1 日。**
3.  **牧师，迈克尔。"[不使用微服务的 5 个理由](https://blog.runscope.com/posts/5-reasons-not-to-use-microservices)。"Runscope 博客。2018 年 10 月 25 日。**
4.  **希尔波特杰里米。"[微服务的 7 大优势](https://blog.dreamfactory.com/7-key-benefits-of-microservices/)。"梦工厂。2020 年 3 月 16 日。**
5.  **克里斯·理查森。"[什么是微服务？](https://microservices.io/)《微服务. io. 2018。**
6.  **卢梅塔，杰克。"[应该构建还是购买微服务？](https://buttercms.com/books/microservices-for-startups/should-you-build-or-buy-microservices)“ButterCMS。**