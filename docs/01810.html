<html>
<head>
<title>Web Development: Apache2 Servers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web开发:Apache2服务器</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/web-development-apache2-servers-71f1e82d945d?source=collection_archive---------16-----------------------#2021-04-24">https://medium.com/geekculture/web-development-apache2-servers-71f1e82d945d?source=collection_archive---------16-----------------------#2021-04-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/637f9eecb7e0509f40bbcb99aba87113.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*hRd-FJvsygykeIhNFROxBw.jpeg"/></div></figure><p id="5073" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在你的网站开发之旅的某个时候，你会想要完全控制你的网站，掌握虚拟主机的艺术可以让你更接近这个目标。如果您正在阅读这篇文章，我假设您已经习惯于查看代码和使用linux终端。我将介绍使用raspberry pi 4B模型设置apache2服务器的基础知识，因此您应该有一些经验。</p><p id="5416" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">旁注:</strong>如果你还没有尝试过树莓派，我强烈推荐它。它们可以包含范围广泛的实际项目，并教会您许多关于Linux的精彩世界。入场费低。我的pi以大约100美元(T3)的价格(当时还是全新的)成套件的形式出现在<a class="ae jk" href="https://www.microcenter.com/product/621439/raspberry-pi-4-model-b---2gb-ddr4" rel="noopener ugc nofollow" target="_blank">。你也可以在低至</a><a class="ae jk" href="https://www.microcenter.com/product/486575/raspberry-pi-zero-w" rel="noopener ugc nofollow" target="_blank"> $10 </a>的旧版pi上这么做。不要对pi Zero W嗤之以鼻，他们是毒品机器。</p><p id="7e61" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先打开命令行，下载必要的包来创建我们所知的LAMP栈:Linux、apache2、php和mysql。</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="2920" class="ju jv hi jq b fi jw jx l jy jz">sudo apt-get install apache2 -y<br/>sudo apt-get install php libapache2-mod-php -y<br/>sudo apt-get install mariadb-server</span></pre><p id="84f2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">什么是mariadb？它是保存mysql的包，为了安装它，我们将使用:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="d28d" class="ju jv hi jq b fi jw jx l jy jz">sudo mysql_secure_installation</span></pre><p id="f61b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">并且通过php访问数据库…</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="1e59" class="ju jv hi jq b fi jw jx l jy jz">sudo apt-get install php-mysql</span></pre><p id="1141" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这篇文章中，我不会向你展示如何使用php和mysql，但是无论如何，请你自己探索更多。</p><p id="bf1d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，如果一切顺利的话，您应该可以通过输入您的hostname.local(我的应该是pi4b.local)在浏览器上看到默认的web页面。如果你愿意，你可以使用系统选项下的“sudo raspi-config”命令来调整你的主机名。</p><p id="2fd4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在这里有两个重要的文件夹，我们将在这里进行大部分的调整。第一个是<strong class="io hj"> /var/www </strong>。这就是我们的web应用程序所在的地方。在那里，您应该看到html文件夹中的默认apache2页面。检查一下，看看文件和文件夹是如何设置的。为了好玩，我将建立两个测试文件夹，并在每个文件夹中放入它们自己的index.html文件。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/8bd4cf1cdbabf27565b01760b708cd65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*r_fqS8g6IlHRpk1H0R9Dvg.png"/></div></figure><p id="aa7b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们需要了解的第二个文件夹位于<strong class="io hj"> /etc/apache2 </strong>。这里查看<strong class="io hj">站点-可用</strong>文件夹和<strong class="io hj">站点-启用</strong>。在这里，我们配置我们的<strong class="io hj"> test1 </strong>和<strong class="io hj"> test2 </strong>文件夹，以便它们在我们的服务器上呈现。在启用了站点的页面中，你会看到<em class="kb"> 000-default.conf </em>已经在那里了。那是apache的默认网站。为了禁用，使用<strong class="io hj"> a2dissite </strong>命令:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="1833" class="ju jv hi jq b fi jw jx l jy jz">sudo a2dissite 000-default.conf</span></pre><p id="e727" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们进去看看吧。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/f2f085100880355f0ad9a16c3ce9fbc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*IGfLHOJm-Is6oXtOZqEijw.png"/></div></figure><p id="f9fa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们注意到的第一件事是我们的信息包含在一个VirtualHost标记中。V.H .允许apache2做的是在同一个服务器上服务多个网站。这很好，因为你不需要每个网站都有单独的服务器。是动态的！第一行包含端口号。这里是80端口(<virtualhost>)。“*”代表我们的IP地址。如果您不知道，请使用命令<strong class="io hj"> ifconfig </strong>。然而，你应该有一个静态的网络服务器IP地址。</virtualhost></p><p id="b3a1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个<strong class="io hj"> DocumentRoot </strong>将V.H .指向可以找到index.html的文件夹。我们还将设置<strong class="io hj">服务器别名</strong>和<strong class="io hj">服务器名称</strong>，以便更容易导航到我们的网站。否则，我们只需在浏览器中输入我们的IP地址就可以访问它们。让我们来看看我将如何把两个测试文件夹合二为一。会议文件。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/21b3a9ad59114877b6317414353ed6e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*gMvVfWWjjmp_zYtJgOQBEg.png"/></div></figure><p id="c0b2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">由于虚拟主机，我能够将我的两个测试站点配置到一个test.conf文件中！但是等等，我的服务器怎么知道服务哪个站点呢？它们都运行在端口80上…我只有一个IP地址。这就是我的<strong class="io hj"> ServerName </strong>发挥作用的地方。我可以在<strong class="io hj"> /etc/hosts </strong>文件中进行配置。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ke"><img src="../Images/345f975c1e1c61ef8deba9b5cc5fb53c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*5NPB8Gfa7OX1PnEBXXSy0g.png"/></div></figure><p id="b6cb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">好了，最后一步是激活我们的test.conf文件，这样我们的两个测试站点都将托管在apace2上。在终端类型中:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="4d84" class="ju jv hi jq b fi jw jx l jy jz">sudo apache2ensite test.conf</span></pre><p id="579c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">按照apache的命令重新加载服务器，然后在url中加载您的服务器名。这是它们在我的浏览器上的样子。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/436c38965f6015627fadfcfa81bd3516.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*vyc6UT3wqUlRkPEkm7lqyQ.png"/></div></figure><p id="db2f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">还不错！试用apache2 some，并尝试配置一个简单的网站。还有很多东西要学，但是掌握基础知识是很重要的一步。fam代码。</p></div></div>    
</body>
</html>