<html>
<head>
<title>How I Saved Money, Time (and the Environment) with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何用Python节省金钱、时间(和环境)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-i-saved-money-time-and-the-environment-with-python-950d5c51a71f?source=collection_archive---------17-----------------------#2022-11-01">https://medium.com/geekculture/how-i-saved-money-time-and-the-environment-with-python-950d5c51a71f?source=collection_archive---------17-----------------------#2022-11-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/85688cc24c1349f5d11536581a3a7f40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tAQPSfL8-eIICwzQ"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/es/@appolinary_kalashnikova?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Appolinary Kalashnikova</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e46f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这篇文章讲述了我如何最终编程出有用的东西的故事。</p><h1 id="cd93" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">介绍</h1><p id="3af5" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">诚然，这篇文章的标题雄心勃勃。所以请允许我解释一下。</p><p id="b377" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不久前，我开始订阅一些锻炼计划。我的计划是在健身房的时候用手机看这个节目。</p><p id="0480" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很快就发现这个程序仅仅是YouTube视频的集合。只有当你有链接的时候才能访问。顺便说一下，每个月要为此支付50多欧元。</p><p id="06c0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我内心的吝啬鬼想出了一个主意。</p><p id="c941" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“为什么不下载这些视频并取消订阅？”</p><p id="a875" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">于是，我下载了一个App到我的手机上，开始了肮脏的工作。但问题来了:因为我不想花钱买这个应用程序，所以我买了一个免费版本。</p><p id="3761" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这带来了一系列的问题。它迫使我看了一吨添加。下载视频时添加。当我想看视频时添加。</p><p id="8c87" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我心中的程序员想出了一个主意。</p><p id="0766" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">"应该可以下载这些视频与一些Python代码."</p><p id="80d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就这样开始了。</p><h1 id="042c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">回到标题</h1><p id="de00" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">让我们分别讨论题目中的要点。</p><p id="f632" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我如何省钱应该是显而易见的。我不再需要支付订阅费。</p><p id="c49a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这样我会错过新的内容，但我可以在几个月后回来，下载新的东西，然后再次退出。</p><p id="a031" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为我真的不知道羞耻。</p><p id="dd57" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，我的移动数据量有限。因为我不必为了看视频而升级，所以又省钱了。我承认有点牵强，我知道。</p><p id="9bac" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">时间是如何节省的？</p><p id="2420" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧，既然我是在手机上看这些视频，我就不得不忍受广告。无论是在YouTube还是在用于下载的应用程序中。不再是了，先生！</p><p id="3a79" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">除此之外，还可以节省因缓冲问题而损失的时间。</p><p id="4cfb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是我到底是怎么拯救环境的呢？</p><p id="6a02" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我对此的想法很简单:有些我喜欢的视频我会反复观看。如果我要多次播放那个视频，服务器必须提供给我，传输基础设施必须把它传输给我。</p><p id="bc7b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这需要电力，并且会留下碳足迹。如果它被避免，环境被保存(一点点)。</p><p id="40cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很有可能我的思维过程过于简单，研究对<a class="ae iu" href="https://www.iea.org/commentaries/the-carbon-footprint-of-streaming-video-fact-checking-the-headlines" rel="noopener ugc nofollow" target="_blank">流媒体对环境的实际影响有点模糊</a>。</p><p id="81e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么…我在标题中提到环境是为了得到更多的关注吗？答案很清楚……也许。但是既然我们已经在这里了，我们就来谈谈…</p><p id="2d06" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">必须解决三个主要问题:</p><ul class=""><li id="1143" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">我如何访问该产品的网站？</li><li id="fb27" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">我如何从上述网站提取视频id？</li><li id="e2b9" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">我如何下载这些视频？</li></ul><p id="9439" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">简单总结一下:</p><ul class=""><li id="8825" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">第一个问题是用<a class="ae iu" href="https://requests.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">请求包</a>解决的，它以cookies和头的形式提供活动会话凭证。</li><li id="a458" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">第二个问题用<a class="ae iu" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup4包</a>解决了，它可以执行一些粗糙的html解析。</li><li id="0392" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">最后一个问题用<a class="ae iu" href="https://pytube.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> pytube </a>解决了，这使得下载youtube视频变得轻而易举。</li></ul><p id="f120" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望你不是某种已经把所有的点连接起来的编码专家，你将在下面的部分找到细节。</p><h1 id="a101" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">怎么进去</h1><p id="2433" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">这不是我的第一次竞技，我以前刮过网站。这通常对我有用:</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="85b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">启动这段代码通常会导致返回代码200——巨大的成功——以及对网站代码的完全访问权。</p><p id="0647" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而网站需要认证。我得到的不是闪亮的200分，而是暗淡的403分。所以我做了每个开发人员都会做的事情…我去了stackoverflow。</p><p id="178e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">瞧，我找到了<a class="ae iu" href="https://stackoverflow.com/questions/23102833/how-to-scrape-a-website-which-requires-login-using-python-and-beautifulsoup" rel="noopener ugc nofollow" target="_blank">这个</a></p><p id="d407" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我最终使用的解决方案是在登录并以cURL的形式提取请求后，导航到我的浏览器的开发工具中的network选项卡。这可以被复制到<a class="ae iu" href="https://curlconverter.com/" rel="noopener ugc nofollow" target="_blank">https://curlconverter.com/</a>，它将创建访问该网站所需的python代码。</p><p id="8cbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在代码看起来像这样，COOKIES和标题直接取自前面提到的网站。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="fad3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些是我喜欢的解决方案。他们先试着工作，不需要我去理解到底发生了什么。</p><p id="4dd5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我是否因为在某个随机网站上输入了潜在的敏感信息而担心？</p><p id="95a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不，你这个笨蛋！因为网站上的隐私声明承诺，一切都发生在我的浏览器中，不会向任何地方发送任何信息。</p><p id="6085" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果一个网站向我保证我的数据是安全的，我为什么会不信任呢？</p><h1 id="5d73" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">提取</h1><p id="2cb1" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">进入下一步。我们现在拥有的是纯html代码，充满了尖尖的“&gt;”和“</p><p id="a631" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">怎么办？就像在现实生活中一样:如果你把一些危险的东西煮一段时间，它会变得不那么危险…而且在这个过程中可能会变得美味。</p><p id="ca12" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可怕的类比，但都是为了过渡到我一直使用的Python库:BeautifulSoup。</p><p id="ca41" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据该网站:</p><blockquote class="lq lr ls"><p id="86c2" class="iv iw lt ix b iy iz ja jb jc jd je jf lu jh ji jj lv jl jm jn lw jp jq jr js hb bi translated">Beautiful Soup是一个Python库，用于从HTML和XML文件中提取数据。它与您喜欢的解析器一起工作，提供导航、搜索和修改解析树的惯用方式。它通常为程序员节省数小时或数天的工作。</p></blockquote><p id="334a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我高度复杂的工作流程如下所示:</p><ul class=""><li id="852b" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">在我的浏览器中加载网站。</li><li id="e475" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">右键单击我感兴趣的对象，然后选择“检查”。</li><li id="2e02" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">在网站的html代码中突出显示了元素后，我试图用唯一的标签来标识父元素，以便找到该元素。</li><li id="428a" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">冲洗，必要时重复。</li></ul><p id="a630" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是我在案例中必须浏览的结构:</p><p id="3bf5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">起始页上有几个下拉菜单。第三个包含的条目会把我带到有我想要的视频的站点。</p><p id="8e84" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以我不得不这么做:</p><ul class=""><li id="bd72" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">找到所有下拉菜单并获取第三个菜单的内容。</li><li id="8c1f" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">从所述下拉菜单中提取所有链接。</li><li id="da30" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">遍历链接列表，在每个实例中找到嵌入的YouTube视频并提取ID。</li></ul><p id="afef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们来看看一些代码片段。请注意，这不是我实际使用的代码。它仅仅是为了展示我一直在使用的功能。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="2621" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，由于这不是一个关于BeautifulSoup的深度指南，我将简单解释一下我的代码的目的。我决不认为这是做这件事最有效的方法。</p><p id="4e89" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一步是解析html字符串，在我的例子中，它来自“response.content”。</p><p id="5b31" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了找到我要找的标签，我主要使用“find”和“findAll”功能。令人震惊，我知道。<br/>如果只需要匹配描述的第一个标签，使用“查找”。如果对所有实例都感兴趣，请使用“findAll”(或“find_all”)。</p><p id="7285" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您必须提供的第一个参数是标记的类型，也就是说，在'</p><p id="2142" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我的例子中，查找标签的class属性就足够了。</p><p id="ea81" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是也可以提供一个返回True或False的函数。在我的例子中，我使用lambda函数检查标签是否为“li”以及标签是否具有属性“data-post_id”。</p><p id="b1a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对我个人来说，使用lambda函数更容易，我还认为它们提供了更大的灵活性。但是我也可能错了…</p><p id="86e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意，find函数的结果也是一个Soup对象，因此可以执行多次连续的搜索。</p><p id="366e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您想浏览标签的直接子标签列表，即所述标签中的所有顶级标签，请使用“contents”属性。</p><p id="3409" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想访问一个给定属性的值，那么你可以把soup对象当作一个字典，就像我在最后一行中做的那样。</p><p id="d411" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">至此，我想结束关于我如何提取视频id的部分。如果你想了解更多关于BeautifulSoup的html解析，那就去看看教程吧，非常棒。或者在评论区告诉我，我可能会更“深入”地讨论它。</p><h1 id="517c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">保护货物</h1><p id="e606" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">完成所有这些繁重的工作后，我们终于可以开始有趣的部分了。自己下载视频。由于其他人的努力，这是一项相当容易的任务。</p><p id="025b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有一个叫做“Pytube”的包，它可以处理所有的事情。以下是您需要的所有代码:</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="beca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，通过提供视频的url来“连接”视频。</p><p id="2ed8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，您可以通过“video.stream”获得所有可用流的列表。</p><p id="49bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该列表可以通过不同的属性进行过滤，如文件扩展名或分辨率。</p><p id="b7c6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对属性“progressive=True”的一个注释。如果你检查一个视频，你会注意到大多数都有‘progressive = False’。这意味着对于大多数流来说，音频和视频是分开的。在这种情况下，你必须分别下载视频和音频，然后再把它们结合起来。</p><p id="04d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为我懒，所以我希望有一个‘progressive = True’的流。</p><p id="f9a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，我选择我得到的第一个结果，从标题中删除那些讨厌的空格，并继续下载视频。</p><p id="0a8f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">遗憾的是，默认情况下，您不会得到太多关于下载当前进度的反馈。这段代码只是暂停执行，直到下载完成。看起来你可以在下载过程中提供一个回调函数，这样就可以知道还有多少东西需要下载。但是我没有深入调查。</p><h1 id="5655" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">额外奖励:下载音乐</h1><p id="63d6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">既然我们在这里，我不妨提一下，上面的代码稍微修改一下，就可以让你只下载一个视频的音轨。如果你想下载一些音乐的理想选择。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="82c5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你需要做的就是更换过滤器。在我的例子中，检查“mime_type”是最可靠的，因为mp3并不总是可用的，所以我使用了“webm”。</p><h1 id="7306" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="6096" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">现在，你应该有了自己的工具，可以从网站上提取youtube视频id，然后下载它们。</p><p id="b878" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我很想在下面的评论区听到你的反馈。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><p id="5863" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lt">原载于2022年11月1日【https://topjer.net】<a class="ae iu" href="https://topjer.net/index.php/2022/11/01/i-saved-money-time-and-the-environment-with-python/" rel="noopener ugc nofollow" target="_blank"><em class="lt"/></a><em class="lt">。</em></em></p></div></div>    
</body>
</html>