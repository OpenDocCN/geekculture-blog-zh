<html>
<head>
<title>How to add or play video in React Native Expo Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React Native Expo应用程序中添加或播放视频</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-add-or-play-video-in-react-native-application-javascript-49ea952f1919?source=collection_archive---------22-----------------------#2021-08-02">https://medium.com/geekculture/how-to-add-or-play-video-in-react-native-application-javascript-49ea952f1919?source=collection_archive---------22-----------------------#2021-08-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e475" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在React Native Expo应用程序中播放视频</h2></div><p id="b5f6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您好，React原生开发者..！！</p><p id="a82a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们假设您正在制作一个电子商务移动应用程序，您想在其中显示产品的视频描述。在另一种情况下，您正在构建任何类型的移动应用程序，希望在您的平台上显示视频。那么你必须知道如何实现它。无论你是在为IOS设备还是Android设备工作，React Native Expo都将帮助你轻松实现这一点。因此，让我们制作一个移动应用程序，您可以在其中使用React Native Expo显示、播放/暂停视频。抓住你的座位，喝杯咖啡，让我们开始吧。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/b18ce8745afe4bf3b96144c223569c9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U8agLIFpqg2U7V3y"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://unsplash.com/@lazizli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lala Azizli</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="00a5" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">设置和安装</h1><blockquote class="lc ld le"><p id="7be0" class="ix iy lf iz b ja jb ij jc jd je im jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">1.创建一个目录并导航到它。<br/> 2。打开终端或命令提示符窗口，运行命令:<strong class="iz hj">Expo init Video</strong>T3】3。选择空白模板并继续下载<br/> 4。下载完成后，导航至“视频”目录<br/> 5。使用命令安装软件包:<strong class="iz hj"> npm install expo-av </strong></p></blockquote><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lj"><img src="../Images/0739fab8e53f6977d0598f70df83bddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*j51oWWWmgAVOxEkw.png"/></div></figure><p id="db36" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完成上述所有5个步骤后。您将在终端的命令提示符窗口中看到类似这样的内容。我们已经完成了安装部分，所以让我们切换到代码部分</p><h1 id="b46f" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">使用React Native Expo显示视频的代码</h1><p id="fe0e" class="pw-post-body-paragraph ix iy hi iz b ja lk ij jc jd ll im jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">在您喜欢的文本编辑器中打开这个项目，并验证“package.json”文件中所有已安装的包。之后打开App.js</p><p id="1ffb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> App.js </strong></p><pre class="ju jv jw jx fd lp lq lr ls aw lt bi"><span id="b987" class="lu kl hi lq b fi lv lw l lx ly">import * as React from 'react';<br/>import { View, StyleSheet, Button } from 'react-native';<br/>import { Video } from 'expo-av';</span><span id="0484" class="lu kl hi lq b fi lz lw l lx ly">export default function App() {<br/>  const video = React.useRef(null);<br/>  const [status, setStatus] = React.useState({});<br/>  return (<br/>    &lt;View style={styles.container}&gt;<br/>      &lt;Video<br/>        ref={video}<br/>        style={styles.video}<br/>        source={{<br/>          uri: '<a class="ae kj" href="http://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4'" rel="noopener ugc nofollow" target="_blank">http://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4'</a>,<br/>        }}<br/>        useNativeControls<br/>        resizeMode="contain"<br/>        isLooping<br/>        onPlaybackStatusUpdate={status =&gt; setStatus(() =&gt; status)}<br/>      /&gt;<br/>      &lt;View style={styles.buttons}&gt;<br/>        &lt;Button<br/>          title={status.isPlaying ? 'Pause' : 'Play'}<br/>          onPress={() =&gt;<br/>            status.isPlaying ? video.current.pauseAsync() : video.current.playAsync()<br/>          }<br/>        /&gt;<br/>      &lt;/View&gt;<br/>    &lt;/View&gt;<br/>  );<br/>}</span></pre><p id="6dc4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，从库中导入所有需要的包。虽然我们只需要几个。这里我们使用react hooks概念，这就是为什么我们使用常量[status，setStatus]。现在只需根据所需的UI返回App功能和代码。我保持简单。您需要一个视频源，但请记住，只有正确的扩展视频才会播放。你不能复制一些youtube链接并开始播放视频，因为youtube链接没有任何类型的视频扩展。接下来，我们用来调整视频特征的大小。最后，我们在视频内容的底部添加了播放暂停按钮。现在根据你的选择，添加一点造型。</p><pre class="ju jv jw jx fd lp lq lr ls aw lt bi"><span id="aa7c" class="lu kl hi lq b fi lv lw l lx ly">const styles = StyleSheet.create({<br/>  container: {<br/>    flex: 1,<br/>    justifyContent: 'center',<br/>    backgroundColor: '#ecf0f1',<br/>  },<br/>  video: {<br/>    alignSelf: 'center',<br/>    width: 350,<br/>    height: 220,<br/>  },<br/>  buttons: {<br/>    flexDirection: 'row',<br/>    justifyContent: 'center',<br/>    alignItems: 'center',<br/>  },<br/>});</span></pre><p id="c1ca" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好了，现在我们完成了代码部分。对于测试，在本地服务器上运行此项目。<br/>打开视频目录下的终端或命令提示符窗口，运行命令:npm start <br/>用你的IOS或Android设备扫描窗口上出现的二维码，在expo应用中运行这个项目。javascript依赖项构建完成后。你会看到这样的东西。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ma"><img src="../Images/7902416047d40521d80d26a8544ccdef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P3OUcG7Wn3fcwKx2TROihw.jpeg"/></div></div></figure><p id="5d16" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望你今天能学到一些新东西。如果你面临任何与这个项目相关的困难，请在评论区告诉我。</p><p id="5962" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢你。</p></div></div>    
</body>
</html>