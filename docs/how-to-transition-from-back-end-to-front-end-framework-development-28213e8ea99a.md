# 如何从后端过渡到前端框架开发

> 原文：<https://medium.com/geekculture/how-to-transition-from-back-end-to-front-end-framework-development-28213e8ea99a?source=collection_archive---------9----------------------->

众所周知，开发一个软件与开发一个完整的框架是完全不同的。我理解这种说法，但我部分不同意，我会告诉你为什么。我将与你分享我的想法，并解释为什么我相信开发软件和框架是同一学科的不同领域，或者如果你喜欢的话，是艺术。他们都遵循相同的原则(干净的代码，可靠的，等等)..)并具有相似的特征(可读性、可伸缩性和其他特性)；让他们不同的是系统的 ***用户*** *。*

![](img/a5d40b17dd1c0135cfe933ed7b648e18.png)

Photo by [Leon](https://unsplash.com/@myleon?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

我目前在 Oracle | NetSuite 担任全栈开发人员。去年，有人建议我加入一个新的、超级令人兴奋的、有远见的项目。我当然接受了！你会问，**在哪里抓到**？我从在 **Java** 中开发**后端**特性转移到在 **Typescript** 中为**前端**开发开发一个全新的完整的**框架**。这是一个相当大的变化，以下是我学到的东西。

# 为普通用户开发软件

每次我们开发**软件**，我们定义用户旅程，设计功能和用户交互，开发和测试软件，我们总是会想到**最终用户**。我们的这个亲爱的角色是主要的焦点，我们会一直记在心里。我们谈**用户体验**。假设这个人物角色是**明显的用户**，我们给他们起个名字:**奥斯卡**。

# 为被遗忘的用户开发一个框架

现在，当我们在开发一个**新框架**时，例如前端开发，我们正在开发其他团队将用来开发其功能的功能或模块。

例如，我们可以开发一个 ui 工具包的组件，它调用后端来检索和格式化一些数据。该组件的用户将是另一个**开发团队**，他们将使用它来实现他们的报告功能。

在一个框架上工作，关注明显的用户而忘记开发团队是初学者的常见错误。虽然 **Oscar** 确实会从我们开发的功能中受益(因此关心他是正确的)，但这只是事情的一部分。另一个开发团队将使用这些功能，所以我们也必须关注**开发团队**和他们的**开发经验**。出于这个原因，让我们称开发团队为**被遗忘的用户**；让我们给开发团队的一个软件开发人员起个名字: **Sarah** 。

既然这些基本概念已经清楚了，我将首先解释 Oscar 和 Sarah 这两个用户的需求，然后我将展示这些需求如何转化为我们的需求。

# 奥斯卡想要什么

奥斯卡愿望:

*   一个**爽快的**UI；
*   出色的**用户体验**；
*   **便携性**:能够从多种设备(台式机、平板电脑、智能手机)访问我们的软件；
*   **可访问性**:这样我们就能保证以不同方式与产品交互的人的可用性；
*   **国际化**:系统在所有国家和所有语言下都是本地的；
*   软件**没有问题** …或者报告问题的方法；
*   **好的文档**。

# 莎拉想要什么

奥斯卡的愿望与莎拉的愿望一致:

*   从后端加载数据时带有**内置骨架**的组件；
*   **异步**API；
*   **组件中的响应度**；
*   支持**无障碍**的组件；
*   支持**翻译**的组件；
*   组件**没有**(或很少)**问题** …或报告它们的简单方法；
*   **组件的良好文档**。

但不是这样的！莎拉还需要:

*   **版本化**组件；
*   一个**好的架构**:模块化，可维护，具有像仪器仪表这样的内置特性；
*   **CI/CD 管道**。

您可以看到 Oscar 和 Sarah 的需求是如何联系在一起的，而且 Sarah 的需求涵盖了对 Oscar 透明的方面。所有这些使我们的工作更有趣，也更复杂！现在让我们来探讨一下其中的一些需求，以及它们对我们的意义。

# 无缝用户体验

奥斯卡必须有一个漂亮的用户界面，流畅的用户交互**。Oscar 不想永远等待收到他的操作已被接收的反馈(例如在加载或提交数据时)。**

## **异步 API**

实现这一点的常见方法是在我们开发的组件中使用**异步**API。在前端开发中，异步 API 有助于在不同的线程上执行某些功能，防止 UI 阻塞。例如，当 Oscar 等待检索一些数据时，组件会显示一条“正在加载数据”类型的消息，或者更好的是显示一个**框架**，一个将显示数据的占位符。

![](img/c37f8f04df8f3093d8cc82ae1024ea3f.png)

A skeleton is used as a placeholder for the layout and its animation tells the user that some data is being loaded.

对于**莎拉**，这转化为组件和后端的**异步 API**。此外，**框架**或加载消息应该内置在组件中。

下面的代码片段显示了我如何在组件中使用一个骨架，该骨架显示了上一张图片中图像的描述。我使用 React 是因为它是前端开发最常用的库之一。

## 带宽

**奥斯卡**需要一个**快速**网站。实现这一点的一个方法是限制加载网站所需的带宽。

对于**莎拉**，这意味着**缩小**所有的 Javascripts 和**捆绑**成一个单一的不可读但更短的文件，这将需要更短的加载时间。另一件要做的事情是**将产生的包分割成几个部分，并让浏览器以并行线程的方式下载这些部分。这些技术的综合效果将是**更快的加载时间**。**

Sarah 需要一种简单的方法来控制包的生成；她可能需要它用于**生产**，但不用于**开发环境，在那里完整的 Javascript 和/或类型脚本将有助于调试。理想情况下，这是在她需要的 CI/CD 的两个不同的**管道**中完成的(稍后将详细介绍)。**

# 版本控制

奥斯卡不会意识到这个话题的任何事情，除非新版本被发布到生产中。

实际上，对莎拉来说，这要复杂得多。她的模块将被版本化，她将使用我们创建的版本化组件。为了确保不破坏向后兼容性，我们将使用两个过程:

*   **语义版本**，有主版本、次版本、补丁版本；例如*版本 1.3.4* 。如果你引入了一个突破性的变更，非突破性的变更，或者如果你修复了一个 bug，这些版本会分别增加。
*   **稳定**(或发布版)和**不稳定**(或预发布版)。稳定版本仅在每个新版本发布时发布到我们的 repo，而不稳定版本则在我们开发新功能时所做的每次更改时发布。**莎拉**将只使用**稳定**版本。

Sarah 还需要一些工具来验证正确的版本，比如管道中的某个步骤，该步骤分析她的依赖项的版本以检测任何错误。

# CI/CD 管道

奥斯卡将间接看到这个话题的后果。

如前所述， **Sarah** 需要管道中的几个特性:

*   版本依赖检查；
*   项目构建、单元和集成测试、发布工件；
*   缩小并捆绑稳定版本以用于生产。

如果你没有一个专门的 DevOps，就像我的情况一样，很可能你必须从头开始自己定义一切。如果是这种情况，**您必须像对待团队的任何其他可交付成果一样对待管道**。以下是我能给你的最重要的建议:

> 您构建的管道的生产环境是 Sarah 团队的管道。拥有一个独立的环境，在那里你可以提前测试你引入的每一个变化！

# 证明文件

当你在一个框架上工作时，你应该对文档有更多的所有权，有几个原因:

*   你的功能的用户是另一个开发者 **Sarah** ，至少你应该**同情**她。
*   文档可能非常技术性**(如何使用组件，API 定义，输入是什么，输出是什么)，谁比你更能定义所有这些东西呢？**

**我们应该仔细思考我们所写的东西，设身处地为 Sarah 着想，想象自己对这个组件一无所知。**

**当你查看文档时，这里有一些你可以问自己的问题。我们写的东西够清楚吗？组件的**目标**是否明确？**API****是否清晰**不混淆？每个**属性、方法、功能**是否清晰明了**与其他**是否可区分？我们对每一次互动的期望是否清晰？我们可以有空输入吗？**文件是否完整**？我们在 API 中记录了每个选项吗？**

# **测试**

**我的最后一个主题是关于测试的(即使它本身值得写一整篇文章)。**

**对于 Oscar 所关心的事情，我们已经看到了:我们应该从他的角度测试功能需求，以验证我们*做了正确的事情，并且我们做了正确的事情*！**

**另一方面，**莎拉**会更关心我们的组件是否工作正常。让我们不要忘记，有时候，作为好奇的开发人员，我们倾向于玩一个组件或一个类，看看它是如何工作的。因此，我们必须测试输入的奇怪组合、空输入或任何我们试图理解组件行为的东西。**

# **结论**

**作为一个开发前端开发框架的开发团队，
我们应该遵循我们一直遵循的原则:**

> **很好，写得很好，记录和测试干净的代码，坚实的原则。**

**唯一的区别是关注**谁是我们的**用户。牢记 **Oscar** 、**最终用户**，有助于我们定义想要开发的功能。但是我们必须时刻记住我们被遗忘的用户，并以正确的方式开发我们的功能。将 Sarah 视为你的开发伙伴，并确保她有很好的开发体验。**

***免责声明:本文中的观点和想法是我个人的，不一定代表我现在或以前工作过的任何公司。***