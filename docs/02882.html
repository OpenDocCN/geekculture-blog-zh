<html>
<head>
<title>Custom implementation of bind method in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中bind方法的自定义实现</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/custom-implementation-of-bind-method-in-javascript-c5db931b1cf4?source=collection_archive---------8-----------------------#2021-05-27">https://medium.com/geekculture/custom-implementation-of-bind-method-in-javascript-c5db931b1cf4?source=collection_archive---------8-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2e15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何为bind编写聚合填充</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/744452c619cb37521a379c55bef61194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6fGuYvZLk9N5_gDw"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@casparrubin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Caspar Camille Rubin</a> on <a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="981e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Polyfill本质上是对我们的旧浏览器所没有的方法的支持。我将解释如何编写一个在任何地方都受支持的bind自定义实现。下面是原始绑定方法的用例:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kb"><img src="../Images/8126794dee616387c2563ff2e00bbec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQYyQCRFQDqcIoHtw1f48Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Usecase for bind method</figcaption></figure><p id="5670" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在代码片段中，bind方法基本上是一个可供所有函数使用的原型方法。bind的第一个参数是对一个对象的引用，该对象可以通过关键字<code class="du kc kd ke kf b">this</code>在调用函数中访问。一旦我们将<code class="du kc kd ke kf b">info</code>作为bind的第一个参数传递，那么<code class="du kc kd ke kf b">info</code>的属性将作为<code class="du kc kd ke kf b">printInfo</code>函数中的<code class="du kc kd ke kf b">this</code>关键字被访问。</p><p id="d000" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建我们自己的</strong> <code class="du kc kd ke kf b"><strong class="ih hj">mybind</strong></code>实现的步骤。</p><p id="dba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kg">步骤1 </em>:我们将在<a class="ae jt" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" rel="noopener ugc nofollow" target="_blank">函数原型</a>中创建一个原型函数。之所以将其创建为原型函数，是因为像<code class="du kc kd ke kf b">bind</code>方法这样的每个函数都需要访问它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kh"><img src="../Images/e6577c443ff5628b662dffdfd2fa4fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4eQjlnHzpgCqePXUFqD-Nw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Step 1</figcaption></figure><p id="c1ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您会注意到第2行返回了另一个函数。因为在最初的绑定方法中，它返回一个函数。</p><p id="45aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kg">第二步</em>:需要返回一个调用函数的引用。这意味着调用<code class="du kc kd ke kf b">mybind</code>的函数需要被返回，它的第一个参数应该是对一个对象的引用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ki"><img src="../Images/235d9ea5b975192a49ade19025e9b8e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kH9zWRGhpZ3YWGvmvuulng.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Step 2</figcaption></figure><p id="527e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这段代码中，您会注意到<code class="du kc kd ke kf b">mybind</code>方法正在接受一个对对象<code class="du kc kd ke kf b">refObject</code>的引用，该对象作为第一个参数传递给调用函数。此外，我们需要一个在第2行中设置的调用函数的引用，为此我们将<code class="du kc kd ke kf b">this</code>的引用设置为变量<code class="du kc kd ke kf b">fn</code></p><p id="9b34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三步:由于基本框架已经完成，我们已经接近完成了。下一步，我们将不得不容纳传递给函数的参数(如<code class="du kc kd ke kf b">city</code>)。这可以通过下面的代码片段来实现。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kj"><img src="../Images/be7e5a87604cf1317f89fe3d411a8e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xFXfgiW98D2BtwQNFNsmZw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Step 3</figcaption></figure><p id="aecc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在调用函数中，我们传递在<code class="du kc kd ke kf b">mybind</code>函数中传递的其余参数。我们几乎完成了实现。</p><p id="8941" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">等等，我们仍然需要容纳传递给引用函数的另一组参数(即<code class="du kc kd ke kf b">country</code>)。在第一个代码片段中，您会注意到我们正在调用<code class="du kc kd ke kf b">callMethod('Malaysia')</code>。</p><p id="e9c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kg">第4步(最后一步)</em>:可以将另一组参数传递给引用函数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kb"><img src="../Images/ea3ad55c22b7eabb3c678006f73faaa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPhdACUJIufPjrowBotcfg.png"/></div></div></figure><p id="dff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这段代码中，我们在第3行包含了<code class="du kc kd ke kf b">args2</code>,这样我们就可以将它传递给调用函数。另外，在第4行中，我们将<code class="du kc kd ke kf b">call</code>改为<code class="du kc kd ke kf b">apply</code>。因为我们需要将参数作为一个组合列表来传递，而<code class="du kc kd ke kf b">apply</code>方法确实提供了将参数作为一个列表来传递的功能。</p><p id="8993" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们完成了自定义的<code class="du kc kd ke kf b">mybind</code>函数。在我们最初的(第一个)代码片段中，如果我们用<code class="du kc kd ke kf b">mybind</code>替换<code class="du kc kd ke kf b">bind</code>，您将得到相同的结果。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kk"><img src="../Images/fbcf982528410c18a10bc3ba1d08f997.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xxky1p6ZzcGL5vfLEmmQEg.png"/></div></div></figure><p id="4646" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读这篇文章。这帮助我理解了javascript的<code class="du kc kd ke kf b">call</code>、<code class="du kc kd ke kf b">apply</code>、<code class="du kc kd ke kf b">bind</code>方法的概念。我希望你能学到一些东西。</p></div></div>    
</body>
</html>