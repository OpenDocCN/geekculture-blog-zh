<html>
<head>
<title>Fundamentals of State Hook in React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应钩子中状态钩子的基本原理</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/fundamentals-of-state-hook-in-react-hooks-6e10f46fd2fc?source=collection_archive---------24-----------------------#2021-04-16">https://medium.com/geekculture/fundamentals-of-state-hook-in-react-hooks-6e10f46fd2fc?source=collection_archive---------24-----------------------#2021-04-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/affb36c6e54df864729266d0211087f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JdkEvoNMusSGEuuqUZ0OLg.jpeg"/></div></div></figure><p id="ec97" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jo">什么是反应钩子？</em> </strong></p><p id="331c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个特性在react的最新版本中是可用的，它使程序员能够编写普通的React程序并处理状态，而无需将它们转换成类组件。React程序员应该知道，如果没有类的帮助和React挂钩，状态是无法创建的，这可以通过在基于函数的组件中使用<em class="jo"> useStateHook </em>来实现。钩子不能在类中使用，因为它允许你在没有类帮助的情况下使用它，而类不允许使用生命周期方法，例如<em class="jo"> componentDidMount </em>、<em class="jo"> componentDidUpdate </em>、<em class="jo">componentduillunmount</em>等。相反，钩子使用一些内置方法。</p><p id="3a5a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jo">反应钩子的规则</em> </strong></p><ol class=""><li id="208c" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">确保不要在循环、条件或嵌套函数中调用钩子。只能叫顶级的<em class="jo"> </em>。</li><li id="6ac1" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">确保从React组件中调用钩子，而不是在常规的JavaScript函数中</li></ol><p id="78b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">准备好东西</strong></p><p id="0ede" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jo">如果你想使用钩子</em> </strong>你需要确保你已经安装了React版本16.7或者更高版本</p><p id="08d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，你需要创建一个反应应用程序。(我正在当前所在的文件夹中创建一个react项目)</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/adce6570048771ffa6cebbe7b6747572.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*hUCOvGKGxA1avCdn4PGmug.png"/></div></figure><p id="a450" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有旧版本，则需要安装16.7或更高版本</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/c3875b054bf944e95def42d9347e17ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fcTDZcxXr2iBsPcAp0sO-Q.png"/></div></figure><p id="178b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们来看看最重要的挂钩之一</p><p id="f9b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">状态挂钩</strong></p><p id="419d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个钩子允许我们在一个函数中处理状态。</p><p id="9413" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在函数组件中使用钩子的第一步是导入useState模块。</p><blockquote class="kj kk kl"><p id="030f" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">import React, { useState } from 'react';</code></p></blockquote><p id="c670" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jo">声明一个状态变量</em> </strong></p><p id="fdae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">在类组件中声明状态变量</em></p><blockquote class="kj kk kl"><p id="4989" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">class Example extends React.Component {<br/> constructor(props) {<br/> super(props);<br/> this.state = { count: 0 }; <br/>}</code></p></blockquote><p id="3798" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">在功能组件中声明状态变量</em></p><blockquote class="kj kk kl"><p id="07bb" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">function Example() {<br/>const [count, setCount] = useState(0); <br/>}</code></p></blockquote><p id="c9e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">在上面的例子中，类组件使用状态创建计数变量，而第二个例子使用钩子在函数中创建计数变量。useState方法返回两对值，它们可以作为数组的两个元素来访问。第0个元素是当前值，第1个元素是允许您更新当前值的方法。在上面的例子中，使用析构函数将当前值赋给变量count，将更新方法赋给变量setCount。</em></p><p id="2279" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">访问美国</strong></p><p id="63ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">显示类组件中的计数变量</em></p><blockquote class="kj kk kl"><p id="8d71" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">&lt;p&gt;You clicked {this.state.count} times&lt;/p&gt;</code></p></blockquote><p id="42cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">显示功能组件中的计数变量</em></p><blockquote class="kj kk kl"><p id="5bec" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">&lt;p&gt;You clicked {count} times&lt;/p&gt;</code></p></blockquote><p id="0a1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一个例子展示了如何在类组件中访问count变量，第二个例子展示了如何使用钩子访问count变量。</p><p id="aee1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">更新状态下的值</strong></p><p id="c981" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">更新类组件中的状态变量。setState方法用于更新类级别的状态变量。</em></p><blockquote class="kj kk kl"><p id="6335" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">&lt;button onClick={() =&gt; this.setState({count: this.state.count+1})}&gt; Click me<br/>&lt;/button&gt;</code></p></blockquote><p id="6b1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">更新功能组件中的状态变量。setCount方法用于更新钩子状态变量。这是由useState方法返回的方法，该方法允许更新计数的当前值。</em></p><blockquote class="kj kk kl"><p id="f047" class="iq ir jo is b it iu iv iw ix iy iz ja km jc jd je kn jg jh ji ko jk jl jm jn hb bi translated"><code class="du kp kq kr ks b">&lt;button onClick={() =&gt; setCount(count + 1)}&gt; <br/>Click me<br/>&lt;/button&gt;</code></p></blockquote><p id="2d30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">参考</strong></p><p id="5f9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae kt" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/hooks-intro.html</a></p></div></div>    
</body>
</html>