<html>
<head>
<title>replaceAll in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的replaceAll</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/replaceall-in-javascript-b61f4e94f028?source=collection_archive---------0-----------------------#2021-01-09">https://medium.com/geekculture/replaceall-in-javascript-b61f4e94f028?source=collection_archive---------0-----------------------#2021-01-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/2c87ade6cbb16db8c18e637c133bbad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6nQ02iDW6K9fEZDc9g19w.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">replaceAll in Javascript</figcaption></figure><div class=""/><p id="40f3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">String.prototype.replaceAll()用另一个字符串值替换所有出现的字符串。</p><p id="016d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">语法:</strong></p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="7bbd" class="kb kc hx jx b fi kd ke l kf kg">const newStr = str.replaceAll(regexp|substr, newSubstr|function)</span></pre><p id="580a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有几种方法可以替换所有出现的字符串:</p><ol class=""><li id="83f6" class="kh ki hx iw b ix iy jb jc jf kj jj kk jn kl jr km kn ko kp bi translated">正则表达式</li><li id="b225" class="kh ki hx iw b ix kq jb kr jf ks jj kt jn ku jr km kn ko kp bi translated">拆分和合并</li><li id="9582" class="kh ki hx iw b ix kq jb kr jf ks jj kt jn ku jr km kn ko kp bi translated">全部替换</li></ol><h1 id="31ce" class="kv kc hx bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">1.正则表达式🙅‍♀️</h1><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="d364" class="kb kc hx jx b fi kd ke l kf kg">const info = "Hi All, suprabha's account is @suprabha";<br/>const newInfo = info.replace(/suprabha/g, "suprabha supi");<br/>console.log(newInfo); <br/>// "Hi All, suprabhasupi's account is @suprabhasupi"</span></pre><h1 id="6628" class="kv kc hx bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">2.分裂并加入䷖ ⊞</h1><p id="3db9" class="pw-post-body-paragraph iu iv hx iw b ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn lw jp jq jr hb bi translated">使用<code class="du lx ly lz jx b">split</code>和<code class="du lx ly lz jx b">join</code>，替换所有出现的字符串。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="ad41" class="kb kc hx jx b fi kd ke l kf kg">const info = "Hi All, suprabha's account is @suprabha";<br/>const newInfo = info.split('suprabha').join('suprabhasupi');<br/>console.log(newInfo); <br/>// "Hi All, suprabhasupi's account is @suprabhasupi"</span></pre><p id="c8ee" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">到目前为止，你已经可以用以上两种方法完全替代。现在我们有<code class="du lx ly lz jx b">replaceAll</code>帮助我们做同样的事情。</p><h1 id="d4ce" class="kv kc hx bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">3.全部替换🚀</h1><p id="c8fe" class="pw-post-body-paragraph iu iv hx iw b ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn lw jp jq jr hb bi translated">Mathias bynens 建议解决了这些问题，并给出了一种非常简单的方法来进行子串替换，即使用“replaceAll()”用另一个字符串值替换一个字符串中的所有子串实例，而不使用全局regexp。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="9cbe" class="kb kc hx jx b fi kd ke l kf kg">const info = "Hi All, suprabha's account is @suprabha";<br/>const newInfo = info.replaceAll('suprabha','suprabhasupi');<br/>console.log(newInfo); <br/>// "Hi All, suprabhasupi's account is @suprabhasupi"</span></pre><p id="3c03" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">也可以将RegEx传递给<code class="du lx ly lz jx b">replaceAll</code>中的第一个参数。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="40e6" class="kb kc hx jx b fi kd ke l kf kg">const info = "Hi All, suprabha's account is @suprabha";<br/>const regex = /suprabha/ig;<br/>const newInfo = info.replaceAll(regex,'suprabhasupi');<br/>console.log(newInfo); <br/>// "Hi All, suprabhasupi's account is @suprabhasupi"</span></pre><p id="db21" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">注:🧨 </strong></p><p id="3726" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用regexp时，必须设置全局(“g”)标志；否则会抛出一个<em class="mb">type error:“replace all必须用全局RegExp调用”</em>。</p><p id="5d07" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">还有<code class="du lx ly lz jx b">replace()</code>方法，如果输入模式是一个字符串，它只替换第一个匹配项。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="387d" class="kb kc hx jx b fi kd ke l kf kg">const info = "Hi All, suprabha's account is @suprabha";<br/>const newInfo = info.replace("suprabha", "suprabhasupi");<br/>console.log(newInfo);<br/>// "Hi All, suprabhasupi's account is @suprabha"</span></pre><h1 id="f0ac" class="kv kc hx bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">参考🧐</h1><ul class=""><li id="bbc1" class="kh ki hx iw b ix ls jb lt jf mc jj md jn me jr mf kn ko kp bi translated"><a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll" rel="noopener ugc nofollow" target="_blank"> replaceAll MDN </a></li></ul><p id="91ce" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">🌟推特 |👩🏻‍💻<a class="ae ma" href="https://www.suprabha.me/" rel="noopener ugc nofollow" target="_blank"> Suprabha.me </a>🌟<a class="ae ma" href="https://www.instagram.com/suprabhasupi/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>