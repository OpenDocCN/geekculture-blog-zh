<html>
<head>
<title>Trip Collaborator | Technical Blog.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Trip Collaborator |技术博客。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/trip-collaborator-technical-blog-681ef8ac8ae0?source=collection_archive---------16-----------------------#2022-08-29">https://medium.com/geekculture/trip-collaborator-technical-blog-681ef8ac8ae0?source=collection_archive---------16-----------------------#2022-08-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5725" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Nextjs和Redis构建产品。</p><h1 id="7e77" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">关于项目。</h1><p id="3ba5" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Trip Collaborator是一个应用程序，它将帮助解决朋友、家人和亲戚之间预订旅行的最大问题。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/d2367fed875af7b8340a7653cbc9d763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dNIM0zQspBfct9-zkQCI8Q.png"/></div></div></figure><h1 id="b0b4" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">问题陈述。</h1><p id="2758" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">当我们计划下一次旅行时，通常我们脑海中会有很多地方。我们可以从各种平台上得到这些建议，但是管理这些建议有点让人担心。</p><p id="6019" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Trip Collaborator背后思想是使拥挤变得更容易，两个用户应该能够容易地共享位置。除此之外，还有各种功能可以实现。</p><p id="f57f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在范围部分添加这个项目可以扩展的范围。如果有人感兴趣，可以提交拉请求。</p><h1 id="fd99" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">应用程序的屏幕截图</h1><h2 id="4bc9" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">登录页面</h2><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lg"><img src="../Images/5192fa41ac2ba926908a4ce3f461b4e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hhQMpRuXzKM0Fjve.png"/></div></div></figure><h2 id="419d" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">订阅源主页</h2><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lg"><img src="../Images/6ce76ab3edbbb384541b278fb3e2b733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YkZtYI8IjT8n1BJ2.png"/></div></div></figure><h2 id="acf3" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">推荐源主页</h2><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lg"><img src="../Images/c0e1a81710866b4f0aca0aebfd96b224.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9_nrY3ceKpZ5EcqX.png"/></div></div></figure><h1 id="81a7" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">提交类别</h1><p id="bbec" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">平均/MERN小牛队</p><h1 id="7b08" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">使用的语言</h1><h2 id="9242" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">前端:</h2><p id="6c08" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">JavaScript，React，fetch(ajax)，Redis-OM，sass，lodash</p><h2 id="8671" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">后端:</h2><p id="de6d" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">JavaScript，Next.js，Redis-OM</p><h2 id="69ec" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">实用工具</h2><p id="395b" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Redis-insight</p><h1 id="4cce" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">部署的链接</h1><h2 id="701a" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">使用的部署服务:<a class="ae lh" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a></h2><p id="2379" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><a class="ae lh" href="https://collaborator-two.vercel.app/internal/Feeds" rel="noopener ugc nofollow" target="_blank">行程合作者</a></p><h2 id="217c" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated"><strong class="ak">用户登录/密码:</strong></h2><p id="329d" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj">用户1 </strong> : Apoorv(用户名)/Apoorv(密码)<br/> <strong class="ih hj">用户2 </strong> : Apoorv Tomar(用户名)/ ApoorvTomar(密码)</p><h1 id="858f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">架构图</h1><h2 id="2449" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">整体架构图</h2><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es li"><img src="../Images/2b8c19f94867eaf97e7b218388d9ce68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kAJQR_aYviO6q_am.png"/></div></div></figure><h2 id="f2dc" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">流程图</h2><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es lj"><img src="../Images/d131bbe62acebd0b1f092f5a1a2d9cb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/0*IC6HGqvt0K4NYU9O.png"/></div></figure><h2 id="fe5d" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">API图</h2><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es lk"><img src="../Images/97d285c61f26fa15d7ab0b0ff07ce47f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/0*Pznah7R8ES9xxgWB.png"/></div></figure><h1 id="726b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">我的项目的视频讲解</h1><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="ll lm l"/></div></figure><h1 id="8d87" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">链接到代码</h1><div class="ln lo ez fb lp lq"><a href="https://github.com/apoorvtomar2222/trip-collaborator" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab dw"><div class="ls ab lt cl cj lu"><h2 class="bd hj fi z dy lv ea eb lw ed ef hh bi translated">GitHub-apoorvtomar 2222/trip-collaborator:这个项目是一个原型，用于制作一个系统…</h2><div class="lx l"><h3 class="bd b fi z dy lv ea eb lw ed ef dx translated">这个项目是一个原型，制作一个系统，用于同行决定他们的下一次旅行。- GitHub …</h3></div><div class="ly l"><p class="bd b fp z dy lv ea eb lw ed ef dx translated">github.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kq lq"/></div></div></a></div><h1 id="4bb0" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">它是如何工作的？</h1><h2 id="54b8" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">存储数据</h2><p id="e2b9" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我们用Redis作为我们的数据库。Redis支持各种数据类型，但是我们将把数据存储为JSON。这将帮助我们复制当今最常见的非SQL数据库，即MongoDB。</p><p id="7939" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Redis中的数据有两种模式，如下所示。一个用于位置，另一个用于用户。</p><h2 id="f13f" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">位置模式</h2><pre class="kh ki kj kk fd mf mg mh mi aw mj bi"><span id="e8fa" class="ks je hi mg b fi mk ml l mm mn">Location,<br/>    {<br/>        name: { type: 'string' },<br/>        location: { type: 'string' },<br/>        image: { type: 'string' },<br/>        description: { type: 'text', textSearch: true },<br/>    }</span></pre><h2 id="8adf" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">用户模式</h2><pre class="kh ki kj kk fd mf mg mh mi aw mj bi"><span id="1c87" class="ks je hi mg b fi mk ml l mm mn">User,<br/>    {<br/>        name: { type: 'string' },<br/>        password: { type: 'string' },<br/>        relatedItems: { type: 'string[]' }<br/>    }</span></pre><p id="3297" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们使用Redis-om来存储数据，所以我们必须创建一个存储库来帮助我们创建用于存储数据的实体。<br/>以下是将数据保存在一个位置的方法</p><pre class="kh ki kj kk fd mf mg mh mi aw mj bi"><span id="8d89" class="ks je hi mg b fi mk ml l mm mn">export async function addLocation(data) {<br/>    await connect();<br/>    const repository = client.fetchRepository(schema)<br/>    const car = repository.createEntity(data);<br/>    const id = await repository.save(car);<br/>    return id;<br/>}</span></pre><p id="a38a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是Redis Insight的截图，这是一个UI工具，提供了跟踪存储数据的界面。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lg"><img src="../Images/52c095220af54aa1e5909d11122de726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LtpQPCoYimvjsn8W.png"/></div></div></figure><h1 id="e1a8" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">读取数据</h1><p id="4ecc" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在，一旦我们成功地将数据存储在Redis云数据库中。是时候查询数据了。</p><p id="6639" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经使用以下命令获取了数据。我们将要讨论的是搜索功能，它可以在feed页面上找到，如下图所示。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lg"><img src="../Images/7849e3c7546250dafda23df94e2e853f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ek-V7Ao5LnI_GpCn.png"/></div></div></figure><pre class="kh ki kj kk fd mf mg mh mi aw mj bi"><span id="abba" class="ks je hi mg b fi mk ml l mm mn">export async function searchLocation(q) {<br/>    await connect();</span><span id="bc87" class="ks je hi mg b fi mo ml l mm mn">    const repository = new Repository(schema, client);<br/>    let locations;<br/>    if (q) {<br/>        locations = await repository.search()<br/>            .where('name').eq(q)<br/>            .or('location').eq(q)<br/>            .or('description').matches(q)<br/>            .return.all();</span><span id="b7bd" class="ks je hi mg b fi mo ml l mm mn">    } else {<br/>        locations = await repository.search().return.all();<br/>    }<br/></span><span id="883f" class="ks je hi mg b fi mo ml l mm mn">    return locations;<br/>}</span></pre><p id="c4db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，您会发现我们使用了提供的搜索功能。为了过滤数据，我们有where和or函数，我们可以在其中提供我们的条件。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><h1 id="5ea4" class="jd je hi bd jf jg mw ji jj jk mx jm jn jo my jq jr js mz ju jv jw na jy jz ka bi translated">关于作者</h1><p id="f4ba" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Apoorv Tomar是一名软件开发人员，也是Mindroast的一员。你可以在<a class="ae lh" href="https://twitter.com/apoorvtomar_" rel="noopener ugc nofollow" target="_blank">推特</a>、<a class="ae lh" href="https://www.linkedin.com/in/apoorvtomar/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae lh" href="https://t.me/ApoorvTomar" rel="noopener ugc nofollow" target="_blank">电报</a>和<a class="ae lh" href="https://www.instagram.com/apoorvsinghtomar/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上和他联系。订阅<a class="ae lh" href="https://www.mindroast.com/newsletter" rel="noopener ugc nofollow" target="_blank">简讯</a>获取最新策划内容。不要犹豫在任何平台上说“你好”,只需说明你在哪里找到我的资料</p></div></div>    
</body>
</html>