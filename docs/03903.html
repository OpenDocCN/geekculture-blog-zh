<html>
<head>
<title>Build Simple Attendance App in Kotlin — Part 1 — Dashboard Layout</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Kotlin中构建简单的考勤应用程序—第1部分—仪表板布局</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/build-simple-attendance-app-in-kotlin-part-1-dashboard-layout-c111b84ea9cf?source=collection_archive---------13-----------------------#2021-06-17">https://medium.com/geekculture/build-simple-attendance-app-in-kotlin-part-1-dashboard-layout-c111b84ea9cf?source=collection_archive---------13-----------------------#2021-06-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b9ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想掌握一门语言，或者一个框架，在它的基础上构建一些东西！</p><p id="dd25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本系列中，您将使用Kotlin构建一个简单的学生考勤应用程序。</p><p id="6b83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还将学习如何使用jetpack功能，如导航、相机、房间。您还将学习如何在android中使用MVVM和存储库模式。</p><p id="f3a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我对你有一些假设:</p><ol class=""><li id="6e90" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">你对kotlin和android有些经验</li><li id="872a" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">你可以使用Android Studio，以及已经安装在你桌面上的Android SDK</li><li id="ae9f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">本教程的最小SDK是API 21</li></ol><p id="de42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们开始吧</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h2 id="6a0b" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">章节:</h2><ul class=""><li id="c9b0" class="jd je hi ih b ii kt im ku iq kv iu kw iy kx jc ky jj jk jl bi translated">使用ConstraintLayout的简单仪表板[你在这里]</li></ul><p id="1a99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于每一章，我将提供三个链接:</p><ul class=""><li id="2c9c" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ky jj jk jl bi translated">拉链。你可以下载。</li><li id="c444" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">差异。您可以显示章节之间的差异。</li><li id="3f31" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">每个章节的标记存储库</li></ul><p id="9bd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kz" href="https://github.com/ihfazhillah/Simple-Attendance-Example/archive/refs/tags/part1.zip" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> zip </strong> </a>、diff【没什么，因为是我们第一个版本】、<a class="ae kz" href="https://github.com/ihfazhillah/Simple-Attendance-Example/tree/part1" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> repo </strong> </a></p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="d061" class="la jz hi bd ka lb lc ld ke le lf lg ki lh li lj kl lk ll lm ko ln lo lp kr lq bi translated">使用ConstraintLayout创建简单的仪表板</h1><p id="7590" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">在本系列中，您将主要使用ConstraintLayout视图组。您可以在没有嵌套视图组的情况下布局复杂的层次结构。此外，如果您愿意，您可以使用可视化编辑器，而无需接触XML文件。如果你想使用可视化编辑器，你可以访问android文档。</p><p id="ef82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，在本系列中，您将使用XML文件实现布局，并获得一些关于它的解释。</p><p id="8a0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们打开<code class="du lu lv lw lx b">activity_main.xml</code>文件，并在ConstraintLayout标记中填充这段代码。</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure><p id="5282" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们这里有两个<code class="du lu lv lw lx b">CardView</code>。在它里面，我们有<code class="du lu lv lw lx b">ConstraintLayout</code>。</p><p id="e59d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个<code class="du lu lv lw lx b">CardView</code>，顶部、底部和开始(左侧)约束被约束到父视图中。并且结束约束被约束到id为<code class="du lu lv lw lx b">studnets_card</code>的视图的开始。</p><p id="db53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你看:</p><pre class="ly lz ma mb fd mf lx mg mh aw mi bi"><span id="b3e9" class="jy jz hi lx b fi mj mk l ml mm">app:layout_constraintTop_toTopOf="parent"            app:layout_constraintBottom_toBottomOf="parent"            app:layout_constraintStart_toStartOf="parent"            app:layout_constraintEnd_toStartOf="@id/students_card"            </span></pre><p id="4610" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有趣的部分是这些下面的线。<code class="du lu lv lw lx b">chainStyle</code>。<code class="du lu lv lw lx b">ConstraintLayout</code>有几种款式的链条。其中一个就是<code class="du lu lv lw lx b">packed</code>。这意味着，对于水平链，约束到最左侧视图的每个视图，或者对于垂直链，约束到最顶部视图的每个视图，将在计算边距后被打包。你会在不久的将来看到<code class="du lu lv lw lx b">packed</code>链式的结果。</p><pre class="ly lz ma mb fd mf lx mg mh aw mi bi"><span id="e1c3" class="jy jz hi lx b fi mj mk l ml mm">app:layout_constraintHorizontal_chainStyle="packed"</span></pre><figure class="ly lz ma mb fd mc er es paragraph-image"><div class="er es mn"><img src="../Images/9c0e618bba43551dce074a643e4547de.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*KS9fSP3q1_OX4WGKVBzurA.png"/></div><figcaption class="mq mr et er es ms mt bd b be z dx">packed chain style horizontally</figcaption></figure><p id="5077" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到，顶部和底部的约束被限制在第一张卡中。这意味着无论你在哪里改变第一张卡片的上边距或下边距，第二张卡片都会跟着改变。</p><p id="9294" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了让它和第一张卡片放在一起，你要把开始约束到第一张卡片的末端。并且不要忘记对父对象的结束进行结束约束。</p><p id="1361" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你会看到如上图的结果。</p><p id="cf8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，您会注意到边距将遵循约束。我的意思是，如果你将顶部约束到父视图中，并给定50dp的边距，这将在父视图和视图之间留出50dp的空间。</p><p id="1582" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果给学生卡的开始页边空白值50dp，并且该卡被限制在活动卡结束时开始，这将使这两张卡之间的空间为50dp。</p><p id="f188" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，如果你给活动卡的末尾留边，这将不会在它们之间留下任何空间。所以，确保你注意到这一点。</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="1ff3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你注意到<code class="du lu lv lw lx b">ImageView</code>仍然在使用颜色填充它。在真正的应用程序中，您将为这些卡片使用图标。</p><p id="59ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们用图标制作你的活动卡和学生卡，让它们看起来像下面的图片</p><figure class="ly lz ma mb fd mc er es paragraph-image"><div class="er es mu"><img src="../Images/910f3d86dc8885521333bcdee676d296.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*5ElYxASx7OWBMm9QAP1bYQ.png"/></div></figure><p id="d117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">右键点击可绘制文件夹，选择新建，选择<code class="du lu lv lw lx b">Vector Asset</code>菜单。然后单击剪贴画按钮，您将看到对话框。</p><figure class="ly lz ma mb fd mc er es paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="er es mv"><img src="../Images/3562fe4b28cac34bbd4d02a4ed88bd61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zhrshSFVzbFBUe14SQEAnA.png"/></div></div></figure><p id="1ab6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">搜索你需要的图标。做两次。</p><p id="1fc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在活动卡上使用日历，在学生卡上使用主管图标。我给它取名为<code class="du lu lv lw lx b">ic_calendar.xml</code>和<code class="du lu lv lw lx b">ic_users.xml</code></p><p id="d19c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，转到<code class="du lu lv lw lx b">activity_main.xml</code>并更改每个<code class="du lu lv lw lx b">ImageView</code>的<code class="du lu lv lw lx b">android:src</code>属性。<code class="du lu lv lw lx b">@drawable/ic_calendar</code>为活动，而<code class="du lu lv lw lx b">@drawable/ic_users</code>为学生卡。</p><p id="6544" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你注意到了文件夹和你在模板中调用它的方式之间的关联，对吗？这个<code class="du lu lv lw lx b">drawable</code>文件夹，你用<code class="du lu lv lw lx b">@drawable/xxx</code>调用里面的东西。并且在kotlin代码中，可以使用<code class="du lu lv lw lx b">R.drawable.xxx</code>引用它。</p><p id="892e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总而言之:</p><ul class=""><li id="d7c6" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ky jj jk jl bi translated">drawable/xxx -&gt;文件夹和文件</li><li id="b9c9" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated"><code class="du lu lv lw lx b">@drawable/xxx</code> - &gt;如何在模板中引用它</li><li id="73b9" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated"><code class="du lu lv lw lx b">R.drawable.xxx</code> - &gt;如何在java / kotlin代码中引用它</li></ul></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="1071" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du lu lv lw lx b">event</code>卡代码前的<code class="du lu lv lw lx b">activity_main.xml</code>文件中输入以下代码。</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure><p id="4199" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你打字的时候，你会注意到你在这张卡片上加了一些页边空白。这个余量会产生影响，因为余量和我之前解释的约束相匹配。</p><p id="8556" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你也注意到了<code class="du lu lv lw lx b">layout_width</code>是<code class="du lu lv lw lx b">0dp</code>。为什么？这是一个使视图的宽度在扣除边距后填满屏幕宽度的技巧。因此，请确保指定开始和结束约束以及边距。</p><p id="3f5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您也可以将<code class="du lu lv lw lx b">layout_height</code>值设为<code class="du lu lv lw lx b">0dp</code>。行为将是相同的。</p><p id="6dde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设您有一个选项卡布局和一个回收器视图。你想把标签放在最上面。回收器视图在选项卡下，但未被选项卡覆盖。</p><p id="d0c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您将<code class="du lu lv lw lx b">layout_height</code>设为<code class="du lu lv lw lx b">match_parent</code>，部分内容将被选项卡覆盖。</p><p id="2e08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你设置它为<code class="du lu lv lw lx b">wrap_content</code>,你将顶部的约束设置为标签，底部的约束设置为父标签，并且你的内容没有显示在屏幕上，你的项目将会在屏幕的中心。</p><p id="ca7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，<code class="du lu lv lw lx b">layout_height</code>的<code class="du lu lv lw lx b">0dp</code>值将会起作用。你将在下一章的某个视图中使用这个技巧。</p><p id="1842" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的最终布局将如下所示</p><figure class="ly lz ma mb fd mc er es paragraph-image"><div class="er es na"><img src="../Images/e00d2cd2774df4ac931c4d2563599128.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*HTNBmHyiIjwjBOkkfShxog.png"/></div></figure></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="f1f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，您将在顶部卡片下方添加自定义背景。您将通过编写XML代码自己创建一个自定义的drawable。</p><p id="cfcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">实现代码后，您的屏幕将是这样的</p><figure class="ly lz ma mb fd mc er es paragraph-image"><div class="er es nb"><img src="../Images/7f72fe70943017fadff1971c3b3f0e8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*qgn1naKt60rIyw6_PzfDBA.png"/></div></figure><p id="09bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">右键单击可绘制文件夹，选择新建，然后选择可绘制资源文件。使文件名值为<code class="du lu lv lw lx b">rounded_top_background.xml</code>，根元素值为<code class="du lu lv lw lx b">shape</code>。是的，您将使用XML自己绘制形状。</p><p id="39e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生成最终的XML文件，如下所示:</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure><p id="4696" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，添加一个<code class="du lu lv lw lx b">solid</code>标签。这将你的形状颜色赋予在<code class="du lu lv lw lx b">values/themes.xml</code>中定义的<code class="du lu lv lw lx b">colorPrimary</code>属性</p><p id="e4e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，通过在<code class="du lu lv lw lx b">corners</code>标签中添加<code class="du lu lv lw lx b">bottomRightRadius</code>和<code class="du lu lv lw lx b">bottomLeftRadius</code>属性，使底角的两边变圆。</p><p id="f57f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，再次打开<code class="du lu lv lw lx b">activity_main.xml</code>并将这段代码添加到<code class="du lu lv lw lx b">top_card</code>视图的上方。</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="edb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过调用<code class="du lu lv lw lx b">findViewById</code>来引用kotlin代码中的每个视图，并将视图id传递给它。</p><p id="0447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，如果你想引用事件卡片，你可以调用<code class="du lu lv lw lx b">findViewById&lt;CardView&gt;(R.id.event_card)</code>并把它传递给一个变量。</p><p id="7cb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，如果你想得到按钮更多的视图，你可以调用<code class="du lu lv lw lx b">findViewById&lt;Button&gt;(R.id.button_more)</code>。</p><p id="383f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，您可以使用<code class="du lu lv lw lx b">viewBinding</code>或<code class="du lu lv lw lx b">dataBinding</code>功能。在本教程中，您将使用<code class="du lu lv lw lx b">viewBinding</code>。</p><p id="abbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要启用此功能，请确保您使用的是Android Studio以上版本。</p><p id="10ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开<code class="du lu lv lw lx b">app</code>文件夹内的<code class="du lu lv lw lx b">build.gradle</code>。增加</p><pre class="ly lz ma mb fd mf lx mg mh aw mi bi"><span id="0fcc" class="jy jz hi lx b fi mj mk l ml mm">buildFeatures {<br/>    viewBinding true<br/>}</span></pre><p id="2ffa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du lu lv lw lx b">android</code>部分和<code class="du lu lv lw lx b">sync</code>中，你的Gradle文件发生变化。</p><p id="97a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将根据布局名称生成<code class="du lu lv lw lx b">viewBinding</code>类。<code class="du lu lv lw lx b">activity_main.xml</code>会生成<code class="du lu lv lw lx b">ActivityMainBinding</code>。</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="aa90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何使用它？你问。</p><p id="c2dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开<code class="du lu lv lw lx b">MainActivity.kt</code>，在<code class="du lu lv lw lx b">onCreate</code>方法里面你可以初始化它。</p><pre class="ly lz ma mb fd mf lx mg mh aw mi bi"><span id="2d71" class="jy jz hi lx b fi mj mk l ml mm">val binding = ActivityMainBinding.inflate(layoutInflater)<br/>setContentView(binding.root)</span></pre><p id="6fb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">替换<code class="du lu lv lw lx b">setContentView</code>方法，用<code class="du lu lv lw lx b">binding.root</code>代替<code class="du lu lv lw lx b">R.layout.activity_main</code>。</p><p id="6374" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，您会注意到使用下划线的ids将生成它的camelCase版本。<code class="du lu lv lw lx b">button_more</code>将会是<code class="du lu lv lw lx b">buttonMore</code>，<code class="du lu lv lw lx b">events_card</code>将会是<code class="du lu lv lw lx b">eventsCard</code></p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="49bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将在按钮和卡片上添加简单的点击监听器。</p><p id="8f2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">键入这个</p><pre class="ly lz ma mb fd mf lx mg mh aw mi bi"><span id="8abf" class="jy jz hi lx b fi mj mk l ml mm">binding.buttonMore.setOnClickListener {<br/>    Toast.makeText(this, "button more clicked", Toast.LENGTH_SHORT).show()<br/>}</span><span id="ee50" class="jy jz hi lx b fi nc mk l ml mm">binding.eventsCard.setOnClickListener {<br/>    Toast.makeText(this, "Events card clicked", Toast.LENGTH_SHORT).show()<br/>}</span><span id="56d4" class="jy jz hi lx b fi nc mk l ml mm">binding.studentsCard.setOnClickListener {<br/>    Toast.makeText(this, "Students Card clicked", Toast.LENGTH_SHORT).show()<br/>}</span></pre><p id="b304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当每个按钮被点击时，这将创建一个简短的祝酒词。<code class="du lu lv lw lx b">Toast.makeText</code>方法需要3个参数:</p><ul class=""><li id="354a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ky jj jk jl bi translated">语境</li><li id="f15a" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">文本</li><li id="0a3b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">吐司长度类型，吐司有两种类型:LENGTH_SHORT和LENGTH_LONG</li></ul><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="nd me l"/></div></figure><p id="9cdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的活动代码将类似于</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="d9d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当点击按钮<code class="du lu lv lw lx b">Add More</code>时，你需要打开一个弹出菜单，而不是显示一个祝酒词。因为您希望能够创建事件或学生记录。</p><p id="655d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在res文件夹中右键单击，单击New并选择Android Resource Directory。</p><p id="906e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将目录名填写为<code class="du lu lv lw lx b">menu</code>，类型为<code class="du lu lv lw lx b">menu</code></p><p id="bc37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，右键单击<code class="du lu lv lw lx b">menu</code>文件夹，新建，选择菜单资源文件。</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure><p id="9c41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，打开MainActivity，并将<code class="du lu lv lw lx b">buttonMore</code> click listener更改为<code class="du lu lv lw lx b">openMoreMenu(it)</code></p><p id="fab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个名为<code class="du lu lv lw lx b">openMoreMenu</code>的方法，带有一个名为<code class="du lu lv lw lx b">view</code>的参数。请看下面第21行的代码:</p><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="md me l"/></div></figure><p id="30fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您点击更多按钮时，这将<code class="du lu lv lw lx b">inflate</code>您之前定义的<code class="du lu lv lw lx b">R.menu.more_menu</code>布局。然后设置菜单项click listener。之后，您显示弹出窗口。</p><p id="9296" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">综上所述，创建弹出菜单的步骤是:</p><ul class=""><li id="f7bf" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ky jj jk jl bi translated">使用菜单标签和其中的项目创建菜单布局</li><li id="098b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">在Kotlin代码中初始化<code class="du lu lv lw lx b">PopupMenu</code>，展开菜单布局，并设置点击监听器。</li><li id="4c25" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">你决定什么时候显示它。在本章中，您将在单击“更多”按钮时显示弹出窗口。</li></ul><figure class="ly lz ma mb fd mc"><div class="bz dy l di"><div class="nd me l"/></div></figure></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="38ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">恭喜你，成为android开发者的第一步已经完成。</p><p id="31db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是您在本章中学到的内容:</p><ul class=""><li id="47e6" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ky jj jk jl bi translated">约束布局</li><li id="5df1" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">视图绑定</li><li id="b509" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">烤</li><li id="a710" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">PopupMenu</li></ul><p id="9998" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，成为一名android开发专家是一个漫长的旅程。不要放弃。</p><p id="4512" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将在第二章的<a class="ae kz" href="https://mihfazhillah.medium.com/build-simple-attendance-app-in-kotlin-part-2-navigate-to-student-form-a9f519a1098c" rel="noopener">中了解更多关于如何创建学生记录并将其保存到数据库中的信息。</a></p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="9970" class="la jz hi bd ka lb lc ld ke le lf lg ki lh li lj kl lk ll lm ko ln lo lp kr lq bi translated">参考</h1><ul class=""><li id="0893" class="jd je hi ih b ii kt im ku iq kv iu kw iy kx jc ky jj jk jl bi translated">https://developer.android.com/training/constraint-layout<a class="ae kz" href="https://developer.android.com/training/constraint-layout" rel="noopener ugc nofollow" target="_blank"/></li><li id="1b9d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ky jj jk jl bi translated">【https://developer.android.com/topic/libraries/view-binding T4】</li></ul></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h2 id="cb2e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">更新</h2><ul class=""><li id="2481" class="jd je hi ih b ii kt im ku iq kv iu kw iy kx jc ky jj jk jl bi translated"><strong class="ih hj">2021年6月20日</strong>增加第二章的链接</li></ul></div></div>    
</body>
</html>