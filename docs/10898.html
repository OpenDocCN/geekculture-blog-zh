<html>
<head>
<title>Robot Operating System: Installation &amp; Configuration on a Raspberry Pi with Ubuntu Server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器人操作系统:在带有Ubuntu服务器的Raspberry Pi上安装和配置</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/robot-operating-system-installation-configuration-and-auto-startup-on-a-raspberry-pi-with-ubuntu-6eb8e4e1038e?source=collection_archive---------8-----------------------#2022-02-21">https://medium.com/geekculture/robot-operating-system-installation-configuration-and-auto-startup-on-a-raspberry-pi-with-ubuntu-6eb8e4e1038e?source=collection_archive---------8-----------------------#2022-02-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2ca498f693b9db6cc9fbf872cf256028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zNvzlxjDSC2vb7bkz6wnrw.png"/></div></div></figure><p id="9ce9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">开发移动机器人有很多选择。甚至还有很多你可能想要满足的要求。所有设置的总体目标应该是运行最新的软件，从操作系统到操作系统包和应用程序库。</p><p id="1f2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想在Raspberry Pi上使用ROS和默认的获取系统Raspberry Pi OS，安装不是一个简单的<code class="du jo jp jq jr b">apt-get install</code>命令。原因是:没有树莓Pi操作系统的<a class="ae js" href="https://answers.ros.org/question/362738/trouble-using-apt-to-install-ros-noetic-on-raspberry-pi/" rel="noopener ugc nofollow" target="_blank">预编译版本。因此，您需要启动一个漫长的过程，包括手动下载和编译几个包。ROS建议使用Ubuntu操作系统进行操作，我只能建议遵循这一点，因为你可能会在Ubuntu的上下文中找到关于ROS的问题的支持。因此，我决定使用Ubuntu Server 20.04作为我的移动机器人的操作系统。</a></p><p id="36e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章是关于在运行Ubuntu 20.04的Raspberry Pi上设置、配置和自动启动ROS的完整指南。您将学习如何添加ROS包源代码、执行安装、配置默认用户以使其拥有正确的权限，以及如何在运行时自动启动Raspberry Pi上的ROS代码节点。</p><p id="4b71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">本文的技术背景是Ubuntu Server 20.04，ROS Noetic 1.15.11，硬件是Raspberry Pi 3或4。所有指令都应该适用于更新的操作系统和库版本。</em></p><p id="9847" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">本文原载于我的博客</em><a class="ae js" href="https://admantium.com/blog/robo09_install_ros_on_ubuntu_and_raspberry_pi/" rel="noopener ugc nofollow" target="_blank"><em class="jt">admantium.com</em></a>。</p><h1 id="d7fe" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在Ubuntu服务器上安装ROS Noetic</h1><p id="b3fd" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">考虑到<a class="ae js" href="https://wiki.ros.org/Installation/Ubuntu" rel="noopener ugc nofollow" target="_blank">官方文档</a>中提到的步骤，以及一些小的修改，安装归结为:</p><ol class=""><li id="4e54" class="kx ky hi is b it iu ix iy jb kz jf la jj lb jn lc ld le lf bi translated">让您的树莓Pi保持最新，包括最新的内核:</li></ol><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="0c00" class="lo jv hi jr b fi lp lq l lr ls">sudo apt-get update<br/>sudu apt-get upgrade</span></pre><p id="028c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.将ROS包存储库添加到您的<code class="du jo jp jq jr b">sources.list</code>中，并导入所需的密钥。</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="a275" class="lo jv hi jr b fi lp lq l lr ls">sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" &gt; /etc/apt/sources.list.d/ros-latest.list'</span><span id="ff46" class="lo jv hi jr b fi lt lq l lr ls">sudo apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654</span></pre><p id="97ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.安装构建基础和ROS核心包</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="b8f9" class="lo jv hi jr b fi lp lq l lr ls">sudo apt-get update<br/>sudo apt-get install build-essential cmake<br/>sudo apt-get install ros-noetic-ros-base</span></pre><p id="8744" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果一切顺利，让我们通过运行以下两个命令来测试安装:</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="14a9" class="lo jv hi jr b fi lp lq l lr ls">source /opt/ros/noetic/setup.bash<br/>roscore</span></pre><p id="e987" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您应该会看到以下输出:</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="9ba3" class="lo jv hi jr b fi lp lq l lr ls">started roslaunch server http://omega:35395/<br/>ros_comm version 1.15.13<br/></span><span id="6afd" class="lo jv hi jr b fi lt lq l lr ls">SUMMARY<br/>========</span><span id="98ef" class="lo jv hi jr b fi lt lq l lr ls">PARAMETERS<br/> * /rosdistro: noetic<br/> * /rosversion: 1.15.13</span></pre><p id="71f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果这些步骤成功，您可以继续下一步。</p><h1 id="65d9" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">设置用户权限</h1><p id="8282" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">假设您使用默认用户<code class="du jo jp jq jr b">pi</code>，并且您想要使用Raspberry Pi的GPIO和I2X引脚，我们需要设置特定的访问权限。</p><p id="7e6e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在终端中执行以下命令:</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="a8fb" class="lo jv hi jr b fi lp lq l lr ls">sudo groupadd -f --system gpio<br/>sudo usermod -a -G gpio pi<br/>sudo usermod -a -G i2c pi</span></pre><h1 id="7d9e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">设置新的ROS包</h1><p id="f6a8" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">要在您的Raspberry Pi上正确创建ROS项目，请遵循以下步骤:</p><ol class=""><li id="5570" class="kx ky hi is b it iu ix iy jb kz jf la jj lb jn lc ld le lf bi translated">创建柳絮工作空间</li></ol><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="6fd0" class="lo jv hi jr b fi lp lq l lr ls">mkdir ~/ros-noetic<br/>cd ~/ros-noetic</span></pre><p id="d427" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.在工作区内创建一个ROS包</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="1235" class="lo jv hi jr b fi lp lq l lr ls">catkin_create_pkg cmd_vel_listener std_msg rospy --rosdistro noetic</span><span id="9c75" class="lo jv hi jr b fi lt lq l lr ls">Created file cmd_vel_listener/package.xml<br/>Created file cmd_vel_listener/CMakeLists.txt<br/>Created folder cmd_vel_listener/src</span><span id="a158" class="lo jv hi jr b fi lt lq l lr ls">Successfully created files in /home/pi/catkin_ws/src/cmd_vel_listener. Please adjust the values in package.xml.</span></pre><p id="b6d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.运行ROS编译流程</p><pre class="lg lh li lj fd lk jr ll lm aw ln bi"><span id="4cf9" class="lo jv hi jr b fi lp lq l lr ls">catkin_make<br/>Base path: /home/pi/catkin_ws<br/>Source space: /home/pi/catkin_ws/src<br/>Build space: /home/pi/catkin_ws/build<br/>Devel space: /home/pi/catkin_ws/devel<br/>Install space: /home/pi/catkin_ws/install<br/>####<br/>#### Running command: "cmake /home/pi/catkin_ws/src -DCATKIN_DEVEL_PREFIX=/home/pi/catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/home/pi/catkin_ws/install -G Unix Makefiles" in "/home/pi/catkin_ws/build"<br/>####<br/>-- Using CATKIN_DEVEL_PREFIX: /home/pi/catkin_ws/devel<br/>-- Using CMAKE_PREFIX_PATH: /opt/ros/noetic<br/>-- This workspace overlays: /opt/ros/noetic<br/>-- Using PYTHON_EXECUTABLE: /usr/bin/python3<br/>-- Using Debian Python package layout<br/>-- Using empy: /usr/lib/python3/dist-packages/em.py<br/>-- Using CATKIN_ENABLE_TESTING: False<br/>-- catkin 0.8.10<br/>-- BUILD_SHARED_LIBS is on<br/>-- BUILD_SHARED_LIBS is on<br/>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br/>-- ~~  traversing 4 packages in topological order:<br/>-- ~~  - cmd_vel_listener<br/>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></pre><p id="4b7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完成这一步后，您就可以开始了。</p><h1 id="a76f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="acb2" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">这篇短文展示了在运行Ubuntu服务器的Raspberry Pi上安装ROS的基本步骤。通过使用Ubuntu，你可以使用可用的Debian软件包，而不是从头开始编译。安装步骤包括a)更新源列表，b)添加所需的SSH密钥，c)安装软件包。之后，我展示了如何为与GPIOs和Raspberry Pi的I2C子系统交互设置正确的用户权限。最后，我展示了如何设置一个ROS工作空间，在其中定义您的项目。</p></div></div>    
</body>
</html>