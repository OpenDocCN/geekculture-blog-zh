<html>
<head>
<title>Getting started with streaming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">流媒体入门</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/getting-started-with-streaming-527478d0df7b?source=collection_archive---------14-----------------------#2022-01-22">https://medium.com/geekculture/getting-started-with-streaming-527478d0df7b?source=collection_archive---------14-----------------------#2022-01-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="52ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">流数据以永无止境的方式以可变的速率连续生成和传送。它可以有两种类型:<em class="jd">入境</em>或<em class="jd">出境</em>。入站流数据可能到达得如此之快，数量如此之大，以至于存储它们是无用的、不值得的或不可行的。几乎不可能调节结构、数据完整性或控制生成数据的数量和速度。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/f906326927d3b437656d70004a4fdba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O66qSMp5JKYLE9z5"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Photo by <a class="ae ju" href="https://unsplash.com/@reskp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jametlene Reskp</a> on <a class="ae ju" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dd52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着我们的应用程序需要在数据到达时就从数据中提取知识。换句话说，速度在大数据流中至关重要，因为如果不快速处理，数据的价值会随着时间的推移而降低。</p><h2 id="e89d" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">流处理</h2><p id="40d4" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated"><strong class="ih hj">流处理</strong>是一种用于处理和分析动态数据的技术。</p><p id="e1a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于数据流可能是无限的，并且可以是任意大小，我们无法确定它是否适合我们拥有的内存量。为了解决这个问题，我们使用了<strong class="ih hj">滑动时间窗口</strong>技术。我们总是查看最后N秒左右到达的数据。</p><p id="c75e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，我们需要采取预防措施，以确保我们快速完成第一级处理。如果我们的初始处理速度太慢，以至于错过了滑动窗口中80%的数据，可用性就会受到影响。如果我们不能满足这一点，我们需要确保我们可以使用缓存技术赶上。</p><h2 id="38e7" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">流式处理与批处理</h2><p id="8c4b" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">有些人混淆了流式处理和批处理。它们都是为了尽快从大量数据中获取知识。</p><p id="f023" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">批量数据处理方法要求在处理、存储或分析数据之前批量下载数据。相比之下，流数据持续流入，并允许数据在生成的第一秒就被同时实时处理。</p><p id="775b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您需要知道组织的每周销售额，那么每小时运行批处理或应用流处理是没有意义的。批处理请求可以每周安排一次，最好是在周日，以便在周一早上得到结果。</p><p id="3e8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一方面，流式传输总是实时的。就在此时此地。正如我们之前解释过的，我们通常不能存储它们或者延迟它们的处理。</p><h2 id="8440" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">真的是实时的吗？</h2><p id="775d" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">实时系统可以进一步分为<em class="jd">硬</em>实时和<em class="jd">软</em>实时系统。</p><ul class=""><li id="5dc9" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated"><strong class="ih hj">硬实时系统:</strong>这些系统必须遵守特定的时间响应指令。如果他们做不到这一点，后果可能是巨大的。例如，这些系统通常用于医疗技术，如心脏起搏器，或国防系统，如反导弹保护系统。</li><li id="bdc4" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated"><strong class="ih hj">软实时系统:</strong>这些系统必须对触发器立即做出反应，但不将其限制在特定的时间窗口内。</li></ul><p id="cbc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，这并不意味着没有SLA。违反它们不会危及任何人的生命，但它们可能会被归类为UX或性能下降。</p><p id="fc00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果SLA未能在截止日期前完成，它们仍然可以照常运行，这意味着唯一的问题是性能下降。</p><h2 id="ed8b" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">流式数据的一些例子</h2><ul class=""><li id="55a9" class="kv kw hi ih b ii kq im kr iq lj iu lk iy ll jc la lb lc ld bi translated"><strong class="ih hj">设备监控:</strong>一个边缘云的所有设备每隔几毫秒发送一次心跳信号。接收器处理该流，并在最后一分钟心跳数减少时发出警报。</li><li id="7415" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated"><strong class="ih hj">欺诈检测:</strong>每一秒钟发生在网上的所有支付都会立即根据欺诈检查进行分析。这些系统会对任何可疑付款发出警报。</li><li id="dc18" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated"><strong class="ih hj">股票价格监控:</strong>当股票达到特定价格时，客户发出卖出指令以卖出股票。一个流分析器观察价格波动的流，当价格匹配时做出反应。</li><li id="10cc" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated"><strong class="ih hj">趋势文章:</strong>我们有一个新闻网站和一个机器人，它在推特上发布数据库中所有带有“趋势标志”的文章。我们在视图流中应用了一种算法，当观看者的比率超过某个阈值时，我们将它们标记为趋势。</li></ul><h2 id="078e" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">常用的实时流数据平台</h2><ol class=""><li id="7c6e" class="kv kw hi ih b ii kq im kr iq lj iu lk iy ll jc lm lb lc ld bi translated">阿帕奇卡夫卡</li><li id="cd38" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc lm lb lc ld bi translated">阿帕奇水槽</li><li id="4d4b" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc lm lb lc ld bi translated">火花流</li><li id="cede" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc lm lb lc ld bi translated">阿帕奇风暴</li></ol><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ln"><img src="../Images/09ce1fcf1b87f51c1c17e194fb545429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KkzXiBI1fyUlrsli"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Photo by <a class="ae ju" href="https://unsplash.com/@deonblack?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Deon Black</a> on <a class="ae ju" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="7383" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">阿帕奇卡夫卡</h2><p id="d190" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">Apache Kafka是最著名的流媒体平台之一。它最初是由LinkedIn创建的，几年后捐赠给了Apache基金会。</p><p id="d57f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kafka是一个分布式流媒体平台。我们可以将它用作具有高容错能力的实时消息传递系统。换句话说，这意味着我们的消息将被快速传递，如果它失败了，我们可以很快解决它。消息可以是字符串、序列化对象或blob。</p><p id="65e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">卡夫卡也因其可伸缩性而闻名。尽管Kafka有许多功能，但它被广泛用于以多对多的方式连接异构应用程序。</p><p id="42ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，当系统收到新的股票价格时，它会显示在UI中，用新的值更新数据库，并存储HDFS或我们使用的任何数据湖的变化事件。我们可以通过让多个消费者(也称为连接器)读取消息并对其采取行动来做到这一点。</p><p id="ddff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kafka有各种子组件，像Kafka Streams和KafkaSQL，每个子组件都有自己的专门化。</p><h2 id="3335" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">阿帕奇水槽</h2><p id="62ae" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">Flume是一个分布式的、可靠的、可用的服务，用于有效地收集、聚合和移动大量数据。通常，这些数据指的是日志文件。例如，想象使用多台服务器运行一个web应用程序，我们希望在一个地方获得日志。这将是Apache Flume的一个完美用例。</p><p id="cf84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它有一个简单灵活的基于数据流的体系结构。Flume是健壮的和容错的，具有可调的可靠性机制，以及许多故障转移和恢复机制。</p><h2 id="577e" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">火花流</h2><p id="8ce5" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">它是核心Spark API的一部分，实现了“大数据处理的唯一工具”的理念。Spark流以高吞吐量、容错的方式提供流功能。</p><p id="007c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它接受来自许多不同源类型的输入，如卡夫卡或HDFS，并以流的方式将数据推送到持久层。</p><h2 id="964a" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">阿帕奇风暴</h2><p id="7a68" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">Apache Storm最初是在Twitter上创建的，用于执行实时消息处理，可能看起来类似于Kafka。然而，与卡夫卡不同，它侧重于计算而不是交付。</p><p id="927d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kafka主要是一个队列，而Storm可以对数据进行多种类型的计算。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="61fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这篇文章能让你对流媒体和市场上可用的不同工具有一个大致的了解，下次再见！</p></div></div>    
</body>
</html>