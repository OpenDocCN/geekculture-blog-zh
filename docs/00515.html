<html>
<head>
<title>Understanding Recursion — Hint: It’s Less Complicated Than You Think.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解递归——提示:它没有你想象的复杂。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/understanding-recursion-hint-its-less-complicated-than-you-think-e871a8693d50?source=collection_archive---------8-----------------------#2021-02-23">https://medium.com/geekculture/understanding-recursion-hint-its-less-complicated-than-you-think-e871a8693d50?source=collection_archive---------8-----------------------#2021-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a44a19866bfef96e07908a871c94c28e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qr43-8zC1xE564NK1pWHzA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><a class="ae iu" href="https://drydenart.weebly.com/fugleblog/nesting-dolls-drawing-animation" rel="noopener ugc nofollow" target="_blank">https://drydenart.weebly.com/fugleblog/nesting-dolls-drawing-animation</a></figcaption></figure><p id="a12b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在偶然的讨论中遇到过递归，在文章中也提到过。这看起来就像是编程中的一只大灰狼。一个调用自己的函数？扑朔迷离！我知道我最终会着手理解它，这一天终于在本周到来了。</p><p id="a47d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我目前正在学习柯尔特·斯蒂尔的Udemy <a class="ae iu" href="https://www.udemy.com/course/js-algorithms-and-data-structures-masterclass/" rel="noopener ugc nofollow" target="_blank">课程</a>，内容是数据结构和算法(不能再推荐了)，递归是第一个主题之一。他把它分解成一种方式，清除了混乱的蜘蛛网，使它非常易于理解。</p><p id="8a21" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了使这个概念有意义，你需要掌握递归的几个关键部分，我将在这里一一介绍。</p><h1 id="3cbf" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">高层次概述</h1><p id="5f1c" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">斯蒂尔讲述了一个多年前在计算机科学课上讲给他听的故事。给了一个男孩一个数字列表，他必须找出这个列表中是否有奇数。出于某种原因，唯一知道偶数和奇数的生物是这种乖戾的龙(是的，这是一种奇怪的故事，就这样吧)。然而，当男孩出现要求龙评估他的列表时，龙拒绝检查整个列表，并说他只会告诉他第一个数字是偶数还是奇数。</p><p id="0a97" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">男孩很快发现，在龙告诉他第一个数字后，男孩可以从列表中删除第一个数字，并带着“新列表”返回给龙，这实际上只是原始列表的修改版本。他不断带着这个修改过的列表返回给龙，直到最后没有剩下更多的数字，并且龙已经检查了所有的数字。那是递归！</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/7606205d608aea141a0396f202161310.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/1*Gz7sab2yvi6ugDgkn_3ZqA.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx">It’s a “new” list each time to trick the dragon, but really it’s the same list shortened on each visit</figcaption></figure><h1 id="4add" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">拼图的碎片</h1><p id="3bd2" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">递归函数有三个主要组成部分。</p><p id="a03c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一个是“基础案例”在这一点上，函数应该停止调用自己，这样就不会出现无限循环。在上面的dragon示例中，基本情况是“当列表中没有更多数字时”，或者用稍微更专业的术语来说，可能是类似于<code class="du lb lc ld le b">list.length === 0</code>或<code class="du lb lc ld le b">!list.length</code>的东西。</p><p id="3207" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第二个是传递给递归函数调用的不断变化的输入。如果列表从不改变，那么列表上的第一个数字每次都是一样的，男孩永远也不会知道其余的数字是奇数还是偶数。</p><p id="2ff5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第三是应该发生的实际行动。在这个例子中，龙检查数字是奇数还是偶数。</p><p id="e6b3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以每次见到龙，男孩都从列表中删除第一个数字，做一个“新列表”龙每次都在做同样的事情——检查第一个数字是奇数还是偶数。但是每次访问的列表(输入)都是不同的。</p><p id="785c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它看起来真的很像一个常规的while循环，不是吗？</p><pre class="kx ky kz la fd lf le lg lh aw li bi"><span id="0cc6" class="lj ju hi le b fi lk ll l lm ln">while (some case is true)<br/>     do something<br/>     change the case (perhaps by incrementing or decrementing)</span></pre><h1 id="84d2" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">把所有的放在一起</h1><p id="5845" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">让我们用实际代码做一个例子。给定一个数字数组，返回数组中所有数字的和。当然，我们可以用简单的for循环或。reduce，但目标是使用递归。</p><p id="a1ce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们首先要考虑的是基本情况。我们希望我们的代码在什么时候停止运行？在这个例子中，一旦我们到达数组的末尾并添加了每个元素，我们的函数应该停止执行。这部分看起来像这样:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx">once the array is empty, return and stop executing</figcaption></figure><p id="218a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们希望有一个return语句，因为这将结束我们的函数执行，并触发一种级联效应，我们将在稍后看到它的作用。</p><p id="da69" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我们要考虑变化的输入和实际的动作。我们想要的动作是简单的加法。记住男孩和龙，如果我们只使用数组的第一个元素，然后切掉那个元素，然后添加新的、更小的数组的第一个元素，然后添加一个更小的数组的第一个元素，等等，直到我们到达末尾，会怎么样？</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx">line 3 will grab the first element of the array and add it to the first element of a new, shorter array until the condition on line 2 is met</figcaption></figure><p id="c73b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面的GIF很快，所以你必须仔细观看，但让我们一步一步地看看发生了什么。当我们第一次调用<code class="du lb lc ld le b">sumOfArray([3,2,1])</code>时，我们首先点击<code class="du lb lc ld le b">if</code>语句。数组不是空的，所以我们绕过它，点击函数的第3行:<code class="du lb lc ld le b">return array[0] + sumOfArray(array.slice(1))</code>。Slice返回从指定索引开始的数组副本。我们有效地删除了第一个元素，因为我们已经将它包含在sum中，并移到一个更小的数组中。</p><p id="c514" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们的函数保持数字3，并等待<code class="du lb lc ld le b">sumOfArray([2,1])</code>的返回值(我们在gif的第10行)。数组不为空，所以我们再次跳到函数的第3行。数组的第一个元素现在是2，我们必须等待<code class="du lb lc ld le b">sumOfArray([1])</code>的返回值。</p><p id="615e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数组仍然不为空，所以我们跳到函数的第3行。数组的第一个元素现在是1，我们等待<code class="du lb lc ld le b">sumOfArray([])</code>的返回值。现在我们终于碰到了空数组的“基本情况”,并返回0。</p><p id="429b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，0被传递回函数的前一次迭代，并被加到正在等待的1上。1+0是1，所以1被传递回正在等待的2。2+1是3，所以3被传递给从gif的第10行开始耐心等待的3。最后，3+3被解析为6，这是最终的返回值。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/695cba3e9235809e02994b04a27c4a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*XPSTbYil9mXYph6uGLrE7Q.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx">On each iteration, the function grabs the first element of the shrinking array and waits for the return value before bubbling back up to the top when we finally get back 6.</figcaption></figure><p id="8c35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望这能稍微澄清一下递归！至少，希望你现在能从递归笑话中得到乐趣(它们无处不在)。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/e7481d72ea9a598a0a48812f93752387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WBFngSpg3Cq74U3yJAYATQ.png"/></div></div></figure></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><p id="b126" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">我们连线吧！在</strong><a class="ae iu" href="https://www.linkedin.com/in/jzolotarev/" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">LinkedIn</strong></a><strong class="ix hj"/><a class="ae iu" href="https://twitter.com/JZolo" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">Twitter</strong></a><strong class="ix hj">和</strong><a class="ae iu" href="https://github.com/jzolo22" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">Github</strong></a><strong class="ix hj">上找我。</strong></p></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h2 id="01cc" class="lj ju hi bd jv lz ma mb jz mc md me kd jg mf mg kh jk mh mi kl jo mj mk kp ml bi translated">有用的资源:</h2><div class="mm mn ez fb mo mp"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">Array.prototype.slice()</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">slice()方法将数组的一部分的浅拷贝返回到一个从头到尾选定的新数组对象中…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">developer.mozilla.org</p></div></div><div class="my l"><div class="mz l na nb nc my nd io mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a href="https://www.w3schools.com/js/js_loop_while.asp" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">JavaScript while循环</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">只要指定的条件为真，循环就可以执行代码块。while循环遍历一个…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">www.w3schools.com</p></div></div><div class="my l"><div class="ne l na nb nc my nd io mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a rel="noopener follow" target="_blank" href="/swlh/javascript-call-stacks-an-introduction-f99da59e1e38"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">JavaScript调用堆栈—简介</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">如果你在软件世界，你应该听说过栈。有人要Stackoverflow吗？如果你一直想知道那是什么…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="nf l na nb nc my nd io mp"/></div></div></a></div></div></div>    
</body>
</html>