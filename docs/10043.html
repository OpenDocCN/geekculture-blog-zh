<html>
<head>
<title>How to Host a Personal Email Server on Google Cloud (for Free!): Part III</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Google Cloud上托管个人邮件服务器(免费！):第三部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-iii-15e2db1f1f8e?source=collection_archive---------4-----------------------#2022-01-11">https://medium.com/geekculture/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-iii-15e2db1f1f8e?source=collection_archive---------4-----------------------#2022-01-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2428" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">配置Dovecot和加密</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/6b2e8f16b70af07c66f9c8ac6b6afd8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uZ5IoRx580iym_S42I5RpA.jpeg"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es jj"><img src="../Images/1bbe2cfa654c0305e6c77c0e8448e704.png" data-original-src="https://miro.medium.com/v2/resize:fit:270/format:webp/1*BFXZRWYQEqFyKZwgOFGC9w.jpeg"/></div></figure><h2 id="b36a" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">关于彼得·艾克斯莱的一个笔记</h2><p id="1cb3" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">这篇文章使用<em class="lb">让我们加密</em>来保护我们的电子邮件&amp;网络流量。“让我们加密”的创始人之一，澳大利亚计算机科学家彼得·艾克斯莱于2022年9月2日去世，享年43岁。彼得·艾克斯莱在与我们共事的短暂时间里完成了许多事情，但也许最值得一提的是，他让互联网隐私变得容易负担得起，为更广泛的采用铺平了道路。他是互联网隐私、网络中立和人工智能伦理的倡导者。我只是想花一点时间来认识他对互联网隐私的巨大贡献，因为没有他就不可能有这个指南。请花点时间在这里了解更多他对这个领域的贡献<a class="ae lc" href="https://community.letsencrypt.org/t/peter-eckersley-may-his-memory-be-a-blessing/183854" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="4076" class="ld jl hi bd jm le lf lg jq lh li lj ju io lk ip jy ir ll is kc iu lm iv kg ln bi translated">本系列文章</h1><ol class=""><li id="72bb" class="lo lp hi kk b kl km ko kp jv lq jz lr kd ls la lt lu lv lw bi translated"><a class="ae lc" href="https://lp3.medium.com/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-i-8124d65d1d25" rel="noopener">简介&amp; GCP设置</a></li><li id="30c1" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la lt lu lv lw bi translated"><a class="ae lc" href="https://lp3.medium.com/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-ii-20aaeb0ae9eb" rel="noopener">配置后缀、邮件枪、&amp; DNS记录</a></li><li id="87c6" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la lt lu lv lw bi translated"><strong class="kk hj"> <em class="lb">配置鸽笼&amp;加密</em> </strong></li><li id="3726" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la lt lu lv lw bi translated"><a class="ae lc" href="https://lp3.medium.com/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-iv-1b5142cab9c" rel="noopener">使用MariaDB &amp; Postfixadmin </a>管理虚拟邮箱</li><li id="8930" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la lt lu lv lw bi translated"><a class="ae lc" href="https://lp3.medium.com/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-v-f9a4b3643622" rel="noopener">使用Roundcube托管网络邮件</a></li><li id="b87a" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la lt lu lv lw bi translated"><a class="ae lc" rel="noopener" href="/geekculture/how-to-host-a-personal-email-server-on-google-cloud-for-free-part-vi-6ea09f18d7df">用Rspamd &amp;筛子过滤垃圾邮件</a></li></ol><p id="4638" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">如果您还没有阅读本系列的前几篇文章，请按照上面的链接进行阅读。现在，我们已经将运行在GCP上的服务器配置为通过SMTP协议发送和接收电子邮件，并配置了我们的DNS记录，以确保电子邮件发送到我们这里和从我们这里发出。现在，我们需要确保可以从邮件客户端连接到我们的服务器，以检查我们的电子邮件并提交要发送的新邮件。</p><h1 id="baeb" class="ld jl hi bd jm le lf lg jq lh li lj ju io lk ip jy ir ll is kc iu lm iv kg ln bi translated">保护我们的电子邮件流量</h1><p id="fba2" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">我们应该做的第一件事是通过获得TLS证书来保护我们的电子邮件流量。我们将使用<a class="ae lc" href="https://letsencrypt.org" rel="noopener ugc nofollow" target="_blank"> <em class="lb">让我们免费加密</em> </a>来做到这一点。让我们从安装Let's Encrypt客户机开始。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="7e40" class="jk jl hi mi b fi mm mn l mo mp">sudo apt install certbot -y</span></pre><p id="cbca" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">现在，我们将使用<code class="du mq mr ms mi b">certbot</code>启动一个临时服务器，以确认我们确实是该域的所有者，并颁发证书。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="a944" class="jk jl hi mi b fi mm mn l mo mp">sudo certbot certonly -d <em class="lb">mail.example.com</em></span></pre><p id="02b1" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">使用您的邮件子域并选择选项<em class="lb"> 1。启动临时网络服务器(独立的)</em>。你必须输入一个电子邮件地址并回答几个问题才能继续。如果您收到DNS错误，请确保<em class="lb">邮件记录</em>指向正确的地址。如果您最近创建或更新了记录，请等待几分钟，然后重试。一旦命令成功，就可以在<code class="du mq mr ms mi b">/etc/letsencrypt/live/<em class="lb">mail.example.com</em></code>找到我们的TLS证书。</p><p id="aee6" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">让我们继续，通过编辑<code class="du mq mr ms mi b">/etc/postfix/main.cf</code>，配置Postfix使用我们的新证书来实施流量加密。<br/>首先，替换默认的<em class="lb">证书</em> &amp; <em class="lb">密钥</em>文件。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="952c" class="jk jl hi mi b fi mm mn l mo mp">#TLS parameters<br/>smtpd_tls_cert_file = /etc/letsencrypt/live/<em class="lb">mail.example.com</em>/fullchain.pem<br/>smtpd_tls_key_file = /etc/letsencrypt/live/<em class="lb">mail.example.com</em>/privkey.pem</span></pre><p id="0f2e" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">我们还想强制TLS版本≥ 1.2，因此添加以下几行:</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="c7f2" class="jk jl hi mi b fi mm mn l mo mp">#Enforce TLSv1.2 or TLSv1.3<br/>smtpd_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1<br/>smtpd_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1<br/>smtp_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1<br/>smtp_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1</span></pre><p id="db49" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">现在我们的加密已经设置好了，让我们通过Postfix启用电子邮件提交。为此，我们将编辑<code class="du mq mr ms mi b">/etc/postfix/master.cf</code>。在服务列表中找到<code class="du mq mr ms mi b">submission</code>部分，取消对这些行的注释:</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="79d9" class="jk jl hi mi b fi mm mn l mo mp">submission inet n       -       y       -       -       smtpd<br/>  -o syslog_name=postfix/submission<br/>  -o smtpd_tls_security_level=encrypt<br/>  -o smtpd_sasl_auth_enable=yes<br/># add this value to following following line<br/>  -o smtpd_recipient_restrictions=permit_mynetworks,permit_sasl_authenticated,reject<br/>  -o smtpd_relay_restrictions=permit_sasl_authenticated,reject</span></pre><p id="d0d3" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">另外添加以下两行:</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="9f99" class="jk jl hi mi b fi mm mn l mo mp">  -o smtpd_sasl_type=dovecot<br/>  -o smtpd_sasl_path=private/auth</span></pre><p id="5b5d" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">之前的设置适用于来自端口587上的电子邮件客户端的提交。在<code class="du mq mr ms mi b">submission</code>部分的下面是<code class="du mq mr ms mi b">smtps</code>部分。它适用于来自端口465上的邮件客户端的提交。如果您计划使用需要此端口的电子邮件客户端，如Microsoft Outlook，也有必要启用此功能。如果是这样，取消注释或添加以下行:</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="47f0" class="jk jl hi mi b fi mm mn l mo mp">smtps     inet  n       -       y       -       -       smtpd<br/>  -o syslog_name=postfix/smtps<br/>  -o smtpd_tls_wrappermode=yes<br/>  -o smtpd_sasl_auth_enable=yes<br/>  -o smtpd_recipient_restrictions=permit_mynetworks,permit_sasl_authenticated,reject<br/>  -o smtpd_relay_restrictions=permit_sasl_authenticated,reject<br/>  -o smtpd_sasl_type=dovecot<br/>  -o smtpd_sasl_path=private/auth</span></pre><p id="7109" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">现在重启Postfix来应用设置。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="88c3" class="jk jl hi mi b fi mm mn l mo mp">sudo service postfix restart</span></pre><h1 id="e14d" class="ld jl hi bd jm le lf lg jq lh li lj ju io lk ip jy ir ll is kc iu lm iv kg ln bi translated">搭建鸽棚</h1><p id="4503" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">我们将使用<em class="lb"> Dovecot </em>通过<em class="lb"> IMAP </em>与我们的邮箱进行交互。下面将安装Dovecot的核心库、IMAP守护进程和LMTP守护进程。后者将用于连接Postfix和Dovecot以存储邮件(收件箱、已发送邮件、垃圾箱、垃圾邮件等)。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="d1fb" class="jk jl hi mi b fi mm mn l mo mp">sudo apt install dovecot-core dovecot-imapd dovecot-lmtpd -y</span></pre><p id="570e" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">接下来，我们想要配置Dovecot来使用<code class="du mq mr ms mi b"><em class="lb">Maildir</em></code>格式存储我们的邮件。打开<code class="du mq mr ms mi b">/etc/dovecot/conf.d/10-mail.conf</code>并更换<code class="du mq mr ms mi b">mail_location</code>。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="a20a" class="jk jl hi mi b fi mm mn l mo mp">mail_location = maildir:~/Maildir</span></pre><p id="0334" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">然后我们需要将<code class="du mq mr ms mi b">dovecot</code>用户添加到<code class="du mq mr ms mi b">mail</code>组，以便Dovecot可以读取我们的收件箱。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="e1c8" class="jk jl hi mi b fi mm mn l mo mp">sudo adduser dovecot mail</span></pre><h2 id="7cce" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">使用Dovecot将电子邮件发送到邮件存储</h2><p id="bcb4" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">现在我们将Postfix连接到Dovecot，让后者将邮件分类并发送到我们的邮件存储器。打开<code class="du mq mr ms mi b">/etc/dovecot/conf.d/10-master.conf</code>并更新到<code class="du mq mr ms mi b">lmtp</code>服务定义。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="9104" class="jk jl hi mi b fi mm mn l mo mp">service lmtp {<br/> unix_listener /var/spool/postfix/private/dovecot-lmtp {<br/>   mode = 0600<br/>   user = postfix<br/>   group = postfix<br/>  }<br/>}</span></pre><p id="6d75" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">回到<code class="du mq mr ms mi b">/etc/postfix/main.cf</code>并告诉Postfix使用Dovecot LMTP进行邮箱传输。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="dd70" class="jk jl hi mi b fi mm mn l mo mp">mailbox_transport = lmtp:unix:private/dovecot-lmtp</span><span id="d1f2" class="jk jl hi mi b fi mt mn l mo mp"># SMTPUTF8 not supported by Dovecot-LMTP<br/>smtputf8_enable = no</span></pre><h2 id="13a0" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">配置身份验证</h2><p id="8492" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">接下来，我们需要禁用纯文本身份验证，除非SSL/TLS。打开<code class="du mq mr ms mi b">/etc/dovecot/conf.d/10-auth.conf</code>并取消对该行的注释(靠近文件顶部):</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="a8c6" class="jk jl hi mi b fi mm mn l mo mp">disable_plaintext_auth = yes</span></pre><h2 id="b6c0" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">配置TLS加密</h2><p id="b45c" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">现在我们将配置Dovecot来使用我们的TLS证书。打开<code class="du mq mr ms mi b">/etc/dovecot/conf.d/10-ssl.conf</code>。找到下面的<code class="du mq mr ms mi b">ssl_cert</code> &amp; <code class="du mq mr ms mi b">ssl_key</code>变量，并将值路径更新到您的证书&amp;密钥。</p><p id="6f76" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated"><strong class="kk hj">注意:</strong>不要漏掉<code class="du mq mr ms mi b">&lt;</code>字符。这是必须的。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="db27" class="jk jl hi mi b fi mm mn l mo mp">ssl_cert = &lt;/etc/letsencrypt/live/<em class="lb">mail.example.com</em>/fullchain.pem<br/>ssl_key = &lt;/etc/letsencrypt/live/<em class="lb">mail.example.com</em>/privkey.pem</span></pre><p id="69ba" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">就像我们对Postfix所做的那样，我们希望确保Dovecot使用TLS版本≥ 1.2，因此找到<code class="du mq mr ms mi b">ssl_min_protocol</code>变量，取消对该行的注释，并将值更新为<code class="du mq mr ms mi b">TLSv1.2</code>。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="9535" class="jk jl hi mi b fi mm mn l mo mp">ssl_min_protocol = TLSv1.2</span></pre><p id="f8c4" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">然后找到<code class="du mq mr ms mi b">ssl_prefer_server_ciphers</code>变量，取消对该行的注释，并将值改为<code class="du mq mr ms mi b">yes</code>。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="65f8" class="jk jl hi mi b fi mm mn l mo mp">ssl_prefer_server_ciphers = yes</span></pre><h2 id="691c" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">配置SASL身份验证</h2><p id="b330" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">接下来，我们需要配置Dovecot认证服务器，以便Postfix可以使用它。打开<code class="du mq mr ms mi b">/etc/dovecot/conf.d/10-master.conf</code>并更新<code class="du mq mr ms mi b">service auth</code>部分，取消对以下行的注释:</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="067d" class="jk jl hi mi b fi mm mn l mo mp">unix_listener /var/spool/postfix/private/auth {<br/>  mode = 0666<br/>}</span></pre><h2 id="65b5" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">自动创建默认文件夹</h2><p id="70c1" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">我们可以配置Dovecot在我们的邮箱中自动创建文件夹(已发送邮件、垃圾邮件等)。为此，编辑<code class="du mq mr ms mi b">/etc/dovecot/conf.d/15-mailboxes.conf</code>。我们可以在<code class="du mq mr ms mi b">namespace inbox</code>部分看到常用文件夹列表。要自动创建文件夹，我们只需在邮箱部分添加<code class="du mq mr ms mi b">auto = create</code>。例如:</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="e2a2" class="jk jl hi mi b fi mm mn l mo mp">mailbox Junk {<br/>  auto = create<br/>  special_use = \Junk<br/>}</span></pre><p id="9e34" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">您可能希望对<code class="du mq mr ms mi b">Drafts</code>、<code class="du mq mr ms mi b">Junk</code>、<code class="du mq mr ms mi b">Trash</code>和<code class="du mq mr ms mi b">Sent</code>文件夹执行此操作。最后，重启Dovecot &amp; Postfix让我们所有的修改生效。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="3678" class="jk jl hi mi b fi mm mn l mo mp">sudo service dovecot restart &amp;&amp; sudo service postfix restart</span></pre><p id="6277" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">现在检查每个服务的状态。</p><pre class="iy iz ja jb fd mh mi mj mk aw ml bi"><span id="89f3" class="jk jl hi mi b fi mm mn l mo mp">sudo service dovecot status<br/>sudo service postfix status</span></pre><p id="481d" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">如果两个服务都运行正常，那么到目前为止，您的配置很可能是好的。如果你有任何错误，请仔细检查，你没有错过任何步骤，没有任何打字错误。如果你找不到错误的原因，请随时联系我。</p><h1 id="e404" class="ld jl hi bd jm le lf lg jq lh li lj ju io lk ip jy ir ll is kc iu lm iv kg ln bi translated">结论</h1><p id="ec7e" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">咻！我们在这篇文章中讨论了很多，但是我们还没有完全完成。如果我们在自己的电脑上设置这个，我们就不能使用我们的用户名和密码从邮件客户端连接。不幸的是，我们还不能从电子邮件客户端访问我们的服务器，因为我们的用户没有密码。您可能还记得，我们使用SSH令牌通过GCP进行身份验证。我们将在下一篇文章中通过创建<strong class="kk hj"> <em class="lb">虚拟邮箱</em> </strong>来解决这个问题。不过，让我们回顾一下我们在本文中完成了什么。</p><ul class=""><li id="e102" class="lo lp hi kk b kl mc ko md jv mu jz mv kd mw la mx lu lv lw bi translated">我们使用Let's Encrypt通过<code class="du mq mr ms mi b">certbot</code>客户端获得一个TLS证书。</li><li id="abda" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la mx lu lv lw bi translated">我们为邮件客户端的邮件提交配置了Postfix。</li><li id="e4f8" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la mx lu lv lw bi translated">我们安装并配置了Dovecot作为我们的IMAP服务器软件。</li><li id="03af" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la mx lu lv lw bi translated">我们配置了Postfix和Dovecot来使用我们的TLS证书。</li><li id="ba51" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la mx lu lv lw bi translated">我们将Postfix连接到Dovecot进行身份验证和邮件分类。</li><li id="1a67" class="lo lp hi kk b kl lx ko ly jv lz jz ma kd mb la mx lu lv lw bi translated">我们使用Dovecot自动创建默认邮箱文件夹。</li></ul><p id="9f43" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">喘口气，为自己走到这一步而感到欣慰。我们今天完成了很多，但还有更多的事情要做。在下一篇文章中，我们将设置MariaDB作为我们的数据库，设置我们的虚拟邮箱，并安装Postfixadmin以使邮箱/域管理变得超级简单。</p><p id="3a65" class="pw-post-body-paragraph ki kj hi kk b kl mc ij kn ko md im kq jv me ks kt jz mf kv kw kd mg ky kz la hb bi translated">感谢您的阅读！如果你觉得这篇文章很有帮助，并且有兴趣继续关注这个系列的其他部分，请鼓掌并关注即将发布的文章。</p></div></div>    
</body>
</html>