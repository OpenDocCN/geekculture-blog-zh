<html>
<head>
<title>Setting up a Node.js project environment with Express.js and TypeScript: Best Practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Express.js和TypeScript设置Node.js项目环境:最佳实践</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/setting-up-a-node-js-project-environment-with-express-js-and-typescript-best-practices-284cc37c5aa1?source=collection_archive---------4-----------------------#2021-12-21">https://medium.com/geekculture/setting-up-a-node-js-project-environment-with-express-js-and-typescript-best-practices-284cc37c5aa1?source=collection_archive---------4-----------------------#2021-12-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/301fb6c0a8e5dd86dcb56b7d38952f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BnvApZpBOi0NQqw1SEUYUQ.jpeg"/></div></div></figure><blockquote class="iq ir is"><p id="f0dc" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本文中，我们将按照最佳实践在express.js和typescript中设置node.js项目。我们将使用yarn来安装我们所有的依赖项，我将在本文的后面部分回到它的好处。</p><p id="8d89" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我将在本文末尾提供GitHub资源库的链接。这是用TypeScript开发API的第一部分，请继续关注下一篇文章，在那里我们将看到路由、使用ORM等等。</p></blockquote></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="2bed" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">在我们开始之前，我们需要验证某些事情，以便我们在编码时不会遇到任何问题。</p><p id="9061" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">首先，检查您的系统上是否安装了<strong class="iw hj">节点</strong>和<strong class="iw hj"> npm </strong>:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="10ab" class="kl km hi kh b fi kn ko l kp kq">node -v<br/>npm -v</span></pre><p id="2685" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">始终将npm安装在节点旁边。可能会有我们需要npm的情况，所以它总是有用的。如果你没有安装它们，你可以从<a class="ae kr" href="https://linuxize.com/post/how-to-install-node-js-on-ubuntu-18.04/" rel="noopener ugc nofollow" target="_blank">这里(对于Linux系统)</a> <a class="ae kr" href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" rel="noopener ugc nofollow" target="_blank">(对于Windows系统)</a>获取参考。</p><p id="26d2" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">其次，检查是否安装了<strong class="iw hj">纱线</strong>，为此在您的终端中运行以下命令:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="c2df" class="kl km hi kh b fi kn ko l kp kq">yarn -v or yarn --version</span></pre><p id="fa2b" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">如果您的系统上没有安装yarn，您可以参考此处的<a class="ae kr" href="https://classic.yarnpkg.com/lang/en/docs/install/#debian-stable" rel="noopener ugc nofollow" target="_blank">进行安装。或者您可以通过运行以下命令直接用npm安装yarn:</a></p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="5b76" class="kl km hi kh b fi kn ko l kp kq">npm install -g yarn</span></pre><p id="078f" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">最后，我们将安装<strong class="iw hj">类型脚本</strong>。这也可以在国家预防机制的帮助下完成:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="2235" class="kl km hi kh b fi kn ko l kp kq">npm install -g typescript</span></pre><p id="de37" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">成功安装typescript后，您可以按如下方式检查其版本:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="dae5" class="kl km hi kh b fi kn ko l kp kq">tsc -v</span></pre><p id="8af1" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated"><strong class="iw hj">注意:</strong><strong class="iw hj">-g标志</strong>告诉它全局安装依赖项。我更喜欢在第一次安装时使用-g标志，否则我们必须在本地安装每个依赖项或包，具体到每个项目。然而，这是一个选择，每个人都可以自由地按照自己的方式去做。此外，在系统中全局安装typescript也是一种选择。不管怎样，我们都需要它作为我们项目中的一个依赖项，所以我们也将在那里添加它。</p><p id="5d57" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">至此，我们完成了先决条件。下一步，我们将开始设置我们的项目。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="6132" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated"><strong class="iw hj">步骤1: </strong>选择您希望项目所在的系统目录，例如<strong class="iw hj"> cd Desktop/work </strong></p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="9749" class="kl km hi kh b fi kn ko l kp kq">mkdir node-express-ts</span></pre><p id="1ce5" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">这将为您创建一个新目录。现在我们需要生成<strong class="iw hj"> package.json </strong>文件，我们将在其中存储所有的依赖项。为此，请运行以下命令:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="70ee" class="kl km hi kh b fi kn ko l kp kq">yarn init -y</span></pre><p id="acc4" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated"><strong class="iw hj">步骤2: </strong>现在我们将安装一些依赖项。我们将使用纱线安装以下设备:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="f0a0" class="kl km hi kh b fi kn ko l kp kq">yarn add express@4.17.1<br/>yarn add nodemon@2.0.15 --dev<br/>yarn add typescript --dev<br/>yarn add @types/express --dev<br/>yarn add @types/node --dev<br/>yarn add ts-node --dev</span></pre><p id="b162" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">我们现在已经准备好了基本的依赖集。dev标志将它们保存在package.json文件中的devDependencies下。<strong class="iw hj"> devDependencies </strong>是我们仅用于本地开发和测试目的的包。Express作为<strong class="iw hj">依赖项</strong>安装，因为应用程序将在生产过程中使用它。每次保存文件时，Nodemon都会查找并执行更改。</p><p id="0c1c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">另外，我们可以在package.json中添加一个' scripts' json对象，这样在终端内部运行<strong class="iw hj"> yarn start </strong>就会启动服务器。除此之外，还可以通过做<strong class="iw hj"> nodemon index.ts </strong>来运行。</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/0f266d58f6ebd3b12ed34113a7e1ad76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dcB6qgOhbG8jUl_rhhsudg.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">package.json after installing all the dependencies</figcaption></figure><p id="1f31" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated"><strong class="iw hj">第三步:</strong> TS项目需要一个<strong class="iw hj"> tsconfig.json </strong>文件。我们可以按如下方式生成它:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="c6f5" class="kl km hi kh b fi kn ko l kp kq">tsc --init<br/>or<br/>npx tsc --init </span></pre><p id="fca2" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">tsc是一个内置的typescript编译器。当我们用typescript编写代码时，它会将代码编译成javascript。</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/f44c2e437fa81c89b021ca1781eb18ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qP96WNcuzceuvycSWrk9nA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">tsconfig.json</figcaption></figure><p id="3d3c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated"><strong class="iw hj">步骤4: </strong>现在我们已经准备好了项目结构，我们将从一个<strong class="iw hj"> index.ts </strong>文件开始，并运行一些基本代码来查看我们的服务器是否工作正常。</p><figure class="kc kd ke kf fd ij"><div class="bz dy l di"><div class="kx ky l"/></div><figcaption class="kt ku et er es kv kw bd b be z dx">index.ts</figcaption></figure><p id="b1c2" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">成功编译后，我们将在终端中得到响应。</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/23f3a4c51c23e4e5884485b3b0ac5508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aTnmocoqcciAV1k77roWrQ.png"/></div></div></figure><p id="4339" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">最后，JSON请求可以在localhost:3000上看到</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/4f4996777b1441a28e857d67c692d303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*us4sPqM8bSMjr3EEDDFFog.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">JSON response</figcaption></figure><p id="e5eb" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated"><strong class="iw hj">纱线优于npm的优势:</strong></p><ol class=""><li id="2be9" class="la lb hi iw b ix iy jb jc jz lc ka ld kb le jr lf lg lh li bi translated">Yarn比npm快。与npm相比，它下载软件包的速度更快。</li><li id="616d" class="la lb hi iw b ix lj jb lk jz ll ka lm kb ln jr lf lg lh li bi translated">Yarn可以同时获取和安装多个包。</li><li id="571d" class="la lb hi iw b ix lj jb lk jz ll ka lm kb ln jr lf lg lh li bi translated">纱线更安全。</li></ol><p id="a84e" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">根据您的需求，您可以自由地使用npm或yarn来安装软件包。这就是本文的全部内容。谢谢你。</p><p id="5da4" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">Github资源库的链接是<a class="ae kr" href="https://github.com/chinmaykarmokar/node-express-typescript" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj"> <em class="iv">这里是</em> </strong> </a>。</p><p id="f992" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">文章的第2部分可在处<a class="ae kr" rel="noopener" href="/@chinmaykarmokar/routing-our-typescript-api-in-express-js-and-using-typeorm-for-connecting-to-our-postgresql-db-bde5132b5102">获得。</a></p><p id="5354" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jz jg jh ji ka jk jl jm kb jo jp jq jr hb bi translated">谢谢大家！</p></div></div>    
</body>
</html>