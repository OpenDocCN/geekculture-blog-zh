<html>
<head>
<title>Making a JS Dot Density Map to Visualize Shipping Ports Across the Globe</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作JS点密度图以可视化全球航运港口</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-create-a-js-dot-density-map-visualizing-shipping-ports-across-the-globe-5a02dfb77eb9?source=collection_archive---------23-----------------------#2021-04-20">https://medium.com/geekculture/how-to-create-a-js-dot-density-map-visualizing-shipping-ports-across-the-globe-5a02dfb77eb9?source=collection_archive---------23-----------------------#2021-04-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f616b5cd66075360e83e9c6f2041ed47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ubDDpD6yUA0B-9R0.png"/></div></div></figure><p id="479b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated">最近发生的 <a class="ae jx" href="https://en.wikipedia.org/wiki/2021_Suez_Canal_obstruction" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">苏伊士运河堵塞事件</strong> </a> <strong class="is hj">引起了我对航运的兴趣，促使我探索全球各个航运港口。世界上有850多个港口，为了全面了解这些港口的位置，我决定用JavaScript将它们绘制在</strong> <a class="ae jx" href="https://www.anychart.com/chartopedia/chart-type/dot-map/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">点状图</strong> </a> <strong class="is hj">或点密度图上。</strong></p><p id="2796" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">构建交互式JS点密度图似乎是一项艰巨的任务。但让我向你保证，这可能非常简单。现在，我将展示如何使用用于数据可视化的JavaScript库来制作一个全功能的点阵图。</p><h1 id="0f64" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">JavaScript图表库</h1><p id="19fe" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">有一些很棒的<a class="ae jx" href="https://en.wikipedia.org/wiki/Comparison_of_JavaScript_charting_libraries" rel="noopener ugc nofollow" target="_blank"> JavaScript图表库</a>可供使用，每一个都有其优点和缺点。使用JS库的好处是，所有这些库的图表创建过程的逻辑非常相似。因此，您可以使用一个库来学习基础知识，然后根据您的学习来使用适合您项目需求的库。</p><p id="d867" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于本教程，我已经决定使用<a class="ae jx" href="https://www.anychart.com/" rel="noopener ugc nofollow" target="_blank"> AnyChart JS Charts </a>库来创建点密度图。我认为这对于初学者来说是一个很好的选择，因为AnyChart易于使用，而且灵活，有大量的文档和大量的例子。</p><h1 id="d6a5" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">用JavaScript构建点密度图</h1><p id="e88f" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">无论是点密度图还是其他任何地图或图表，对于JavaScript图表来说，通常需要四个基本步骤来实现几乎任何类型的数据可视化:</p><ol class=""><li id="a62b" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lg lh li lj bi translated">创建显示图表的HTML页面。</li><li id="b567" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">包括所有必要的JavaScript文件。</li><li id="97f4" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">准备要可视化的数据。</li><li id="23fc" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">为图表编写JS代码。</li></ol><h2 id="146c" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">1.创建基本的HTML页面</h2><p id="3689" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">第一步是创建一个空白的HTML页面来保存点阵图。我添加了一个具有惟一id的div元素，稍后我将使用它来引用它。</p><p id="d6e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请注意，您可以在<code class="du md me mf mg b">&lt;style&gt;</code>块中指定宽度和高度参数，以修改可视化将占用的空间。我把两个参数都设为100%,这样我的点密度图将会充满整个页面。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="f9fb" class="lp jz hi mg b fi mp mq l mr ms">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Dot Map&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="729a" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">2.包括必需的脚本</h2><p id="a98e" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">下一步是链接将用于创建点地图的适当的JS脚本。由于我使用的是AnyChart库，所以我将引用相应的文件。对于我的地图，我需要添加AnyChart的核心和地理地图<a class="ae jx" href="https://docs.anychart.com/Quick_Start/Modules" rel="noopener ugc nofollow" target="_blank">模块</a>。我还需要包含世界地图的地理数据文件，该文件也可以在图书馆的<a class="ae jx" href="https://cdn.anychart.com" rel="noopener ugc nofollow" target="_blank"> CDN </a>中找到。</p><p id="2ba2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些脚本文件都需要包含在HTML页面的<code class="du md me mf mg b">&lt;head&gt;</code>部分中。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="5e16" class="lp jz hi mg b fi mp mq l mr ms">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Dot Map&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-map.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/geodata/latest/custom/world/world.js"&gt;&lt;/script&gt;</span><span id="754e" class="lp jz hi mg b fi mt mq l mr ms">    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="mg hj"><em class="mu">      // All the code for the JS dot density map will come here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="d3da" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">3.连接数据</h2><p id="b894" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">我从<a class="ae jx" href="https://datacatalog.worldbank.org/dataset/global-international-ports" rel="noopener ugc nofollow" target="_blank">世界银行数据目录</a>下载了装运港数据。</p><p id="5f84" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">AnyChart库支持许多<a class="ae jx" href="https://docs.anychart.com/Working_with_Data/Supported_Data_Formats" rel="noopener ugc nofollow" target="_blank">数据格式</a>，包括CSV、JSON和XML。我的文件是JSON，你可以在这里下载<a class="ae jx" href="https://gist.github.com/shacheeswadia/47b28a4d061e415555f01f5ce48e9ae3" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="c200" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们开始使用数据之前，我在HTML页面上包含了另外两个脚本文件。为了处理数据文件的加载，我添加了<a class="ae jx" href="https://docs.anychart.com/Working_with_Data/Data_Adapter/Overview" rel="noopener ugc nofollow" target="_blank">数据适配器</a>模块。因为我正在创建地图，所以我将使用另一个JavaScript库——<a class="ae jx" href="http://proj4js.org/" rel="noopener ugc nofollow" target="_blank">Proj4js</a>——它将点坐标从一个坐标系转换到另一个坐标系。简单地说，它将负责在各自的地理区域上绘制点。</p><p id="e91c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我使用HTML页面主体中的<code class="du md me mf mg b">&lt;script&gt;</code>标记内的<code class="du md me mf mg b">loadJsonFile</code>方法来加载JSON文件。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="4010" class="lp jz hi mg b fi mp mq l mr ms">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Dot Map&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-map.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/geodata/latest/custom/world/world.js"&gt;&lt;/script&gt;</span><span id="e750" class="lp jz hi mg b fi mt mq l mr ms">    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"&gt;&lt;/script&gt;</span><span id="0a39" class="lp jz hi mg b fi mt mq l mr ms">    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="91c7" class="lp jz hi mg b fi mt mq l mr ms">anychart.data.loadJsonFile('https://gist.githubusercontent.com/shacheeswadia/47b28a4d061e415555f01f5ce48e9ae3/raw/0f7592a8048872db7b77ccd2df8907e61952a806/shippingDataInverted.json', function (data) {})</span><span id="4e2c" class="lp jz hi mg b fi mt mq l mr ms">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="f495" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，现在包裹都准备好了，是时候发货了！</p><h2 id="839e" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">4.添加代码以绘制点密度图</h2><p id="986e" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">使用JS图表库的最大好处是要编写的代码量非常有限。我说只用10行代码就可以构建点密度图，这并不夸张。</p><p id="5d86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我将确保创建图表的所有代码都在<code class="du md me mf mg b">anychart.onDocumentReady()</code>函数中。这是为了在执行任何其他操作之前完全加载页面。加载数据后，正如我们在前面的步骤中看到的，我创建地图并设置地理数据。我还在地图上添加了一个标题。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="66c3" class="lp jz hi mg b fi mp mq l mr ms">&lt;script&gt;</span><span id="c7d9" class="lp jz hi mg b fi mt mq l mr ms">anychart.onDocumentReady(function() {<br/>anychart.data.loadJsonFile('https://gist.githubusercontent.com/shacheeswadia/47b28a4d061e415555f01f5ce48e9ae3/raw/0f7592a8048872db7b77ccd2df8907e61952a806/shippingDataInverted.json',<br/>function (data) {<br/>      <br/><strong class="mg hj"><em class="mu">  // set the map chart<br/></em></strong>  var map = anychart.map();<br/>      <br/><strong class="mg hj"><em class="mu">  // set the global geodata<br/></em></strong>  map.geoData('anychart.maps.world');</span><span id="22a3" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // set the map title<br/></em></strong>  map.title( 'Shipping ports across the globe');<br/> <br/>});<br/>});</span><span id="3767" class="lp jz hi mg b fi mt mq l mr ms">&lt;/script&gt;</span></pre><p id="71c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我将创建一个系列，在地图上将海港标记为点。默认情况下，每个点显示一个纬度和经度标签，这是我不想要的，所以我禁用了这个系列的标签。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="f3e2" class="lp jz hi mg b fi mp mq l mr ms"><strong class="mg hj"><em class="mu">// set the marker series<br/></em></strong>var series = map.marker(anychart.data.set(data));   <br/>  <br/><strong class="mg hj"><em class="mu">// disable labels to not show latitude and longitude for each point<br/></em></strong>series.labels(false);</span></pre><p id="3e1b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后两行代码将容器设置为引用之前添加的HTML块元素，并绘制地图。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="49bd" class="lp jz hi mg b fi mp mq l mr ms"><strong class="mg hj"><em class="mu">// set the containter<br/></em></strong>map.container('container');</span><span id="cfb0" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">// draw the map<br/></em></strong>map.draw();</span></pre><p id="b320" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样，一个全功能的交互式点密度图就这样诞生了！</p><figure class="mh mi mj mk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/1c9392f14455a40043f23015c8d4f7b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ceCnUD-qbomuOYl9PTkQtA.png"/></div></div></figure><blockquote class="mw mx my"><p id="0f61" class="iq ir mu is b it iu iv iw ix iy iz ja mz jc jd je na jg jh ji nb jk jl jm jn hb bi translated"><strong class="is hj">你可以用这里的代码，或者在</strong> <a class="ae jx" href="https://codepen.io/shacheeswadia/pen/XWpgepY" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> CodePen </strong> </a> <strong class="is hj">，或者在</strong> <a class="ae jx" href="https://playground.anychart.com/VevfP9bJ/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> AnyChart游乐场</strong> </a> <strong class="is hj">上查看这个初始版本。</strong></p></blockquote><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="b113" class="lp jz hi mg b fi mp mq l mr ms">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Dot Map&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-map.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/geodata/latest/custom/world/world.js"&gt;&lt;/script&gt;</span><span id="2ff6" class="lp jz hi mg b fi mt mq l mr ms">    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"&gt;&lt;/script&gt;</span><span id="9ab9" class="lp jz hi mg b fi mt mq l mr ms">    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="118b" class="lp jz hi mg b fi mt mq l mr ms">anychart.onDocumentReady(function() {<br/>anychart.data.loadJsonFile('https://gist.githubusercontent.com/shacheeswadia/47b28a4d061e415555f01f5ce48e9ae3/raw/0f7592a8048872db7b77ccd2df8907e61952a806/shippingDataInverted.json',<br/>function (data) {<br/>      <br/><strong class="mg hj"><em class="mu">  // set the map chart<br/></em></strong>  var map = anychart.map();<br/>      <br/><strong class="mg hj"><em class="mu">  // set the global geodata</em></strong><br/>  map.geoData('anychart.maps.world');</span><span id="6014" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // set the chart title</em></strong><br/>  map.title( 'Shipping ports across the globe');</span><span id="72e8" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // set the marker series</em></strong><br/>  var series = map.marker(anychart.data.set(data));   <br/>  <br/><strong class="mg hj"><em class="mu">  // disable labels to not show latitude/longitude for each point</em></strong><br/>  series.labels(false);</span><span id="17fa" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // set the container</em></strong><br/>  map.container('container');</span><span id="9225" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // draw the chart</em></strong><br/>  map.draw();</span><span id="8963" class="lp jz hi mg b fi mt mq l mr ms">});<br/>});</span><span id="90b0" class="lp jz hi mg b fi mt mq l mr ms">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="87d6" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">自定义JS点阵图</h1><p id="6076" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">这里我们有一个用JavaScript构建的基本点地图，有预定义的样式和特性。然而，有许多方法可以轻松地调整地图，使其更具吸引力。您可能希望使图形更美观，突出显示数据可视化中特别有趣的方面，或者添加一些功能来改善显示的信息。</p><p id="02c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将通过以下方式向您展示如何自定义JS点密度图:</p><ol class=""><li id="02da" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lg lh li lj bi translated">用色标标明每个装运港的流出数量。</li><li id="2e74" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">增强工具提示。</li><li id="8855" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">为地图添加缩放功能。</li><li id="3b2f" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">更改整体颜色主题。</li></ol><h2 id="c285" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">1.用色标表示每个端口的流出量</h2><p id="bd55" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">我想在不增加太多复杂性的情况下，在可视化中显示更多的信息。因此，我在点图上增加了一个额外的维度，用颜色来表示每个装运港的流出量。这需要一点编码，所以跟着我解释我是怎么做的。</p><p id="abf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我定义了一个数据集，我将根据流出量用不同的颜色映射到多个系列。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="c25b" class="lp jz hi mg b fi mp mq l mr ms">var portsDataSet = anychart.data.set(data).mapAs();</span></pre><p id="1c04" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我创建了一个函数，它定义了我希望如何表示这个系列以及这个表示的图例。现在，使用这个函数，我创建了五个不同的系列，每个系列都有一个名称、最小/最大流出量和颜色。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="b18e" class="lp jz hi mg b fi mp mq l mr ms"><strong class="mg hj"><em class="mu">// helper function to create several series</em></strong><br/>var createSeries = function (name, data, color) {<br/>        <br/><strong class="mg hj"><em class="mu">  // set the marker series<br/></em></strong>  var series = map.marker(data);<br/>        <br/><strong class="mg hj"><em class="mu">  // configure the series settings<br/></em></strong>  series<br/>    .name(name)<br/>    .fill(color)<br/>    .stroke('2 #E1E1E1')<br/>    .type('circle')<br/>    .size(5)<br/>    .labels(false)<br/>    .selectionMode('none');</span><span id="0dac" class="lp jz hi mg b fi mt mq l mr ms">  series<br/>    .legendItem()<br/>    .iconType('circle')<br/>    .iconFill(color)<br/>    .iconStroke('2 #E1E1E1');<br/>};</span><span id="a224" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">// create 5 series, filtering the data by the outflows at each port</em></strong><br/>createSeries(<br/>  'Up to 100000',<br/>  portsDataSet.filter('outflows', filterFunction(0, 100000)),<br/>  '#D1FAE9'<br/>);<br/>createSeries(<br/>  '100000 - 1000000',<br/>  portsDataSet.filter('outflows', filterFunction(100000, 1000000)),<br/>  '#9CE0E5'<br/>);<br/>createSeries(<br/>  '100000 - 500000',<br/>  portsDataSet.filter('outflows', filterFunction(1000000, 5000000)),<br/>  '#00ACC3'<br/>);<br/>createSeries(<br/>  '500000 - 10000000',<br/>  portsDataSet.filter('outflows', filterFunction(5000000, 10000000)),<br/>  '#355CB1'<br/>);<br/>createSeries(<br/>  'More than 1000000 outflows',<br/>  portsDataSet.filter('outflows', filterFunction(10000000, 0)),<br/>  '#002D79'<br/>);</span></pre><p id="d5ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您将看到一个筛选函数被用来分离每个系列中的数据。这个过滤函数就定义在代码的末尾。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="7d5b" class="lp jz hi mg b fi mp mq l mr ms"><strong class="mg hj"><em class="mu">// helper filter function</em></strong><br/>function filterFunction(val1, val2) {<br/>  if (val2) {<br/>    return function (fieldVal) {<br/>      return val1 &lt;= fieldVal &amp;&amp; fieldVal &lt; val2;<br/>    };<br/>  }<br/>  return function (fieldVal) {<br/>    return val1 &lt;= fieldVal;<br/>  };<br/>}</span></pre><p id="c555" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我启用了地图的图例，瞧，你可以看到根据流出量的不同，这些点被涂上了5种不同的颜色。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="89c0" class="lp jz hi mg b fi mp mq l mr ms">map.legend(true);</span></pre><figure class="mh mi mj mk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/a44bdbaeab88fb4b5e2396d7dc140104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jg7XLThs-utCw6y2L2e4HQ.png"/></div></div></figure><p id="c820" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果这一切让你感到有些不知所措，请不要担心。这有点超出了初学者的水平，但如果你按照步骤来做就不会太复杂。<strong class="is hj"> <em class="mu">你可以在</em></strong><a class="ae jx" href="https://codepen.io/shacheeswadia/pen/LYxLOWN" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="mu">CodePen</em></strong></a><strong class="is hj"><em class="mu">或者在</em></strong><a class="ae jx" href="https://playground.anychart.com/TYjWoWB7/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="mu">any chart游乐场</em> </strong> </a> <strong class="is hj"> <em class="mu">上玩这个定制的点密度图的代码。</em>T24】</strong></p><h2 id="3bda" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">2.增强地图工具提示</h2><p id="9123" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">点阵图的默认工具提示只显示每个点的纬度和经度，所以我定制了工具提示来显示一些更有意义的信息。</p><p id="899b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于每一点，我在工具提示的标题中显示装运港口的名称，在工具提示的正文中显示国家以及流出的数量。因为我想显示多个字段，所以我为工具提示启用了HTML，这将允许我格式化文本。然后，我以HTML格式添加所有信息。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="ab12" class="lp jz hi mg b fi mp mq l mr ms">map<br/>  .tooltip() <br/>  .useHtml(true)<br/>  .padding([8, 13, 10, 13])<br/>  .width(350)<br/>  .fontSize(12)<br/>  .fontColor('#e6e6e6')<br/>  .titleFormat(function () {<br/>    return this.getData('Name');<br/>  })<br/>  .format(function () {<br/>    return (<br/>      '&lt;span style="color: #bfbfbf;"&gt;Country: &lt;/span&gt;'+<br/>      this.getData('Country') +<br/>      '&lt;br/&gt;' +<br/>      '&lt;span style="color: #bfbfbf;"&gt;Outflows: &lt;/span&gt;' +<br/>      this.getData('outflows').toFixed(0)<br/>    );<br/>  });</span></pre><p id="2c83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">工具提示现在不觉得像是点密度图的一个有用的附加物吗？</p><h2 id="9714" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">3.为地图添加缩放功能</h2><p id="06a3" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">在点阵图中，我注意到在某些区域有一些集群指示了许多船运港口。为了使查看者能够更近距离地查看这些区域，我添加了缩放功能。</p><p id="ee71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，我首先需要包含一些脚本和CSS链接。我在<code class="du md me mf mg b">&lt;head&gt;</code>部分添加了所有这些。然后，我只添加两行来启用地图的缩放UI控件。这再次显示了在使用适当的数据可视化库(如AnyChart)时，添加这些特性是多么容易和方便。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="2169" class="lp jz hi mg b fi mp mq l mr ms">&lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-exports.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-ui.min.js"&gt;&lt;/script&gt;</span><span id="6a85" class="lp jz hi mg b fi mt mq l mr ms">&lt;link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/8.9.0/css/anychart-ui.min.css"&gt;<br/>&lt;link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/8.9.0/fonts/css/anychart-font.min.css"&gt;</span><span id="ce10" class="lp jz hi mg b fi mt mq l mr ms">...</span><span id="459b" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">// add zoom ui controls</em></strong><br/>var zoomController = anychart.ui.zoom();<br/>zoomController.render(map);</span></pre><p id="8de9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想要设置任何其他交互行为来让查看者挖掘地图上显示的数据，请查看<a class="ae jx" href="https://docs.anychart.com/Maps/Move_and_Zoom" rel="noopener ugc nofollow" target="_blank">移动和缩放API </a>文档。</p><h2 id="5d09" class="lp jz hi bd ka lq lr ls ke lt lu lv ki jb lw lx km jf ly lz kq jj ma mb ku mc bi translated">4.改变整体主题和一些外观调整</h2><p id="b7a5" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">为了润色网点密度图，我做了一些简单的修改。我决定把地图的背景改成更暗的颜色，这样可以突出点。为此，我使用了AnyChart内置的<a class="ae jx" href="https://docs.anychart.com/Appearance_Settings/Themes" rel="noopener ugc nofollow" target="_blank">主题之一</a>——黑暗魅力——包括预定义的设置，如深色背景色。为此，我包含了主题脚本并添加了一行代码来设置地图的主题。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="9f61" class="lp jz hi mg b fi mp mq l mr ms">&lt;script src="https://cdn.anychart.com/releases/8.9.0/themes/dark_glamour.min.js"&gt;&lt;/script&gt;</span><span id="1a1e" class="lp jz hi mg b fi mt mq l mr ms">...</span><span id="da76" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">// set the color theme</em></strong><em class="mu"><br/></em>anychart.theme('darkGlamour');</span></pre><p id="b52d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我做的最后一件事是减小标记的尺寸，并删除系列的笔画。</p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="2f62" class="lp jz hi mg b fi mp mq l mr ms">series<br/>  .name(name)<br/>  .fill(color)<br/>  .stroke('none')<br/>  .type('circle')<br/>  .size(3)<br/>  .labels(false)<br/>  .selectionMode('none');</span></pre><p id="c6cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你有它！一个非常酷和漂亮的点阵图，直观地展示了全球不同的航运港口。</p><figure class="mh mi mj mk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/7aa208be5d62560692403508a0647e0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BlFYm1HiUpw1FIzXrZnAmQ.png"/></div></div></figure><p id="eafa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="mu">看看</em></strong><a class="ae jx" href="https://codepen.io/shacheeswadia/pen/eYgRVBM" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="mu">CodePen</em></strong></a><strong class="is hj"><em class="mu">上的代码，或者看看</em></strong><a class="ae jx" href="https://playground.anychart.com/EiEgLDJq/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="mu">any chart游乐场</em> </strong> </a> <strong class="is hj"> <em class="mu">上的代码，或者就在下面。</em> </strong></p><pre class="mh mi mj mk fd ml mg mm mn aw mo bi"><span id="2e22" class="lp jz hi mg b fi mp mq l mr ms">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Dot Map&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-map.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/geodata/latest/custom/world/world.js"&gt;&lt;/script&gt;</span><span id="08ce" class="lp jz hi mg b fi mt mq l mr ms">    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"&gt;&lt;/script&gt;</span><span id="3fd4" class="lp jz hi mg b fi mt mq l mr ms">    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-exports.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-ui.min.js"&gt;&lt;/script&gt;</span><span id="0205" class="lp jz hi mg b fi mt mq l mr ms">    &lt;script src="https://cdn.anychart.com/releases/8.9.0/themes/dark_glamour.min.js"&gt;&lt;/script&gt;</span><span id="5a61" class="lp jz hi mg b fi mt mq l mr ms">    &lt;link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/8.9.0/css/anychart-ui.min.css"&gt;<br/>    &lt;link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/8.9.0/fonts/css/anychart-font.min.css"&gt;</span><span id="a467" class="lp jz hi mg b fi mt mq l mr ms">    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><br/>anychart.onDocumentReady(function() {<br/>anychart.data.loadJsonFile('https://gist.githubusercontent.com/shacheeswadia/47b28a4d061e415555f01f5ce48e9ae3/raw/0f7592a8048872db7b77ccd2df8907e61952a806/shippingDataInverted.json',<br/>function (data) {<br/>      <br/><strong class="mg hj"><em class="mu">  // set the color theme<br/></em></strong>  anychart.theme('darkGlamour');<br/>      <br/><strong class="mg hj"><em class="mu">  // set the map chart<br/></em></strong>  var map = anychart.map();<br/>      <br/><strong class="mg hj"><em class="mu">  // set the global geodata<br/></em></strong>  map.geoData('anychart.maps.world');</span><span id="1511" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // set the chart title<br/></em></strong>  map.title( 'Shipping ports across the globe');</span><span id="99bd" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // create a dataset from data<br/></em></strong>  var portsDataSet = anychart.data.set(data).mapAs();</span><span id="438a" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // helper function to create several series<br/></em></strong>  var createSeries = function (name, data, color) {<br/>        <br/><strong class="mg hj"><em class="mu">    // set the marker series<br/></em></strong>    var series = map.marker(data);<br/>        <br/><strong class="mg hj"><em class="mu">    // configure the series settings<br/></em></strong>    series<br/>      .name(name)<br/>      .fill(color)<br/>      .stroke('none')<br/>      .type('circle')<br/>      .size(3)<br/>      .labels(false)<br/>      .selectionMode('none');</span><span id="c29c" class="lp jz hi mg b fi mt mq l mr ms">    series<br/>      .legendItem()<br/>      .iconType('circle')<br/>      .iconFill(color);<br/>  };</span><span id="9220" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // create 5 series, filtering data by the outflows at each port<br/></em></strong>  createSeries(<br/>    'Up to 100000',<br/>    portsDataSet.filter('outflows', filterFunction(0, 100000)),<br/>    '#D1FAE9'<br/>  );<br/>  createSeries(<br/>    '100000 - 1000000',<br/>    portsDataSet.filter('outflows', filterFunction(100000, 1000000)),<br/>    '#9CE0E5'<br/>  );<br/>  createSeries(<br/>    '100000 - 500000',<br/>    portsDataSet.filter('outflows', filterFunction(1000000, 5000000)),<br/>    '#00ACC3'<br/>  );<br/>  createSeries(<br/>    '500000 - 10000000',<br/>    portsDataSet.filter('outflows', filterFunction(5000000, 10000000)),<br/>    '#355CB1'<br/>  );<br/>  createSeries(<br/>    'More than 1000000 outflows',<br/>    portsDataSet.filter('outflows', filterFunction(10000000, 0)),<br/>    '#002D79'<br/>  );</span><span id="b495" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // enable and configure the map tooltip<br/></em></strong>  map<br/>    .tooltip() <br/>    .useHtml(true)<br/>    .padding([8, 13, 10, 13])<br/>    .width(350)<br/>    .fontSize(12)<br/>    .fontColor('#e6e6e6')<br/>    .titleFormat(function () {<br/>      return this.getData('Name');<br/>    })<br/>    .format(function () {<br/>      return (<br/>        '&lt;span style="color: #bfbfbf"&gt;Country: &lt;/span&gt;'+<br/>        this.getData('Country') +<br/>        '&lt;br/&gt;' +<br/>        '&lt;span style="color: #bfbfbf"&gt;Outflows: &lt;/span&gt;' +<br/>        this.getData('outflows').toFixed(0)<br/>      );<br/>    });</span><span id="8d24" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // turn on the map legend<br/></em></strong>  map.legend(true);</span><span id="7291" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // add zoom ui controls<br/></em></strong>  var zoomController = anychart.ui.zoom();<br/>  zoomController.render(map);</span><span id="6c42" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // set the container<br/></em></strong>  map.container('container');</span><span id="6044" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">  // draw the map<br/></em></strong>  map.draw();</span><span id="2485" class="lp jz hi mg b fi mt mq l mr ms">});<br/>});</span><span id="fcb8" class="lp jz hi mg b fi mt mq l mr ms"><strong class="mg hj"><em class="mu">// helper filter function<br/></em></strong>function filterFunction(val1, val2) {<br/>  if (val2) {<br/>    return function (fieldVal) {<br/>      return val1 &lt;= fieldVal &amp;&amp; fieldVal &lt; val2;<br/>    };<br/>  }<br/>  return function (fieldVal) {<br/>    return val1 &lt;= fieldVal;<br/>  };<br/>}</span><span id="9fe7" class="lp jz hi mg b fi mt mq l mr ms">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="c894" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论</h1><p id="3e7f" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">如您所见，使用JavaScript库创建像点密度图这样的交互式数据可视化是非常简单和令人兴奋的。AnyChart有许多不同类型的图表和地图，所以在这里查看各种选项<a class="ae jx" href="https://docs.anychart.com/Quick_Start/Supported_Charts_Types" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="04e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望这篇教程已经激起了你对点阵图和JavaScript图表的兴趣。请随时提问、提供建议或发表评论。继续，探索海洋，让您的数据可视化之船航行吧！</p></div><div class="ab cl nc nd gp ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="hb hc hd he hf"><p id="8702" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们AnyChart很高兴感谢Shachee Swadia创建了这个惊人的JS点阵图教程。</p><p id="eef7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mu">如果你想为我们的博客写一篇有趣的客座博文，请</em> <a class="ae jx" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <em class="mu">联系我们</em> </a> <em class="mu">。</em></p></div><div class="ab cl nc nd gp ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="hb hc hd he hf"><p id="1467" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mu">查看其他</em> <a class="ae jx" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"> <em class="mu"> JavaScript制图教程</em> </a> <em class="mu">。</em></p></div><div class="ab cl nc nd gp ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="hb hc hd he hf"><p id="8250" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mu">最初发表于2021年4月20日https://www.anychart.com</em><a class="ae jx" href="https://www.anychart.com/blog/2021/04/20/js-dot-density-map/" rel="noopener ugc nofollow" target="_blank"><em class="mu"/></a><em class="mu">。</em></p></div></div>    
</body>
</html>