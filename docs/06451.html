<html>
<head>
<title>Using React’s state to update CSS dynamically</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React的状态动态更新CSS</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/using-reacts-state-to-update-css-dynamically-c9b45570340c?source=collection_archive---------3-----------------------#2021-08-20">https://medium.com/geekculture/using-reacts-state-to-update-css-dynamically-c9b45570340c?source=collection_archive---------3-----------------------#2021-08-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c19c57a80c24e7d56014e0daf2c189d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ykLhvwuoW5MJx1DF"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@sharonmccutcheon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sharon McCutcheon</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="04fc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">React很棒，尤其是在SPA(单页应用程序)方面。我想到的一个小技巧可能对React的其他用户来说不太明显，就是使用state可以动态修改页面的CSS。所以我将举例说明如何使用状态来修改带有事件监听器的CSS。</p><h2 id="1789" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">这就是我们将要建造的。</h2><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/e6ee6a1c8809495103720063da4be861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*duMAUCm7kwpoZ2tTPNxIAg.gif"/></div></div></figure><h1 id="3de3" class="kt ju hi bd jv ku kv kw jz kx ky kz kd la lb lc kg ld le lf kj lg lh li km lj bi translated">让我们开始编码吧</h1><p id="daee" class="pw-post-body-paragraph iv iw hi ix b iy lk ja jb jc ll je jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">首先，我会假设你知道如何开始一个新项目。如果没有，你可以在这里阅读操作指南<a class="ae iu" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/create-a-new-react-app.html</a>。既然你已经开始了一个新项目，现在打开<code class="du lp lq lr ls b">/scr/App.js</code>我们将修改它。直接复制下面的代码。一会儿我会快速浏览一遍，解释我们正在做什么。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="dc85" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们需要从react导入<code class="du lp lq lr ls b">useState</code>(第4行)。然后在第8行，我们正在为https://reactjs.org/docs/hooks-state.html<a class="ae iu" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank">了解更多信息<code class="du lp lq lr ls b">useState</code>创建我们的钩子。第10行现在创建了一个颜色数组，它需要与我们一会儿将要讨论的CSS类相一致。第12–19行是创建按钮的函数。这是我们诡计的第一部分。如您所见，我们将colors数组映射到className(第15行)中的一个变量，并在第16行设置onClick listening事件。</a></p><p id="2caf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个魔术的第二部分是第23行，其中我们将类名设置为我们的状态。这会导致div区域在状态改变时重新呈现。太酷了，这就是我们的JSX。现在我们需要在CSS文档中创建一些类和id。</p><h1 id="f8c0" class="kt ju hi bd jv ku kv kw jz kx ky kz kd la lb lc kg ld le lf kj lg lh li km lj bi translated">现在是CSS</h1><p id="86c2" class="pw-post-body-paragraph iv iw hi ix b iy lk ja jb jc ll je jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">再一次，将下面的git要点复制到<code class="du lp lq lr ls b">src/App.css</code>中，你可以删除已经存在的内容，因为这是我们需要的所有CSS规则。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="bc73" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为这只是一个演示如何解释组件的实际构建。第0–30行只与演示的显示相关。虽然它们确实会影响页面上项目的显示，但是动态改变页面上的颜色最重要的是第32行等等。</p><p id="655e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如您所见，类名与App.js中的数组中包含的名称相同。我继续修改了实际的颜色，以显示更柔和的颜色，而不是令人眼花缭乱的通用绿色、红色和蓝色。</p><p id="d763" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你执行。"<code class="du lp lq lr ls b">npm start”</code>这是你应该在浏览器窗口看到的。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/c814275c7309e6571b3e25a88d11cb25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rjKjexip428t9DT6Llogkw.jpeg"/></div></div></figure><p id="6419" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在你知道如何使用React的状态来动态修改CSS了。虽然这是一个简单的例子，但是这种技术的应用是无限的，从表单的错误状态、画布元素上的画笔，到网站的亮/暗模式。快乐编码。</p></div></div>    
</body>
</html>