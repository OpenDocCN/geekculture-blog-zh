<html>
<head>
<title>How to Detect Colliders Surrounding the Player</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检测玩家周围的碰撞体</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-detect-colliders-surrounding-the-player-ebdcadf3ba61?source=collection_archive---------25-----------------------#2021-06-01">https://medium.com/geekculture/how-to-detect-colliders-surrounding-the-player-ebdcadf3ba61?source=collection_archive---------25-----------------------#2021-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2e881b6f9ad4e7693f7e3f8b4e3686d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DjfBuxsMfjsVwvoQDtYfIw.gif"/></div></div></figure><p id="8169" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为一名游戏玩家，我一直是效果区域(AoE)攻击的粉丝——它们在人群控制方面令人惊叹，并且可以很容易地成为你武器库中最有用的工具之一。在接下来的文章中，我将详细说明我是如何为我的2D太空射手增加一个有效攻击区域的。</p><p id="e134" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">目标</strong>:在给定区域内，从玩家周围的特定物体中检测出碰撞者。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="6468" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">使用物理2D。OverlapCircleAll</h1><p id="30ba" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated"><a class="ae ky" href="https://docs.unity3d.com/ScriptReference/Physics2D.OverlapCircleAll.html" rel="noopener ugc nofollow" target="_blank">物理2D。OverlapCircleAll </a>返回一个圆形区域内的所有碰撞器，并允许我们对每个碰撞器执行一个操作。</p><p id="8095" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">出于AoE的目的，我们将重点关注它的三个参数:</p><ul class=""><li id="4d70" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn le lf lg lh bi translated"><strong class="is hj">点</strong>:圆的中心或原点。</li><li id="5e70" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated"><strong class="is hj">半径</strong>:圆的半径，即从圆心或原点到圆周上任意一点的距离。</li><li id="f708" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated"><strong class="is hj"> layerMask </strong>:检查指定图层中特定对象的过滤器。这将使AoE只影响敌人。</li></ul><blockquote class="ln lo lp"><p id="cfbf" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated"><strong class="is hj">注意</strong>:如果你在为3D游戏创建AoE，使用<a class="ae ky" href="https://docs.unity3d.com/ScriptReference/Physics.OverlapSphere.html" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">物理。OverlapSphere </strong>改为</a>。</p></blockquote><h2 id="af3b" class="lu jw hi bd jx lv lw lx kb ly lz ma kf jb mb mc kj jf md me kn jj mf mg kr mh bi translated">让我们一步一步来！</h2><ol class=""><li id="8e8c" class="kz la hi is b it kt ix ku jb mi jf mj jj mk jn ml lf lg lh bi translated">创建一个带有SerializeField的<a class="ae ky" href="https://docs.unity3d.com/ScriptReference/LayerMask.html" rel="noopener ugc nofollow" target="_blank">类型的全局变量LayerMask </a>以在检查器中分配它。我把我的命名为AoE，因为这个图层蒙版中的任何东西都将被设置为受攻击范围的影响。</li></ol><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/44d2f636068f19819437fac48af3be30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0IqD8HDxI_tidIKU6F_HJA.png"/></div></div></figure><p id="13ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.要指定新的LayerMask变量，我们只需要为敌人对象创建一个层。正如你所看到的，我已经添加了我的图层，但是你可以按照下面的步骤来创建一个图层。</p><figure class="mn mo mp mq fd ij er es paragraph-image"><div class="er es mr"><img src="../Images/427b6d210e7a9ea370526ca41e7355b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/1*1RjC44TB0MFJRPF-S8n0_A.gif"/></div></figure><p id="2b70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.然后，我们可以在上一步创建的字段中选择所需的图层。</p><figure class="mn mo mp mq fd ij er es paragraph-image"><div class="er es ms"><img src="../Images/a0ad219a30f7fc47e6bd1b545d642081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/1*eEQzlOuOgQJDbgdmStuz8w.gif"/></div></figure><p id="a9a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.为效果区域行为创建一个void方法。在void方法中，添加一个vector2作为圆原点。</p><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/3454829c87872929893de20bbb3c87c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UNfn0QAWl35nX2nMFdGDjg.png"/></div></div></figure><p id="c883" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.所有参数就绪后，我们可以添加Physics2D.OverlapCircleAll。这将存储为一个碰撞器数组。</p><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/d19c2b3eb205cd0f85c577c4a6e68e8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8E_FPGQCSA6TGZ2qzyCh1g.png"/></div></div></figure><p id="5f6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">括号中的5f是圆的半径，这可以是你喜欢的任何数字，取决于AoE有多大。</p><blockquote class="ln lo lp"><p id="eea8" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated"><strong class="is hj">注意</strong>:使用physics2D时。OverlapCircleAll，您无法直观地看到您创建的圆形区域。然而，有一个使用<strong class="is hj">小发明的工作。</strong></p></blockquote><p id="871e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.创建一个Foreach循环，这样我们的代码就可以用于这个区域内的每一个碰撞器。在这里，c只是一个变量，可以给它取任何名字，但是对于碰撞器，我们保留c。</p><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/3eed3336c4076d6204ccab0f9e2b48cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*acKxEYOoKEwKqAwo2hMXGw.png"/></div></div></figure><p id="a0ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.在循环中添加一个if语句，这个if语句将在碰撞器中搜索附加到碰撞器上的敌方类脚本组件。</p><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/c16b1c8f2e4913a144b1ee12802360b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9yQ4ZbKb3jvDvA70qoV3BQ.png"/></div></div></figure><p id="8969" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.如果组件被找到，我们将进一步进入敌人类，并调用摧毁敌人的方法。</p><blockquote class="ln lo lp"><p id="bc88" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated"><strong class="is hj">注</strong>:调试。出于测试目的，日志是可选的。</p></blockquote><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/60af2cf359fd230e21b0a9efa37a04d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6u_1HX8Jq-Z7j0ojodXW7A.png"/></div></div></figure><p id="99bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">9.最后，您需要在您认为适合您的脚本的任何地方调用该方法。在我的情况下，这意味着是一个辅助武器的一部分，因此，它将被称为按下一个键。</p><blockquote class="ln lo lp"><p id="0199" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated"><strong class="is hj">注意</strong>:这将在以后被用来代替常规武器，所以现在，我将使用K键来测试behvario，而不是空格键，这是我的2D太空射手的发射按钮。</p></blockquote><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/bb00dd21e66bba003abd97452774fe69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KEzH9ZIm3Cyj1j32nIw7GA.png"/></div></div></figure><h2 id="7c85" class="lu jw hi bd jx lv lw lx kb ly lz ma kf jb mb mc kj jf md me kn jj mf mg kr mh bi translated">结果是:</h2><figure class="mn mo mp mq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3744e262ac22419c023f4e0858175818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*z5Q0Nqreqpi4wBuDlwrZ5w.gif"/></div></div></figure></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="6911" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我会在下一篇文章继续我的AoE分解！</p></div></div>    
</body>
</html>