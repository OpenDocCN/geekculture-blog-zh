<html>
<head>
<title>The Ethereum Whitepaper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊白皮书</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-ethereum-whitepaper-31b46d092630?source=collection_archive---------1-----------------------#2021-11-04">https://medium.com/geekculture/the-ethereum-whitepaper-31b46d092630?source=collection_archive---------1-----------------------#2021-11-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="0c99" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">论文摘要:“下一代智能合同和分散应用平台”</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b00ee77f160eb807a99610dd8a26b8e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KWK-2xoD8o0vAfhsvfZ32g.png"/></div></div></figure><blockquote class="jj jk jl"><p id="7218" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">论文作者:<em class="hi">维塔利克·布特林</em></p></blockquote><h1 id="5a9c" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">简介:</h1><p id="47b7" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">2009年，<strong class="jp hj">比特币</strong>诞生。那一天是货币激进革命的开始！为什么？它是第一个没有支持、没有内在价值、没有集中控制者的资产(但却获得了牵引力和价值)。而且:这是<strong class="jp hj">区块链</strong>的主要用法，它有巨大的子分支！</p><p id="4b06" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">分支机构包括:</p><ul class=""><li id="34c7" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">彩色硬币</strong>:区块链上的数字资产(例如:客户货币&amp;金融工具)</li><li id="6e06" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">智慧财产</strong>:实物资产所有权</li><li id="016f" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj"> Namecoin </strong>:不可替代资产(例如:域名)(不可替代意味着你不能复制它或被替代(一个NFT只能被一个人拥有))</li><li id="de8e" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">智能合约</strong>:区块链上的代码，在满足特定条件时可以执行</li><li id="9f6b" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">分散的自治组织(DAO) </strong>:字面上的名称:P</li></ul><p id="c952" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">为什么<strong class="jp hj">以太</strong>？以太坊是一个区块链，它有一个<strong class="jp hj">图灵完全编程语言</strong>，能够做上面所有的子分支+应用程序，这些应用程序还没有被想象出来！</p><h1 id="d7af" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">比特币及现有概念介绍:</h1><h2 id="67a0" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">历史:</h2><p id="0672" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">虽然比特币是在2009年创造的，但去中心化数字货币的想法早在<strong class="jp hj">20世纪80年代和90年代</strong>就存在了！Chaumian blinding有很多隐私——但它失败了，因为它依赖于一个集中的中介。</p><p id="43e2" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">1998年，<strong class="jp hj"> B-money </strong>被提出作为一种通过解决计算难题来获得资金的分散共识方式——但它失败了，因为它没有详细说明如何实现分散共识。</p><p id="22e9" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">2005年，<strong class="jp hj">可重复使用的工作证明</strong> →导致了加密货币的想法。但是由于依赖可信计算，它失败了。终于在2009年，<strong class="jp hj">比特币</strong>通过组合前人创造出来了！</p><p id="b3d9" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">为什么<strong class="jp hj">工作证明</strong>这么重要？是因为一下子解决了很多问题！</p><ul class=""><li id="b674" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">简单有效的共识机制</strong>。节点可以就比特币分类账的状态达成一致</li><li id="f1dd" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">允许<strong class="jp hj">自由进入成为矿工</strong>，但<strong class="jp hj">也防止西比尔攻击</strong>(在那里你只是做一吨的假账户)。这是通过一个经济障碍实现的——你需要计算能力</li></ul><p id="34ae" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">另一种选择是<strong class="jp hj">利益证明</strong>——节点的权重与其持有的货币数量成正比。这两种方法都是加密货币的支柱。</p><h2 id="e3af" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">作为状态转换系统的比特币</h2><p id="ccb4" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">你可以从比特币是一个<strong class="jp hj">状态转换系统</strong>的角度来看待它:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/dabff56db18755dadfce2ca3bbd63564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LFOJKftmB2QXh4vi.png"/></div></div></figure><p id="92e6" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">您有一个状态(余额分类帐)→转换到→一个新状态，其中包含更新的余额分类帐。</p><p id="ae32" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们甚至可以正式定义系统:“<strong class="jp hj">应用(S，TX) → S '或错误</strong>”。其中比特币是应用函数。如果我们试图发送比实际更多的资金，就会出现错误。</p><p id="bf30" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">比特币的<strong class="jp hj">状态</strong>只是一个<strong class="jp hj">硬币或UTXOs </strong>的集合——但是没有所有者和余额的列表！只有UTXOs。这些UTXOs会说它们的主人是谁(这样主人就能真正花掉它)+它们值多少钱。</p><p id="5def" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated"><strong class="jp hj">交易的输入</strong>=对现有UTXO的引用+所有者的加密签名。事务的<strong class="jp hj">输出</strong>是新的UTXO。</p><p id="792c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">因此，应用(S，TX) → S '的<strong class="jp hj">过程</strong>为:</p><ol class=""><li id="a12e" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated">对于TX中的每个输入:如果 → UTXO不在S中(不能发送不存在的硬币)或者签名与UTXO的所有者不匹配(不能发送不属于你的硬币)，则返回一个<strong class="jp hj">错误</strong></li><li id="abd0" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">如果输入UTXO的面额(值)之和&lt; sum of denominations of output UTXOs (conservation of value) <strong class="jp hj">返回错误</strong></li><li id="672f" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">返回S' </strong>。移除输入UTXOs +添加输出UTXOs</li></ol><h2 id="cb48" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">采矿:</h2><p id="b771" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">我们不能只是将分类账保存在服务器上，那将是集中的。相反，我们需要确保整个事情是分散的T21。所以我们必须确保大量的<strong class="jp hj">节点同意一个共同的历史</strong>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/089855ab5c7673d157b652b6ac9a67fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-yA3VpZeFsZ9b-bt.png"/></div></div></figure><p id="2fd8" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们通过让节点不断地<strong class="jp hj">尝试创建新的块</strong>来添加到最长的链中来做到这一点。每隔<strong class="jp hj"> ~10分钟</strong>创建一个新块。该块的内部包含:</p><ol class=""><li id="e1fe" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated"><strong class="jp hj">时间戳</strong></li><li id="6043" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">随机数</strong></li><li id="6b34" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">引用</strong>到前一个(的散列)块</li></ol><p id="e57e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">最后一部分<strong class="jp hj">将这些块链接在一起</strong>。</p><p id="3dac" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">有一种算法可以检查这些块是否有效:</p><ol class=""><li id="6c65" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated">检查<strong class="jp hj">引用的</strong>(前一个)块是否确实存在并且有效</li><li id="4199" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">检查块的<strong class="jp hj">时间戳是否大于前一块且小于未来2小时</strong></li><li id="29e1" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">检查<strong class="jp hj"> PoW </strong>是否有效</li><li id="76ea" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">检查块内的<strong class="jp hj">单个交易</strong>是否有效</li></ol><p id="a436" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们可以在这里看到，<strong class="jp hj">比特币</strong> <strong class="jp hj">不以任何方式跟踪状态</strong>——它只是保持<strong class="jp hj">确认交易是有效的</strong>并且发生了。实际获得状态的唯一方法是计算从起源块到当前块的所有内容。另外:块内的事务顺序很重要。</p><p id="47b8" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">为了<strong class="jp hj">调整PoW </strong>的难度，我们要求产生的散列具有一定数量的前导0 →,这意味着输出小于某个数字。截至10月15日，它是2 ⁸⁷，这意味着您需要尝试~2⁶⁹尝试才能获得有效的散列。每2016块调整一次编号。</p><p id="8ae7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">这就是为什么工作证明需要这么多工作。哈希函数是不可逆的，因此您必须<strong class="jp hj">强力</strong>猜测nonce(工作)直到您最终找到有效的哈希！</p><p id="facb" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">如果你<strong class="jp hj">开采区块</strong>，你会得到<strong class="jp hj">奖励比特币</strong>。同样，如果输入面额&lt;输出面额，那么这就是<strong class="jp hj">交易费用</strong>。</p><p id="b6d7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">如果我们想要攻击网络(也就是给某人汇款，然后通过建立另一个区块链分支来重复交易)，我们将需要大部分的计算能力。</p><p id="20f7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">这是因为当其他人都在有效链上工作时(攻击者将钱发送给其他人)，攻击者必须独自建立一个比有效链更长的链。除非你拥有大多数的计算能力，否则这是不可能的。</p><h2 id="f212" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">Merkle树:</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/ec640e184afdc84039b20df5a79b52ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FOrF8V1QYe3RHMcP.png"/></div></div></figure><p id="03da" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">现在，我们不再将所有的事务存储在块中——相反，为了节省空间，我们将所有的事务存储在Merkle树中。Merkle树是一棵二叉树，其中每个节点只是其子节点的散列——除了树叶，树叶是事务。根节点(最终散列)是唯一包含在区块链中的东西。</p><p id="8e3f" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">现在，为了验证一个事务，您可以下载Merkle树的一个<strong class="jp hj">删减版本</strong>，然后计算散列来查看根节点是否与您新计算的散列节点相匹配。</p><p id="4938" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">如果我们从2014年4月开始在RAM中存储15GB的完整数据块，并且每月增长约1GB。取而代之的是一个叫做<strong class="jp hj">简化支付验证</strong> (SPV)的协议，它利用Merkle树来运行！</p><h2 id="0d15" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">替代区块链应用:</h2><p id="4876" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">除了交易，区块链还有其他应用！</p><ul class=""><li id="6bed" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj"> Namecoin </strong>:在这里可以注册自己的名字，别人拿不走。</li><li id="8334" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">彩色硬币</strong>:在这里你可以创造自己的硬币(或NFT)。你通过公开宣布某些UTXO是这些颜色来给硬币上色，然后你递归地搜索你的UTXO来找到它的颜色</li><li id="0aed" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">元币</strong>:生活在比特币之上的协议，其中有不同的状态转换。不能实现复杂的事务，但是可以做简单的。</li></ul><p id="cbb6" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">因此，通常有两种<strong class="jp hj">方法来建立共识协议</strong>:</p><ul class=""><li id="ae79" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">建立一个全新的系统:增加了灵活性，但是难以实现。并非所有的应用程序都能够获得支持来构建自己的区块链</li><li id="93eb" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">在比特币的基础上建立一个</strong>:不需要从零开始——但在复杂性和可扩展性方面存在限制。它们不继承SPV，因此无法扩展。</li></ul><h2 id="c909" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">脚本:</h2><p id="73eb" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">有了比特币，我们实际上可以实现<strong class="jp hj">智能合约</strong>！这意味着，为了让交易通过，它必须由智能合约本身来验证。我们可以做像Multisig(多方确认某物通过)或分散的交叉加密货币交换这样的事情。</p><p id="a2b1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是有<strong class="jp hj">限制</strong>:</p><ul class=""><li id="f63e" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">缺乏图灵完整性</strong>:即缺失循环，导致if语句空间低效</li><li id="0613" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">价值盲</strong>:所以我们无法精细控制可以提取的金额。UTXOs要么全有，要么全无</li><li id="97ac" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">状态缺失</strong>:utxo耗尽或未耗尽。所以很难有状态</li><li id="ca6f" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">区块链盲</strong> : UTXOs连区块链的数据都看不到</li></ul><p id="bb5c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">所有这些限制意味着我们可以用三种方式来绕过它:建立一个新的区块链，在比特币的基础上编写脚本，或者在比特币的基础上建立一个元货币。<strong class="jp hj">各有各的弊端</strong>。</p><p id="ec3c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">介绍<strong class="jp hj">以太坊</strong>！以太坊让人们更容易在其上构建应用程序，同时与经济环境和区块链的安全联系在一起。</p><h1 id="1617" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">以太坊:</h1><p id="82cf" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊就是提供一个<strong class="jp hj">平台来构建dapp</strong>！它们针对快速开发时间、安全性和高效交互进行了优化。以太坊是一种<strong class="jp hj">图灵完全编程语言</strong>，值+区块链+状态感知区块链，所以我们可以创建任何我们想要的Dapp！(Namecoin = 2行代码，货币和信誉系统= 20行代码)。</p><h2 id="4ea3" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">以太坊账户:</h2><p id="128e" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊的状态和比特币有点不同——有<strong class="jp hj">个账户</strong>！这些账户是20字节的地址，其中有<strong class="jp hj"> 4个字段</strong>:</p><ul class=""><li id="2477" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">Nonce (作为一个计数器，这样你就不能发送相同的付款)</li><li id="e4b7" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">以太</strong>(以太坊的密码燃料，是交易费)余额</li><li id="03a0" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">合同代码</strong></li><li id="aca7" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">储存</strong></li></ul><p id="c23e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">有<strong class="jp hj"> 2种类型的账户</strong>:</p><ul class=""><li id="5fd3" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">外部拥有的账户</strong>:由私钥/人控制。外部拥有的帐户没有代码+可以发送消息(又名交易)</li><li id="31e3" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">合同账户</strong>:受合同代码控制。当他们收到消息时，他们激活并执行他们的代码。合同！=那些纸质合同。相反，它们就像执行代码的小机器人，但也有自己的以太平衡</li></ul><h2 id="1308" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">消息和交易:</h2><p id="fe6a" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊中的<strong class="jp hj">交易</strong>是指由<strong class="jp hj">人</strong>签名并发送的交易。该<strong class="jp hj">交易包含</strong>:</p><ul class=""><li id="ec61" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">消息的接收者</strong></li><li id="ae88" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">发送人签名</strong></li><li id="4b7c" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">转账金额</strong></li><li id="7fdb" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">可选数据字段</strong></li><li id="1bed" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj"> STARTGAS </strong> =交易可以使用的最大气体量</li><li id="1f64" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">汽油价格</strong> =每个计算步骤的费用</li></ul><p id="c87c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">前3个=加密货币的标准字段。数据字段=默认情况下不做任何事情，但是智能合约能够读取这些数据并使用它们来做事情。</p><p id="2559" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">STARTGAS和GASPRICE是为了<strong class="jp hj">防止DDOS攻击</strong>(也就是运行无限循环的人)。由于每次计算都要花钱(不同的计算花费不同的金额)，攻击者必须按比例支付他们使用的所有资源。</p><h2 id="e597" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">消息:</h2><p id="9464" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated"><strong class="jp hj">契约</strong>实际上也可以向其他契约发送消息！它们被称为…信息。邮件包含:</p><ul class=""><li id="9211" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">消息发送者(隐式)</strong></li><li id="1997" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">消息的接收者</strong></li><li id="195c" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">转移的乙醚量</strong></li><li id="ccde" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">可选数据字段</strong></li><li id="e571" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">启动气体</strong></li></ul><p id="75f7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">从字面上看，它和交易是一样的——只不过是通过合同而不是个人发送的。这些是通过CALL操作码执行的。</p><p id="c1c7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">注意:对于STARTGAS，这是事务及其所有子执行的GAS总量。</p><h2 id="d6e4" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">以太坊状态转换功能:</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/6065bce2d84ef204c1cce1393605395f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YGFQ4QD5fNTaxJf7.png"/></div></div></figure><p id="716d" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">以下是以太坊应用(S，TX) → S '的<strong class="jp hj">步骤</strong>:</p><ol class=""><li id="3dfd" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated">检查<strong class="jp hj">交易是否填写</strong>，有效签名，nonce =发送方的nonce</li><li id="58af" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">计算<strong class="jp hj">交易费用</strong> (STARTGAS * GASPRICE)，找到寄件人地址(从签名)。从余额中减去交易费+增加随机数</li><li id="9803" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">初始化气体</strong> =启动气体。每字节减去一些gas来支付交易</li><li id="ec6f" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">向收款人汇款</strong>。如果接收者不存在，请创建一个帐户。如果接收器是一个合同，运行它→直到完成或耗尽天然气</li><li id="1db5" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">如果任何时候<strong class="jp hj">出现故障</strong> , <strong class="jp hj">会恢复一切</strong>，除了支付费用的天然气→这些费用会被发送给矿工</li><li id="7002" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">否则，<strong class="jp hj">将剩余的气体</strong>费用退还给发送者→发送费用用于矿工</li></ol><p id="d9e1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">如果我们发送给另一个人，那么交易成本将只是GASPRICE *交易长度(以字节为单位)。此外，就其回复而言，消息的工作方式类似于事务(仅回复消息及其所有子执行，而非契约)。</p><h2 id="80e9" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">代码执行:</h2><p id="5da1" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊中的所有代码都是用底层的基于栈的字节码编写的。我们可以存储数据的地方有<strong class="jp hj"> 3种类型</strong>:</p><ul class=""><li id="5d4f" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">堆栈</strong>:后进先出容器(计算结束后复位)</li><li id="fe7f" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">内存</strong>:无限扩展数组(计算结束后复位)</li><li id="f292" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">存储</strong>:长期存储，键/值存储。这是保存在区块链</li></ul><p id="77dd" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">EVM执行模型非常简单。只是有一个不断更新的巨型元组:<strong class="jp hj"> (block_state，transaction，message，code，memory，stack，pc，gas) </strong>。</p><p id="ee8f" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">每一轮执行=执行代码中的第“pc”个字节→其中每个指令都有自己的关于如何影响元组的指令(ADD从堆栈中弹出前2项，然后追加它们的总和，gas减1，pc增1)。</p><h2 id="6688" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">区块链和采矿:</h2><p id="fecd" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊很像比特币的区块链——当然除了一些不同之处！以太坊的方块有过渡列表+最近状态+ 2个新值(方块数和难度)。<strong class="jp hj">块验证看起来像</strong>:</p><ol class=""><li id="d1ac" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated">检查<strong class="jp hj">前一个参考块</strong>是否存在并且有效</li><li id="a389" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">检查块的<strong class="jp hj">时间戳是否大于前一个块并且小于未来15分钟</strong></li><li id="e753" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">检查区块的<strong class="jp hj">内容(区块号、难度、交易根、根叔、气限)是否全部有效</strong></li><li id="6d97" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">检查<strong class="jp hj">电源是否有效</strong></li><li id="47d2" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">执行所有单个交易</strong> +更新状态+支付矿工</li><li id="1046" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">检查该状态的Merkle树</strong>根是否等于块头的最终状态根</li></ol><p id="e52f" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">将所有东西都存储在Merkle树中似乎效率很低——但是大多数时候树的大部分实际上不会改变，因此树的大部分只是指向前一个块的T2指针。我们用一个<strong class="jp hj"> Patricia </strong> <strong class="jp hj">树</strong>来做这件事，在这里我们可以有效地插入和删除节点。这可以节省5到20倍的空间。</p><p id="f7ab" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">注意:合同的执行就像交易的执行一样。它们只是状态转换！</p><h1 id="8ea2" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">应用:</h1><p id="0086" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊有<strong class="jp hj"> 3种应用:</strong></p><ol class=""><li id="203f" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated"><strong class="jp hj">金融应用</strong>:子货币、金融衍生品、对冲合约、储蓄钱包、遗嘱、雇佣合约</li><li id="156b" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">半金融应用</strong>:自动执行奖金</li><li id="8cc6" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated"><strong class="jp hj">非金融类</strong> : DAOs和网络投票</li></ol><h2 id="fb0f" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">令牌系统:</h2><p id="6866" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">令牌系统代表了各种各样的东西！代币代表资产，代表智能财产、不可伪造的优惠券或没有常规价值。</p><p id="30c4" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">从根本上说，令牌系统就是字面意思:从A中减去X个单位，给B X个单位——假设A至少有X个单位，A确认了这一点。因此实现起来非常简单:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mo"><img src="../Images/54c79f8d4f5292df1f3a40d11470330a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E1y8bdWV0R599Pl39kxU5A.png"/></div></div></figure><p id="5792" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们需要添加几个额外的功能(如分配货币，边缘情况，让其他合同查询余额等)，但它超级简单！</p><p id="05f1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">一个超级酷的功能是，我们可以用我们的硬币支付矿工！我们创建了一个存储乙醚的合同，可以退还乙醚的费用，然后收取这些费用，并在持续的拍卖中转售。</p><h2 id="9b00" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">金融衍生品和稳定价值货币:</h2><p id="a636" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">金融衍生品非常适合智能合约，而且代码实现起来非常简单。但是我们可能<strong class="jp hj">需要区块链</strong>没有的信息(比如ETH wrt USD的价格)。嗯，我们可以有一个<strong class="jp hj">数据馈送契约</strong>(你向它发送一条消息，有人更新数据，然后你将数据发送回契约)。</p><p id="299b" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是加密商务有一个问题→不稳定(商人不喜欢这样)。解决这个问题的一个方法是创造一种子货币，然后承诺1单位的子货币等于1美元或其他什么。但这不是一个伟大的系统，因为你不能总是相信他们+现实世界的因素(银行基础设施太弱或敌对)。</p><p id="be45" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是我们可以用<strong class="jp hj">金融衍生品作为替代</strong>。投机者提供资金来支持该资产，并且它与一个智能合同相关联，因此他们不能退出！(尽管这仍将依赖于一个集中的公司来提供价格，但仍是对依赖于一个发行者的巨大改进)</p><h2 id="0433" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">身份和声誉系统:</h2><p id="7f70" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">我们可以很容易地在以太坊中实现Namecoin:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mp"><img src="../Images/88879496718383f2e7ecd97a7034a45c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqyLeiAJyuCMfvY4dGaHfA.png"/></div></div></figure><p id="ad64" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们也可以有一个更复杂的版本(让其他合同查询它，有一个“所有者”的概念，信誉和信任网的功能)！</p><h2 id="9595" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">分散式文件存储:</h2><p id="1b64" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊允许人们将他们的硬盘出租给他人，并且允许人们以一种分散的方式存储他们的文件。我们可以通过以下方式构建它:</p><ul class=""><li id="b87c" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">把我们所有的数据分成块，然后加密</li><li id="2f30" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">用它做一棵Merkle树</li><li id="e69d" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">将创建一个契约:每N个块我们在Merkle树中选择一个随机索引。</li><li id="821a" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">我们向第一个能够给出Merkle树中该索引的类似支付验证的证明的实体支付X Ether</li><li id="1a52" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">如果我们想恢复文件，我们只需使用微支付渠道</li></ul><p id="df03" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">为了提高安全性，我们可以将文件发送到许多地方，然后建立一个合同，只有在有加密证据证明存储节点仍在存储文件的情况下，才会向存储节点支付费用。</p><h2 id="a35e" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">分散的自治组织:</h2><p id="758d" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">为什么我们不实施一个类似民主的系统，让成员(根据他们的股份或者每个人都有平等的投票权)投票决定组织应该如何行动。这将由<strong class="jp hj">用密码术</strong>强制执行！</p><p id="5234" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">道可以决定花费他们的资金，修改它的代码，提出奖金，修改工资和其他随机的东西！如果2/3的人同意修改代码，我们可以通过允许代码自我修改来实现DAO。我们可以通过对存储在可修改存储器中的代码进行智能合约调用来修改智能合约。Dao有3种交易类型:</p><ul class=""><li id="fdf2" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">[0，I，K，V] =索引为I的建议，将地址存储K更改为V</li><li id="aa4f" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">[0，i] =为I投赞成票</li><li id="e0e3" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">[2，i] =如果有足够的票数，则完成提案I</li></ul><p id="2b31" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">这有令人兴奋的应用和功能！我们必须实现存储所有这些协议以及谁投票支持它们，添加+删除成员，甚至液体民主(您可以指定另一个人为您投票，并且可以传递)。</p><p id="7c12" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们可以有一个分权的公司，在那里，股份决定着选票。在这里，我们需要一个系统，在这个系统中，我们需要资产管理、购买和查看股票的能力、接受报价和流动民主(也称为董事会)。</p><h2 id="69c6" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">更多应用:</h2><ul class=""><li id="77ee" class="lj lk hi jp b jq lb jt lc ld mq lf mr lh ms ki lo lp lq lr bi translated">节省钱包:你可以把你的钱存到一个智能合同里，而不是你的钱包里。给你每天能从钱包里拿出的钱设定上限。甚至可以把这个能力给另一个人(你有能力关闭这个能力)，或者给另一个钱包。这样，万一你被黑了，就安全多了</li><li id="d5b5" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">农作物保险:我们可以签订一份智能合同，根据外界提供的数据自动向你支付费用。这可能是降水或自然灾害</li><li id="3b87" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">分散式数据反馈</strong>:你可以众包一些人来为你提供答案，并且只支付那些在25%和75%之间的人。如果只有这个范围能得到报酬，每个人都会想只给你提供其他人会提供给你的信息，这就符合事实。因此，这可以用来从外界获取信息</li><li id="91d7" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">智能多重签名托管</strong>:比比特币高级多了。在这里，你可以量化有多少钥匙=他们可以花多少钱，并且是异步的(相对于比特币，如果你达到一个阈值，他们可以花光所有的资金)</li><li id="4fbb" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">云计算</strong>:你可以花钱请人帮你做计算！这可以用于SETI、蛋白质折叠或遗传算法等项目。你必须建立它，这样人们就不能作弊，你必须验证他们做的都是正确的</li><li id="47ff" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">点对点赌博:这允许接近零的费用+没有能力在赌博中作弊！</li><li id="b1ff" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">预测市场:给我们一个预言，我们可以构建一个预测市场</li><li id="d809" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">连锁分散市场</strong>:以身份+信誉体系为基础</li></ul><h1 id="1f1a" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">杂记和关注:</h1><h2 id="b656" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">修改后的GHOST实现:</h2><p id="0687" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">区块链有<strong class="jp hj"> 2个问题</strong>需要<strong class="jp hj">快速确认时间</strong>。首先是<strong class="jp hj">高陈旧率</strong>——意味着你做了所有的工作来获得正确的散列——但是没有用。因为找到块很快，所以瓶颈是因为通过网络的传播。因此，许多节点最终会浪费计算，对安全性没有贡献。</p><p id="d322" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">另外还有一个<strong class="jp hj">集中化问题</strong>—<strong class="jp hj">你的矿池越大，你的计算就越有效率</strong>。这让他们比那些矿业力量较弱的公司更有优势。因此，当你把这些问题结合在一起时，快速的确认时间允许矿池垄断开采过程。</p><p id="e647" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">为了解决第一个问题，我们使用<strong class="jp hj"> GHOST </strong>，贪婪最重的观察子树。我们<strong class="jp hj">将陈旧的块包括在哪个链最应该被信任的计算中</strong>。如果一个链有更多的“叔叔”,那么它的权重会更大。</p><p id="7951" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">解决第二个问题，可以<strong class="jp hj">奖励stales </strong>(大叔块87.5%，侄子块12.5%)。但我们不奖励交易费。</p><p id="0e6e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">以太坊实现了一个<strong class="jp hj">简化鬼</strong>向下<strong class="jp hj"> 7级</strong>。看起来像是:</p><ul class=""><li id="9073" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">块将<strong class="jp hj">指定</strong>一个父级和<strong class="jp hj">0/更多的叔级</strong></li><li id="6ca1" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">叔伯必须具有</strong>的属性:当前块的第2到第7个祖先的直接子代。不能是当前块的祖先。这个叔叔在这个街区和区块链一定是独一无二的</li><li id="26e3" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">如果你<strong class="jp hj">包括一个叔叔</strong>，你将获得3.125%的新增币基<strong class="jp hj">奖励</strong>。叔叔得到93.75%</li></ul><p id="30a0" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们上升到第7代，因为如果它是无限的，有太多复杂的计算来确保叔叔是有效的，另外你可以开始激励矿工挖掘攻击者的链。</p><h2 id="66f5" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">费用:</h2><p id="bdbc" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">如果你在区块链上发布一项交易，整个网络都必须下载并验证它。有人可能会利用这一点来攻击网络，因此我们需要对其进行监管。</p><p id="4fed" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">比特币的方式只是让交易发送一笔<strong class="jp hj">可选费用</strong>给矿工(因此，如果你不包括费用，你最终会等待很长时间/永远不会让你的交易通过)。人们喜欢这一点，因为这就像有一个矿工和交易的市场，可以找到费用支付的完美平衡。</p><p id="e020" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是这个模型的问题是你没有考虑到所有其他节点也必须下载和验证它。几乎所有的计算实际上都是其他节点，而不是挖掘器。因此，你可以在这里得到一个悲剧的情况。</p><p id="f7c0" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是有一种方法可以绕过它。假设你需要做k次操作，每次操作奖励R，有N个矿工，C是每次操作的成本。当矿工在看区块时，他们可以看到他们的预期支出是kR/N，而成本是kC。</p><p id="ad1a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">因此，他们可以直接<strong class="jp hj">不去打扰</strong>在<strong class="jp hj"> kC &gt; kR/N </strong> →换句话说，区块<strong class="jp hj">将只开采R &gt; NC </strong>的区块。那就解决问题了！</p><p id="36f4" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是<strong class="jp hj">现实偏离了</strong>:</p><ol class=""><li id="9564" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki mm lp lq lr bi translated">挖掘者比验证节点付出更高的成本。因为验证需要时间，这增加了块失效的机会</li><li id="a981" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">存在非挖掘完整节点</li><li id="abf8" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">所有节点的挖掘能力并不相等</li><li id="4041" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki mm lp lq lr bi translated">攻击者仍然可以签订成本极低的合同</li></ol><p id="eed0" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">1和2相互抵消(miner包括更少的事务，但是NC增加)。但是3和4都是问题。但是我们可以通过以下方式来限制一个块可以完成的操作数:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/54fcb94c36d3381f73c1834a621dca5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Smu9icUJ-XBPrb4Q9r4V-A.png"/></div></div></figure><p id="d812" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">其中这些值随着时间不断变化。</p><p id="d01e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">此外，拥有更大的块意味着你增加了传播时间，这意味着你增加了它失效的机会。这在比特币中是个问题，但在以太坊中没那么严重，因为有幽灵协议。</p><h2 id="41e1" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">计算和图灵完备性；</h2><p id="4067" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊虚拟机<strong class="jp hj">图灵完成</strong>！为了进行循环，有一个跳转函数可以跳转到代码的前一部分(和条件跳转→ JUMPI)。并且调用其他契约，这将是一个无限循环。</p><p id="020a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">我们<strong class="jp hj">通过尽可能多的计算步骤来绕过恶意的无限循环</strong>。如果我们超过了，我们抛出一个错误，一切都被尊重。这里有几个我们可以攻击网络的场景，以及我们如何预防它:</p><ul class=""><li id="c538" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj">基本无限循环</strong>:我们只是照常还原，并收取计算费用</li><li id="f5b6" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">一个suuuuuuuppper长无限循环，只有在创建了几个块之后<strong class="jp hj">才会完成(因此块变得无效):我们只需查看STARTGAS(也就是我们正在执行的一些步骤)。如果它太长，我们就不去挖掘它了</strong></li><li id="e990" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">一种情况是我们有足够的汽油从一个账户中赚钱，但不把钱寄出去:反正已经恢复了，所以不用担心</li><li id="68b0" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">如果我们调用其他契约来聚合它的数据，并且攻击者接管了其中一个契约，然后<strong class="jp hj">将它转换成一个无限循环</strong>来返回一个错误:我们对所有消息都有一个gas限制</li></ul><p id="0088" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是图灵完全语言有什么大不了的？图灵不完全性(不允许for循环)实际上并没有那么大的限制:不能调用创建其他契约的契约(更不用说我们甚至不能判断某个东西是不是契约)。所以<strong class="jp hj">图灵不完全性只是更难实现</strong>的所有边缘情况。</p><p id="6815" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">因此，实现图灵完全语言要容易得多！</p><h2 id="a41e" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">货币和发行:</h2><p id="7f49" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">不仅仅是以太，以太还有亚单位(就像美元和美分一样):</p><ul class=""><li id="c6b1" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated"><strong class="jp hj"> 1:魏</strong> →费用及协议执行</li><li id="955a" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj"> 10 : Szabo </strong> →费用和协议实施</li><li id="9159" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">10 ⁵:芬尼 →微交易</li><li id="0f09" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj"> 10 ⁸:乙醚</strong> →正常交易</li></ul><p id="792e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated"><strong class="jp hj">发行模式</strong>为:</p><ul class=""><li id="19de" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">以太坊基金会将出售一吨以太(1000–2000 BTC)→用于支付开发+工资+投资。如果你早点买，你会得到折扣</li><li id="c0b2" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">0.099x =偿还早期出资人</li><li id="d732" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">0.099x =长期储备</li><li id="c011" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated">0.26x =永远每年发给矿工</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/3535583f33eed8713b4cb80e4134c325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ydjHvl3nRggGMR5Nk-99qQ.png"/></div></div></figure><p id="116c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">这里有一些设计选择:</p><ul class=""><li id="a5ef" class="lj lk hi jp b jq jr jt ju ld ll lf lm lh ln ki lo lp lq lr bi translated">有一个<strong class="jp hj">资金池</strong>:如果没有资金池，那么他们将被迫在那里生产更多，以匹配相同的通货膨胀率，这意味着他们得到更多的比特币→但他们宁愿持有更多的比特币</li><li id="6e23" class="lj lk hi jp b jq ls jt lt ld lu lf lv lh lw ki lo lp lq lr bi translated"><strong class="jp hj">供应量线性增长</strong>:这是为了防止比特币的过度囤积——每个人在现在和未来都有机会获得ETH。但仍有持有ETH的动机，因为增长率趋于0。但是我们还是会增加更多，因为我们会随着时间的推移失去ETH</li></ul><p id="99e5" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">ETH可能会改用<strong class="jp hj">股权证明</strong>，这将使发行利率降至每年0或0.05倍。另外，如果以太坊失去了资金或类似的东西，任何人都可以创建以太坊的未来候选版本，但他们会限制你可以生产的以太坊的数量。但是他们必须遵守社会契约。</p><h2 id="d71e" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">采矿集中化:</h2><p id="b860" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated"><strong class="jp hj">比特币</strong>，令人惊讶的是，其挖掘算法存在一些问题，导致其<strong class="jp hj">收敛到</strong> <strong class="jp hj">集中化</strong>。首先，我们有专门用于比特币 <strong class="jp hj">挖掘</strong>的<strong class="jp hj">超级专用硬件，比普通硬件快几千倍——增加了进入门槛，从而增加了集中化。</strong></p><p id="fbfc" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">此外，大多数比特币矿工甚至不会自己验证这些区块，他们依靠一个矿池来给他们所有的区块头。前3个挖掘池占用了超过50%的处理能力，因此从技术上讲，可能会尝试51%的攻击。</p><p id="a0b1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">以太坊以不同的方式来避免这些问题。以太坊需要从一个状态中抓取随机数据，计算机随机选取最后N个块中的交易，返回一个hash。</p><p id="0860" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">以太坊避免了第一个问题，因为以太坊合同中有不同的代码，因此<strong class="jp hj">你不能有超级专业的软件</strong>来处理它。我们避免了第二个问题，因为<strong class="jp hj">矿工需要在他们身上存储整个区块链</strong>，因此不需要采矿池。</p><p id="3e84" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">“因此，我们正在开发的解决方案最终是一个<strong class="jp hj">适应性经济人类解决方案</strong> <strong class="jp hj">而不是纯粹的技术解决方案</strong>”</p><h2 id="2a98" class="lx kk hi bd kl ly lz ma kp mb mc md kt ld me mf kv lf mg mh kx lh mi mj kz mk bi translated">可扩展性:</h2><p id="c018" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated"><strong class="jp hj">无论是比特币还是以太坊，可扩展性都是个大问题</strong>。比特币目前为15GB，每小时增长1MB。但是如果它处理像VISA这样的东西，它将是每3秒1MB，每小时1 GB，每年8 TB。</p><p id="8e91" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">以太坊可能会遇到同样的问题:以太坊上有如此多的应用程序(它不仅仅是一个硬币(不像比特币))，但我们只需要存储状态，而不是整个历史，这样就有点帮助了。</p><p id="6c5a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated"><strong class="jp hj">大块</strong>有什么大不了的？<strong class="jp hj">集权</strong>。如果区块链的大小是100TB，那么实际上只有少数人能够运行完整的节点。其余的将运行SPV。这意味着大节点可能真的串通作弊。SPV节点将无法检测到，直到为时已晚。在这一点上，逆转的唯一方法是光节点同意并对欺诈块进行51%的攻击。</p><p id="d39a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但是以太坊避免了这个问题。第一，<strong class="jp hj">所有节点必须是满节点</strong>。其次，在每个事务之间的<strong class="jp hj">中，我们提供了一个<strong class="jp hj">中间状态根</strong>。这样，只要有一个诚实的节点存在，它们就可以证明交易是无效的，并将其传播到网络的其余部分。</strong></p><p id="82eb" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">攻击者可以通过大量不完整的块来绕过它，但是有一个协议，在处理它之前你需要证明块是有效的[我不完全理解这一部分]</p><h1 id="5d80" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">结论:</h1><p id="ce6d" class="pw-post-body-paragraph jm jn hi jp b jq lb ij js jt lc im jv ld le jy jz lf lg kc kd lh li kg kh ki hb bi translated">以太坊是加密货币的<strong class="jp hj">升级版本，通过一种<strong class="jp hj">图灵完全编程语言</strong>允许存在<strong class="jp hj">智能合约和dapp</strong>。</strong></p><p id="0cca" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">但有意思的是，Etheruem能做的不仅仅是钱。我们可以做分散的文件存储、计算、预测市场等等！它在点对点协议之间增加了一个经济层，并帮助甚至与金钱无关的领域！</p><p id="3c40" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">以太坊是任意的状态转换函数，它可以在未来的许多年里支持金融和非金融应用<strong class="jp hj">！</strong></p></div><div class="ab cl mv mw gp mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hb hc hd he hf"><p id="dbc6" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">如果你想了解更多:阅读这里的文章！</p></div><div class="ab cl mv mw gp mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hb hc hd he hf"><p id="a664" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">感谢阅读！我是迪克森，一个18岁的加密爱好者，很高兴用它来影响数十亿人🌎</p><p id="c7dc" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv ld jx jy jz lf kb kc kd lh kf kg kh ki hb bi translated">如果你想跟随我的旅程，你可以加入<a class="ae nc" href="https://bit.ly/DicksonNewsletter" rel="noopener ugc nofollow" target="_blank">我的每月简讯</a>，查看<a class="ae nc" href="https://bit.ly/DicksonWebsite" rel="noopener ugc nofollow" target="_blank">我的网站</a>，连接<a class="ae nc" href="https://bit.ly/DicksonLinkedin" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae nc" href="https://bit.ly/DicksonTwitter" rel="noopener ugc nofollow" target="_blank"> Twitter </a>😃</p></div></div>    
</body>
</html>