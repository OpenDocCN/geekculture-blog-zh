<html>
<head>
<title>How to create a Wordle-like game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建一个类似Wordle的游戏</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-create-a-wordle-like-game-add7f2794ed7?source=collection_archive---------1-----------------------#2022-01-24">https://medium.com/geekculture/how-to-create-a-wordle-like-game-add7f2794ed7?source=collection_archive---------1-----------------------#2022-01-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/927283101b2487d2c32d5003844d2f16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FgtEz1uNC52pc41d"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@sincerelymedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sincerely Media</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="14f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我要声明，这不是试图创造一个流行游戏的副本，而是探索游戏机制，激励其他创作者自己发明游戏。本指南也是我自己对这种游戏如何实现的看法(并不是试图对原游戏进行逆向工程)</p><blockquote class="jt ju jv"><p id="a35e" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">最初的实现是有启发的，极大的执行力。<br/>由</strong>到<a class="ae iu" href="https://www.powerlanguage.co.uk/" rel="noopener ugc nofollow" target="_blank">https://www.powerlanguage.co.uk/</a></p><p id="998c" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">在这里玩原来的游戏:<a class="ae iu" href="https://www.powerlanguage.co.uk/wordle/" rel="noopener ugc nofollow" target="_blank">https://www.powerlanguage.co.uk/wordle/</a></p></blockquote></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><p id="061e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本指南将包括从React角度对游戏进行细分的以下部分:</p><ul class=""><li id="c437" class="kh ki hi ix b iy iz jc jd jg kj jk kk jo kl js km kn ko kp bi translated">字母块设置</li><li id="9b65" class="kh ki hi ix b iy kq jc kr jg ks jk kt jo ku js km kn ko kp bi translated">键盘设置</li><li id="4d7a" class="kh ki hi ix b iy kq jc kr jg ks jk kt jo ku js km kn ko kp bi translated">主要机械师</li><li id="ab9a" class="kh ki hi ix b iy kq jc kr jg ks jk kt jo ku js km kn ko kp bi translated">将结果共享为颜色块</li></ul><p id="d090" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将使用我最喜欢的工具Framer(https://framer.com)构建这个原型，它在幕后使用React。</p><h1 id="fe30" class="kv kw hi bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">字母块设置</h1><p id="0728" class="pw-post-body-paragraph iv iw hi ix b iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">为了创建块，我们需要为每个块配置一个React组件，然后为每一行配置一个。为了尽可能的动态，我们将通过一些外部数据结构来创建它们，这些数据结构在我们的游戏中会发生变化，从而确保我们的UI总是更新的。</p><p id="ac6c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的共享数据和模式保存在一个全局存储对象中，声明如下:</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Our data and scheme for the blocks</figcaption></figure><p id="cf45" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了创建一个块，我们使用一个React组件，它将包括动画、样式改变和单个字母显示的功能。</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div><figcaption class="iq ir et er es is it bd b be z dx">A single block we need 5x6 of these ;)</figcaption></figure><p id="0927" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如你所见，我们使用了Framer的自定义组件<code class="du me mf mg mh b">motion.div</code>，它只不过是一个<code class="du me mf mg mh b">framer motion</code>组件。如果你愿意，你可以把它换成普通的<code class="du me mf mg mh b">div</code>。除此之外，React组件处理显示单词结果时的<code class="du me mf mg mh b">flip</code>动画和背景变化，以及用字母填充块时的放大动画</p><p id="a91d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，让我们看看如何创建一行这样的块:</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div><figcaption class="iq ir et er es is it bd b be z dx">A single row of 5 blocks</figcaption></figure><p id="d2c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如你所见，我们遍历了一个数组<code class="du me mf mg mh b">rowData</code>参数，并为每个条目创建了一个<code class="du me mf mg mh b">Block</code>。</p><p id="bc31" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些<code class="du me mf mg mh b">rowData</code>来自这个定义:</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Blocks factory</figcaption></figure><p id="efd7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我们使用<code class="du me mf mg mh b">store.lines</code>集合来获取块的最新数据集，然后我们传递每个数组来创建一行块。</p><p id="3692" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们已经有了我们的阻塞机制，我们可以继续将数据像字母一样传递给数据集，以便让机制运行起来。</p><p id="e875" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，我们需要创建一个虚拟键盘。</p><h1 id="f91b" class="kv kw hi bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">键盘设置</h1><p id="35e3" class="pw-post-body-paragraph iv iw hi ix b iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">与之前相同的技术，我们实现了一个定制组件，它用字母呈现三行</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div><figcaption class="iq ir et er es is it bd b be z dx">A nice keyboard layout</figcaption></figure><p id="6186" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jw">注意，当“键”是</em> <code class="du me mf mg mh b"><em class="jw">DELETE</em></code> <em class="jw">时，我们渲染一个SVG图标而不是文本。</em></p><p id="e706" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里有趣的部分发生在<code class="du me mf mg mh b">onTap</code>函数上，该函数然后开始检查游戏的状态，如果输入的单词完成了和/或如果单词是正确的，它就将结果作为状态变化发布到<code class="du me mf mg mh b">globalStore</code>中，以便像<code class="du me mf mg mh b">Block</code>组件这样的其他组件可以拾取它们并重建显示新的状态。</p><p id="a4f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">把条件句一个一个地分解开来:</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/f2d86d12bd758eb8dc917f9fa35a6818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UbcI_A1iarIHv6d9Rq55DA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">guard against overflow</figcaption></figure><p id="4bc5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里我们检查我们是否在最后一列(5)并且按下的字母不是<code class="du me mf mg mh b">Enter</code>键或<code class="du me mf mg mh b">Delete</code>键，如果是，我们就返回并且不做任何防止溢出的事情。</p><p id="70cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，我们将一些起始值赋给变量，并检查单词是否有效/正确:</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/e47fbed24fa7cf9a7b4f5db62bb796b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u7jeanaqokdP60E-SMwLHQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">checking if word is valid</figcaption></figure><p id="1f18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我们用输入的字母填充<code class="du me mf mg mh b">globalStore</code>当前行</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/5941cb8b6384c5f81efa7d268b85a60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPx4HouV7AQRBBWktYtzKQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">if the word is a valid English word we store the letters</figcaption></figure><p id="9d0e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在最后一步中，我们检查是否在最后一行，以及所有字母是否正确并位于正确的位置:</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/970b6671e64f4c5c2bbf28a11e0dfc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_sTEohYppbDNN1bTw3dnhA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">if we are on the final row the user has either won or not</figcaption></figure><p id="48f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当然，如果我们没有核心机制来检查单词，以上的一切都是不可能的。</p><h1 id="9d09" class="kv kw hi bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">机械师</h1><p id="6d25" class="pw-post-body-paragraph iv iw hi ix b iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">核心机制是这样的:</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="92e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如里面的评论所描述的，我们所做的是首先对照一个大的英语单词词典来检查我们的单词，如果这个单词是一个有效的英语单词，我们就继续对照我们选择的单词来检查它的单个字母。</p><p id="3079" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们迭代并对照<code class="du me mf mg mh b">i</code>定位的<strong class="ix hj">目标字母</strong>检查<code class="du me mf mg mh b">i</code>定位的<strong class="ix hj">用户提供的字母</strong>，如果它们相同，我们将该位置保存为<code class="du me mf mg mh b">correct</code>，并继续下一个<code class="du me mf mg mh b">i</code>，因为该位置已经被覆盖。<br/>如果它们不匹配，我们进入另一个循环，在那里我们用<strong class="ix hj">目标单词</strong>上的其他字母检查<code class="du me mf mg mh b">i</code>，如果它至少匹配一个，我们将第二个循环位置<code class="du me mf mg mh b">j</code>保存为<code class="du me mf mg mh b">present</code>，因为该字母确实存在于我们的目标单词中，但它不在正确的位置上(在用户提供的单词上)。<br/>如果这些都不成立，我们将<code class="du me mf mg mh b">i</code>位置设置为<code class="du me mf mg mh b">absent</code>。</p><p id="5c30" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据<code class="du me mf mg mh b">globalStore</code>数据和<code class="du me mf mg mh b">lines</code>集合，设置所有位置并更新块后，我们得到如下结果。</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/8182cd0c49334131a5dc88245e581605.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*YjJo_veWFiSNOWrifKIJjg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">trying our the mechanic</figcaption></figure><h1 id="0d84" class="kv kw hi bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">彩色积木</h1><p id="08f3" class="pw-post-body-paragraph iv iw hi ix b iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">这款游戏之所以非常受欢迎，是因为它能够在社交媒体上以彩色盒子的形式分享每个玩家的试错“历史”。这是通过创建一串类似表情符号的字符放在一起作为字母的结果来实现的(⬜代表缺席，🟨代表出席，🟩代表正确)</p><p id="f12b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了创造这样的结果，我们再次依赖于存储在<code class="du me mf mg mh b">globalStore.lines</code>下的核心数据</p><figure class="ly lz ma mb fd ij"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="8c85" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">遍历我们的<code class="du me mf mg mh b">globalStrore.lines</code>结果，并将每个结果的<code class="du me mf mg mh b">box</code>字符存储在<code class="du me mf mg mh b">text</code>字符串中。</p><p id="9bf1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于像下面这样的游戏:</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/84d567eb5a701b876c9b5307321d2435.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*l1KVbLh3UJdUOs5S8-BCXg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">Gameplay result</figcaption></figure><p id="16d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">给了我们这样一个结果:</p><p id="3b99" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">⬜🟨🟨⬜🟩<br/>⬜🟩⬜🟨🟨<br/>⬜⬜⬜🟨🟨<br/>⬜🟩🟩🟩🟩<br/>🟩🟩🟩🟩🟩</p><h1 id="19b4" class="kv kw hi bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">最后的想法</h1><p id="270f" class="pw-post-body-paragraph iv iw hi ix b iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">我想再次表达我对这类社交游戏的极度迷恋，因为文字游戏是我最喜欢的游戏之一。所以真诚地祝贺<a class="ae iu" href="https://www.powerlanguage.co.uk/" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> powerlanguage </strong> </a>想出了它。</p><p id="1e5b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望你喜欢这个教程，如果你需要进一步的帮助，请随时给我写信。你也可以在框架不和谐(MDobs)上找到我</p><blockquote class="jt ju jv"><p id="6805" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">可以在这里播放/混音我的版本:<a class="ae iu" href="https://framer.com/projects/new?duplicate=ohWlDSwQiH9pXqGIbxfk&amp;via=netgfx" rel="noopener ugc nofollow" target="_blank">https://www . framer . com/showcase/project/538 EBR 3 itbxmcnk 7d 3 iw/</a></p></blockquote><p id="d142" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">尽情享受吧！</p></div></div>    
</body>
</html>