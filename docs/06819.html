<html>
<head>
<title>Gaming Stock Analysis With Python: Returns and Technical Indicators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python进行游戏股票分析:回报和技术指标</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/gaming-stock-analysis-with-python-returns-and-technical-indicators-ee244f0d7c36?source=collection_archive---------23-----------------------#2021-08-30">https://medium.com/geekculture/gaming-stock-analysis-with-python-returns-and-technical-indicators-ee244f0d7c36?source=collection_archive---------23-----------------------#2021-08-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="3025" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">艺电、Take Two和动视的比较分析</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/d1a04e2772b18ec173ee4ab413363c27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QgMMK2NYmfYxz3sr"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Source: <a class="ae jn" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e480" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">免责声明:<em class="kk">本文并非财务建议，仅用于教育和分析目的。</em></p><p id="53cc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kk">特别感谢何塞·波尔蒂利亚和他的Udemy</em><a class="ae jn" href="https://www.udemy.com/course/python-for-finance-and-trading-algorithms/" rel="noopener ugc nofollow" target="_blank"><em class="kk">“Python用于金融分析和算法交易”</em> </a> <em class="kk">课程，我强烈推荐给任何对金融和数据科学感兴趣的人，不管他的Python水平如何。</em></p><p id="f87f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">与其他科技行业一样，游戏类股票也受到新产品发布会、会议等的严重影响。由于新冠肺炎疫情，越来越多的人留在室内，游戏行业成为全球封锁期间的赢家之一，<a class="ae jn" href="https://venturebeat.com/2021/01/06/superdata-games-grew-12-to-139-9-billion-in-2020-amid-pandemic/" rel="noopener ugc nofollow" target="_blank">2020年收入增长12%，达到1.399亿美元。但是传统游戏巨头的股票表现如何呢？它们是如何相互竞争的？让我们来看看:</a></p><p id="5a7a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了这次分析，我选择了<strong class="jq hj">电子艺界(EA) </strong>、<strong class="jq hj">Take Two Interactive(TTWO)</strong>和<strong class="jq hj">动视暴雪(ATVI) </strong>，三家最大的游戏开发商和<a class="ae jn" href="https://www.yahoo.com/now/11-best-gaming-stocks-buy-195817383.html" rel="noopener ugc nofollow" target="_blank">市值最高的游戏股票</a>。像微软和索尼这样的公司也是该行业的领先企业，但我决定不选择它们，以便严格地在开发者之间进行比较，而不是在游戏机提供商之间。</p><p id="8cd4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">EA很可能是三个拥有热门系列的开发商中最大的名字，如<em class="kk"> FIFA、</em> <em class="kk"> Madden NFL、</em> <em class="kk">极品飞车、</em>和<em class="kk">模拟人生</em>。以Two开发的最畅销的主机游戏<em class="kk">侠盗猎车手V </em>为例，还有其他成功的特许经营，如<em class="kk">红色死亡救赎</em>和<em class="kk"> NBA 2K </em>。最后，动视暴雪，这三家公司中最有价值的，也是市值最大的开发商，负责广受欢迎的使命召唤和魔兽世界。</p><p id="bfc7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">我们的目标:</strong>通过比较这三只股票的价格趋势、收益、相关性和一些流行的技术指标来分析它们的表现。我们将导入并使用三个流行的Python库进行数据分析(numpy、pandas和matplotlib ),并使用yfinance从Yahoo Finance加载股票数据。</p><p id="dd21" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">将股票数据加载到Python: </strong></p><p id="1119" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们将用下面的代码导入库并加载2010年1月到2021年8月的EA股票数据:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="077d" class="kq kr hi km b fi ks kt l ku kv">#Importing libraries<br/>import yfinance as yf<br/>import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</span><span id="c382" class="kq kr hi km b fi kw kt l ku kv">#Loading EA's stock data into Python from Yahoo Finance<br/>ticker= "EA"<br/>EA_df = yf.download(ticker, start="2010-01-01", end="2021-08-01")<br/>EA_df</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kx"><img src="../Images/4a6f5015df40c07c996b68cfd4c5b06a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/0*c9AR6d2GKyOuyNax"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Output for EA_df</figcaption></figure><p id="c1d8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然后我们会对Take Two和Activision做同样的事情。我已经将它们的数据帧分别表示为<em class="kk"> TT_df </em>和<em class="kk"> AT_df </em>。</p><p id="cc2b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">量价分析:</strong></p><p id="c742" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，让我们一起绘制股票价格图，以比较它们的运动和增长。对于所有指标，我使用调整后的收盘价，因为我考虑到了公司行为(如股息和股票分割)，因此比收盘价更准确地代表了历史数据。为了绘制价格，我们使用:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="b935" class="kq kr hi km b fi ks kt l ku kv">#Plotting price movement over our selected time period<br/>EA_df['Adj Close'].plot(label='EA',figsize=(16,8),title='Prices')<br/>TT_df['Adj Close'].plot(label='TTWO')<br/>AT_df['Adj Close'].plot(label='ATVI')<br/>plt.legend();</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ky"><img src="../Images/10974bf17f4e472f976eada60827778f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JVR9eSKumNvwNIBc"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Price movement for the three stocks</figcaption></figure><p id="9752" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如我们所见，EA在这十年开始时是最有价值的股票，但Take Two最终在2018年赶上了它，并在2020年彻底超越了它。另一方面，动视在这十年的大部分时间里都落后于其他两家，尤其是在2017年之后。</p><p id="7619" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然而，我们还应该看看其他指标，如成交量和市值，以便对股票进行更有力的比较，因为分析师使用成交量来衡量股票的实力和需求，而市值告诉我们一个人将花多少钱来购买公司的所有股票，让我们对公司的估值有一个更清晰的了解。此外，股票分割(Activision有过六次，Take Two one和EA zero)也降低了股票价格，同时保持了市值不变。让我们来看看股票的交易量:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="4e5c" class="kq kr hi km b fi ks kt l ku kv">#Plotting volume traded<br/>EA_df['Volume'].plot(label='EA',figsize=(16,8),title='Volume Traded')<br/>TT_df['Volume'].plot(label='TTWO')<br/>AT_df['Volume'].plot(label='ATVI')<br/>plt.legend();</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kz"><img src="../Images/b04fcce2a11c92aef36e12ca823cecde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PnzYl7LENQby2kT3"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Volume traded for EA, TTWO, and ATVI</figcaption></figure><p id="90b4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">尽管价格较低，但Activison的销量在大部分时间内都超过了EA和Take Two，在2015年8月左右大幅飙升，可能是因为该公司当年在Q2的强劲业绩以及该股加入标准普尔500指数，导致该股创下历史新高。</p><p id="5194" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然而，更高的销量并不一定意味着动视比艺电更有价值。为了更好地理解估值，我们可以用股票价格乘以交易量来得到交易的总金额。这不完全是市值，但让我们看到了流入股票的真实资金。为此，我们使用以下代码:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="7ac4" class="kq kr hi km b fi ks kt l ku kv">#Calculating and plotting total money traded for each stock<br/>EA_df['Total Traded'] = EA_df['Adj Close']*EA_df['Volume']<br/>TT_df['Total Traded'] = TT_df['Adj Close']*TT_df['Volume']<br/>AT_df['Total Traded'] = AT_df['Adj Close']*AT_df['Volume']</span><span id="04f8" class="kq kr hi km b fi kw kt l ku kv">EA_df['Total Traded'].plot(label='EA',figsize=(16,8), title = 'Total Money Traded')<br/>TT_df['Total Traded'].plot(label='TTWO')<br/>AT_df['Total Traded'].plot(label='ATVI')<br/>plt.legend()<br/>plt.ylabel('Total Traded')</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es la"><img src="../Images/f8fe8c6b4c02eb336f4bd966efb1ee0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m9LmAKMf6ouqPv_U"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Total money traded for the three stocks</figcaption></figure><p id="bfd0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">动视在大部分时间内的总交易量再次较高，但每家公司都出现了关键的跳跃，尤其是EA在2019年初。当年2月8日，<a class="ae jn" href="https://docs.google.com/document/d/1n3In08MxTm80eqGdWG6tnrCN7a4qaRrn4XUMj-51vZ0/edit#" rel="noopener ugc nofollow" target="_blank"> EA股价上涨超过11%，</a>在它宣布battle royale游戏Apex Legends上线72小时即突破1000万之后。动视是交易金额最多的公司，也是本文撰写时市值最高的公司。</p><p id="38d6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">技术指标:</strong></p><p id="ff8b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">技术分析帮助交易者确定进入和退出交易的正确时间。最受欢迎的技术指标可能是简单移动平均线(SMA)，它是一段时间内价格的平均值。平滑价格波动的SMA通常与价格一起绘制，以检查价格趋势的潜在变化。两个常用的时间周期是50天均线和200天均线，用来捕捉中期和长期趋势。为了计算和绘制SMA，我们可以使用熊猫的滚动平均值，如下所示:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="5335" class="kq kr hi km b fi ks kt l ku kv">#Calculating and plotting moving averages<br/>EA_df['MA50'] = EA_df['Adj Close'].rolling(50).mean()<br/>EA_df['MA200'] = EA_df['Adj Close'].rolling(200).mean()<br/>EA_df[['Adj Close','MA50','MA200']].plot(figsize=(16,8), title = 'EA Moving Averages')</span></pre><div class="iy iz ja jb fd ab cb"><figure class="lb jc lc ld le lf lg paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/add1c2834db5e25c8aecd0313f674b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/0*pwGHvoFAq-0XwswM"/></div></figure><figure class="lb jc lh ld le lf lg paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/d87e1c606f799dafc8a608b972e39c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/0*JhCshmUrpt3IAGkd"/></div></figure><figure class="lb jc li ld le lf lg paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/d4db835395d882be31d22b54b6730868.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/0*5xuolJEWqdF3JW23"/></div><figcaption class="jj jk et er es jl jm bd b be z dx lj di lk ll">50-day and 200-day moving averages for the three companies</figcaption></figure></div><p id="9aa3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://www.investopedia.com/terms/s/sma.asp" rel="noopener ugc nofollow" target="_blank">50天均线在200天均线下方交叉表明潜在的抛售，因此股价下跌。</a>另一方面，50天均线上升到200天均线之上表明股价上涨，这两种交易模式在很大程度上都反映在所有三只股票指标的表现上。然而，尽管动视的50天SMA自2019年底以来一直高于200天SMA，但最近该股明显下跌，原因是<a class="ae jn" href="https://www.fool.com/investing/2021/08/05/why-is-everyone-talking-about-activision-blizzard/" rel="noopener ugc nofollow" target="_blank">今年7月提起的持续性骚扰诉讼</a>，危及其品牌和对游戏和电子竞技比赛的赞助。</p><p id="6073" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">另一个广受欢迎的技术指标是移动平均线收敛背离(MACD)，<a class="ae jn" href="https://www.investopedia.com/terms/m/macd.asp" rel="noopener ugc nofollow" target="_blank">，它是通过从12期(短期)均线中减去26期(长期)指数移动平均线(EMA)计算出来的。</a>均线类似于均线，但更重视最近的价格数据。通常，一条“信号线”，或9期均线，是用MACD绘制的，信号线上方的MACD交叉表示看涨势头(“看涨交叉”)，而MACD低于信号线意味着看跌信号(“看跌交叉”)。</p><p id="b1e4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在Python中使用MACD的一个简单方法是通过pandas-ta，这是一个包含100多个技术指标的pandas包。为了简单起见，我们来看看最近三个月的MACDs。我们使用下面的代码来导入库并绘制MACD和信号线(12_26_9对应于短期、长期和信号线周期，而MACD指的是信号线本身):</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="0ea0" class="kq kr hi km b fi ks kt l ku kv">#Importing pandas_ta and loading MACD data into our dataframe<br/>import pandas_ta as pta<br/>EA_macd = pta.macd(EA_df['Adj Close'])['MACD_12_26_9'].tail(63) #Number of trading days between May 1 and August 1 is 63<br/>EA_signal = pta.macd(EA_df['Adj Close'])['MACDs_12_26_9'].tail(63)<br/>pta.macd(EA_df['Adj Close'])</span><span id="73e6" class="kq kr hi km b fi kw kt l ku kv">#Plotting EA's MACD and signal line<br/>EA_macd.plot(label='EA MACD',figsize=(16,8), title = 'EA MACD')<br/>EA_signal.plot(label = 'Signal Line')<br/>plt.legend()</span></pre><div class="iy iz ja jb fd ab cb"><figure class="lb jc lm ld le lf lg paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/51efc313a80424a6564a5061e16ef29e.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/0*UegQ6r7d-sHiKCD5"/></div></figure><figure class="lb jc ln ld le lf lg paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/691a7cc080c2359bc3b3cb0001c78d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*uWTrG6hjuVLY9IXM"/></div></figure><figure class="lb jc lo ld le lf lg paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/c8423fc46cb5d5c5e58d345e322362ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/0*2P3O18N3vzMK6l73"/></div><figcaption class="jj jk et er es jl jm bd b be z dx lj di lk ll">MACDs plotted against signal lines for the three stocks</figcaption></figure></div><p id="6aa9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">有趣的是，这三只股票在这个时间段开始时都是下跌趋势，然后是看涨交叉，这三只股票都在6月15日左右出现了看跌交叉，这标志着最大的年度游戏展E3的结束。Take Two的股票尤其受到打击，在该公司提交了一个关于多样性和包容性的小组委员会，同时避免宣布任何即将推出的游戏后，该公司的股票在接下来的一周内下跌了7%。 EA和Take Two以上升趋势结束了7月，EA <a class="ae jn" href="https://www.nasdaq.com/articles/1-reason-electronic-arts-is-a-screaming-buy-2021-08-11" rel="noopener ugc nofollow" target="_blank">宣布体育特许经营<em class="kk"> Madden </em>和<em class="kk">FIFA</em>终极团队的预订量</a>增加，Take Two <a class="ae jn" href="https://www.businesswire.com/news/home/20210802005541/en/Take-Two-Interactive-Software-Inc.-Reports-Better-Than-Expected-Results-for-Fiscal-First-Quarter-2022" rel="noopener ugc nofollow" target="_blank">报告Q2收益优于预期</a>，经常性消费者支出同比增长15%。然而，在诉讼消息浮出水面后，动视的MACD继续暴跌。</p><p id="3969" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">退货分析:</strong></p><p id="a114" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当然，要想知道哪只股票在一段时间内是最好的投资，我们需要看看回报率。计算回报的公式是:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lp"><img src="../Images/83a90cab07467826c7950473a600f5c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xsH2o4o3zHomHw-b"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Formula for calculating returns (Source: <a class="ae jn" href="https://www.fool.com/knowledge-center/how-to-calculate-return-on-indices-in-a-stock-mark.aspx" rel="noopener ugc nofollow" target="_blank">The Motley Fool</a>)</figcaption></figure><p id="79c0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">首先，我们来看看日收益率，它衡量的是股票价格从一天到第二天的百分比变化。为此，我们可以像这样使用pandas的pct_change:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="a034" class="kq kr hi km b fi ks kt l ku kv">#Calculating daily return<br/>EA_df['Returns'] = EA_df['Adj Close'].pct_change(1)<br/>EA_df</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/e1f7aa7a1da4177439b6509a15416dde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ha8IWFYfpPNcJa39"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Output for EA_df (now with a “Returns” column)</figcaption></figure><p id="fbc1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了比较股票的每日收益，我们可以使用内核密度图来显示收益的分布，我们将使用以下代码来实现:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="324d" class="kq kr hi km b fi ks kt l ku kv">#Kernel density plot/estimation to compare returns<br/>EA_df['Returns'].plot(kind='kde',label='EA',figsize=(12,6), title = 'Daily Returns KDE')<br/>TT_df['Returns'].plot(kind='kde',label='Take Two')<br/>AT_df['Returns'].plot(kind='kde',label='Activision')<br/>plt.legend()</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/e47305aff376ecaf926e1e739943febc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z3bMvBNseTU6Dd8D"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Daily Returns Kernel Density Plot</figcaption></figure><p id="f81b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Activision既有最高的峰值，也有最窄的分布，这意味着它在三只股票的回报中具有最高的均值和最小的波动性，而EA的分布最广，回报波动最大。因此，从每日回报来看，动视似乎是最有吸引力的股票。</p><p id="77a2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然而，我们还想看看累积回报，即股票价格在整个时间段内的总变化，以得出更宏观的结论。在绘制回报之前，我们可以像这样使用numpy的cumprod:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="bed7" class="kq kr hi km b fi ks kt l ku kv">#Cumulative return calculations<br/>EA_df['Cumulative Return'] = (1 + EA_df['Returns']).cumprod()<br/>EA_df.head()</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/afb1e9f3628bcbf6c5429c2d87603afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kYdOSKQNTuKWpQFa"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">EA_df now with a “Cumulative Return” column</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/e4b95d9036ac8a27dd3831b9c318c27e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QTvEUhgNBS77xF0S"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Cumulative returns plot for the three stocks</figcaption></figure><p id="df13" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里，Take Two在过去四年中的累计回报率最高，在2017年初左右超过了它的两个竞争对手，而Activision在2020年末超过了EA。为什么动视，尽管是三者中最有价值的，却没有产生最高的回报？Take Two取得了巨大的财务增长，<a class="ae jn" href="https://www.forbes.com/sites/greatspeculations/2021/04/13/is-take-two-interactive-a-better-pick-over-activision-blizzard-stock/?sh=20a17db970bc" rel="noopener ugc nofollow" target="_blank">从2017年到2020年</a>其收入增长了72%，营业利润率增长了351%，而同期动视的收入和营业利润率仅增长了16%和107%。此外，<a class="ae jn" href="https://www.nasdaq.com/articles/1-reason-take-two-is-a-better-growth-stock-than-activision-blizzard-2021-06-16" rel="noopener ugc nofollow" target="_blank"> Take Two从2017年到2021年将研发支出增加了165%，导致每股自由现金流大幅增加676% </a>，而动视将研发支出增加了63%，每股自由现金流增加了69%。随着Take Two以更高的速度投资新人才，它通过更高的收入增长以及可支配现金量的更高增长，为股东创造了更好的价值。</p><p id="ea69" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在我们已经计算了回报，我们可以看看相关性，看看一只股票的回报是否受到其他股票的影响。一种方法是相关矩阵:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="2b74" class="kq kr hi km b fi ks kt l ku kv">#Creating a dataframe for our correlation matrix<br/>cumulative_df = pd.concat([EA_df['Cumulative Return'], TT_df['Cumulative Return'], AT_df['Cumulative Return']], axis = 1)<br/>cumulative_df.columns = ['EA Cum Return', 'Take Two Cum Return', 'Activision Cum Return']</span><span id="243e" class="kq kr hi km b fi kw kt l ku kv">#Calculating correlations between cumulative returns<br/>corrMatrix = cumulative_df.corr()<br/>corrMatrix.style.background_gradient(cmap = 'coolwarm')</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lu"><img src="../Images/8809108c51deb6d481eba3497aa25ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/0*EWZQEQoJGCHHUQNK"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Correlation matrix for cumulative returns</figcaption></figure><p id="2fc6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">所有三只股票的回报都有很强的相关性，相关性超过0.9。有趣的是，艺电和动视的关系最密切，这可能是因为<a class="ae jn" href="https://www.fool.com/investing/general/2014/09/08/activision-blizzard-vs-ea-which-is-a-better-buy.aspx" rel="noopener ugc nofollow" target="_blank">这两家公司在2010年代初的销售增长方面表现相似。</a></p><p id="dfc4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">关闭思路:</strong></p><p id="41c6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">尽管动视是三家公司中最有价值的(市值最高)，但Take Two为投资者带来的回报也最高，这可能是由于其强劲的财务增长。最近几个月，这三家公司在E3 2021之后都出现了下跌，而动视的价格由于7月份提起的性骚扰诉讼而继续暴跌。此外，EA和Activision在回报方面的相关性最强，这可能是由于2010年代初类似的销售业绩。</p><p id="800a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因此，Python是股票价格分析和比较的强大工具。我鼓励你利用它的库来进行你自己的分析，同时检查价格趋势背后的潜在原因的新闻来源，并且总的来说，跟上行业的发展。请查看我认为对撰写本文有帮助的资源:</p><ol class=""><li id="3695" class="lv lw hi jq b jr js ju jv jx lx kb ly kf lz kj ma mb mc md bi translated"><strong class="jq hj">何塞·波尔蒂利亚在Udemy上的</strong>课程:<a class="ae jn" href="https://www.udemy.com/course/python-for-finance-and-trading-algorithms/" rel="noopener ugc nofollow" target="_blank">用于金融分析和算法交易的Python</a></li><li id="db2b" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated"><strong class="jq hj"> Vincent Tatan的</strong><a class="ae jn" href="https://towardsdatascience.com/in-12-minutes-stocks-analysis-with-pandas-and-scikit-learn-a8d8a7b50ee7" rel="noopener" target="_blank">12分钟:Pandas和Scikit的股票分析——在<a class="ae jn" href="https://towardsdatascience.com/" rel="noopener" target="_blank">中学习</a>走向数据科学</a></li><li id="1515" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated"><strong class="jq hj">卢克·波西的</strong> <a class="ae jn" href="https://towardsdatascience.com/implementing-macd-in-python-cc9b2280126a" rel="noopener" target="_blank">用Python实现MACD</a></li><li id="bd01" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated"><a class="ae jn" href="https://technical-analysis-library-in-python.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">熊猫-ta库文档</a></li></ol><p id="d79a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">谢谢大家！</p></div></div>    
</body>
</html>