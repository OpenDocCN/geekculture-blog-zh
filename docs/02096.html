<html>
<head>
<title>JavaScript Functions for Dummies Part 2: addEventListener() &amp; first-class objects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向虚拟对象的JavaScript函数第2部分:addEventListener() &amp;一级对象</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/javascript-functions-for-dummies-part-2-addeventlistener-c3914d5b4f0d?source=collection_archive---------39-----------------------#2021-05-03">https://medium.com/geekculture/javascript-functions-for-dummies-part-2-addeventlistener-c3914d5b4f0d?source=collection_archive---------39-----------------------#2021-05-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="51cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你是从第1部分开始学习的，我们已经知道JavaScript函数可以用<em class="je">声明</em>或<em class="je">表达。</em>我们现在知道函数必须用<code class="du jf jg jh ji b">()</code>参数调用，不管参数是否已经包含在我们的函数中。但是也暗示了在没有参数的情况下调用函数<em class="je">的选项。这就是<code class="du jf jg jh ji b">addEventListener() </code>发挥作用的地方。</em></p><p id="2465" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将像以前一样使用相同的<code class="du jf jg jh ji b">greeting()</code>函数，但是这次我们将把它添加到一个表单中，当表单被提交时，我们将得到提交的名称的问候。</p><pre class="jj jk jl jm fd jn ji jo jp aw jq bi"><span id="6225" class="jr js hi ji b fi jt ju l jv jw">function greeting(name) {<br/>    alert(`Hi ${name}!`)<br/>}</span></pre><p id="2c41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我们目前的职能。我们调用<code class="du jf jg jh ji b">greeting("James")</code>,在浏览器中得到一个提示说<code class="du jf jg jh ji b">Hi James!</code>,我们可以把名字改成我们喜欢的。这太棒了！我们的功能足够动态，可以根据需要进行更改，但我们绝不会希望与我们网站交互的人直接与我们的功能进行交互。因此，让我们再次重构它，使其更加用户友好。</p><figure class="jj jk jl jm fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jx"><img src="../Images/f3e7d7cc121f809da84ac8d0872b7c74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QE5GI_ncj8ofl3K8SEh-Cw.png"/></div></div></figure><p id="9e96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更现实的是，我们的网站将有一个输入字段供人们互动。为了模仿这一点，我制作了一个超级简单的表单，在<a class="ae jd" href="https://codepen.io/jbondeson19/pen/gOgVrXa" rel="noopener ugc nofollow" target="_blank"> codepen.io </a>上有一个输入和按钮，来演示它可能的样子。我们有一个输入字段来输入姓名，还有一个提交按钮来确认姓名已提交到我们的简单表单。</p><p id="dfc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">理论上，我们希望发生的是，我们提交任何我们想要的名字，我们将得到一个警告，就像我们对上面的函数所做的一样。让我们修改我们的代码，使其更加用户友好。</p><h1 id="5b81" class="kf js hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">addEventListener()</h1><p id="a13b" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">JavaScript提供了大量可以在浏览器中使用的预置方法，其中之一就是<code class="du jf jg jh ji b">addEventListener()</code>，我们将用它来帮助我们的用户与JavaScript交流。</p><blockquote class="lh li lj"><p id="3b4f" class="if ig je ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">“等等，有什么方法？这和函数有什么不同？”</p></blockquote><p id="ffd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很高兴你问了！函数是存储的代码块，用于执行JavaScript中的任务。方法也是函数，但是它们存储为<em class="je">对象属性。</em><em class="je">JavaScript中所有的</em>对象都有<a class="ae jd" href="https://www.tutorialspoint.com/javascript/javascript_builtin_functions.htm" rel="noopener ugc nofollow" target="_blank">预先建立的方法</a>。我们甚至可以自己做。但是<code class="du jf jg jh ji b">addEventListener()</code>是让生活变得更容易的预设方法之一。下面，我们可以看到如何用<code class="du jf jg jh ji b">addEventListener()</code>和<code class="du jf jg jh ji b">getElementById()</code>调用一个对象方法。首先，识别正在使用的对象(在我们的例子中是“文档”)，然后用<code class="du jf jg jh ji b">.</code>调用方法。方法仍然只是函数，正如我们在<code class="du jf jg jh ji b">getElementById()</code>中看到的，它接受一个字符串参数。记住，参数是函数的参数值。</p><p id="7e48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么<code class="du jf jg jh ji b">addEventListener()</code>是如何工作的，这与我们最初的<code class="du jf jg jh ji b">greeting()</code>功能有什么关系呢？</p><figure class="jj jk jl jm fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ln"><img src="../Images/b97dc344836ab5d4010c4c1f019be940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Enm00-j0228cOe2_m_4tZA.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Codepen.io</figcaption></figure><p id="12a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们分析一下第9行发生了什么。<code class="du jf jg jh ji b">nameSbmt</code>是我们创建的一个变量，正如我们所建立的那样<code class="du jf jg jh ji b">addEventListener()</code>是一个预先建立的方法，它接受两个参数。第一个参数是我们想要操作的事件的字符串。<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/Events" rel="noopener ugc nofollow" target="_blank">这里的</a>是所有可以修改的JavaScript事件的引用。第二个参数是您希望该事件做什么。我们希望事件发送一个警告，提醒用户输入他们的名字。那么，为什么我们现在不加参数地调用<code class="du jf jg jh ji b">greeting</code>？函数不是只有用<code class="du jf jg jh ji b">()</code>调用才有效的规则吗？这是其中一个例外！如果我们包含了参数并调用了<code class="du jf jg jh ji b">greeting()</code>，JavaScript会让<em class="je">立即</em>触发那个函数，根本不会注册用户的任何输入，它会加载页面并立即看到<code class="du jf jg jh ji b">greeting()</code>被调用并立即触发它。就应该这样！但我们不希望这种情况发生。我们希望等待使用<code class="du jf jg jh ji b">greeting()</code>,直到我们的用户输入他们的名字，然后单击“提交”。所以在我们的方法<code class="du jf jg jh ji b">addEventListener()</code>中，我们将<code class="du jf jg jh ji b">greeting</code>作为一个<strong class="ih hj">对象</strong>来调用。由于JavaScript的性质，所有函数都被认为是一级对象，这意味着函数可以存储在变量或对象中，因此表现得像对象一样。还记得我们在《T21》第一部中的第一个表达吗？</p><pre class="jj jk jl jm fd jn ji jo jp aw jq bi"><span id="bb0f" class="jr js hi ji b fi jt ju l jv jw">let greeting = function() {<br/>      alert("Hi James!")<br/>}</span></pre><p id="8461" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们创建了一个新变量<code class="du jf jg jh ji b">greeting</code>。但是要调用这个函数，我们必须包含参数。然而，在JavaScript中它仍然被认为是一个对象<em class="je">。这就是我们在<code class="du jf jg jh ji b">addEventListener()</code>中呼吁的。即使我们在codepen.io示例中将greeting编写为声明性函数，它仍然将<code class="du jf jg jh ji b">greeting</code>存储为对象。所以现在当我们调用<code class="du jf jg jh ji b">addEventListener</code>时，JavaScript看到<code class="du jf jg jh ji b">greeting</code>的<em class="je">对象</em>，其中存储了一个函数，并对自己说</em></p><blockquote class="lh li lj"><p id="84d3" class="if ig je ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">“好的，一旦有人点击“提交”<strong class="ih hj">，我们将执行存储在<code class="du jf jg jh ji b">greeting</code>中的函数，但在此之前不会执行。</strong></p></blockquote><p id="0671" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个微小而微妙的区别，但是理解函数和它们与对象的关系是让JavaScript工作的关键<strong class="ih hj">。<strong class="ih hj">所有函数都是JavaScript中的一级对象。这意味着我们可以像对待其他数据类型(字符串、整数、数组等)一样对待我们的函数。).</strong></strong></p><p id="562d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您注意到了，我还删除了我们的问候函数中的<code class="du jf jg jh ji b">(name)</code>参数。这是因为如果我们在addEventListener中输入名称的值，它会尝试在页面加载时立即触发<code class="du jf jg jh ji b">greeting</code>函数。所以我们移动了一些东西，正如我们看到的，现在JavaScript告诉自己</p><blockquote class="lh li lj"><p id="ad21" class="if ig je ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">好的，我已经存储并保存了所有这些信息，我有一个表单，并且我知道当它被交互时我想要如何响应表单。每当有人在输入框中输入他们的名字，一旦他们点击“提交”按钮，我将向他们的屏幕发送一个提示，告诉他们“嗨”以及他们输入的任何值作为他们的名字。</p></blockquote><p id="6c7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JavaScript是一种非常酷的动态语言，我相信有很多其他方法可以做到这一点。但重要的是知道什么是一级对象，知道函数和方法之间的区别，知道如何让我们的函数与我们在站点中创建的对象进行交互。这需要一些练习，但随着时间的推移，它将有助于减少修复错误的时间，我保证！编码朋友们快乐！</p></div></div>    
</body>
</html>