<html>
<head>
<title>Creating and Embedding Interactive Scatter Plots using Plotly Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Plotly Express创建和嵌入交互式散点图</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/using-plotly-express-to-create-interactive-graphs-of-the-greatest-scorers-in-nba-playoff-history-3f0cc085d933?source=collection_archive---------36-----------------------#2021-06-15">https://medium.com/geekculture/using-plotly-express-to-create-interactive-graphs-of-the-greatest-scorers-in-nba-playoff-history-3f0cc085d933?source=collection_archive---------36-----------------------#2021-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="19ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Plotly Express、Python和Pandas一步步绘制NBA历史上领先的季后赛得分王。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b867a2a675ed749f482ead6c2788d6eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ls3EdFnCqnnQD6iSm-Hfg.jpeg"/></div></div></figure><p id="6f82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jp translated">在处理数据时，创建视觉上吸引人的图表是传达信息的重要部分。具有易于区分的点/线、有用的图例以及缩放和悬停(仅举两个例子)等交互功能的图形比没有这些的图形更具信息量和用户友好性。</p><p id="89c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然有一些方法可以做到这一点，但我发现了一个我觉得非常简单而强大的方法:<a class="ae jy" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"> Plotly Express </a>。<strong class="ih hj">在这篇文章中，我将使用Plotly、Python和Pandas创建(并嵌入)NBA历史上领先的季后赛得分者的交互式图表。</strong></p><p id="8c98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看几个简单的例子。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="2d05" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">步骤1:检索数据</h2><p id="3924" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">在本文中，我不打算展示我用来调用API和创建DataFrame的代码，<strong class="ih hj">但是我强烈建议您</strong> <a class="ae jy" href="https://github.com/wmblack23/NBA-Playoff-Leading-Scorers-Interactive-Jupyter-ScatterPlot/blob/main/Playoff%20Points%20Leaders.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">访问我的GitHub库</strong> </a> <strong class="ih hj">并亲自查看笔记本</strong>。它被注释掉了，很容易理解。</p><blockquote class="lg lh li"><p id="feda" class="if ig lj ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">Y <!-- -->您也可以<a class="ae jy" href="https://github.com/wmblack23/NBA-Playoff-Leading-Scorers-Interactive-Jupyter-ScatterPlot/raw/main/Playoff%20DataFrame.xlsx" rel="noopener ugc nofollow" target="_blank">下载Excel文件</a>，其中包含我在本文中使用的所有NBA季后赛数据，然后按照提供的代码一步一步地操作。</p></blockquote><h2 id="74a8" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">步骤2:加载和组织数据</h2><p id="ff40" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">导入我们的库:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="4f5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将我们的Excel文件加载到熊猫数据框架中:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">Creating our DataFrame and renaming column ‘0’: ‘Player Name’.</figcaption></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lt lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">Interactive DataTable for all players who have played in the NBA postseason</figcaption></figure><p id="61ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还想添加第四列——“季后赛PPG”(每场比赛的得分):</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">Adding column ‘Playoff PPG’</figcaption></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lt lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">DataTable sorted by ‘Playoff Points Scored’</figcaption></figure><h2 id="3eff" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">步骤3:绘制图表的时间</h2><p id="c108" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">使用Plotly创建散点图:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">Creating a simple Plotly scatter plot</figcaption></figure><ul class=""><li id="941a" class="lu lv hi ih b ii ij im in iq lw iu lx iy ly jc lz ma mb mc bi translated"><strong class="ih hj">数据帧</strong> —设置为等于我的数据帧:“播放数据帧”</li><li id="b6b4" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj">x</strong>—x轴的值:“已进行的季后赛比赛”。数据框架中的列。</li><li id="8912" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj">y</strong>—y轴的值:“季后赛得分”。数据框架中的列。</li><li id="bf25" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj">标题</strong> —为情节设置标题。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lt lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx"><a class="ae jy" href="https://datapane.com/u/wmblack23/reports/nba-playoff-scoring-all-players" rel="noopener ugc nofollow" target="_blank">https://datapane.com/u/wmblack23/reports/nba-playoff-scoring-all-players</a></figcaption></figure><p id="39ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还不错！</p><p id="47a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将鼠标悬停在图上的任意一点上，我们可以看到该点对应的季后赛点数和比赛数。这是一个有用的特性——但是如果当我们将鼠标悬停在某个点上时，还能看到玩家的名字，那就更有用了。*提示，提示。*</p><p id="83a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以在图形的任何点上单击并拖动(创建一个矩形)来放大。这在这样一张有如此多的点聚集在一起的图表上尤其有用。</p><h2 id="4ff4" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated"><strong class="ak">添加视觉特征</strong></h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">Adding visual features to our scatter plot</figcaption></figure><ul class=""><li id="4949" class="lu lv hi ih b ii ij im in iq lw iu lx iy ly jc lz ma mb mc bi translated"><strong class="ih hj">大小</strong> —我们指定“季后赛得分”列来告诉我们的图表，使季后赛总得分较高的球员得分较大，而季后赛总得分较低的球员得分较小。</li><li id="eb60" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj">模板</strong> — Plotly有一些模板选项来设计你的情节(包含在GitHub repo中)。我喜欢白色背景。</li><li id="6a9f" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj">颜色</strong> —我们为颜色变量指定“季后赛PPG”。这意味着我们将为具有相似“季后赛PPG”值的分数赋予相似的颜色。</li><li id="b595" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj"> Size_max </strong> —图上任意点的最大尺寸。</li><li id="0130" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj"> Hover_name </strong> —现在，当我们悬停在一个点上时，我们会看到“玩家姓名”作为第一个值。</li><li id="3019" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj"> Hover_data </strong> —在我们的Hover_data中包含“季后赛PPG”，这样我们就可以看到它和“球员姓名”以及我们的x和y值。</li><li id="2ba4" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated">我选择“Jet”作为我的<strong class="ih hj">色标</strong>。<a class="ae jy" href="https://plotly.com/python/builtin-colorscales/" rel="noopener ugc nofollow" target="_blank">更多在此</a>。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lt lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx"><a class="ae jy" href="https://datapane.com/u/wmblack23/reports/nba-playoff-scoring-adding-features" rel="noopener ugc nofollow" target="_blank">https://datapane.com/u/wmblack23/reports/nba-playoff-scoring-adding-features</a></figcaption></figure><blockquote class="lg lh li"><p id="9da5" class="if ig lj ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">通过将颜色设置为“PPG ”,大小设置为“总点数”,我们甚至不需要使用缩放和悬停功能就可以轻松进行观察。</p></blockquote><h2 id="99f3" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated"><strong class="ak">前200名—附加功能</strong></h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">Adding statistical features to our scatter plot</figcaption></figure><ul class=""><li id="5a68" class="lu lv hi ih b ii ij im in iq lw iu lx iy ly jc lz ma mb mc bi translated"><strong class="ih hj">趋势线</strong>—‘ols’:普通最小二乘回归线。这允许我们对我们的数据进行进一步的观察。哪些球员的得分高于、低于或达到了他们打了多少场季后赛的预期分数？试着悬停在回归线上！</li><li id="fd69" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj"> Add_hline </strong> —添加一条水平线，代表前200名得分者的季后赛得分中位数。</li><li id="b4f9" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated"><strong class="ih hj"> Add_vline </strong> —添加一条垂直线，代表前200名得分者参加的季后赛比赛的中位数。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lt lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx"><a class="ae jy" href="https://datapane.com/u/wmblack23/reports/top200-regression-and-more" rel="noopener ugc nofollow" target="_blank">https://datapane.com/u/wmblack23/reports/top200-regression-and-more</a></figcaption></figure><p id="c3af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">两个“add_line”功能，如上面的趋势线，允许我们对玩家进行额外的观察:</p><ul class=""><li id="b76f" class="lu lv hi ih b ii ij im in iq lw iu lx iy ly jc lz ma mb mc bi translated">在右下象限的丹尼斯·罗德曼，比这个名单上的平均球员打了更多的季后赛，但平均只有6.4次PPG，所以他的得分远低于中位数。</li><li id="d131" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated">同样，在左上方，与前200名(29.73 PPG)相比，阿伦·艾弗森的得分高于平均水平，但他的比赛次数明显低于平均水平，所以他在比赛中位于中线的左侧。</li></ul><p id="2ebd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那些在右上象限的球员，与前200名的其他球员相比，以高于平均水平的速度出现和生产的球员，都是目前或未来的顶级NBA巨星；<strong class="ih hj">尤其是那些也落在回归线以上的。</strong></p><p id="04ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实上，如果我们想更仔细地看看谁组成了NBA季后赛得分王的超级精英群体，我们可以通过以下方式来实现:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lt lo l"/></div><figcaption class="lp lq et er es lr ls bd b be z dx">The most elite group of playoff performers in NBA history</figcaption></figure><p id="eeb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些球员<strong class="ih hj">参加了更多的季后赛比赛</strong> ( &gt; 118)和<strong class="ih hj">获得了更多的季后赛分数</strong> ( &gt; 1959)超过了前200名季后赛得分王的平均分数<strong class="ih hj">超过了我们对OLS趋势线</strong>的预测。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="d16a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你像我在这里做的一样，对学习如何使用<a class="ae jy" href="https://datapane.com/" rel="noopener ugc nofollow" target="_blank">数据面板</a>嵌入表格和可视化感兴趣，我鼓励你<a class="ae jy" href="https://towardsdatascience.com/how-to-embed-interactive-charts-on-your-medium-articles-and-website-6987f7b28472" rel="noopener" target="_blank">看看这篇有用的文章</a>。</p><p id="1ba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用DataPane嵌入是一个非常方便且易于使用的特性，有助于读者更容易访问您的数据。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="02eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读！</p><p id="6ea2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看文章顶部的GitHub链接了解更多信息。</p><p id="6961" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">迈克尔·布莱克</p></div></div>    
</body>
</html>