<html>
<head>
<title>List View class</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">列表视图类</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/list-view-class-f307e6c0d8e?source=collection_archive---------10-----------------------#2021-08-19">https://medium.com/geekculture/list-view-class-f307e6c0d8e?source=collection_archive---------10-----------------------#2021-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1d54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在flutter中显示listview.builder中的项目</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/e9ddd131792d8c25d949434eb4f2fa19.png" data-original-src="https://miro.medium.com/v2/resize:fit:622/format:webp/1*a8ZCDaOndfE9YM4nwRUA5g.png"/></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h2 id="8e2d" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">介绍</h2><p id="65d7" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">线性排列的可滚动部件列表，它沿着滚动方向一个接一个地显示其子部件。在横轴上，孩子们被要求填写<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank">列表视图</a>。</p><p id="51be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有四种方法可以构造列表视图</p><ul class=""><li id="3e46" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated"><a class="ae ks" href="https://api.flutter.dev/flutter/dart-core/List-class.html" rel="noopener ugc nofollow" target="_blank">列表&lt;小部件&gt; </a>这是默认设置，它适用于具有少量子视图的列表视图，因为构建<a class="ae ks" href="https://api.flutter.dev/flutter/dart-core/List-class.html" rel="noopener ugc nofollow" target="_blank">列表</a>需要为列表视图中可能显示的每个子视图做工作，而不仅仅是那些实际可见的子视图。</li><li id="d9bb" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html" rel="noopener ugc nofollow" target="_blank"> ListView.builder </a>是一个合适的大而无限的子。它采用IndexedWidgetBuilder，按需构建子节点。</li><li id="e0b0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.separated.html" rel="noopener ugc nofollow" target="_blank"> ListView.separated </a>接受两个IndexedWidgetBuilders: <code class="du lh li lj lk b">itemBuilder</code>按需构建子项，<code class="du lh li lj lk b">separatorBuilder</code>同样构建出现在子项之间的分隔符子项。此构造函数适用于子元素数量固定的列表视图。</li><li id="d076" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.custom.html" rel="noopener ugc nofollow" target="_blank"> ListView.custom </a>提供定制子模型附加方面的能力。例如，SliverChildDelegate可以控制用于估计实际上不可见的子级大小的算法。</li></ul><p id="ebe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们将使用listView.builder构造函数来显示来自API的列表</strong></p><p id="7e19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从您的API获取数据，在我的情况下，我将从媒体端点检索数据。将您的用户名编辑为中等用户名。注意:你可以使用任何端点，这只是一个例子。</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="c32d" class="js jt hi lk b fi lp lq l lr ls">const BLOG_API =</span><span id="6a70" class="js jt hi lk b fi lt lq l lr ls">'https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@yourusername';</span></pre><p id="03d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤1:从介质/端点获取数据。apiProvider.dart</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="cf01" class="js jt hi lk b fi lp lq l lr ls">import 'dart:convert';</span><span id="1fe6" class="js jt hi lk b fi lt lq l lr ls">import 'package:portfolio/application/theme/config.dart';<br/>import 'package:http/http.dart' as http;</span><span id="3c29" class="js jt hi lk b fi lt lq l lr ls">const BLOG_API =<br/>    '<a class="ae ks" href="https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@mercyjemosop'" rel="noopener ugc nofollow">https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@mercyjemosop'</a>;</span><span id="1e58" class="js jt hi lk b fi lt lq l lr ls">class ApiProvider {<br/>  Future getBlogs() async {<br/>    final response = await http.get(Uri.parse(Constants.BLOG_API));<br/>    if (response.statusCode == 200) {<br/>      var data = response.body;<br/>      return jsonDecode(data);<br/>    } else {<br/>      return response.statusCode;<br/>    }<br/>  }<br/>}</span></pre><p id="5e08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将http包添加到您的pubspec.yaml中，查看其文档中的最新版本。</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="0c5a" class="js jt hi lk b fi lp lq l lr ls">http: ^0.13.3</span></pre><h2 id="d156" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">步骤2:在我们的应用程序中提供来自API的数据/响应</h2><p id="cf86" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">创建getMediumData()方法，该方法调用ApiProvider类中的getBlogs()方法，该类包含来自medium的响应/数据。</p><p id="6a72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">若要调用方法，首先要创建类的一个实例</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="3bc3" class="js jt hi lk b fi lp lq l lr ls">ApiProvider apiProvider = ApiProvider();</span></pre><p id="e87f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，使用该实例，您可以访问该方法</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="24d4" class="js jt hi lk b fi lp lq l lr ls">var mediumData = await apiProvider.getBlogs();</span></pre><p id="2b58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了理解如何从API中检索特定数据，下面是一个结构示例</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es lu"><img src="../Images/45459c5293f98177137f02a3e1acd408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bf82h_uUjiH8Y-cM27DIyg.png"/></div></div></figure><p id="2cfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的主要兴趣，是其中包含的项目，标题，链接到页面，博客文章图像(缩略图)。去取那些东西</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="cb3c" class="js jt hi lk b fi lp lq l lr ls">/// get the first image in the array<br/>imageUrl = mediumData['items'][0]['thumbnail'];<br/>/// get all items<br/>itemsList = mediumData['items'];<br/>/// get title in an array<br/>mediumData['items'][i]['title']<br/>/// get the author<br/>mediumData['items'][i]['author'],</span></pre><p id="2361" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了使这些数据在我们的小部件中可用而无需点击任何东西，我们将把该方法添加到initState()，这将在用户不手动调用它的情况下被调用。</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="c803" class="js jt hi lk b fi lp lq l lr ls"><a class="ae ks" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  void initState() {<br/>    super.initState();<br/>    getMediumData();<br/>  }</span></pre><p id="d431" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要从我们的小部件显示url，请将启动器包添加到pubspec.yaml</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="022e" class="js jt hi lk b fi lp lq l lr ls">url_launcher: ^6.0.9</span></pre><p id="79fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤3:现在我们在listview.builder中显示我们的数据</p><p id="a4af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个按需创建的可滚动的线性小部件阵列。提供一个非空的<code class="du lh li lj lk b">itemCount</code>提高了<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank">列表视图</a>估计最大滚动范围的能力。只有索引大于或等于零且小于<code class="du lh li lj lk b">itemCount</code>时，才会调用<code class="du lh li lj lk b">itemBuilder</code>回调。<code class="du lh li lj lk b">itemBuilder</code>应该总是返回一个非空的小部件，并在被调用时实际创建小部件实例。避免使用返回先前构建的小部件的构建器。阅读更多关于<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html" rel="noopener ugc nofollow" target="_blank"> listview builder </a>的内容。</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="8157" class="js jt hi lk b fi lp lq l lr ls">/// listview builder basic format<br/>final List&lt;String&gt; entries = &lt;String&gt;['A', 'B', 'C'];<br/>final List&lt;int&gt; colorCodes = &lt;int&gt;[600, 500, 100];<br/><br/>ListView.builder(<br/>  padding: const EdgeInsets.all(8),<br/>  itemCount: entries.length,<br/>  itemBuilder: (BuildContext context, int index) {<br/>    return Container(<br/>      height: 50,<br/>      color: Colors.amber[colorCodes[index]],<br/>      child: Center(child: Text('Entry ${entries[index]}')),<br/>    );<br/>  }<br/>);</span></pre><p id="baf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记住上面的知识，让我们在小部件中添加一个listview</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lz ma l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/92f7498486151444fbb6e9c78459ff5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*kME3XgkbRPWMfeqdyLnQ7w.png"/></div><figcaption class="mc md et er es me mf bd b be z dx">This is the output</figcaption></figure><p id="be5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些项目是可滚动的。如果您希望它们在水平方向滚动。</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="a003" class="js jt hi lk b fi lp lq l lr ls">/// add this property inside ListView.builder</span><span id="db17" class="js jt hi lk b fi lt lq l lr ls">scrollDirection: Axis.horizontal,</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mg"><img src="../Images/bbea269c591b8de7d9826dd6ddbeb2de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3X2-spilWaChnQ-ikNg2nw.png"/></div></div></figure><h2 id="f297" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">让我们在应用程序中添加一个搜索和过滤器</h2><p id="ea14" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><strong class="ih hj">第一步:设计一个文本字段</strong></p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="bee0" class="js jt hi lk b fi lp lq l lr ls">/// initialize your controller<br/>TextEditingController editingController = TextEditingController();</span><span id="eb4c" class="js jt hi lk b fi lt lq l lr ls">child: TextField(<br/> onChanged: (value) {<br/>   setState(() {<br/>     searchTerm = value;<br/>   });<br/> },<br/> controller: editingController,<br/> decoration: InputDecoration(<br/>     labelText: "Search",<br/>     hintText: "Search",<br/>     fillColor: Colors.white,<br/>     filled: true,<br/>     prefixIcon: Icon(Icons.search),<br/>     border: OutlineInputBorder(<br/>  borderRadius: BorderRadius.all(Radius.circular(25.0)))),<br/>),</span></pre><p id="4d5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果Controller为空，则返回所有项目(您没有在文本字段中键入任何内容)。</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="ea65" class="js jt hi lk b fi lp lq l lr ls">editingController.text.isEmpty</span></pre><p id="2937" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅返回包含键入值的项目</p><pre class="je jf jg jh fd ll lk lm ln aw lo bi"><span id="01ea" class="js jt hi lk b fi lp lq l lr ls">mediumData['items'][i]['title']<br/>.toLowerCase()<br/>.contains(editingController.text)</span></pre><p id="3422" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完全码</p><p id="4f88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae ks" href="https://gist.github.com/mercykip/72e398505fecd3221eaba4ba7b01b170" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/mercykip/72e 398505 fecd 3221 ea B4 ba 7 b 01 b 170</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mh"><img src="../Images/2a916bf81f62665fbe05891327d4f51c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*yIzcGrfzuu46T-StGDeEUQ.png"/></div></figure><p id="eadc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就这么简单。<a class="ae ks" href="https://github.com/mercykip/flutter_portfolio" rel="noopener ugc nofollow" target="_blank">这里是我的GitHub回购供参考</a></p><p id="eca7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编码快乐！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</p></div></div>    
</body>
</html>