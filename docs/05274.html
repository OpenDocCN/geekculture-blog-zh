<html>
<head>
<title>The Complete Customer Data Stack: Data Validation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完整的客户数据堆栈:数据验证</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-complete-customer-data-stack-data-validation-dd9a240102b8?source=collection_archive---------31-----------------------#2021-07-16">https://medium.com/geekculture/the-complete-customer-data-stack-data-validation-dd9a240102b8?source=collection_archive---------31-----------------------#2021-07-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1cbd723c26839a07bf3678a543fdd09c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pux1L3Rse-ESY88fBUNSzw.png"/></div></div></figure><h1 id="4829" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">处理杂乱的客户数据</h1><p id="1a55" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">如果你和客户数据打交道，你就知道它很乱。不仅有许多数据来源(手机、网络等。)，但是随着产品的成长和发展，客户数据也会发生变化。虽然进展对业务有益，但它也给负责向下游团队和系统交付干净数据的工程师带来了独特的挑战。</p><p id="ee6c" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">当脏数据顺流而下时，就会造成严重破坏。客户收到了错误的电子邮件，营销报告被破坏。2017年，<a class="ae kr" href="https://www.gartner.com/smarterwithgartner/how-to-create-a-business-case-for-data-quality-improvement/" rel="noopener ugc nofollow" target="_blank"> Gartner的研究</a>确定，脏数据造成了1500万美元的年度损失，而且这一数字自那以来肯定没有下降过。</p><p id="4da0" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">数据工程师的角色至关重要，但数据验证是一个难题，尤其是在日益复杂的数据堆栈环境中。</p><p id="fdee" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在本帖中，我们将确定数据验证的常见挑战，并向您展示RudderStack如何使它成为您工作流程中的一个平稳步骤。</p><h1 id="6c3e" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">分解挑战</h1><h1 id="9076" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">对事件数据中预定义模式的更改</h1><p id="b77b" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">数据工程师必须确保从构成单个事件模型的所有不同组件、平台和软件发送的事件数据符合预定义的模式。这确保了下游的一切都按预期工作。</p><p id="54ce" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">通常，使用数据的分析和数据科学团队需要定义这个模式。通常，他们会使用电子表格来维护它。他们将与数据工程师和为事件流编写代码的开发人员共享这些电子表格。</p><p id="2da2" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这种工作流程适用于简单的小规模项目，但快速发展的公司或大公司必须处理更复杂的问题。不可避免地，决策会产生不符合模式的数据。考虑这些场景:</p><ul class=""><li id="a223" class="ks kt hi jq b jr km jv kn jz ku kd kv kh kw kl kx ky kz la bi translated"><strong class="jq hj">该企业收购了另一家公司。</strong>新公司的客户数据模式有所不同，但销售、营销和支持部门仍然需要尽快将这些数据纳入他们的工具中。通常根本没有足够的时间来重做整个验证工作流程。</li><li id="d759" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><strong class="jq hj">营销实现新工具，不涉及数据工程</strong>。突然，管道正在发送“无效”数据，而这些数据实际上对下游团队至关重要。</li></ul><h1 id="2093" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">为了兼容性而牺牲完整性</h1><p id="aaf2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">如果所有的事件数据都存在于每一个下游工具中，对于数据工程师来说，这将会简化很多事情。但是在现实世界中，每个目的地都是不同的，许多下游工具不会接受有效载荷的每个部分。</p><p id="a0ba" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这意味着要进行权衡。为了成功地将它们发送到特定的下游目的地，通常你必须从有效载荷中丢弃或修改属性或特征。</p><p id="efc5" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这里一个主要的考虑是保持原始的有效载荷。在许多情况下，您会希望保留一份原始有效负载的副本，以作为“真相来源”参考，而不是查看由下游工具解释的真相版本。</p><h1 id="baf1" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">确定脏数据不符合的原因并解决根本问题</h1><p id="e9cd" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">也许数据验证最具挑战性的部分是理解数据变脏的原因和方式，然后从根本上解决问题。</p><p id="fb13" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">您需要一个捕获脏数据的机制，一个无模式的存储/死信队列，它允许您访问和分析脏数据。理想情况下，你还会利用一个警报系统来帮助你避免堆积。因为当数据出现问题，事件开始堆积，下游后果变得更糟，清理时间增加。</p><h1 id="f5e8" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">RudderStack的API使得数据验证更加容易</h1><p id="7531" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我们与客户密切合作，构建了两个使数据验证更容易的API。</p><p id="e2e3" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">首先是我们的<strong class="jq hj">数据治理API </strong>。它能够详细观察通过管道的每个模式。很快，我们还将发布允许您定义模式、验证事件以及阻止或丢弃不符合要求的有效负载的特性。</p><p id="58be" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">其次是我们的<strong class="jq hj">转换API </strong>。它使得为下游系统修改有效负载就像编写JavaScript函数一样简单。</p><p id="fea0" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这两个API都被设计成适合您现有的CI/CD工作流并利用git。让我们深入细节。</p><h1 id="6033" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">数据治理API</h1><p id="c89c" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">RudderStack为您提供了不同的模式版本，您可以根据系统中的每个事件模型进行观察。我们计算通过的每个事件的事件模式，并以结构化的方式编译它们，您可以通过我们的<a class="ae kr" href="https://docs.rudderstack.com/rudderstack-api-spec/rudderstack-data-governance-api" rel="noopener ugc nofollow" target="_blank">数据治理API </a>访问它们。</p><p id="6fed" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">每当给定事件模型出现上述任何问题时，都会生成一个新的模式版本以及各种见解，例如:</p><ul class=""><li id="9aee" class="ks kt hi jq b jr km jv kn jz ku kd kv kh kw kl kx ky kz la bi translated">每个模式的总计数</li><li id="c527" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">用该模式捕获的几个示例事件</li><li id="5a7a" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">常见值及其频率</li></ul><p id="60a9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这允许您快速识别问题，并帮助您做出元数据驱动的决策。</p><h2 id="bcb4" class="lg ir hi bd is lh li lj iw lk ll lm ja jz ln lo je kd lp lq ji kh lr ls jm lt bi translated">例如</h2><p id="9ec0" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">只要event_model的名称发生变化，就会生成一个新的事件模型，并通过<a class="ae kr" href="https://docs.rudderstack.com/rudderstack-api-spec/rudderstack-data-governance-api#schemas-event-models" rel="noopener ugc nofollow" target="_blank">事件模型API </a>提供。</p><p id="8460" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">使用相同的event_model名称，如果您最终对来自两个不同检测源的列使用不同的大小写，则会生成一个新的模式版本，并可通过<a class="ae kr" href="https://docs.rudderstack.com/rudderstack-api-spec/rudderstack-data-governance-api#schemas-event-versions" rel="noopener ugc nofollow" target="_blank"> Event Versions API </a>获得。</p><p id="9b59" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> Pro Tip: </strong>设置一个警报或cron，通过轮询数据治理API来报告/跟踪RudderStack观察到的任何新的事件模型或模式版本，这样您就可以掌握观察到的数据变化。</p><p id="9b36" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">想要在一个地方获得所有数据平面的模式版本，以了解当前有多少个版本是活动的？查看来自<a class="ae kr" href="https://github.com/davecook88" rel="noopener ugc nofollow" target="_blank"><em class="lu"/></a><em class="lu">的<a class="ae kr" href="https://github.com/isvictorious/rudderstack_master" rel="noopener ugc nofollow" target="_blank">舵栈模式比较表</a> _ <em class="lu">。</em></em></p><p id="f005" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">有关数据治理API如何简化数据验证的更多信息，请阅读我们的<a class="ae kr" href="https://rudderstack.com/blog/rudderstacks-data-governance-api" rel="noopener ugc nofollow" target="_blank">这里的</a>深度探讨。</p><h1 id="aeea" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">转换API</h1><p id="1776" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">RudderStack的转换特性允许您利用定制的JavaScript函数将事件转换成特定于目的地的格式。使用转换API，您可以通过HTTP API调用对您的转换执行各种操作。使用它来:</p><ul class=""><li id="a803" class="ks kt hi jq b jr km jv kn jz ku kd kv kh kw kl kx ky kz la bi translated">版本控制您转换，</li><li id="f010" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">在发布之前将它们存储在组织范围内的沙箱中，</li><li id="db54" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">利用转换库——您可以在转换中使用的模块化、可重用的JavaScript块，以及</li><li id="dbb1" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">检查新转换的编译和执行是否成功。</li></ul><p id="3884" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">关于转换API的更多细节，请阅读我们的<a class="ae kr" href="https://rudderstack.com/blog/rudderstacks-transformations-api" rel="noopener ugc nofollow" target="_blank">这里的</a>深度探讨。</p><h1 id="6375" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">免费注册并开始发送数据</h1><p id="65df" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">测试我们的事件流、ELT和反向ETL管道。使用我们的HTTP源在不到5分钟的时间内发送数据，或者在您的网站或应用程序中安装我们12个SDK中的一个。<a class="ae kr" href="https://app.rudderlabs.com/signup?type=freetrial" rel="noopener ugc nofollow" target="_blank">入门</a>。</p><p id="8b7b" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">本博客最初发布于:<br/><a class="ae kr" href="https://rudderstack.com/blog/the-complete-customer-data-stack-data-validation" rel="noopener ugc nofollow" target="_blank">https://rudder stack . com/blog/the-complete-customer-data-stack-data-validation</a></p></div></div>    
</body>
</html>