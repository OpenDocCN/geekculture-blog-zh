<html>
<head>
<title>Data Visualizations the Easy Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据可视化最简单的方法</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-i-do-my-visualizations-in-python-6a430d843ab9?source=collection_archive---------17-----------------------#2021-09-22">https://medium.com/geekculture/how-i-do-my-visualizations-in-python-6a430d843ab9?source=collection_archive---------17-----------------------#2021-09-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b25a8f34ffb259bb0a5af06e3637d151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VR3gwBXvbTQScNip"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Photo by <a class="ae hv" href="https://unsplash.com/@fransaraco?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Francesca Saraco</a> on <a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="6a3a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">探索性数据分析的数据可视化是数据科学过程中最关键的步骤之一。它发生在我们清理数据之后，但在我们进行机器学习之前。这一重要步骤允许我们通过提取只有可视化才能提供的关系和模式来洞察我们的数据。他们可以告诉我们哪些特性在我们的模型中是重要的。它可以揭示只有EDA和可视化才能揭示的故事。我意识到颜色、字体和风格是制作有效图表的重要组成部分。有很多在线教程和API可以解决这个问题。然而，我想把重点放在制作显示关系和模式的图表上。我们下次再看。</p><p id="fba5" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，让我们导入泰坦尼克号数据集来说明我的观点。我今天要讲的情节是关于海伯恩的配对情节、猫情节、支线情节和总情节。Seaborn和Matplotlib都是很棒的库。对于许多初学者来说，使用这两个库的组合来构建可视化节省了时间和麻烦，因为一些特性在每个平台上都更容易操作。</p><p id="ba41" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们导入:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="12b8" class="kc kd hy jy b fi ke kf l kg kh">#necessary libraries<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline<br/>import seaborn as sns</span></pre><p id="9f23" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">加载我们的泰坦尼克号数据集。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f0a4" class="kc kd hy jy b fi ke kf l kg kh">#reading csv<br/>df=pd.read_csv('train.csv')<br/>df.head()</span></pre><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ki"><img src="../Images/809a5b3c14088427570c5920a1b615a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7h1qanyXKOvTb-_QyZrTpA.png"/></div></div></figure><h2 id="6d55" class="kc kd hy bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">配对图</h2><p id="f921" class="pw-post-body-paragraph iv iw hy ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">作为对这个数据集的第一次检查，可以从一个pairplot开始。pairplot将我们数据集的每个要素绘制成图表，以显示每个变量之间的x/y关系。代码的实现非常简单</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="e1e1" class="kc kd hy jy b fi ke kf l kg kh">#the pairplot<br/>sns.pairplot(data=df)</span></pre><p id="a8ad" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这产生了:</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lh"><img src="../Images/d1f45e57c11c8872e7b017d09b8438e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PGysrMSObPw_huAI3I9avw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Pairplot of Titanic Dataset</figcaption></figure><p id="64ec" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这种情况下，它有一点点用处，因为有很多分类变量，但不应该作为EDA过程的主要部分而被忽略。</p><h2 id="4f32" class="kc kd hy bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">猫图</h2><p id="d329" class="pw-post-body-paragraph iv iw hy ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">我要讨论的下一个情节是猫情节。catplot绘制不同类别的计数，因此得名。泰坦尼克号数据集的catplot的一个非常有用的实现是乘客等级与生存关系。这是Seaborn上的一个简单代码。我首先用以下方法分离出所需的数据</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="5187" class="kc kd hy jy b fi ke kf l kg kh">#separating the relevant data in our graph<br/>df=df[['Pclass', 'Survived']]<br/>fig=plt.figure()<br/>sns.catplot(x='Pclass', data=df, kind='count', hue= 'Survived')<br/>plt.show()</span></pre><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es li"><img src="../Images/fa1b384788b4cc5830eee1f94f0a0b3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*rpons37fml5BW-8bHWejxQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">PClass = 1 (highest) 3 (lowest), Orange = Survived, Blue = Perished</figcaption></figure><h2 id="22f8" class="kc kd hy bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">陪衬情节</h2><p id="7db5" class="pw-post-body-paragraph iv iw hy ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">在catplot之后，我发现有时我想在一个图中显示许多图表来说明一个主要思想或关系。这就是支线剧情出现的时候。它可以通过多种方式完成，但本质上，支线剧情是以行和列排列的迷你剧情。让我来告诉你形成支线剧情的最快方法。</p><p id="5aef" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了更好地说明我的观点，我切换到另一个数据集。这个数据集是北京空气质量数据集，可以在这里下载。</p><div class="hh hi ez fb hj lj"><a href="https://www.kaggle.com/sid321axn/beijing-multisite-airquality-data-set" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hz fi z dy lo ea eb lp ed ef hx bi translated">北京多站点空气质量数据集</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">北京市6种主要空气污染物的多点测量</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">www.kaggle.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx hp lj"/></div></div></a></div><p id="9490" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个子情节的代码是:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="363c" class="kc kd hy jy b fi ke kf l kg kh">#identifying the number of subplots in fig<br/>fig, axs = plt.subplots(5)<br/>fig.suptitle('Sulfuric Acid Conc. in Atmosphere', fontsize=14, va= 'baseline')</span><span id="0958" class="kc kd hy jy b fi ly kf l kg kh">#giving axs numbers according to subplot<br/>axs[0].plot(df5.datetime, df5.SO2)<br/>axs[1].plot(df.datetime, df.SO2)<br/>axs[2].plot(df4.datetime, df4.SO2)<br/>axs[3].plot(df9.datetime, df9.SO2)<br/>axs[4].plot(df11.datetime, df11.SO2)</span><span id="f8ff" class="kc kd hy jy b fi ly kf l kg kh">axs[0].title.set_text('Huairou NE')<br/>axs[1].title.set_text('Wanshouxigong S')<br/>axs[2].title.set_text('Nongzhanguang E')<br/>axs[3].title.set_text('Dingling NW')<br/>axs[4].title.set_text('Aotizhongxin C')<br/>for axs in axs:<br/>    axs.set_xticks([])<br/>    axs.hlines(y=125, xmin='2013-03-01', xmax='2017-02-28', color='orange', label='mean/day', linestyles='dotted')<br/>    axs.hlines(y=350, xmin='2013-03-01', xmax='2017-02-28', color='red', label='hour/day')<br/>plt.xticks(rotation = 45)<br/>plt.tight_layout()<br/>fig.subplots_adjust(top=.85)<br/>plt.show()</span></pre><p id="7089" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，第一行代码告诉我们要创建的子情节的数量，下一部分代码告诉我们要绘制哪个用axs表示的图形。图表变成:</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/a3ffb2bc7dad0191c901959fcef36933.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*P7NrMt_GlERLGtYgqwaQnA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Sulfuric Acid Concentrations in 5 areas of Beijing</figcaption></figure><h2 id="cd0a" class="kc kd hy bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">一般情节</h2><p id="57a8" class="pw-post-body-paragraph iv iw hy ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">我将介绍的最后一种图并不真正被称为通用图，但它是我在获得正常x/y数据时在Seaborn上使用的基本通用图。在这个图上要知道的最重要的事情是有许多图表类型供你选择，所以要明智地选择。不同的图表类型有线形图、条形图、直方图、箱线图、紫线图、散点图等等。我不会去探究他们每个人擅长展示什么，只要知道总有一个图表适合这项工作。</p><p id="cbcb" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于这些基本的图表类型，我的一般策略是绘制x轴，然后y轴，检查你的刻度标签，设置图例和标题，看，一个基本的通用图表来说明你的观点。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="b59e" class="kc kd hy jy b fi ke kf l kg kh">#lineplot with the x and y axis data<br/>sns.lineplot(x=df4.datetime, y=df4.TEMP)<br/>plt.title('Date and Temperature')<br/>plt.xticks(rotation=45)</span></pre><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es ma"><img src="../Images/4a1cc31f2d9d95dd71862e88b9b58925.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*ihhvcrt0ziCkjGjSa-Ex1A.png"/></div></figure><p id="a08a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经看完了配对图，猫图，支线图，以及可供你使用的不同基本图形的基本图。在我强调的案例中，我选择它们是因为它们在EDA过程中被证明是有用的。我希望你读这篇文章的时候和我写这篇文章的时候一样开心。视觉化让世界变得更美好。他们总结、简化并揭示我们数据中推动洞察力的模式。利用它们成为你的优势。</p></div></div>    
</body>
</html>