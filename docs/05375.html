<html>
<head>
<title>Lambda function — Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lambda函数Python</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/lambda-function-python-b8fa9167fd3b?source=collection_archive---------32-----------------------#2021-07-19">https://medium.com/geekculture/lambda-function-python-b8fa9167fd3b?source=collection_archive---------32-----------------------#2021-07-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/c0617a9222be40eb0a7ffec79eae5c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*8J5Ly0XXe2XrPjxLwHSvgg.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx">Photo by <a class="ae iq" href="https://unsplash.com/@barkernotbaker?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">James Barker</a> on <a class="ae iq" href="https://unsplash.com/s/photos/animals-unicellular?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7390" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在Python中遇到‘lambda’之前，我在数学中遇到过，可能是在一些变量命名中；嗯..特征值λ。所以这个术语并不新鲜。然而，这个神秘的一号线已经飞离我的雷达，直到现在。</p><p id="aaa3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们将学习<strong class="it hj"> lambda函数</strong>，它的<strong class="it hj">用法</strong>，以及更多pythonic式的<strong class="it hj">替代</strong>。</p><p id="f283" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Lambda function是创建一个没有名字的函数的另一种方式，也就是匿名函数。它的语法是</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/5a9e8855b130f3ceb83f1085a86c0e40.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*2JRt9P8mYcftFPsClS70FA.png"/></div></figure><p id="c5fc" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这个lambda语句返回一个函数对象，当<strong class="it hj">被调用</strong>时<strong class="it hj">返回求值后的表达式</strong>。我们可以通过立即给变量<strong class="it hj">或</strong>赋值来调用lambda函数。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es ju"><img src="../Images/8701f9a959f476ee65cfed81c9bac499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYQ4B3g57APQyQ_PAiio6w.png"/></div></div></figure><p id="96ac" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">λ函数限制是:</p><ul class=""><li id="d56f" class="jz ka hi it b iu iv iy iz jc kb jg kc jk kd jo ke kf kg kh bi translated">它的主体仅限于一个表达式，没有赋值</li><li id="2718" class="jz ka hi it b iu ki iy kj jc kk jg kl jk km jo ke kf kg kh bi translated">它的主体只是一行逻辑代码</li></ul><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kn"><img src="../Images/30070828b3c0c64e694ee4216bf7ed46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*TJxl7SSm_6xkMuor1JUPaw.png"/></div></figure><p id="043b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是一个带有不同类型参数的lambda函数的例子。</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="7009" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">运行该文件时，我们得到:</p><pre class="jq jr js jt fd kq kr ks kt aw ku bi"><span id="ec6b" class="kv kw hi kr b fi kx ky l kz la">1+2 = 3<br/>c*3 = ccc<br/>x, *args, y, **kwargs = (1, (2, 'z'), 121, {'a': 97, 'b': 98})</span></pre><p id="4cd8" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在让我们使用带有内置<code class="du lb lc ld kr b">sorted()</code>方法的lambda函数<strong class="it hj">。</strong></p><p id="c9ff" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><code class="du lb lc ld kr b">sorted()</code>函数的函数签名是<code class="du lb lc ld kr b">sorted(iterable, /, *, key=None, reverse=False)</code>。<em class="le">在python交互环境中，可以使用</em> <code class="du lb lc ld kr b"><em class="le">help(sorted)</em></code> <em class="le">来了解函数签名及其文档</em>。</p><p id="2a75" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们可以给我们定制的lambda函数作为<strong class="it hj">键</strong>进行排序。让我们看一个例子。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es lf"><img src="../Images/ece4b3c3b0122b81ca6644821706f46e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UKMqQoB5a2ffHmaLL4t90A.png"/></div></div></figure><p id="2a09" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这里我们使用了<strong class="it hj">内置的</strong> <strong class="it hj">键</strong>对列表进行字典序排序或者反向字典序排序。我们还将我们的<strong class="it hj">自定义</strong> lambda函数作为一个<strong class="it hj">键</strong>，它根据列表中项目的第二个字符进行排序。</p><p id="4c0e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是上面互动环节的<code class="du lb lc ld kr b">.py</code>形式:</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="24fd" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们再分类一些:</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="5d29" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">运行该文件时，我们得到:</p><pre class="jq jr js jt fd kq kr ks kt aw ku bi"><span id="817a" class="kv kw hi kr b fi kx ky l kz la">sort dates default way: [datetime.date(1938, 12, 1), datetime.date(1995, 1, 21), datetime.date(1996, 4, 30), datetime.date(2005, 11, 2), datetime.date(2021, 3, 27)]</span><span id="a7d3" class="kv kw hi kr b fi lg ky l kz la">Birthday dictionary: {'alanzo': datetime.date(2005, 11, 2), 'marie': datetime.date(1995, 1, 21), 'zeffrey': datetime.date(1996, 4, 30), 'lily': datetime.date(2021, 3, 27), 'emil': datetime.date(1938, 12, 1)}</span><span id="c419" class="kv kw hi kr b fi lg ky l kz la">sort name and birthday default (key) way: ['alanzo', 'emil', 'lily', 'marie', 'zeffrey']</span><span id="d263" class="kv kw hi kr b fi lg ky l kz la">printing dictionary based on the default sort (key)<br/>alanzo: 2005-11-02<br/>emil: 1938-12-01<br/>lily: 2021-03-27<br/>marie: 1995-01-21<br/>zeffrey: 1996-04-30</span><span id="e4b3" class="kv kw hi kr b fi lg ky l kz la">sort name and birthday by birth date: ['emil', 'marie', 'zeffrey', 'alanzo', 'lily']<br/>printing dictionary based on the sort birth date value<br/>emil: 1938-12-01<br/>marie: 1995-01-21<br/>zeffrey: 1996-04-30<br/>alanzo: 2005-11-02<br/>lily: 2021-03-27</span><span id="ca54" class="kv kw hi kr b fi lg ky l kz la">sort name and birthday by birth date reverse way: ['lily', 'alanzo', 'zeffrey', 'marie', 'emil']<br/>lily: 2021-03-27<br/>alanzo: 2005-11-02<br/>zeffrey: 1996-04-30<br/>marie: 1995-01-21<br/>emil: 1938-12-01</span></pre><p id="a9e2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这里我们对生日字典<strong class="it hj">默认</strong>方式(<strong class="it hj">键</strong>)进行排序，并且还使用lambda函数根据<strong class="it hj">值</strong>对字典进行排序。正如我们看到的代码相当冗长，所以Python内置了<strong class="it hj">高阶函数</strong>来减少冗长。</p><p id="bb3c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">概括一下，高阶函数<strong class="it hj">将</strong> a <strong class="it hj">函数作为参数</strong>和/或<strong class="it hj">返回</strong> a <strong class="it hj">函数</strong>作为其<strong class="it hj">返回值</strong>。</p><p id="1ba3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们用函数<code class="du lb lc ld kr b">map</code>、<code class="du lb lc ld kr b">filter</code>、<code class="du lb lc ld kr b">reduce</code>来检验一下。</p><p id="1030" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="le">边注</em>:如果你不熟悉这些函数，可以使用python交互环境中的<code class="du lb lc ld kr b">help(map)</code>来了解或者查阅；python文档就是这样一种资源。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es lh"><img src="../Images/fd5fe3d502634c086b2bb1213627727d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dk3cC-yAcIa9FpbhqnIOsA.png"/></div></div></figure><p id="62dd" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这里我们可以看到lambda函数如何传递给高阶函数，以执行映射、 g中的<strong class="it hj">filter和减少</strong> iterables的<strong class="it hj">操作。</strong></p><p id="d6ad" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这里是python交互会话的一个<code class="du lb lc ld kr b">.py</code>格式。</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="6ac7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">运行该文件时，我们得到:</p><pre class="jq jr js jt fd kq kr ks kt aw ku bi"><span id="c985" class="kv kw hi kr b fi kx ky l kz la">names in upper case: ['ALANZO', 'MARIE', 'ZEFFREY', 'LILY', 'EMIL']<br/>names that starts with 'a' or 'z': ['alanzo', 'zeffrey']<br/>names whose birthday falls in January or December: ['marie', 'emil']<br/>youngest date from birthdays: 2021-03-27<br/>eldest date from birthdays: 1938-12-01</span></pre><p id="8a8e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">看，我们可以在高阶函数中使用lambda函数来提取数据或对数据进行一些修改。</p><p id="8729" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">然而，这仍然很麻烦。Python有<strong class="it hj">列表理解</strong>来使这种数据分析和修改更容易被人理解。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es li"><img src="../Images/0934e7d79c02044e444aadefbdab893d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iqnJR9KqKiq0xshhAFET0A.png"/></div></div></figure><p id="6512" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">下面是终端会话的<code class="du lb lc ld kr b">.py</code>格式:</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="f1f0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">很简单！？</p><p id="9d46" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">希望对你理解lambda函数有所帮助。</p><p id="37ff" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">概括地说，lambda函数是一个线性逻辑代码，它接受参数(可选)并返回一个表达式。</p><p id="4d89" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">感谢您的阅读，并祝贺完成！！🎈我会在我的下一篇文章——完结中看到你。</p></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><p id="cbca" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="le">忘了，还有AWS的lambda功能，在‘无服务器’架构下工作</em>。😛</p><p id="df61" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">灵感:</p><ul class=""><li id="d1c2" class="jz ka hi it b iu iv iy iz jc kb jg kc jk kd jo ke kf kg kh bi translated"><a class="ae iq" href="https://www.udemy.com/course/python-3-deep-dive-part-1/" rel="noopener ugc nofollow" target="_blank">蟒蛇深潜</a></li></ul></div></div>    
</body>
</html>