<html>
<head>
<title>RADU: From Stationary to Moving Robot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RADU:从静止到移动的机器人</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/radu-from-stationary-to-moving-robot-f65e4de2e16a?source=collection_archive---------17-----------------------#2022-02-07">https://medium.com/geekculture/radu-from-stationary-to-moving-robot-f65e4de2e16a?source=collection_archive---------17-----------------------#2022-02-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2f98e15c277847cbe6879433a655c4e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3npIFq5iOMUbXJ-qFR0lJQ.jpeg"/></div></div></figure><p id="1abd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的机器人继续稳步发展。在上一篇文章中，我展示了机器人的一个不可移动的盒子，这意味着一个配备了Raspberry Pi、Arduino Nano、LED显示屏和IR接收器的完全传感器的机器。这个箱子现在装上了轮子，可以自由移动。</p><p id="63e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我反映了我在这个转变过程中遇到的主要困难。</p><p id="065d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">本文原载于我的博客</em><a class="ae jp" href="https://admantium.com/blog/robo07_radu_moveable/" rel="noopener ugc nofollow" target="_blank"><em class="jo">【admantium.com】</em></a>。</p><h1 id="440d" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">安装轮式底盘</h1><p id="e245" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">将所有传感器放在移动的底盘上出乎意料地容易，但我非常幸运的是底盘本身:它足够大，可以将所有东西放在上面！我想把一些组件放在顶部和底部隔间之间，但较大的电机没有为此留下足够的空间。这就引出了下一点。</p><h1 id="d743" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">电机控制</h1><p id="e63e" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">为了控制4个不同的电机，我决定使用L293D电机屏蔽。这个IC允许我只用8根线来控制4个直流电机。因此，RADU原型只需要一个Arduino Nano来连接所有组件。这极大地简化了设置，因为我不需要设置MCU与UART或I2C的连接。</p><p id="f6e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，让L293D工作完全是另一回事。连接所有需要的电线，给L293D提供额外的电源，上传可信的Arduino库，我无法让所有4个电机正常工作。大多数时候，只是两个电机移动，有时前进和后退方向看似随机变化。</p><p id="3352" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在花了6个多小时，三次和四次检查线路，使用万用表，尝试不同的库后，无数教程中的一个通知抓住了我的意图:使用12 V它说。嗯…我的9V电池不够用？因此，我检查了类似的机器人版本，看到他们使用的电池类型为18650，具有令人印象深刻的3000毫安和3.7V。我订购了这些电池，将它们连接到底盘，然后…它工作了！动力强劲，4轮加速，前进后退。图书馆、线路、硬件都运行得完美无缺——我只是没有提供足够的电力。这的确是一门重要的学问。</p><h1 id="77ec" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">库不兼容</h1><p id="7910" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">汽车移动后，我再次连接了Radu盒中的所有传感器，上传了草图，然后试图将IR命令解释为移动命令。这一直有效，直到我添加了距离传感器。突然，解释IR命令的程序代码显示出奇怪的输出，它不能再处理了。当我拔掉红外模块，它再次工作。在研究这个问题时，我发现IR库和距离传感器库引用的是同一个定时器。定时器是一个Arduino框架抽象，用于控制特定硬件进程的时钟速度，并与GPIOs接口。在互联网上搜索解决方案时，您会发现各种关于修改各自库的头文件库和/或设置头文件保护以防止加载某些代码的方法。我可以理解，但是当我遇到问题时，我的C经验太少，无法有效地理解和解决问题。最后，我决定完全忽略距离传感器，但仍然将组件添加到原型中，因为我喜欢它的设计。</p><h1 id="1a00" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">移动电源</h1><p id="aef2" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">除了为电机供电，我还需要提供Arduino和Raspberry Pi。一个非常常见的解决方案是带一个USB电源板。它具有高容量，提供适量的电压，并有几个USB输出用于连接多个电路板。我拿了一个非常坚固的模型，有一个很大的表面，我用胶带把试验板和其他传感器粘在上面。不是一个工程杰作，但它的作品。</p><h1 id="186a" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">连接MCU和远程程序</h1><p id="3860" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">最后一部分是将微控制器相互连接起来。首先，我通过USB线将Arduino与Raspberry Pi连接起来。Arduino因此由PI供电，它们共享一根USB电缆来交换数据。通过使用USB串行接口和我在以前的文章中解释过的命令行接口，这两个设备可以交换文本消息。</p><p id="6497" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">除了使用IR，我还可以将移动命令从Raspberry Pi发送到Arduino。因此，我在Raspberry上打开了一个<code class="du kt ku kv kw b">minicom</code>连接，然后可以向Arduino输入任何命令。然后通过终端进行远程控制。我只需通过SSH连接到raspberry Pi，然后打开<code class="du kt ku kv kw b">minicom</code> shell，就可以执行任何命令。</p><h1 id="0761" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="864e" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">将RADU盒子搬到机箱上给了我宝贵的见解。首先，为所有MCU、传感器和执行器正确供电。由于提供的能量不够，你的程序会出现奇怪的行为，并且会浪费很多时间去追逐幽灵。其次，如果您使用多个库，可能会出现不兼容。在撰写本文时，由于我的编程经验有限，我对此还没有补救措施，但我只是建议在复杂的项目中注意这个问题。尽管存在问题，组装移动的RADU还是很有趣的。看到机器人一件一件地组装起来，然后给它通电，让led闪烁。第一次通过Wifi远程登录并发出命令。然后有一个神奇的时刻，当我把RADU放在地上，按下红外上的前进按钮，它就动了。</p><p id="5c00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文完成了我的机器人项目的第二阶段——以下是目前的状态:</p><ul class=""><li id="5c25" class="kx ky hi is b it iu ix iy jb kz jf la jj lb jn lc ld le lf bi translated">✅精粹:软件和硬件</li><li id="2b70" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">✅移动机器人</li><li id="5c51" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">模拟</li><li id="7938" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">视觉传感器</li><li id="3fc7" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">自我导航</li><li id="8f6f" class="kx ky hi is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">提货和交付</li></ul></div></div>    
</body>
</html>