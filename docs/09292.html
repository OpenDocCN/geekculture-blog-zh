<html>
<head>
<title>Reaching the Summit: How to solve Climbing Stairs algorithm question in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">登顶:如何用JavaScript解决爬楼梯算法问题</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/reaching-the-summit-how-to-solve-climbing-stairs-algorithm-question-in-javascript-c4d49933e0e4?source=collection_archive---------7-----------------------#2021-12-04">https://medium.com/geekculture/reaching-the-summit-how-to-solve-climbing-stairs-algorithm-question-in-javascript-c4d49933e0e4?source=collection_archive---------7-----------------------#2021-12-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="5ab2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何以高效的方式用JavaScript解决爬楼梯问题的分步演练</h2></div><p id="bb0f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">朋友们好，好久不见了。</p><p id="b46e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望每个人都过得好&amp;在这个疯狂的世界里保持安全。生活过得很快——自从我写了最后一篇博客后，我发现自己住在一个新的公寓里，丢失了一些关键的家具，因为它们在我搬家时被偷了，最后还从一家公司领取了一份全职薪水。</p><p id="cf99" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">生活充满了惊喜，有好有坏。但我想这就是为什么我们每天早上起来，期待着意想不到的事情，并继续努力达到我们在所谓的生活之旅中试图达到的顶峰。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/6d47ead4a3a5174067f3394708f28f6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4sQH-JLpkKc-ASur"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://unsplash.com/@pascal_habermann?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pascal Habermann</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d92b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天早上，当我坐在桌前时，我忍不住细数我的幸福。经过8个月紧张的求职(大约一年半前我拿到了全职薪水)，我终于可以说，一家公司决定给我一个机会。这个时机再好不过了——我的租赁协议即将到期，不确定性正在逼近。获得这份工作让我终于找到了自己的位置，我非常高兴。</p><p id="4ca5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，并非一切都是完美的。虽然在过去的一年里我发现了自己对编码的热情，但我发现自己并没有每天都积极地编码。事实上，我正在使用一个无代码平台，这种情况可能会持续几个月，甚至几年。</p><p id="74d4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我决定向我以前最好的朋友Leetcode挑战，以保持我的技能敏锐…只能说我们的重聚并不那么友好。</p><p id="d87d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是我(和一个朋友)如何解决这个具有挑战性，但名字却恰如其分的问题——爬楼梯的演练。</p><p id="f8e4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="kk">*如果您想直接跳到我最有效的解决方案，请向下滚动到标题</em> <strong class="iz hj"> <em class="kk">解决方案</em> </strong></p><h1 id="13ee" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">问题是</h1><p id="c3e0" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">使用以下链接可以在Leetcode上找到该算法。如果您有困难，我建议您继续编码:</p><div class="li lj ez fb lk ll"><a href="https://leetcode.com/problems/climbing-stairs/" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hj fi z dy lq ea eb lr ed ef hh bi translated">爬楼梯- LeetCode</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">提高你的编码技能，迅速找到工作。这是扩展你的知识和做好准备的最好地方…</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">leetcode.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz kd ll"/></div></div></a></div><p id="3dac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="kk">“你在爬楼梯。到达顶端需要</em> <code class="du ma mb mc md b"><em class="kk">n</em></code> <em class="kk">步。<br/>每次可以爬</em> <code class="du ma mb mc md b"><em class="kk">1</em></code> <em class="kk">或者</em> <code class="du ma mb mc md b"><em class="kk">2</em></code> <em class="kk">台阶。有多少种截然不同的方式可以让你爬到顶端？”</em></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es me"><img src="../Images/7a328b6eb77ca05b88f64e5ab44b02a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VJ4jnqmZGWZV8ntV"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Just keep climbing</figcaption></figure><p id="7ff8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个问题听起来很简单，对吗？好吧，让我们来看看Leetcode提供的示例测试用例:</p><p id="da41" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例1: </strong></p><pre class="ju jv jw jx fd mf md mg mh aw mi bi"><span id="1cf3" class="mj km hi md b fi mk ml l mm mn"><strong class="md hj">Input:</strong> n = 2<br/><strong class="md hj">Output:</strong> 2<br/><strong class="md hj">Explanation:</strong> There are two ways to climb to the top.<br/>1. 1 step + 1 step<br/>2. 2 steps</span></pre><p id="78bb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好的，这看起来很简单。如果n = 2，我们可以很容易地确定我们有两种方式来走这两步——我们可以慢慢地&amp;稳步地走，一次走一步，或者我们可以冒险，跳过一步，走两步。</p><p id="e538" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们看看下一个测试案例:</p><p id="f421" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例2: </strong></p><pre class="ju jv jw jx fd mf md mg mh aw mi bi"><span id="e76f" class="mj km hi md b fi mk ml l mm mn"><strong class="md hj">Input:</strong> n = 3<br/><strong class="md hj">Output:</strong> 3<br/><strong class="md hj">Explanation:</strong> There are three ways to climb to the top.<br/>1. 1 step + 1 step + 1 step<br/>2. 1 step + 2 steps<br/>3. 2 steps + 1 step</span></pre><p id="c305" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个有点复杂，但仍然非常简单。基于简单的逻辑，我们可以很快确定有三种不同的方法可以到达3级楼梯的顶端——我们可以缓慢而稳定地前进，立即进行冒险的跳跃，或者在迈出第一步后再进行。</p><p id="984e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">到目前为止还不错，对吧？但是如果n=12，或者n=45呢？除非你是逻辑大师，否则我们要花一些时间来写下所有不同的可能性。</p><p id="6d76" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我被难住了&amp;不知道下一步该做什么。但是后来我的朋友建议我们继续从n=4 &amp; n=5开始，看看我们是否注意到任何模式。这就是我们的电灯泡时刻。</p><h1 id="1417" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">方法</h1><p id="36be" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">如上所述，让我们采取老学校的方法，看看会发生什么。我们已经做了n=2 &amp; n=3。我会在这里列出结果:</p><p id="c0e9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2: [2] <br/> - 1，1 <br/> - 2</p><p id="6b05" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3: [3] <br/> - 1，1，1 <br/> - 2，1 <br/> - 1，2</p><p id="b5f0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">到目前为止还说得通，对吗？对于n=2有两种不同的方法，对于n=3有三种不同的方法。让我们假设n=4，n=5，n=6，看看会发生什么:</p><p id="e403" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4: [5] <br/> - 1，1，1，1 <br/> - 2，2 <br/> - 1，1，2 <br/> - 2，1，1 <br/> - 1，2，1</p><p id="31ef" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5: [8] <br/> - 1，1，1，1，1 <br/> - 2，2，1 <br/> - 1，2，2 <br/> - 2，1，2 <br/> - 1，2，1 <br/> - 2，1，1，1 <br/> - 1，2，1，1 <br/> - 1，1，1，2</p><p id="8987" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6: [13] <br/> - 1，1，1，1，1，1 <br/> - 2，2，2 <br/> -1，1，2，2 <br/> -1，2，1，2 <br/> -1，2，2，1 <br/> -2，2，1，1 <br/> -2，1，2，1 <br/> -2，1，2 <br/> -1，1，1，2 <br/> -1，1，1</p><p id="39d8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">咻，走了那么多步——你的腿开始酸了吗？:)</p><p id="a652" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们从爬楼梯中休息一下，看看我们到目前为止有什么:</p><p id="4bea" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2:[2]<br/>3:[3]<br/>4:[5]<br/>5:[8]<br/>6:[13]</p><p id="0dfa" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意到模式了吗？它可能不会立即出现在你面前，但是如果你仔细观察结果的数目，你会发现前两个数字加起来就是下一个数字！2+3=5, 3+5=8, 5+8=13</p><p id="9572" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么我们如何用代码来写呢？我们可以使用以下等式递归求解:</p><p id="747d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">f(n) -&gt; f(n-2) + f(n-1)</p><p id="fee1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们以4为例，看看它会是什么样子:</p><p id="b7cb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">f(4)<br/>f(4–2)+f(4–1)<br/>f(2)+f(3)<br/>f(2)+f(3–2)+f(3–1)<br/>f(2)+(f(1)+f(2))</p><p id="c358" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你算一下，你会发现它加起来是5，这是4个步骤的总数！</p><p id="0a2c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这应该是我们的答案吧？我们知道，如果n=1或n=2，我们可以跳过这种递归方法，因为方法的数量等于数字本身，所以我们的解决方案可能看起来像这样:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mo"><img src="../Images/f7230582d828ae43d431cfe79462953d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AXsNMF0JsNvYQltQZol6JQ.png"/></div></div></figure><p id="a5eb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是等一下，当我单击提交时，我们得到以下错误:</p><p id="cbc1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="kk"> 31/45个测试用例通过。超过时限</em></p><p id="e611" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从技术上讲，我们已经有了解决方案，但是为什么会出现这个错误呢？如果你仔细想想，当n到达某个点时，我们当前的解决方案是非常低效的，因为它每次都递归地运行<strong class="iz hj"> <em class="kk">，即使我们以前见过相同的n。</em>T3】</strong></p><p id="459a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么我们如何解决这个问题呢？我们可以采取的一种方法是将我们的结果存储在一个备忘录或对象中，这样我们可以节省很多时间。</p><h1 id="35cf" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">解决方案</h1><p id="3cf2" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">让我们首先创建我们的memo对象。不仅仅是一个空对象，我们可以立即设置我们的前两个键:1和2的值对(因为我们已经知道每个的值等于它自己)。同样重要的是，我们把备忘录<em class="kk">放在我们函数的</em>之外——原因是如果我们把它放在我们函数的内部，每次我们的函数被递归调用，它就会<em class="kk">覆盖</em>我们之前拥有的对象！</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mp"><img src="../Images/a9950b03b1aa40ad73fa094229325015.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*w6lOoaleMmU0774MRuZ45g.png"/></div></figure><p id="0e69" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于我们将在每次迭代中检查备忘录，我们接下来需要检查备忘录中是否已经存在这个键。记住，这种方法的目的是提高我们的效率。如果我们已经添加了某个n的值，我们不需要再做一次，而是直接从对象中提取值。</p><p id="b9a6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">例如，如果n=5，我们的第一次迭代将检查memo[5]是否存在于我们的对象中，它不存在。</p><p id="9253" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我们回到之前的逻辑:</p><p id="1cac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">f(n) -&gt; f(n-2) + f(n-1)</p><p id="749e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">只是这一次，我们把我们的价值观保存在备忘录里。这样，在每次后续迭代中，我们将检查memo[n]是否存在。</p><p id="ab3c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们继续递归地这样做，直到我们添加了所有需要的键和值。</p><p id="a932" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们最终的代码看起来会像这样:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mq"><img src="../Images/2e24cfa5d0799705e2897f4af26ad8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*xwWUycueLUbPkKC8RNn-9A.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Our final code</figcaption></figure><h1 id="0de3" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">结论</h1><p id="0356" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">看起来很简单的问题结果却一点也不简单。然而，我从中得到的最大收获是，即使答案在开始时并不明确，我们也可以通过尝试更多的测试案例来识别可能存在的任何模式，从而朝着这个方向努力。答案可能没有你想的那么遥远！</p><p id="e658" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望这个演练能帮助您更好地理解这个问题。至于我，我想我宁愿只是走楼梯，而不是再次尝试类似的事情。</p><p id="548d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下次再见，别忘了继续攀登顶峰。</p></div></div>    
</body>
</html>