<html>
<head>
<title>Freaked out for missing one small snippet in SwiftUI while using .onOpenUrl</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">因为在使用SwiftUI时丢失了一小段代码而抓狂。onOpenUrl</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/freaked-out-for-missing-one-small-snippet-in-swiftui-while-using-onopenurl-1378084c9c3?source=collection_archive---------19-----------------------#2022-02-14">https://medium.com/geekculture/freaked-out-for-missing-one-small-snippet-in-swiftui-while-using-onopenurl-1378084c9c3?source=collection_archive---------19-----------------------#2022-02-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/6b03523904f9b74a4b624d1e7da00053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_mpDaR3qynHF9CPH"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">Photo by <a class="ae jc" href="https://unsplash.com/@nublson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nubelson Fernandes</a> on <a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5b8d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我正在用SwiftUI开发一个跨平台的应用程序。此应用程序注册为一个URL类型的“所有者”。</p><blockquote class="kb kc kd"><p id="aeaf" class="jd je ke jf b jg jh ji jj jk jl jm jn kf jp jq jr kg jt ju jv kh jx jy jz ka hb bi translated">URL类型的注册意味着在目标的信息部分添加URL方案。</p></blockquote><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ki"><img src="../Images/e8a06494236401a58629c3049b476c76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1K7ycZ-uXtIiktSvy9FCMg.png"/></div></div></figure><p id="c2c2" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">因此，我的应用程序预计将打开上述方案组成的网址。SwiftUI为我们提供了。打开URL的onOpenURL修饰符。这可以从任何视图添加。</p><p id="118c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">该功能非常正常，并按预期工作。在给我的应用程序添加许多功能时，我弄乱了我的代码，这影响了onOpenUrl的功能。因此，在调试了一段时间后，我发现了自己的错误。</p><p id="bc41" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为了添加一个功能(接受共享CloudKit数据库的邀请)，我在代码中添加了一个自定义场景委托。在添加这个自定义场景委托之后，SwiftUI希望这个委托负责URL处理。这正是破坏我的代码的原因。所以我通过添加如下所示的小片段来解决这个问题。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="kj kk l"/></div></figure><h2 id="4a06" class="kl km hi bd kn ko kp kq kr ks kt ku kv jo kw kx ky js kz la lb jw lc ld le lf bi translated">钥匙带走:</h2><p id="c2f4" class="pw-post-body-paragraph jd je hi jf b jg lg ji jj jk lh jm jn jo li jq jr js lj ju jv jw lk jy jz ka hb bi translated">添加自定义场景委托时，将onOpenURL和onContinueUserActivity之类的请求路由到原始委托。</p><p id="933c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">此外，我将张贴一篇关于使用。分享我在视图树中打开底部视图的方法。</p><p id="5598" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">感谢阅读:)</p></div></div>    
</body>
</html>