<html>
<head>
<title>Solving a “Respectable” Codility Challenge in One Line of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在一行代码中解决一个“值得尊敬的”Codility挑战</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/solving-a-respectable-codility-challenge-in-one-line-of-code-6c331deff8bb?source=collection_archive---------22-----------------------#2021-06-16">https://medium.com/geekculture/solving-a-respectable-codility-challenge-in-one-line-of-code-6c331deff8bb?source=collection_archive---------22-----------------------#2021-06-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d642" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保持事情简单高效。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/edd3e3d7a9955e6728bef9656617e509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bzzfKcNFx7EwJ2Aj"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Aragon</a> on <a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="1a57" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">内容</h2><p id="6435" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">∘ <a class="ae jt" href="#ca1e" rel="noopener ugc nofollow">任务</a>t5】∘<a class="ae jt" href="#a423" rel="noopener ugc nofollow">理解挑战</a> <br/> ∘ <a class="ae jt" href="#7118" rel="noopener ugc nofollow">分步迭代</a> <br/> ∘ <a class="ae jt" href="#4853" rel="noopener ugc nofollow">一套基本的数学运算</a> <br/> ∘ <a class="ae jt" href="#f528" rel="noopener ugc nofollow">移植到Python </a> <br/> ∘ <a class="ae jt" href="#c27a" rel="noopener ugc nofollow">引用</a></p><p id="324b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我真的很喜欢挑战。它们是提高你解决问题的技能和编程语言知识的一种极好的(而且完全免费的)方式。它们也是为技术面试“热身”大脑的好方法，尤其是因为你的大多数解决方案都是根据其处理边缘情况的能力进行评估的，同时保持时间效率。</p><p id="00e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">许多现代专业开发都是由配置和链接库组成的，所以深入到一个纯粹基于逻辑和性能的任务中会让人耳目一新。</p><p id="9678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在过去的几年里，我在周末和假期慢慢地研究他们的课程和挑战，这帮助我保持了寻找“贪婪算法”解决方案并考虑性能和可读性的心态。</p><p id="d096" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个特别的教训让我大吃一惊。现实任务按照难度的顺序被分为“不痛不痒”、“值得尊敬”或“雄心勃勃”这项任务被评为“值得尊敬”，但它可以通过一行代码有效地解决。</p><h2 id="ca1e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">任务</h2><p id="0cb8" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">编码课程由PDF格式的阅读材料和一系列“任务”组成“前缀求和”课程中的第一个任务称为“计算除法”这些说明是:</p><blockquote class="ku"><p id="e9c5" class="kv kw hi bd kx ky kz la lb lc ld jc dx translated">写一个函数…给定三个整数A，B和K，返回范围[A]内的整数个数..B]能被K整除</p></blockquote><p id="687f" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">我们保证A ≤ B。</p><h2 id="a423" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">理解挑战</h2><p id="c03a" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">为了更全面地了解一个问题，我有时发现把它勾画出来是很有用的，完全不用担心效率。</p><p id="68ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个显而易见的强力解决方案是遍历A和B之间的所有整数，使用模(%)检查它们是否能被K整除。</p><p id="e13a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了安全起见，我们还需要检查B！= 0.在ruby中:</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="c6ef" class="ju jv hi lk b fi lo lp l lq lr">def solution(a, b, k)<br/>  return 0 if b == 0</span><span id="f1ab" class="ju jv hi lk b fi ls lp l lq lr">  count = 0<br/>  (a..b).each do |ii| <br/>    count += 1 if ii % k == 0<br/>  end</span><span id="d516" class="ju jv hi lk b fi ls lp l lq lr">  count<br/>end</span></pre><p id="a7b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，更简洁地说，使用三元运算符和<code class="du lt lu lv lk b">filter</code>给出符合我们标准的所有数字的计数(大小):</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="f34f" class="ju jv hi lk b fi lo lp l lq lr">def solution(a, b, k)<br/>  b == 0 ? 0 : (a..b).filter{ |ii| ii % k == 0 }.size<br/>end</span></pre><p id="f0b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将以线性时间运行— <code class="du lt lu lv lk b">O(n)</code> —如果A是0，B是测试可能的最大值20亿，这就不太理想了。</p><h2 id="7118" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">分步迭代</h2><p id="1a9a" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">类似地，如下例所示，在A到B的范围内寻找K的最小和最大倍数，并在等于K的步骤中迭代，仍然会给我们留下<code class="du lt lu lv lk b">O(n)</code>——如果K为1，效率特别低。</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="bb75" class="ju jv hi lk b fi lo lp l lq lr">def solution(a, b, k)<br/>  return 0 if b == 0 || k &gt; b</span><span id="92bf" class="ju jv hi lk b fi ls lp l lq lr">  first_divisible = a % k == 0 ? a : a + (k - a % k)<br/>  last_divisible = b - b % k<br/>  (first_divisible..last_divisible).step(k).size<br/>end</span></pre><p id="8a39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是我们接近一个有效的解决方案。我们现在可以看到，我们需要看到的是，K的倍数在A和b之间出现了多少次。</p><h2 id="4853" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">一组基本的数学运算</h2><p id="69ea" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">让我们使用Codility中的原始示例，a = 6，b = 11，k = 2</p><ul class=""><li id="838a" class="lw lx hi ih b ii ij im in iq ly iu lz iy ma jc mb mc md me bi translated">我们可以将其向下舍入到5，以给出2均匀地变成11的总方式数</li><li id="2f85" class="lw lx hi ih b ii mf im mg iq mh iu mi iy mj jc mb mc md me bi translated"><code class="du lt lu lv lk b">(6 - 1) / 2 = 2.5</code>——对于小于 6的整数<strong class="ih hj">能被2整除的路数，我们可以将其下舍入到2。我们可以从上面的总数中减去这些。</strong></li><li id="9a98" class="lw lx hi ih b ii mf im mg iq mh iu mi iy mj jc mb mc md me bi translated"><code class="du lt lu lv lk b">5 - 2 = 3</code> —从总数中减去排除的计数，得到我们的结果。</li></ul><p id="481e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在ruby中，将一个整数除以另一个整数会自动向下舍入商，返回一个整数结果。这使得我们的解决方案既整洁又高效，在<code class="du lt lu lv lk b">O(1)</code>恒定时间内运行。</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="75d6" class="ju jv hi lk b fi lo lp l lq lr">def solution(a, b, k)<br/>  b / k - (a - 1) / k<br/>end</span></pre><p id="5bb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">A和/或B为零的边缘情况也可以通过下舍入除法巧妙处理。</p><h2 id="f528" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">移植到Python</h2><p id="e922" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">Python的floor division(“//”运算符)也可以为我们处理这个操作，尽管我们仍然需要检查B是否为0。</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="41cf" class="ju jv hi lk b fi lo lp l lq lr">def solution(a, b, k):<br/>    return 0 if b == 0 else int(b // k - (a - 1) // k)</span></pre><p id="aee2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后两个例子中的任何一个都将得到100%的结果。</p><p id="35c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果这里有什么不合理的地方，或者你能想到一个更简洁的方法来达到这个效果，请告诉我。</p><h2 id="c27a" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">参考</h2><div class="mk ml ez fb mm mn"><a href="https://app.codility.com/programmers/lessons/5-prefix_sums/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab dw"><div class="mp ab mq cl cj mr"><h2 class="bd hj fi z dy ms ea eb mt ed ef hh bi translated">条件前缀求和一课</h2><div class="mu l"><h3 class="bd b fi z dy ms ea eb mt ed ef dx translated">为技术面试做准备，并通过我们的实践编程课程发展您的编程技能。成为一个强大的技术…</h3></div><div class="mv l"><p class="bd b fp z dy ms ea eb mt ed ef dx translated">app.codility.com</p></div></div></div></a></div><div class="mk ml ez fb mm mn"><a href="https://python-reference.readthedocs.io/en/latest/docs/operators/floor_division.html" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab dw"><div class="mp ab mq cl cj mr"><h2 class="bd hj fi z dy ms ea eb mt ed ef hh bi translated">//楼层划分- Python参考(正确的方法)0.1文档</h2><div class="mu l"><h3 class="bd b fi z dy ms ea eb mt ed ef dx translated">返回商的整数部分。A // B任何计算结果为数值类型的表达式。任何表情…</h3></div><div class="mv l"><p class="bd b fp z dy ms ea eb mt ed ef dx translated">python-reference . readthedocs . io</p></div></div></div></a></div></div></div>    
</body>
</html>