<html>
<head>
<title>Postman: Data-Driven Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">邮递员:数据驱动测试</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/postman-importing-test-data-from-data-files-2b43f6db0bb9?source=collection_archive---------7-----------------------#2021-09-06">https://medium.com/geekculture/postman-importing-test-data-from-data-files-2b43f6db0bb9?source=collection_archive---------7-----------------------#2021-09-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="1140" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我之前关于postman的文章中，我们已经讨论了如何<a class="ae jk" rel="noopener" href="/geekculture/automating-rest-apis-with-postman-c740049b56dd">自动化rest API</a>以及如何<a class="ae jk" rel="noopener" href="/geekculture/postman-json-schema-validation-ed09b3532a39">验证JSON模式</a>。在本文中，我们将看到如何使用数据文件在自动化脚本中提供测试数据。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jl"><img src="../Images/e5e87bfeafa651f1c4daa1694553840e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NV0ZhGGqdAJa8LNPCyPiXQ.jpeg"/></div></div></figure><p id="c596" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Postman提供了两种方法来传递值集，以便在收集运行中使用。</p><ol class=""><li id="ed0a" class="jx jy hi io b ip iq it iu ix jz jb ka jf kb jj kc kd ke kf bi translated">JSON文件</li><li id="9b02" class="jx jy hi io b ip kg it kh ix ki jb kj jf kk jj kc kd ke kf bi translated">CSV文件</li></ol><p id="e6ca" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通过在收集运行器中选择一个JSON或CSV数据文件，您可以在一次运行中使用多个不同的值来测试您的请求。</p><h2 id="a5ab" class="kl km hi bd kn ko kp kq kr ks kt ku kv ix kw kx ky jb kz la lb jf lc ld le lf bi translated">1.使用JSON文件传递数据</h2><p id="d291" class="pw-post-body-paragraph im in hi io b ip lg ir is it lh iv iw ix li iz ja jb lj jd je jf lk jh ji jj hb bi translated">考虑一个样本JSON，它有3组数据。我们将把这些数据传递给POST请求。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es ll"><img src="../Images/038d301c1192f3f54b239679adfb126e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*guPMDSP3bxkIUAnSkyS8RA.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Sample JSON</figcaption></figure><p id="f7a3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里的id、cargroupName和cargroupDisplayName是我们将传递给POST请求的变量。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lq"><img src="../Images/aecbe175503d59763867c5b2bd09edbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0AI6RJeHWEA56I_RF0iFg.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">POST Request</figcaption></figure><p id="5189" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了读取JSON数据，我们需要从收集运行器上传一个JSON文件。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lr"><img src="../Images/c7af45a1a35775f25a9ba94d39a6cbbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JVV-I9mJiRxbXzL_VphC2Q.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Collection Runner Window</figcaption></figure><p id="ea54" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">点击选择文件并上传数据文件。迭代字段显示数据文件中存在的数据集的数量。在我们的例子中，它是三个，但是我们可以通过定义迭代在前两个数据集上运行测试。延迟字段定义两次迭代之间的时间，单位为毫秒。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es ls"><img src="../Images/8d00bca4a184074b5f00c8489c52c8ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VCDOoPv3VCnXILuUBM8F9w.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">File Uploaded in Collection Runner</figcaption></figure><p id="0a26" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您可以选择数据类型文件。它有两种选择</p><ul class=""><li id="4661" class="jx jy hi io b ip iq it iu ix jz jb ka jf kb jj lt kd ke kf bi translated">应用程序/json</li><li id="3296" class="jx jy hi io b ip kg it kh ix ki jb kj jf kk jj lt kd ke kf bi translated">战斗支援车</li></ul><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lu"><img src="../Images/62ea3b1b798565bb98c5bda14c20697a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zNTcKphxhpm_wc5uUkS8zA.png"/></div></div></figure><p id="9c05" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">单击预览以查看上传的数据。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lv"><img src="../Images/2eb6a992cc8e94bd4725c19449dd8ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R7rqtqN1Hs7hvXJJx11W1g.png"/></div></div></figure><p id="3fc4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在收集过程中，当Postman试图读取您的数据文件时，您可能会遇到错误。如果发生这种情况，您可以采取以下步骤。</p><ol class=""><li id="4989" class="jx jy hi io b ip iq it iu ix jz jb ka jf kb jj kc kd ke kf bi translated">确保数据文件格式正确，为CSV或JSON格式。</li><li id="1ee5" class="jx jy hi io b ip kg it kh ix ki jb kj jf kk jj kc kd ke kf bi translated">通过在文本编辑器中打开数据文件并以不同的格式保存文件，确认数据文件编码正确。</li></ol><p id="6db1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上传成功后，从边栏中拖动收藏或文件夹即可开始。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lw"><img src="../Images/1602e32a91dc58825fadb372d0e725a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4rk_nPLV0dRoMRN1KC31HA.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Test</figcaption></figure><blockquote class="lx ly lz"><p id="401d" class="im in ma io b ip iq ir is it iu iv iw mb iy iz ja mc jc jd je md jg jh ji jj hb bi translated">要从test选项卡内的JSON文件中获取值，请使用方法<strong class="io hj"> iterationData </strong></p></blockquote><p id="0326" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们进行测试。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es me"><img src="../Images/5d1cdda0632b5194ddca959626875842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0sBhFQmA261WCcu6-pZbA.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Test Run</figcaption></figure><p id="3006" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你看到我们的API已经运行了三次。每次拾取不同的数据集。</p><h2 id="218b" class="kl km hi bd kn ko kp kq kr ks kt ku kv ix kw kx ky jb kz la lb jf lc ld le lf bi translated">2.使用CSV文件传递数据</h2><p id="8d35" class="pw-post-body-paragraph im in hi io b ip lg ir is it lh iv iw ix li iz ja jb lj jd je jf lk jh ji jj hb bi translated">使用csv文件时，一切都保持不变，只是文件的格式发生了变化。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es mf"><img src="../Images/f9e298d3c30df17d826102b60ea95bf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zd0CoMCLqzKZVwOr9dDIGw.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">sample csv</figcaption></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es mg"><img src="../Images/a5db6afa09955e46193fa8b499b2585c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nluza7i7qzx37ybT8D6_Ug.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Preview Window</figcaption></figure><p id="a121" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是本文的全部内容。</p><p id="d317" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="ma">完整的项目和更多的库可以在我的</em><a class="ae jk" href="https://github.com/attrideepak" rel="noopener ugc nofollow" target="_blank"><em class="ma">github</em></a><em class="ma">上找到。</em></p></div></div>    
</body>
</html>