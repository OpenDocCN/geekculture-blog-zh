<html>
<head>
<title>Disney Plus Logo Animation — Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">迪士尼Plus标志动画— Jetpack合成</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/disney-plus-logo-animation-jetpack-compose-d8fb9bda3de7?source=collection_archive---------30-----------------------#2021-08-23">https://medium.com/geekculture/disney-plus-logo-animation-jetpack-compose-d8fb9bda3de7?source=collection_archive---------30-----------------------#2021-08-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7de031107be68380f086f1a7129137b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l-KlnGsdNCUnX7nShw5Qtw.jpeg"/></div></div></figure><p id="d627" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Jetpack Compose将动画的标准从“波兰，如果我们有时间”提高到“如此简单，没有理由不做”，其中很大一部分是<code class="du jo jp jq jr b">animate*AsState()</code>动画对象。</p><h1 id="f5ca" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">创作动画</strong></h1><p id="6c43" class="pw-post-body-paragraph iq ir hi is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn hb bi translated">Jetpack Compose已经走过了漫长的道路，对视图系统的主要改进之一是动画和过渡。甚至一些低级的动画API比如<code class="du jo jp jq jr b">animateTo()</code>、<code class="du jo jp jq jr b">animate*AsState()</code>也是极其强大和好用的。</p><h1 id="fcd3" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">动画预览</h1><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es kv"><img src="../Images/62a1b5eb2650eacbdc0bcfb46c4c5383.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*8bbihgrdCnCdws9vn-VnPg.gif"/></div></figure><h1 id="d2c8" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">入门</strong></h1><p id="03ef" class="pw-post-body-paragraph iq ir hi is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn hb bi translated">如果我们仔细观察，这个动画有三个组成部分</p><ul class=""><li id="396c" class="la lb hi is b it iu ix iy jb lc jf ld jj le jn lf lg lh li bi translated">迪士尼文本</li><li id="19e4" class="la lb hi is b it lj ix lk jb ll jf lm jj ln jn lf lg lh li bi translated">弧形动画</li><li id="f96a" class="la lb hi is b it lj ix lk jb ll jf lm jj ln jn lf lg lh li bi translated">+弧线动画结束时符号展开。</li></ul><p id="f105" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们将建立标志的用户界面，稍后，我们可以给组件的动画效果。</p><p id="a5a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用的颜色</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="97a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">GradientColor用于为徽标中的圆弧提供渐变效果。</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/fd95bed36e6572bb211bb231b209904e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Y0hoZHiuDtLFKTM5Hy6EA.png"/></div></div></figure><p id="3fba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了绘制弧线，我们可以使用<code class="du jo jp jq jr b">drawBehind</code>修饰符，它有助于在可组合组件的画布上绘制UI。</p><p id="57ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">drawArc</code>可以用来画一个弧线，缩放到适合给定的矩形(这里我们用的是方框)。它围绕椭圆从startAngle度开始到start angle+swepangle度，零度是x轴的正侧。</p><p id="d8ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我们选择了框的大小、起始角度和扫掠角度，以使弧线与徽标中的+图像重合。</p><p id="0d50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们没有给出纯色，而是用提供的颜色和给定的起点和终点坐标给弧线一个线性渐变。颜色分散在由颜色停止对定义的提供的偏移处。</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/2ad7aa54fde428ed4ed4ddee76285811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CEGRpc_qeQUkdZNfKOka3A.png"/></div></div></figure><p id="e02f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在UI已经完成，我们可以期待制作UI组件的动画了。</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="7a2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">animationPlayed</code>、<code class="du jo jp jq jr b">plusAnimationPlayed</code>是状态变量，记录动画是否已经播放，通过改变它们的值，我们可以触发动画。</p><p id="d250" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">currentPercent</code>是一个状态对象，跟踪弧的扫描。</p><p id="3846" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">scalePercent</code>使用缩放效果帮助制作+图像动画。</p><p id="1209" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们必须调用<code class="du jo jp jq jr b">LaunchedEffect</code>中的<code class="du jo jp jq jr b">animationPlayed = true</code>,因为我们只希望它运行一次，而LaunchedEffect在一个可组合函数中只运行一次，因为它的键是常量，不会改变。</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="d4d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦动画代码完成，我们必须用状态对象变量改变硬编码的值，这将有助于动画视图。</p><p id="b0ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完整的代码示例可以在这里找到<a class="ae ls" href="https://github.com/pundirAbhishek/DisneyLogoAnimation" rel="noopener ugc nofollow" target="_blank">。</a></p><div class="lt lu ez fb lv lw"><a href="https://github.com/pundirAbhishek/DisneyLogoAnimation" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">GitHub-pundirAbhishek/Disney logo animation</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">在GitHub上创建一个帐户，为pundirAbhishek/Disney logo animation的开发做出贡献。</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">github.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk io lw"/></div></div></a></div></div></div>    
</body>
</html>