<html>
<head>
<title>Journey to the Moon — HackerRank Hard Problem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">月球之旅——黑客难题</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/journey-to-the-moon-hackerrank-hard-problem-29fd999aedd0?source=collection_archive---------8-----------------------#2022-12-11">https://medium.com/geekculture/journey-to-the-moon-hackerrank-hard-problem-29fd999aedd0?source=collection_archive---------8-----------------------#2022-12-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="14d2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">解决黑客难题，月球之旅，在Java中</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/faf66eb040bdc60a6a6191bcb2ebaec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YkrPyi3GanOjE4xz"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f305" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">《月球之旅》是一个HackerRank难题，但却是一个典型的联合问题。使用union或group lib可能很简单。这里将实现一种高效的Java方式。</p><h2 id="ceb7" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">问题</h2><p id="8cf0" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">联合国成员国正计划将两个人送上月球。他们希望他们来自不同的国家。你会得到一份宇航员身份证的清单。每一对都由来自同一个国家的宇航员组成。确定有多少对来自不同国家的宇航员可供选择。</p><p id="8be7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">HackerRank原始问题:</p><div class="lk ll ez fb lm ln"><a href="https://www.hackerrank.com/challenges/journey-to-the-moon/problem" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dw"><div class="lp ab lq cl cj lr"><h2 class="bd hj fi z dy ls ea eb lt ed ef hh bi translated">月球之旅| HackerRank</h2><div class="lu l"><h3 class="bd b fi z dy ls ea eb lt ed ef dx translated">联合国成员国正计划把人送上月球。他们希望他们来自不同的国家。你…</h3></div><div class="lv l"><p class="bd b fp z dy ls ea eb lt ed ef dx translated">www.hackerrank.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb jh ln"/></div></div></a></div><h2 id="2c5d" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">解决办法</h2><p id="9f0b" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">这里将用Java实现它，以便于理解。请注意:在Java中使用long表示一个大的数字。您需要修改现有的HackerRank代码以使其工作。</p><pre class="iy iz ja jb fd mc md me bn mf mg bi"><span id="db0d" class="mh kl hi md b be mi mj l mk ml">import java.io.*;<br/>import java.math.*;<br/>import java.security.*;<br/>import java.text.*;<br/>import java.util.*;<br/>import java.util.concurrent.*;<br/>import java.util.function.*;<br/>import java.util.regex.*;<br/>import java.util.stream.*;<br/>import static java.util.stream.Collectors.joining;<br/>import static java.util.stream.Collectors.toList;<br/><br/>class Result {<br/><br/>    /*<br/>     * Complete the 'journeyToMoon' function below.<br/>     *<br/>     * The function is expected to return an INTEGER.<br/>     * The function accepts following parameters:<br/>     *  1. INTEGER n<br/>     *  2. 2D_INTEGER_ARRAY astronaut<br/>     */<br/><br/>    public static long journeyToMoon(int n, List&lt;List&lt;Integer&gt;&gt; astronaut) {<br/>    // Write your code here<br/>        int [] parent = new int [n];<br/>        long [] num = new long [n];<br/>        for (int i = 0; i &lt; parent.length; i++) {<br/>            parent[i] = i;<br/>            num[i] = 1;<br/>        }<br/>        <br/>        for (List&lt;Integer&gt; ast : astronaut) {<br/>            int p1 = findPar(ast.get(0), parent);<br/>            int p2 = findPar(ast.get(1), parent);<br/>            if (p1 != p2) {<br/>                union(p1, p2, parent, num);    <br/>            }<br/>        }<br/>        <br/>        long total = 0;<br/>        long prvNum = -1;<br/>        for (int i = 0; i &lt; parent.length; i++) {<br/>            if (i == parent[i]) {<br/>                if (prvNum == -1)<br/>                    prvNum = num[i];<br/>                else {<br/>                    total += prvNum*num[i];<br/>                    prvNum += num[i];<br/>                }    <br/>            }    <br/>        }<br/>        <br/>        return total;<br/>    }<br/>    <br/>    static int findPar(int p, int[] parent) {<br/>        if (p == parent[p]) return p;<br/>        return parent[p] = findPar(parent[p], parent);    <br/>    }<br/>    <br/>    static void union(int p1, int p2, int[] parent, long[] num) {<br/>        if (num[p1] &lt;= num[p2]) {<br/>            parent[p1] = p2;<br/>            num[p2] += num[p1];<br/>        }    <br/>        else {<br/>            parent[p2] = p1;<br/>            num[p1] += num[p2];<br/>        }<br/>    }<br/>}<br/><br/>public class Solution {<br/>    public static void main(String[] args) throws IOException {<br/>        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));<br/>        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv("OUTPUT_PATH")));<br/><br/>        String[] firstMultipleInput = bufferedReader.readLine().replaceAll("\\s+$", "").split(" ");<br/><br/>        int n = Integer.parseInt(firstMultipleInput[0]);<br/><br/>        int p = Integer.parseInt(firstMultipleInput[1]);<br/><br/>        List&lt;List&lt;Integer&gt;&gt; astronaut = new ArrayList&lt;&gt;();<br/><br/>        IntStream.range(0, p).forEach(i -&gt; {<br/>            try {<br/>                astronaut.add(<br/>                    Stream.of(bufferedReader.readLine().replaceAll("\\s+$", "").split(" "))<br/>                        .map(Integer::parseInt)<br/>                        .collect(toList())<br/>                );<br/>            } catch (IOException ex) {<br/>                throw new RuntimeException(ex);<br/>            }<br/>        });<br/><br/>        long result = Result.journeyToMoon(n, astronaut);<br/><br/>        bufferedWriter.write(String.valueOf(result));<br/>        bufferedWriter.newLine();<br/><br/>        bufferedReader.close();<br/>        bufferedWriter.close();<br/>    }<br/>}</span></pre><p id="065c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">以上在Java 8中100%通过，如下:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/40b42901d61918f1e60f73b5cbe701ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BE8xbwfgdozy6G1BeSTQaA.png"/></div></div></figure><p id="469b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">编码快乐！</p></div><div class="ab cl mn mo gp mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hb hc hd he hf"><p id="37bf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="mu">问题，想法？在这里留下评论。跟随我成为有趣的解决问题之旅的一部分。</em></p></div></div>    
</body>
</html>