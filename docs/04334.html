<html>
<head>
<title>How to use Strapi with Angular Universal Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将Strapi与Angular Universal应用程序配合使用</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-use-strapi-with-angular-universal-apps-e8ff3bdca205?source=collection_archive---------38-----------------------#2021-06-24">https://medium.com/geekculture/how-to-use-strapi-with-angular-universal-apps-e8ff3bdca205?source=collection_archive---------38-----------------------#2021-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c0445e7c234b7aed6f131680a2b3bbe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gqRFn47x473OAYTcKh4V5w.png"/></div></div></figure><p id="966d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Angular是一个强大的功能丰富的平台，可以用来创建各种单页应用程序，从简单的网站到更复杂的网站。有了它，您可以使用它集成的各种工具和库来构建高效的本机、web和移动应用程序。然而，用它构建的应用程序仍有改进的余地。例如，使用Angular Universal，您可以在服务器端呈现您的应用程序，以加快页面加载速度，提高SEO和性能。</p><p id="b97a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">服务器端渲染包括在服务器上将应用程序转换为HTML。当您向服务器发送特定路径的请求时，它会返回一个完全静态的HTML页面作为响应。不需要发出额外的请求来用数据和资源填充页面，因为它们都包含在响应中。页面看起来几乎和客户端在DOM中呈现的一样，但有时功能有限。</p><p id="cc6e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Angular Universal是一套在服务器端渲染Angular apps的工具。在服务器上，通用模板引擎采用Angular应用程序，并在发出请求时创建静态页面。然后将页面转发给客户端。它很可能被称为通用的，因为它可以在浏览器之外的其他平台上运行。</p><p id="76c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">服务器端渲染的应用加载速度更快。向用户显示一个静态页面，以便在应用程序的其余部分加载时吸引他们。Angular Universal提供的静态页面在搜索引擎网络爬虫访问时很容易索引。这种服务器端呈现提高了站点的SEO分数。此外，SSR页面提供了更好的用户体验，尤其是在功能较弱的设备上，这些设备可能无法运行完整的Angular应用程序。</p><p id="f3fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Strapi是一个开源的内容api。可以使用REST或GraphQL来消费其中的数据。有了它，您可以相对快速地设置API。它还提供了一个管理面板，您可以在其中管理API和内容。你可以使用它与几个不同的数据库，如SQLite，MySQL，PostgresSQL，MongoDB等。此外，它是高度可定制的，并提供了许多插件来补充API。</p><p id="57fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文将介绍如何在Angular Universal应用程序中使用Strapi。首先，您将设置一个Strapi服务器。然后，您将创建一个Angular Universal应用程序，它将使用来自Strapi的数据。</p><h1 id="0683" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">先决条件</h1><p id="e160" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在开始之前，您需要安装节点。你可以在这里找到如何得到它<a class="ae kr" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">。节点的版本需要至少为12，最多为14。您还必须安装Angular CLI。</a><a class="ae kr" href="https://angular.io/cli" rel="noopener ugc nofollow" target="_blank">本指南</a>将带你了解如何做到这一点。</p><h1 id="1e39" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">项目示例</h1><p id="42fa" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">为了说明如何在Angular Universal应用程序中使用Strapi，您将构建一个名为Tour Events的应用程序。它会列出巡回演出的日期和地点。Strapi将为事件提供数据，Angular Universal应用程序将使用并显示这些数据。</p><h1 id="b324" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">设置Strapi</h1><p id="20d1" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">首先，您将安装Strapi并创建一个新项目。该项目将被称为<code class="du ks kt ku kv b">tour-server</code>。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="fd2e" class="le jp hi kv b fi lf lg l lh li">npx create-strapi-app tour-server --quickstart</span></pre><p id="2223" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦服务器启动，前往<a class="ae kr" href="http://localhost:1337/admin" rel="noopener ugc nofollow" target="_blank">http://localhost:1337/admin</a>的管理面板。系统将提示您创建新的管理员。一旦您创建了一个，您将被路由到仪表板。</p><p id="66f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，您将创建一个<code class="du ks kt ku kv b">Tour Event</code>内容类型。此内容类型将作为您将添加的事件数据的结构。单击侧面导航中的“内容类型生成器”链接。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/319a6cb2bfd7be1cfc577b415d17fa04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HsIRlS3Ct8o_479J.png"/></div></div></figure><p id="c3f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在“内容类型”菜单中，单击“新建集合类型”链接。您应该会看到下面的弹出窗口。将类型Tour Event命名为**s**，然后单击继续按钮。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/29587bc126fc537d7a7d62a6856d38ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*67pUPGTIaUKzX2k_.png"/></div></div></figure><p id="0097" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下一个对话框中，将提示您添加一个字段并选择一种类型。例如，旅游事件**s类型将有六个字段:地点、日期、城市、地区、国家和门票链接。因此，您将首先创建一个类型为text**的场所字段。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/512a2a49ae97462c0d8d5561ad05111b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qkgZz6dy9MaTrXjs.png"/></div></div></figure><p id="931b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在对话框中，输入场地名称，然后进入高级设置。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/9d8b027b72ae857e028ce254d949dc4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LiYm-21_y9VxY5JL.png"/></div></div></figure><p id="fbb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在高级设置中，通过单击复选框使字段成为必填字段。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/171836845be20f51a3d2e98fc559c5c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BK7HMLkKYEre035l.png"/></div></div></figure><p id="b891" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之后，单击Add another field按钮创建其余的五个字段。完成后，游览事件类型应该类似于下图。添加完所有字段后，单击Finish按钮。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/2a0028020b5a60281c2de1e915230fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2juRWBUoiupI-KUu.png"/></div></div></figure><p id="eda7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">巡回赛类型现在将出现在侧面导航中。要添加新活动，请单击导航中的游览活动链接。它会告诉你所有可以参加的旅游活动。然后，单击Add New Tour Events按钮显示添加新事件的视图。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/c1699e804691246f4813c5a616591370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*shnA_8P0PUFOgIwD.png"/></div></div></figure><p id="b046" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">单击该按钮后，将显示一个弹出表单，您可以在其中添加新事件。添加一对作为虚拟数据。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/f6447cef157f305e7f7f57cb85f0ef02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ST9rB8urVycScJJI.png"/></div></div></figure><p id="1160" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您需要做的最后一件事是让API使用事件数据。您可以通过单击侧面导航栏中的“设置”链接来完成此操作。然后，在用户和权限插件下的设置页面中，单击角色链接。接下来，您应该会看到这个页面。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/5b83a0d5aee47879e40b0e847286cf98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zu7Kjoaj5JkCSfOv.png"/></div></div></figure><p id="07c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在“权限”下，将有一个游览活动的复选框列表。单击查找复选框，然后单击保存。此选项将使您能够为游览事件发出GET请求。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/9475584cc4747ccca7d72ee3a564e0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OPsIOht9D4xuWKJO.png"/></div></div></figure><p id="8272" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你去<a class="ae kr" href="http://localhost:1337/tour-events" rel="noopener ugc nofollow" target="_blank">http://localhost:1337/tour-events</a>，它会显示你创建的游览活动列表。</p><h1 id="25b1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">初始化和设置您的角度应用程序</h1><p id="c8e5" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在本节中，您将创建显示游览事件的Angular应用程序。它将被称为<code class="du ks kt ku kv b">tour-app</code>。要创建它，请运行:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="731a" class="le jp hi kv b fi lf lg l lh li">ng new tour-app</span></pre><p id="815e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当提示添加路由时，选择yes并选择CSS进行样式设置。该应用程序将只包含一个组件，但你将它的结构，以允许未来更多的组件。</p><p id="64f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该应用程序将有两个额外的模块:一个功能模块和一个核心模块。核心模块将包含应用程序的所有核心内容，如服务和模型。最后，功能模块将托管应用程序的功能。</p><p id="7117" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以通过运行以下命令来生成这些模块:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="4822" class="le jp hi kv b fi lf lg l lh li">ng g m core<br/>ng g m features</span></pre><p id="7eee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，在<code class="du ks kt ku kv b">environments/environment.ts</code>文件中，您将向<code class="du ks kt ku kv b">environment</code>常量添加一个<code class="du ks kt ku kv b">apiUrl</code>。这个URL将指向Strapi服务器。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="996b" class="le jp hi kv b fi lf lg l lh li">// src/environments/environment.ts<br/>export const environment = {<br/>  production: false,<br/>  apiUrl: 'http://localhost:1337/'<br/>};</span></pre><h1 id="8318" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">添加与Strapi一起使用的服务</h1><p id="78dd" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">设置好app后，你会在核心模块的模型的文件夹中添加一个<code class="du ks kt ku kv b">TourEvent</code>界面。您将通过运行以下命令来生成它:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="2c8b" class="le jp hi kv b fi lf lg l lh li">ng g interface core/models/tour-event</span></pre><p id="20ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用您在Strapi管理仪表板中创建的字段填充文件。当在应用程序的不同部分为函数指定返回类型时，这个接口会很有帮助。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="87db" class="le jp hi kv b fi lf lg l lh li">// src/app/core/models/tour-event.ts<br/>export interface TourEvent {<br/>    id: string;<br/>    city: string;<br/>    country: string;<br/>    date: Date;<br/>    region: string;<br/>    ticketsLink: string;<br/>    venue: string;<br/>}</span></pre><p id="dae7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用Strapi API，您需要将<code class="du ks kt ku kv b">HttpClientModule</code>作为导入添加到<code class="du ks kt ku kv b">AppModule</code>。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="9881" class="le jp hi kv b fi lf lg l lh li">// src/app/app.module.ts<br/>import { HttpClientModule } from '@angular/common/http';<br/>...</span><span id="6e89" class="le jp hi kv b fi lr lg l lh li">@NgModule({<br/>  ...<br/>  imports: [<br/>    ...<br/>    HttpClientModule<br/>  ]<br/>})<br/>export class AppModule { }</span></pre><p id="b833" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，您将为旅游事件创建服务。您将按如下方式生成它:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="ef37" class="le jp hi kv b fi lf lg l lh li">ng g s core/services/tour-events</span></pre><p id="57c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在服务文件中，您将创建一个<code class="du ks kt ku kv b">getEvents</code>方法，该方法将点击<a class="ae kr" href="http://localhost:1337/tour-events" rel="noopener ugc nofollow" target="_blank">http://localhost:1337/tour-events</a>路由并返回所有事件。该服务将如下所示:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="2f2f" class="le jp hi kv b fi lf lg l lh li">// src/app/core/services/tour-events.service.ts<br/>import { HttpClient } from '@angular/common/http';<br/>import { Injectable } from '@angular/core';<br/>import { environment } from 'src/environments/environment';<br/>import { TourEvent } from '../models/tour-event';</span><span id="ff62" class="le jp hi kv b fi lr lg l lh li">@Injectable({<br/>  providedIn: 'root'<br/>})<br/>export class TourEventsService {<br/>  private eventsPath = 'tour-events';</span><span id="000f" class="le jp hi kv b fi lr lg l lh li">  constructor(private http: HttpClient) { }</span><span id="fa46" class="le jp hi kv b fi lr lg l lh li">  getEvents(){<br/>    return this.http.get&lt;TourEvent[]&gt;(environment.apiUrl+this.eventsPath);<br/>  }<br/>}</span></pre><h1 id="ab7b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">创建查看事件的页面</h1><p id="3597" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">最后，您将创建<code class="du ks kt ku kv b">TourEventsComponent</code>。该组件将作为显示服务中所有旅游活动的页面。您将通过运行以下命令来生成它:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="faa1" class="le jp hi kv b fi lf lg l lh li">ng g c features/tour-events</span></pre><p id="a2a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，您将在构造函数中注入<code class="du ks kt ku kv b">TourEventsService</code>并调用其<code class="du ks kt ku kv b">getEvents</code>方法，并将结果分配给<code class="du ks kt ku kv b">events$</code>属性，您将在模板中使用该属性。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="4d79" class="le jp hi kv b fi lf lg l lh li">// src/app/features/tour-events/tour-events.component.ts<br/>import { Component } from '@angular/core';<br/>import { TourEventsService } from 'src/app/core/services/tour-events.service';<br/>@Component({<br/>  selector: 'app-tour-events',<br/>  templateUrl: './tour-events.component.html',<br/>  styleUrls: ['./tour-events.component.css']<br/>})<br/>export class TourEventsComponent {<br/>  events$ = this.eventService.getEvents();<br/>  constructor(private eventService: TourEventsService) { }<br/>}</span></pre><p id="57f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在模板中，创建一个包含五列的表，对应于一个事件的字段。对于表数据，您应该通过事件进行循环。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="53ef" class="le jp hi kv b fi lf lg l lh li">&lt;!-- src/app/features/tour-events/tour-events.component.html --&gt;<br/>&lt;h1&gt;Tour Events&lt;/h1&gt;<br/>&lt;table *ngIf="events$ | async as events"&gt;<br/>    &lt;tr&gt;<br/>        &lt;th&gt;Date&lt;/th&gt;<br/>        &lt;th&gt;Venue&lt;/th&gt;<br/>        &lt;th&gt;City&lt;/th&gt;<br/>        &lt;th&gt;Time&lt;/th&gt;<br/>        &lt;th&gt;Tickets&lt;/th&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr *ngFor="let event of events"&gt;<br/>        &lt;td&gt;{{event.date | date: 'fullDate'}}&lt;/td&gt;<br/>        &lt;td&gt;{{event.venue | titlecase}}&lt;/td&gt;<br/>        &lt;td&gt;<br/>            &lt;span *ngIf="event.region"&gt;{{event.city | titlecase}}, {{event.region | uppercase}} ({{event.country |<br/>                uppercase}})&lt;/span&gt;<br/>            &lt;span *ngIf="!event.region"&gt;{{event.city | titlecase}} ({{event.country | uppercase}})&lt;/span&gt;<br/>        &lt;/td&gt;<br/>        &lt;td&gt;{{event.date | date: 'shortTime'}}&lt;/td&gt;<br/>        &lt;td&gt;&lt;a href="{{event.ticketsLink}}"&gt;Tickets&lt;/a&gt;&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>&lt;/table&gt;</span></pre><p id="61ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是你如何设计组件的样式。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="32e9" class="le jp hi kv b fi lf lg l lh li">/* src/app/features/tour-events/tour-events.component.css */<br/>* {<br/>    font-family: arial, sans-serif;<br/>}</span><span id="a623" class="le jp hi kv b fi lr lg l lh li">h1 {<br/>  text-align: center;<br/>}</span><span id="e0df" class="le jp hi kv b fi lr lg l lh li">table {<br/>    border-collapse: collapse;<br/>    width: 100%;<br/>}<br/>  <br/>td, th {<br/>  border-bottom: 1px solid lightgray;<br/>  text-align: left;<br/>  padding: 8px;<br/>}</span><span id="c82d" class="le jp hi kv b fi lr lg l lh li">tr:nth-child(even) {<br/>  background-color: #f5f5f5;<br/>}</span></pre><p id="2cb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在app routing模块中，为<code class="du ks kt ku kv b">TourEventsComponent</code>添加一条路线，以便预览。</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="d5c8" class="le jp hi kv b fi lf lg l lh li">// src/app/app-routing.module.ts<br/>...<br/>import { TourEventsComponent } from './tour-events/tour-events.component';<br/>import { Routes, RouterModule } from '@angular/router';</span><span id="2931" class="le jp hi kv b fi lr lg l lh li">const routes: Routes = [<br/>  { path: '', component: TourEventsComponent}<br/>];</span><span id="a14e" class="le jp hi kv b fi lr lg l lh li">@NgModule({<br/>  declarations: [<br/>    TourEventsComponent<br/>  ],<br/>  imports: [<br/>    ...<br/>    RouterModule.forChild(routes)<br/>  ]<br/>})<br/>export class FeaturesModule { }</span></pre><p id="0af3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在运行应用程序之前，请确保将<code class="du ks kt ku kv b">app.component.html</code>的内容替换为:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="1b67" class="le jp hi kv b fi lf lg l lh li">&lt;!-- src/app/app.component.html --&gt;<br/>&lt;router-outlet&gt;&lt;/router-outlet&gt;</span></pre><p id="2107" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在运行应用程序:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="c6f6" class="le jp hi kv b fi lf lg l lh li">ng serve</span></pre><p id="b149" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转到<a class="ae kr" href="http://localhost:4200/" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>，您应该会看到类似这样的内容:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/f216d738f705fbcde07330393c3b0ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V8-AlR-jL0LPSEuK.png"/></div></div></figure><h1 id="3573" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">添加角度通用</h1><p id="187f" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在设置服务器端渲染时，Angular CLI非常方便。Angular Universal使用Node.js Express服务器创建静态HTML页面并响应请求。然后，使用通用模板引擎呈现页面。</p><p id="c898" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它采用请求的路径、包含组件的模块和模板页面。它使用路径来决定使用什么组件，在模板中呈现视图，并生成一个HTML页面。然后将页面提供给客户端。</p><p id="14bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要创建服务器端应用程序模块，请运行:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="94bf" class="le jp hi kv b fi lf lg l lh li">ng add @nguniversal/express-engine</span></pre><p id="cb97" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行上述命令将添加所需的依赖项、web服务器、服务器模块以及服务器端呈现所需的其他设置。要预览SSR站点，请运行:</p><pre class="kw kx ky kz fd la kv lb lc aw ld bi"><span id="35ec" class="le jp hi kv b fi lf lg l lh li">npm run dev:ssr</span></pre><p id="0f08" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该应用将像以前一样在<a class="ae kr" href="http://localhost:4200/" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>上提供。该网站应该看起来和上面的截图一样。唯一的区别是视图将是一个完整的HTML页面。</p><h1 id="a545" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="7c36" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">Angular Universal站点对于SEO来说是非常棒的，有着快速的加载时间和更好的性能。然而，仅仅因为它们呈现在服务器端，并不意味着使用外部API变得更加复杂。使用Strapi，您可以构建Angular Universal应用程序可以轻松使用的api。</p><p id="265d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要了解更多关于Angular Universal的信息，请点击<a class="ae kr" href="https://angular.io/guide/universal" rel="noopener ugc nofollow" target="_blank">链接</a>。更多关于你可以用Strapi做什么的信息，请查看他们的<a class="ae kr" href="https://strapi.io/resource-center" rel="noopener ugc nofollow" target="_blank">资源中心</a>。你可以在这里找到这个项目<a class="ae kr" href="https://github.com/zaracooper/tour-app" rel="noopener ugc nofollow" target="_blank">的代码。</a></p></div></div>    
</body>
</html>