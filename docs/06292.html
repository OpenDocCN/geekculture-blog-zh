<html>
<head>
<title>Analyzing 120 years of Olympics data — A Beginner’s exercise to Data Analysis with Python and Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析120年的奥运会数据——使用Python和Pandas进行数据分析的初学者练习</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/analyzing-120-years-of-olympics-data-a-beginners-exercise-to-data-analysis-with-python-and-ebee106526d1?source=collection_archive---------18-----------------------#2021-08-16">https://medium.com/geekculture/analyzing-120-years-of-olympics-data-a-beginners-exercise-to-data-analysis-with-python-and-ebee106526d1?source=collection_archive---------18-----------------------#2021-08-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3dcb54bb90598a9887cdcac58a3b0ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Auzr-AQfeGsbI8YJWDWmRg.jpeg"/></div></div></figure><h1 id="afe8" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">概观</h1><p id="6600" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">这个笔记本是一个分析奥运数据集的练习，该数据集在<a class="ae km" href="https://www.kaggle.com/mysarahmadbhat/120-years-of-olympic-history/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上公开。本次活动我们有以下目标-</p><ul class=""><li id="a06b" class="kn ko hi jq b jr kp jv kq jz kr kd ks kh kt kl ku kv kw kx bi translated">从我们现有的数据中获得一些有趣的见解，比如说奥运会历史上赢得最多金牌的人，每年参加的国家数量等等。</li><li id="cc91" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">学习目的—使用pandas、matplotlib和seaborn库来分析数据，并为我们提供一个有趣的用例来应用这些技能</li></ul><h1 id="4dc3" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">主要步骤</h1><p id="2d1e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我们将执行以下主要步骤-</p><ul class=""><li id="d46d" class="kn ko hi jq b jr kp jv kq jz kr kd ks kh kt kl ku kv kw kx bi translated">设置您的工作环境—下载像pandas、numpy、matplotlib、seaborn这样的库</li><li id="0486" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">使用由<a class="ae km" href="https://jovian.ai/" rel="noopener ugc nofollow" target="_blank"> jovian </a>开发的<a class="ae km" href="https://github.com/JovianML/opendatasets" rel="noopener ugc nofollow" target="_blank"> opendatasets </a>库从<a class="ae km" href="https://www.kaggle.com/mysarahmadbhat/120-years-of-olympic-history/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>下载数据</li><li id="08b8" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">执行基本分析并绘制seaborn图</li><li id="5b48" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">总结你的统计数据</li><li id="6c8c" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">可选—在网页上展示您的见解</li></ul><h1 id="c0bf" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">步骤1 —设置我们的工作环境</h1><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="b479" class="lm ir hi li b fi ln lo l lp lq"><em class="lr">#Import required libraries </em><br/><strong class="li hj">import</strong> <strong class="li hj">pandas</strong> <strong class="li hj">as</strong> <strong class="li hj">pd</strong><br/><strong class="li hj">import</strong> <strong class="li hj">matplotlib.pyplot</strong> <strong class="li hj">as</strong> <strong class="li hj">plt</strong><br/><strong class="li hj">import</strong> <strong class="li hj">seaborn</strong> <strong class="li hj">as</strong> <strong class="li hj">sns</strong></span><span id="74dd" class="lm ir hi li b fi ls lo l lp lq"><em class="lr">#Ensures that matplotlib and seaborn graphs are visible within notebook</em><br/>%matplotlib inline <br/><br/><em class="lr">#Setup up style and theming for seaborn graphs </em><br/>sns.set_theme(style="darkgrid")<br/>sns.set_context("paper")<br/>plt.figure(figsize=(8,6))<br/><br/><em class="lr">#Ensures that you see all (500) columns within notebook</em><br/>pd.set_option('display.max_columns', 500)<br/>pd.set_option('display.width', 1000)</span></pre><h1 id="7549" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">步骤2-下载数据</h1><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="6bd4" class="lm ir hi li b fi ln lo l lp lq"><strong class="li hj">import</strong> <strong class="li hj">opendatasets</strong> <strong class="li hj">as</strong> <strong class="li hj">od</strong><br/>dataset_url = "https://www.kaggle.com/mysarahmadbhat/120-years-of-olympic-history/"<br/><br/><em class="lr">#This will prompt to ask for your Kaggle username and access key. Please provide as an input</em><br/><em class="lr">#If not, you can download your kaggle.json from kaggle and upload it in same working directory of this notebook</em><br/><em class="lr">#It will then pick your credentials from kaggle.json</em><br/><em class="lr">#I will manually provide those inputs</em><br/>od.download(dataset_url)</span><span id="be0f" class="lm ir hi li b fi ls lo l lp lq">Skipping, found downloaded files in "./120-years-of-olympic-history" (use force=True to force download)</span></pre><p id="7851" class="pw-post-body-paragraph jo jp hi jq b jr kp jt ju jv kq jx jy jz lt kb kc kd lu kf kg kh lv kj kk kl hb bi translated">你的数据集被下载到一个名为“120年奥林匹克历史”的特殊目录中。让我们使用操作系统模块来处理目录，并获取下载文件的列表</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="d33a" class="lm ir hi li b fi ln lo l lp lq"><strong class="li hj">import</strong> <strong class="li hj">os</strong> <br/>datadir = "./120-years-of-olympic-history"<br/><br/>data_files = os.listdir(datadir)<br/>print("List of downloaded files - ", data_files)</span></pre><p id="a650" class="pw-post-body-paragraph jo jp hi jq b jr kp jt ju jv kq jx jy jz lt kb kc kd lu kf kg kh lv kj kk kl hb bi translated">我们每个人有四个文件夹。在excel中查看文件是一个很好的做法，可以快速查看您正在处理的数据，但我们也将使用pandas来完成这一工作。让我们将所有4个文件导入到我们的熊猫数据框架中</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="bddc" class="lm ir hi li b fi ln lo l lp lq"><em class="lr">#Create file paths for all files present in the directory</em><br/>file_country_definition_data_dictionary = datadir + "/" + data_files[0]<br/>file_country_definition = datadir + "/" + data_files[1]<br/>file_athelete_events_data_dictionary = datadir + "/" + data_files[2]<br/>file_athelete_events = datadir + "/" + data_files[3]</span><span id="0fb0" class="lm ir hi li b fi ls lo l lp lq">#Let us now import data into our dataframe and see if they are important for our analysis or are just helping data dictionary to understand manual data</span><span id="9628" class="lm ir hi li b fi ls lo l lp lq">country_definition_data_dictionary_df = pd.read_csv(file_country_definition_data_dictionary)<br/>print("Dataframe for Country Definition data dictionary file")<br/>print(country_definition_data_dictionary_df)</span><span id="b866" class="lm ir hi li b fi ls lo l lp lq">country_definition_df = pd.read_csv(file_country_definition)<br/>print("Dataframe for Country Definition file")<br/>print(country_definition_df)</span></pre><p id="5d7a" class="pw-post-body-paragraph jo jp hi jq b jr kp jt ju jv kq jx jy jz lt kb kc kd lu kf kg kh lv kj kk kl hb bi translated">上面的数据框是一个带有国家代码和国家名称的国家列表。如果您观察到第一个数据集文件中的值的列被用作第二个文件中的列</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="06c6" class="lm ir hi li b fi ln lo l lp lq">athelete_definition_data_dictionary_df = pd.read_csv(file_athelete_events_data_dictionary)<br/>print("Dataframe for Athelete events data dictionary file")<br/>print(athelete_definition_data_dictionary_df)</span></pre><p id="48a5" class="pw-post-body-paragraph jo jp hi jq b jr kp jt ju jv kq jx jy jz lt kb kc kd lu kf kg kh lv kj kk kl hb bi translated">这也是元数据，但很重要，它提供了我们将在主数据文件中看到的所有列的详细信息。让我们知道做导入最后和关键数据文件的重要工作</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="f970" class="lm ir hi li b fi ln lo l lp lq">athelete_events_df = pd.read_csv(file_athelete_events)<br/>print("Dataframe for Athelete events file")<br/>print(athelete_events_df)</span></pre><h1 id="78c9" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">步骤3 —进行基本数据分析</h1><h2 id="91bd" class="lm ir hi bd is lw lx ly iw lz ma mb ja jz mc md je kd me mf ji kh mg mh jm mi bi translated">有多少男性和女性出现在奥运会上？</h2><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="06fc" class="lm ir hi li b fi ln lo l lp lq">males_count = athelete_events_df[athelete_events_df["Sex"] == "M"]["Sex"].count()<br/>females_count = athelete_events_df[athelete_events_df["Sex"] == "F"]["Sex"].count()<br/><br/>print("Number of males - ", males_count)<br/>print("Number of females - ", females_count)</span><span id="121e" class="lm ir hi li b fi ls lo l lp lq"><br/>#Output</span><span id="d94c" class="lm ir hi li b fi ls lo l lp lq">#Number of males -  196594<br/>#Number of females -  74522</span></pre><h1 id="47ba" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">许多其他被回答的问题-</h1><ul class=""><li id="bf0b" class="kn ko hi jq b jr js jv jw jz mj kd mk kh ml kl ku kv kw kx bi translated">哪个运动员在奥运会上出场时间最长？</li><li id="cc06" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">奥运会历史上哪个国家获得的奖牌数最多？</li><li id="ac8b" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">有多少国家从未获得过奥运会奖牌？</li><li id="fc0d" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">有多少国家从未获得过奥运会金牌？</li><li id="b857" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">有多少国家从未获得过奥运会银牌？</li><li id="d1f7" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">有多少国家从未获得过奥运会铜牌？</li><li id="c5dc" class="kn ko hi jq b jr ky jv kz jz la kd lb kh lc kl ku kv kw kx bi translated">获得奥运会数据库中唯一的运动项目列表？</li></ul></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><h1 id="932b" class="iq ir hi bd is it mt iv iw ix mu iz ja jb mv jd je jf mw jh ji jj mx jl jm jn bi translated">形象化</h1><div class="ld le lf lg fd ab cb"><figure class="my ij mz na nb nc nd paragraph-image"><img src="../Images/04bc3015f8dd9e36900097e753af9574.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*yWAF98ZdWJCEiOokFKLywA.png"/></figure><figure class="my ij ne na nb nc nd paragraph-image"><img src="../Images/f4ca12727fc59eb19c15676e063d11d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*JT-mZsLkb_b1vGNmivDnkw.png"/></figure></div><div class="ab cb"><figure class="my ij nf na nb nc nd paragraph-image"><img src="../Images/3aaab3481489d39e179dcf340ea53760.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*dBg8XyhEWpgowhnd5fz4PA.png"/></figure><figure class="my ij ng na nb nc nd paragraph-image"><img src="../Images/4775eb1d345bfd93919da9254b29e9b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*1TMTUZ155CYUAX8bT2oH5Q.png"/><figcaption class="nh ni et er es nj nk bd b be z dx nl di nm nn">Simple basic graphs for basic visualization performed on the data</figcaption></figure></div><h1 id="d780" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">关于各种问题的结论</h1><p id="976b" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">这是我们所提问题的汇总答案图片</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es no"><img src="../Images/2d249d01d230abb54dc9e8870c6787f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_t1smLX6mqpHqA01w95jjg.png"/></div></div><figcaption class="nh ni et er es nj nk bd b be z dx">Answers to the questions we asked to Olympics dataset</figcaption></figure><h1 id="42a5" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">注意</h1><p id="1af6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">既然，我想保持简短，我将我所有的详细解释和源代码添加到我的<a class="ae km" href="https://github.com/AMMLRepos/Data-Analysis-120-years-of-olympic-history/blob/main/data_analysis_120_years_of_olympic.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> Google Colab笔记本</strong> </a> <strong class="jq hj"> </strong>中，可从我的<a class="ae km" href="https://github.com/AMMLRepos/Data-Analysis-120-years-of-olympic-history/blob/main/data_analysis_120_years_of_olympic.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> GitHub资源库</strong> </a>中获得。请随意下载并尝试运行代码片段，探索更多内容。我会更新那个<a class="ae km" href="https://github.com/AMMLRepos/Data-Analysis-120-years-of-olympic-history/blob/main/data_analysis_120_years_of_olympic.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> Google Colab笔记本</strong> </a>更有趣的见解。</p></div></div>    
</body>
</html>