<html>
<head>
<title>Creating a Beautiful Clock Using HTML5 Canvas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用HTML5画布创建一个漂亮的时钟</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-a-beautiful-clock-using-html5-canvas-a67acefb3255?source=collection_archive---------22-----------------------#2021-04-16">https://medium.com/geekculture/creating-a-beautiful-clock-using-html5-canvas-a67acefb3255?source=collection_archive---------22-----------------------#2021-04-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="77d2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">重温我4年前创作的时钟</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b224a5e2af5797d1d403525dff3f457f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fI7lgmeigYz3o3EV_NnXng.png"/></div></div></figure><p id="7cad" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">HTML5为我们提供了<a class="ae kf" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="noopener ugc nofollow" target="_blank"> Canvas API </a>，它可以用来使用Javascript在浏览器上绘制图形。我们可以通过在HTML中添加一个<strong class="jl hj">画布</strong>标签来开始在浏览器中绘制图形。它类似于我们用来绘画的真正的<a class="ae kf" href="https://en.wikipedia.org/wiki/Canvas" rel="noopener ugc nofollow" target="_blank">画布</a>。我们可以绘制各种形状和文本，并用Javascript制作动画。</p><p id="dcc3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在本文中，我们将使用HTML5 Canvas和Javascript创建一个漂亮的时钟。</p><h1 id="0d2e" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">添加HTML布局</h1><p id="4f28" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">首先，我们将从添加一个带有<strong class="jl hj"> canvas </strong>标签的HTML文件开始</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ld"><img src="../Images/8973db7aae5ef4c9bc88d89a4678f2b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vT5iZdaHWAcBzKhv1asNzw.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">index.html</figcaption></figure></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><h1 id="fca3" class="kg kh hi bd ki kj lp kl km kn lq kp kq io lr ip ks ir ls is ku iu lt iv kw kx bi translated">添加CSS样式</h1><p id="da32" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">接下来，我们将添加一个CSS文件，该文件包含了<strong class="jl hj"> body </strong>标签的一些基本样式。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ld"><img src="../Images/d5d3ad99eacd6fad220613ecb1ddc394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8w6Rox341E7A0SGCYWoWw.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">style.css</figcaption></figure></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><h1 id="33c5" class="kg kh hi bd ki kj lp kl km kn lq kp kq io lr ip ks ir ls is ku iu lt iv kw kx bi translated">添加Javascript —逻辑</h1><p id="7180" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">时钟包含文本和不同的形状，如矩形，弧形等。我们将添加代码来创建这些基本的形状。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ld"><img src="../Images/c7b8657e0abd01e967031ef977764155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RFW4A8MDdRx8LHNKryqoRQ.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">draw_component.js</figcaption></figure><p id="5239" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在上面的文件中，我们添加了创建矩形、圆形和文本的逻辑。</p><p id="5913" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">接下来，我们将添加基于当前时间呈现时钟的代码。为此，我们需要添加一些逻辑来决定时针、分针和秒针的当前位置。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/bbe0d84225f0d1c8e6d605b79f0eae1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Tk0ahswzvCaXNa3kH3n8w.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">script.js</figcaption></figure><p id="fc45" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们的脚本包含3个部分。</p><p id="ddf8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">第一部分</strong> -第1至26行<br/> <strong class="jl hj">第二部分</strong> -第29至40行<br/> <strong class="jl hj">第三部分</strong> -第45至92行</p><h2 id="89ef" class="lv kh hi bd ki lw lx ly km lz ma mb kq js mc md ks jw me mf ku ka mg mh kw mi bi translated">第一部分</h2><p id="7d68" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">在这里，我们查询canvas元素并初始化一个2D上下文，因为我们将在一个2D平面上工作。我们还定义了几个变量来保存时针、分针和秒针的颜色。</p><h2 id="ebb7" class="lv kh hi bd ki lw lx ly km lz ma mb kq js mc md ks jw me mf ku ka mg mh kw mi bi translated">第二部分</h2><p id="2383" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">这里我们有一个<strong class="jl hj"> init </strong>方法，它将在执行脚本时被调用。在<strong class="jl hj"> init </strong>方法中，我们定义了画布的<strong class="jl hj">宽度</strong>和<strong class="jl hj">高度</strong>。此外，我们调用了方法<strong class="jl hj">window . request animation frame</strong>，并将<strong class="jl hj"> draw </strong>方法(第45行)作为参数。window.requestAnimationFrame每秒执行方法<strong class="jl hj"> 60次</strong>，从而使其成为动画。</p><h2 id="2395" class="lv kh hi bd ki lw lx ly km lz ma mb kq js mc md ks jw me mf ku ka mg mh kw mi bi translated">第三部分</h2><p id="8b8b" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">这里我们添加了核心逻辑，它根据当前时间计算时针、分针和秒针的当前位置。由于<strong class="jl hj"> requesAnimationFrame </strong>方法被重复调用，画布根据时间用指针的新位置重新绘制。</p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><p id="f3f1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">最后，这个钟看起来棒极了。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/5f4b18d6638258fda572e69bda58a7d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zXErhOuNMDimc8OW5Waxew.gif"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">Preview</figcaption></figure><p id="7cc9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">预告</strong>-【https://codepen.io/ganeshkumarm/full/MobJdo】<br/><strong class="jl hj">源代码</strong>-<a class="ae kf" href="https://github.com/ganeshkumarm1/CanvasClock" rel="noopener ugc nofollow" target="_blank">https://github.com/ganeshkumarm1/CanvasClock</a></p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><h1 id="f463" class="kg kh hi bd ki kj lp kl km kn lq kp kq io lr ip ks ir ls is ku iu lt iv kw kx bi translated">谢谢你🤘</h1><p id="283f" class="pw-post-body-paragraph jj jk hi jl b jm ky ij jo jp kz im jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">想了解我更多，请访问<a class="ae kf" href="https://www.ganeshkumarm.me/" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">ganeshkumarm . me</strong></a></p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://www.buymeacoffee.com/ganeshkumarm"><div class="er es mk"><img src="../Images/7872e0c329bda2a22946abd0c827b89e.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*6TcLwitXBT9FyyFxUxV5fg.png"/></div></a></figure></div></div>    
</body>
</html>