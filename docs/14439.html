<html>
<head>
<title>I lost 50L+ package, because I couldn’t answer this JavaScript question.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我丢了50L+包，因为我回答不了这个JavaScript问题。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/i-lost-50l-package-because-i-couldnt-answer-this-javascript-question-2259bf90d021?source=collection_archive---------0-----------------------#2022-09-02">https://medium.com/geekculture/i-lost-50l-package-because-i-couldnt-answer-this-javascript-question-2259bf90d021?source=collection_archive---------0-----------------------#2022-09-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="270f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一轮决定性的面试，有3个问题，我正确回答了第一个问题，第二个问题部分正确。现在，第三个问题是一个决定性因素，我无法回答它，因此我失去了一个非常好的包。我写了50L，所以你会点击我的文章，但它真的是一个很好的包。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="1f6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">问题是什么？</p><p id="e643" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">"如何在JS中记忆带有可变参数的函数"</p><p id="d109" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你懒得看文章，可以看看我下面的Youtube视频。如果没有，可以继续阅读。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="jp jq l"/></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/210274b0ff56867a0713db71242e94cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMTECdZPNZdSAjyFIJZ3rA.png"/></div></div></figure></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><blockquote class="jy jz ka"><p id="80a5" class="if ig kb ih b ii ij ik il im in io ip kc ir is it kd iv iw ix ke iz ja jb jc hb bi translated"><strong class="ih hj">问题解释:</strong></p></blockquote><pre class="jk jl jm jn fd kf kg kh ki aw kj bi"><span id="a488" class="kk kl hi kg b fi km kn l ko kp">function add(num1,num2){<br/>   return num1 + num2;<br/>}</span><span id="5f41" class="kk kl hi kg b fi kq kn l ko kp">function multiply(num1,num2, num3){<br/>   return num1 * num2 * num3;<br/>}</span><span id="f946" class="kk kl hi kg b fi kq kn l ko kp">console.log(add(10,20))<br/>console.log(add(10,20))<br/>console.log(add(10,20))</span></pre><p id="c6ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们用相同的参数调用了add函数3次。我们可以记住add函数，并在第二次调用同一个函数时使用它，而不是计算3次加法。你写的记忆函数应该记忆所有的函数(例如:乘，加在上面的代码片段中)。</p><blockquote class="jy jz ka"><p id="bd44" class="if ig kb ih b ii ij ik il im in io ip kc ir is it kd iv iw ix ke iz ja jb jc hb bi translated"><strong class="ih hj">什么是记忆化</strong></p></blockquote><p id="6aa8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于那些不知道什么是记忆的人来说，这里有一个定义:</p><p id="4d41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在计算中，记忆化是一种优化技术，主要用于加速计算机程序，方法是存储昂贵的函数调用的结果，并在相同的输入再次出现时返回缓存的结果</p><p id="c0f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单示例:</p><p id="3968" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设你要算20！，计算完19！不用计算19！再乘以20。你可以只存储19的结果！然后乘以20。这样会节省很多时间和内存。</p><blockquote class="jy jz ka"><p id="eba8" class="if ig kb ih b ii ij ik il im in io ip kc ir is it kd iv iw ix ke iz ja jb jc hb bi translated"><strong class="ih hj">如何解决上述问题</strong></p></blockquote><p id="5b01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它有两个基本问题</p><ol class=""><li id="68d1" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">唯一标识函数及其参数的策略。</li><li id="3809" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">写记忆功能</li></ol><p id="e11c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们一个一个地解决问题。</p><blockquote class="jy jz ka"><p id="5306" class="if ig kb ih b ii ij ik il im in io ip kc ir is it kd iv iw ix ke iz ja jb jc hb bi translated"><strong class="ih hj"> 1。唯一标识函数及其参数的策略。</strong></p></blockquote><p id="acfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终，memoize是一个具有键值对的对象。</p><p id="b5bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:</p><p id="20da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">{</p><p id="31fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">【关键】:价值</p><p id="b3b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">}</p><p id="9510" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了记忆一个函数，我们需要为每个带有参数的函数调用找到一个唯一的id。</p><p id="ee56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是相同的代码。</p><pre class="jk jl jm jn fd kf kg kh ki aw kj bi"><span id="4d2f" class="kk kl hi kg b fi km kn l ko kp">function getUniqueId(fn, args){</span><span id="8180" class="kk kl hi kg b fi kq kn l ko kp">let uniqueId = [];</span><span id="2cc7" class="kk kl hi kg b fi kq kn l ko kp">uniqueId = uniqueId.concat(fn.name, args);</span><span id="0401" class="kk kl hi kg b fi kq kn l ko kp">return uniqueId.join("|");</span><span id="0363" class="kk kl hi kg b fi kq kn l ko kp">}</span></pre><p id="5062" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:如果你把函数和参数作为[11，22]传递</p><p id="100d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">uniqueId将是"<strong class="ih hj"> add|11|22 </strong>"我们使用"<strong class="ih hj"> | </strong>"作为分隔符，因为我们需要唯一地标识像[1，222] [122，2]等参数，如果我们不使用"<strong class="ih hj"> | </strong>"，那么所有这些值的键将是相同的。</p><blockquote class="jy jz ka"><p id="1418" class="if ig kb ih b ii ij ik il im in io ip kc ir is it kd iv iw ix ke iz ja jb jc hb bi translated"><strong class="ih hj"> 2。写记忆功能</strong></p></blockquote><p id="eda6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非常简单，代码如下:</p><pre class="jk jl jm jn fd kf kg kh ki aw kj bi"><span id="c2c0" class="kk kl hi kg b fi km kn l ko kp">function memoize(fn){</span><span id="776e" class="kk kl hi kg b fi kq kn l ko kp">let cache = {};</span><span id="ad55" class="kk kl hi kg b fi kq kn l ko kp">    return function(...args){</span><span id="c5ce" class="kk kl hi kg b fi kq kn l ko kp">          let uniqueId = getUniqueId(fn, args);</span><span id="2f91" class="kk kl hi kg b fi kq kn l ko kp">           if(cache[uniqueId]){</span><span id="031e" class="kk kl hi kg b fi kq kn l ko kp">                  console.log('from cache');</span><span id="bb4f" class="kk kl hi kg b fi kq kn l ko kp">                  return cache[uniqueId];</span><span id="fdd4" class="kk kl hi kg b fi kq kn l ko kp">            }else{</span><span id="2865" class="kk kl hi kg b fi kq kn l ko kp">                  cache[uniqueId] = fn(...args);</span><span id="97de" class="kk kl hi kg b fi kq kn l ko kp">                  console.log('not from cache');</span><span id="60bc" class="kk kl hi kg b fi kq kn l ko kp">                   return cache[uniqueId]</span><span id="ffc2" class="kk kl hi kg b fi kq kn l ko kp">              }</span><span id="187e" class="kk kl hi kg b fi kq kn l ko kp">        }</span><span id="6150" class="kk kl hi kg b fi kq kn l ko kp">}<br/></span><span id="80d4" class="kk kl hi kg b fi kq kn l ko kp">let memoiseAdd = memoize(add);</span><span id="3ae7" class="kk kl hi kg b fi kq kn l ko kp">let memoiseMultiply = memoize(multiply);</span><span id="66c5" class="kk kl hi kg b fi kq kn l ko kp">console.log(memoiseAdd(10,20));</span><span id="c71f" class="kk kl hi kg b fi kq kn l ko kp">console.log(memoiseAdd(10,20));<br/></span><span id="3ffc" class="kk kl hi kg b fi kq kn l ko kp">console.log(memoiseMultiply(10,20,30));</span><span id="4873" class="kk kl hi kg b fi kq kn l ko kp">console.log(memoiseMultiply(10,20,30));</span></pre><p id="340e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在上面所做的是，我们创建了一个名为memoize的函数，它将一个函数作为输入，并返回另一个函数，该函数将不同的参数作为输出。由于<strong class="ih hj">闭包属性</strong>，返回的函数将可以访问作为参数传递的函数。</p><p id="b65b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后就很简单了<strong class="ih hj">memoisead</strong>引用一个函数，你可以用它来调用Add函数任意次，只要参数匹配，它就会返回缓存的值。</p><p id="40bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例缓存对象如下所示</p><pre class="jk jl jm jn fd kf kg kh ki aw kj bi"><span id="dfc1" class="kk kl hi kg b fi km kn l ko kp">{ 'add|10|20': 30 }<br/>{ 'multiply|10|20|30': 6000 }</span></pre><p id="4a76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">以上方法有一定的局限性:</strong></p><ol class=""><li id="9665" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">如果参数也包含“|”，那么管道不能作为分隔符。</li><li id="0ff1" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">它不能像匿名函数那样正确地传递函数。</li></ol><p id="848a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kb">这些可以用多种方法解决，我已经在我的Youtube视频中详细讨论过了。更多信息请观看。</em> </strong></p><p id="057f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您在下一篇文章中阅读catch you。如果你还没有在媒体上关注我，那么请关注我，你可以在链接的<a class="ae lf" href="https://www.linkedin.com/in/vasanth-bhat-4180909b/" rel="noopener ugc nofollow" target="_blank">这里</a>上关注我。别忘了订阅我的Youtube频道<a class="ae lf" href="https://www.youtube.com/channel/UCSCNvSCk_Z9mBvUM-FJexRg/videos" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="69ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想亲自和我讨论模拟面试，面试或简历审核的技巧和诀窍，你可以在这里预约:</p><p id="507e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lf" href="https://topmate.io/vasanth_bhat" rel="noopener ugc nofollow" target="_blank">https://topmate.io/vasanth_bhat</a></p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="5626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你正在准备前端开发者面试，请观看我的以下系列:</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="jp jq l"/></div></figure><p id="b71e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你是reactJS开发人员，正在寻找面试准备，请点击这里观看我的完整面试准备指南:</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="jp jq l"/></div></figure></div></div>    
</body>
</html>