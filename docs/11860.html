<html>
<head>
<title>Configure visual studio code as a default git editor, diff tool, or merge tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将visual studio代码配置为默认的git编辑器、比较工具或合并工具</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/configure-visual-studio-code-as-a-default-git-editor-diff-tool-or-merge-tool-291fd7088cc9?source=collection_archive---------1-----------------------#2022-04-13">https://medium.com/geekculture/configure-visual-studio-code-as-a-default-git-editor-diff-tool-or-merge-tool-291fd7088cc9?source=collection_archive---------1-----------------------#2022-04-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/89c7629a844f865410677c37fbc16fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KFIfRaOIxcz21KhL"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pankaj Patel</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="44d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我使用visual studio代码作为很多机会的固定工具，比如快速打开和编辑文件和源代码，因为它对我来说真的很轻很快。过了一段时间，我看着VS代码并思考，为什么我不用它作为一个g it工具来编写提交消息，获得文件之间的差异，或者解决合并冲突。</p><p id="f290" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以我发现VS代码可以被配置成git中一个非常方便的工具。</p><h1 id="fbc7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">从命令行运行VS代码</h1><p id="d0ba" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在将VS代码用作git编辑器之前，必须确保可以从命令行访问和运行它。您可以通过运行下面的CLI命令来测试access VS代码。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="53bd" class="lf ju hi lb b fi lg lh l li lj">$ code --version<br/>1.66.0<br/>e18005f0f1b33c29e81d732535d8c0e47cafb0b5<br/>x64</span></pre><p id="19d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果找不到该命令，您必须将VS代码引入您的操作系统，以便可以从CLI运行它:</p><ul class=""><li id="1d4c" class="lk ll hi ix b iy iz jc jd jg lm jk ln jo lo js lp lq lr ls bi translated">Windows:必须将VS代码安装的位置添加到环境变量设置中的PATH变量中。</li><li id="957b" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">Mac OS:按下<code class="du ly lz ma lb b">CMD+Shift+P</code>键，在命令面板中键入<code class="du ly lz ma lb b">Shell Command: Install 'Code' command in PATH</code>。</li><li id="752b" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">Linux:您必须从<code class="du ly lz ma lb b">.deb</code>或<code class="du ly lz ma lb b">.rpm</code>包文件中安装VS代码。</li></ul><h1 id="650c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">使用VS代码代替nano作为默认的git编辑器</h1><p id="695d" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">默认的git编辑器是Nano，我曾经使用vim作为git编辑器，直到我发现VS代码对此很方便。您可以使用下面的命令将VS代码配置为默认编辑器:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="e94f" class="lf ju hi lb b fi lg lh l li lj">$ git config --global core.editor "code --wait --new-window"</span></pre><p id="77ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个命令在一个新窗口中打开VS代码，git一直等到保存内容并关闭窗口。您可以通过以下命令删除VS代码:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="9f9d" class="lf ju hi lb b fi lg lh l li lj">$ git config --global --unset core.editor</span></pre><h1 id="19c4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">使用VS代码作为git默认的比较工具和合并工具</h1><p id="9662" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">默认的git diff工具是vimdiff，您可以通过下面的命令设置它:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="acd9" class="lf ju hi lb b fi lg lh l li lj">$ git config --global diff.tool vscode<br/>$ git config --global difftool.vscode.cmd 'code --wait --diff $LOCAL $REMOTE'</span></pre><p id="e71d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以通过以下命令取消设置这些配置:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="464d" class="lf ju hi lb b fi lg lh l li lj">$ git config --global --unset diff.tool<br/>$ git config --global --unset difftool.vscode.cmd</span></pre><p id="480f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Git没有默认的合并工具，您也可以使用vimdiff作为合并工具，或者通过下面的命令将VS代码设置为默认:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="54a8" class="lf ju hi lb b fi lg lh l li lj">$ git config --global merge.tool vscode<br/>$ git config --global mergetool.vscode.cmd 'code --wait $MERGED'</span></pre><p id="e97e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以像diff工具一样，通过在config命令后使用<code class="du ly lz ma lb b">--unset</code>标志来取消设置这些配置。</p><p id="344d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">经过这些更改后，我的全局git配置文件如下所示:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="4620" class="lf ju hi lb b fi lg lh l li lj">$ cat ~/.gitconfig<br/>...<br/>[merge]<br/>	tool = vscode<br/>[core]<br/>	editor = code --wait --new-window<br/>[difftool "vscode"]<br/>	cmd = code --wait --diff $LOCAL $REMOTE<br/>[diff]<br/>	tool = vscode<br/>[mergetool "vscode"]<br/>	cmd = code --wait $MERGED<br/>...</span></pre><p id="d9ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以将所有这些行复制到主目录(<code class="du ly lz ma lb b">~/.gitconfig</code>)中的git配置文件中，以设置上面的所有命令。</p><h1 id="a212" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="58b8" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我总是更喜欢使用默认的CLI工具，如vim，来使用git和其他命令行工具，因为有时您需要在只安装了默认工具的无头服务器中使用git和bash，所以您首先需要知道如何使用这些工具。另一方面，GUI工具帮助我们更快地做事情，不会在复杂的情况下感到困惑；VS代码是最好的免费工具之一，你可以在你的开发环境中用作编辑器和比较工具。</p><h1 id="5f38" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">资源</h1><ul class=""><li id="42de" class="lk ll hi ix b iy kr jc ks jg mb jk mc jo md js lp lq lr ls bi translated"><a class="ae iu" href="https://git-scm.com/doc" rel="noopener ugc nofollow" target="_blank"> git官方文档</a></li></ul></div></div>    
</body>
</html>