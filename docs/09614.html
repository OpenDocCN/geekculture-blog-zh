<html>
<head>
<title>Getting started with Kafka</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡夫卡入门</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/getting-started-with-kafka-c0e94ae4d81b?source=collection_archive---------8-----------------------#2021-12-19">https://medium.com/geekculture/getting-started-with-kafka-c0e94ae4d81b?source=collection_archive---------8-----------------------#2021-12-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8d09775b9bcbde9bf68b6398dad0650f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzPgfTEdTnGLYWNyJ4jB3w.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Credits : <a class="ae iu" href="https://davidxiang.com" rel="noopener ugc nofollow" target="_blank">David</a></figcaption></figure><p id="998f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di"> A </span> pache Kafka是一个开源分布式事件流平台，被数千家公司用于高性能数据管道、流分析、数据集成和关键任务应用。</p><p id="9db5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">核心能力:</p><ul class=""><li id="f749" class="kc kd hi ix b iy iz jc jd jg ke jk kf jo kg js kh ki kj kk bi translated">高吞吐量<br/>使用低延迟的机器集群以网络有限的吞吐量传递消息</li><li id="373e" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js kh ki kj kk bi translated">可扩展的<br/>将生产集群扩展到多达一千个代理、每天数万亿条消息、数Pb的数据、数十万个分区。</li><li id="749d" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js kh ki kj kk bi translated">永久存储<br/>将数据流安全地存储在一个分布式、持久、容错的集群中。</li><li id="13e8" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js kh ki kj kk bi translated">高可用性<br/>跨可用性区域高效地扩展集群，或者跨地理区域连接独立的集群。</li><li id="5ae8" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js kh ki kj kk bi translated">关键任务<br/>支持关键任务用例，保证有序、零消息丢失和高效的一次性处理。</li><li id="1d30" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js kh ki kj kk bi translated">受到成千上万ORGS人的信任<br/>成千上万的组织使用Kafka，从互联网巨头到汽车制造商到证券交易所。</li><li id="5a3e" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js kh ki kj kk bi translated">连接任何东西<br/> Kafka的开箱即用连接界面集成了数百个事件源和事件接收器，包括Postgres、JMS、Elasticsearch、AWS S3等等。</li></ul><p id="caff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们开始进入编码部分！<br/>第一步:获取KAFKA <br/> <a class="ae iu" href="https://www.apache.org/dyn/closer.cgi?path=/kafka/3.0.0/kafka_2.13-3.0.0.tgz" rel="noopener ugc nofollow" target="_blank">下载</a>最新版KAFKA并解压:</p><blockquote class="kq kr ks"><p id="0164" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b">$ tar -xzf kafka_2.13-3.0.0.tgz<br/>$ cd kafka_2.13-3.0.0</code></p></blockquote><p id="1f05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤2:启动KAFKA环境<br/>运行以下命令，以正确的顺序启动所有服务:</p><blockquote class="kq kr ks"><p id="3506" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b"># Start the ZooKeeper service<br/># Note: Soon, ZooKeeper will no longer be required by Apache Kafka.<br/>$ bin/zookeeper-server-start.sh config/zookeeper.properties</code></p></blockquote><p id="e150" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在另一次终端运行中</p><blockquote class="kq kr ks"><p id="8839" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b"># Start the Kafka broker service<br/>$ bin/kafka-server-start.sh config/server.properties</code></p></blockquote><p id="d7ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤3:创建一个主题来存储你的事件。打开另一个终端会话并运行:</p><blockquote class="kq kr ks"><p id="241f" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b">$ bin/kafka-topics.sh --create --partitions 1 --replication-factor 1 --topic quickstart-events --bootstrap-server localhost:9092</code></p></blockquote><p id="62bc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Kafka的所有命令行工具都有附加选项:不带任何参数运行<code class="du kx ky kz la b">kafka-topics.sh</code>命令来显示用法信息。</p><blockquote class="kq kr ks"><p id="fc9b" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b">$ bin/kafka-topics.sh --describe --topic quickstart-events --bootstrap-server localhost:9092<br/>Topic:quickstart-events PartitionCount:1 ReplicationFactor:1 Configs:<br/> Topic: quickstart-events Partition: 0 Leader: 0 Replicas: 0 Isr: 0</code></p></blockquote><p id="29b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第四步:将一些事件写入主题<br/>Kafka客户端通过网络与Kafka代理通信，以写入(或读取)事件。一旦接收到事件，代理就会以持久和容错的方式存储事件，只要您需要，甚至是永远。</p><p id="8a45" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">默认情况下，您输入的每一行都会导致一个单独的事件被写入主题。</p><blockquote class="kq kr ks"><p id="61c8" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b">$ bin/kafka-console-producer.sh --topic quickstart-events --bootstrap-server localhost:9092<br/>This is my first event<br/>This is my second event</code></p></blockquote><p id="e74d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤5:读取事件<br/>打开另一个终端会话并运行控制台消费者客户端来读取您刚刚创建的事件:</p><blockquote class="kq kr ks"><p id="09a6" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b">$ bin/kafka-console-consumer.sh --topic quickstart-events --from-beginning --bootstrap-server localhost:9092<br/>This is my first event<br/>This is my second event</code></p></blockquote><p id="fadf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以随时用<code class="du kx ky kz la b">Ctrl-C</code>停止消费客户端。因为事件被持久地保存在卡夫卡中，它们可以被你想要的任何次数和任何消费者阅读。您可以通过打开另一个终端会话并再次运行前面的命令来轻松验证这一点。</p><p id="6b42" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第6步:使用KAFKA CONNECT将您的数据作为事件流导入/导出<br/> Kafka Connect允许您从外部系统向KAFKA连续摄取数据，反之亦然。因此，将现有系统与Kafka整合起来非常容易。为了使这个过程更容易，有数百个这样的连接器随时可用。</p><p id="d7f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤7:用KAFKA STREAMS处理您的事件<br/>一旦您的数据作为事件存储在KAFKA中，您就可以用KAFKA STREAMS client library for Java/Scala来处理数据。它允许您实现任务关键的实时应用程序和微服务，其中输入和/或输出数据存储在Kafka主题中。Kafka Streams将在客户端编写和部署标准Java和Scala应用程序的简单性与Kafka服务器端集群技术的优势相结合，使这些应用程序具有高度可伸缩性、弹性、容错性和分布式。该库支持一次性处理、有状态操作和聚合、窗口、连接、基于事件时间的处理等等。</p><p id="74b1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第八步:终止Kafka环境<br/>现在你已经到了快速入门的末尾，可以随意拆除KAFKA环境了——或者继续玩。</p><ol class=""><li id="8022" class="kc kd hi ix b iy iz jc jd jg ke jk kf jo kg js lb ki kj kk bi translated">使用<code class="du kx ky kz la b">Ctrl-C</code>停止生产者和消费者客户端，如果您还没有这样做的话。</li><li id="0e3f" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js lb ki kj kk bi translated">用<code class="du kx ky kz la b">Ctrl-C</code>阻止卡夫卡经纪人。</li><li id="f78a" class="kc kd hi ix b iy kl jc km jg kn jk ko jo kp js lb ki kj kk bi translated">最后，用<code class="du kx ky kz la b">Ctrl-C</code>停止ZooKeeper服务器。</li></ol><p id="6681" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您还想删除本地Kafka环境的任何数据，包括您在此过程中创建的任何事件，请运行命令:</p><blockquote class="kq kr ks"><p id="1404" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><code class="du kx ky kz la b">$ rm -rf /tmp/kafka-logs /tmp/zookeeper</code></p></blockquote><p id="93eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">更多信息请查看官方文档！干杯！</p></div></div>    
</body>
</html>