<html>
<head>
<title>Kotlin Extensions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科特林扩展</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/kotlin-extensions-2f7d792e0f18?source=collection_archive---------16-----------------------#2021-08-27">https://medium.com/geekculture/kotlin-extensions-2f7d792e0f18?source=collection_archive---------16-----------------------#2021-08-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f6cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好👋🏻。在本文中，我将解释Kotlin中最强大的特性之一，<strong class="ih hj">扩展</strong>，以及如何在您的项目中有效地使用它们。让我们开始吧🚀</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/9cd01e6385e08c8332ee61df6d1e7609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dCNHvNPDuuFLxq_K.png"/></div></div></figure><p id="23f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是扩展函数？</strong></p><p id="0164" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扩展函数只是一个你可以添加到任何类中的函数，并且<em class="jp">赋予这个类一个新的行为</em>，而不用继承它或者做任何内部的改变。此外，这也适用于您使用的、其源代码未知的第三方库。</p><p id="9fcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kotlin扩展非常方便，可以显著减少样板代码。除此之外，它还提高了代码的可读性。</p><p id="97b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，至少我们基本上知道了什么是扩展，让我们看看它是如何工作的。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="c6eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如何使用扩展？</strong></p><p id="61e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从编写第一个扩展开始，好吗？💪🏻</p><p id="e227" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想象一下，你将根据一个事件的响应显示或隐藏一个视图。通常，你要做的很简单:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="2d2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是有一种更好更优雅的方法可以做到这一点💫。让我们写一个扩展函数来查看。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="00c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在这里所做的是，我们刚刚向视图类添加了一个新函数。从现在开始，所有视图对象都可以使用该功能。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="9aac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以编写扩展的基本语法是:</p><pre class="je jf jg jh fd js jt ju jv aw jw bi"><span id="527e" class="jx jy hi jt b fi jz ka l kb kc">fun &lt;Class Name&gt;.&lt;method name&gt; { /* do the operation */ }</span></pre><p id="4e79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们试试另一个。祝酒辞可能很有用，但每次都这样使用可能会很烦人。</p><pre class="je jf jg jh fd js jt ju jv aw jw bi"><span id="5280" class="jx jy hi jt b fi jz ka l kb kc">Toast.makeText<em class="jp">(</em>this, "My message", Toast.<em class="jp">LENGTH_SHORT)</em>.show<em class="jp">()</em></span></pre><p id="c128" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们为我们的活动编写一个非常基本的toast扩展，这样我们就可以用更少的代码在任何我们想要的活动中使用它。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="074c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在任何活动中调用它，就好像它是活动的成员函数一样。</p><p id="cd7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们试试另一个。这次我们将通过Glide设置一个ImageView的URL。通常，我们做的是</p><pre class="je jf jg jh fd js jt ju jv aw jw bi"><span id="4daf" class="jx jy hi jt b fi jz ka l kb kc">Glide<br/>    .with<em class="jp">(</em>context<em class="jp">)<br/>    </em>.load<em class="jp">("YOUR_URL")<br/>    </em>.into<em class="jp">(mImageView)</em></span></pre><p id="24b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以为此使用扩展。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="1c76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还可以使用扩展为成员函数提供自定义行为。假设您想要阻止点击垃圾邮件，并确保用户只能点击该视图一次。你可以使用分机。</p><p id="43a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是首先，我们必须为这个自定义行为创建一个类。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="3255" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们准备写我们的扩展。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><p id="3af8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是所有的乡亲。您现在已经准备好使用Kotlin扩展了💯。</p><p id="e02d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以使用扩展的情况数不胜数。这些是最基本的开始💪🏻。</p><p id="8391" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">顾名思义，扩展可以是相当大的扩展😅。</p><p id="5bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">坚持学习，快乐编码👨🏼‍💻👩🏼‍💻。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kd jr l"/></div></figure></div></div>    
</body>
</html>