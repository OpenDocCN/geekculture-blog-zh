<html>
<head>
<title>A beginner’s guide to Metro Bundler</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">地铁捆绑器初学者指南</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/a-beginners-guide-to-metro-bundler-f639d641468b?source=collection_archive---------13-----------------------#2021-08-23">https://medium.com/geekculture/a-beginners-guide-to-metro-bundler-f639d641468b?source=collection_archive---------13-----------------------#2021-08-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/739030679cb763a19b316a5871f45124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y3sulcL4A1UhVrNu"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3c52" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你有使用<a class="ae iu" href="https://reactnative.dev/" rel="noopener ugc nofollow" target="_blank"> React Native </a>开发一些项目的经验，你可能已经接触过这个术语<code class="du jt ju jv jw b">metro bundler</code>，因为它实际上是捆绑React原生代码的捆绑器，允许你的代码与原生移动应用很好地工作。</p><p id="a8e1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一切开箱即用，无需任何配置<em class="jx">(向RN团队致敬)</em>但您是否想过我们是否可以将<code class="du jt ju jv jw b">metro</code>用于非React原生应用？</p><h1 id="b75f" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是捆扎机？</h1><p id="7211" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">在我们试图理解<code class="du jt ju jv jw b">metro</code>如何工作之前，也许有必要先了解一下bundler的概念以及它的用处。</p><p id="5e20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从10，000英尺的角度来看，<code class="du jt ju jv jw b">bundler</code>本质上是一个系统，它打包了您编写的所有不同的JavaScript文件，并生成一个JS文件，然后您可以用它来运行您的JavaScript应用程序。一般来说，<code class="du jt ju jv jw b">bundler</code>构建一个<code class="du jt ju jv jw b">dependency graph</code>来维护不同JavaScript文件的关系，最终会产生一个或多个JS包。</p><p id="5025" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">Bundler</code>在现代JavaScript开发中特别有用，因为现代JavaScript在很大程度上依赖于<a class="ae iu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" rel="noopener ugc nofollow" target="_blank">模块系统</a>，这简单地意味着我们不是编写一个巨大的JS文件，而是将它们分解成一个更小的、可管理的、模块化的JS文件。<code class="du jt ju jv jw b">module system</code>的一些例子是<em class="jx"> CommonJS、AMD、RequireJS和ES(ECMAScript)6模块。</em></p><p id="4dc5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们知道了<code class="du jt ju jv jw b">bundler</code>的用途，那么市面上有哪些<code class="du jt ju jv jw b">bundler</code>呢？嗯，事实证明，其实有很多选择供你选择，比如<a class="ae iu" href="https://rollupjs.org/guide/en/" rel="noopener ugc nofollow" target="_blank"> rollup </a>、<a class="ae iu" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>、<a class="ae iu" href="https://parceljs.org/" rel="noopener ugc nofollow" target="_blank"> parcel </a>，当然还有我们今天的重头戏<a class="ae iu" href="https://facebook.github.io/metro/" rel="noopener ugc nofollow" target="_blank"> metro </a>。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="cc71" class="jy jz hi bd ka kb li kd ke kf lj kh ki kj lk kl km kn ll kp kq kr lm kt ku kv bi translated">地铁循序渐进教程</h1><p id="5d66" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">如前所述，我们将探索<code class="du jt ju jv jw b">metro</code>，看看我们如何在非<code class="du jt ju jv jw b">react-native</code>环境中使用它，以便更好地了解<code class="du jt ju jv jw b">metro</code>。在我们继续之前，我真的希望你对一些基本的web开发有一些先决知识。不要烦恼！我会尽量详细。</p><ol class=""><li id="1980" class="ln lo hi ix b iy iz jc jd jg lp jk lq jo lr js ls lt lu lv bi translated">让我们创建一个空的存储库，并将其初始化为NPM项目</li></ol><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="df39" class="me jz hi jw b fi mf mg l mh mi">mkdir my-app &amp;&amp; cd my-app &amp;&amp; npm init -y</span></pre><p id="790a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦您执行了上面的命令，<code class="du jt ju jv jw b">package.json</code>已经生成，我们可以继续第二步了。</p><p id="5c33" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.安装安装<code class="du jt ju jv jw b">metro</code>所需的依赖项</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="ce80" class="me jz hi jw b fi mf mg l mh mi">npm install --save-dev metro metro-core</span></pre><p id="69c7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是设置<code class="du jt ju jv jw b">metro</code>所需的唯一两个依赖项。</p><p id="0b02" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.用你想要的名字创建一个新文件，这里我将命名为<code class="du jt ju jv jw b">build.js</code>，并将下面的内容粘贴到文件中</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="b3f4" class="me jz hi jw b fi mf mg l mh mi">const Metro = require('metro');</span><span id="c92a" class="me jz hi jw b fi mj mg l mh mi">Metro.loadConfig().then(<em class="jx">async</em> config =&gt; {<br/>  Metro.runBuild(config, {<br/>    entry: './src/entry.js',<br/>    out: './dist/entry.js'<br/>  });<br/>});</span></pre><p id="cd87" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本质上，我们是说当我们运行<code class="du jt ju jv jw b">build.js</code>时，我想加载<code class="du jt ju jv jw b">metro</code>来创建一个包。我们提供了两种选择</p><ul class=""><li id="d278" class="ln lo hi ix b iy iz jc jd jg lp jk lq jo lr js mk lt lu lv bi translated"><code class="du jt ju jv jw b">entry</code> —我们将要编写的JavaScript源文件</li><li id="db7a" class="ln lo hi ix b iy ml jc mm jg mn jk mo jo mp js mk lt lu lv bi translated"><code class="du jt ju jv jw b">out</code>—<code class="du jt ju jv jw b">metro</code>应该生成到的文件名和位置</li></ul><p id="42fb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">信不信由你，这就是你设置<code class="du jt ju jv jw b">metro</code>所需要做的一切！剩下的所有步骤只是编写一些JavaScript文件并查看结果。</p><p id="6c2f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，尽管我们使用了<code class="du jt ju jv jw b">src</code>和<code class="du jt ju jv jw b">dist</code>，但它们只是普通的回购，我们这样命名只是出于行业标准</p><p id="a305" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.创建两个文件夹<code class="du jt ju jv jw b">src</code>和<code class="du jt ju jv jw b">dist</code>，因为我们在<code class="du jt ju jv jw b">build.js</code>中定义了它。如果您没有在<code class="du jt ju jv jw b">build.js</code>中指定<code class="du jt ju jv jw b">./src</code>和<code class="du jt ju jv jw b">./dist</code>，此步骤是可选的</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="183e" class="me jz hi jw b fi mf mg l mh mi">mkdir src &amp;&amp; mkdir dist</span></pre><p id="0790" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.在<code class="du jt ju jv jw b">src</code>文件夹中创建<code class="du jt ju jv jw b">entry.js</code>,并简单地放入如下日志</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="6824" class="me jz hi jw b fi mf mg l mh mi">console.log('It works!')</span></pre><p id="5284" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.执行命令。执行以下命令时，请确保您位于根文件夹</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="bc2f" class="me jz hi jw b fi mf mg l mh mi">node build.js</span></pre><figure class="lw lx ly lz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/80c4d338694c7830c4208d3c1555bc48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eBY9p01m_HHiVVwGy7adGg.jpeg"/></div></div></figure><p id="b146" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你看到上面的结果，我们可以继续看一下由<code class="du jt ju jv jw b">metro</code>创建的文件。继续打开<code class="du jt ju jv jw b">dist</code>文件夹中的文件<code class="du jt ju jv jw b">entry.js</code>，您应该会看到如下内容</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="72a6" class="me jz hi jw b fi mf mg l mh mi">var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";</span><span id="60b0" class="me jz hi jw b fi mj mg l mh mi">!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(null!=t[n])return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t[n]=i},e.__c=o,e.__registerSegment=function(e,r,n){p[e]=r,n&amp;&amp;n.forEach(r=&gt;{t[r]||h.has(r)||h.set(r,e)})};var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=Object.create(null)}function i(e){const r=e,n=t[r];return n&amp;&amp;n.isInitialized?n.publicModule.exports:d(r,n)}function l(e){const n=e;if(t[n]&amp;&amp;t[n].importedDefault!==r)return t[n].importedDefault;const o=i(n),l=o&amp;&amp;o.__esModule?o.default:o;return t[n].importedDefault=l}function u(e){const o=e;if(t[o]&amp;&amp;t[o].importedAll!==r)return t[o].importedAll;const l=i(o);let u;if(l&amp;&amp;l.__esModule)u=l;else{if(u={},l)for(const e in l)n.call(l,e)&amp;&amp;(u[e]=l[e]);u.default=l}return t[o].importedAll=u}i.importDefault=l,i.importAll=u;let c=!1;function d(t,r){if(!c&amp;&amp;e.ErrorUtils){let n;c=!0;try{n=_(t,r)}catch(t){e.ErrorUtils.reportFatalError(t)}return c=!1,n}return _(t,r)}const s=16,a=65535;function f(e){return{segmentId:e&gt;&gt;&gt;s,localId:e&amp;a}}i.unpackModuleId=f,i.packModuleId=function(e){return(e.segmentId&lt;&lt;s)+e.localId};const p=[],h=new Map;function _(r,n){if(!n&amp;&amp;p.length&gt;0){var o;const e=null!==(o=h.get(r))&amp;&amp;void 0!==o?o:0,i=p[e];null!=i&amp;&amp;(i(r),n=t[r],h.delete(r))}const c=e.nativeRequire;if(!n&amp;&amp;c){const{segmentId:e,localId:o}=f(r);c(o,e),n=t[r]}if(!n)throw m(r);if(n.hasError)throw g(r,n.error);n.isInitialized=!0;const{factory:d,dependencyMap:s}=n;try{const t=n.publicModule;return t.id=r,d(e,i,l,u,t,t.exports,s),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function m(e){return Error('Requiring unknown module "'+e+'".')}function g(e,t){return Error('Requiring module "'+e+'", which threw an exception: '+t)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);</span><span id="b496" class="me jz hi jw b fi mj mg l mh mi">__d(function(g,r,i,a,m,e,d){"use strict";console.log('It works!')},0,[]);</span><span id="63db" class="me jz hi jw b fi mj mg l mh mi">__r(0);</span></pre><p id="7dcb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就是这样！我们已经成功地使用<code class="du jt ju jv jw b">metro</code>成功地“捆绑”了我们JavaScript代码。但是，等等，你可能有一些问题，比如</p><ul class=""><li id="ad11" class="ln lo hi ix b iy iz jc jd jg lp jk lq jo lr js mk lt lu lv bi translated">我们只是将<code class="du jt ju jv jw b">entry.js</code>转换成<code class="du jt ju jv jw b">entry.js</code>，最糟糕的是，一行<code class="du jt ju jv jw b">console.log</code>变成了一堆乱码？这有什么用？</li><li id="1e54" class="ln lo hi ix b iy ml jc mm jg mn jk mo jo mp js mk lt lu lv bi translated">我应该如何验证上面的代码是否真的有效？</li></ul></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="2f54" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先让我们验证生成的<code class="du jt ju jv jw b">entry.js</code>是否真的工作。为此，让我们创建一个新文件<code class="du jt ju jv jw b">index.html</code>并将<code class="du jt ju jv jw b">entry.js</code>加载到其中。</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="bc36" class="me jz hi jw b fi mf mg l mh mi">&lt;!DOCTYPE <em class="jx">html</em>&gt;<br/>&lt;html <em class="jx">lang</em>="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;script <em class="jx">src</em>="./dist/entry.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>&lt;/html&gt;</span></pre><p id="55d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦我们有了这个<code class="du jt ju jv jw b">index.html</code>，我们就可以在任何浏览器中加载文件，如果你打开了<code class="du jt ju jv jw b"><a class="ae iu" href="https://balsamiq.com/support/faqs/browserconsole/" rel="noopener ugc nofollow" target="_blank">developer console</a></code>，你应该可以看到<strong class="ix hj">工作了！</strong>打印在控制台中，这仅仅意味着<code class="du jt ju jv jw b">metro</code>生成的脚本被成功加载到浏览器并产生了预期的输出。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="5088" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">既然我们已经验证了<code class="du jt ju jv jw b">metro</code>生成<code class="du jt ju jv jw b">entry.js</code>确实有效，那么我们可以尝试探索更多关于拥有多个JS文件的内容。回到<code class="du jt ju jv jw b">src</code>文件夹，创建另一个文件<code class="du jt ju jv jw b">constant.js</code>，粘贴以下内容</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="9880" class="me jz hi jw b fi mf mg l mh mi">module.exports = {<br/>  name: 'Isaac'<br/>}</span></pre><p id="e7e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦完成，返回<code class="du jt ju jv jw b">/src/entry.js</code>并粘贴以下内容</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="abf4" class="me jz hi jw b fi mf mg l mh mi">const { name } = require("./constant");</span><span id="5103" class="me jz hi jw b fi mj mg l mh mi">console.log(name);</span></pre><p id="78b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们所做的实际上是非常直接的，而不是仅仅记录一个简单的<code class="du jt ju jv jw b">It works!</code>消息，我们想要记录一个<code class="du jt ju jv jw b">name</code>变量，其中这个<code class="du jt ju jv jw b">name</code>变量的值被保存在另一个文件<code class="du jt ju jv jw b">constant.js</code>中。</p><p id="0041" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦完成，我们可以通过在命令提示符下运行命令<code class="du jt ju jv jw b">node build.js</code>再次生成包。一旦完成，返回浏览器并刷新页面，你应该能看到<code class="du jt ju jv jw b">developer console</code>中打印的<strong class="ix hj"> Isaac </strong>。</p><p id="9ae8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过这个例子，希望你能理解我提到的关于<code class="du jt ju jv jw b">bundler</code>的目的的观点，它允许开发者写多个文件，在我们的例子中是<code class="du jt ju jv jw b">entry.js</code>和<code class="du jt ju jv jw b">constant.js</code>，并打包成一个JS文件<code class="du jt ju jv jw b">entry.js</code>。</p><p id="3b63" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们试着去理解<code class="du jt ju jv jw b">dist/entry.js</code>，看看这次发生了什么变化</p><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="2dd1" class="me jz hi jw b fi mf mg l mh mi">var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";</span><span id="e987" class="me jz hi jw b fi mj mg l mh mi">!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(null!=t[n])return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t[n]=i},e.__c=o,e.__registerSegment=function(e,r,n){p[e]=r,n&amp;&amp;n.forEach(r=&gt;{t[r]||h.has(r)||h.set(r,e)})};var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=Object.create(null)}function i(e){const r=e,n=t[r];return n&amp;&amp;n.isInitialized?n.publicModule.exports:d(r,n)}function l(e){const n=e;if(t[n]&amp;&amp;t[n].importedDefault!==r)return t[n].importedDefault;const o=i(n),l=o&amp;&amp;o.__esModule?o.default:o;return t[n].importedDefault=l}function u(e){const o=e;if(t[o]&amp;&amp;t[o].importedAll!==r)return t[o].importedAll;const l=i(o);let u;if(l&amp;&amp;l.__esModule)u=l;else{if(u={},l)for(const e in l)n.call(l,e)&amp;&amp;(u[e]=l[e]);u.default=l}return t[o].importedAll=u}i.importDefault=l,i.importAll=u;let c=!1;function d(t,r){if(!c&amp;&amp;e.ErrorUtils){let n;c=!0;try{n=_(t,r)}catch(t){e.ErrorUtils.reportFatalError(t)}return c=!1,n}return _(t,r)}const s=16,a=65535;function f(e){return{segmentId:e&gt;&gt;&gt;s,localId:e&amp;a}}i.unpackModuleId=f,i.packModuleId=function(e){return(e.segmentId&lt;&lt;s)+e.localId};const p=[],h=new Map;function _(r,n){if(!n&amp;&amp;p.length&gt;0){var o;const e=null!==(o=h.get(r))&amp;&amp;void 0!==o?o:0,i=p[e];null!=i&amp;&amp;(i(r),n=t[r],h.delete(r))}const c=e.nativeRequire;if(!n&amp;&amp;c){const{segmentId:e,localId:o}=f(r);c(o,e),n=t[r]}if(!n)throw m(r);if(n.hasError)throw g(r,n.error);n.isInitialized=!0;const{factory:d,dependencyMap:s}=n;try{const t=n.publicModule;return t.id=r,d(e,i,l,u,t,t.exports,s),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function m(e){return Error('Requiring unknown module "'+e+'".')}function g(e,t){return Error('Requiring module "'+e+'", which threw an exception: '+t)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);</span><span id="b74a" class="me jz hi jw b fi mj mg l mh mi">__d(function(g,r,i,a,m,e,d){"use strict";const{name:n}=r(d[0]);console.log(n)},0,[1]);</span><span id="676a" class="me jz hi jw b fi mj mg l mh mi">__d(function(g,r,i,a,m,e,d){"use strict";m.exports={name:'Isaac'}},1,[]);</span><span id="6a27" class="me jz hi jw b fi mj mg l mh mi">__r(0);</span></pre><p id="a413" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你会意识到<code class="du jt ju jv jw b">entry.js</code>的大部分内容仍然保持不变。对此的高度理解是，我们编写的每个文件都有一个对应的部分，如下所示</p><ul class=""><li id="375b" class="ln lo hi ix b iy iz jc jd jg lp jk lq jo lr js mk lt lu lv bi translated"><code class="du jt ju jv jw b">entry.js</code>计算机</li></ul><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="4a7b" class="me jz hi jw b fi mf mg l mh mi">__d(function(g,r,i,a,m,e,d){"use strict";const{name:n}=r(d[0]);console.log(n)},0,[1]);</span></pre><ul class=""><li id="291d" class="ln lo hi ix b iy iz jc jd jg lp jk lq jo lr js mk lt lu lv bi translated"><code class="du jt ju jv jw b">constant.js</code>计算机</li></ul><pre class="lw lx ly lz fd ma jw mb mc aw md bi"><span id="7611" class="me jz hi jw b fi mf mg l mh mi">__d(function(g,r,i,a,m,e,d){"use strict";m.exports={name:'Isaac'}},1,[]);</span></pre><p id="e28f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些是我之前提到的“依赖图”,这就是大多数<code class="du jt ju jv jw b">bundler</code>将所有JS文件捆绑成一个JS文件并且仍然工作的方式！</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="7543" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这就是我想在这个故事中分享的全部，谢谢你的阅读，希望它能以某种方式帮助你！为了获得反馈和合作机会，我邀请您与我联系，让我们继续对话！</p></div></div>    
</body>
</html>