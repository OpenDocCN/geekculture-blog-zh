<html>
<head>
<title>Swagger 2.0 API integration to SpringBoot REST web service (Part 1: Basic Integration)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swagger 2.0 API集成到SpringBoot REST web服务(第1部分:基本集成)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swagger-2-0-api-integration-to-springboot-rest-web-service-part-1-basic-integration-d43948d157fe?source=collection_archive---------1-----------------------#2021-01-03">https://medium.com/geekculture/swagger-2-0-api-integration-to-springboot-rest-web-service-part-1-basic-integration-d43948d157fe?source=collection_archive---------1-----------------------#2021-01-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/30c3106a449a955e11541e63fa4fe892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_u3RtbZnYzRI10IUWbPfg.png"/></div></div></figure><p id="6d8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如今，web应用程序是作为独立的模块(后端/前端)开发的。在这种情况下，我们应该有适当的文档，信息丰富，可读性强，用户友好。在这里，我们将看看使用Springfox实现的Springboot REST web服务的Swagger 2.0。</p><p id="e39a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了描述Swagger实现，我使用了Employee management CRUD应用程序，它是使用SpringBoot开发的。除了swagger实现，您还可以学习领域驱动架构、适当的异常处理、日志记录、验证等。但在这里，我将只解释大摇大摆积分。请访问bitbucket链接<a class="ae jo" href="https://bitbucket.org/employee-crud-service-swagger-blog/employee-crud-service-swagger-blog/src/master/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">此处</strong> </a>下载完整的示例应用程序。</p><p id="3dc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">技术<br/></strong>Java 1.8<br/>Maven 3 . 6 . 1<br/>spring boot 2 . 2 . 7 . release<br/>MongoDB<br/>Swagger 2.0<br/>log4j</p><p id="74ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">项目结构</strong></p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/a80252a07de04e986ff56685ace618ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*NYboMHzLCxnbD6T-uwiWgQ.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">Project structure</figcaption></figure><p id="4af5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们必须仔细检查我们的控制器端点是否工作正常。我们可以使用Postman或任何其他第三方工具来执行端点。<br/>之后，我们还要添加Springfox相关的Swagger 2.o依赖项。</p><p id="894a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第一步:依赖关系</strong></p><p id="6632" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Swagger相关依赖。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/3ee17b6060c1a5d0d11f4d642aaece0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*kYExLImFjfYFMoFY62T_8Q.png"/></div></figure><p id="76ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了启用Springfox的Swagger UI，我们必须添加另一个名为“springfox-swagger-ui”的依赖项。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/4f9f8ba273120c80faf1f4f0efded2f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*jlu2MVwlqn19oX4CdHL1Qg.png"/></div></figure><p id="3b3f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第二步:配置</strong></p><p id="53e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在进行配置之前，我们必须创建一个名为<strong class="is hj">SwaggerConfig.java</strong>的类(您可以为这个配置类使用不同的名称)。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/c2fccbcc57eceb7c395ded14b489d9e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*O_pauwHSYHXjX3UJcMZNEw.png"/></div></figure><p id="9cb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是它的实现。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/bbd275fafae84269fadbe57e5da65fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ufFccRzKkKllVcT5qJssyA.png"/></div></div></figure><p id="3db8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们的项目中，我们需要显式启用Swagger 2.0。所以，我们必须在我们的配置类上使用<strong class="is hj"> @EnableSwagger2WebMvc </strong>。<strong class="is hj"> @Configuration </strong>是一个spring相关的注释，表示一个类声明了一个或多个bean方法，并且可以被Spring容器处理以生成bean定义和服务请求。</p><p id="13c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦我们定义了<strong class="is hj"> Docket </strong> bean，它的<strong class="is hj"> select() </strong>方法返回一个<strong class="is hj"> ApiSelectorBuilder </strong>的对象，这提供了一种控制由swagger公开的端点的方法。</p><p id="6891" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">借助于<strong class="is hj">RequestHandlerSelectors</strong>和<strong class="is hj"> PathSelectors </strong>，我们可以为选择<strong class="is hj"> RequestHandlers </strong>配置谓词。对两者都使用<strong class="is hj"> any()，</strong>将使我们整个API的文档通过Swagger可用。</p><p id="4073" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，通过定义<strong class="is hj"> ApiInfo </strong> bean，我们可以设置一些与文档相关的信息，如标题、API描述和版本。一旦我们部署了应用程序，它就会出现在UI中。请参考下图。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/2962393d3b287d7e016c166268cd7e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yQ9BYI7dka0axAtY5LnEkA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Document related information</figcaption></figure><p id="d9b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们已经完成了代码级别的基本配置。现在我们可以将这个项目作为一个spring boot应用程序来运行。一旦应用程序启动，我们可以在浏览器中访问这个URL:<a class="ae jo" href="http://localhost:8080/employee-service/swagger-ui.html#/employee-controller" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">http://localhost:8080/employee-service/swagger-ui . html #/employee-controller</strong></a></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/000bdac35b045516125868433ad7a958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xzzO0uDTF-LoAUv6_SXD1w.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Swager UI</figcaption></figure><p id="f932" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，您可以看到所有端点都像基于UI的web应用程序和模型对象一样工作。非常容易测试，信息量大，可读性强。</p><p id="0a2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第三步:Swagger API-DOCS </strong></p><p id="1a89" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大多数时候我们需要使用Swagger API-DOCS。这是一个带有大量键值对的JSON响应。要做到这一点，我们可以做的是，只需在我们的浏览器中运行以下网址。<a class="ae jo" href="http://localhost:8080/employee-service/v2/api-docs?group=employee-service-crud-blog" rel="noopener ugc nofollow" target="_blank">T9】http://localhost:8080/employee-service/v2/API-docs？group = employee-service-crud-blog</a></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/b6b2a4fcb6f2e51d8e125c2b8bb4d3c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-q5hnc80z6QmAaOZJ2GEg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Swagger-API doc: JSON format</figcaption></figure><p id="0b73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重要的一点是我们应该使用一个名为"<strong class="is hj"> group </strong>的查询参数，这个值是在SwaggerConfig类的<strong class="is hj"> getDocket() </strong>方法内的"<strong class="is hj"> groupName </strong>中定义的。</p><p id="eefc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望这将有助于你的日常工作，我将在不久的将来添加另一个名为<strong class="is hj">的扩展部分，这是Swagger 2.0与Springboot </strong>的高级配置。请访问<a class="ae jo" href="https://bitbucket.org/employee-crud-service-swagger-blog/employee-crud-service-swagger-blog/src/master/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">这里获得一个完整的代码示例</strong> </a>。如果您有任何问题，请留言或评论。</p></div></div>    
</body>
</html>