<html>
<head>
<title>Phase II: Homing Missile, Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第二阶段:寻的导弹，第一部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/phase-ii-homing-missile-4fecae0a6d90?source=collection_archive---------86-----------------------#2021-06-22">https://medium.com/geekculture/phase-ii-homing-missile-4fecae0a6d90?source=collection_archive---------86-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8576" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标:我们的下一个特点将是一个自动寻的导弹，玩家可以在通电的情况下捡起来。</p><p id="c215" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我会让玩家在每次收集能量时最多持有三枚导弹，提供一枚。另外，我会让玩家按“x”键发射导弹。</p><p id="aea7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我需要向<strong class="ih hj"> UIManager </strong>脚本添加一些新变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/73d1c32d1904db06d3ba22e2b4e970d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*9D14MKdONMEWBszWhvZxLQ.png"/></div></figure><p id="e5d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，在<strong class="ih hj"> UIManager中，</strong>我创建了一个<strong class="ih hj"> UpdateMissileCount() </strong>方法来更新UI上的导弹数量。这也检查导弹计数是低于0还是高于3，并重置为最小或最大值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/f56246d76753e89b9d1c24bf97dc9352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iX-0hDuLla7KQiXLaVqu-A.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">UpdateMissileCount() method.</figcaption></figure><p id="a1aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这应该就是UIManager的变化。现在我将为玩家创建导弹功能。首先，我添加所需的变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ju"><img src="../Images/afffaeceb47580da2f502abadb50b021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fXhVo8jNN_Jt3AVGo8hbyQ.png"/></div></div></figure><p id="4f78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还添加了两个新方法。一个是<strong class="ih hj"> MissileCollected() </strong>，它将更新播放器上的导弹数量，并调用<strong class="ih hj"> UIManager </strong>上的<strong class="ih hj"> UpdateMissileCount() </strong>方法来更新显示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jv"><img src="../Images/12a53a7ece5883faad0123b77e5cfc2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Kvok2Wp8LSbTokpsriYRw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">MissileCollected() method.</figcaption></figure><p id="efe8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个新方法是<strong class="ih hj"> MissileControl() </strong>。这个方法检查玩家是否按了“x”键，以及玩家是否有导弹。如果是这样的话，它会在玩家的变换位置实例化一个导弹，并有一个小的偏移量，然后将导弹数设置为零，以防导弹数低于。最后，它用-1调用<strong class="ih hj"> UIManager </strong>上的<strong class="ih hj"> UpdateMissileCount() </strong>方法来减少导弹计数显示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jw"><img src="../Images/32d113f888acf6a3e7720957666c9d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GS1ReeKSC63ujtCrb5aytg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">MissileControl() method.</figcaption></figure><p id="2e48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我需要做的最后一件事是创建powerup并将其添加到powerup脚本中。我在powerup脚本的switch语句中添加了另一个case来调用播放器上的<strong class="ih hj"> MissileCollected() </strong>方法。</p><p id="9741" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我创造了动力。我创建了下面的精灵来使用它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/550b1b960129300a93d76fc2af530ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*s1zuqN2ZhuseXGTDmKVdnA.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx">Missile Powerup Sprite</figcaption></figure><p id="c0ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我把精灵拉进层次结构，然后放回预设文件夹来创建一个预设。之后，我添加了一个<strong class="ih hj"> CircleCollider2D </strong>、一个<strong class="ih hj"> RigidBody2D </strong>和<strong class="ih hj"> Powerup </strong>脚本到预设中，并通过检查器确保所有设置正确。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jy"><img src="../Images/dadc6b8d33c599c6b850764df91576c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*Za0VtzU-pzvxTj1eqqD6vg.png"/></div></figure><p id="2ab5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这包括设置电源，更新显示，并让玩家拿起电源和发射导弹。剩下的就是制造导弹，并对其进行编程，使其瞄准最近的敌人。我将在下一篇文章中讨论这个问题。</p><p id="b4d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以在那之前，我希望你觉得这很有趣，并祝你在编码之旅中一切顺利。</p></div></div>    
</body>
</html>