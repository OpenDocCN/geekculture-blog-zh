<html>
<head>
<title>7 Tools for Debugging and Troubleshooting Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务调试和故障排除的7个工具</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/7-tools-for-debugging-and-troubleshooting-microservices-e97e37d5ec0c?source=collection_archive---------4-----------------------#2022-10-08">https://medium.com/geekculture/7-tools-for-debugging-and-troubleshooting-microservices-e97e37d5ec0c?source=collection_archive---------4-----------------------#2022-10-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b94c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有多种工具可用于故障排除和调试微服务。有这么多可能的抽象和复杂层次，开发人员必须深入到他们的日志、依赖和报告中。随着微服务架构的复杂性增加，许多管理员和开发人员会发现自己正在努力管理和支持已经超越他们的系统。</p><p id="b8aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，调试和排除微服务工具仍然是必要的。这里有7个工具可以帮助你:</p><h1 id="662a" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">1.艾里奥斯</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/ed71d008abf024dc120ab1c0d28aa8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eX1ZSoLinh8Qgo1F"/></div></div></figure><p id="376d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Helios旨在让开发人员在整个开发过程中轻松学习、调试和测试分布式系统。因此，Helios通过采用分布式跟踪，提供了对整个微服务架构和每个服务的有用见解。然后，Helios使用这些数据来自动化微服务测试的开发，并提供对单个故障和低效的见解。</p><p id="270f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为开发人员很难掌握他们的代码如何与系统的其他组件一起工作，所以项目开发经常停滞不前。与此同时，即使是单个微服务或API中的一个小问题，也可能迅速导致大型分布式应用程序停止运行。</p><p id="c53b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Helios的目标是帮助开发人员理解他们的代码如何与应用程序的其他部分协同工作。Helios从应用程序中收集全局跟踪数据，并使用OpenTelemetry为开发人员提供上下文信息..这意味着他们可以精确地重复他们的代码如何与大规模应用程序一起工作，例如，更容易地检测和重现错误。</p><h1 id="6f62" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">2.Rookout</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/31c0f3e0e5cb0a6dd499500949e799f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VEB2SkoFNQsL6VAA"/></div></div></figure><p id="1b79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Rookout是一个改变游戏规则的开发工具，用于云本地调试和实时数据收集。Rookout设计用于生产设置和当代架构调试，包括微服务应用。Rookout中的不间断断点允许您动态捕获任何形式的数据，无需额外的代码、重新部署或重新启动。</p><p id="e725" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">他们可以快速收集数据，以便在试运行和生产中进行高效的故障排除。在代码的不同点添加调试行可以让他们观察到代码被触及的地方，然后迅速定位真正的问题。</p><p id="93d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了Rookout的即时不间断断点，您可以在几秒钟而不是几天内从实时系统中收集变量和整个堆栈跟踪数据。他们现在可以隔离问题的根源，而无需修改或推出新代码。这甚至可以在不延迟或暂停堆栈的情况下完成。</p><p id="edc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在为Rookout编写简单代码时，您会遇到AWS Lambda在执行后无法访问的情况。如果AWS Lambda没有主动运行，Rookout将不能让您检查它的细节。</p><p id="1760" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Rookout通过在生产和暂存过程中实时提供不间断断点，消除了等待故障排除的需要。快速添加日志行会产生更完整的日志，这给调试过程带来了更多的麻烦。最终的结局？微服务故障排除的平均时间从数小时减少到了几分钟。</p><p id="adfc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，带有Python运行时的AWS Lambda函数的冷启动时间(包括Rookout服务)大约要长2.5秒。</p><h1 id="dce3" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">3.轻盈的步伐</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/a0e3dfea7fad20304ea749e9d35d79dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eItAn4LjHk9pgh76"/></div></div></figure><p id="3bd8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Lightstep是一个相对较新的调试工具。这是一个随时可用的工具，可实时提供与事件相关的数据、日志和事件。这简化了问题分析和解决方案。</p><p id="e90c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Lightstep有一个单一的仪表板，显示指标和跨数据，同时突出显示影响性能的数据偏差。</p><p id="2e9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它可以自动检测跟踪数据中的关键路径，从而更有效地调查故障的根本原因。</p><p id="4a5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，它们使您能够轻松地从更广泛的分布式系统环境过渡到特定的服务。</p><p id="5d6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在对动态复杂的环境进行故障排除时，它们提供了至关重要的上下文。这是因为它们允许开发人员检查不同的基于云的微服务之间的底层关系。将跟踪数据与代码级、特定于情况的调试数据集成的能力为开发人员提供了对应用程序行为的更多洞察，将可观察性推进到下一个发展阶段:可理解性。这种能力不仅可以看到应用程序的内部状态，还可以完全理解其结构和操作。</p><p id="1f94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于Lightstep较新，许多功能仍处于早期开发阶段。搜索功能偶尔会出现不足，一些用户抱怨性能不佳。然而，由于Lightstep团队定期发布新的更新，他们不断评估他们可能改进的地方。</p><p id="d6f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其他问题包括数据处理缓慢和需要改进卫星部署文件。</p><h1 id="9b63" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">4.蜂窝</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es kn"><img src="../Images/4314956481b99c7fddacb64a4923b089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/0*_ow0A7jZlGjEPelF"/></div></figure><p id="cd03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Honeycomb是一个用于事件观察和关联的分布式系统。它不同于其他工具。这是因为它放弃了单一请求跟踪策略，转而采用更自由的方式在所有层和维度中收集和查询数据。</p><p id="e61a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Honeycomb使用具有JSON结构的“事件”。它将这些事件保存到后端以供后续检索。用户可以使用web应用程序运行查询，以深入了解他们的(通常是生产)系统。</p><p id="d8bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Honeycomb收集每个级别的数据，如负载平衡器、微服务和数据库，标记数据，并允许用户混合搭配和稍后对数据运行即席查询。Honeycomb使用这种方法，因为跟踪留给您一个悬而未决的问题，即谁的查询是有代表性的，因此首先值得关注。一旦数据出现在Honeycomb中，用户可以从多个级别连接数据，并组合和分配功能给它们。他们还可以随着时间的推移比较不同系统的性能。</p><p id="8517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">蜂巢没有SLO对非企业版本的支持，与其他SaaS公司的集成也较少。</p><p id="0c92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于传统的监控用例来说用处不大。虽然Honeycomb有仪表板和触发器特性，但它们目前还很初级，不足以主动监控复杂服务的健康状况。</p><h1 id="fa1d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">5.闪电</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/a8c4a15cca6d74e6fdec0dd533b5b626.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-KPS6Yibap6rKvR2"/></div></div></figure><p id="1e15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Lightrun是世界上第一个可持续调试和观察的平台。对于开发人员来说，向生产和试运行环境实时添加日志、指标和跟踪既简单又安全。开发人员和I&amp;O领导者受益于100%的代码级可观察性和生产问题的快速解决。这使得开发人员可以从应用程序中实时收集数据。它们消除了您当前用于调试应用程序的迭代、非敏捷技术。</p><p id="a213" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用该工具可以调试微服务。您可以实时添加日志、性能数据和断点。这不需要修复问题或在本地复制错误，从而使调试微服务更加容易。</p><p id="4ecb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据污染错误会导致不良数据。这本身没什么大不了的。问题是这些数据可能会跨微服务传播到数据库中。一个很好的例子是“未定义的”，它从错误的JavaScript代码中传播出来并侵入数据库，污染了整个数据库。事后，通常通过在写入或发送数据的位置插入堆栈日志来调试它们。在那里使用一个条件，只是为了确保数据是无效的，并确定违规。这可以通过使用代码和类似Lightrun的连续可观测性工具来实现。</p><h1 id="7190" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">6.数据狗</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ko"><img src="../Images/4fb5fdaa1b56ddc483271c90f3cf5a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WAcn4fiCIql6uh-q"/></div></div></figure><p id="74f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Datadog是一款面向IT和DevOps团队的监控和基于SaaS的数据分析解决方案。他们检查基础设施和云服务性能指标，以及服务器、数据库和工具的事件跟踪。</p><p id="6655" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">各种规模的组织和公司都使用Datadog。这支持数字化和云解决方案，推动开发、运营、安全和业务团队之间的协作，并加快应用上市时间。此外，Datadog还能更快地解决问题，保护基础设施和应用程序以了解用户行为，并跟踪关键业务指标。</p><p id="9a85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Datadog关联来自SaaS、云提供商和服务的指标，包括Web服务器、StatsID、SQL和NoSQL数据库。</p><p id="7e0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用实时仪表板，Datadog可以简单地分析、通知和绘制海量数据。他们可以限制性能指标，以便您可以专注于重要的事情。它们还通过允许您更改和评论生产数据的注释来促进团队交流。</p><p id="9901" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，很难找到Datadog的培训，对许多人来说，学习曲线相当陡峭。此外，还有很多说明已经过时，不适合Windows。</p><h1 id="5a63" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">7.新遗迹</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kp"><img src="../Images/2c9ed1b2310976563986cb23a7e26e70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XEFmKIDJKMOXE-re"/></div></div></figure><p id="3399" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">New Relic是一个基于云的可观察性工具，旨在帮助您开发完美的软件。它目前有三个主要组成部分:全堆栈可观测性、应用智能和遥测数据平台。</p><p id="9c85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">全栈可观察性在单一链接体验中可视化、分析和排除整个软件栈的故障。你不再在程序间跳跃，不再试图把支离破碎的数据拼凑起来，找出问题所在。</p><p id="e222" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应用智能使你能够更快地识别、理解和处理情况。它提供降低警报噪音的AIOps解决方案，使您能够识别数据中可能会丢失的洞察力。</p><p id="0623" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，遥测数据平台允许您在一个位置接收、显示和警告来自几乎任何来源的所有指标、日志和跟踪。</p><h1 id="460c" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="cecc" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">由于调试微服务固有的复杂性，对许多开发人员来说，调试微服务总是很困难。随着业务的发展，他们将雇佣比以前更多的微服务，每个组织使用的微服务量也有望大幅增加。</p><p id="d556" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，投资额外的工具、研讨会和培训可以让已经在解决微服务架构问题的开发人员受益匪浅。</p></div></div>    
</body>
</html>