<html>
<head>
<title>Tags List View in SwiftUI (Chips View)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的标签列表视图(芯片视图)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/tags-view-in-swiftui-e47dc6ce52e8?source=collection_archive---------4-----------------------#2022-10-17">https://medium.com/geekculture/tags-view-in-swiftui-e47dc6ce52e8?source=collection_archive---------4-----------------------#2022-10-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b363" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗨伙计们！在这篇博客中，您将学习如何在SwiftUI中创建标签视图。让我们开始吧。</p><p id="ddc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在博客的最后，你可以获得该任务的完整Github源代码的链接。</p><p id="8878" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，用XCode创建一个全新的SwiftUI项目，跟着我一起做吧。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/27bf7cb9410a6593fd77fb88f90dfdca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IizRE8ar2JhlXS2mOu2hHQ.png"/></div></div></figure><h1 id="d692" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第一步</h1><p id="cff2" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">首先创建一个具有<strong class="ih hj"> id </strong>、<strong class="ih hj">名称</strong>和<strong class="ih hj">大小</strong>属性的结构<strong class="ih hj">标签</strong>。对于<strong class="ih hj"> id </strong>，我们使用<strong class="ih hj"> UUID </strong>，它将为每个<strong class="ih hj">标签</strong>提供唯一的id。<strong class="ih hj">名称</strong>将是标签的名称，而<strong class="ih hj">尺寸</strong>我们将为每个<strong class="ih hj">标签</strong>计算。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="79cb" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第二步</h1><p id="40b0" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">创建<strong class="ih hj"> UIScreen </strong>的<strong class="ih hj">屏幕宽度</strong>扩展，这将给出屏幕的<strong class="ih hj">宽度</strong>。</p><p id="22c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建<strong class="ih hj">字符串</strong>的<strong class="ih hj"> getSize </strong>扩展，这将给出给定字符串的<strong class="ih hj">大小</strong>。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="4480" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第三步</h1><p id="10f4" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">创建一个ContentViewModel，它将获取标签数组，并将其计算到标签的二维数组中。</p><h2 id="c766" class="ku jq hi bd jr kv kw kx jv ky kz la jz iq lb lc kd iu ld le kh iy lf lg kl lh bi translated">属性:</h2><p id="51bb" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">此视图模型中使用了三个属性。</p><ol class=""><li id="00c2" class="li lj hi ih b ii ij im in iq lk iu ll iy lm jc ln lo lp lq bi translated"><strong class="ih hj">行</strong>:标签二维数组</li><li id="3b68" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated"><strong class="ih hj">标签</strong>:传递标签数组，标签数组将被<strong class="ih hj"> getTags </strong>函数转换成标签的二维数组。</li><li id="e09e" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated"><strong class="ih hj"> tagText </strong>:将用于绑定<strong class="ih hj"> ContentView </strong>中<strong class="ih hj"> textfield </strong>的值。</li></ol><h2 id="9b55" class="ku jq hi bd jr kv kw kx jv ky kz la jz iq lb lc kd iu ld le kh iy lf lg kl lh bi translated">GetTags方法</h2><p id="c945" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">getTags方法获取Tags数组并检查数组是否为空。如果不为空，则遍历tags数组，获取每个标记名的大小，并分别保存到tags数组中。</p><p id="89b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用了一些临时变量。</p><ol class=""><li id="dee4" class="li lj hi ih b ii ij im in iq lk iu ll iy lm jc ln lo lp lq bi translated">行:临时二维标记数组</li><li id="a8e7" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">currentRow:将用于计算一行标签，稍后将追加到这些行中</li><li id="322f" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">totalWidth:检查宽度标签并添加它们，检查一行中可以显示多少个标签</li><li id="4af3" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">屏幕宽度:通过减去水平填充获得屏幕宽度</li><li id="e80c" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">标签间距:用于获取标签之间的前导、尾随空格</li></ol><p id="fcb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，使用forEach迭代标记，逐个计算行，并将其附加到主行中，当调用该函数时，ViewModel会将这些更改发布到视图中。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="2196" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第四步</h1><p id="feec" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">之后，调用getTags函数到init中，当ContentViewModel初始化时，该函数会将Tags数组转换成二维的tags数组。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><p id="6506" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<strong class="ih hj"> addTag </strong>函数添加标签，使用<strong class="ih hj"> removeTag </strong>函数删除内容视图模型中的标签。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><h1 id="2d2f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">最后一步</h1><p id="ffcf" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">之后，使用内容视图模型进入内容视图。首先创建简单的textfield，并将其与ContentViewModel的tagText变量绑定。</p><p id="beb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在先遍历所有的行，然后每一行有多个标签，再遍历一行。首先使用VStack，然后使用ScrollView，并在scrollView中遍历行，然后使用HStack，遍历每一行。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ks kt l"/></div></figure><p id="ebc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建内容视图后，现在是运行并查看结果的时候了。</p><p id="07d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将在屏幕上看到标签视图，如下图所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/27bf7cb9410a6593fd77fb88f90dfdca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IizRE8ar2JhlXS2mOu2hHQ.png"/></div></div></figure><p id="d28f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以删除任何标签，也可以通过将标签写入文本字段并按enter键来添加标签。</p><p id="cb23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我的博客，希望你理解如何使用SwiftUI创建TagView。如果你有任何困惑，那么你可以在这个博客上发表评论或者查看源代码。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lw kt l"/></div><figcaption class="lx ly et er es lz ma bd b be z dx">Inspired by Kavsoft</figcaption></figure><h2 id="16cb" class="ku jq hi bd jr kv kw kx jv ky kz la jz iq lb lc kd iu ld le kh iy lf lg kl lh bi translated">源代码:</h2><div class="mb mc ez fb md me"><a href="https://github.com/muhammadabbas001/TagsViewSwiftUI" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab dw"><div class="mg ab mh cl cj mi"><h2 class="bd hj fi z dy mj ea eb mk ed ef hh bi translated">GitHub-muhammadabbas 001/TagsViewSwiftUI:swift ui中的简单标记视图。用户可以添加或删除…</h2><div class="ml l"><h3 class="bd b fi z dy mj ea eb mk ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="mm l"><p class="bd b fp z dy mj ea eb mk ed ef dx translated">github.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms jn me"/></div></div></a></div><h2 id="815f" class="ku jq hi bd jr kv kw kx jv ky kz la jz iq lb lc kd iu ld le kh iy lf lg kl lh bi translated">帕特里翁:</h2><div class="mb mc ez fb md me"><a href="https://www.patreon.com/abbasgujjar" rel="noopener  ugc nofollow" target="_blank"><div class="mf ab dw"><div class="mg ab mh cl cj mi"><h2 class="bd hj fi z dy mj ea eb mk ed ef hh bi translated">米（meter的缩写））阿巴斯正在创建IOS开发者| Patreon</h2><div class="ml l"><h3 class="bd b fi z dy mj ea eb mk ed ef dx translated">立即成为M.Abbas的赞助人:获得世界上最大会员的独家内容和体验…</h3></div><div class="mm l"><p class="bd b fp z dy mj ea eb mk ed ef dx translated">www.patreon.com</p></div></div><div class="mn l"><div class="mt l mp mq mr mn ms jn me"/></div></div></a></div></div></div>    
</body>
</html>