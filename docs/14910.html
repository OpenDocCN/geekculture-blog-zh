<html>
<head>
<title>Dynamic Custom Alert in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的动态自定义警报</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/dynamic-custom-alert-in-swiftui-4154a0d4204d?source=collection_archive---------1-----------------------#2022-10-02">https://medium.com/geekculture/dynamic-custom-alert-in-swiftui-4154a0d4204d?source=collection_archive---------1-----------------------#2022-10-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b949" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博客中，你将学习如何在SwiftUI中创建<strong class="ih hj">动态定制提醒</strong>。在<strong class="ih hj"> XCode </strong>中创建新的SwiftUI项目，并跟随我。别担心，你可以从那个博客的底部得到<strong class="ih hj">源代码</strong>的链接。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/01656fa62853cc055617be528875ca94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AHAm_4EU4o3k3Fe8jhMP5Q.png"/></div></div></figure><h1 id="d4ed" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">警报类型</h1><p id="2c22" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">创建名为<strong class="ih hj"> AlertType </strong>的<strong class="ih hj">枚举</strong>。在这个<strong class="ih hj">枚举</strong>中，我们将创建自定义警报的类型。我们只是创造了两种类型。</p><ol class=""><li id="1c85" class="ks kt hi ih b ii ij im in iq ku iu kv iy kw jc kx ky kz la bi translated"><strong class="ih hj">成功</strong>:显示成功告警的情况</li><li id="a456" class="ks kt hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated"><strong class="ih hj">错误</strong>:显示错误警告的情况。它需要两个参数<strong class="ih hj">标题</strong>和<strong class="ih hj">消息</strong>。我们将传递这些参数，然后alert会将它们显示在警报视图中。</li></ol><h2 id="2332" class="lg jq hi bd jr lh li lj jv lk ll lm jz iq ln lo kd iu lp lq kh iy lr ls kl lt bi translated">标题</h2><p id="d081" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">之后在<strong class="ih hj">枚举</strong>中创建一个函数<strong class="ih hj"> title() </strong>，该函数将在<strong class="ih hj">字符串</strong>中返回alert <strong class="ih hj"> title </strong>。在那个函数内部，我们使用了<strong class="ih hj"> self </strong>并处理了其中的所有情况。每个案例都可以有自己的<strong class="ih hj">标题</strong>。</p><h2 id="2bb0" class="lg jq hi bd jr lh li lj jv lk ll lm jz iq ln lo kd iu lp lq kh iy lr ls kl lt bi translated">消息</h2><p id="2395" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">之后，在<strong class="ih hj">枚举中创建一个函数<strong class="ih hj"> message() </strong>，</strong>将在<strong class="ih hj">字符串</strong>中返回警告<strong class="ih hj">消息</strong>。在那个函数内部，我们使用了<strong class="ih hj"> self </strong>并处理了其中的所有情况。每个案例也可以有自己的<strong class="ih hj">消息</strong>。</p><p id="db6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像这样创建函数<strong class="ih hj"> leftActionText </strong>和<strong class="ih hj"> rightActionText </strong>。这些也将返回<strong class="ih hj">字符串</strong>中的按钮文本。</p><h2 id="4c99" class="lg jq hi bd jr lh li lj jv lk ll lm jz iq ln lo kd iu lp lq kh iy lr ls kl lt bi translated">高度</h2><p id="53e9" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在这之后，最后一个功能是获取警报视图的<strong class="ih hj">高度</strong>。<strong class="ih hj"> height </strong>函数获取<strong class="ih hj"> isShowVerticalButtons </strong>参数，当我们需要显示垂直警告按钮时，我们将增加警告的高度。</p><p id="c8a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面你可以看到<strong class="ih hj">alert type</strong>T58】enum代码。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="7d7c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">自定义警报</h1><p id="b291" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">之后，创建<strong class="ih hj"> CustomAlert </strong>视图。<strong class="ih hj"> CustomAlert </strong>视图正在获取一些参数。</p><p id="e033" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> presentAlert </strong>是一个<strong class="ih hj"> @Binding </strong>属性，用于显示或隐藏<strong class="ih hj"> CustomAlert </strong>。我们可以通过使用这个属性来处理<strong class="ih hj"> CustomAlert </strong>的存在。</p><p id="0680" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">警报类型</strong>是警报的类型。现在我们给出的是默认类型<strong class="ih hj">。成功</strong>。当我们在调用时不给<strong class="ih hj"> CustomAlert </strong>任何类型，那么<strong class="ih hj">。将显示成功</strong>警报。</p><p id="e8a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">isshoverticalbuttons</strong>用于垂直或水平显示警告按钮。</p><p id="ae6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">left button action</strong>closure用于处理左警示按钮的动作，而<strong class="ih hj"> rightButtonAction </strong>用于右警示按钮的动作。</p><p id="a48b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的代码中，你可以看到这些参数。之后你可以看到，我们正在使用<strong class="ih hj"> ZStack </strong>并且在里面我们正在使用<strong class="ih hj">颜色</strong>用给定的颜色覆盖<strong class="ih hj">背景</strong>。使用<strong class="ih hj">将覆盖整个屏幕。</strong>视图修改器。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="f2ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们使用VStack并给出静态宽度，对于动态高度，我们将使用<strong class="ih hj">alert type</strong><strong class="ih hj">height</strong>函数。我们也给VStack和cornorRadius添加了白色背景，如下图所示。</p><p id="e937" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在那个<strong class="ih hj"> VStack </strong>中，我们首先创建<strong class="ih hj">标题</strong>，对于<strong class="ih hj">标题</strong>文本，我们将使用<strong class="ih hj">alert type</strong><strong class="ih hj">title</strong>函数。在标题之后，我们正在创建消息文本，对于消息文本，我们正在使用<strong class="ih hj">警报类型</strong>的<strong class="ih hj">消息</strong>功能。在消息之后，我们使用简单的除法器。</p><blockquote class="lw lx ly"><p id="d321" class="if ig lz ih b ii ij ik il im in io ip ma ir is it mb iv iw ix mc iz ja jb jc hb bi translated">您可以看到我们如何通过使用<strong class="ih hj">警报类型</strong>来使我们的警报<strong class="ih hj">动态化</strong>。</p></blockquote><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="c652" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除法器之后，现在我们正在创建警报动作按钮。如果<strong class="ih hj">是显示垂直按钮</strong>是<strong class="ih hj">假</strong>那么水平按钮应该显示。为此，我们需要使用<strong class="ih hj"> HStack </strong>和inside <strong class="ih hj"> HStack </strong>通过使用这些按钮内部的分隔线来创建两个按钮。对于左按钮，按钮动作将是<strong class="ih hj"> leftButtonAction </strong>，对于右按钮，按钮动作将是<strong class="ih hj">right button action</strong>closure，您可以看到下面的代码。</p><blockquote class="lw lx ly"><p id="306e" class="if ig lz ih b ii ij ik il im in io ip ma ir is it mb iv iw ix mc iz ja jb jc hb bi translated">我们使用左按钮和分隔线，因为有时我们只需要一个按钮，那时我们将为左按钮传递空字符串，左按钮将自动隐藏。</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/dd098091d1411b4733bad31b3d278b7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yyYGyumiDfLihHGKbOQ-ew.png"/></div></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="691c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是CustomAlert视图的内容。现在我们需要在<strong class="ih hj">内容视图</strong>中显示这个视图。</p><h1 id="5828" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">内容视图</h1><p id="510c" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">现在在<strong class="ih hj"> ContentView </strong>中，创建一个<strong class="ih hj"> @State </strong>属性<strong class="ih hj"> presentAlert </strong>，它将用于处理<strong class="ih hj"> CustomAlert </strong>视图的存在。之后使用<strong class="ih hj"> ZStack </strong>然后创建一个简单的按钮来切换属性<strong class="ih hj"> presentAlert </strong>。之后，通过使用<strong class="ih hj"> presentAlert </strong>使用if条件，并使用其中的<strong class="ih hj"> CustomAlert </strong>视图。<strong class="ih hj">content view<strong class="ih hj">的presentAlert </strong>将<strong class="ih hj">绑定</strong>与<strong class="ih hj"> CustomAlert </strong>视图的<strong class="ih hj"> presentAlert </strong>可以看到下面的代码，同时调用两个闭包<strong class="ih hj"> leftButtonAction </strong>和<strong class="ih hj"> rightButtonAction </strong>。在这些闭包里，我们用动画</strong>切换了用<strong class="ih hj">关闭视图的presentAlert。</strong></p><blockquote class="lw lx ly"><p id="ac39" class="if ig lz ih b ii ij ik il im in io ip ma ir is it mb iv iw ix mc iz ja jb jc hb bi translated"><strong class="ih hj">带动画</strong>会放默认<strong class="ih hj">。出现<strong class="ih hj">自定义报警</strong>时，easeInOut </strong>动画。</p></blockquote><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="2b67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后运行代码并点击按钮，你会看到你的<strong class="ih hj"> CustomAlert </strong>视图，带有<strong class="ih hj">水平</strong>按钮和<strong class="ih hj">。成功</strong>类型。<strong class="ih hj">。成功</strong>类型是默认类型，在<strong class="ih hj"> CustomAlert </strong>中给出。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es me"><img src="../Images/d9c96710096555a4f0ab9ae418afbe03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCNLzdv-i2CAUMhuFoptRQ.png"/></div></div></figure><p id="ee9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想显示垂直按钮并改变<strong class="ih hj">警告类型</strong>，那么请看下面的代码。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="f6bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们传递的是alertType <strong class="ih hj">。错误</strong>并将(<strong class="ih hj">标题</strong>和<strong class="ih hj">消息)</strong>参数传递给该类型。如果我们想显示<strong class="ih hj">垂直</strong>按钮，那么传递<strong class="ih hj"> isShowVerticalButtons </strong>参数中的真值。</p><p id="882d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行代码，可以看到垂直按钮和<strong class="ih hj"> AlertType </strong> <strong class="ih hj">。错误</strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mf"><img src="../Images/a415087d36ebadb464f0f4a5c8222c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cJrUjI7KQQT3AcNieBUYRA.png"/></div></div></figure><blockquote class="lw lx ly"><p id="24ba" class="if ig lz ih b ii ij ik il im in io ip ma ir is it mb iv iw ix mc iz ja jb jc hb bi translated">如果你想只显示<strong class="ih hj"> CustomAlert </strong>的一个按钮，那么在<strong class="ih hj"> leftButtonText </strong>中传递<strong class="ih hj">空文本</strong>并运行代码，然后你可以看到，你将得到一个按钮的警告。</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mg"><img src="../Images/0d7a764ec32c71f883c2432e7b4c8aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z6OZph9Opi4UriDDdbFWEw.png"/></div></div></figure><p id="a5e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你理解并喜欢这个博客。你可以通过下面的链接看到来自<strong class="ih hj"> Github </strong>的源代码。</p><h1 id="04b0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">完整源代码</h1><div class="mh mi ez fb mj mk"><a href="https://github.com/muhammadabbas001/CustomAlert" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hj fi z dy mp ea eb mq ed ef hh bi translated">GitHub-muhammadabbas 001/custom alert:这是SwiftUI CustomAlert。你可以了解如何…</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">这是SwiftUI自定义警报。您可以了解如何在SwiftUI中动态创建警报视图。- GitHub …</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">github.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my jn mk"/></div></div></a></div><h2 id="a71f" class="lg jq hi bd jr lh li lj jv lk ll lm jz iq ln lo kd iu lp lq kh iy lr ls kl lt bi translated">订阅模式</h2><div class="mh mi ez fb mj mk"><a href="https://www.patreon.com/abbasgujjar" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hj fi z dy mp ea eb mq ed ef hh bi translated">米（meter的缩写））阿巴斯正在创建IOS内容| Patreon</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">立即成为M.Abbas的赞助人:获得世界上最大会员的独家内容和体验…</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">www.patreon.com</p></div></div><div class="mt l"><div class="mz l mv mw mx mt my jn mk"/></div></div></a></div></div></div>    
</body>
</html>