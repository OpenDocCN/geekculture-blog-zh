<html>
<head>
<title>More on JavaScript Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于JavaScript函数的更多信息</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/more-on-javascript-functions-6b36490bcc77?source=collection_archive---------31-----------------------#2021-06-30">https://medium.com/geekculture/more-on-javascript-functions-6b36490bcc77?source=collection_archive---------31-----------------------#2021-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e574bd8c3cdfef7db1379eca58f3f25c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-8FnikDhmQ3OhENp"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@eprouzet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eric Prouzet</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cc8a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">难度</strong>:初学者</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="fb70" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上一篇文章中，我谈到了函数的概念以及如何创建它们。我们定义了它的基本结构和用途。我相信函数是JavaScript中最重要的概念之一。在函数的基础上，让我们来看看JavaScript中最基本的概念之一:回调或回调函数。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="6733" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">什么是回拨？</h1><p id="dc1b" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">我必须承认，我在这个概念上挣扎了很长时间，没有看到我付诸实践的东西和我所学到的东西之间的联系。我一直认为“回调”这个名字是误导性的，给你的印象是这是一个神奇的概念；毕竟，谁在给谁回电话呢？这不是魔法，这只是函数的自然组成部分。</p><p id="5961" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我教的是全栈JavaScript bootcamp，我用JavaScript教的第一件事就是函数。我们讨论函数是如何成为一等公民的，以及它们可以像变量一样被传递、被赋值给变量(不仅仅是<em class="ld">结果</em>，还有实际未被调用的函数】、<em class="ld">以及稍后被调用/调用</em>。学生们点头表示理解，因为这并不是一个很难理解的概念。然而，当我们总是试图通过使用回调来将这个概念付诸实践时，就好像我在说外语一样。为什么？</p><blockquote class="le lf lg"><p id="64e8" class="iv iw ld ix b iy iz ja jb jc jd je jf lh jh ji jj li jl jm jn lj jp jq jr js hb bi translated">把回拨功能想象成一个可以在人与人之间传递的电视遥控器。这些人中的任何一个都可以按下(调用)按钮来改变频道。回调只是你传递的一个函数定义。我说，请注意，因为理解这个概念对于理解从普通JS中的事件处理程序到React中的提升状态都是至关重要的。</p></blockquote><p id="54f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用上面的远程控制类比…假设你的表弟Bob正坐在沙发上(他是事件处理者)。鲍勃生活中的唯一目的就是倾听电视室里的人提出的调高音量、换频道等要求。鲍勃是一个很好的听众，但是如果鲍勃没有遥控器，他什么也做不了。所以你，作为一个伟大的主持人，给鲍勃遥控器(功能)。你把它传给Bob，还没有按下任何按钮(未激活)。当你把未调用的函数交给Bob时，根据定义，它就变成了一个回调函数。Bob现在<em class="ld">有能力</em>通过使用遥控器调用/调用功能(按下按钮)来响应房间中的人的请求。也许“回调”应该被重新命名为“作为变量传递的未调用的函数定义，以便以后调用”。嗯，也许不是。</p><p id="86c6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如你所见，我非常明确，非常明显，没有任何假设。我个人希望我过去读过的更多文章都是这样的。这会让生活变得更容易学习。即使在现场课堂上，教师也会对基线知识做出某些假设，如果学生不提问/澄清，这一时刻就失去了。我会尽量不在这里这样做。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="7222" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">简单回调示例:</strong></p><pre class="lk ll lm ln fd lo lp lq lr aw ls bi"><span id="9272" class="lt kb hi lp b fi lu lv l lw lx">function bark() {<br/>    return 'woof';<br/>}</span><span id="68d3" class="lt kb hi lp b fi ly lv l lw lx"><em class="ld">function</em> doDogStuff(<em class="ld">event</em>, <em class="ld">response</em>) {</span><span id="93a6" class="lt kb hi lp b fi ly lv l lw lx">    if (event === 'intruder'){</span><span id="f2ea" class="lt kb hi lp b fi ly lv l lw lx">      console.log(response()); //output 'woof' to console</span><span id="0c2e" class="lt kb hi lp b fi ly lv l lw lx">    }else {</span><span id="c915" class="lt kb hi lp b fi ly lv l lw lx">      console.log('doing nothing'); // output 'doing nothing'</span><span id="5b26" class="lt kb hi lp b fi ly lv l lw lx">    }</span><span id="4be3" class="lt kb hi lp b fi ly lv l lw lx">}</span><span id="f1ec" class="lt kb hi lp b fi ly lv l lw lx">doDogStuff('intruder', bark);<br/>doDogStuff('homeowner', bark);</span></pre><p id="6eb4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面这个简单的例子中，bark是一个返回“woof”的函数，doDogStuff是一个接受事件参数(在我们的例子中是一个简单的字符串)和响应参数(在我们的例子中，它需要一个表示函数的变量)的函数。</p><p id="723b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当调用doDogStuff时，事件字符串(“入侵者”，或“房主”)和变量“bark”作为参数传入。变量“bark”代表一个未调用的函数。</p><p id="bc45" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="ld">这是关键点:bark是一个没有按键的电视遥控器，它正被传给鲍勃(doDogStuff)，他负责在时机合适的时候按下它。</em></p><p id="3a6e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们不知道bark函数何时被调用，因为我们不控制它(Bob控制它)。只有当事件是“入侵者”时，才会调用“吠叫”。还要注意，在doDogStuff函数中，“response”是现在保存bark函数的变量。所以为了调用doDogStuff内部的bark函数，您调用response()。是的，您可以直接调用bark()，但这不是很好的函数式编程实践。</p><p id="c3df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">通用事件监听器和回调响应:</strong></p><p id="7d5d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们尝试一个更常见的例子，一个随处可见的例子。DOM事件侦听器模式是解释回调时使用的经典示例。如果没有一个更简单的例子，这在一开始对我来说是没有意义的，因此有了电视遥控器的类比和上面这个简单的例子。为了进行设置，我们需要创建一个简单的html按钮和一个在html:</p><p id="a15f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">index.html</p><pre class="lk ll lm ln fd lo lp lq lr aw ls bi"><span id="ed50" class="lt kb hi lp b fi lu lv l lw lx">&lt;html&gt;</span><span id="16f2" class="lt kb hi lp b fi ly lv l lw lx">  &lt;body&gt;</span><span id="4b3d" class="lt kb hi lp b fi ly lv l lw lx">    &lt;button id="myButton"&gt;&lt;/button&gt;</span><span id="0303" class="lt kb hi lp b fi ly lv l lw lx">  &lt;/body&gt;<br/>  &lt;script src="./index.js"&gt;&lt;/script&gt;</span><span id="a477" class="lt kb hi lp b fi ly lv l lw lx">&lt;/html&gt;</span></pre><p id="7da4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">索引. js</p><pre class="lk ll lm ln fd lo lp lq lr aw ls bi"><span id="d017" class="lt kb hi lp b fi lu lv l lw lx">let myButton = document.getElementById('myButton')</span><span id="eb85" class="lt kb hi lp b fi ly lv l lw lx">myButton.addEventListener('click', response);</span><span id="67b0" class="lt kb hi lp b fi ly lv l lw lx"><em class="ld">function</em> response() {</span><span id="679c" class="lt kb hi lp b fi ly lv l lw lx">    console.log('I was clicked')</span><span id="4fa6" class="lt kb hi lp b fi ly lv l lw lx">}</span></pre><ul class=""><li id="4039" class="lz ma hi ix b iy iz jc jd jg mb jk mc jo md js me mf mg mh bi translated">addEventListener函数类似于上面的doDogStuff函数</li><li id="055d" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">“反应”类似于我们上面的吠声函数</li><li id="cd19" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">“response”作为变量传递给addEventListener</li><li id="591c" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">当“点击”发生时，我们相信响应回调函数被调用…就像我们的简单例子一样</li><li id="125b" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">不，您实际上看不到调用，但它确实发生了(它是DOM方法的一部分)。我们通过console.log('我被点击')被执行这一事实看到了结果</li></ul><p id="59ce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这就是它…回调函数最冗长和谦逊的形式。这里的关键是，你定义一个函数并给它一个名字。然后，您可以将该名称(变量)传递到您喜欢的任何地方。然后……某个其他实体，无论是另一个函数还是代码，都可以在适当的时候调用它。</p><p id="1c7b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望这有助于你理解什么是回调函数。如果你有任何意见，请给我留言。现在…回到编码上来！</p><p id="4eb7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上一篇:<a class="ae iu" href="https://calvincheng919.medium.com/what-are-javascript-functions-bbb9f0157de1" rel="noopener">什么是JavaScript函数？</a></p></div></div>    
</body>
</html>