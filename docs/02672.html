<html>
<head>
<title>Different metrics to evaluate classifiers — Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">评估分类器的不同指标—已解释</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/different-metrics-to-evaluate-classifiers-explained-838063f015dc?source=collection_archive---------36-----------------------#2021-05-23">https://medium.com/geekculture/different-metrics-to-evaluate-classifiers-explained-838063f015dc?source=collection_archive---------36-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2c44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自从我上次发布文章已经有一段时间了，所以我想回到我曾经为我的同事做了一整个会议的主题，从他们的反馈来看，我觉得我应该发布这篇文章来更新我的信息并记录下来！</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/4f44a83df4079bbe32158dbb40256876.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*LwqNzuVBJoJwdz_LlNPhPw.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">classification decision boundary</figcaption></figure><p id="fe42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在这一部分，我将讨论分类器以及如何评估它们，以确保您的度量反映模型的实际性能。</p><h1 id="e3ba" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 1-什么是分类？</strong></h1><p id="8d82" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">分类是一种监督学习技术，其中目标变量是离散值，换句话说，模型预测的是标签，而不是连续值。例如，目标变量可以具有值0或1，它们可以表示猫或狗。分类是最常见的ML任务之一。</p><p id="9c1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分类器是执行分类的模型。</p><h1 id="6ce9" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 2-不平衡数据集</strong></h1><p id="7356" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">这是一个出现在许多数据集中的问题，其中类的数量或比率不相等或接近相等，类0可能有90个实例，而类1只有10个实例，这个问题可以通过许多方法解决，如重采样、收集更多数据或选择正确的度量。</p><h1 id="6101" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 3-分类指标</strong></h1><p id="67fb" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">要评估任何ML模型，您需要设置一个指标，并根据它在测试或维持集上的值，重新训练模型并进行调整。</p><p id="b4bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分类指标主要分为3种类型</p><p id="d06d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1-阈值指标</p><p id="a5db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">两级指标</p><p id="533d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3-概率度量</p><h1 id="2c2f" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 3.1-阈值指标</strong></h1><p id="02cc" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">这些是量化分类器预测错误的指标，当我们希望模型尽量减少错误或错误分类项目的数量时，或者当我们的数据集平衡时，使用这些指标。为什么？因为您的模型可能表现不佳，而准确性或误差会欺骗您认为它表现良好&gt; &gt;记住我们的90到10数据集，该模型可能达到90%的准确性，但它只适用于大多数类</p><p id="8a77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">准确度</strong> =正确预测/总预测</p><p id="4f58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">误差</strong> =不正确的预测/总预测</p><p id="819f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">误差度量是准确度的补充&gt; &gt; 1-准确度</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kz"><img src="../Images/99fdb2f1dfde5e6fa46955eef510659d.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*-eJuISNkV-VFA7Lz_6PtzA.png"/></div></div></figure><p id="b8eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">敏感性-特异性指标</strong></p><p id="e3d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些度量让你对+ve类的预测有多准确有一个直觉。</p><p id="3de2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">敏感度/召回率= </strong>真阳性/(真阳性+假阴性)它被定义为真阳性率，它衡量真阳性的预测程度</p><p id="9f4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">特异性</strong> =真阴性/(假阳性+真阴性)它是灵敏度(真ve率)的补充，它给出了一个关于-ve类预测得有多好的直觉。对于不平衡分类，它比敏感度更有帮助。</p><p id="6975" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">精确召回指标</strong></p><p id="a0b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们知道回忆和敏感是一样的，</p><p id="1aac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Precision = TP/(TP+FP)它被定义为正面预测的准确性或+ve预测实际正确的比例</p><p id="f16d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查全率和查准率通常被结合在一个指标中，以找到它们之间的平衡。这个指标被称为F-score。</p><p id="944d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">F1-得分=(2 *精度+召回)/(精度+召回)，F1得分对精度和召回给出相等的权重。</p><p id="4a29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">F1分数的一个抽象是F-beta，其中在计算<a class="ae le" href="https://machinelearningmastery.com/arithmetic-geometric-and-harmonic-means-for-machine-learning/" rel="noopener ugc nofollow" target="_blank">调和平均值</a>时精度和召回率的平衡由一个称为<em class="lf"> beta </em>的系数控制。</p><p id="a30b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">Fbeta-score</strong>=((1+beta)* Precision * Recall)/(beta * Precision+Recall)</p><p id="0a41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有其他阈值指标，但这些是最受欢迎的。</p><p id="84aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于这些指标的最后一件事是，它们假设完全了解分类器将被部署的条件。特别地，他们假设训练集中存在的类别不平衡是在分类器的整个操作寿命中会遇到的类别不平衡。这种情况并不常见，所以他们会误导你。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lg"><img src="../Images/5729eb342a0da06b60390125cb5ff9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUnVMuu91SR_Ehrfvne2iA.jpeg"/></div></div></figure><h1 id="d0b6" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 3.2排名指标</strong></h1><p id="9b13" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">这些度量没有对数据集中的类分布做出任何假设，它们关注的是评估分类器分离数据类的有效性，并且它们仅与能够输出属于类的实例的概率分数的分类器一起使用，即:点X以0.9的概率属于类A。</p><p id="00a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中最广泛使用的度量是ROC曲线，它分析二元分类器的性能。它描绘了召回/TPR与FPR的关系</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lh"><img src="../Images/f88815506f56a9ad211ea28a00493e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*WMyJPSPxSaS3aI5kwRhYaw.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">TPR vs. FPR</figcaption></figure><p id="4ee0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了评估模型，我们计算从点(0，0)到点(1，1)的AUC(ROC曲线下的面积)</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es li"><img src="../Images/5fd48210e4b93fc65ff37fa8060fba1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*6EfGiFUS0SD4r2ZwUOSwIA.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx">AUC</figcaption></figure><p id="bd2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AUC的范围从0到1，auc=1意味着模型有100%正确的预测</p><p id="fcde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AUC的优势:</p><p id="91b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1-尺度不变:它衡量预测的排名，而不是它们的绝对值。</p><p id="f66d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2-分类-阈值-不变。它测量模型预测的质量，而不管选择什么分类阈值。</p><p id="855b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AUC的局限性:</p><p id="d810" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1尺度不变性并不总是理想的。</p><p id="23fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2-分类阈值不变性并不总是理想的。</p><div class="lj lk ez fb ll lm"><a href="https://developers.google.com/machine-learning/crash-course/classification/roc-and-auc" rel="noopener  ugc nofollow" target="_blank"><div class="ln ab dw"><div class="lo ab lp cl cj lq"><h2 class="bd hj fi z dy lr ea eb ls ed ef hh bi translated">分类:ROC曲线和AUC |机器学习速成班</h2><div class="lt l"><h3 class="bd b fi z dy lr ea eb ls ed ef dx translated">" type": "thumb-down "，" id ":" missingtheinformationneed "，" label ":"缺少我需要的信息" }，{ "type"…</h3></div><div class="lu l"><p class="bd b fp z dy lr ea eb ls ed ef dx translated">developers.google.com</p></div></div><div class="lv l"><div class="lw l lx ly lz lv ma jq lm"/></div></div></a></div><h1 id="36b9" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 3.3概率度量</strong></h1><p id="9c5e" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">这些度量量化了分类器预测的不确定性</p><p id="5c65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于我们对不正确与正确的类预测不太感兴趣，而对模型在预测中的不确定性更感兴趣，并惩罚那些错误但高度自信的预测的问题，它们很有用。</p><p id="95ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些指标还要求校准概率&gt;&gt;逻辑回归，其他未在概率设置下训练的模型要求在通过概率指标评估之前，根据数据集校准其概率&gt; &gt; SVM和KNN</p><p id="5066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最常见的度量是二进制分类的对数损失，也称为交叉熵</p><p id="2325" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于二元分类器:</p><ul class=""><li id="4ad4" class="mb mc hi ih b ii ij im in iq md iu me iy mf jc mg mh mi mj bi translated"><strong class="ih hj">log loss</strong>=-((1—y)* log(1—yhat)+y * log(yhat))其中yhat是模型的预测</li></ul><p id="4154" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了概括</p><ul class=""><li id="c9a0" class="mb mc hi ih b ii ij im in iq md iu me iy mf jc mg mh mi mj bi translated"><strong class="ih hj">log loss</strong>=-(sum C in C y _ C * log(yhat _ C))其中C是类</li></ul><p id="c7c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完美的分类器具有0.0的对数损失，更差的值是正的直到无穷大。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mk"><img src="../Images/967646093d10f24662f1464afd4241c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*gMh5lLuzobFxvGFYCAedsw.jpeg"/></div><figcaption class="js jt et er es ju jv bd b be z dx">log loss decreases when prob. increases</figcaption></figure><h1 id="4505" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak"> 4-如何选择公制？</strong></h1><p id="67b2" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">选择指标取决于数据集、问题、您的假设和业务需求，因此没有放之四海而皆准的指标。特别是如果你有班级不平衡，你可以从机器学习大师开始，这里有一个很好的思维导图，它总结了一些东西</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ml"><img src="../Images/cc8527ccb3c8b491e83ededea8bedfee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_ob3BcaS_2s0KkrbVa0pg.png"/></div></div></figure></div></div>    
</body>
</html>