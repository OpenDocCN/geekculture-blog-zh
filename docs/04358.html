<html>
<head>
<title>Space Shooter Challenge: Powerup Collection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">太空射击挑战:能量收集</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/space-shooter-challenge-powerup-collection-dcf93515b006?source=collection_archive---------62-----------------------#2021-06-24">https://medium.com/geekculture/space-shooter-challenge-powerup-collection-dcf93515b006?source=collection_archive---------62-----------------------#2021-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/96c591fc039db7dafb4f029bea6e8cf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*kENCtYeMHMoHnlC6RSsRXw.gif"/></div></figure><p id="373f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">今天的挑战是创建功能，以便当按下“C”键时，电源向玩家移动。为了做到这一点，我会把这个特性伪装成一个磁铁技能，它将在冷却状态下工作，类似于推进器。</p><p id="f128" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我的<strong class="io hj">玩家脚本中，</strong>我从<strong class="io hj">更新方法中运行了一个<strong class="io hj"> MagnetCheck方法</strong>。</strong>在这里，我可以检查<strong class="io hj">输入、</strong>然后运行一些<strong class="io hj">协程。</strong>此外，我只想在磁铁电荷大于0的情况下运行。我的<strong class="io hj">磁关协程</strong>开始冷却和充电，所以如果我再按一次‘C’，我想停止它。然后我可以运行我的<strong class="io hj">磁子协程</strong>，它将处理耗尽<strong class="io hj">磁体电荷水平</strong>。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/331f803243bc046e067f6a376aaa39f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnIFEfimBrHrSJfy6pT0xg.png"/></div></div></figure><p id="e66b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们先来看看<strong class="io hj">磁子协程</strong>的功能。首先我需要设置一个<strong class="io hj"> bool，</strong>用于充值。</p><p id="101e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我已经有了一个空的游戏对象来保存所有产生的能量，所以我在我的<strong class="io hj">玩家脚本</strong>中创建了一个对它的引用，并使用<strong class="io hj">GetComponentsInChildren</strong>来填充一个<strong class="io hj">数组。</strong>然后我可以运行一个<strong class="io hj"> while循环</strong>，当磁体等级大于0，并且按住“C”键时，该循环返回true。</p><p id="bbfb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在该循环中，磁体水平从上一帧开始减少，并更新<strong class="io hj"> UIManager。</strong>使用<strong class="io hj"> yield return null </strong>表示该循环每帧运行一次，因此电平会实时降低。</p><p id="829b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了改变加电的功能，我使用了一个<strong class="io hj"> foreach循环</strong>来获取之前存储在<strong class="io hj">数组中的子对象上的每个<strong class="io hj">加电脚本</strong>。</strong>然后我可以通过设置为<strong class="io hj">真</strong>的<strong class="io hj">布尔值</strong>调用一个公共方法。</p><p id="59bb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在退出while循环时，使用相同的<strong class="io hj"> foreach循环</strong>，但是将<strong class="io hj"> bool </strong>设置为<strong class="io hj"> false </strong>。然后我启动<strong class="io hj"> MagnetOff协程。</strong></p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/15f82b79e0545325e66b09f8894aad09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EewyLuT6iIYLqTCEzZ7oBg.png"/></div></div></figure><p id="fe1f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">磁控关闭协程</strong>将<strong class="io hj"> bool </strong>设置为<strong class="io hj"> false。</strong>然后我等待一个我设置为7秒的冷却时间，然后运行一个<strong class="io hj"> while循环</strong>来给磁铁等级充电并更新UI。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/a4cee3f414434556f010644d5755f9d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VjGTFig-P4RiCDfoV878A.png"/></div></div></figure><p id="e298" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我创建的<strong class="io hj">加电脚本</strong>的<strong class="io hj">公共方法</strong>中，简单地设置了一个<strong class="io hj">布尔值</strong>，然后我在<strong class="io hj">移动方法中使用它。</strong></p><p id="aa40" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">移动方法</strong>现在有一个<strong class="io hj"> if语句</strong>检查<strong class="io hj"> bool。</strong>如果为真，我使用<strong class="io hj">变换。平移</strong>使<strong class="io hj">上电</strong>实时向<strong class="io hj">玩家</strong>移动。否则，原来的向下运动发生。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/4a055fd035133b687913416228d23eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ps1Wqek0zotom7Y1_nHPzQ.png"/></div></div></figure><p id="360d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，我复制了<strong class="io hj">推进器滑块</strong>，并将其更改为适合我的<strong class="io hj">磁铁</strong>，然后在<strong class="io hj"> UIManager中，</strong>我可以将<strong class="io hj">滑块</strong>存储为一个变量，并附加上剩余的<strong class="io hj">时间。</strong></p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/8201bb44f60f0c88e823ee29283e89e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8C7VBE35szYqHTRZCkdLcw.png"/></div></div></figure><p id="a5d4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我现在有了一个功能性的磁铁能力。我用的<strong class="io hj">平移函数</strong>离得越远移动越快，我不介意。它的作用更多的是帮助把事物拉近，而不是完全把它们带进来。我可能会考虑添加一个视觉特性来展示它的吸引力，当然也会为屏幕的右下角创建更好的UI。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/faf543e61c3a9b9d23d7ee9aedf75948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sf8_hn7Xw3qmb8nXZe8E1g.gif"/></div></div></figure></div></div>    
</body>
</html>