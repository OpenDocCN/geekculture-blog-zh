<html>
<head>
<title>How to Use React Router: useParams</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React路由器:useParams</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-use-react-router-useparams-436851fd5ef6?source=collection_archive---------0-----------------------#2021-05-10">https://medium.com/geekculture/how-to-use-react-router-useparams-436851fd5ef6?source=collection_archive---------0-----------------------#2021-05-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="034e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用参数说明和演示</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/ad0ddde7fbb09e78b444e1b6b7917ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nH627PKQdg4-BCfj"/></div></div></figure><p id="2999" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">人们总是说参加黑客马拉松会迅速提高你的技能。我目前正在参加为期一周的黑客马拉松，我完全同意这种说法。在这次黑客马拉松中，我强迫自己学习一些新的东西，其中之一就是<code class="du kf kg kh ki b">useParams</code>。</p><h1 id="cf94" class="kj kk hi bd kl km kn ko kp kq kr ks kt io ku ip kv ir kw is kx iu ky iv kz la bi translated">介绍</h1><p id="fbfd" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated"><code class="du kf kg kh ki b">useParams</code>是<a class="ae lg" href="https://reactrouter.com/" rel="noopener ugc nofollow" target="_blank">反应路由器</a>附带的<a class="ae lg" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">挂钩</a>方法之一。我假设你在这里的原因是你想学习当你在React中创建导航组件时如何使用<code class="du kf kg kh ki b">useParams</code>(我不得不说React Router是我见过的最好的文档之一。).</p><p id="b6d7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在我们开始讨论<code class="du kf kg kh ki b">useParams</code>之前，请确保您已经在React应用程序中安装了React路由器:</p><pre class="iy iz ja jb fd lh ki li lj aw lk bi"><span id="0030" class="ll kk hi ki b fi lm ln l lo lp">npm install react-router-dom</span></pre><p id="67f1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在我们学习的过程中，有几个标签你可能认识，也可能不认识:<code class="du kf kg kh ki b">&lt;BrowserRouter&gt;</code>、<code class="du kf kg kh ki b">&lt;Router&gt;</code>、<code class="du kf kg kh ki b">&lt;Switch&gt;</code>、<code class="du kf kg kh ki b">&lt;Link&gt;</code>、<code class="du kf kg kh ki b">&lt;Route&gt;</code>。</p><p id="f82e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">还有几个React路由器钩子方法我还在学习:<code class="du kf kg kh ki b">useHistory</code>、<code class="du kf kg kh ki b">useLocation</code>、<code class="du kf kg kh ki b">useRouteMatch</code>，我就不在这篇文章里介绍了。</p><p id="c0be" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">根据React路由器doc中的定义，<code class="du kf kg kh ki b">useParams</code>返回:</p><blockquote class="lq lr ls"><p id="bacc" class="jj jk lt jl b jm jn ij jo jp jq im jr lu jt ju jv lv jx jy jz lw kb kc kd ke hb bi translated">URL参数的键/值对的对象。用它来访问当前<code class="du kf kg kh ki b">&lt;Route&gt;</code>的<code class="du kf kg kh ki b">match.params</code>。</p></blockquote><p id="999c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">用简单的英语来说是什么意思？</p><p id="62fa" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这意味着无论你在useParams(例如:<code class="du kf kg kh ki b">title</code>)中设置了什么，你的参数都必须与<code class="du kf kg kh ki b">&lt;Route path='/path/:title'&gt;</code>相匹配。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><h2 id="ae45" class="ll kk hi bd kl me mf mg kp mh mi mj kt js mk ml kv jw mm mn kx ka mo mp kz mq bi translated">为什么要用<code class="du kf kg kh ki b">useParams</code>？</h2><p id="744a" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">当我第一次学习与我的编码Bootcamp反应时，我的Bootcamp教我们创建多个组件，并使用<code class="du kf kg kh ki b">handleClick</code>来点击项目的细节，并使用三元条件来替换页面。不是说这是个坏主意，但我注意到一个问题:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mr"><img src="../Images/67c569e9dcd22d624acecfa90020017d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*eDdxhmZifBjf3TnoQHM7cA.gif"/></div><figcaption class="ms mt et er es mu mv bd b be z dx">Screenshot from my capstone project</figcaption></figure><p id="9d93" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">不知道大家有没有注意到，当我点开“香港迪士尼”的时候，探索页面的<strong class="jl hj">位置</strong>被香港迪士尼的详细信息取代，要向上滚动才能看到页面的顶部。代码如下:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mw mx l"/></div></figure><p id="19d4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">正如你所看到的，这更像是一种替换，而不是将应用程序导向一个新的页面/标签。因此，<code class="du kf kg kh ki b">useParams</code>在这里会很有用，它会把我从当前URL引导到一个新的路径。</p><p id="cd82" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我知道如果没有实际的例子，这仍然是很模糊的。让我在下面演示一下。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><h2 id="b55e" class="ll kk hi bd kl me mf mg kp mh mi mj kt js mk ml kv jw mm mn kx ka mo mp kz mq bi translated">游戏攻略</h2><p id="3e3c" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">让我们继续使用我的Explore页面示例作为演示，这样我们就可以看到变化。(免责声明:您看到的数据是用于演示目的。在我的实际项目中，数据来自我创建的Rails API。)</p><p id="4098" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">第一步:设置</strong> <code class="du kf kg kh ki b"><strong class="jl hj">&lt;Router&gt;</strong></code> <strong class="jl hj">和</strong> <code class="du kf kg kh ki b"><strong class="jl hj">&lt;Route&gt;</strong></code></p><p id="0ee1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在我们的<code class="du kf kg kh ki b">App.js</code>(母公司)中，确保我们必须从<code class="du kf kg kh ki b">react-router-dom</code>进口我们需要的东西。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mw mx l"/></div></figure><p id="4180" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">解释:</p><p id="101b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您可能知道<code class="du kf kg kh ki b">BrowseRouter</code>是存储URL并与web服务器通信；<code class="du kf kg kh ki b">Switch</code>和<code class="du kf kg kh ki b">Route</code>的目的是当<code class="du kf kg kh ki b">Switch</code>被渲染时，它搜索它的子<code class="du kf kg kh ki b">Route</code>元素来匹配当前的URL。当找到匹配时，<code class="du kf kg kh ki b">Switch</code>将指向<code class="du kf kg kh ki b">Route</code>中的路径。</p><p id="d839" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">从上一部<code class="du kf kg kh ki b">Route</code>可以看到，它看起来和其他的很不一样，因为<code class="du kf kg kh ki b">/explore/:name</code>。这个<code class="du kf kg kh ki b">/:name</code>可以是任何东西，只要它与您的数据的参数/键匹配。这也是我们以后需要使用<code class="du kf kg kh ki b">useParams</code>时的关键。</p><p id="5ac9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我还创建了三个组件:</p><ul class=""><li id="bc58" class="my mz hi jl b jm jn jp jq js na jw nb ka nc ke nd ne nf ng bi translated"><code class="du kf kg kh ki b">ExploreContainer</code> —浏览页面的容器；</li><li id="c7b2" class="my mz hi jl b jm nh jp ni js nj jw nk ka nl ke nd ne nf ng bi translated"><code class="du kf kg kh ki b">ExploreCard</code> —显示来自<code class="du kf kg kh ki b">data</code>(我们的对象数组)的所有内容</li><li id="08a8" class="my mz hi jl b jm nh jp ni js nj jw nk ka nl ke nd ne nf ng bi translated"><code class="du kf kg kh ki b">ExploreDetail</code> —显示数据的详细信息。</li></ul><p id="4b20" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">第二步:把孩子传下去</p><p id="37e6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在<code class="du kf kg kh ki b">ExploreContainer.js</code>中，</p><p id="892d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我只需要这个来包含数据</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nm"><img src="../Images/a4a203be73c09f957c5c3bab15bdb47a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w2YfYqBpEZ4PE5k1J0YB6g.png"/></div></div><figcaption class="ms mt et er es mu mv bd b be z dx">ExploreContainer.js</figcaption></figure><p id="2629" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">第三步:</strong> <code class="du kf kg kh ki b"><strong class="jl hj">&lt;Link&gt;</strong></code> <strong class="jl hj">到下面的卡片</strong></p><p id="98f7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在<code class="du kf kg kh ki b">ExploreCard.js</code>中，我会使用<code class="du kf kg kh ki b">map</code>来映射出数据表中的所有数据:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn mx l"/></div><figcaption class="ms mt et er es mu mv bd b be z dx">ExploreCard.js</figcaption></figure><p id="39a4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">正如你在第9行看到的，我们使用<code class="du kf kg kh ki b">&lt;Link&gt;</code>来连接我们从App.js中的<code class="du kf kg kh ki b">&lt;Route&gt;</code>得到的内容，并让我们的应用程序知道我们正从当前URL把它带到另一个位置。<code class="du kf kg kh ki b">{list.name}</code>是必不可少的，因为我们将在以后使用<code class="du kf kg kh ki b">useParams</code>时使用它进行条件检查，并确保它与我们的<code class="du kf kg kh ki b">Data</code>列表中的参数相匹配。</p><p id="bd21" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">第四步:过滤</strong> <code class="du kf kg kh ki b"><strong class="jl hj">/:name</strong></code> <strong class="jl hj">，用</strong> <code class="du kf kg kh ki b"><strong class="jl hj">useParams</strong></code>匹配出我们想要看到的正确数据</p><p id="ef8e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们正处于最后一步，我们将使用<code class="du kf kg kh ki b">useParams</code>，不要忘记导入<code class="du kf kg kh ki b">useParams</code>！</p><pre class="iy iz ja jb fd lh ki li lj aw lk bi"><span id="50c2" class="ll kk hi ki b fi lm ln l lo lp">import { useParams } from 'react-router-dom'</span></pre><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn mx l"/></div></figure><p id="48b5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">首先，我们需要确保<code class="du kf kg kh ki b">{ name }</code>与我们的<code class="du kf kg kh ki b">/explore/:name</code>参数匹配。基本上，您可以将参数命名为您想要的任何名称，但是您可能希望与列表中的<code class="du kf kg kh ki b">key</code>匹配，这样就不会混淆。</p><p id="f627" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们就是这么做的！</p><p id="a368" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这是我目前正在做的一个项目的快速演示(这个项目还没有造型)</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es no"><img src="../Images/7c6afb43769db19f0ad8d7e5547dd4d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/1*xcLr1iRYGsgvLSouoW6-dg.gif"/></div><figcaption class="ms mt et er es mu mv bd b be z dx">Demo</figcaption></figure><p id="824f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">正如你看到的，当我点击名字时，地址栏会添加这个人的名字。这就是<code class="du kf kg kh ki b">&lt;Router&gt;</code>-&gt;-<code class="du kf kg kh ki b">&lt;Route&gt;</code>-&gt;-<code class="du kf kg kh ki b">&lt;Link&gt;</code>的神奇之处。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><h1 id="5613" class="kj kk hi bd kl km np ko kp kq nq ks kt io nr ip kv ir ns is kx iu nt iv kz la bi translated">结论</h1><p id="07ba" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">我只有这些了！如果你正在纠结如何使用<code class="du kf kg kh ki b">useParams</code>，希望这能对你当前的项目有所帮助。我提前道歉，这篇文章没有最技术性的解释，因为我还在学习过程中。</p><p id="82df" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你正在寻找更多的资源，这个人在如何使用<code class="du kf kg kh ki b">useParams</code>方面做得非常出色。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nu mx l"/></div></figure><p id="f9cb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">查看一下他是如何实时实现这些方法的，别忘了查看React-Router文档，看看其他有趣的方法，您可以在未来实现它们！</p><p id="4a4a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">编码快乐！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nv"><img src="../Images/086191563b11f934d8f8c38328540093.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/0*BDx9c-URmLEod4Gs.gif"/></div></figure></div></div>    
</body>
</html>