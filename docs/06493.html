<html>
<head>
<title>Async Await to The Rescue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">异步等待救援</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/async-await-to-the-rescue-d1ab7eb34b20?source=collection_archive---------20-----------------------#2021-08-21">https://medium.com/geekculture/async-await-to-the-rescue-d1ab7eb34b20?source=collection_archive---------20-----------------------#2021-08-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ea5ac66f08acc3f5d5b97b4178ce4f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f1LqBhXDjTVTGBBF"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Austin Distel</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2b01" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以前，我很少在我的JavaScript代码中使用<em class="jt"> async await </em>，一开始我总是使用<em class="jt"> fetch </em>方法来获取我需要的任何数据。随着时间的推移，我开始重新审视它，结果发现实现它并不难。</p><p id="46ee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我想尽可能简单地解释一下<em class="jt">异步等待</em>。试着看看这段代码。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="cbde" class="kd ke hi jz b fi kf kg l kh ki">function usingFetch() {</span><span id="2577" class="kd ke hi jz b fi kj kg l kh ki">    fetch('https://randomuser.me/api/')</span><span id="8646" class="kd ke hi jz b fi kj kg l kh ki">        .then(parse =&gt; parse.json())</span><span id="b4a3" class="kd ke hi jz b fi kj kg l kh ki">        .then(result =&gt; {<br/>            // do something with the result<br/>        }</span><span id="f09a" class="kd ke hi jz b fi kj kg l kh ki">}</span></pre><p id="6c19" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面的代码是通常的获取方法，这看起来不太好，因为所有关于我们刚刚得到的数据的操作都需要在第二个<em class="jt">中进行。然后，</em>或者将该值传递给另一个函数或变量。</p><p id="fd30" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">试着看看下面的代码进行比较。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="6345" class="kd ke hi jz b fi kf kg l kh ki">async function useAsync() {</span><span id="b64a" class="kd ke hi jz b fi kj kg l kh ki">  let getData = await fetch('https://randomuser.me/api/');</span><span id="b843" class="kd ke hi jz b fi kj kg l kh ki">  let result = await getData.json();</span><span id="f15f" class="kd ke hi jz b fi kj kg l kh ki">  // do something with result</span><span id="4775" class="kd ke hi jz b fi kj kg l kh ki">}</span></pre><p id="f80c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在第2行中，在<em class="jt"> fetch </em>之前的await关键字意味着我们需要等到获取过程完成，这样我们就可以在那之后执行下一行。同样的过程发生在第3行，我们需要等待它完成数据解析后再执行下一行。</p><p id="e809" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过使用<em class="jt"> async await，</em>代码可以变得简单、干净，并且可读性更好。需要注意的是，我们需要在函数初始化之前放置一个异步字，这样我们就可以在函数中使用<em class="jt"> await </em>关键字。需要记住的是，如果函数初始化中没有<em class="jt"> async </em>关键字，那么<em class="jt"> await </em>关键字将不起作用。</p><h1 id="21bd" class="kk ke hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">结论</h1><p id="4f2a" class="pw-post-body-paragraph iv iw hi ix b iy lh ja jb jc li je jf jg lj ji jj jk lk jm jn jo ll jq jr js hb bi translated">只要试一试，一旦你习惯了，它就会变得非常方便，并避免我们从<em class="jt">回调地狱</em>。希望大家喜欢，谢谢！</p></div></div>    
</body>
</html>