<html>
<head>
<title>Predicting Melee with Slippi and Logistic Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Slippi和逻辑回归预测混战</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/predicting-melee-with-slippi-and-logistic-regression-2a4752e7c522?source=collection_archive---------17-----------------------#2021-07-12">https://medium.com/geekculture/predicting-melee-with-slippi-and-logistic-regression-2a4752e7c522?source=collection_archive---------17-----------------------#2021-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/310828bbfa8b9c9a60123c5e5372cd2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-sycXcj0Jncy-Lk2uxCWZg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Credit: Nintendo</figcaption></figure><p id="e885" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Fizzi这个名字对你有什么意义吗？如果你曾经喜欢过2001年的经典<a class="ae js" href="https://en.wikipedia.org/wiki/Super_Smash_Bros._Melee" rel="noopener ugc nofollow" target="_blank">超级粉碎兄弟混战</a>(简称为“混战”)，也许它应该。</p><p id="dd0a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于大多数读到这篇文章的人来说，肉搏可能只占据了你头脑和记忆的一小部分。也许这是在某个遥远的夜晚，几个朋友之间选择的游戏。或者也许它是21世纪初一个有趣的时间杀手。你们中的许多人可能更熟悉最近发布的Smash系列，即终极版。</p><p id="a882" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然而，对于游戏世界中相当大的一部分人来说，自发布以来，混战一直是最重要的战斗游戏。任天堂美丽事故背后的竞争场景有着漫长而丰富的比赛和磨难历史，其中职业玩家争夺数万(甚至<a class="ae js" href="https://www.gamereactor.eu/smash-summit-11-now-has-largest-prize-pool-in-competitive-super-smash-bros-history/" rel="noopener ugc nofollow" target="_blank">数百</a>)美元的奖金池。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/2e19e2cd5f08d17f6b5f4599b60be79e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OMwsAKlX3f_f9sBe_y2YSw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Image from <a class="ae js" href="https://www.youtube.com/watch?v=uJiPwY62IhU" rel="noopener ugc nofollow" target="_blank">video</a> of EVO 2016</figcaption></figure><p id="384f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在最近的时间里，围绕游戏的专门的基层场景在玩的方式方面变得狡猾。最近，由于一些非常投入和勤奋的技术娴熟的社区成员的帮助，任何人都可以通过一个名为<a class="ae js" href="https://slippi.gg/" rel="noopener ugc nofollow" target="_blank"> Slippi </a>的项目，用流畅、回滚的网络代码在线玩混战，这是许多现代游戏<a class="ae js" href="https://egmnow.com/street-fighter-v-has-finally-fixed-its-netcode-but-a-modder-did-it-first/" rel="noopener ugc nofollow" target="_blank">无法复制</a>的功能。</p><p id="a0df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Fizzi是这个和其他发展的幕后策划者。全职修改游戏，他还设法将复杂的统计数据带到现场，这与以前在Smash中看到的不同，从本质上彻底改变了观众和竞争对手分析游戏的方式。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/2b1e24826b373d4d83f9cca4a972c924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*etJM9-lNITaIgaG3i3xzkw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><a class="ae js" href="https://github.com/project-slippi/slippi-set-stats" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="b208" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为一个慷慨的上帝，Fizzi允许他的在线服务(以及你玩的每场比赛的统计数据和回放——稍后会详细介绍)免费提供。</p><p id="99df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为这款游戏的超级粉丝，我一直非常享受通过Slippi在线玩近战游戏带来的舒适和便利。</p><p id="8a23" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我的业余时间享受了大约一周左右的游戏之后(老实说，我不知道为什么我没有早点跳上Slippi火车)，我开始对一个问题感到好奇:机器学习算法能在一场混战游戏结束之前预测出赢家吗？</p><p id="4205" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了找到答案，我求助于我自己的(相对较小且不具代表性的)约220个回放集(由Slippi生成)。我的玩法是创建一个逻辑回归，仅使用前3只股票中收集的数据来预测两个玩家之间的赢家。当然，这些数据将来自Slippi自己的统计计算。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/92e760f6b59540f85275386837138905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CcvDU1k0Eqtpp8yokSVVmw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Capture of Slippi launcher by me</figcaption></figure><p id="f6ee" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了完成这个任务，我首先必须学会处理保存所有回放的<code class="du ka kb kc kd b">.slp</code>文件格式。幸运的是，<a class="ae js" href="https://github.com/project-slippi" rel="noopener ugc nofollow" target="_blank">项目Slippi GitHub页面</a>正好为此提供了一些工具。我发现Slippi-js是可用的解析库中最有用的。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/00b826bb187d3b35466b06ba63939dc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rff9-CoPcAeabaVeG9DRcw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><a class="ae js" href="https://github.com/project-slippi/slippi-js" rel="noopener ugc nofollow" target="_blank">Slippi-js</a></figcaption></figure><p id="9c26" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然而，这个计划有一个明显的问题:我不懂JavaScript。只有Python。有一个<a class="ae js" href="https://github.com/hohav/py-slippi" rel="noopener ugc nofollow" target="_blank"> python库</a>来解析<code class="du ka kb kc kd b">.slp</code>文件，但是据我所见，它还不够完整，需要我做Slippi-js已经能做的大量繁重工作。</p><p id="16c7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，为了完成这个项目，我必须收集足够的JavaScript知识，结合Slippi-js的GitHub页面上的示例代码，从我登录的220个游戏中提取所有数据。数据以JSON格式提取，可以很容易地以文本形式保存到磁盘上的<code class="du ka kb kc kd b">.txt</code>文件中，这很好。如果你不知道，JSON对象本质上只是Python字典。</p><p id="9f40" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我还必须安装<a class="ae js" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>。我不知道这是干什么的，也不知道它是如何工作的，但我做到了。</p><p id="f52a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在成功创建了220个<code class="du ka kb kc kd b">.txt</code>文件之后，我能够将数据转换成Python字典，再次回到熟悉的编程语言的安全地带。</p><p id="1c69" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从这里开始，只需要提取前3只股票的数据，并训练一个模型来预测赢家。在本文的底部可以找到提取的数据的完整列表。此外，您可以访问这个GitHub存储库以查看关于该项目的更多细节(以及查看用于创建该模型和下图的所有代码)。</p><p id="5b8d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">同时，这里是使用我的模型进行的四重交叉验证的测试数据的ROC曲线。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/48e5dcf29c11140187ae8aaefb9452c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z5j0o5tZGIgwoAQMZqUe4A.jpeg"/></div></div></figure><p id="d133" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于那些不知道这意味着什么的人，我来解释一下。ROC曲线(此处显示为红色)代表不同临界值的真阳性率和假阳性率。在这里，“正”只是表示1号玩家赢了，负表示0号玩家赢了。这可能对你没有任何意义，但你要知道:红线越靠近左上角，模特的表现就越好。这也可以从AUC(曲线下面积)看出:AUC越接近1，模型表现越好。</p><p id="5b13" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，总体而言，该模型表现相对较好。事实上，该模型能够在平均78.4%的时间内预测测试数据中近战游戏的正确结果。这比基线模型(无论如何总是预测大多数的基本模型)好得多，后者只有56%的准确性。</p><p id="1889" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">总的来说，我对这个项目很满意。当然，我可以通过从更多游戏(和更多玩家)收集更多数据，以及添加更多功能(工程或其他)来减少偏见，来做更多的事情。一个大型项目可能是实现一种方法来实时收集3只股票的数据，这样我就可以在游戏仍在进行时预测游戏的赢家。有用吗？也许不是。好玩有趣？毫无疑问。将来我可能会回到Slippi数据，但这次初步探索对我的数据提取和建模技能是一次很好的锻炼。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="9b89" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">模型使用的功能列表:</p><ul class=""><li id="e547" class="kn ko hi iw b ix iy jb jc jf kp jj kq jn kr jr ks kt ku kv bi translated">帧中前三个股票的持续时间</li><li id="83bb" class="kn ko hi iw b ix kw jb kx jf ky jj kz jn la jr ks kt ku kv bi translated">玩家0的死亡人数</li><li id="97b3" class="kn ko hi iw b ix kw jb kx jf ky jj kz jn la jr ks kt ku kv bi translated">每位玩家的连击次数</li><li id="001e" class="kn ko hi iw b ix kw jb kx jf ky jj kz jn la jr ks kt ku kv bi translated">每个玩家的连击长度(移动次数)的平均值和标准差</li><li id="4a4d" class="kn ko hi iw b ix kw jb kx jf ky jj kz jn la jr ks kt ku kv bi translated">每个玩家连击伤害的平均值和标准差</li><li id="3d2c" class="kn ko hi iw b ix kw jb kx jf ky jj kz jn la jr ks kt ku kv bi translated">每位玩家每次击杀的连击</li></ul></div></div>    
</body>
</html>