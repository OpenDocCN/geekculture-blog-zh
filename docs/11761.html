<html>
<head>
<title>DNS over HTTPS Vs DNS over TLS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HTTPS域名系统Vs DNS域名系统</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/dns-over-https-vs-dns-over-tls-cbfc96c283db?source=collection_archive---------1-----------------------#2022-04-08">https://medium.com/geekculture/dns-over-https-vs-dns-over-tls-cbfc96c283db?source=collection_archive---------1-----------------------#2022-04-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0319" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DNS查询从客户端浏览器发送到DNS解析器，将域名转换为IP地址。到目前为止，在上一篇文章中，我们已经看到，即使我们使用DNSSEC，DNS查询也没有加密。因此，入侵者可以看到您的DNS查询并分析您的浏览模式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/4aec53192735b58907ce9d345c163ce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*liW9MWOdL4ZLedmjTPhamg.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">When DNS queries are sent in plain text. (<a class="ae jp" href="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5Cgzkxb8COyIZ9evqqGFyF/384df7ee28643474080bbcd564fc3cfa/dns-traffic-unsecured.svg" rel="noopener ugc nofollow" target="_blank">Picture Source</a>)</figcaption></figure><p id="28c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DoH和DoT与DNSSEC有什么不同？</p><p id="7938" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DNSSEC是一组添加到DNS查询和响应中的安全扩展，用于验证根、TLD和权威DNS服务器的身份。我们在上一篇文章中已经看到，DNSSEC提供了DNS查询和响应的认证和完整性，但是它不加密DNS查询和响应。DNSSEC被设计用来【防御<strong class="ih hj"> <em class="jq">缓存中毒攻击</em> </strong>。在DoH/DoT的帮助下，我们可以加密DNS查询和响应，使DNS流量更加安全。</p><p id="405a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了解决这个问题，开发了两种新的协议-DoH(HTPPS上的DNS)和DoT(TLS上的DNS ),这两种协议对DNS流量进行加密，防止入侵者入侵。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/b97ba662ac61de2c0517aa8d57c5744f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*adGpJFruzsFpI6Hw8-j4lA.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">When DNS query is sent over DoH or DoT (<a class="ae jp" href="https://cf-assets.www.cloudflare.com/slt3lc6tev37/7qcyOJwWyOt4EVJykiIRTn/30e34453409eb42fa1ec36680609ad8d/dns-traffic-over-tls-https.svg" rel="noopener ugc nofollow" target="_blank">Picture Source</a>)</figcaption></figure><p id="4dbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">DoT(DNS over TLS)是什么？</strong></p><p id="67d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DoT<strong class="ih hj">(TLS上的DNS)</strong>是一种通过TLS加密DNS查询和响应的标准。TLS是传输层上的协议，负责提供加密功能。DoT<strong class="ih hj">(TLS上的DNS)</strong>在DNS传输层使用的UDP协议之上添加TLS协议，为DNS查询和响应提供加密和验证功能。它确保DNS查询和响应是安全的，不会被外部入侵者伪造。</p><p id="f728" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这种结构中，DNS查询没有改变。DoT <strong class="ih hj"> (DNS over TLS ) </strong>使用标准端口853进行通信。组织很容易将DNS流量与其他常规HTTP流量隔离开来，因为它使用专用端口。虽然DNS流量是加密的，但是它们可以监控端口853上的传入和传出DNS流量。这为组织提供了监控DNS流量的工具。DNS服务器和客户端浏览器都应该支持DoT通过TLS发送DNS。</p><p id="560d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是DoH(HTTPS域名系统)</strong></p><p id="951b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DoH<strong class="ih hj">(HTTPS上的DNS)</strong>也是DoT的替代方案，用于加密HTTPS上的DNS查询和响应。它也可以理解为DNS over HTTPS over TLS，因为HTTPS使用TLS作为其底层服务。DoH <strong class="ih hj"> (DNS over HTTPS) </strong>使用HTTP协议而不是直接UDP协议。DNS包被封装在HTTP包中，然后它添加TLS层并将它们发送到传输层。DoH <strong class="ih hj"> (DNS over HTTPS) </strong>使用与HTTPS相同的端口443。因此，组织很难将DNS流量与正常的HTTPS流量分开，因为两者都使用同一个端口。但它为用户提供了更多的隐私，因为DNS流量被伪装成HTTPS流量。DNS服务器和客户端浏览器都应该支持DoH通过HTTPS发送DNS。</p><h1 id="e6a7" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">DoT和DoH哪个更好？</h1><p id="551e" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">这仍然是一个争论，因为两个协议是分开开发的。从网络安全的角度来看，DoT更好，因为它使组织能够监控和阻止加密的DNS流量，这对于阻止恶意活动非常重要。同时，DoH查询被封装在HTTPS流量中，这意味着如果不阻止所有其他HTTPS流量，它们就不会被轻易阻止。但是DoH为用户提供了更好的隐私。</p><p id="2b71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Google chrome、firefox和edge浏览器目前也支持DoH和DoT流量。</p></div></div>    
</body>
</html>