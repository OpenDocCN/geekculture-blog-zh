<html>
<head>
<title>Build a Pokedex with NextJS and Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NextJS和Tailwind CSS构建一个Pokedex</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/build-a-pokedex-with-nextjs-and-tailwind-css-4630f0ac51d2?source=collection_archive---------17-----------------------#2021-05-02">https://medium.com/geekculture/build-a-pokedex-with-nextjs-and-tailwind-css-4630f0ac51d2?source=collection_archive---------17-----------------------#2021-05-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/faf20efb916fd5bcb5eaad62131ab0aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ycgAGQcL11ThaEp05MOCVA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@janisfasel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Janis Fasel</a> on <a class="ae iu" href="https://unsplash.com/s/photos/pokemon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="02a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">NextJS的下一个应用是Pokedex应用，我们将在其中使用Tailwind CSS。</p><p id="7c5a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，打开您的终端，使用下面的命令创建一个新的Next.js应用程序。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="ccb3" class="kc kd hi jy b fi ke kf l kg kh">npx create-next-app pokedex-nextjs</span></pre><p id="e2f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，按照说明，切换到新创建的文件夹。我也用VS代码打开了这个项目。之后，运行<code class="du ki kj kk jy b"><strong class="ix hj">npm run dev</strong></code>启动项目。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/440837e7a3f2fb6ae2b5bbd3cbdb44f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hc9gZ0jETxi6wINM_lkJ-g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">start</figcaption></figure><p id="b86c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们将从<strong class="ix hj"> index.js </strong>文件中移除大部分代码，这是我们应用的起点。所以，我们的<strong class="ix hj"> index.js </strong>如下图。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="7bd3" class="kc kd hi jy b fi ke kf l kg kh">import Head from 'next/head'</span><span id="0126" class="kc kd hi jy b fi km kf l kg kh">export default function Home() {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;Head&gt;<br/>        &lt;title&gt;Create Next App&lt;/title&gt;<br/>        &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>      &lt;/Head&gt;<br/>      &lt;main&gt;<br/>        &lt;h1&gt;<br/>          Welcome to &lt;a href="https://nextjs.org"&gt;Next.js!&lt;/a&gt;<br/>        &lt;/h1&gt;<br/>      &lt;/main&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="6c7d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将为Tailwind CSS安装依赖项。因此，打开终端并安装下面的依赖项。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="67cb" class="kc kd hi jy b fi ke kf l kg kh">npm install --save-dev tailwindcss postcss-preset-env postcss</span></pre><p id="4639" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是初始化tailwind运行的下一个命令。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8e94" class="kc kd hi jy b fi ke kf l kg kh">npx tailwindcss init</span></pre><p id="6245" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它将在我们的根目录下创建一个<strong class="ix hj"> tailwind.config.js </strong>文件。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/aff12c6785b3f89a87f5dc69df71b79a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVNcNmS-E6wxOBMCBmNncA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">tailwind.config.js</figcaption></figure><p id="f7b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之后，在根目录下创建一个<strong class="ix hj"> postcss.config.js </strong>文件，并添加以下代码。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="fb1d" class="kc kd hi jy b fi ke kf l kg kh">module.exports = {<br/>    plugins: ['tailwindcss', 'postcss-preset-env'],<br/>}</span></pre><p id="af70" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，我们需要转到<strong class="ix hj"> styles </strong>文件夹中的<strong class="ix hj"> globals.css </strong>文件，删除所有内容，并为顺风添加以下内容。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="a993" class="kc kd hi jy b fi ke kf l kg kh">@tailwind base;<br/>@tailwind components;<br/>@tailwind utilities;</span></pre><p id="61be" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之后，我们将通过在根目录下创建一个<strong class="ix hj">组件</strong>文件夹并在其中创建一个文件<strong class="ix hj"> Layout.js </strong>来使用它。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8c3c" class="kc kd hi jy b fi ke kf l kg kh">import Head from 'next/head'</span><span id="fccc" class="kc kd hi jy b fi km kf l kg kh">const Layout = ({ title, children }) =&gt; {<br/>    return (<br/>        &lt;div className="bg-gray-300"&gt;<br/>            &lt;Head&gt;<br/>                &lt;title&gt;{title}&lt;/title&gt;<br/>                &lt;link rel="icon" href="/favicon.ico" /&gt;<br/>            &lt;/Head&gt;</span><span id="423d" class="kc kd hi jy b fi km kf l kg kh">&lt;main className="container mx-auto max-w-xl pt-8 min-h-screen"&gt;<br/>                {children}<br/>            &lt;/main&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="ad54" class="kc kd hi jy b fi km kf l kg kh">export default Layout</span></pre><p id="d9f8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将返回到我们的<strong class="ix hj"> index.js </strong>文件，使用来自tailwind css的类，并用我们的布局组件包装所有内容。我们的<strong class="ix hj"> index.js </strong>将包含以下内容。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f445" class="kc kd hi jy b fi ke kf l kg kh">import Layout from '../components/Layout'</span><span id="bd50" class="kc kd hi jy b fi km kf l kg kh">export default function Home() {<br/>  return (<br/>    &lt;Layout title="NextJS PokeDex"&gt;<br/>        &lt;h1 className="text-4xl mb-8 text-center"&gt;NextJS Pokedex&lt;/h1&gt;<br/>    &lt;/Layout&gt;<br/>  )<br/>}</span></pre><p id="526c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们在localhost的应用程序将如下所示。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/b8e2a20c2312bc6132218c87ef58038c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bbuAjlL0NU6TB_VPK_gqiA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">localhost</figcaption></figure><p id="5842" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将在我们的<strong class="ix hj"> index.js </strong>中使用<strong class="ix hj"> getStaticProps </strong>来获取所有150个口袋妖怪的数据。这是<strong class="ix hj"> getStaticProps </strong>的一个非常好的用例，因为想要在渲染的时候从服务器获取所有的数据。</p><p id="a5a5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，口袋妖怪api不返回任何图像，这需要我们从另一个API。现在这个api返回格式像001.png，010.png的png图像，这就是原因，我们在索引中添加00。</p><p id="92a4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将图像添加到pokemon数组后，我们将它作为道具传递给Home函数。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/2e683a55ecae24f9352574c9d84b2cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAW8yk2HyY9T9j0eH6WIGg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">index.js</figcaption></figure><p id="d8f5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们可以在控制台中看到，我们正在正确地获取所有150个数据。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/356a596e6b0456ff0438a30e49ba552d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vNYi4lpZLRehjs0yZV88JQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">localhost</figcaption></figure><p id="34ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将显示我们的Home函数中的数据，通过它我的映射，并利用不同的tailwind css类的帮助。另外，请注意，我们用一个NextJS链接标签包装了所有内容，该标签还包含一个anchor标签。此外，在href中，我们将页面传递给/pokemon/2类型的url。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/f9c1996c9a674d66d9c3d5681a68fe26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UklP7E9j-FxVcuZH_D_juA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">index.js</figcaption></figure><p id="6d8d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们的本地主机将展示所有美丽的口袋妖怪。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/0805d7568e09215057ba85d27471d663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GVVo7KfWxSp4EZLjFAEt8w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">localhost</figcaption></figure><p id="8b5f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们想显示单个口袋妖怪的详细信息，只要我们点击任何口袋妖怪。在<strong class="ix hj"> pages </strong>文件夹中创建一个文件夹<strong class="ix hj"> pokemon </strong>。在它里面创建一个文件<strong class="ix hj"> [id]。js </strong>。</p><p id="4e42" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，在<strong class="ix hj">【id】。js </strong>文件我们将使用<strong class="ix hj"> getServerSideProps </strong>调用这个api，方法与我们在<strong class="ix hj"> index.js </strong>文件中看到的类似。我们传递的是id，它是从点击的页面中获取的。我们也再次使用逻辑来获得图像。这也是对getServerSideProps 的一个很好的使用，因为用户可以点击他选择的任何一个口袋妖怪，而我们只想得到那个口袋妖怪的数据。</p><p id="1899" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之后，我们对它进行解结构，并在组件内部显示它。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="eadf" class="kc kd hi jy b fi ke kf l kg kh">import Layout from '../../components/Layout';<br/>import Link from 'next/link';</span><span id="c000" class="kc kd hi jy b fi km kf l kg kh">const Pokemon = ({ pokemon }) =&gt; {<br/>    return (<br/>        &lt;Layout title={pokemon.name}&gt;<br/>            &lt;h1 className="text-4xl mb-2 text-center capitalize"&gt;<br/>                {pokemon.id}. {pokemon.name}<br/>            &lt;/h1&gt;<br/>            &lt;div className="flex flex-col items-center bg-purple-50 rounded-md p-8"&gt;<br/>                &lt;img className="mx-auto" src={pokemon.image} alt={pokemon.name} /&gt;<br/>                &lt;p&gt;<br/>                    &lt;span className="font-bold mr-2"&gt;Weight:&lt;/span&gt; {pokemon.weight}<br/>                &lt;/p&gt;<br/>                &lt;p&gt;<br/>                    &lt;span className="font-bold mr-2"&gt;Height:&lt;/span&gt;<br/>                    {pokemon.height}<br/>                &lt;/p&gt;<br/>                &lt;h2 className="text-2xl mt-6 mb-2"&gt;Types&lt;/h2&gt;<br/>                {pokemon.types.map((type, index) =&gt; (<br/>                    &lt;p key={index}&gt;{type.type.name}&lt;/p&gt;<br/>                ))}<br/>            &lt;/div&gt;<br/>            &lt;p className="mt-10 text-center"&gt;<br/>                &lt;Link href="/"&gt;<br/>                    &lt;a&gt;<br/>                        &lt;button className="focus:outline-none text-white text-sm py-2.5 px-5 rounded-md bg-blue-500 hover:bg-blue-600 hover:shadow-lg"&gt;Home&lt;/button&gt;<br/>                    &lt;/a&gt;<br/>                &lt;/Link&gt;<br/>            &lt;/p&gt;<br/>        &lt;/Layout&gt;<br/>    )<br/>}</span><span id="d2ce" class="kc kd hi jy b fi km kf l kg kh">export const getServerSideProps = async (context) =&gt; {<br/>    const { id } = context.query;<br/>    const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);<br/>    const pokemon = await res.json();<br/>    const paddedId = ('00' + id).slice(-3);<br/>    pokemon.image = `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${paddedId}.png`;<br/>    return {<br/>        props: { pokemon },<br/>    };<br/>}</span><span id="22ed" class="kc kd hi jy b fi km kf l kg kh">export default Pokemon</span></pre><p id="a912" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们的应用程序是完整的，点击任何口袋妖怪，它会带我们到显示关于口袋妖怪信息的详细页面。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/ba33357cef03bb59120d2ba109d04d32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Urz_bCPqd35F05Wj4HP8eg.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">localhost</figcaption></figure><p id="8109" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在这里找到相同<a class="ae iu" href="https://github.com/nabendu82/pokedex-nextjs" rel="noopener ugc nofollow" target="_blank">的github。</a></p><p id="9556" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你也可以在我的YouTube频道上找到同样的内容。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure></div></div>    
</body>
</html>