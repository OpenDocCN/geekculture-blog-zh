<html>
<head>
<title>for…in vs for…of in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">for…in vs for…of in JavaScript</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/for-in-vs-for-of-in-javascript-8563bd3e0672?source=collection_archive---------24-----------------------#2021-08-25">https://medium.com/geekculture/for-in-vs-for-of-in-javascript-8563bd3e0672?source=collection_archive---------24-----------------------#2021-08-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/87cb3257e04d2aa027b9b75172d5fb56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itoHjQ0e_3hpMKfldDAymA.png"/></div></div></figure><p id="67eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有相当一段时间，我一直在努力完全理解<code class="du jo jp jq jr b">for…in</code>和<code class="du jo jp jq jr b">for…of</code>的区别。如果您通过Google或dev.to feed找到了这个，我可以有把握地假设您可能也在想同样的事情。<code class="du jo jp jq jr b">for…in</code>和<code class="du jo jp jq jr b">for…of</code>是我们都熟悉的<code class="du jo jp jq jr b">for</code>回路的替代。然而，<code class="du jo jp jq jr b">for…in</code>和<code class="du jo jp jq jr b">for…of</code>用在不同的场合取决于你在找什么，而我们所知道的<code class="du jo jp jq jr b">for</code>循环基本上可以用在任何场合。</p><p id="da32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将首先检查例子/用法，然后我们将分解它们。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="9dcc" class="jz ka hi bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt bi translated">例子/用法</h2><p id="425a" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated"><strong class="is hj">👉🏻</strong> <code class="du jo jp jq jr b"><strong class="is hj">for</strong></code></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="492a" class="jz ka hi jr b fi lh li l lj lk">const arr = [1, 2, 3, 4, 5]</span><span id="230f" class="jz ka hi jr b fi ll li l lj lk">function printArr(arr) {<br/> for (let i = 0; i &lt; arr.length; i++) {<br/> console.log(arr[i]);<br/> }<br/>}</span><span id="bf5c" class="jz ka hi jr b fi ll li l lj lk">console.log(printArr(arr));<br/>// 1<br/>// 2<br/>// 3<br/>// 4<br/>// 5</span></pre><p id="64be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">👉🏻</strong> <code class="du jo jp jq jr b"><strong class="is hj">for…in</strong></code></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="f181" class="jz ka hi jr b fi lh li l lj lk">const obj = { a: 1, b: 2, c: 3 }<br/>function printObj(obj) {<br/> for (let prop in obj) {<br/> console.log(`prop: ${prop}`)<br/> console.log(`obj[prop]: ${obj[prop]}`)<br/> }<br/>}</span><span id="d886" class="jz ka hi jr b fi ll li l lj lk">console.log(printObj(obj));</span><span id="9368" class="jz ka hi jr b fi ll li l lj lk">// prop: a<br/>// obj[prop]: 1<br/>// prop: b<br/>// obj[prop]: 2<br/>// prop: c<br/>// obj[prop]: 3<br/>```</span></pre><p id="4d9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">👉🏻</strong> <code class="du jo jp jq jr b"><strong class="is hj">for…of</strong></code></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="59eb" class="jz ka hi jr b fi lh li l lj lk">const arrOf = [1, 2, 3, 4, 5]<br/>function printArrOf(arr) {<br/> for (let ele of arr) {<br/> console.log(ele);<br/> }<br/>}</span><span id="7e26" class="jz ka hi jr b fi ll li l lj lk">console.log(printArrOf(arrOf));</span><span id="4222" class="jz ka hi jr b fi ll li l lj lk">// 1<br/>// 2<br/>// 3<br/>// 4<br/>// 5</span></pre><p id="ca73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在你看到了它们是如何被使用的，让我们一个一个地分解它们吧！</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="0cf0" class="jz ka hi bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt bi translated">我们亲爱的好朋友,“for”声明</h2><p id="9a76" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">这个基本的<code class="du jo jp jq jr b">for</code>循环可以在我们需要迭代的任何时候使用。</p><p id="5abb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">基本语法</strong></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="2303" class="jz ka hi jr b fi lh li l lj lk">for ([initialization]; [condition]; [final-expression]) {<br/> statement<br/>}</span></pre><p id="f2ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">迭代通常发生在<code class="du jo jp jq jr b">block</code>(又名<code class="du jo jp jq jr b">{}</code>)内部。我们会将多个语句放在要执行的循环块中。您可以使用<code class="du jo jp jq jr b">break</code>、<code class="du jo jp jq jr b">continue</code>等。根据情况继续或中断<code class="du jo jp jq jr b">for</code>循环。</p><p id="dc1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">示例同</strong> <code class="du jo jp jq jr b"><strong class="is hj">break</strong></code></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="1bca" class="jz ka hi jr b fi lh li l lj lk">for (let i = 0;; i++) {<br/> console.log(i);<br/> if (i &gt; 5) break;<br/>}</span><span id="18ba" class="jz ka hi jr b fi ll li l lj lk">// Expected Output: <br/>// 0<br/>// 1<br/>// 2<br/>// 3<br/>// 4<br/>// 5<br/>// 6</span><span id="8f5b" class="jz ka hi jr b fi ll li l lj lk">// Explanation: The loop breaks when i is larger than 5.</span></pre><p id="8ec9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">✨快速提示:括号内的所有表达式都是可选的。</p><p id="2471" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">示例同</strong> <code class="du jo jp jq jr b"><strong class="is hj">continue</strong></code></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="7066" class="jz ka hi jr b fi lh li l lj lk">for (let i = 0; i &lt; 10; i++) {<br/> if (i === 7) continue;<br/> else console.log(i);<br/>}</span><span id="6ad8" class="jz ka hi jr b fi ll li l lj lk">// Expected Output:<br/>// 0<br/>// 1<br/>// 2<br/>// 3<br/>// 4<br/>// 5<br/>// 6<br/>// 8<br/>// 9</span><span id="3c95" class="jz ka hi jr b fi ll li l lj lk">// Explanation: if i is equal to 7, we will skip that i and move on to the next index.</span></pre></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="198a" class="jz ka hi bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt bi translated">“为了…在”,主角#1</h2><p id="f445" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated"><code class="du jo jp jq jr b">for…in</code>循环遍历一个对象的所有<strong class="is hj">可枚举属性</strong>。</p><p id="2a5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你不知道什么是enumerable，我会尽力解释它是什么。基本上你可以认为可枚举属性是对象中键值对的<code class="du jo jp jq jr b">key</code>。它也会在<code class="du jo jp jq jr b">Object.keys()</code>方法中出现。因此，如果我们看一下上一节的例子…</p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="f3bd" class="jz ka hi jr b fi lh li l lj lk">const obj = { a: 1, b: 2, c: 3 }</span><span id="006d" class="jz ka hi jr b fi ll li l lj lk">function printObj(obj) {<br/> for (let prop in obj) {<br/> console.log(`prop: ${prop}`)<br/> console.log(`obj[prop]: ${obj[prop]}`)<br/> }<br/>}</span><span id="ce8f" class="jz ka hi jr b fi ll li l lj lk">console.log(printObj(obj));</span><span id="7f5b" class="jz ka hi jr b fi ll li l lj lk">// prop: a<br/>// obj[prop]: 1<br/>// prop: b<br/>// obj[prop]: 2<br/>// prop: c<br/>// obj[prop]: 3</span></pre><p id="2a09" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">prop</code>是键值对中的<code class="du jo jp jq jr b">key</code>,这是我们的可枚举属性。如果你对如何检索一个对象的值有基本的了解，我们把键当作数组中的索引，并把它放在方括号中👉🏻<code class="du jo jp jq jr b">obj[prop]</code>，像这样。</p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="4251" class="jz ka hi jr b fi lh li l lj lk">const obj = { <br/> name: “Megan”, <br/> age: “do the Math”, <br/> role: “front-end developer” <br/>}</span><span id="cba9" class="jz ka hi jr b fi ll li l lj lk">for (const property in obj) {<br/> console.log(property);<br/>}</span><span id="cefc" class="jz ka hi jr b fi ll li l lj lk">// Expected Output:<br/>// name<br/>// age<br/>// role</span></pre><p id="b81d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，我们的例子都是在object或<code class="du jo jp jq jr b">{}</code>(因为array也是一个对象)中，使用<code class="du jo jp jq jr b">for…in</code>迭代一个数组是不推荐的/好的做法，因为索引顺序很重要。</p><p id="6fc7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，数组索引也是可枚举的属性，但是是整数。如果我们使用<code class="du jo jp jq jr b">for…in</code>来迭代一个数组，它的行为很不可预测。不能保证元素以特定的顺序迭代。此外，如果要通过分配超出数组当前大小的索引来扩展数组，它可能不会反映正确的索引。因此，带有数字索引的<code class="du jo jp jq jr b">for…of</code>、<code class="du jo jp jq jr b">forEach</code>或<code class="du jo jp jq jr b">for</code>循环是迭代数组的更好方法。看看下面这篇文章中展示的例子👇🏻</p><p id="eebe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进一步阅读:</p><ul class=""><li id="83bf" class="lm ln hi is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu bi translated"><a class="ae lv" href="https://betterprogramming.pub/3-reasons-why-you-shouldnt-use-for-in-array-iterations-in-javascript-8db3f42d8c73" rel="noopener ugc nofollow" target="_blank">Johannes Baum的JavaScript </a>中不应使用“for…in”数组迭代的3个理由</li></ul></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="0891" class="jz ka hi bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt bi translated">“给…的”,主角#2</h2><p id="c650" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">这是我们的第二个主角<code class="du jo jp jq jr b">for…of</code>。以防你不知道，<code class="du jo jp jq jr b">for…of</code>在ES6中有介绍。<code class="du jo jp jq jr b">for…of</code>已经成为很多JavaScript开发人员有用的迭代方法。<code class="du jo jp jq jr b">for…of</code>可以迭代任何<strong class="is hj">可迭代对象</strong>。你说吧，<code class="du jo jp jq jr b">String</code>，<code class="du jo jp jq jr b">Array</code>，<code class="du jo jp jq jr b">Object</code> …</p><p id="37b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">字符串</strong></p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="6071" class="jz ka hi jr b fi lh li l lj lk">const name = “Megan”;</span><span id="74bd" class="jz ka hi jr b fi ll li l lj lk">for (const alphabet of name) {<br/> console.log(alphabet);<br/>}</span><span id="f358" class="jz ka hi jr b fi ll li l lj lk">// Expected Output:<br/>// M<br/>// e<br/>// g<br/>// a<br/>// n </span></pre><p id="57cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">数组</strong>(从示例部分复制)</p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="1bce" class="jz ka hi jr b fi lh li l lj lk">const arrOf = [1, 2, 3, 4, 5]</span><span id="3b0d" class="jz ka hi jr b fi ll li l lj lk">function printArrOf(arr) {<br/> for (let ele of arr) {<br/> console.log(ele);<br/> }<br/>}</span><span id="553c" class="jz ka hi jr b fi ll li l lj lk">// Expected Output:<br/>// 1<br/>// 2<br/>// 3<br/>// 4<br/>// 5</span></pre><p id="b997" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">对象</strong>(在<code class="du jo jp jq jr b">Object.entries()</code>的帮助下)</p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="b199" class="jz ka hi jr b fi lh li l lj lk">const obj = {<br/> name: “Megan”, <br/> age: “do the Math”, <br/> role: “front-end developer” <br/>};</span><span id="fe63" class="jz ka hi jr b fi ll li l lj lk">for (const [key, value] of Object.entries(obj)) {<br/> console.log(key, value);<br/> console.log(`${key}: ${value}`);<br/>}</span><span id="f637" class="jz ka hi jr b fi ll li l lj lk">// Expected Output:<br/>// name Megan<br/>// name: Megan<br/>// age do the Math<br/>// age: do the Math<br/>// role front-end developer<br/>// role: front-end developer</span><span id="ce5a" class="jz ka hi jr b fi ll li l lj lk">// Explanation: the [key, value] is a destructure of the result from Object.entries.</span></pre><p id="1bfa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">🐧侧边栏注释🐧</strong> <br/> <code class="du jo jp jq jr b">Object.entries()</code>返回给定对象自身的可枚举字符串键属性的数组。</p><pre class="kz la lb lc fd ld jr le lf aw lg bi"><span id="263e" class="jz ka hi jr b fi lh li l lj lk">const obj = {<br/> name: “Megan”, <br/> age: “do the Math”, <br/> role: “front-end developer” <br/>};</span><span id="2af1" class="jz ka hi jr b fi ll li l lj lk">Object.entries(obj)<br/>// [<br/>// [ ‘name’, ‘Megan’ ],<br/>// [ ‘age’, ‘do the Math’ ],<br/>// [ ‘role’, ‘front-end developer’ ]<br/>// ]</span></pre><p id="8661" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进一步阅读:</p><ul class=""><li id="0cfb" class="lm ln hi is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu bi translated"><a class="ae lv" href="https://danielmjung.medium.com/demystifying-the-es6-for-of-loop-9c1a0166d1c6" rel="noopener">揭开ES6‘for-of’循环的神秘面纱</a>作者Daniel Jung</li><li id="e26d" class="lm ln hi is b it lw ix lx jb ly jf lz jj ma jn lr ls lt lu bi translated"><a class="ae lv" href="https://dmitripavlutin.com/javascript-for-of/" rel="noopener ugc nofollow" target="_blank">为什么JavaScript中for…of循环是宝石</a></li></ul></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="5800" class="jz ka hi bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt bi translated">什么时候应该用哪一个？😯</h2><p id="44f6" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">本节的目的是将这两个<code class="du jo jp jq jr b">for</code>语句“并排”放在一起，这样我们就可以进行比较。</p><p id="54a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有一个简单的方法来记住这一点:<br/> ⭐️在迭代对象的可枚举字符串键属性对时使用<code class="du jo jp jq jr b">for…in</code>。你知道<code class="du jo jp jq jr b">{ blah1: blah blah, blah2: blah blah blah }</code>。但不是<code class="du jo jp jq jr b">ARRAY</code>！！记住，无论记录的是什么，都会像记录数组的索引一样，但是是字符串，所以如果你想记录/返回值，一定要用<code class="du jo jp jq jr b">obj[key]</code>打印出来。<br/> ⭐️在迭代可迭代对象时使用<code class="du jo jp jq jr b">for…of</code>:<code class="du jo jp jq jr b">String</code>，<code class="du jo jp jq jr b">Array</code>等。</p><p id="9823" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进一步阅读:</p><ul class=""><li id="f106" class="lm ln hi is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu bi translated"><a class="ae lv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of#difference_between_for...of_and_for...in" rel="noopener ugc nofollow" target="_blank">MDN在</a>中for…of和for…之间的差异</li></ul><p id="9fdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下次当你在做一些需要迭代的东西，或者只是做你常规的Leetcode练习，或者更好…在你的技术面试中，用<code class="du jo jp jq jr b">for…of</code>和<code class="du jo jp jq jr b">for…in</code>展示你新获得的知识。</p><p id="33eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后但同样重要的是…编码快乐！</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/19d39945d3cc7ef88bbba66ebafdfd79.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*1KNRChNXSPMC4fJN"/></div></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="8417" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的媒体读者们，你们好！这篇文章最初发布在<a class="ae lv" href="https://dev.to/mehmehmehlol/for-in-vs-for-of-in-javascript-174g" rel="noopener ugc nofollow" target="_blank"> dev.to </a>(文章的直接链接)上，因为我目前在那个平台上更活跃。我在这里张贴同样的内容，因为我想接触到更多的观众。如果您喜欢您正在阅读的内容，请关注我的<a class="ae lv" href="https://dev.to/mehmehmehlol" rel="noopener ugc nofollow" target="_blank">开发到</a>(我的个人资料)！</p></div></div>    
</body>
</html>