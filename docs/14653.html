<html>
<head>
<title>Streams in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java中的流</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/streams-in-java-a40c83ae5cca?source=collection_archive---------18-----------------------#2022-09-13">https://medium.com/geekculture/streams-in-java-a40c83ae5cca?source=collection_archive---------18-----------------------#2022-09-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="924e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一种在java中引入函数式编程的方法</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f9af31361d98f66134d6ddfa03a303ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JvhD9HVq0lKxSz6Lwj2H3Q.jpeg"/></div></div></figure><p id="0506" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用java做同样的事情有两种不同的方法。</p><blockquote class="jp"><p id="e5ad" class="jq jr hi bd js jt ju jv jw jx jy jc dx translated">必要的</p><p id="3aa6" class="jq jr hi bd js jt ju jv jw jx jy jc dx translated">宣言的</p></blockquote><p id="39ac" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">好，我们举个例子。假设我们有一份员工名单和他们的薪水。雇员类是这样的；</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="b7d3" class="kj kk hi kf b fi kl km l kn ko">public class Employee {<br/>    private final String name;<br/>    private final int year_of_experience;<br/>    private final long salary;<br/><br/>    public Employee(String name, int year_of_experience, long salary) {<br/>        this.name = name;<br/>        this.year_of_experience = year_of_experience;<br/>        this.salary = salary;<br/>    }<br/><br/>    public String getName() {<br/>        return name;<br/>    }<br/><br/>    public int getYear_of_experience() {<br/>        return year_of_experience;<br/>    }<br/><br/>    public long getSalary() {<br/>        return salary;<br/>    }<br/><br/>    @Override<br/>    public String toString(){<br/>        return "Employee: "+<br/>                "name:- " +<br/>                name+ " years_of_experience:- "+<br/>                year_of_experience+ " salary:- "+<br/>                salary;<br/>    }<br/>}</span></pre><p id="9038" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们有一份员工名单。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="7515" class="kj kk hi kf b fi kl km l kn ko">private static List&lt;Employee&gt; getEmployee() {<br/>    return List.<em class="kp">of</em>(<br/>            new Employee("Alice", 3, 500_000),<br/>            new Employee("Bob", 2, 300_000),<br/>            new Employee("Cindy", 1, 80_000),<br/>            new Employee("Diana", 8, 700_000),<br/>            new Employee("Emmy", 5, 500_000),<br/>            new Employee("Finn", 0, 50_000)<br/><br/><br/>    );<br/>}</span></pre><p id="aef6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们希望获得所有工资超过10万英镑的员工。</p><p id="4449" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">强制性方法:</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="3982" class="kj kk hi kf b fi kl km l kn ko">// Imperative approach<br/>List&lt;Employee&gt; high_paid_employees = new ArrayList&lt;&gt;();<br/>for(Employee employee: employees){<br/>    if (employee.getSalary() &gt; 100_000){<br/>        high_paid_employees.add(employee);<br/>    }<br/>}<br/>high_paid_employees.forEach(System.<em class="kp">out</em>::println);</span></pre><p id="5c8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">声明式方法:</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="dac6" class="kj kk hi kf b fi kl km l kn ko">// Declarative approach<br/>List&lt;Employee&gt; high_paid_employees =  employees.stream()<br/>        .filter(e-&gt; e.getSalary() &gt; 100_000)<br/>        .collect(Collectors.<em class="kp">toList</em>());<br/>high_paid_employees.forEach(System.<em class="kp">out</em>::println);</span></pre><p id="f36b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不用定义每一个步骤，使用流，我们可以很容易地过滤所需的数据，并将它们收集在一个单独的列表中。</p><p id="d61f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有<strong class="ih hj">两种类型</strong>的操作组合起来形成一个流管道。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kq"><img src="../Images/352433920cf23449f0692b89b7bfbbcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-oDAdJ0ELHSO4ESucO4x5A.png"/></div></div></figure><p id="71b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kp">中级操作</em> </strong>包括；过滤，映射，排序。</p><blockquote class="kr ks kt"><p id="d213" class="if ig kp ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">这些操作总是很懒，一如既往。</p><p id="8cd6" class="if ig kp ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">这些操作产生一个新的流。</p></blockquote><p id="6394" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kp">终端操作</em> </strong>包括；forEach，reduce。</p><blockquote class="kr ks kt"><p id="1a10" class="if ig kp ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">终端操作产生一个结果。</p><p id="bd3e" class="if ig kp ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">在这些操作之后，流被认为是已消耗的，不能再使用。</p></blockquote></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><p id="8a8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">集合上的流:</p><ul class=""><li id="f058" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated"><strong class="ih hj">无存储</strong></li></ul><p id="ce7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">流本身不是数据结构，因此不存储元素；相反，它充当从源传递元素以执行各种操作的管道。</p><ul class=""><li id="33c2" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated"><strong class="ih hj">功能性质</strong></li></ul><p id="526d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，streams产生一个结果，并不修改源。然后，我们可以使用。收藏功能。</p><ul class=""><li id="5165" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated"><strong class="ih hj">偷懒的人</strong></li></ul><p id="fd8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">许多流操作，比如过滤、映射或重复删除，都可以延迟实现，为优化提供了机会。例如，“查找具有三个连续元音的第一个字符串”不需要检查所有输入的字符串。</p><ul class=""><li id="4997" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated"><strong class="ih hj">可能无界</strong></li></ul><p id="6265" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然集合的大小是有限的，但是流却不需要。诸如limit(n)或findFirst()之类的短路操作可以允许在有限时间内完成对无限流的计算。</p><ul class=""><li id="8997" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated"><strong class="ih hj">耗材</strong></li></ul><p id="bed9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在流的生命周期中，流的元素只被访问一次。像java.util.Iterator一样，必须生成一个新的流来重新访问源中的相同元素。</p><p id="fee0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对流的其他操作包括排序、所有匹配、任何匹配、无匹配、最小、最大。你应该练习一下:)</p><h1 id="6d29" class="ln kk hi bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">参考</h1><p id="e4c7" class="pw-post-body-paragraph if ig hi ih b ii mk ik il im ml io ip iq mm is it iu mn iw ix iy mo ja jb jc hb bi translated">Java streams教程，Amigoscode:<a class="ae mp" href="https://www.youtube.com/watch?v=Q93JsQ8vcwY&amp;ab_channel=Amigoscode" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=Q93JsQ8vcwY&amp;ab _ channel = Amigoscode</a></p><p id="aeab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java文档:<a class="ae mp" href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html" rel="noopener ugc nofollow" target="_blank">https://docs . Oracle . com/javase/8/docs/API/Java/util/stream/package-summary . html</a></p></div></div>    
</body>
</html>