<html>
<head>
<title>MongoDB: Data Modeling matters, first step to optimization [data-modeling series-1]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MongoDB:数据建模至关重要，优化的第一步[数据建模系列-1]</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/mongodb-data-modeling-matters-first-step-to-optimization-data-modeling-series-1-158be911ecb8?source=collection_archive---------36-----------------------#2021-06-01">https://medium.com/geekculture/mongodb-data-modeling-matters-first-step-to-optimization-data-modeling-series-1-158be911ecb8?source=collection_archive---------36-----------------------#2021-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/c8f22fc88984da94c94270e11b4b1f68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4CYZMpnr3LCT2qQVHgF0MA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">M320,<a class="ae hv" href="https://university.mongodb.com/" rel="noopener ugc nofollow" target="_blank">https://university.mongodb.com/</a></figcaption></figure><h2 id="f9b0" class="hw hx hy bd b fp hz ia ib ic id ie dx if translated" aria-label="kicker paragraph">MongoDB数据建模</h2><div class=""/><div class=""><h2 id="a349" class="pw-subtitle-paragraph je ih hy bd b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dx translated">MongoDB带来了整个世界的数据建模，就像在SQL中预先定义模式一样，在大多数情况下，规范化是对数据建模的唯一方式。</h2></div><p id="ed47" class="pw-post-body-paragraph jw jx hy jy b jz ka ji kb kc kd jl ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">作为MongoDB和数据建模的初学者，应该寻找什么。</p><ul class=""><li id="cf2e" class="ks kt hy jy b jz ka kc kd kf ku kj kv kn kw kr kx ky kz la bi translated">数据建模的重要性。</li><li id="f8a9" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated">数据建模方法。</li><li id="e56b" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated">为简单性和性能建模。</li><li id="e134" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated">避免过度工程化。</li></ul><h2 id="1010" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated"><a class="ae hv" href="https://docs.mongodb.com/manual/core/data-modeling-introduction/" rel="noopener ugc nofollow" target="_blank">数据建模介绍</a></h2><p id="ba33" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated"><a class="ae hv" href="https://docs.mongodb.com/manual/core/data-modeling-introduction/" rel="noopener ugc nofollow" target="_blank"> <em class="mf">根据mongodb文档</em> </a>:数据建模的关键挑战是平衡应用程序的需求、数据库引擎的性能特征和数据检索模式。在设计数据模型时，始终要考虑数据的应用程序用法(即数据的查询、更新和处理)以及数据本身的固有结构。</p><h2 id="552d" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated">为什么要数据建模？</h2><p id="d474" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated">由于MongoDB提供了灵活的模式结构，使用JSON文档，我们可以按照应用程序需要的任何方式对数据进行建模。以任何可能的方式[ <strong class="jy ii"> <em class="mf">嵌套数组/子文档、平面、表格、柱状、键值、文本、地理空间</em> </strong> ]或其组合，带有适当的索引。</p><blockquote class="mg"><p id="3157" class="mh mi hy bd mj mk ml mm mn mo mp kr dx translated">随着灵活性而来的是建模。</p></blockquote><p id="19e6" class="pw-post-body-paragraph jw jx hy jy b jz mq ji kb kc mr jl ke kf ms kh ki kj mt kl km kn mu kp kq kr hb bi translated">这有什么用？</p><ul class=""><li id="c803" class="ks kt hy jy b jz ka kc kd kf ku kj kv kn kw kr kx ky kz la bi translated"><strong class="jy ii">磁盘I/O </strong> —具有优化的读/写功能</li><li id="7a05" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jy ii">内存利用率</strong> —改进的文档结构，带有正确的索引。</li><li id="36a3" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jy ii"> CPU利用率</strong> —避免内存操作[排序、聚合]</li><li id="8ab8" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jy ii">网络</strong> —极简方法，避免冗余。</li><li id="5930" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jy ii">磁盘使用</strong> —管理所需的冗余。</li><li id="5156" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jy ii">托管数据库</strong></li><li id="dae1" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jy ii">优化复杂度</strong>。</li></ul><h2 id="1fc4" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated">方法学</h2><p id="8124" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated">为我们需要理解/收集的东西/事物建模。</p><ul class=""><li id="c10e" class="ks kt hy jy b jz ka kc kd kf ku kj kv kn kw kr kx ky kz la bi translated">Usage/ <strong class="jy ii"> Workload </strong> —如何使用(查询/修改)以及使用量。</li><li id="609a" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated">所有的组成部分——所有不同的数据集都可以转换成文档，以及它们之间的关系。</li><li id="e491" class="ks kt hy jy b jz lb kc lc kf ld kj le kn lf kr kx ky kz la bi translated">我们能不能用一个模式来实现它——能不能用一个模式来获得性能。</li></ul><figure class="mw mx my mz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mv"><img src="../Images/aec8f8c858c4def75fd3f0952ad0a558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*afGiq8iAAfWcrcPXwKA_fw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">M320, <a class="ae hv" href="https://university.mongodb.com/" rel="noopener ugc nofollow" target="_blank">https://university.mongodb.com/</a></figcaption></figure><h2 id="aa26" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated">建模简单胜于性能</h2><p id="0427" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated">通过有限的使用预期、响应时间、资源(内存/磁盘/IOPs/网络)保持简单以实现更快的开发不是瓶颈。<br/>例如:<em class="mf">最常用的简单方法是将数据平铺在一起，避免过多缩进，是的，这会增加冗余，但会降低跨集合连接数据的复杂性，更新树结构中的节点/叶</em>。</p><figure class="mw mx my mz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/c8f22fc88984da94c94270e11b4b1f68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4CYZMpnr3LCT2qQVHgF0MA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">M320, <a class="ae hv" href="https://university.mongodb.com/" rel="noopener ugc nofollow" target="_blank">https://university.mongodb.com/</a></figcaption></figure><h2 id="adae" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated">模拟性能胜于简单性。</h2><p id="e25b" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated">在有约束条件时实现性能的模型，即所需的响应时间、优化的资源(内存/磁盘/IOPs/网络)。将不得不在方法学方面花费更多的时间来理解哪一个是最好的模式，引入增加的开发时间增加了复杂性。</p><figure class="mw mx my mz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b5c47072305aeeb22e0f1ef1fd22876c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1k5FhW-X9c6uyJlwGuygXQ.png"/></div></div></figure><h2 id="dc17" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated">混合模型</h2><p id="1e94" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated">在不关心性能的地方和关心性能的地方创造分离。<br/>例如:<em class="mf">简单性——保存主数据/配置数据的数据点/集合，性能不是问题。<br/>绩效——报告/处理/转化…其中使用/容量/响应时间至关重要。</em></p><figure class="mw mx my mz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es na"><img src="../Images/42197eeebfe6a75d6de21f2ef28c55e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iHuEF8XDYOjCthPJqMeaJQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">M320, <a class="ae hv" href="https://university.mongodb.com/" rel="noopener ugc nofollow" target="_blank">https://university.mongodb.com/</a></figcaption></figure><h2 id="712a" class="lg lh hy bd li lj lk ll lm ln lo lp lq kf lr ls lt kj lu lv lw kn lx ly lz ie bi translated"><strong class="ak">参考文献</strong>:</h2><p id="d74b" class="pw-post-body-paragraph jw jx hy jy b jz ma ji kb kc mb jl ke kf mc kh ki kj md kl km kn me kp kq kr hb bi translated">为了更好地理解并开始数据建模。</p><div class="hh hi ez fb hj nb"><a href="https://arun2pratap.medium.com/mongodb-model-tree-structures-with-materialized-paths-ed58f38ded3e" rel="noopener follow" target="_blank"><div class="nc ab dw"><div class="nd ab ne cl cj nf"><h2 class="bd ii fi z dy ng ea eb nh ed ef ih bi translated">MongoDB:带有物化路径的模型树结构</h2><div class="ni l"><h3 class="bd b fi z dy ng ea eb nh ed ef dx translated">具有物化路径的模型树结构以及如何使用</h3></div><div class="nj l"><p class="bd b fp z dy ng ea eb nh ed ef dx translated">arun2pratap.medium.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np hp nb"/></div></div></a></div><div class="hh hi ez fb hj nb"><a href="https://university.mongodb.com/courses/M320/about" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab dw"><div class="nd ab ne cl cj nf"><h2 class="bd ii fi z dy ng ea eb nh ed ef ih bi translated">M320:数据建模| MongoDB大学</h2><div class="ni l"><h3 class="bd b fi z dy ng ea eb nh ed ef dx translated">M320 ADVANCED了解您需要了解的关于MongoDB数据建模的一切。MongoDB大学的所有课程都是…</h3></div><div class="nj l"><p class="bd b fp z dy ng ea eb nh ed ef dx translated">university.mongodb.com</p></div></div><div class="nk l"><div class="nq l nm nn no nk np hp nb"/></div></div></a></div><figure class="mw mx my mz fd hk"><div class="bz dy l di"><div class="nr ns l"/></div></figure><figure class="mw mx my mz fd hk"><div class="bz dy l di"><div class="nr ns l"/></div></figure></div><div class="ab cl nt nu gp nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="hb hc hd he hf"><p id="1403" class="pw-post-body-paragraph jw jx hy jy b jz ka ji kb kc kd jl ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">请分享您对<strong class="jy ii">数据建模</strong>的看法，希望对您有所帮助。</p><p id="8301" class="pw-post-body-paragraph jw jx hy jy b jz ka ji kb kc kd jl ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">编码愉快，谢谢:)</p></div></div>    
</body>
</html>