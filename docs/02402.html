<html>
<head>
<title>How to Add Custom Props to Material-UI Typography Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何添加自定义道具到材质-UI排版组件</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-add-custom-props-to-material-ui-typography-component-2e47117e76bf?source=collection_archive---------6-----------------------#2021-05-14">https://medium.com/geekculture/how-to-add-custom-props-to-material-ui-typography-component-2e47117e76bf?source=collection_archive---------6-----------------------#2021-05-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/18794c090fdcee597a3a9a91be3e5b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWznzPuTYlnEyZwgQrTTVw.png"/></div></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="004d" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在我们开始之前，下面是我们在本文结束时将达到的最终结果:</p><p id="e833" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">✔️一个带有自定义<code class="du jv jw jx jy b">fontWeight</code>和<code class="du jv jw jx jy b">emphasis</code>道具的排版组件。<a class="ae jz" href="https://codesandbox.io/s/custom-material-ui-typography-props-6lfk2" rel="noopener ugc nofollow" target="_blank">JavaScript React Codesandbox</a></p><p id="2392" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在本文中，为了简单起见，我使用了JavaScript，但是我也包括了Typescript版本。<a class="ae jz" href="https://codesandbox.io/s/custom-material-ui-typography-props-typescript-mws8w" rel="noopener ugc nofollow" target="_blank">Typescript React code sandbox</a></p><p id="33ab" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">💡此外，如果您正在寻找一次性的解决方案，这里有一个快速简单的方法来使用Box组件覆盖字体粗细:</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="cf7a" class="ki kj hi jy b fi kk kl l km kn">&lt;Typography&gt;<br/>  &lt;Box fontWeight="fontWeightBold"&gt;<br/>    This text is bold<br/>  &lt;/Box&gt;<br/>&lt;/Typography&gt;</span></pre></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="ad5a" class="ko kj hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">正确的方式</h1><p id="aaa3" class="pw-post-body-paragraph ix iy hi iz b ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju hb bi translated">在您创建任何将覆盖默认样式的自定义属性之前，让我们看看为什么有时保持原样更好。</p><p id="e5b5" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">Material-UI使您的设计保持一致变得容易，并为您提供了一种覆盖特定字体样式的方法。在项目的大部分时间里，它们应该具有相同的外观和感觉。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="c6f3" class="ki kj hi jy b fi kk kl l km kn">const theme = createMuiTheme({<br/>  typography: {<br/>    h1: {<br/>      fontWeight: 700,<br/>      fontSize: 20,<br/>    },<br/>  },<br/>})</span></pre><p id="a781" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">现在，如果您用创建的自定义主题包装您的项目，所有h1元素将具有相同的样式。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="7b44" class="ki kj hi jy b fi kk kl l km kn">&lt;ThemeProvider theme={theme}&gt;<br/>  &lt;Typography variant='h1'&gt;<br/>    Bold heading, 20px size<br/>  &lt;/Typography&gt;<br/>&lt;/ThemeProvider&gt;</span></pre></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="1b89" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">但是，有时您希望在不改变主配置或添加额外包装器的情况下对特定的文本元素有更多的控制。</p><p id="d88c" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">你可以使用一个内嵌风格的道具来改变你所需要的任何东西，但是这大大降低了一致性，并且随着项目的增长，很难控制设计的混乱。</p><p id="e421" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我的解决方案是覆盖排版组件，并添加一些额外的道具。</p><p id="0962" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">让我们先从<code class="du jv jw jx jy b">fontWeight</code>说起。</p><h1 id="452d" class="ko kj hi bd kp kq lq ks kt ku lr kw kx ky ls la lb lc lt le lf lg lu li lj lk bi translated">添加fontWeight属性</h1><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="c4fa" class="ki kj hi jy b fi kk kl l km kn">import {<br/>  makeStyles,<br/>  Typography as MuiTypography,<br/>} from '@material-ui/core'</span><span id="4616" class="ki kj hi jy b fi lv kl l km kn">const useStyles = makeStyles({<br/>  overrides: {<br/>    fontWeight: ({ fontWeight }) =&gt; fontWeight,<br/>  },<br/>})</span><span id="c92a" class="ki kj hi jy b fi lv kl l km kn">const Typography = ({ fontWeight, children }) =&gt; {<br/>  const classes = useStyles({ fontWeight })</span><span id="38f0" class="ki kj hi jy b fi lv kl l km kn">  return (<br/>    &lt;MuiTypographyclassName={classes.overrides}&gt;<br/>      {children}<br/>    &lt;/MuiTypography&gt;<br/>  )<br/>}</span><span id="a705" class="ki kj hi jy b fi lv kl l km kn">export default Typography</span></pre><p id="eaa4" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如你所见，我们用自己的包装器扩展了材料排版组件。它允许我们传递自定义的道具。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="37be" class="ki kj hi jy b fi kk kl l km kn">💡 importing Typography as MuiTypography allows us to name and export our own component as Typography.</span></pre><p id="36b8" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我们将<code class="du jv jw jx jy b">fontWeight</code>属性传递给<code class="du jv jw jx jy b">useStyles</code>，后者生成新的<code class="du jv jw jx jy b">overrides</code>类，我们可以将该类传递给className属性。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="c21f" class="ki kj hi jy b fi kk kl l km kn">&lt;Typography fontWeight={700}&gt;This text is 700 bold&lt;/Typography&gt;</span></pre><p id="cdd0" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">现在，如果您打开浏览器的开发工具并选择元素，您会注意到它在顶部创建了一个新类，并覆盖了原来的字体粗细。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/083505517a7f9862caa2d2e92c719058.png" data-original-src="https://miro.medium.com/v2/format:webp/1*JCVP4OBLLUIJH8HsN-ZNuw.png"/></div></figure><p id="333a" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">但是等等……我们在这里失去了一些东西，事实上，失去了很多——现在我们无法使用任何原始的排版道具，比如<code class="du jv jw jx jy b">variant</code>和<code class="du jv jw jx jy b">color</code>。</p><p id="3b62" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">让我们把他们带回来。</p><p id="fe22" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">为此，我们将使用一个库来帮助我们非常容易地合并多个类名。是的，它叫做<a class="ae jz" href="https://www.npmjs.com/package/classnames" rel="noopener ugc nofollow" target="_blank">类名</a>。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="aa03" class="ki kj hi jy b fi kk kl l km kn">npm install classnames</span></pre><p id="2679" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">💡在JavaScript中还有其他类似于类名的好选择，比如<a class="ae jz" href="https://www.npmjs.com/package/clsx" rel="noopener ugc nofollow" target="_blank"> clsx </a>。或者您也可以创建自己的实现。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="2f79" class="ki kj hi jy b fi kk kl l km kn">import {<br/>  makeStyles,<br/>  Typography as MuiTypography,<br/>} from '@material-ui/core'<br/>import classNames from 'classnames'</span><span id="c2dd" class="ki kj hi jy b fi lv kl l km kn">const useStyles = makeStyles({<br/>  overrides: {<br/>    fontWeight: ({ fontWeight }) =&gt; fontWeight,<br/>  },<br/>})</span><span id="b795" class="ki kj hi jy b fi lv kl l km kn">export const Typography = ({<br/>  fontWeight,<br/>  children,<br/>  ...otherProps<br/>}) =&gt; {<br/>  const classes = useStyles({ fontWeight })</span><span id="31c5" class="ki kj hi jy b fi lv kl l km kn">  return (<br/>    &lt;MuiTypography<br/>      {...otherProps}<br/>      className={classNames(<br/>        otherProps.className,<br/>        classes.overrides,<br/>      )}&gt;<br/>      {children}<br/>    &lt;/MuiTypography&gt;<br/>  )<br/>}</span></pre><p id="6a62" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">正如你所看到的，我们使用了<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> spread语法</a> (…)和<code class="du jv jw jx jy b">otherProps</code>，这允许我们将除了<code class="du jv jw jx jy b">fontWeight</code>和<code class="du jv jw jx jy b">children</code>之外的所有属性直接传递给原始排版组件。</p><p id="ae77" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">请注意，我们还将<code class="du jv jw jx jy b">otherProps.className</code>传递给了原始的<code class="du jv jw jx jy b">className</code>属性，因为否则，我们将无法将<code class="du jv jw jx jy b">className</code>添加到新的排版组件中。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="bd46" class="ki kj hi jy b fi kk kl l km kn">&lt;Typography variant="h1" fontWeight={700} className="anotherClass"&gt;<br/>   Bold heading<br/>&lt;/Typography&gt;</span></pre><p id="658d" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">太好了！现在，我们可以在原始材料UI排版道具旁边添加自定义字体粗细。而且如果我们没有通过<code class="du jv jw jx jy b">fontWeight</code>道具，它会保持主题配置的默认值。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="3a00" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在这一点上，我们已经实现了我们的目标，可以走了。但对我来说，一致性是一个伟大的用户体验的关键，我们正在失去它，因为我们可以使用任何可用的字体粗细。</p><blockquote class="lx"><p id="0002" class="ly lz hi bd ma mb mc md me mf mg ju dx translated">视觉一致性是网页设计中最基本的原则之一。</p></blockquote><p id="e54b" class="pw-post-body-paragraph ix iy hi iz b ja mi jc jd je mj jg jh ji mk jk jl jm ml jo jp jq mm js jt ju hb bi translated">我建议用更少的选项来限制我们的组件，这样我们至少可以在项目中更加一致。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="1fe1" class="ki kj hi jy b fi kk kl l km kn">import {<br/>  makeStyles,<br/>  Typography as MuiTypography,<br/>} from '@material-ui/core'<br/>import classNames from 'classnames'</span><span id="43eb" class="ki kj hi jy b fi lv kl l km kn">const FONT_WEIGHT = {<br/>  light: 300,<br/>  regular: 400,<br/>  bold: 700,<br/>}</span><span id="8f9f" class="ki kj hi jy b fi lv kl l km kn">const useStyles = makeStyles({<br/>  overrides: {<br/>    fontWeight: ({ fontWeight }) =&gt;FONT_WEIGHT[fontWeight],<br/>  },<br/>})</span><span id="eb35" class="ki kj hi jy b fi lv kl l km kn">export const Typography = ({<br/>  fontWeight,<br/>  children,<br/>  ...otherProps<br/>}) =&gt; {<br/>  const classes = useStyles({ fontWeight })</span><span id="5c8d" class="ki kj hi jy b fi lv kl l km kn">  return (<br/>    &lt;MuiTypography<br/>      {...otherProps}<br/>      className={classNames(<br/>        otherProps.className,<br/>        classes.overrides,<br/>      )}&gt;<br/>      {children}<br/>    &lt;/MuiTypography&gt;<br/>  )<br/>}</span></pre><p id="c93d" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">现在我们的选项只有“浅色”、“常规”和“粗体”。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="9d7d" class="ki kj hi jy b fi kk kl l km kn">&lt;Typography variant="h1" fontWeight="light" &gt;<br/>   Light weight heading<br/>&lt;/Typography&gt;</span></pre></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="fd4e" class="ko kj hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">添加强调属性</h1><p id="5467" class="pw-post-body-paragraph ix iy hi iz b ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju hb bi translated">改变字体粗细很好，但这不是我决定添加自定义道具的原因，我真的想快速轻松地调整文本的不透明度，同时保持一致。</p><p id="50c7" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">拥有额外的<code class="du jv jw jx jy b">emphasis</code>属性是控制网站视觉层次的直接方式，我喜欢在每个项目中使用它。</p><blockquote class="mn mo mp"><p id="f792" class="ix iy mq iz b ja jb jc jd je jf jg jh mr jj jk jl ms jn jo jp mt jr js jt ju hb bi translated"><strong class="iz hj"> <em class="hi">浅色背景上的深色文本应用以下不透明度:</em> </strong></p><p id="461f" class="ix iy mq iz b ja jb jc jd je jf jg jh mr jj jk jl ms jn jo jp mt jr js jt ju hb bi translated"><em class="hi">高强调文本的不透明度为87% </em></p><p id="b46f" class="ix iy mq iz b ja jb jc jd je jf jg jh mr jj jk jl ms jn jo jp mt jr js jt ju hb bi translated"><em class="hi">中度强调文本和提示文本的不透明度为60% </em></p><p id="0873" class="ix iy mq iz b ja jb jc jd je jf jg jh mr jj jk jl ms jn jo jp mt jr js jt ju hb bi translated"><em class="hi">禁用文本的不透明度为38% </em></p></blockquote><p id="d4e4" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">💡<em class="mq">详见</em><a class="ae jz" href="https://material.io/design/color/text-legibility.html#text-backgrounds" rel="noopener ugc nofollow" target="_blank"><em class="mq">material . io</em></a></p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="4edf" class="ki kj hi jy b fi kk kl l km kn">import {<br/>  makeStyles,<br/>  Typography as MuiTypography,<br/>} from '@material-ui/core'<br/>import classNames from 'classnames'</span><span id="2d25" class="ki kj hi jy b fi lv kl l km kn">const FONT_WEIGHT = {<br/>  light: 300,<br/>  regular: 400,<br/>  bold: 700,<br/>}</span><span id="3d1b" class="ki kj hi jy b fi lv kl l km kn">const EMPHASIS = {<br/>  disabled: 0.3,<br/>  medium: 0.6,<br/>  high: 0.87,<br/>  full: 1,<br/>}</span><span id="a5f9" class="ki kj hi jy b fi lv kl l km kn">const useStyles = makeStyles({<br/>  overrides: {<br/>    opacity: ({ emphasis }) =&gt; EMPHASIS[emphasis],<br/>    fontWeight: ({ fontWeight }) =&gt; FONT_WEIGHT[fontWeight],<br/>  },<br/>})</span><span id="dc69" class="ki kj hi jy b fi lv kl l km kn">export const Typography = ({<br/>  emphasis = 'high',<br/>  fontWeight,<br/>  children,<br/>  ...otherProps<br/>}) =&gt; {<br/>  const classes = useStyles({ emphasis, fontWeight })</span><span id="ff18" class="ki kj hi jy b fi lv kl l km kn">  return (<br/>    &lt;MuiTypography<br/>      {...otherProps}<br/>      className={classNames(<br/>        otherProps.className,<br/>        classes.overrides,<br/>      )}&gt;<br/>      {children}<br/>    &lt;/MuiTypography&gt;<br/>  )<br/>}</span></pre><p id="751a" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">正如你所看到的，创建<code class="du jv jw jx jy b">emphasis</code>道具与<code class="du jv jw jx jy b">fontWeight</code>相似，我们添加的唯一额外的东西是默认值——<code class="du jv jw jx jy b">emphasis = 'high'</code>，这使得我们的文本默认不透明度为87%，这在大多数情况下是完美的。但是我们仍然可以选择将其设置回100% <code class="du jv jw jx jy b">emphasis = 'full'</code>。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="db84" class="ki kj hi jy b fi kk kl l km kn">&lt;Typography variant="h3" fontWeight="light" emphasis="medium" &gt;<br/>   We have control!<br/>&lt;/Typography&gt;</span></pre><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/6d0509de7d7747cf537ca594f8aef6bb.png" data-original-src="https://miro.medium.com/v2/format:webp/1*hLK0Xkz5VT0oHO_FGm9NkQ.png"/></div></figure><h1 id="2399" class="ko kj hi bd kp kq lq ks kt ku lr kw kx ky ls la lb lc lt le lf lg lu li lj lk bi translated">总结</h1><p id="be5b" class="pw-post-body-paragraph ix iy hi iz b ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju hb bi translated">总是有添加任何自定义属性的自由，但是记住迷失在这种自由中是很容易的，事情会很快变得一团糟，特别是当项目增长的时候。</p><p id="e02e" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">拥有尽可能少的选项通常是最好的，所以试着有一些限制，这将有助于你保持一致性并获得更好的用户体验。</p><p id="08fc" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">希望有所帮助！</p></div></div>    
</body>
</html>