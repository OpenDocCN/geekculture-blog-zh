<html>
<head>
<title>Space Shooter Challenge: Secondary Fire Pt 2 — Creating a Missile</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">太空射击挑战:二次射击pt2-创造一枚导弹</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/space-shooter-challenge-secondary-fire-pt2-creating-a-missile-b3b5952123b2?source=collection_archive---------33-----------------------#2021-06-05">https://medium.com/geekculture/space-shooter-challenge-secondary-fire-pt2-creating-a-missile-b3b5952123b2?source=collection_archive---------33-----------------------#2021-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/dae292f623d3e75dc9be2933cf13e7c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HICaenEzEMdCpt34GGAp6g.gif"/></div></div></figure><p id="8f13" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">超级激光很容易实现，所以我想要一个额外的挑战来创造“热追踪”导弹。</p><p id="6d4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在<strong class="is hj">文件库</strong>里找到了一些导弹包，并且喜欢上图中的视觉效果。不过有一个问题，它是一个<strong class="is hj"> 3D物体</strong>，因此它不能很好地与我游戏中的其他物体一起工作。</p><p id="38e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了解决这个问题，我下载了<strong class="is hj">搅拌机</strong>，并导入了<strong class="is hj"> FBX。中的型号</strong>。我快速搜索了一下如何附加材料，因为我不是艺术家，最后得到了我从<strong class="is hj"> Filebase导入到<strong class="is hj"> Unity </strong>的复制模型。</strong></p><p id="8c89" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后是一个简单的<strong class="is hj">渲染</strong>和<strong class="is hj">透明背景</strong>，然后在再次渲染之前给<strong class="is hj">旋转</strong>增加5度，重复直到我有了一组循环的<strong class="is hj">精灵。</strong></p><p id="234c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我可以把它作为<strong class="is hj"> 2D动画精灵</strong>添加回Unity，并使它成为一个预设。我还从<strong class="is hj">播放器</strong>复制了<strong class="is hj">推进器</strong>并调整了大小。<strong class="is hj">导弹</strong>和<strong class="is hj">推进器</strong>的启用和动画将在稍后代码功能实现时介绍。</p><p id="e158" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我还像以前一样重用了<strong class="is hj">加电精灵</strong>，在<strong class="is hj"> GIMP </strong>中重新着色和重命名它们。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/94c470321876625823af47dd28cf66ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QGSrxIfmbVEkcdAMPATyUw.gif"/></div></div></figure><p id="8b01" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当收集<strong class="is hj">导弹启动</strong>时，我想让它们在视觉上出现在<strong class="is hj">玩家</strong>上，向<strong class="is hj">用户</strong>展示它们是活跃的，而不是使用<strong class="is hj"> UI。</strong></p><p id="67e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<strong class="is hj">播放器上，</strong>我创建了一个名为<strong class="is hj">导弹的空游戏对象，</strong>然后创建了两个空游戏对象作为子对象，分别名为<strong class="is hj"> LeftMissileHolder </strong>和<strong class="is hj"> RightMissileHolder。</strong>这两个物体被放置在机翼上，因为它们将被用于<strong class="is hj">实例化</strong>导弹预置。</p><p id="951e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有了这个，我可以为<strong class="is hj">加电创建一些功能。</strong></p><p id="1ad2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先我需要创建一些变量，我创建了一个<strong class="is hj">游戏对象数组</strong>来保存两个<strong class="is hj">持有者</strong>游戏对象，以及一个<strong class="is hj">游戏对象变量</strong>来保存<strong class="is hj">导弹预设。</strong></p><p id="f457" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我可以为<strong class="is hj">加电</strong>创建一个公共方法来调用<strong class="is hj">加电id</strong>的<strong class="is hj">开关语句</strong>。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/1ec435a634bea63fb024286628be3de5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bucpNSO6PdwiwuwPXRN4_A.png"/></div></div></figure><p id="a9fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个方法中，我使用一个<strong class="is hj"> foreach循环</strong>来访问<strong class="is hj">数组中的每个<strong class="is hj"> Holder游戏对象</strong>。</strong>对于其中的每一个，我在<strong class="is hj">持有者</strong>的位置实例化导弹，并将其分配给一个<strong class="is hj">游戏对象变量</strong>，这样我就可以访问<strong class="is hj">实例化导弹</strong>的<strong class="is hj">父</strong>并将其分配给<strong class="is hj">持有者。</strong></p><p id="a715" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这既允许一个干净的<strong class="is hj">层次</strong>，也意味着<strong class="is hj">导弹物体</strong>将在<strong class="is hj">玩家</strong>在屏幕上移动时保持附着在他的翅膀上。</p><p id="020d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在当<strong class="is hj">导弹启动</strong>被拿起时，2枚导弹出现在<strong class="is hj">玩家船的机翼上。我现在需要功能来解雇他们。</strong></p><p id="5b9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我没有用我的<strong class="is hj">更新方法</strong>来检查按下<strong class="is hj">空格键</strong>时应该使用哪种武器，而是创建了一个新的<strong class="is hj">私有方法</strong>，在现有的<strong class="is hj"> if语句中调用。</strong></p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/9a7f4e3bb09458c274940d416f061c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cV3IikQoTWdxsFCcutle4Q.png"/></div></div></figure><p id="3fac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<strong class="is hj">武器选择方法</strong>中，我需要一种检查<strong class="is hj">导弹</strong>的方法，有很多方法可以做到这一点，但是当涉及到发射<strong class="is hj">导弹</strong>时，我希望能够随机选择一种。</p><p id="0bbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我创建了一个<strong class="is hj">新的游戏对象列表</strong>来存储<strong class="is hj">实例化的导弹，</strong>然后在<strong class="is hj">导弹活动方法</strong>中将<strong class="is hj">导弹</strong>添加到<strong class="is hj">列表中。</strong></p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/e08f39a0b58a27fef9727e84607fc7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tidzXKrlxYhtEIl4Xps6lQ.png"/></div></div></figure><p id="16ef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在在<strong class="is hj">武器选择方法</strong>中，我可以查看<strong class="is hj">列表</strong>是否包含任何对象，如果是，就调用我要创建的<strong class="is hj"> FireMissile方法</strong>，否则，调用现有的<strong class="is hj"> FireLaser方法。</strong></p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/ec4bfe62ba887dd24a1c5611d2d5658f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYPSOAZg2E1zhAI-cgIp-w.png"/></div></div></figure><p id="3a9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<strong class="is hj">火力导弹方法</strong>，我首先需要重复使用<strong class="is hj">火力激光方法</strong>的第一行，并重置<strong class="is hj"> _canFire变量</strong>以创建发射导弹之间的冷却时间。</p><p id="fac5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我继续创建了一个<strong class="is hj">导弹脚本</strong>来为<strong class="is hj">导弹</strong>创建功能，并将它附加到<strong class="is hj">预设上。</strong>现在我可以使用<strong class="is hj"> GetComponent、</strong>访问<strong class="is hj">脚本</strong>，但是首先我想选择一个<strong class="is hj">随机导弹。</strong>这意味着我需要访问列表的一个<strong class="is hj">随机索引</strong>，并将其分配给一个<strong class="is hj">游戏对象变量。</strong></p><p id="7066" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在得到<strong class="is hj">脚本</strong>后，我需要从<strong class="is hj">列表</strong>中移除导弹，这样它就不能被再次访问，这将简单地在<strong class="is hj">列表中留下一个对象</strong>，当再次调用<strong class="is hj"> FireMissile方法</strong>时，随机索引将只能返回最后一个可用的导弹。</p><p id="1498" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我可以调用<strong class="is hj">导弹脚本的<strong class="is hj">发射方法</strong>，</strong>，这将是我启动导弹所有跟踪和移动功能的地方。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/d0fd37d077d7579ce7c3412dcf52560d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LMggBTpz7l5oxae329nFig.png"/></div></div></figure><p id="10b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我简单地在<strong class="is hj">导弹脚本</strong>上创建了<strong class="is hj">射击公共方法</strong>，并让它调用一个<strong class="is hj">移动方法</strong>，它简单地复制了<strong class="is hj">激光功能</strong>，并让它向上移动。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/442146c8db77a62b4f3406c29e037f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9dVIq7_Me6Ygg4g2Ut5Q1Q.png"/></div></div></figure><p id="6900" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就产生了一个问题，这个方法只被调用一次，所以导弹实际上不会移动很远，相反，我使用了<strong class="is hj"> Fire方法</strong>来设置<strong class="is hj"> MissileActive bool </strong>为<strong class="is hj"> true。</strong>然后在<strong class="is hj">更新方法中，</strong>我可以检查<strong class="is hj"> bool </strong>，如果导弹是活动的，那么就可以调用<strong class="is hj">移动方法</strong></p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/7632664a9ad23a9ebd0e214f9e8589a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gTtCfCofSzQVwSGLJUkjhg.png"/></div></div></figure><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/b4a1364f48680395930771c27202ee9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4MmwgeLA9VbDDIJFMufLXA.gif"/></div></div></figure><p id="f7ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我现在有了功能正常的<strong class="is hj">导弹</strong>，但我想进一步扩展它们，让它们像“热追踪”一样追逐敌人。明天回来查看解决这个问题的文章！</p></div></div>    
</body>
</html>