<html>
<head>
<title>How to build a sales forecast in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在R中建立销售预测</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-build-a-sales-forecast-in-r-dafabb03a076?source=collection_archive---------6-----------------------#2021-08-22">https://medium.com/geekculture/how-to-build-a-sales-forecast-in-r-dafabb03a076?source=collection_archive---------6-----------------------#2021-08-22</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><p id="3c0d" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们能使用线性回归来优化超市产品的日常销售吗？</p><p id="bded" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们将使用线性回归来确定货架位置对<a class="ae je" href="https://www.wiley.com/en-al/Marketing+Analytics%3A+Data+Driven+Techniques+with+Microsoft+Excel-p-9781118373439" rel="noopener ugc nofollow" target="_blank">奥利奥</a>销量的影响。这个数据集来自Wayne L. Winston的<a class="ae je" href="https://www.amazon.com/Marketing-Analytics-Data-Driven-Techniques-Microsoft/dp/111837343X" rel="noopener ugc nofollow" target="_blank">营销分析:使用Microsoft Excel的数据驱动技术</a>。第10章是关于预测的。如果你是一个分析任何类型的营销数据的分析师，你真的应该看看他的书！我将复制最初在Excel中完成的预测练习，但是在r。</p><p id="24b0" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们的奥利奥数据集有3列:<br/> 1。观察编号<br/> 2。高度单位为英尺<br/> 3。销售</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="es et jf"><img src="../Images/c2214cd608ebba9df7ac941158d5fed1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-VoGCWqVJDf8q04n7i57A.png"/></div></div><figcaption class="jr js eu es et jt ju bd b be z dy">Inspect Oreos dataset</figcaption></figure><p id="bd5e" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们用lm函数建立我们的线性回归模型。我们只有一个因变量(销售额)和一个自变量(身高.英寸.英尺)。我们将假设销售是以单位数为单位的。我们将把身高作为一个因素变量，这是一种分类变量。这将影响我们如何解释回归模型的输出。我们忽略第一列(观察)来构建我们的模型。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div class="es et jv"><img src="../Images/c362ffab10ea025e4cfa7e2d91595848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*e_TTe74_PhVzBOHoky-k7w.png"/></div><figcaption class="jr js eu es et jt ju bd b be z dy">Build linear regression model</figcaption></figure><p id="0282" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们调用模型上的summary函数并解释输出。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div class="es et jw"><img src="../Images/e18cfb01945af99fc80289c29bad44cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*Ld3D9przE0GUnwXOueW2Xg.png"/></div><figcaption class="jr js eu es et jt ju bd b be z dy">Print model summary</figcaption></figure><figure class="jg jh ji jj fe jk es et paragraph-image"><div class="es et jx"><img src="../Images/200c3cea67885b07a5a6fab66858d194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*j6th5YMojtcpw9fnOiAOPQ.png"/></div><figcaption class="jr js eu es et jt ju bd b be z dy">Model output</figcaption></figure><p id="6e70" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk">截距</strong> <br/>截距是所有自变量(x)都为零时因变量(y)的值。在这种情况下，由于我们只有一个分类变量作为预测变量，截距就是货架高度为5英尺的奥利奥销售额的平均值(截距上的参照组)。</p><p id="3a1d" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk">系数</strong>我们的两个系数都是正的，表明销售额是正的。</p><p id="24e3" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">在5英尺的高度，销售是28.5单位，所有其他变量保持在同一水平。现在我们根据5英尺货架位置(在我们的截距上)来解释6英尺和7英尺的高度系数。</p><p id="9d8e" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">在6英尺处，销售增加到34个单位(增加了5个)，但是在7英尺处，销售减少到15.75个单位(减少了12.75个单位)。</p><p id="71b0" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">总之，在销售方面，6英尺是奥利奥更好的货架高度。</p><p id="c0a2" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk"> P值</strong> <br/>我们两个系数的P值都是&lt; .05。我们的两个系数都是统计显著的，如有效代码所示。6英尺三颗星，7英尺两颗星。</p><p id="4912" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们的回归模型可以解释奥利奥单位销售额中大约90%的变化。对于只有一个预测因子(独立变量)的模型来说，这是一个非常高的r平方。在这种情况下，要小心行事。</p><p id="2aa8" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk">预测</strong> <br/>我们可以根据货架高度用这个输出来预测奥利奥的销量吗？是的，我们可以！我们简单地使用预测函数。</p><p id="e73e" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">首先，我们创建一个解释变量的数据框架(在这种情况下是tibble)。我们将使用我们的原始数据集。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="es et jy"><img src="../Images/779b11d09436369f2da6100c7978cc66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DOUoKupU6Y4yShxRbUwQ_w.png"/></div></div><figcaption class="jr js eu es et jt ju bd b be z dy">Create data frame for our explanatory data</figcaption></figure><p id="8628" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">然后我们调用预测函数，第一个参数是我们的模型输出，第二个参数是我们的解释数据。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div class="es et jz"><img src="../Images/22eb73aff48274e6e42875a2516f68ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*xsd_8bjE1ybeNzYcOe67DA.png"/></div><figcaption class="jr js eu es et jt ju bd b be z dy">Create predictions using predict function</figcaption></figure><p id="73ac" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们最终得到的是我们销售预测的向量。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="es et ka"><img src="../Images/492ef300cfd4070f2310752afe4cf35c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wo4Vk9N_7Mkw7p84aA4yEA.png"/></div></div><figcaption class="jr js eu es et jt ju bd b be z dy">Vector of our sales predictions</figcaption></figure><p id="38bf" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">然后，我们将把预测销售额和误差列添加到解释性数据框中，并保存到一个名为prediction_oreo的新对象中。</p><p id="885c" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">回归是一个有误差的过程，基于估计的回归模型，我们可以计算实际观察到的Y值(销售)和从我们的回归模型预测的值(预测_销售)之间的差异。这些差异被称为残差，因此我们还将为我们的残差添加一列，称为误差。然后，我们打印结果。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="es et kb"><img src="../Images/93bef7d10056cc01b0d08ea4575cf274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJ5StkNNvEX9jmITsNGRYQ.png"/></div></div><figcaption class="jr js eu es et jt ju bd b be z dy">Prediction data frame</figcaption></figure><p id="5172" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">最后，我们将根据货架位置变量(高度.英寸.英尺)总结我们的预测数据分组。</p><figure class="jg jh ji jj fe jk es et paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="es et kc"><img src="../Images/ff4f34cb2b66f41ace6bf901cc4e19a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aadrAcDTefuQlJ0NzTIjog.png"/></div></div><figcaption class="jr js eu es et jt ju bd b be z dy">A summary of our forecasted data</figcaption></figure><p id="fdbc" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">我们的预测表明，为了最大限度地销售我们的产品，我们应该确保他们位于6英尺。</p></div><div class="ab cl kd ke gq kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hc hd he hf hg"><p id="5b25" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated"><strong class="ii hk">重述</strong></p><p id="b3aa" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">1.我们使用线性回归来探讨奥利奥销售额和货架高度之间的关系。<br/> 2。我们建立了一个数据框架，根据货架高度来预测销售。<br/> 3。我们得出结论，货架高度对销售有影响，6英尺的货架销售最佳。</p><p id="52ff" class="pw-post-body-paragraph ig ih hj ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hc bi translated">完整代码可以在这里找到:<a class="ae je" href="https://github.com/bonheurgirl/Machine-Learning-R/blob/master/8.Sales%20Forecast%20Model%20-%20Linear%20Regression.Rmd" rel="noopener ugc nofollow" target="_blank"> Github。</a></p></div></div>    
</body>
</html>