<html>
<head>
<title>S.O.L.I.D Principle 2: Open-Closed principle.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">南O.L.I.D原则2:开闭原则。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/s-o-l-i-d-principle-2-open-closed-principle-3658231a1a09?source=collection_archive---------13-----------------------#2021-10-16">https://medium.com/geekculture/s-o-l-i-d-principle-2-open-closed-principle-3658231a1a09?source=collection_archive---------13-----------------------#2021-10-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/537653c246a1b1ce7cb3394427c873d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cOgXC2tMaGufCsZT"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@karlp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Karl Pawlowicz</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b851" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个类、模块或对象可以对扩展开放，但对修改关闭。为了理解这句话，我们必须理解几个术语:</p><ol class=""><li id="5f1d" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">“为修改而关闭”:这意味着已经被调试、测试和被其他类和模块使用的类、模块或对象不应该被改变。我们不允许通过添加新的属性、方法、函数等等来修改它。</li><li id="ccdd" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">“Open for extension”:有几种方法可以修改现有的类。其中之一就是写一个新的类，这个类继承自原来的类。通过这种方式，我们不会改变我们最初测试良好的类。</li></ol><p id="b534" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在将构建一个模块，它连接到一个数据库并可以在其中执行各种查询。在第一阶段，我们将只建立对一个数据库(MySQL数据库)的访问。</p><p id="fba3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在第一阶段，我们将构建一个抽象类，它为所有连接到数据库的类定义一个模板。这个抽象类将包含三个方法:</p><ol class=""><li id="cb5b" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">连接</li><li id="9893" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">拆开</li><li id="39c3" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">执行查询。</li></ol><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="5f8b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们可以构建一个类，它继承了我们的抽象类:</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="b4a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们将构建主类(AppComponent)，它设置一个实例并从<code class="du kn ko kp kq b">MySqlDBClass </code>类获取数据:</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="3698" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">过了一段时间，我们可能会有新的需求:我们也需要访问MongoDB数据库。</p><p id="5d17" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为我们遵守开闭原则，所以我们不能修改<code class="du kn ko kp kq b">MySqlDBClass </code>类(修改时关闭),但是我们可以构建一个从基类扩展的新类(扩展时打开)。新班级的名字是<code class="du kn ko kp kq b">MongoDBClass</code>。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="6d24" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将向主类添加一个新的<code class="du kn ko kp kq b">MongoDBClass </code>实例，并执行程序:</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure></div></div>    
</body>
</html>