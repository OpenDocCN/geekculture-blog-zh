<html>
<head>
<title>Intro to React-Redux Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React-Redux应用简介</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/my-intro-to-react-redux-application-4c081560388e?source=collection_archive---------26-----------------------#2021-04-20">https://medium.com/geekculture/my-intro-to-react-redux-application-4c081560388e?source=collection_archive---------26-----------------------#2021-04-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于我的最终作品集项目，我必须在终端中使用create-react-app命令创建一个应用程序。我将谈谈我在做这件事时学到的东西。</p><p id="cde7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">起初，React看起来很复杂，这与你通常所习惯的大相径庭，所有的信息看起来很多。但是，与代码和生活中的所有其他事情一样，实践有助于您掌握诀窍。不仅如此，过了一段时间，我对他们提出React的方式印象深刻。我知道javaScript有多个版本，但React是我的第一个版本，我很喜欢学习它。</p><p id="48b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对你最有帮助的指南肯定是reactjs.org，这是他们自己的文档，实际上写得很好，非常容易理解。所以让我们开始吧。</p><p id="1b4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">create-react-app为您提供了一个类似如下的文件结构:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="fcf1" class="jm jn hi ji b fi jo jp l jq jr">&gt;Your-Project-Name<br/>&gt;public<br/>&gt;src<br/> #App.css<br/>  App.js<br/>  App.test.js<br/> #index.css<br/>  index.js<br/>  logo.svg<br/>  reportWebVitals.js<br/>  setupTests.js<br/>  .gitignore<br/>{}package.json<br/></span></pre><p id="3bc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">公用文件夹中有您不需要对其进行更改的文件。您的工作将落在src中，如果您使用redux，您的src应该看起来像这样:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="90b3" class="jm jn hi ji b fi jo jp l jq jr">&gt;src<br/> &gt;actions<br/>  getTodos.js</span><span id="cb0b" class="jm jn hi ji b fi js jp l jq jr"> &gt;components<br/>  Home.js<br/>  Nav.js<br/>  Footer.js<br/>  TodosContainer.js<br/>  Todo.js<br/></span><span id="97d4" class="jm jn hi ji b fi js jp l jq jr"> &gt;reducers <br/>  todosReducer.js</span></pre><p id="4641" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是不必要的，大多只是惯例。在Rails api的帮助下，我在上面的目录中设置了我的后端。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="c31f" class="jm jn hi ji b fi jo jp l jq jr">&gt;Project_Directory<br/> &gt;project_api<br/> &gt;project_client</span></pre><p id="105d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，project_api处理后端，而project_client处理前端。</p><p id="a05d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在scaffold的帮助下，您可以使用已经填充的控制器自动构建数据库、模型和控制器，并像应该的那样呈现json。我的项目只使用了一个模型，并计划在未来添加其他模型。</p><p id="beba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我想建立一个项目，用户可以在旅行时创建基于位置的日志。当我和我的同事去旅游的时候，我有了这个想法，有时候我们不记得我们是否去了一个特定的地方或者我们在那里做了什么。另外，我也不是那种习惯写日记的人，这种事情从来没有发生过！</p><p id="d42b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个应用程序可以帮助你创建基于位置的日志条目，你可以输入发生的个人事情，这样更容易记住。<br/>对于这个项目，我使用了leaflet.js，并且必须键入yarn add react-fleagle来安装依赖项。</p><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es jt"><img src="../Images/995790a5144e88873f5bfb51afa290a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ga_GmwRJEv3cHlQRys2ZLA.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">This is the home page where the map from leaflet is being rendered along with the pointers</figcaption></figure><p id="288b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回到代码，我曾经使用Redux通过thunk(中间件)连接到商店，这使得添加新条目或删除它们更容易。规则是，如果你发现自己过于频繁地使用“道具”,那么只需将该状态添加到存储中，并从那里调用它，这样就减少了从父母到孩子传递道具的情况。</p><p id="e4e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"><em class="kf">actions/get journals . js</em></strong>中，你可以进行所有的获取调用，从后端获取这些条目，或者在你创建一个新条目时“发布”它们。</p><p id="f222" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它看起来应该是什么样的示例:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="567e" class="jm jn hi ji b fi jo jp l jq jr"><em class="kf">actions/getJournals.js</em></span><span id="f047" class="jm jn hi ji b fi js jp l jq jr">export const getJournals = () =&gt; {<br/>   return dispatch =&gt; {<br/>      dispatch({ type: "LOADING" })<br/>      fetch("http://localhost:3001/journals")<br/>      .then(resp =&gt; resp.json())<br/>      .then(journals =&gt; dispatch({type: "SET_JOURNALS", journals}))<br/>    }<br/>}</span></pre><p id="4b4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是你如何访问后端的所有项目。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="ed6c" class="jm jn hi ji b fi jo jp l jq jr"><strong class="ji hj"><em class="kf">reducers/journalsReducer.js</em></strong></span><span id="5970" class="jm jn hi ji b fi js jp l jq jr">const initialState = { journals: [], loading: true }</span><span id="22fd" class="jm jn hi ji b fi js jp l jq jr">const journalsReducer = (state=initialState, action) =&gt; {<br/>   switch(action.type) {<br/>   case "LOADING":<br/>      return {<br/>         ...state,<br/>         loading: true<br/>    }</span><span id="fcee" class="jm jn hi ji b fi js jp l jq jr">    case "SET_JOURNALS":<br/>       return {<br/>         ...state,<br/>         loading: false,<br/>         journals: action.journals<br/>    }<br/>    default:<br/>    return state,<br/>    }<br/>}</span><span id="be8c" class="jm jn hi ji b fi js jp l jq jr">export default journalsReducer</span></pre><p id="be0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你的<strong class="ih hj">减速器</strong>被连接到商店，它是一个<strong class="ih hj">函数</strong>，决定<strong class="ih hj">将</strong>改变为<strong class="ih hj">应用程序的状态。</strong>它使用收到的<strong class="ih hj">动作</strong>来确定这种变化。Redux非常依赖reducer函数，这些函数接受前一个状态和一个动作，以便执行下一个状态。<br/>您可以添加更多类似“添加_日志”或“删除_日志”的案例。这些情况用在分派函数的参数“type”中。</p><p id="30b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在表单中或任何决定添加用户可以使用的按钮功能的地方使用这些函数。</p><p id="64fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">父组件和子组件</strong></p><p id="ec13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以将道具从父组件传递到子组件。你甚至可以使用回调函数。我将List.js(呈现所有条目的地方)连接到存储，方法是使用:</p><p id="4656" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kf">从“react-redux”导入{ connect}</em></p><p id="9e13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后添加一行:</p><p id="2674" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kf">导出默认连接(mapStateToProps，{deleteJournal})(列表)</em></p><p id="13fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到最后。通过这种方式，我们将状态发送到存储，并从操作中获取调度函数(在本例中为deleteJournal)。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="af54" class="jm jn hi ji b fi jo jp l jq jr">class ListFiltered extends Component {</span><span id="6b66" class="jm jn hi ji b fi js jp l jq jr">   render() {</span><span id="4b78" class="jm jn hi ji b fi js jp l jq jr">      const journals = this.props.journals.map( journal =&gt;<br/>      &lt;Journal key={journal.id} date={journal.date} content=       {journal.content}<strong class="ji hj"> deleteJournal={this.props.deleteJournal}</strong> /&gt;)</span><span id="0456" class="jm jn hi ji b fi js jp l jq jr">       return (<br/>          &lt;div&gt;<br/>          {journals}<br/>          &lt;p&gt;&lt;/p&gt;<br/>          &lt;/div&gt;<br/>       )<br/>   }</span><span id="0c5f" class="jm jn hi ji b fi js jp l jq jr">}</span></pre><p id="79b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们将deleteJournal函数发送给子组件。</p><p id="ccbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于上述原因，我们可以在我们的子组件(Journal.js)中这样做</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="cc12" class="jm jn hi ji b fi jo jp l jq jr">class Journal extends Component {</span><span id="bdc2" class="jm jn hi ji b fi js jp l jq jr">handleDelete = () =&gt; {<br/>     this.props.deleteJournal(this.props)<br/>     }<br/>     render() {<br/>     const { id, date, content } = this.props;<br/>        return (<br/>           &lt;div&gt;<br/>           &lt;p&gt;{ date }&lt;/p&gt; <br/>           &lt;p&gt; { content }&lt;/p&gt;<br/>           &lt;button onClick={this.handleDelete }&gt;Delete&lt;/button&gt;<br/>         )<br/>      }<br/>}</span></pre><p id="c481" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以在子组件中使用删除功能。</p><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es jt"><img src="../Images/fcc009d2d492ed01480189849127d6bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EYfxYlawgvI9DAjXxxWgxQ.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Here is what happens when you click on the pointer. You are able to fill the form and that gets added to the list.</figcaption></figure><p id="e21c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除此之外，还有很多其他的反应，但我喜欢使用它的原因是它的纪录片是如此容易获得，以及无数人的博客显示他们将如何做。这就是React的问题，做一件事有很多方法，你只需要选择一个你觉得合适的方法。</p><p id="d629" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读。</p></div></div>    
</body>
</html>