<html>
<head>
<title>Monolithic vs Microservice — Which one to chose in app development?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">整体服务与微服务——在应用开发中选择哪一个？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/monolithic-vs-microservice-which-one-to-chose-in-app-development-446646718d0?source=collection_archive---------5-----------------------#2021-10-16">https://medium.com/geekculture/monolithic-vs-microservice-which-one-to-chose-in-app-development-446646718d0?source=collection_archive---------5-----------------------#2021-10-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b10823b7932bda70339ef20bd75557c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B0c8qxYMnRFfswa-.png"/></div></div></figure><p id="ce33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→每当将项目需求表交给软件架构师、开发人员时。其中提到了要使用的软件(比如AWS S3、Power BI和编程技术，如JavaScript)。</p><p id="aa46" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→接下来问的是遵循哪个架构。在软件/应用程序开发之前，理解并使用它是很重要的。</p><p id="66af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们大致了解一下:</p><h1 id="0206" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">单片应用:</h1><p id="35b3" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">→如果一个项目的<strong class="is hj">所有功能</strong>都存在于一个<strong class="is hj">单一代码库</strong>中，那么这个app就叫做<strong class="is hj">单片</strong></p><p id="cc33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→在一个代码库中，我们有不同的层，如前端、后端、部署等。Mono的意思是单身</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/348d6e54e631a54f55ca84b83a6258d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/0*bLaCER1UHQvPj_rZ.jpg"/></div></figure><p id="c70a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">优势:</strong></p><ol class=""><li id="4660" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">使用遗留系统开发整体应用程序是一个非常简单明了的过程:构建→测试→部署→故障排除→扩展</li></ol><p id="6e9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.如果项目处于开始阶段，我们可以采用整体架构来加快迭代。</p><p id="2ff4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.与微服务架构相比，开发相对容易和简单。</p><p id="32ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">缺点:</strong></p><ol class=""><li id="0517" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">随着时间的推移，它变得太大，因此难以管理。</li></ol><p id="1feb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.我们需要重新部署整个应用程序，即使是很小的改变。</p><p id="7769" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.随着应用程序规模的增加，其启动和部署时间也会增加。</p><p id="b1ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.即使应用程序的单个部分面临很大的负载/流量，我们也需要在多个服务器上部署整个应用程序的实例。这是非常低效的，并且会不必要地占用更多的资源。因此，水平缩放在单片应用中是不可行的。</p><p id="b543" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.它不是非常可靠，因为任何模块中的一个错误都可能导致整个应用程序崩溃。</p></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h1 id="5d8a" class="jo jp hi bd jq jr lm jt ju jv ln jx jy jz lo kb kc kd lp kf kg kh lq kj kk kl bi translated">微服务应用:</h1><p id="ded3" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">→如果架构开发风格由直接使用轻量级协议(即HTTP)相互通信的较小服务组成。</p><p id="f6a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→微服务架构对应用和数据库有重大影响。而不是共享数据库。每个微服务都有自己的数据库</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/883d9a4f43b3f4814a7b73eb2d161a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/0*e02CVe_IUsHGAklu.jpg"/></div></figure><blockquote class="ls lt lu"><p id="6ed0" class="iq ir lv is b it iu iv iw ix iy iz ja lw jc jd je lx jg jh ji ly jk jl jm jn hb bi translated">微服务是协同工作的小服务。——山姆·纽曼</p></blockquote><p id="8cd4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">微服务原理:</strong></p><ol class=""><li id="37ae" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated"><strong class="is hj">单一职责:</strong>每个微服务都有一个功能，被设计为实体设计模式的一部分。</li><li id="19f6" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated"><strong class="is hj">故障设计:</strong>微服务器的设计必须考虑到故障情况。如果一个微服务关闭，整个应用程序不应关闭，并且必须保持用户可访问。</li></ol><p id="1ba8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">优势:</strong></p><ol class=""><li id="c78f" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">由于尺寸相对较小，因此<strong class="is hj">易于管理</strong>。</li><li id="6bd0" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated">如果其中一个微服务有任何更新，那么我们只需要<strong class="is hj">重新部署那个微服务</strong>。</li><li id="3c17" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated">如果某个特定微服务由于用户过度使用该功能而面临较大负载，那么我们只需横向扩展该微服务。因此，微服务架构支持水平扩展。</li><li id="2b0a" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated">每个微服务可以根据业务需求使用<strong class="is hj">不同的技术</strong>。我们可以为每个微服务选择最适合的数据库</li><li id="53bb" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated">松散耦合——一个数据库宕机不会导致应用程序宕机。</li></ol><p id="1bdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">劣势:</strong></p><ol class=""><li id="3023" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">作为一个分布式系统，它比单一的应用程序要复杂得多<strong class="is hj">。其复杂度随着微服务数量的增加而增加。</strong></li><li id="d9f1" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated">微服务在网络使用方面<strong class="is hj">成本很高</strong>，因为它们需要相互交互，所有这些远程调用都会导致<strong class="is hj">网络延迟</strong>。</li><li id="b941" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn lb lc ld le bi translated">由于网络上的服务间通信，微服务相对于整体应用来说安全性较低。</li></ol></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h1 id="259e" class="jo jp hi bd jq jr lm jt ju jv ln jx jy jz lo kb kc kd lp kf kg kh lq kj kk kl bi translated">何时采用整体式架构？</h1><p id="d8dc" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">当你构建一个不需要团队成长的小应用时，应该考虑整体架构。微服务是一个太复杂的系统，无法由小团队来设计和管理，这通常不是开发小规模应用程序的最佳选择。</p><p id="026b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你的项目仍然处于你的<strong class="is hj">软件开发生命周期的早期阶段，例如</strong>处于构思阶段，并且你的应用程序有潜力在后期发展，你可以考虑选择单片模型，因为它支持快速迭代。</p><p id="b095" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正在<strong class="is hj">构建MVP(最小可行产品)</strong>的团队应该考虑使用monolith基础设施，因为它可以让你很快获得第一个用户的反馈。</p></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h1 id="fa71" class="jo jp hi bd jq jr lm jt ju jv ln jx jy jz lo kb kc kd lp kf kg kh lq kj kk kl bi translated">什么时候用微服务？</h1><p id="35d3" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在整体服务与微服务之战中，基于微服务的架构成为众多面临客户需求大幅增长的大公司的赢家。大多数现代公司(包括亚马逊、PayPal、Spotify等)<strong class="is hj">都在转向DevOps、Docker、Kubernetes、Lambda等容器。</strong>和微服务，因为它允许他们构建大规模解决方案，该解决方案在资源使用和实时需求方面易于扩展和优化。</p><p id="1951" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">微服务对于需要以下条件的项目也非常有用:</p><ul class=""><li id="647c" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn me lc ld le bi translated">多个独立团队致力于不同的应用功能</li><li id="fde1" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn me lc ld le bi translated">全天候可靠性</li><li id="0183" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn me lc ld le bi translated">承受大负载峰值的能力</li><li id="aba1" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn me lc ld le bi translated">10多名开发人员</li><li id="2046" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn me lc ld le bi translated">将业务领域分解成更小领域的能力</li><li id="666f" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn me lc ld le bi translated">短命的操作或表示为REST调用或队列事件的操作</li><li id="6fd2" class="kw kx hi is b it lz ix ma jb mb jf mc jj md jn me lc ld le bi translated">最少或没有特定或严格的跨服务交易需求</li></ul><h1 id="ee6c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结束语:</h1><p id="9c7a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">理解这两种应用程序架构非常重要。大多数更大的项目正在转向微服务方法。最后还是要看项目的目标，用户流量，项目预算。</p><p id="5810" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为软件爱好者，我们应该对这两种方法都做好准备。</p><blockquote class="ls lt lu"><p id="32e5" class="iq ir lv is b it iu iv iw ix iy iz ja lw jc jd je lx jg jh ji ly jk jl jm jn hb bi translated">谢谢你一直坚持到最后🙌。如果你喜欢这篇文章或者学到了新的东西，请点击下面的分享按钮来支持我，让更多的人了解我和/或在<a class="ae mf" href="https://twitter.com/amir__mustafa" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，看看我在那里学到和分享的其他技巧、文章和东西。</p></blockquote><div class="mg mh ez fb mi mj"><a href="https://twitter.com/amir__mustafa" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab dw"><div class="ml ab mm cl cj mn"><h2 class="bd hj fi z dy mo ea eb mp ed ef hh bi translated">关注Amir Mustafa的AWS、JavaScript和TypeScript内容。</h2><div class="mq l"><h3 class="bd b fi z dy mo ea eb mp ed ef dx translated">twitter.com</h3></div></div><div class="mr l"><div class="ms l mt mu mv mr mw io mj"/></div></div></a></div></div></div>    
</body>
</html>