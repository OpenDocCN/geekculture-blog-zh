<html>
<head>
<title>Vertical Scrolling Background and 3D Objects With Controls Using p5.js WEBGL.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用p5.js WEBGL控件的垂直滚动背景和3D对象。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/vertical-scrolling-background-and-3d-objects-with-controls-using-p5-js-webgl-93ddd1c679c5?source=collection_archive---------15-----------------------#2021-05-15">https://medium.com/geekculture/vertical-scrolling-background-and-3d-objects-with-controls-using-p5-js-webgl-93ddd1c679c5?source=collection_archive---------15-----------------------#2021-05-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/489686a69382275c53b775c0600dbcc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jG2eB8-I-_ui3ypHoXTuZg.png"/></div></div></figure><p id="f155" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">滚动基本上是我们大脑的感知，这使我们认为物体在无限的世界中垂直或水平移动，就像这个2D赛车游戏一样。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="9788" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但实际上，它是背景和物体在相反方向上的运动，产生了视差效果。当物体静止时，这种效果最为明显，背景的反向运动产生了物体运动的错觉。</p><p id="cec4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个概念被用于计算机图形，电视制作和电影制作。</p><p id="cbd8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi ju translated"><span class="l jv jw jx bm jy jz ka kb kc di"> R </span>这款相机可以放大、缩小和平移，给人一种静止物体四处移动的错觉。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/3c68abea423bb920a82dbdae8b7b289e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*o8rt3d_TdGBhB_JCFw21gg.png"/></div></figure><p id="8d18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个项目中，我们将使用P5制作带有按键控制和垂直滚动背景的3D宇宙飞船。JS WEBGL库。z轴控件将产生放大和缩小的效果，就像在主席台摄像机中一样。</p><p id="7d76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">制作背景元素:</strong></p><p id="33f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先从创建背景开始，为此我们需要在设置函数中创建一个名为星星的对象数组，并给出x轴、y轴和大小的参数。在draw函数中，stars数组被迭代，星星开始出现在背景中。在这一点上，并非所有的星星都是可见的。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="ke jt l"/></div></figure><p id="e2c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">设计你的飞船:</strong></p><p id="4706" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，让我们设计我们的宇宙飞船。首先创建x，y，z轴和角度全局变量。将角度初始化为0。在setup()中，初始化x、y和z变量。现在在绘图中，使用translate函数中的x、y和z变量来设置飞船的位置。现在按照你喜欢的方式设计飞船。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="ke jt l"/></div></figure><p id="49e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">制作控件:</strong></p><p id="a619" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在制作宇宙飞船的控制器。创建一个新函数“controls()”。在controls()中，对不同的键码使用条件语句，并在其中递增或递减x、y和z变量的值。x值在画布的右侧递减，在画布的左侧递增。而y值随着向下移动而增加，随着向上移动而减少。z值随着进一步向画布内移动而递减，随着向外移动而递增。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="ke jt l"/></div></figure><p id="d03a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">设置边界:</strong></p><p id="1082" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将飞船限制在画布的边界内。用条件句来设定界限。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="ke jt l"/></div></figure><p id="1611" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">制作滚动背景:</strong></p><p id="c980" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，使'滚动'的全局变量。在设置()中将变量滚动到“0”。现在在draw()中，将scrolling变量添加到translate的y轴上，使背景垂直滚动。将translate with scrolling变量和用于stars数组迭代的for循环放入push()和pop()中。(<em class="kf">不要把飞船物体放在这个push()和pop()里面，因为它需要彼此反向移动)。</em>最后，在controls()条件语句中添加滚动变量。与飞船运动方向相反的递增和递减(<em class="kf">如果y+=1，那么后台滚动将是scrolling -=1 </em>)。</p><p id="34dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最终代码如下。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="ke jt l"/></div></figure><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="4c70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">编码快乐！！！。</p><p id="6cff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">资源:</strong></p><p id="e3f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae kg" href="https://www.amazon.com/Getting-Started-p5-js-Interactive-JavaScript-ebook/dp/B016VF1G3W?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">1-p5.js入门</a> -一本关于在P5 . js中编程的书。</p><p id="5de7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2- <a class="ae kg" href="https://p5js.org/reference/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> p5.js引用</a>:所有p5.js函数的引用。</p><p id="c73c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3- <a class="ae kg" href="https://en.wikipedia.org/wiki/Rostrum_camera" rel="noopener ugc nofollow" target="_blank">主席台摄像头</a>:引用自维基百科。</p><p id="3bb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4- <a class="ae kg" href="https://en.wikipedia.org/wiki/Rostrum_camera" rel="noopener ugc nofollow" target="_blank">本·伯恩斯效应</a>:参考自维基百科。</p><p id="b7c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5- <a class="ae kg" href="https://en.wikipedia.org/wiki/Scrolling" rel="noopener ugc nofollow" target="_blank">滚动效果</a>——引用自维基百科。</p><p id="57ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6- <a class="ae kg" href="https://www.vision3d.com/stereo.html" rel="noopener ugc nofollow" target="_blank">立体视觉</a>:来自视光师网关于人脑如何感知3D图像的参考。</p><p id="212d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7-主席台摄像机图像参考自<a class="ae kg" href="https://sielearning.tafensw.edu.au/" rel="noopener ugc nofollow" target="_blank">https://sielearning.tafensw.edu.au/</a></p><p id="b5cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8- <a class="ae kg" href="https://bytesizecoding.com/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">字节大小编码</a>:为孩子和初学者提供免费资源教程的网站。</p><p id="e71a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">9- <a class="ae kg" href="https://www.youtube.com/channel/UCTWCJh3YwDTQ8hM_4MJ2YJA?view_as=subscriber&amp;source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">字节大小编码YouTube频道</a>:有很多有趣想法的YouTube频道。</p></div></div>    
</body>
</html>