<html>
<head>
<title>Introduction to Apollo Boost</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">阿波罗助推简介</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/introduction-to-apollo-boost-83cc71fe6b2d?source=collection_archive---------9-----------------------#2021-11-04">https://medium.com/geekculture/introduction-to-apollo-boost-83cc71fe6b2d?source=collection_archive---------9-----------------------#2021-11-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d6e185eb81bf5f89ac0ce67b69c90802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B5UOtx99TzRHhEWRaerr1Q.png"/></div></div></figure><h1 id="2a13" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">阿波罗助推简介</h1><p id="911e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在本文中，我们将讨论阿波罗助推。这是一种零配置方法，也是最容易开始使用Apollo客户端的方法。它的维护是可行的，证明了一些项目活动。npm包apollo-boost获得了总共286，731次每周下载。</p><p id="2fac" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">阿波罗-增强吸引力被归类为有效的项目。npm包apollo-boost被仔细检查，以查找已知的责任和丢失的许可证。没有这样的问题产生。因此，该包装被认为可以安全使用。</p><h1 id="e228" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">描述</h1><p id="a1e2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Apollo Boost是快速开始使用<a class="ae kr" href="https://www.technologiesinindustry4.com/2021/08/apollo-graphql-platform.html" rel="noopener ugc nofollow" target="_blank"> Apollo </a>客户端的一种过度方式。然而，它并不关心开箱即用的一些激进特性。换出Apollo缓存，或者增强当前Apollo到网络堆栈的链接，如果我们想使用订阅的话。现在还不包括，我们必须手动设置Apollo客户端。</p><p id="9546" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">Apollo Boost包含了一些我们认为对<a class="ae kr" href="https://www.technologiesinindustry4.com/2021/08/apollo-graphql-platform.html" rel="noopener ugc nofollow" target="_blank"> Apollo </a>客户端来说很重要的包。下面是盒子里的东西:</p><ul class=""><li id="38e7" class="ks kt hi jq b jr km jv kn jz ku kd kv kh kw kl kx ky kz la bi translated">阿波罗-客户:所有的魔法都在这里发生</li><li id="b0ad" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">apollo-cache-in-memory:这是推荐的缓存</li><li id="1df0" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">这是用于远程数据获取的</li><li id="3592" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">阿波罗-链接-错误:这是错误控制</li><li id="fbf2" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">graphql-tag:它为查询和变异导出gql函数</li></ul><p id="1ce4" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">关于<a class="ae kr" href="https://www.technologiesinindustry4.com/2021/08/apollo-graphql-platform.html" rel="noopener ugc nofollow" target="_blank"> Apollo </a> Boost的压倒性的事情是，我们不需要自己设置这些。如果我们想使用这些功能，只需陈述几个选项，其余的我们会小心处理。</p><h1 id="bb1c" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">装置</h1><ul class=""><li id="9ed5" class="ks kt hi jq b jr js jv jw jz lg kd lh kh li kl kx ky kz la bi translated">最初，安装apollo-boost，项目中没有graphql和react-apollo，然后类似地连接它们。</li></ul><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="c0e6" class="ls ir hi lo b fi lt lu l lv lw">npm i apollo-boost graphql react-apollo –S</span></pre><ul class=""><li id="63ae" class="ks kt hi jq b jr km jv kn jz ku kd kv kh kw kl kx ky kz la bi translated">然后，创建客户端。</li><li id="a0cc" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">一旦创建了客户端，通过将它传递给从react-apollo传输来的ApolloProvider，将它挂接到应用程序。</li></ul><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="9cfd" class="ls ir hi lo b fi lt lu l lv lw">import React from 'react';</span><span id="4989" class="ls ir hi lo b fi lx lu l lv lw">import { render } from 'react-dom';</span><span id="708f" class="ls ir hi lo b fi lx lu l lv lw">import ApolloClient from 'apollo-boost';</span><span id="fa6e" class="ls ir hi lo b fi lx lu l lv lw">import { ApolloProvider } from 'react-apollo';</span><span id="8b95" class="ls ir hi lo b fi lx lu l lv lw">// Pass your GraphQL endpoint to uri</span><span id="1924" class="ls ir hi lo b fi lx lu l lv lw">const client = new ApolloClient({ uri: 'https://nx9zvp49q7.lp.gql.zone/graphql' });</span><span id="a9a4" class="ls ir hi lo b fi lx lu l lv lw">const ApolloApp = AppComponent =&gt; (</span><span id="e681" class="ls ir hi lo b fi lx lu l lv lw">  &lt;ApolloProvider client={client}&gt;</span><span id="fb77" class="ls ir hi lo b fi lx lu l lv lw">    &lt;AppComponent /&gt;</span><span id="39c2" class="ls ir hi lo b fi lx lu l lv lw">  &lt;/ApolloProvider&gt;</span><span id="0a26" class="ls ir hi lo b fi lx lu l lv lw">);</span><span id="e4f0" class="ls ir hi lo b fi lx lu l lv lw">render(ApolloApp(App), document.getElementById('root'));</span></pre><p id="8b65" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><a class="ae kr" href="https://www.technologiesinindustry4.com/2021/08/apollo-graphql-platform.html" rel="noopener ugc nofollow" target="_blank"> ApolloClient </a>目前连接到app。现在，创建&lt; App / &gt;组件，并创建第一个查询:</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="a9e8" class="ls ir hi lo b fi lt lu l lv lw"><strong class="lo hj">import</strong> React <strong class="lo hj">from</strong> 'react';</span><span id="1083" class="ls ir hi lo b fi lx lu l lv lw"><strong class="lo hj">import</strong> { gql } <strong class="lo hj">from</strong> 'apollo-boost';</span><span id="d874" class="ls ir hi lo b fi lx lu l lv lw"><strong class="lo hj">import</strong> { Query } <strong class="lo hj">from</strong> 'react-apollo';</span><span id="d222" class="ls ir hi lo b fi lx lu l lv lw">const GET_MOVIES <strong class="lo hj">=</strong> gql`</span><span id="82a8" class="ls ir hi lo b fi lx lu l lv lw">  query {</span><span id="0900" class="ls ir hi lo b fi lx lu l lv lw">    movie(id: 1) {</span><span id="f364" class="ls ir hi lo b fi lx lu l lv lw">      id</span><span id="1d97" class="ls ir hi lo b fi lx lu l lv lw">      title</span><span id="6ea2" class="ls ir hi lo b fi lx lu l lv lw">    }</span><span id="ec7b" class="ls ir hi lo b fi lx lu l lv lw">  }</span><span id="f307" class="ls ir hi lo b fi lx lu l lv lw">const App <strong class="lo hj">=</strong> () =&gt; (</span><span id="38b2" class="ls ir hi lo b fi lx lu l lv lw">  <strong class="lo hj">&lt;</strong>Query query<strong class="lo hj">=</strong>{GET_MOVIES}<strong class="lo hj">&gt;</strong></span><span id="a688" class="ls ir hi lo b fi lx lu l lv lw">    {({ loading, error, data }) =&gt; {</span><span id="6a68" class="ls ir hi lo b fi lx lu l lv lw">      <strong class="lo hj">if</strong> (loading) <strong class="lo hj">return</strong> <strong class="lo hj">&lt;</strong>div<strong class="lo hj">&gt;</strong>Loading<strong class="lo hj">...&lt;/</strong>div<strong class="lo hj">&gt;</strong>;</span><span id="eb0e" class="ls ir hi lo b fi lx lu l lv lw">      <strong class="lo hj">if</strong> (error) <strong class="lo hj">return</strong> <strong class="lo hj">&lt;</strong>div<strong class="lo hj">&gt;</strong>Error <strong class="lo hj">:</strong>(<strong class="lo hj">&lt;/</strong>div<strong class="lo hj">&gt;</strong>;</span><span id="2a22" class="ls ir hi lo b fi lx lu l lv lw">      <strong class="lo hj">return</strong> (</span><span id="6d59" class="ls ir hi lo b fi lx lu l lv lw">        <strong class="lo hj">&lt;</strong>Movie title<strong class="lo hj">=</strong>{data.movie.title} <strong class="lo hj">/&gt;</strong></span><span id="63c3" class="ls ir hi lo b fi lx lu l lv lw">      )</span><span id="6ebd" class="ls ir hi lo b fi lx lu l lv lw">    }}</span><span id="2a78" class="ls ir hi lo b fi lx lu l lv lw">  <strong class="lo hj">&lt;/</strong>Query<strong class="lo hj">&gt;</strong></span><span id="c67e" class="ls ir hi lo b fi lx lu l lv lw">)</span></pre><h1 id="e96f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">基本迁移</h1><p id="a2b8" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">如果我们在<a class="ae kr" href="https://www.technologiesinindustry4.com/2021/08/apollo-graphql-platform.html" rel="noopener ugc nofollow" target="_blank"> Apollo Boost </a>上不使用任何配置选项，迁移应该相对简单。我们需要改变的只是初始化ApolloClient的文件。</p><h1 id="eb06" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">更早的</h1><p id="b4dd" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Apollo Boost的客户端初始化如下所示:</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="8b0e" class="ls ir hi lo b fi lt lu l lv lw">import ApolloClient from "apollo-boost";</span><span id="f656" class="ls ir hi lo b fi lx lu l lv lw">const client = new ApolloClient({</span><span id="f957" class="ls ir hi lo b fi lx lu l lv lw">  uri: "https://w5xlvm3vzz.lp.gql.zone/graphql"</span><span id="18a1" class="ls ir hi lo b fi lx lu l lv lw">});</span></pre><h1 id="c63d" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">后来</h1><p id="3add" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">首先，我们需要安装一些包来制作一个与<a class="ae kr" href="https://www.technologiesinindustry4.com/2021/08/apollo-graphql-platform.html" rel="noopener ugc nofollow" target="_blank"> Apollo Boost </a>一样默认的基本客户端。</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="e7af" class="ls ir hi lo b fi lt lu l lv lw">npm install apollo-client apollo-cache-inmemory apollo-link-http apollo-link-error apollo-link graphql-tag --save</span></pre><p id="0e69" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">我们需要手动将缓存和链接附加到客户端，以完成该过程。</p><pre class="lj lk ll lm fd ln lo lp lq aw lr bi"><span id="3024" class="ls ir hi lo b fi lt lu l lv lw">import { ApolloClient } from 'apollo-client';</span><span id="3847" class="ls ir hi lo b fi lx lu l lv lw">import { InMemoryCache } from 'apollo-cache-inmemory';</span><span id="3984" class="ls ir hi lo b fi lx lu l lv lw">import { HttpLink } from 'apollo-link-http';</span><span id="b9ab" class="ls ir hi lo b fi lx lu l lv lw">import { onError } from 'apollo-link-error';</span><span id="9d6b" class="ls ir hi lo b fi lx lu l lv lw">import { ApolloLink } from 'apollo-link';</span><span id="a30f" class="ls ir hi lo b fi lx lu l lv lw">const client = new ApolloClient({</span><span id="f32c" class="ls ir hi lo b fi lx lu l lv lw">  link: ApolloLink.from([</span><span id="99fe" class="ls ir hi lo b fi lx lu l lv lw">    onError(({ graphQLErrors, networkError }) =&gt; {</span><span id="a9b6" class="ls ir hi lo b fi lx lu l lv lw">      if (graphQLErrors)</span><span id="5ab4" class="ls ir hi lo b fi lx lu l lv lw">        graphQLErrors.forEach(({ message, locations, path }) =&gt;</span><span id="043f" class="ls ir hi lo b fi lx lu l lv lw">          console.log(</span><span id="792e" class="ls ir hi lo b fi lx lu l lv lw">            `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,</span><span id="8e8b" class="ls ir hi lo b fi lx lu l lv lw">          ),</span><span id="f5f1" class="ls ir hi lo b fi lx lu l lv lw">        );</span><span id="1859" class="ls ir hi lo b fi lx lu l lv lw">      if (networkError) console.log(`[Network error]: ${networkError}`);</span><span id="3a59" class="ls ir hi lo b fi lx lu l lv lw">    }),</span><span id="ea46" class="ls ir hi lo b fi lx lu l lv lw">    new HttpLink({</span><span id="3a60" class="ls ir hi lo b fi lx lu l lv lw">      uri: 'https://w5xlvm3vzz.lp.gql.zone/graphql',</span><span id="e25b" class="ls ir hi lo b fi lx lu l lv lw">      credentials: 'same-origin'</span><span id="65a5" class="ls ir hi lo b fi lx lu l lv lw">    })</span><span id="d682" class="ls ir hi lo b fi lx lu l lv lw">  ]),</span><span id="4a70" class="ls ir hi lo b fi lx lu l lv lw">  cache: new InMemoryCache()</span><span id="60b1" class="ls ir hi lo b fi lx lu l lv lw">});</span></pre><p id="41c8" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">更多详情请访问:<a class="ae kr" href="https://www.technologiesinindustry4.com/2021/11/introduction-to-apollo-boost.html" rel="noopener ugc nofollow" target="_blank">https://www . technologiesinindustry 4 . com/2021/11/introduction-to-Apollo-boost . html</a></p></div></div>    
</body>
</html>