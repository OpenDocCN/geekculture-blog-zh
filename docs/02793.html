<html>
<head>
<title>React Hook: useEffect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应钩子:使用效果</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/react-hook-useeffect-217b45d3d22a?source=collection_archive---------52-----------------------#2021-05-25">https://medium.com/geekculture/react-hook-useeffect-217b45d3d22a?source=collection_archive---------52-----------------------#2021-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5b04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">useEffect挂钩非常有用。这是不久前发布的另一个便利特性，名为React Hook，是一种管理功能组件内部的组件生命周期和应用程序状态的方法。</p><p id="bdba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">useEffect钩子实质上替换了类组件中的componentDidMount生命周期函数，但是useEffect用于功能组件中。</p><p id="a4ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">UseEffect最常用于设置组件的状态、获取数据、读取或写入本地存储，或者设置事件侦听器。</p><p id="f4ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主要功能是useEffect将在组件的初始呈现时发生，并允许更改来重新呈现该组件(要监视更改的项目必须包含在依赖数组中，这将在后面讨论)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a7d059194af7c4c13a425836e233f2c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6YQx9sDJD2_SFcNQhaQdeQ.png"/></div></div></figure><h1 id="59ab" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">语法</h1><p id="4422" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">首先，我们需要导入钩子:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="2569" class="kx jq hi kt b fi ky kz l la lb">import {useEffect} from "react"</span></pre><p id="e24f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，在功能组件内部，使用Effect来获取数据或设置事件侦听器。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="dba4" class="kx jq hi kt b fi ky kz l la lb">useEffect(() =&gt; {<br/>    *fetch data, set event listeners, etc*<br/>}, [optional dependency array])</span></pre><h1 id="352d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">依赖关系…</h1><p id="7896" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">依赖数组是可选的，但通常被设置为一个项目列表，可以是函数、变量或状态，它们将被监视是否有变化。如果其中一项发生变化，组件将被重新呈现。如果依赖项数组为空，useEffect将只运行一次，即在组件的初始呈现时。</p><p id="2fbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我强烈推荐您非常熟悉这个钩子，因为这是一个控制副作用的惊人方法，它从我们的老朋友“componentDidMount”的一个类中获得了额外的抽象层次。</p><p id="be18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个深入研究useEffect钩子以及其他一些通常与它结合使用的钩子的惊人资源:<a class="ae lc" href="https://blog.logrocket.com/guide-to-react-useeffect-hook/" rel="noopener ugc nofollow" target="_blank">你需要的useEffect钩子的最后指南！</a></p><p id="7a37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">干杯，和一些副作用玩得开心！</p></div></div>    
</body>
</html>