<html>
<head>
<title>Angular navigation events give a better UX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角导航事件给出更好的UX</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/angular-navigation-events-give-a-better-ux-bc6e7af4bf59?source=collection_archive---------4-----------------------#2021-12-12">https://medium.com/geekculture/angular-navigation-events-give-a-better-ux-bc6e7af4bf59?source=collection_archive---------4-----------------------#2021-12-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5ca938136ed7af4ca680e2c3914718b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5kSVGyy_Wwetgjm14jojQ.jpeg"/></div></div></figure><p id="bb31" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">想象你正在读一篇文章。本文包含一个链接。你点击这个链接，但不是先看到资源，你需要登录。此后，您将重定向到一个主页。你期待一个不同的行为。现在你需要转到文章，再次点击链接。这是一个非常糟糕的用户体验。</p><p id="500d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们如何改变这种行为？嗯，我们需要监控应用程序中的用户活动。登录后，我们可以在登录页面之前获取URL，并将其重定向到该页面，而不是将用户重定向到主页。比起第一个，我更喜欢这个行为。</p><p id="49c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在是实现这一战略的时候了。我们需要做四页纸。其中两个由授权警卫保护。对于登录页面，我们创建了一个简单的授权服务。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/b9aa1dfcdf2be0f1c64b36620410353b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUf6IH1n4DYd9WsLg9oGFA.png"/></div></div></figure><p id="6133" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的网页非常简约。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/d15b3f1bae1e3e167446f7ea65803d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DpvlYQttLEGBnkNo8jEdw.png"/></div></div></figure><p id="13c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的登录页面在登录前需要知道网址。让我们创建一个导航服务并存储导航URL。我们可以通过使用RouterEvent来监视用户活动。Angular提供了9个路由事件:GuardsCheckEnd、GuardsCheckStart、NavigationCancel、NavigationEnd、NavigationError、NavigationStart、ResolveEnd、ResolveStart、RoutesRecognized。我们将使用NavigationStart事件。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/e8a7f8c485b8151d7cb598f84dd4b24c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j_-vn-QIQdsqfe5keiF_wg.png"/></div></div></figure><p id="8f54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如你所见，我们进行了订阅。每当用户转到下一页时，NavigationStart事件会通知我们。我们不需要保存“登录”URL。在app组件中，我们开始监控用户导航活动。</p><p id="3b79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一步是制作登录页面。成功登录后，我们使用NavigationService将用户重定向到他的初始URL。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/579d247ed93e4a725878a34e100bf7d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E20Eqf9pnwspopPQoVr-bA.png"/></div></div></figure><p id="5eb1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，当我们转到“首页”时，首先我们将转到“登录”页面，然后我们将被重定向到“首页”。同样的行为也适用于“第二页”。</p><p id="6de9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你需要仔细看看这个项目<a class="ae jw" href="https://github.com/8Tesla8/navigation-events" rel="noopener ugc nofollow" target="_blank">，这里是链接</a>。</p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><p id="88a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ke">原载于2021年12月12日</em><a class="ae jw" href="https://tomorrowmeannever.wordpress.com/2021/12/12/angular-navigation-events-give-a-better-ux/" rel="noopener ugc nofollow" target="_blank"><em class="ke">【http://tomorrowmeannever.wordpress.com】</em></a><em class="ke">。</em></p></div></div>    
</body>
</html>