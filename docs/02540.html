<html>
<head>
<title>Neovim Setups for Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于数据科学的Neovim设置</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/neovim-setups-for-data-science-5ea251e3735f?source=collection_archive---------1-----------------------#2021-05-19">https://medium.com/geekculture/neovim-setups-for-data-science-5ea251e3735f?source=collection_archive---------1-----------------------#2021-05-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3f0557f5d2db246a109abc33a8df08a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EeIaLDjldmf__903RvnzKA.jpeg"/></div></div></figure><p id="7794" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我毕业后的第一篇博客，所以就用我2019年在旅游时拍的一张我最喜欢的照片——石来贴标签吧。"生活就像一盒巧克力，你永远不知道你会得到什么."它准确地描述了我过去的经历。本科时，我对经济学和博弈论非常着迷，但我决定在商学院攻读市场营销博士学位。当我尝试在学术界准备职业生涯时，我爱上了微观计量经济学和机器学习，并下定决心在行业而不是大学探索商业战略和消费者行为之间的互动。我也喜欢分享，所以近年来我和年轻人讨论我的经验和发现(我也是！)在大学里。我应该早点开始写，现在我有机会了。</p><p id="a97f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章介绍了用于数据科学的Neovim设置。</p><p id="9b43" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据科学家需要编程。然而，我们对编程的关注与其他开发者不同，例如全栈、前端、工程师等等。，因为我们有不同于其他开发人员的特殊工作流程。例如，数据科学家通常有两个主要任务:一个是数据清理和预处理，另一个是为模型训练建立管道。因此，数据科学家通常需要特定于这些任务的相关语言，其中R和Python是最常见的选择。有时，如果真正关心的是速度瓶颈，也需要其他低级语言，如cpp和fortran。如今，Julia似乎是多语言的潜在解决方案，我已经对其早期版本进行了几次测试。然而，预计在未来，Julia将在数据科学领域占据独一无二的主导地位，但从长远来看，Julia也很有可能与R和Python共存。因此，数据科学家通常需要为项目操作特定的语言，所以除了一般开发人员的编辑器设置参考外，数据科学的编辑器设置参考也是必要的。</p><p id="f3dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为什么用neovim作为我的第一个编辑器？首先，(neo)vim键绑定是编程的迷人特征，尤其是在效率方面。诚然,( neo)vim近乎垂直的学习曲线主要是由于它复杂的按键绑定。然而，熟悉基本部分就足以以有效的方式编辑文件(避免鼠标)。其次，多种语言自然是总编辑器支持的，像neovim。由于日常工作不可避免地包括多种语言，理想情况下，数据科学家可以在整个项目中坚持相同的编辑模式(例如，按键绑定)。另一方面，neovim可以很容易地扩展，以适应使用插件的多种语言的编程需求。有些ide是为特定语言设计的，比如Rstudio和Pycharm。频繁地在不同的编辑器之间切换以适应不同的设置，似乎不太方便。因此，neovim可以轻松满足数据科学家的需求。第三，原始的neovim比现代的电子编辑器更受欢迎，尤其是在速度和流畅度方面。坦率地说，基于电子的编辑器，如Atom和VScode，都是跨平台的，也支持多种语言。此外，这类编辑器的插件社区通常很受欢迎，GUI的设计通常也很漂亮。然而，基于电子的应用程序通常运行缓慢，延迟问题有些严重。其他家伙似乎也有类似的感受，比如<a class="ae jo" rel="noopener" href="/@aswinmohanme/how-vim-killed-atom-and-vscode-723a68ad59dc"><em class="jp">Vim如何在我的机器上杀死Atom和vs code</em></a>和<a class="ae jo" rel="noopener" href="/commitlog/why-i-still-use-vim-67afd76b4db6"> <em class="jp">为什么我还在用Vim </em> </a>。</p><h1 id="07b1" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">用于参考的Neovim设置</h1><p id="fa5a" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">本节将介绍关键插件和相关设置。你也可以在Github中查看我的完整设置文件:<a class="ae jo" href="https://github.com/AlfredSAM/medium_blogs/tree/main/Neovim_Setups_for_Data_Science/nvim" rel="noopener ugc nofollow" target="_blank">https://Github . com/AlfredSAM/medium _ blogs/tree/main/neo vim _ Setups _ for _ Data _ Science/nvim</a>。感谢Olivier Roques的推荐，我可以有基本的模板来构建这些文件。</p><p id="f499" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先可以介绍几个准备步骤。首先需要安装最新版本的neovim。观众可能会注意到，在这篇文章中推荐的是neovim，而不是vim。实际上，neovim是改进的vim，在vim的各种变体中非常流行。neovim的夜间开发版本是0.5，它带来了相对较大的变化和好处，所以我也介绍了这种0.5版本的设置。0.5版本最大的变化之一是内置了Lua。因此，你可以发现我当前的主文件是<a class="ae jo" href="https://github.com/AlfredSAM/medium_blogs/blob/main/Neovim_Setups_for_Data_Science/nvim/init.lua" rel="noopener ugc nofollow" target="_blank"> init.lua </a>，而不是早期版本中使用的<code class="du kt ku kv kw b">init.vim</code>。然而，并不是我现在使用的所有插件都是用Lua重写的，所以我需要保留一些仍然使用Vimscripts的设置。基本的逻辑是，<a class="ae jo" href="https://github.com/AlfredSAM/medium_blogs/blob/main/Neovim_Setups_for_Data_Science/nvim/init.lua" rel="noopener ugc nofollow" target="_blank">init . lua</a>sources<a class="ae jo" href="https://github.com/AlfredSAM/medium_blogs/blob/main/Neovim_Setups_for_Data_Science/nvim/plugins.vim" rel="noopener ugc nofollow" target="_blank">plugins . vim</a>用于插件的安装，<a class="ae jo" href="https://github.com/AlfredSAM/medium_blogs/blob/main/Neovim_Setups_for_Data_Science/nvim/plugins_setup.vim" rel="noopener ugc nofollow" target="_blank"> plugins_setup.vim </a>用于使用Vimscripts设置部分插件，然后使用Lua设置其他东西。首先，我们需要安装0.5版本的neovim。我工作和娱乐都用Mac。在<a class="ae jo" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">家酿</a>的帮助下，人们可以很容易地得到这样的最新版本:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="1db0" class="lf jr hi kw b fi lg lh l li lj">$brew install --HEAD neovim</span></pre><p id="ed96" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于linux用户来说，从源代码安装是通常的方式。对于windows用户，建议使用WSL2，从源代码安装应该不成问题。顺便说一句，这里介绍的设置可以很容易地移植到Linux/Unix系统，即使我只使用Mac。安装后，只需检查，你就会看到</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="34d6" class="lf jr hi kw b fi lg lh l li lj">$nvim --version</span><span id="6080" class="lf jr hi kw b fi lk lh l li lj">NVIM v0.5.0-dev+nightly-139-gd16e9d8ed<br/>Build type: Release<br/>LuaJIT 2.1.0-beta3</span></pre><p id="7aba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如上所示，需要插件，然后需要选择插件的管理工具。目前我仍然使用经典工具<a class="ae jo" href="https://github.com/junegunn/vim-plug" rel="noopener ugc nofollow" target="_blank"> vim-plugin </a>，对于neovim，只需在终端或Iterm2中输入以下内容:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="3f8b" class="lf jr hi kw b fi lg lh l li lj">sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \<br/>       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'</span></pre><p id="ea0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在安装了0.5版本的neovim和<a class="ae jo" href="https://github.com/junegunn/vim-plug" rel="noopener ugc nofollow" target="_blank"> vim-plugin </a>之后，你可以简单地将整个文件夹<a class="ae jo" href="https://github.com/AlfredSAM/medium_blogs/tree/main/Neovim_Setups_for_Data_Science/nvim" rel="noopener ugc nofollow" target="_blank">https://github . com/AlfredSAM/medium _ blogs/tree/main/neo vim _ Setups _ for _ Data _ Science/nvim</a>复制到repository ~/.config下</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="1c31" class="lf jr hi kw b fi lg lh l li lj">nvim</span></pre><p id="9a8e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">才能进入app。当一个人第一次进入neovim时，可能会发现一些错误，基本上是因为缺少插件。所以只需点击<code class="du kt ku kv kw b">enter</code>跳过错误进入欢迎屏幕，然后输入</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="0027" class="lf jr hi kw b fi lg lh l li lj">:PlugInstall</span></pre><p id="4eb2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后等待安装完成。现在退出(:q！)并重新输入neovim，您将看到以下截图:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/8c10c2febe64f1e44a2890b1e10d7625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nK-gE103t2WJEzIqwrG0ig.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Open nvim and see NvimTree is on the left</figcaption></figure><p id="a215" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你打开某个目录下的neovim时，这是一个干净的打开，你可以在左边找到<a class="ae jo" href="https://github.com/kyazdani42/nvim-tree.lua" rel="noopener ugc nofollow" target="_blank"> NvimTree </a>来导航文件。在剩下的部分中，介绍了几个典型的插件。</p><h2 id="57c9" class="lf jr hi bd js lq lr ls jw lt lu lv ka jb lw lx ke jf ly lz ki jj ma mb km mc bi translated">用于编辑的常规设置</h2><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="0571" class="lf jr hi kw b fi lg lh l li lj">Plug 'glepnir/galaxyline.nvim' , {'branch': 'main'}<br/>Plug 'kyazdani42/nvim-web-devicons' " for file icons<br/>Plug 'kyazdani42/nvim-tree.lua'</span></pre><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/5d5e3e50aba0a1710cc308cb5010d6fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tKq985OPxWTiZXdMpjQkQ.png"/></div></div></figure><p id="bc21" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://github.com/kyazdani42/nvim-tree.lua" rel="noopener ugc nofollow" target="_blank"> NvimTree </a>是左侧窗口的轻量级文件浏览器，<a class="ae jo" href="https://github.com/glepnir/galaxyline.nvim" rel="noopener ugc nofollow" target="_blank"> galaxyline </a>是statusline插件，在活动缓冲区的同一窗口底部显示文件的基本信息。都是用Lua写的，速度超快。另一方面，<a class="ae jo" href="https://github.com/kyazdani42/nvim-web-devicons" rel="noopener ugc nofollow" target="_blank"> nvim-web-devicons </a>是为neovim中的文件添加图标的插件。实际上它不是必须的，但是用起来很好。然而，图标的正确显示是基于<a class="ae jo" href="https://www.nerdfonts.com/" rel="noopener ugc nofollow" target="_blank">书呆子字体</a>。现在我用的是<a class="ae jo" href="https://github.com/Homebrew/homebrew-cask-fonts/tree/master/Casks" rel="noopener ugc nofollow" target="_blank">https://github . com/home brew/home brew-cask-fonts/tree/master/Casks</a>中的<a class="ae jo" href="https://github.com/Homebrew/homebrew-cask-fonts/blob/master/Casks/font-fira-code-nerd-font.rb" rel="noopener ugc nofollow" target="_blank"> font-fira-code-nerd-font </a>，可以支持图标和连字，让代码好看。一般来说，除了<a class="ae jo" href="https://github.com/kyazdani42/nvim-tree.lua" rel="noopener ugc nofollow" target="_blank"> NvimTree </a>之外，文件导航也需要一种更智能的方式。<a class="ae jo" href="https://github.com/junegunn/fzf.vim" rel="noopener ugc nofollow" target="_blank"> fzf.vim </a>可以根据文件名帮助查找文件，而<a class="ae jo" href="https://github.com/jremmen/vim-ripgrep" rel="noopener ugc nofollow" target="_blank"> vim-ripgrep </a>可以根据文件内的代码片段帮助查找文件。</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="ad24" class="lf jr hi kw b fi lg lh l li lj">Plug 'junegunn/fzf', { 'do': { -&gt; fzf#install() } }<br/>Plug 'junegunn/fzf.vim'<br/>Plug 'jremmen/vim-ripgrep'</span></pre><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/438c788246393b9a2de95226497818fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1eJ36u2iFs_PfQ-oYax8A.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">:FZF</figcaption></figure><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/a6203505eec8102ecbb7282034fdf42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1ASX8W7_LgZUNypylzUeg.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">:Rg</figcaption></figure><p id="f690" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外两个插件用于缩进标记(方便Python编码)和括号的自动补全:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="3103" class="lf jr hi kw b fi lg lh l li lj">Plug 'nathanaelkane/vim-indent-guides'<br/>Plug 'Raimondi/delimitMate'</span></pre><p id="6985" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后但同样重要的是，<a class="ae jo" href="https://github.com/mg979/vim-visual-multi" rel="noopener ugc nofollow" target="_blank"> vim-visual-multi </a>试图模仿关于使用多个光标的操作的升华文本的关键特征。可以查一下关于用法的文件:<a class="ae jo" href="https://github.com/mg979/vim-visual-multi/wiki" rel="noopener ugc nofollow" target="_blank">https://github.com/mg979/vim-visual-multi/wiki</a></p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="1704" class="lf jr hi kw b fi lg lh l li lj">Plug 'mg979/vim-visual-multi', {'branch': 'master'}</span></pre><h2 id="9eae" class="lf jr hi bd js lq lr ls jw lt lu lv ka jb lw lx ke jf ly lz ki jj ma mb km mc bi translated">饭桶</h2><p id="172d" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">数据科学家通常依靠git进行编码历史管理。因此，方便的git命令通常会有所帮助。Neogit是用Lua编写的neovim的Magit克隆，值得一试。</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="e1e6" class="lf jr hi kw b fi lg lh l li lj">Plug 'nvim-lua/plenary.nvim'<br/>Plug 'TimUntersberger/neogit'</span></pre><h2 id="be25" class="lf jr hi bd js lq lr ls jw lt lu lv ka jb lw lx ke jf ly lz ki jj ma mb km mc bi translated">语法突出显示</h2><p id="ec65" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">从neovim的0.5版本开始，引入了一个全新的强大的语法高亮工具<a class="ae jo" href="https://github.com/nvim-treesitter/nvim-treesitter" rel="noopener ugc nofollow" target="_blank"> nvim-treesitter </a>。你可以在这里查看支持的语言<a class="ae jo" href="https://github.com/nvim-treesitter/nvim-treesitter#supported-languages" rel="noopener ugc nofollow" target="_blank"/>。这种插件，以及关于一般编辑设置的插件，可以使neovim在现代编辑器中具有竞争力，尤其是那些基于电子的编辑器。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/94e946bd3a061041856f300059c5e520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o2NTAFBNoFLaM0Xv"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Traditional highlighting (left) vs Treesitter-based highlighting (right). Source: <a class="ae jo" href="https://github.com/nvim-treesitter/nvim-treesitter/blob/master/assets/example-cpp.png" rel="noopener ugc nofollow" target="_blank">https://github.com/nvim-treesitter/nvim-treesitter/blob/master/assets/example-cpp.png</a></figcaption></figure><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="24ac" class="lf jr hi kw b fi lg lh l li lj">Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}</span></pre><p id="5f0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每次当一个人更新这个插件时，你可以注意到所有语言的解析器的信息也会一个接一个地更新，显示在状态栏下。因此，只需等待完成，然后重新启动neovim以使更新生效。</p><h2 id="8176" class="lf jr hi bd js lq lr ls jw lt lu lv ka jb lw lx ke jf ly lz ki jj ma mb km mc bi translated">语言服务器协议(LSP)集成</h2><p id="43c2" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">目前R、Python、Julia为了方便编辑都提供了自己的包给，这些包都与语言服务器协议(LSP)有关:<a class="ae jo" href="https://cran.r-project.org/web/packages/languageserver/index.html" rel="noopener ugc nofollow" target="_blank"> languageserver </a>、<a class="ae jo" href="https://github.com/python-lsp/python-lsp-server" rel="noopener ugc nofollow" target="_blank"> python-lsp-server </a>、<a class="ae jo" href="https://github.com/julia-vscode/LanguageServer.jl" rel="noopener ugc nofollow" target="_blank"> LanguageServer.jl </a>。有了LSP的支持，编辑器可以提供一些特性，比如诊断、自动完成和连续提示，甚至自动格式化。一般来说，仍然需要安装与特定语言的LSP相关的相应插件，以使编辑器使用LSP的功能。从0.5版本开始，neovim有内置的语言服务器客户端来支持多种语言的LSP。我们只需要安装以下插件，然后对使用的特定语言进行简单设置。</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="3e24" class="lf jr hi kw b fi lg lh l li lj">Plug 'neovim/nvim-lspconfig'<br/>Plug 'ojroques/nvim-lspfuzzy'<br/>Plug 'nvim-lua/completion-nvim'</span></pre><p id="cc9c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">目前我主要使用R、Python和Julia，所以只为它们做设置。</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="a281" class="lf jr hi kw b fi lg lh l li lj">-------------------- LSP -----------------------------------<br/>local lsp = require('lspconfig')<br/>local lspfuzzy = require('lspfuzzy')<br/>for ls, cfg in pairs({<br/>  bashls = {},<br/>  ccls = {},<br/>  jsonls = {},<br/>  julials = {on_attach=require'completion'.on_attach},<br/>  r_language_server = {on_attach=require'completion'.on_attach},<br/>  pylsp = {root_dir = lsp.util.root_pattern('.git', fn.getcwd()), on_attach=require'completion'.on_attach},<br/>}) do lsp[ls].setup(cfg) end<br/>lspfuzzy.setup {}<br/>map('n', '&lt;space&gt;,', '&lt;cmd&gt;lua vim.lsp.diagnostic.goto_prev()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;;', '&lt;cmd&gt;lua vim.lsp.diagnostic.goto_next()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;d', '&lt;cmd&gt;lua vim.lsp.buf.definition()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;f', '&lt;cmd&gt;lua vim.lsp.buf.formatting()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;h', '&lt;cmd&gt;lua vim.lsp.buf.hover()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;m', '&lt;cmd&gt;lua vim.lsp.buf.rename()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;r', '&lt;cmd&gt;lua vim.lsp.buf.references()&lt;CR&gt;')<br/>map('n', '&lt;space&gt;s', '&lt;cmd&gt;lua vim.lsp.buf.document_symbol()&lt;CR&gt;')</span></pre><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/c4a1d8d9fcf38f3b8f4a7963b864a085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jySVA1akrYxgK-TFkAtHg.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">R-lsp</figcaption></figure><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/fd190bcf1cbb6589c4a3a4ebb196b8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WAobJt96NcRahROyGvutLg.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Python-lsp</figcaption></figure><h2 id="829c" class="lf jr hi bd js lq lr ls jw lt lu lv ka jb lw lx ke jf ly lz ki jj ma mb km mc bi translated">数据科学家的互动模式</h2><p id="ae51" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">Neovim可以为数据科学家提供交互模式。区分数据科学家和其他开发人员的一个特征是，数据科学家在编码时大多依赖交互模式。这并不意味着其他开发人员不需要尝试运行代码进行测试和调试。数据科学家通常需要在每个方面处理数据，因此棘手的问题不是代码在语法方面是否正确，而是需要检查基于数据的计算或可视化结果。这也是触发另一个用于数据科学的<a class="ae jo" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>的电子编辑器的基本原因，该编辑器以交互方式显示代码块和相应的结果。然而，就像其他基于电子的编辑器一样，<a class="ae jo" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>也受到性能问题的困扰，所以我只将其用于教学。在neovim中，插件可用于将代码发送到相应的控制台来运行。首先，<a class="ae jo" href="https://github.com/jalvesaq/Nvim-R" rel="noopener ugc nofollow" target="_blank"> Nvim-R </a>是R文件的经典和流行插件。有了这个插件，人们可以很容易地将R代码发送到R控制台来运行和检查结果。你可以查看<a class="ae jo" href="https://github.com/jamespeapen/Nvim-R/wiki" rel="noopener ugc nofollow" target="_blank">文档</a>的用法，发现neovim可以在这个插件的帮助下在大多数方面表现得像Rstudio一样。</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="56b3" class="lf jr hi kw b fi lg lh l li lj">Plug 'jalvesaq/Nvim-R'</span></pre><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/8a1954630e57923aeed0ee49f36b857e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cxqJ7lKzolIXZoQg2ClTOQ.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Nvim-R</figcaption></figure><p id="c908" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就Python和Julia而言，实现交互模式的另一种方法是首选。交互模式的基本部分只是发送代码到相应的控制台，所以如果一些插件可以提供简单的方法来创建缓冲区之间的连接，那么问题就解决了。另一方面，neovim中的终端对于shell命令也很有用，包括打开某些语言控制台的命令(例如<code class="du kt ku kv kw b">ipython</code>)，所以理想的插件应该便于向终端发送代码。因此，我遇到以下情况</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="e794" class="lf jr hi kw b fi lg lh l li lj">Plug 'kassio/neoterm'</span></pre><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/b356ed4e10879017ee151ca8169a621c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fQhyaUSeLtav7M3_CGy4-A.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Python file and Neoterm</figcaption></figure><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/98a118eebb7a965fab6b5930e645a748.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WFkO_yfQxWIDOIvuz5SGNw.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Python files and send codes to ipython console opened in Neoterm</figcaption></figure><h1 id="de0c" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结束语和未来展望</h1><p id="af6c" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">在这篇文章中，我们将与您分享neovim的数据科学设置。总的来说，我尽量提供数据科学日常工作所需的最小插件集供您参考，任何人都可以根据自己的需求修改安装文件。这里也可以提出几点意见。首先，使用neovim的效率取决于编辑器的质量和对vim键绑定的熟悉程度。因此，练习总是有助于记忆按键，但vim之旅的开始是最痛苦的。但是，许多资源可以提供帮助，例如，<code class="du kt ku kv kw b">vimtutor</code>是Mac/Linux/Unix系统中的基础教程。另一方面，你也可以检查上述插件的文档以及文件夹中的参考设置，并检查特定插件的当前按键设计。其次，neovim的所有设置都在<code class="du kt ku kv kw b">nvim</code>文件夹中，因此neovim的可移植性在实践中也是有益的。例如，可以打开git存储库来保存<code class="du kt ku kv kw b">nvim</code>文件夹，然后为不同的机器进行相同的设置。另一方面，现在强大的服务器可用于模型训练，并且通常一些没有GUI的Linux系统是服务器的常用操作系统。neovim的可移植性可以表明远程工作的优势，只需将相关文件复制到服务器进行设置即可。当远程工作时，人们只需<code class="du kt ku kv kw b">ssh</code>到服务器，并在服务器中使用远程neovim作为多种语言的ide。</p><p id="c0b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里还需要说明两个问题。一个是讨论基于neovim的夜间开发版本，这意味着设置可能需要在未来根据Lua编写的新构建的包进行修改。另一个原因是neovim本质上是命令行程序，因此它不能很好地使用某些功能。比如在Mac上用neovim打开一些文件的时候我一开始只能用终端或者Iterm2导航到指定的储存库。简单地点击文件用neovim打开并不容易。另一方面，目前Emacs中的<a class="ae jo" href="https://orgmode.org/" rel="noopener ugc nofollow" target="_blank">组织模式</a>也很受欢迎，除了传统的减价之外，还可以用于笔记。然而，neovim/vim中的<a class="ae jo" href="https://orgmode.org/" rel="noopener ugc nofollow" target="_blank">组织模式</a>插件并不令人满意，可能需要命令行之外的高级功能。为了弥补这些或其他潜在的问题，sublime text是另一个最受欢迎的编辑器。另一篇介绍面向数据科学的sublime文本设置的文章正在撰写中。</p><h1 id="2580" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">参考</h1><ul class=""><li id="9302" class="ml mm hi is b it ko ix kp jb mn jf mo jj mp jn mq mr ms mt bi translated"><a class="ae jo" rel="noopener" href="/@aswinmohanme/how-vim-killed-atom-and-vscode-723a68ad59dc">阿斯温·莫汉。<em class="jp">Vim如何杀死我机器上的Atom和vs code</em>。</a></li><li id="c43c" class="ml mm hi is b it mu ix mv jb mw jf mx jj my jn mq mr ms mt bi translated"><a class="ae jo" rel="noopener" href="/commitlog/why-i-still-use-vim-67afd76b4db6">卡斯帕拜尔。<em class="jp">为什么我还在用Vim </em>。</a></li><li id="04c0" class="ml mm hi is b it mu ix mv jb mw jf mx jj my jn mq mr ms mt bi translated">奥利维尔·罗克斯。<em class="jp"> Neovim 0.5特性及切换到</em>  <code class="du kt ku kv kw b"><a class="ae jo" href="https://medium.com/p/5ea251e3735f/edit" rel="noopener"><em class="jp">init.lua</em></a></code></li></ul></div></div>    
</body>
</html>