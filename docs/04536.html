<html>
<head>
<title>3D Character Animations in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Unity中的3D角色动画</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/3d-character-animations-in-unity-80d6f6ad71ce?source=collection_archive---------7-----------------------#2021-06-29">https://medium.com/geekculture/3d-character-animations-in-unity-80d6f6ad71ce?source=collection_archive---------7-----------------------#2021-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d45a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章将展示如何在Unity中建立一个3D角色模型，包括空闲、奔跑和跳跃的动画；如果你没有一个被操纵的角色，那不是问题。你可以在<a class="ae jd" href="https://kwpowers.medium.com/setting-up-3d-character-in-unity-with-mixamo-c0dd9d159fad" rel="noopener">我之前的文章</a>中看到如何使用<a class="ae jd" href="https://www.mixamo.com" rel="noopener ugc nofollow" target="_blank"> Mixamo </a> for Unity来操纵你的角色。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/364ae87be65fb46d451934f979be2e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iocAPfpR-kp80c3TbLYj3g.gif"/></div></div></figure><p id="4b1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于运动，这个角色使用在<a class="ae jd" href="https://kwpowers.medium.com/creating-a-physics-based-character-controller-in-unity-fe6a4e1cec2a" rel="noopener">上一篇文章</a>中设置的简单角色控制器运动。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="555c" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">设置动画制作人</h2><p id="cae5" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">你需要做的第一件事是创建一个Animator控制器，如果我们还没有的话，然后把它分配给模型上的Animator组件。然后，您可以将角色的动画拖动到控制器的Animator窗口中。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kx"><img src="../Images/72c1e8a50dde389eef336352745f22d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*89sqIj5Mli9K3gSlkDDRqA.gif"/></div></div></figure><p id="c382" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果进入播放模式，将播放设置为默认状态的动画。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kx"><img src="../Images/d0e02459e444b643a0b5127a7a6c529e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5HZ3P9QBuHSS14nvnDCZCQ.gif"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="a821" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">切换到跑步</h2><p id="7b9d" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">接下来，为速度创建一个浮动参数，该参数将控制从空转到运行的变化。然后从空转过渡到运行，并添加速度大于0的条件。之后，在速度小于0.1的条件下，从运行返回到怠速进行另一次转换。要进行即时转换，disable在每个上有退出时间。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kx"><img src="../Images/bcdb10d59d2c7b7b2254dc6577da253e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eUM3kDI2Qwf6RmuFOl6wpQ.gif"/></div></div></figure><p id="b1bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果不希望动画更改根骨骼的位置，请确保禁用“应用根运动”。通常情况下，您不希望它被启用。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kx"><img src="../Images/5b26f943efeb9893e015f1f571834633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0_CT_bRHKHw9_xj2aL3rpg.gif"/></div></div></figure><p id="b824" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要访问速度参数并更改动画，您需要在播放器脚本中引用动画师。然后在Start中抓取组件。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ky"><img src="../Images/75a914a69f28d9b4c05634e96ee95984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPtGsz8Pbb2CS88msJ8Low.png"/></div></div></figure><p id="730f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">水平输入将决定运行或空闲动画的播放。GetAxisRaw不会随着时间的推移而变得平滑，所以它会在使用时给你一个即时的动画变化。然后将浮点参数Speed设置为水平输入的绝对值，因此-1返回1。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kz"><img src="../Images/49ba505aab51eed1a612c66f0423a372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*py82GupzDCZVbx609--ngg.png"/></div></div></figure><p id="79f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当有水平输入时，播放器会运行，但它不会根据您移动的方式来翻转方向。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es la"><img src="../Images/8d6fd67a573725fe39c6b553f0860f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*S467WzHgjgbpVHrslmif-g.gif"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="0ad9" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">翻转播放器</h2><p id="9cd9" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">要控制播放器的翻转，您需要添加一个bool。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lb"><img src="../Images/6b27970f9ef2efa190c309237130bbb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uTk7vKYMyobK-TIoIE2Ahw.png"/></div></div></figure><p id="43ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要翻转播放器，您将在0到180度之间更改y轴旋转。向右移动时，它将为0且不反转(正水平)，向左移动时，它将翻转180(负水平)。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lc"><img src="../Images/77fe369be5b6f7b01b2ca33704e58e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_zU_rs4-SS3SGqQDhMkcXA.png"/></div></div></figure><p id="4e0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">玩家现在将翻转到移动的方向。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es la"><img src="../Images/cbb4accd3b18b86f0736ec28ba996902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uSxeG1JR0axMa6AIpuZ38w.gif"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="fad0" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">跳跃的</h2><p id="7815" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为了控制何时播放跳转动画，可以使用Trigger或Bool参数。如果玩家在动画结束前接触到地面，使用Bool可以让你在任何时候停止动画。有了触发器，动画将继续，直到切换前完成。对于转换回空闲或运行，您可以添加另一个速度条件来确定它是否直接进入空闲或运行动画。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kx"><img src="../Images/b3d7f511a6eb60020bbb516fbbdb0944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nLs_4aBZUi_pvYMjQiudtw.gif"/></div></div></figure><p id="9a06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以脚本不会每帧都设置跳转参数；你需要加一个bool来知道玩家是否在跳。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ld"><img src="../Images/916957cdbb8476f1beeae396d67e148b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mhrYjTYAVt1s2fGYMBKFA.png"/></div></div></figure><p id="3773" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果玩家在地上跳跃，你设置跳跃布尔为假，并告诉动画师通过设置布尔跳跃为假来切换出跳跃动画。然后，当玩家按下空格键时，您将jumping更改为true，并告诉动画师通过将Bool Jump设置为true来启动跳跃动画。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es le"><img src="../Images/4d813702afdf6f833a62cbb4d10367ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*109JT-t92H2dSr5K0jcJiw.png"/></div></div></figure><p id="d1c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">玩家现在进入和退出跳跃动画。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lf"><img src="../Images/a788dcaf38d5861d063ddbdb7883218f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jTnacd8aDm2UTHMcXmFtLg.gif"/></div></div></figure></div></div>    
</body>
</html>