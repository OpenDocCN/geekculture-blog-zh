<html>
<head>
<title>Creating a dynamic sidebar menu using react hooks.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用react钩子创建动态侧边栏菜单。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-a-dynamic-sidebar-menu-with-one-route-using-react-hooks-9d31640fb78c?source=collection_archive---------0-----------------------#2021-09-17">https://medium.com/geekculture/creating-a-dynamic-sidebar-menu-with-one-route-using-react-hooks-9d31640fb78c?source=collection_archive---------0-----------------------#2021-09-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/461449d1e05c5b8b0df2be824ac8dfb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0kHPOWAdiLI3stuR"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@domenicoloia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Domenico Loia</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fe87" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于一些前端开发人员来说，为侧边栏菜单中的每个项目创建一个单独的视图已经成为惯例。因此为所有侧边栏菜单项创建不同的路径。</p><p id="2c27" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我将向您展示如何在为每个侧边栏菜单项创建不同的路由时获得相同的结果。</p><p id="fea9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">先决条件</strong></p><ul class=""><li id="722f" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">了解Javascript</li><li id="4a5b" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">反应堆的基本知识</li><li id="9939" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">下载并安装NodeJS和NPM</li></ul><p id="594d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本教程中，我将使用visual studio代码(vscode)作为我的代码编辑器。</p><p id="d7e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">事不宜迟，我们开始吧。转到终端并运行以下命令:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="53d8" class="kq kr hi km b fi ks kt l ku kv">cd Desktop</span><span id="1ea2" class="kq kr hi km b fi kw kt l ku kv">npx create-react-app rendering-sidebar</span><span id="3a85" class="kq kr hi km b fi kw kt l ku kv">cd rendering-sidebar</span><span id="afcb" class="kq kr hi km b fi kw kt l ku kv">yarn add react-router-dom</span><span id="63be" class="kq kr hi km b fi kw kt l ku kv">incase you have web-vitals module error, install the following;</span><span id="65be" class="kq kr hi km b fi kw kt l ku kv">yarn add web-vitals ––save</span><span id="262a" class="kq kr hi km b fi kw kt l ku kv">code .</span></pre><p id="b879" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据上面的代码片段，我在桌面文件夹中创建了一个目录，其中保存了已安装的react模板。在新文件夹中，安装了一些包，以便有效地运行应用程序。最后，我打开了VSCode中的目录。</p><p id="1c82" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在SRC文件夹中，我将通过运行以下命令创建一些新的文件夹/文件:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="7379" class="kq kr hi km b fi ks kt l ku kv">mkdir View Component util</span><span id="b720" class="kq kr hi km b fi kw kt l ku kv">cd View </span><span id="34ba" class="kq kr hi km b fi kw kt l ku kv">touch dashboardView.js</span><span id="afb8" class="kq kr hi km b fi kw kt l ku kv">cd ..</span><span id="7fa0" class="kq kr hi km b fi kw kt l ku kv">cd Component</span><span id="ee8e" class="kq kr hi km b fi kw kt l ku kv">touch SideBar.jsx Main.jsx</span><span id="26a1" class="kq kr hi km b fi kw kt l ku kv">cd ..</span><span id="f412" class="kq kr hi km b fi kw kt l ku kv">cd util</span><span id="0f8a" class="kq kr hi km b fi kw kt l ku kv">touch containers.js</span></pre><p id="445b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在src文件夹中创建了三个新文件夹，在view文件夹中创建了一个新文件，在component文件夹中创建了两个新文件。最后，在util文件夹中创建了一个container.js文件。</p><p id="f28b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在containers.js文件中，添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/8a1427c48ee9d94e15b712d4ea150e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*wAAfkSI5iqTxJ9fass-ZiQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">sidebar menu list</figcaption></figure><p id="ae0d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我将在侧栏组件中导入并呈现sideBarMenu，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/6b268836fd61a4b0520260bf2581c7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yj7UzieoQ5vA44tZ6TWmIA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">sidebar component</figcaption></figure><p id="006a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">侧边栏菜单项被映射并呈现到一个有序的列表元素中。</p><p id="24c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们来处理当我点击下面的任何侧边栏菜单项时会发生什么:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/621b1a290aa8ed5930961cc9629fb8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*PfeYPB1ITFOPXgrSpgSpjw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">menu list click function</figcaption></figure><p id="8948" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的代码片段中，我添加了一个函数，该函数不仅路由到根路径，还添加了一个查询以及保存我单击的每个菜单项内的文本的路径innerText从参数中被析构。在列表元素的开始标记内调用了handleItemClick函数，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es la"><img src="../Images/8c8d2a02f98fc8933b746a9c6c045d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*UMKEV0A9N4pW9YbEbfCVuw.png"/></div></figure><p id="f6cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将转到主要组件，并向其添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/0f53860dbb4389b02b05f37091e6d854.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*glA4y6a5ZmnKTGTb8qe9wA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">main component</figcaption></figure><p id="680c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们创建了一个函数组件来处理将会显示的内容，这取决于单击了侧边栏的哪一项。一个状态被初始化，现在，这个状态保存一个空数组作为它的默认值。</p><p id="abe3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请记住，每当我单击任何侧边栏菜单项时，它都会路由到根路径“/”并附加一个查询。</p><p id="d53e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面，让我们看看如何从主组件的浏览器搜索栏中获得该查询:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/054ff4289f37b4277bc84ea5f2c6ebce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DcB9tmphUW3b0a-pETTABQ.png"/></div></div></figure><p id="07a3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我访问了浏览器位置API的search属性，以获取从上面的侧边栏click函数传递给它的查询。进行检查以了解找到的查询参数是否包含带数值的百分号，如果是，它将被替换为空格。如果没有，它将返回实际的查询。useEffect函数用于在位置的搜索属性改变时总是获取查询参数。</p><p id="3259" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我已经获得了让我知道在主组件中加载哪个组件的查询，我将创建一个switch语句来处理它的呈现条件。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/2392ada87dc2bcdd0266a389cee069e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*PxPpqwAaSZZQ2qn9yDvPGw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">switch statement</figcaption></figure><p id="640a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经使用switch语句根据查询参数呈现了不同的组件——我将很快创建组件。查询参数值是大写的，这就是为什么我必须在switch语句中使用toLowerCase方法将其转换为小写值。</p><p id="af79" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完成这些之后，让我们进入我之前创建的组件文件夹，并通过在终端中运行以下命令来创建我在主组件中导入的新组件:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="37ce" class="kq kr hi km b fi ks kt l ku kv">cd Component </span><span id="1e6b" class="kq kr hi km b fi kw kt l ku kv">touch ViewOne.jsx ViewTwo.jsx</span></pre><p id="b66e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在ViewOne组件中，我们添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/3cc178be2b57cc7b8478193057a5bc75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eSY2OnK3WcqP8gn7qF9dug.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">view one component</figcaption></figure><p id="da83" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在ViewTwo组件中，我们添加以下内容:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/36cf46689c6c8e8058f7fdcdcb0f8454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*9CqwQW30mRtL9GKDv-P1HA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">view two-component</figcaption></figure><p id="119c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我将导入之前创建的dashboardView组件中的侧栏组件和主组件，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/f1a1f8264869839fdcca5456f2f16362.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*VEnopI2JxaxtyVcM7UtYqA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">dashboardView</figcaption></figure><p id="ba69" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在app组件内部，我将导入仪表板视图组件，并将其传递给应用程序路径，如下所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/8250e538781428d1738f5fed5522ba8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*Cvvww7iANaYDdW0g79v3vg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">app component</figcaption></figure><p id="1104" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我从react-router-dom导入了一些属性，使我能够路由到不同的视图，在我的例子中只有一个视图。</p><p id="e3aa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们在下面的<a class="ae iu" href="https://res.cloudinary.com/hobbyluv07/video/upload/v1631867768/Screencast_from_17-09-2021_09_31_47_at9hkw.webm" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="li">演示</em> </strong> </a> <strong class="ix hj"> <em class="li">中，打开浏览器，看看我这段时间都在做些什么。</em>T9】</strong></p><p id="be54" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随着演示，我想我可以称之为成功。我现在可以根据被点击的侧边栏菜单项切换到不同的视图。此外，当我重新加载浏览器时，当前视图将被保留，就像将视图添加到它们各自的路径中一样。</p><p id="ad4c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，这是这篇牛逼文章的结尾。点击下面的<a class="ae iu" href="https://github.com/chibuike07/dynamic_sidebar_item-component" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="li">为来源</em> </strong> </a></p><p id="1937" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">告诉我，你将如何呈现你的侧边栏菜单项组件？</p><p id="9659" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果这篇文章对你有帮助，别忘了点击拍手图标，分享这篇文章，关注我的<a class="ae iu" href="https://princewillchime43.medium.com/" rel="noopener"> <strong class="ix hj"> <em class="li">中的</em> </strong> </a>和<a class="ae iu" href="https://www.linkedin.com/in/chime-princewill-3a2b1b192/" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"><em class="li">Linkedin</em></strong></a>以查看更多我的文章。</p><p id="fb18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请放弃任何评论或建议。如果你有一个基于JavaScript/React.js生态系统的主题，请随时联系我，我很乐意就此进行写作。谢了。</p></div></div>    
</body>
</html>