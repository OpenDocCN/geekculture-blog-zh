<html>
<head>
<title>Analyzing Reviews of Alexa</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析Alexa的评论</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/analyzing-reviews-of-alexa-80d37a0dd76?source=collection_archive---------14-----------------------#2021-09-11">https://medium.com/geekculture/analyzing-reviews-of-alexa-80d37a0dd76?source=collection_archive---------14-----------------------#2021-09-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/790b978e5a87e06cc36f19d6adfff52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P02A6cp_5-y74nlx"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Credit: Unsplash</figcaption></figure><p id="122b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这篇博客中，我们将了解如何分析和可视化亚马逊上的Alexa产品评论。我已经找到了Kaggle的数据集。你可以从<a class="ae js" href="https://www.kaggle.com/sid321axn/amazon-alexa-reviews" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><p id="3eff" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">博客的主要目标是，</p><ol class=""><li id="9fbb" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated"><strong class="iw hj">导入库</strong></li><li id="b714" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated"><strong class="iw hj">使用Matplotlib和Seaborn可视化评级</strong></li><li id="63c1" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated"><strong class="iw hj">创建文字云</strong></li><li id="150f" class="jt ju hi iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated"><strong class="iw hj">特征工程</strong></li></ol><p id="3552" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">亚马逊Alexa，也简称为Alexa，是亚马逊开发的虚拟助理技术，最早用于亚马逊Echo智能音箱和亚马逊Lab126开发的Echo Dot、Echo Studio、亚马逊Tap音箱。Alexa的主要竞争对手是Google Home。</p><p id="dd29" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们深入数据集。</p><p id="ccd2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，从Kaggle下载数据。它是一个. tsv文件(用制表符分隔的值)。</p><p id="d31e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们唯一需要安装的库是WordCloud，我们用它来形象地理解数据集中出现最多的单词的意义。</p><p id="cef4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">要安装WordCloud类型，<code class="du kh ki kj kk b">pip install wordcloud</code></p><p id="9ef8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">该数据集由亚马逊客户评论、星级、评论日期、变体和各种亚马逊Alexa产品(如Alexa Echo、Echo dots)的反馈组成。</p><p id="aa1a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们的主要目标是对数据进行情感分析，并从客户评论中发现见解。</p><p id="75f4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">确保将下载的文件<code class="du kh ki kj kk b">amazon_alexa.tsv</code>放在您编写项目代码的同一个文件夹下。</p><h2 id="29b2" class="kl km hi bd kn ko kp kq kr ks kt ku kv jf kw kx ky jj kz la lb jn lc ld le lf bi translated">导入数据</h2><p id="23b8" class="pw-post-body-paragraph iu iv hi iw b ix lg iz ja jb lh jd je jf li jh ji jj lj jl jm jn lk jp jq jr hb bi translated">我们将导入必要的库和我们的。tsv文件到我们的python代码中。</p><p id="b833" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们使用，</p><blockquote class="ll lm ln"><p id="921d" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">pandas-使用数据框进行数据操作</p><p id="c496" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">numpy-用于数据的统计分析</p><p id="5632" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">matplotlib.pyplot-用于数据可视化</p><p id="3022" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">seaborn-用于高级(统计)数据可视化</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="f2c0" class="kl km hi kk b fi ma mb l mc md">import pandas as pd <br/>import numpy as np<br/>import matplotlib.pyplot as plt <br/>import seaborn as sns</span></pre><blockquote class="ll lm ln"><p id="4231" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">我们将使用pandas加载数据，并打印表中的前五行。您可以使用df_alexa.tail()打印表中的最后五行。</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="c740" class="kl km hi kk b fi ma mb l mc md">df_alexa = pd.read_csv('amazon_alexa.tsv', sep='\t')<br/>df_alexa.head()</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/59c289ca48e86f8d500fbf65d3af6264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mjTLOckXi6ZUwc3lUeQXSA.png"/></div></div></figure><blockquote class="ll lm ln"><p id="766c" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">打印列名</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="483a" class="kl km hi kk b fi ma mb l mc md">df_alexa.keys()</span><span id="553e" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">O/P:<br/>Index(['rating', 'date', 'variation', 'verified_reviews', 'feedback'], dtype='object')</strong></span></pre><blockquote class="ll lm ln"><p id="b985" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们看看我们的<code class="du kh ki kj kk b">verified_reviews</code>专栏，因为我们将对该专栏进行大量分析</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="7c93" class="kl km hi kk b fi ma mb l mc md">df_alexa[‘verified_reviews’]</span><span id="a9d4" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">O/P:</strong></span><span id="9007" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">0                                           Love my Echo!<br/>1                                               Loved it!<br/>2       Sometimes while playing a game, you can answer...<br/>3       I have had a lot of fun with this thing. My 4 ...<br/>4                                                   Music<br/>                              ...                        <br/>3145    Perfect for kids, adults and everyone in betwe...<br/>3146    Listening to music, searching locations, check...<br/>3147    I do love these things, i have them running my...<br/>3148    Only complaint I have is that the sound qualit...<br/>3149                                                 Good<br/>Name: verified_reviews, Length: 3150, dtype: object</strong></span></pre><p id="3f81" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们已成功导入数据。现在让我们把它们形象化。如果你觉得代码有点多，在每一节的结尾，我会在一个地方写下该节使用的全部代码。如果你清楚代码，你可以跳过它。</p><p id="3eae" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">该部分的完整代码(导入数据)</strong></p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="be4e" class="kl km hi kk b fi ma mb l mc md">import pandas as pd <br/>import numpy as np<br/>import matplotlib.pyplot as plt <br/>import seaborn as sns</span><span id="bdf4" class="kl km hi kk b fi mf mb l mc md">df_alexa = pd.read_csv('amazon_alexa.tsv', sep='\t')<br/>df_alexa.head()</span><span id="8937" class="kl km hi kk b fi mf mb l mc md">df_alexa.keys()<br/>df_alexa[‘verified_reviews’]</span></pre><h2 id="dde9" class="kl km hi bd kn ko kp kq kr ks kt ku kv jf kw kx ky jj kz la lb jn lc ld le lf bi translated">可视化数据</h2><p id="5615" class="pw-post-body-paragraph iu iv hi iw b ix lg iz ja jb lh jd je jf li jh ji jj lj jl jm jn lk jp jq jr hb bi translated">在我们的反馈栏中，正面评价编号为“1”，负面评价编号为“0”。</p><blockquote class="ll lm ln"><p id="4f14" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">仅打印负面评价</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="300b" class="kl km hi kk b fi ma mb l mc md">negative = df_alexa[df_alexa['feedback']==0]<br/>negative</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/99a7f0326f0066d7656f9ab1d5d238a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6vb_NwM1EA4gxPndZCbSXg.png"/></div></div></figure><blockquote class="ll lm ln"><p id="052a" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们使用seaborn的计数图来绘制正面和负面的评论</p></blockquote><p id="1d93" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du kh ki kj kk b">sns.countplot(df_alexa[‘feedback’], label = “Count”)</code></p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/2a7e1390288c998ee2c05a8db77b638d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAfIVp4uvvdQs7fAtZ-BWQ.png"/></div></div></figure><blockquote class="ll lm ln"><p id="5f0e" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">绘制从1到5的评级栏</p></blockquote><p id="57f0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du kh ki kj kk b">sns.countplot(x = ‘rating’, data = df_alexa)</code></p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/c61dd563282d0f3b1d70fbe30bf8082d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNmQNEx3Rl36CGJ-VBgmRg.png"/></div></div></figure><blockquote class="ll lm ln"><p id="e317" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">我们也可以把它们想象成垃圾箱</p></blockquote><p id="91e5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du kh ki kj kk b">df_alexa[‘rating’].hist(bins = 5)</code></p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/71c225135bed06319e7697e6cfdc608a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKMyRt5h-zSSViF_0VhJKg.png"/></div></div></figure><blockquote class="ll lm ln"><p id="a48e" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们绘制一个尺寸为(40 * 15)的条形图，x轴为变量，y轴为评级</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="d42d" class="kl km hi kk b fi ma mb l mc md">plt.figure(figsize = (40,15))<br/>sns.barplot(x = 'variation', y='rating', data=df_alexa, palette = 'deep')</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/2307c4ab53d94c1200ef1443139d3cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UhO2b56_VZCmfTw3hEkUIg.png"/></div></div></figure><p id="fb16" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">该部分的完整代码(可视化数据)</strong></p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="4c88" class="kl km hi kk b fi ma mb l mc md">negative = df_alexa[df_alexa['feedback']==0]</span><span id="0092" class="kl km hi kk b fi mf mb l mc md">sns.countplot(df_alexa[‘feedback’], label = “Count”)</span><span id="801d" class="kl km hi kk b fi mf mb l mc md">sns.countplot(x = ‘rating’, data = df_alexa)</span><span id="6b35" class="kl km hi kk b fi mf mb l mc md">df_alexa[‘rating’].hist(bins = 5)</span><span id="9915" class="kl km hi kk b fi mf mb l mc md">plt.figure(figsize = (40,15))<br/>sns.barplot(x = 'variation', y='rating', data=df_alexa, palette = 'deep')</span></pre><h2 id="573a" class="kl km hi bd kn ko kp kq kr ks kt ku kv jf kw kx ky jj kz la lb jn lc ld le lf bi translated">创建单词云</h2><p id="4093" class="pw-post-body-paragraph iu iv hi iw b ix lg iz ja jb lh jd je jf li jh ji jj lj jl jm jn lk jp jq jr hb bi translated">WordCloud为字符串中可用的单词创建了一个漂亮的可视化效果。wordcloud可视化数据的唯一要求是数据应该是字符串格式。</p><blockquote class="ll lm ln"><p id="a9e5" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们创建一个示例wordcloud。记得用<code class="du kh ki kj kk b">pip install wordcloud</code>安装wordcloud</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="7887" class="kl km hi kk b fi ma mb l mc md">import matplotlib.pyplot as plt<br/>from wordcloud import WordCloud</span><span id="4f30" class="kl km hi kk b fi mf mb l mc md">blog_word_cloud = 'Love Machine Learning a lot. This is a Medium blog for Machine and Deep learning'</span><span id="b5cc" class="kl km hi kk b fi mf mb l mc md">plt.figure(figsize=(20,20))<br/>plt.imshow(WordCloud().generate(blog_word_cloud))</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/6d1cc02882a082c7f68e9bab2dfaf0e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8U2tVFMIPLa-5-J_N5VJQ.png"/></div></div></figure><blockquote class="ll lm ln"><p id="ba10" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">在将wordcloud应用到我们的数据集之前，我们需要将它们转换成一个字符串。</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="5b8e" class="kl km hi kk b fi ma mb l mc md">words = df_alexa['verified_reviews'].tolist()</span><span id="6145" class="kl km hi kk b fi mf mb l mc md">len(words)</span><span id="d07b" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">O/P:<br/>3150</strong></span></pre><p id="39b3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">输出显示我们的数据集中有3150条评论。</p><blockquote class="ll lm ln"><p id="2991" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们把单词打印出来</p></blockquote><p id="4645" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du kh ki kj kk b">print(words)</code></p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/b0338738a26509145035e95d7e62342f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O_XrXxH_Fu8s9nAWi_8FJQ.png"/></div></div></figure><blockquote class="ll lm ln"><p id="f013" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">记住，Wordcloud只能显示字符串，不能显示列表。所以让我们把列表转换成一个字符串</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="5708" class="kl km hi kk b fi ma mb l mc md">string_from_words =" ".join(words)<br/>len(string_from_words)</span><span id="7a97" class="kl km hi kk b fi mf mb l mc md">O/P:<br/>419105</span></pre><p id="26f2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们的评论有419，105个单词。我们可以用wordcloud将它们可视化，以获取任何有用的信息。</p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="d616" class="kl km hi kk b fi ma mb l mc md">from wordcloud import WordCloud</span><span id="3f6e" class="kl km hi kk b fi mf mb l mc md">plt.figure(figsize=(20,20))<br/>plt.imshow(WordCloud().generate(string_from_words))</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/6d1cc02882a082c7f68e9bab2dfaf0e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8U2tVFMIPLa-5-J_N5VJQ.png"/></div></div></figure><p id="b0b1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们已经成功地将我们的评论以wordcloud的形式可视化了。很明显,“爱”、“Alexa”、“太棒了”这些词在评论中被大量使用，这很大程度上表明了对Alexa的整体共识是积极的。</p><p id="efc2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">该部分的完整代码(创建一个词云)</strong></p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="7311" class="kl km hi kk b fi ma mb l mc md">words = df_alexa['verified_reviews'].tolist()</span><span id="df04" class="kl km hi kk b fi mf mb l mc md">string_from_words =" ".join(words)</span><span id="73d4" class="kl km hi kk b fi mf mb l mc md">from wordcloud import WordCloud </span><span id="d7f8" class="kl km hi kk b fi mf mb l mc md">plt.figure(figsize=(20,20))<br/>plt.imshow(WordCloud().generate(string_from_words))</span></pre><h2 id="3c92" class="kl km hi bd kn ko kp kq kr ks kt ku kv jf kw kx ky jj kz la lb jn lc ld le lf bi translated">特征工程</h2><p id="af63" class="pw-post-body-paragraph iu iv hi iw b ix lg iz ja jb lh jd je jf li jh ji jj lj jl jm jn lk jp jq jr hb bi translated">当我们稍微调整模型时，我们可以从我们的数据中获得更多的见解，例如更多地了解特定的评论或找出最大和最小的评论。为此，我们将使用sklearn库。</p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="6bde" class="kl km hi kk b fi ma mb l mc md">from sklearn.feature_extraction.text import CountVectorizer</span><span id="d13a" class="kl km hi kk b fi mf mb l mc md">vectorizer = CountVectorizer()<br/>alexa_countvectorizer = vectorizer.fit_transform(df_alexa['verified_reviews'])</span></pre><p id="165f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">CountVectorizer是Python中的scikit-learn库提供的一个很棒的工具。它用于根据每个单词在整个文本中出现的频率(计数)将给定文本转换为向量。</p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="b8f8" class="kl km hi kk b fi ma mb l mc md">word_count_array = alexa_countvectorizer.toarray()<br/>alexa_countvectorizer.shape</span><span id="f3ff" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">O/P:<br/>(3150, 4044)</strong></span></pre><p id="bf59" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">输出(3150，4044)表明我们有3150(评论总数-行)和4044(计数矢量器-列)</p><blockquote class="ll lm ln"><p id="8dd0" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们打印数组中的第一行</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="7f60" class="kl km hi kk b fi ma mb l mc md">word_count_array[0,:] </span><span id="6f9e" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">O/P:<br/>array([0, 0, 0, ..., 0, 0, 0], dtype=int64)</strong></span></pre><blockquote class="ll lm ln"><p id="82f2" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">我们将把它形象化为了更好地理解它，让我们取一个随机指数= 18，把它形象化。</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="5c62" class="kl km hi kk b fi ma mb l mc md">index = 18<br/>plt.plot(word_count_array[index, :])<br/>df_alexa['verified_reviews'][index]</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/5348bc33a6cbef19c3cd39df9933a9e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G1hlTdti72cD5joMI4h6nQ.png"/></div></div></figure><p id="abad" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">该指数(18)上的评论说:“我们喜欢第二代echo的尺寸。声音上还需要一点改进。</p><p id="9ca8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">图表上的竖条表示数据的频繁计数。</p><blockquote class="ll lm ln"><p id="24db" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们在数据集中创建一个新列，存储每个评论中每个字符的长度，并将其可视化。</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="33de" class="kl km hi kk b fi ma mb l mc md">df_alexa['length'] = df_alexa['verified_reviews'].apply(len)<br/>df_alexa.head()</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/55de4f3339a375cf646e0757c2bef3f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qfzC6BcSLGk4feuBkOGYPQ.png"/></div></div></figure><blockquote class="ll lm ln"><p id="92a8" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">我们的新专栏已经创建。让我们用直方图来形象化每篇评论的长度。</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="beb4" class="kl km hi kk b fi ma mb l mc md">df_alexa['length'].hist(bins=100)</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/6f609487d5a2d677602ea6277c0cc1ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EuXj9oNmrup8UudBl50LAA.png"/></div></div></figure><p id="daf1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从上面的可视化，我们可以得出结论，更多的评论是在500个字符的范围内，但是，也有一些评论超过1500个字符。</p><blockquote class="ll lm ln"><p id="6b97" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">让我们想象一下最少的评论，</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="e0be" class="kl km hi kk b fi ma mb l mc md">min_char = df_alexa['length'].min()<br/>df_alexa[df_alexa['length'] == min_char]['verified_reviews'].iloc[0]</span><span id="4264" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">O/P:</strong></span><span id="cef9" class="kl km hi kk b fi mf mb l mc md"><strong class="kk hj">'😍'</strong></span></pre><blockquote class="ll lm ln"><p id="8a0e" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated">可视化最大字符审查，</p></blockquote><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="22e9" class="kl km hi kk b fi ma mb l mc md">max_char = df_alexa['length'].max()<br/>df_alexa[df_alexa['length'] == max_char]['verified_reviews'].iloc[0]</span></pre><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/13df54c3f5b7390ad933953089252958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VUqDtSwXTRlZvzNbsjwXVg.png"/></div></div></figure><p id="6abd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">该部分的完整代码(特征工程)</strong></p><pre class="ls lt lu lv fd lw kk lx ly aw lz bi"><span id="e7b2" class="kl km hi kk b fi ma mb l mc md">from sklearn.feature_extraction.text import CountVectorizer</span><span id="0fec" class="kl km hi kk b fi mf mb l mc md">vectorizer = CountVectorizer()<br/>alexa_countvectorizer = vectorizer.fit_transform(df_alexa['verified_reviews'])</span><span id="6c6b" class="kl km hi kk b fi mf mb l mc md">word_count_array = alexa_countvectorizer.toarray()</span><span id="7e90" class="kl km hi kk b fi mf mb l mc md">index = 18<br/>plt.plot(word_count_array[index, :])<br/>df_alexa['verified_reviews'][index]</span><span id="a579" class="kl km hi kk b fi mf mb l mc md">df_alexa['length'] = df_alexa['verified_reviews'].apply(len)</span><span id="050b" class="kl km hi kk b fi mf mb l mc md">min_char = df_alexa['length'].min()<br/>df_alexa[df_alexa['length'] == min_char]['verified_reviews'].iloc[0]</span><span id="b8da" class="kl km hi kk b fi mf mb l mc md">max_char = df_alexa['length'].max()<br/>df_alexa[df_alexa['length'] == max_char]['verified_reviews'].iloc[0]</span></pre><p id="8486" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这些是我们可以用来分析给定数据集的一些方法。</p><p id="1d0f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你可以在这里得到完整版本的代码。</p></div></div>    
</body>
</html>