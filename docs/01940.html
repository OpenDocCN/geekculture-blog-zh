<html>
<head>
<title>Make a Simple React App With Webpack — An Easy Practical Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Webpack制作一个简单的React应用程序——一个简单实用的指南</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/make-a-simple-react-app-with-webpack-an-easy-practical-guide-8a8839665fbd?source=collection_archive---------15-----------------------#2021-04-29">https://medium.com/geekculture/make-a-simple-react-app-with-webpack-an-easy-practical-guide-8a8839665fbd?source=collection_archive---------15-----------------------#2021-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/54445fc0cf9de624197e4a0c2ac2b724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E_M7kvrn72uWzSsA0pYB8g.png"/></div></div></figure><p id="4cc8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建React应用程序是大多数React开发人员的首选。它为我们创建了一个React项目，并且只需要几个命令。它的简单性和快速性也使它成为初学者的最爱。但是，也有一些方法可以创建一个没有它的React应用程序。</p><p id="4ff5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中一种方法是使用像Webpack这样的模块捆绑器和像Babel这样的编译器。</p><p id="def3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到本文结束时，您将拥有自己的React应用，而无需使用<code class="du jo jp jq jr b">create-react-app</code>。</p><h1 id="7cd9" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">依赖关系和项目结构</h1><p id="13c7" class="pw-post-body-paragraph iq ir hi is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn hb bi translated">由于这个React应用程序将使用Webpack模块捆绑器，我们需要安装相当多的依赖项。Webpack需要这些依赖项，以便它可以检测和处理各种文件类型。</p><p id="c061" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是我们需要安装的内容:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/67e1f0aa8dbf5ec4eb94aaac51bb43b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FWH9D4YXKf_iTOu4"/></div></div></figure><p id="704d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这两个包是我们的简单应用程序所需的依赖项。如果您的项目需要任何其他包，您可以安装它们。</p><p id="c9c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有将近10个devDependencies，所以让我们分组安装它们，我将解释每个依赖项的用途。首先是webpack:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/68b5b41a1fbf875b1b4b2a4621135b12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xWOnASKVXNIV8Oq3"/></div></div></figure><ul class=""><li id="68bf" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lg lh li lj bi translated"><code class="du jo jp jq jr b">webpack</code>:安装webpack模块捆绑器</li><li id="ec70" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated"><code class="du jo jp jq jr b">webpack-cli</code>:提供了多种命令，使得在命令行上使用webpack更加容易</li><li id="c8c9" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated"><code class="du jo jp jq jr b">webpack-dev-server</code>:允许我们使用带有热重装功能的简单网络服务器</li></ul><p id="0d69" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们将安装Babel:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/e1aa95934531392ed6829280bb65278e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*phGOCNXOZYfvAuMb"/></div></div></figure><ul class=""><li id="d5f5" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lg lh li lj bi translated"><code class="du jo jp jq jr b">@babel/core</code>:巴别塔编译器的核心包</li><li id="696c" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated"><code class="du jo jp jq jr b">@babel/preset-env</code>:智能预设，允许我们使用最新的JavaScript语法</li><li id="4bc7" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">顾名思义，它将代码转换成普通的JavaScript</li><li id="3a98" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated">使Webpack能够与Babel及其预置一起工作的插件</li></ul><p id="6f2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其余的devDependencies用于CSS和HTML:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/d94629fec7f02d704055a87f95fb45b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l-XmbtaN0gceYUyA"/></div></div></figure><ul class=""><li id="6935" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lg lh li lj bi translated"><code class="du jo jp jq jr b">style-loader</code>、<code class="du jo jp jq jr b">css-loader</code>:web pack检测<code class="du jo jp jq jr b">.css</code>文件时需要</li><li id="5f9e" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lg lh li lj bi translated"><code class="du jo jp jq jr b">html-webpack-plugin</code>:通过<code class="du jo jp jq jr b">script</code>标签生成一个包含所有Webpack包的HTML文件</li></ul><p id="3fe8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装了基本React项目所需的一切。现在在项目的根目录下创建这些文件夹和文件:</p><ol class=""><li id="68a5" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lr lh li lj bi translated">HTML文件和资产(图像、字体等)的<code class="du jo jp jq jr b">public</code>文件夹。)</li><li id="2aae" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">用于<code class="du jo jp jq jr b">.js</code>文件和React组件的<code class="du jo jp jq jr b">src</code>文件夹</li><li id="c1db" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">一个<code class="du jo jp jq jr b">babel.config.json</code>巴别塔配置文件</li></ol><p id="f6c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此时，您的项目文件夹应该如下所示:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/19b0a507b401ae81f53ca7d5e55ad8b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CWQ3PbngEnYlGOku"/></div></div></figure><h1 id="f235" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">Webpack和Babel配置</h1><p id="f60a" class="pw-post-body-paragraph iq ir hi is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn hb bi translated">让我们在Babel配置文件中添加预置:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/1d20c89c67cf8b481ee628291b5017cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sXlJyKXldyWHWhmO"/></div></div></figure><p id="f121" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">建议为Webpack准备两个单独的配置文件，一个用于开发，一个用于生产。尽管两个文件对于加载器和任何插件都有相同的配置，但还是有细微的差别。这是用于开发的配置文件的样子:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/526e044072c38d2e254210e877314281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xXtcbZHwZqDo5q9y"/></div></div></figure><p id="38df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我们首先声明<code class="du jo jp jq jr b">mode</code>配置选项。有了这个，Webpack可以相应地使用它的内置优化。接下来，<code class="du jo jp jq jr b">module.rules</code>是包含3个对象的数组:</p><ol class=""><li id="9fc2" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lr lh li lj bi translated">这条规则告诉Webpack寻找以<code class="du jo jp jq jr b">.js</code>结尾的文件，并使用Babel编译它们。<code class="du jo jp jq jr b">babel-loader</code>帮助Webpack与Babel一起工作。</li><li id="30bb" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">第二条规则告诉Webpack寻找以<code class="du jo jp jq jr b">.css</code>结尾的文件，并在两个加载器<code class="du jo jp jq jr b">style-loader</code>和<code class="du jo jp jq jr b">css-loader</code>的帮助下理解它们。</li><li id="2a33" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">最后一个规则帮助Webpack识别图像文件。不需要为此安装任何外部加载程序。</li></ol><blockquote class="lv lw lx"><p id="3333" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi">注意</em> </strong> <em class="hi">:根据Webpack文档，</em> <code class="du jo jp jq jr b"><em class="hi">style-loader</em></code> <em class="hi">和</em> <code class="du jo jp jq jr b"><em class="hi">css-loader</em></code> <em class="hi">需要按照与本配置文件完全相同的顺序使用，否则无法工作。</em></p></blockquote><p id="2e22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">加载器之后，我们有两个插件。当Webpack捆绑所有JavaScript、CSS和其他必要的文件时，它还会创建一个HTML文件。这就是我们使用<code class="du jo jp jq jr b">html-webpack-plugin</code>的地方。这个插件告诉Webpack使用我们的HTML文件作为模板，并将编译好的包注入其中。</p><p id="6098" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，Webpack没有创建自己的HTML文件，而是使用了<em class="ly">我们的</em> HTML文件— <code class="du jo jp jq jr b">public/index.html</code>，并通过<code class="du jo jp jq jr b">&lt;script&gt;</code>标签将捆绑文件添加到其中。</p><p id="b53f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们使用的另一个插件是webpack包中的<code class="du jo jp jq jr b">HotModuleReplacementPlugin</code>,用于在开发模式下热重装我们的应用。</p><p id="fa0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，<code class="du jo jp jq jr b">devServer</code>对象包含了<code class="du jo jp jq jr b">webpack-dev-server</code>使用的选项。</p><p id="1b20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们来看看配置文件的生产版本:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/8ef85fdf9e52c8fdf4855de1da58534e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Db0IU_edsgfLTtGU"/></div></div></figure><p id="dc6c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">变化不大，除了我们不再需要<code class="du jo jp jq jr b">HotModuleReplacementPlugin</code>和<code class="du jo jp jq jr b">devServer</code>，因为它们将不会用于生产。<code class="du jo jp jq jr b">mode</code>选项也进行了相应的设置。你可能已经注意到了<code class="du jo jp jq jr b">output</code>的变化。</p><p id="30e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">output.filename</code>具有我们从未见过的价值。方括号中的值是标记。如果我们使用代码分割，<code class="du jo jp jq jr b">[name]</code>标记允许Webpack以不同的方式命名文件。<code class="du jo jp jq jr b">[contenthash]</code>用于当包文件的内容改变时，包文件的名称也随之改变。</p><h1 id="961f" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">运行应用程序</h1><p id="1c76" class="pw-post-body-paragraph iq ir hi is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn hb bi translated">我们的应用程序几乎准备好了。我有一个简单的<code class="du jo jp jq jr b">App.js</code>组件:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/3bfcbb95d06905a3dcc1d42998cfaecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GMJ_cWA1bapFPYrY"/></div></div></figure><p id="dd1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">应用程序文件夹现在看起来像这样:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/f442b93685b19b159ea4bd7f0f5494b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OGQbnrOVlGN21JGP"/></div></div></figure><p id="9c2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们需要添加脚本来运行我们的应用程序:</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/1bd125aae0329d8029b336a127fe88ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nJDa64vKs9wT49xk"/></div></div></figure><p id="faf9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过<code class="du jo jp jq jr b">serve</code>选项，Webpack使用<code class="du jo jp jq jr b">webpack-dev-server</code>创建一个web服务器。让我们运行我们的应用程序。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/4c9a0cec9d46f477cd1bf72e7935ee59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QaI3zsdB7en0oERX"/></div></div></figure><p id="6961" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在您的浏览器中打开<code class="du jo jp jq jr b">https://localhost:8080</code>，您的应用应该正在运行。</p><h1 id="492c" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">包扎</h1><p id="1526" class="pw-post-body-paragraph iq ir hi is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn hb bi translated">这是一个基本的React应用程序，我们可以手动配置Webpack。我希望这有助于您理解Webpack需要的各种插件和加载器以及它的配置文件。Webpack文档值得一读。这是我在这篇文章中使用的主要资源。</p><p id="c0f0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相比之下，<a class="ae mf" href="https://parceljs.org/getting_started.html" rel="noopener ugc nofollow" target="_blank"> Parcel </a>使用很少的依赖项。我写过另一篇关于用Parcel 创建一个<a class="ae mf" href="https://levelup.gitconnected.com/how-to-create-a-minimal-react-and-parcel-app-in-5-steps-2806fa09a371" rel="noopener ugc nofollow" target="_blank"> React应用的文章。也就是说，两者各有利弊。</a></p><p id="10f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是一些附加资源的链接:</p><ol class=""><li id="aa3b" class="lb lc hi is b it iu ix iy jb ld jf le jj lf jn lr lh li lj bi translated"><a class="ae mf" href="https://webpack.js.org/configuration/" rel="noopener ugc nofollow" target="_blank"> Webpack文档</a>关于配置文件和配置文件的各种选项</li><li id="d354" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">关于<a class="ae mf" href="https://webpack.js.org/guides/asset-management/#loading-css" rel="noopener ugc nofollow" target="_blank">加载CSS </a>和其他资产的Webpack文档</li><li id="5c38" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">关于<a class="ae mf" href="https://webpack.js.org/guides/development/#using-webpack-dev-server" rel="noopener ugc nofollow" target="_blank"> webpack-dev-server </a>和<a class="ae mf" href="https://webpack.js.org/plugins/html-webpack-plugin/#basic-usage" rel="noopener ugc nofollow" target="_blank"> html-webpack-plugin </a>的Webpack文档</li><li id="0877" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">卡尔·里彭的一篇文章讲述了如何创建一个<a class="ae mf" href="https://www.carlrippon.com/creating-react-app-with-typescript-eslint-with-webpack5/" rel="noopener ugc nofollow" target="_blank">的React应用</a>，它在Webpack 5中使用了TypeScript和ESLint</li><li id="5fc2" class="lb lc hi is b it lk ix ll jb lm jf ln jj lo jn lr lh li lj bi translated">关于其<a class="ae mf" href="https://babeljs.io/docs/en/configuration" rel="noopener ugc nofollow" target="_blank">配置文件</a>的Babel文档</li></ol></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="68f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ly">原载于</em> <a class="ae mf" href="https://niharraoteblog.netlify.app/webpack-react-app" rel="noopener ugc nofollow" target="_blank"> <em class="ly">我的博客</em> </a> <em class="ly">。</em></p></div></div>    
</body>
</html>