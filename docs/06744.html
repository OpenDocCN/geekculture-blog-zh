<html>
<head>
<title>2D and 3D Bézier Curves in C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">C++中的2D和三维贝塞尔曲线</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/2d-and-3d-b%C3%A9zier-curves-in-c-499093ef45a9?source=collection_archive---------3-----------------------#2021-08-28">https://medium.com/geekculture/2d-and-3d-b%C3%A9zier-curves-in-c-499093ef45a9?source=collection_archive---------3-----------------------#2021-08-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/6eae74cd672d5eef42bc2ee3e4a4d3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xjuacLBeN9BtVkHKO6DGQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><div class=""/><h1 id="fe15" class="iu iv hx bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated"><strong class="ak">简介</strong></h1><p id="9e81" class="pw-post-body-paragraph js jt hx ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">以下文章介绍了用C++计算和绘制的<a class="ae kq" href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hy">贝塞尔曲线</strong> </a> (2D和3D)。<br/>贝塞尔曲线具有出色的计算路径(从起点到终点的曲线)的数学能力。曲线的形状是由“控制点”塑造的。所讨论的曲线最重要的特征是<strong class="ju hy">光滑度</strong>。在许多应用和领域中，平滑度是必不可少的。我们可以考虑机器人或其他机器的运动，其中运动必须是可预测的，以确保人类和硬件的安全(低磨损系数)。当机器人关节的轨迹被计算为一条平滑的路径时，我们可以假设机器人将会按照规划的路径平滑地运动，而不会出现不平稳或意外的运动。请注意，在机器人学中，除了路径，我们还考虑速度、加速度、加加速度和电机扭矩。所有这些参数主要影响最终路径。<br/>除了机器人技术，贝塞尔曲线还用于动画、游戏和设计。</p><p id="1d19" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">为了绘图的目的，我将使用我以前的帖子中讨论过的C++的matplotlib库。</p><p id="2b36" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated"><a class="ae kq" href="https://github.com/lava/matplotlib-cpp" rel="noopener ugc nofollow" target="_blank">头文件</a>(用于绘图库)必须与你的cpp在同一个文件夹中。你的程序可以编译如下:</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="5e74" class="lf iv hx lb b fi lg lh l li lj">//compile<br/>g++ my_prog.cpp -o my_prog -I/usr/include/python3.8 -lpython3.8// </span><span id="cca5" class="lf iv hx lb b fi lk lh l li lj">//run<br/>./my_prog</span><span id="b8a9" class="lf iv hx lb b fi lk lh l li lj">//folder tree<br/>├── my_prog<br/>├── my_prog.cpp<br/>├── matplotlibcpp.h</span></pre></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h1 id="cfdc" class="iu iv hx bd iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn lw jp jq jr bi translated"><strong class="ak">功能</strong></h1><p id="b677" class="pw-post-body-paragraph js jt hx ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">可以为点集计算贝塞尔曲线:{ <strong class="ju hy"> P0，P1，P2 …Pn} </strong>，其中<strong class="ju hy"> n </strong>定义我们建模的曲线(多项式)的阶。在每种情况下，第一个和最后一个点定义了曲线的起点和终点。其他点-控制点通常不属于计算曲线，但会影响贝塞尔曲线的形状。</p><p id="c063" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated"><strong class="ju hy"> 2D </strong>中的每个点<strong class="ju hy"> P </strong>都有两个<strong class="ju hy"> {x，y} </strong>笛卡尔坐标，但是在<strong class="ju hy"> 3D </strong>中，点<strong class="ju hy"> P </strong>被三个<strong class="ju hy"> {x，y，z} </strong>定义。</p><p id="780e" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">贝塞尔曲线的显式定义可以指定如下(我们将在模拟中使用该公式)。</p><p id="de95" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">以下等式以Latex格式给出(此处<a class="ae kq" href="https://gist.github.com/markusbuchholz/926e08f08eb31abb9cfc49aee0dbd01e" rel="noopener ugc nofollow" target="_blank">为</a>)。</p><figure class="kw kx ky kz fd hk er es paragraph-image"><div class="er es lx"><img src="../Images/853a59980088b6e58e659b305d5958b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*c8Rg7_G5n-3Vwmzr4pMzXA.png"/></div></figure><p id="8021" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">在哪里</p><figure class="kw kx ky kz fd hk er es paragraph-image"><div class="er es ly"><img src="../Images/f55aed04d1616c5dbf67f9a79e768719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*f1RlQ-aTQheJZOOpqzT7bA.png"/></div></figure><p id="b0a8" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">是二项式系数。</p><p id="5481" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">在我们的例子中，二项式系数计算如下(如果你查看维基百科，你会发现递归实现，不过这是最简单的版本或更直观)。</p><p id="b99e" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">C++中的实现如下所示，</p><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="a600" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">平面空间中的四个点<strong class="ju hy"> P </strong> 0、<strong class="ju hy"> P </strong> 1、<strong class="ju hy"> P </strong> 2、<strong class="ju hy"> P </strong> 3定义了一条三次贝塞尔曲线。该曲线可以被建模为三阶多项式。</p><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mb"><img src="../Images/99cc69bbf4556e64cf9bcd46843d9eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MFyh43HX661KQUPOxYF7ww.png"/></div></div></figure><p id="e76c" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">当提供六个点<strong class="ju hy"> P </strong> 0、<strong class="ju hy"> P </strong> 1、<strong class="ju hy"> P </strong> 2、<strong class="ju hy"> P </strong> 3、P4和P5时，贝塞尔曲线被计算为五阶多项式。</p><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/f8220fc4d8e9be3b6c02f3764ad1c087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mOR7YP0Adl5a8k_naqkxGg.png"/></div></div></figure></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h1 id="6a6e" class="iu iv hx bd iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn lw jp jq jr bi translated"><strong class="ak">模拟</strong></h1><p id="0b5f" class="pw-post-body-paragraph js jt hx ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">现在，我们将显示上面定义的曲线的2D和3D模拟(4点和6点)。代码(如下)为你提供了一个很好的可能性来计算和绘制你想要的任意点的贝塞尔曲线。</p><p id="06a1" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">下图描绘的2D贝塞尔曲线，是为三次多项式(四点)计算的。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="94d2" class="lf iv hx lb b fi lg lh l li lj">x{2.5, 1.5, 6.0, 10.0};<br/>y{0.5, 5.0, 5.0, 0.5};</span></pre><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es md"><img src="../Images/eff41aecb8a0dbf70ebe48d5e3be2b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAgBmRKsKf3tn41_jMcMdA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="7f62" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">对于同阶多项式(三阶)，我们可以计算三维贝塞尔曲线。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="8c58" class="lf iv hx lb b fi lg lh l li lj">x{2.5, 1.5, 6.0, 10.0}; //same as 2D<br/>y{0.5, 5.0, 5.0, 0.5}; //same as 2D<br/>z{1.0, 2.0, 3.0, 4.0};</span></pre><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es me"><img src="../Images/8feaa811b32a3482a6f3eb40650fda81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cWj480JAmie9UxjkSqwudA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="e2c9" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">这是一条2D贝塞尔曲线，它是针对五阶多项式(六点)计算的。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="d4de" class="lf iv hx lb b fi lg lh l li lj">X{2.5, 1.5, 6, 10, 7, 3};<br/>Y{0.5, 5.0, 5.0, 0.5, 1.0 , 2.0};</span></pre><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mf"><img src="../Images/a1373ce0a6fe9f8dab8c4da8476a778e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHfUhtwshlj1dHj-tkNX0A.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="b22e" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">如前所述，我们可以绘制三维贝塞尔曲线。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="77a8" class="lf iv hx lb b fi lg lh l li lj">X{2.5, 1.5, 6.0, 10.0, 7.0, 3.0}; //as for 2D<br/>Y{0.5, 5.0, 5.0, 0.5, 1.0 , 2.0}; //as for 2D<br/>Z{1.0, 2.0, 3.0, 4.0, 5.0, 0.1};</span></pre><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mg"><img src="../Images/957166e91c0cb23ddb24172ca3649b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5NHaA09qVUz_Sl_bDWsKmQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="5be9" class="pw-post-body-paragraph js jt hx ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp hb bi translated">感谢您的阅读。</p><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure></div></div>    
</body>
</html>