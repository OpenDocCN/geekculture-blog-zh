<html>
<head>
<title>How to Deploy a Static React App to AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将静态React应用程序部署到AWS</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-deploy-a-static-react-app-to-aws-53ae5a662fac?source=collection_archive---------10-----------------------#2022-03-20">https://medium.com/geekculture/how-to-deploy-a-static-react-app-to-aws-53ae5a662fac?source=collection_archive---------10-----------------------#2022-03-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7608" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在不到7分钟的时间内为您的静态React网站设置到AWS的持续部署</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/0a228d30f4e4284efb513c2586fb335d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*23bMTMbmu889VnEb"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@nasa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">NASA</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="1cd6" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">介绍</h1><p id="a238" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在这个简短的教程中，您将学习如何使用管理控制台将您的静态React应用程序部署到AWS。你的网站的静态文件将被保存在一个S3桶中，并通过CloudFront分发给你的用户。连续部署将使用GitHub操作进行设置，并将您的更改推送到S3存储桶，并使CloudFront缓存中的旧文件失效。</p><h1 id="57ae" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">高级概述</h1><h2 id="0199" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated"><strong class="ak">服务</strong></h2><ul class=""><li id="2394" class="lq lr hi ki b kj kk km kn kp ls kt lt kx lu lb lv lw lx ly bi translated">CloudFront是一项AWS服务，允许您使用内容交付网络(CDN)向用户交付内容。</li><li id="1b74" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">S3是一种高度可用的基于对象的存储服务。</li></ul><h2 id="d5bd" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">高层架构</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es me"><img src="../Images/72bfe3840bf2e36a50ed33e9d24b3a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tEZre0ivx7zZsLDPsmmyDw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Basic architecture diagram (Image by user)</figcaption></figure><p id="c8c9" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">该架构相当简单，网站文件存储在S3桶中，当用户连接到CloudFront发行版时，CloudFront将请求发送到源(S3)并返回响应。如果离用户最近的边缘或区域边缘位置有缓存内容，CloudFront也会返回缓存内容。</p><h2 id="b412" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">定价</h2><p id="c894" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">将使用<strong class="ki hj"> S3标准</strong>层存储桶，主要定价组件将是存储，并请求&amp;数据检索[1]。</p><p id="9c30" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj"> CloudFront </strong>成本基于数据传输和HTTP(S)请求的数量[2]。</p><p id="9981" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">对于一个大小为100 MB、每月访问量为10，000次的网站，在撰写本文时，美国东部的存储成本为每月0.0023美元，请求成本为0.05美元(不包括缓存命中)。</p><p id="32bc" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">CloudFront不会产生任何成本，因为免费层每月可传输1 TB的数据和10，000，000个HTTP(S)请求。部署过程将使用缓存失效，每月前1000次部署将免费使用[3]。</p><h1 id="a45a" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">履行</h1><p id="ec19" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">现在您已经了解了高级设置和相关成本，您已经准备好开始实施了！我假设你的电脑上已经有一个React应用程序，如果你没有，你可以参考参考库<a class="ae jn" href="https://github.com/mattpodolak/react-s3-cloudfront" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="ad59" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">从登录<a class="ae jn" href="https://console.aws.amazon.com/console/home" rel="noopener ugc nofollow" target="_blank"> AWS管理控制台</a>开始，如果您还没有AWS帐户，现在是注册的好时机！</p><h2 id="9ae7" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">S3</h2><p id="7bcb" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我们将使用S3来托管网站构建文件，一旦登录，导航到S3，然后单击“创建桶”</p><p id="2bbb" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">一般配置</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/c99b29855393d960ed4ffe8fae45851d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d0jjMD91dVW2SStT"/></div></div></figure><ul class=""><li id="b10f" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">选择一个存储桶名称(这必须是全局唯一的)、区域，并将其余设置保留为默认值，然后单击“创建存储桶”</li></ul><p id="c45c" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">初始上传</strong></p><ul class=""><li id="7ef8" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">为你的React应用创建一个构建(<code class="du mo mp mq mr b">npm run build</code>)我们将把构建文件夹的内容上传到S3</li><li id="f5b0" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">单击Upload &gt; Add files，选择构建文件夹中的文件，保留所有默认设置，然后单击Upload。</li><li id="8896" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">同样添加静态文件夹，单击Upload &gt; Add folder并在您的构建文件夹中选择静态文件夹，保留所有默认设置，然后单击Upload。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ms"><img src="../Images/1ed03aa17a5f3e3dd37a3cd6ca903d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UXSei-Qok9L0Q53B"/></div></div></figure><p id="ecca" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">值得注意的是，不需要S3静态网站托管，因为S3桶将保持私有，CloudFront发行版将配置为使用原始访问身份(OAI)。这提高了网站的安全性，因为它防止用户使用bucket端点直接访问S3内容[4]。</p><ul class=""><li id="95b4" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在我们继续学习CloudFront之前，复制bucket名称和Amazon资源名称(ARN)以备后用</li></ul><h2 id="f1ad" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">云锋</h2><p id="01dd" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated"><strong class="ki hj">产地</strong></p><ul class=""><li id="f808" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在AWS控制台中导航到CloudFront，然后单击“创建发行版”</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/08f94806e444cfc263f7b4d020cd6c93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Boo8e7NIOiPw5nBY"/></div></div></figure><ul class=""><li id="ae09" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">选择您的S3存储桶作为原始域</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/fbbda548a5d920121de82062ecea7c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X3tYhiSeq0S5DtaX"/></div></div></figure><ul class=""><li id="0824" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">选择“是，使用OAI”和“是，更新存储桶策略”，然后单击“创建新OAI”</li></ul><p id="fc5e" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">更新存储桶策略时，它只会为新创建的OAI添加权限，如果我们已为您的存储桶配置了公共访问权限，它不会删除这些权限。</p><ul class=""><li id="5952" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">给你的OAI命名，然后点击“创建”</li></ul><p id="6b30" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">默认缓存行为</strong></p><ul class=""><li id="23c8" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">将查看器策略更新为“将HTTP重定向到HTTPS ”,以确保用户流量的安全</li><li id="813f" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">使用推荐的缓存策略。</li></ul><p id="f3dc" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">默认策略规定TTL(文件在缓存中的有效期)为1天，并且在缓存密钥中仅使用URL路径和分发域名。</p><p id="dc29" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">设置</strong></p><ul class=""><li id="5953" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">将默认根对象更新为<code class="du mo mp mq mr b">index.html</code></li><li id="d7bb" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">将其余设置保留为默认设置，然后单击“创建发行版”</li></ul><p id="07ee" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">创建完成后，打开发行版并复制发行版域名。在你的浏览器中访问这个URL，你应该会看到你的网站出现！</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mv mw l"/></div></figure><p id="b258" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">如果您得到一个403禁止错误，请确保您的发行版的默认根对象设置正确。</p><p id="dc74" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">在General页面上，您还应该看到您刚刚创建的发行版的一个ARN (Amazon资源名称)——保存它以备后用，因为您需要它来配置您的部署</p><h2 id="559c" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">部署</h2><p id="5d1f" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">为了部署到AWS，我们将使用AWS CLI将构建文件夹的内容与S3桶同步，并使CloudFront缓存无效，这样用户就看不到您站点的先前版本。</p><p id="d450" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">您需要创建一个IAM用户，其凭证将用于部署。用户访问将限于S3 bucket和CloudFront发行版，以遵循最小特权的惯例。</p><p id="64a0" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">创建IAM策略</strong></p><p id="f9c5" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">我们将创建定义IAM用户权限范围的策略。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mx mw l"/></div></figure><p id="401f" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">要部署到S3，需要对bucket资源的权限为<code class="du mo mp mq mr b">ListBucket</code>，对bucket内的对象的权限为<code class="du mo mp mq mr b">GetObject</code>、<code class="du mo mp mq mr b">PutObject</code>和<code class="du mo mp mq mr b">DeleteObject </code>——使用通配符<code class="du mo mp mq mr b">*</code>表示对象路径。为了在每次部署后清除缓存，需要获得CloudFront发行版的许可。</p><ul class=""><li id="bf55" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">导航到IAM &gt;策略，然后单击“创建策略”</li><li id="67f3" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">复制上面嵌入的策略，并用之前保存的策略替换S3和Cloudfront ARNs</li><li id="cf31" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">继续查看，命名您的策略，然后单击“创建”</li></ul><p id="b409" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">创建IAM用户</strong></p><ul class=""><li id="4eac" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">导航到IAM &gt;用户，然后单击“添加用户”</li><li id="e6ce" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">输入用户名，选择访问类型“访问密钥”，点击“下一步:权限”</li><li id="4972" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">选择“直接附加现有策略”并选择之前创建的策略</li><li id="ae1c" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">继续查看保留默认设置，然后单击“创建用户”</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es my"><img src="../Images/2043c810b870d92125e55b9c4d9a6d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rZqT1cUrOE-G7BHh"/></div></div></figure><ul class=""><li id="469a" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在成功屏幕上，保存访问密钥ID和秘密访问密钥</li></ul><p id="f3f1" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><strong class="ki hj">手动部署(可选)</strong></p><p id="a525" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">为了测试一切是否正常，我们将使用AWS CLI手动部署，这一步是完全可选的，但将提供对连续部署期间发生的事情的深入了解。</p><ul class=""><li id="731b" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在此为您的操作系统安装AWS CLI<a class="ae jn" href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" rel="noopener ugc nofollow" target="_blank"/></li><li id="5a5d" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">安装后打开终端并运行<code class="du mo mp mq mr b">aws configure</code></li><li id="7527" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">输入先前创建的IAM用户的访问密钥ID和秘密访问密钥。如果您使用的地区不是us-east-1，请更改默认地区</li><li id="8986" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">对React网站进行更改，并创建一个新的版本，以便您可以部署这些更改</li><li id="9325" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">更新S3桶:<code class="du mo mp mq mr b">aws s3 sync ./build s3://&lt;bucket-name&gt; --delete</code>(替换&lt;桶名&gt;)</li></ul><p id="d593" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><code class="du mo mp mq mr b">(AccessDenied) when calling the PutObject operation: Access Denied</code>如果您看到这样的错误，请确保您的策略在<code class="du mo mp mq mr b">PutObject</code>、<code class="du mo mp mq mr b">GetObject</code>和<code class="du mo mp mq mr b">DeleteObject</code>的资源末尾包含了<code class="du mo mp mq mr b">/*</code></p><ul class=""><li id="36b2" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">无效缓存:<code class="du mo mp mq mr b">aws cloudfront create-invalidation --distribution-id &lt;distribution-id&gt; --paths "/*"</code>(替换&lt;分配标识&gt;)</li></ul><p id="2fb3" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">访问您的分布域名，您应该看到您的变化出现！</p><h2 id="bd4d" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">持续部署</h2><p id="8a11" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我们将定义一个GitHub动作，这样你就可以不断地对你的网站进行修改。如果您没有使用GitHub，同样的步骤可以应用到您选择的CI/CD管道中。</p><ul class=""><li id="471c" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在你的库的根目录下创建文件夹，路径:<code class="du mo mp mq mr b">.github/workflows</code></li></ul><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mx mw l"/></div></figure><ul class=""><li id="cec8" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在<code class="du mo mp mq mr b">workflows</code>文件夹中创建一个名为<code class="du mo mp mq mr b">build-deploy.yml</code>的文件，添加上面的代码，替换&lt;桶名&gt;和&lt;分发id &gt;。如果您使用了不同于us-east-1的地区，也要更新它。</li></ul><p id="091c" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">每当您向<code class="du mo mp mq mr b">main</code>分支提交一个新的提交时，这个工作流就会运行，但是在它准备好之前，您需要添加两个包含访问密钥ID和秘密访问密钥的秘密。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mz"><img src="../Images/9bcc63c5bd021b231c9dc715a754e000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yfqDta3qzINGUNCa"/></div></div></figure><ul class=""><li id="0bf6" class="lq lr hi ki b kj mf km mg kp ml kt mm kx mn lb lv lw lx ly bi translated">在GitHub中，导航到设置&gt;秘密&gt;操作</li><li id="8958" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">添加两个新的储存库机密，名为<code class="du mo mp mq mr b">AWS_ACCESS_KEY_ID</code>和<code class="du mo mp mq mr b">AWS_SECRET_ACCESS_KEY</code></li><li id="2ee9" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">提交并推送您的最新更改，打开Actions选项卡以查看您的部署运行情况</li></ul><h1 id="8dab" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">结论</h1><p id="0984" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">恭喜你。您已经完成了本文的结尾，并成功地将静态React应用程序部署到AWS。如果您觉得这很有用，请留下您的反馈👏，或者参考<a class="ae jn" href="https://github.com/mattpodolak/react-s3-cloudfront" rel="noopener ugc nofollow" target="_blank">库</a>上的a⭐️。</p><p id="cce2" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">在以后的文章中，我将向您展示如何在AWS中为您的网站设置自定义域名。在下一节中，我还描述了一些未来的改进，这些改进将提高您的网站的安全性和可靠性。</p><h2 id="4c38" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">未来的改进</h2><ul class=""><li id="640b" class="lq lr hi ki b kj kk km kn kp ls kt lt kx lu lb lv lw lx ly bi translated">在CloudFront发行版上设置标准日志记录</li><li id="35a2" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">创建一个WAF，并将其与CloudFront发行版相关联</li><li id="f0e3" class="lq lr hi ki b kj lz km ma kp mb kt mc kx md lb lv lw lx ly bi translated">在S3时段上启用版本控制和生命周期策略</li></ul><h2 id="9d70" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">参考</h2><p id="2086" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">[1]<a class="ae jn" href="https://aws.amazon.com/s3/pricing" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/s3/pricing</a></p><p id="6fd4" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated"><a class="ae jn" href="https://aws.amazon.com/cloudfront/pricing" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/cloudfront/pricing</a></p><p id="23b1" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">[3]<a class="ae jn" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html#PayingForInvalidation" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon cloud front/latest/developer guide/validation . html # payingforvalidation</a></p><p id="2eab" class="pw-post-body-paragraph kg kh hi ki b kj mf ij kl km mg im ko kp mh kr ks kt mi kv kw kx mj kz la lb hb bi translated">[4]<a class="ae jn" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon cloud front/latest/developer guide/private-content-restricting-access-to-S3 . html</a></p></div></div>    
</body>
</html>