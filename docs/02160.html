<html>
<head>
<title>How to Use Your Raspberry Pi as a Chia Harvester</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用您的树莓Pi作为Chia收割机</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-use-your-raspberry-pi-as-a-chia-harvester-66440c17d318?source=collection_archive---------0-----------------------#2021-05-06">https://medium.com/geekculture/how-to-use-your-raspberry-pi-as-a-chia-harvester-66440c17d318?source=collection_archive---------0-----------------------#2021-05-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e211" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">从一个Chia新手到其他Chia新手使用Raspberry Pi 4作为辅助收割机的完整分步指南。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/16f03a13d3d410030c34664cb4af71a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d1pkOXjwwg1ImSUTeKHykw.jpeg"/></div></div></figure><p id="672d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你和我一样，你可能在过去的几周里用奇亚图填满了你能找到的所有未使用的硬盘。现在，您可能正在寻找一种简单的方法来整理已满的硬盘。当我开始考虑将我的树莓Pi 4用作收割机时，这正是我发现自己所处的位置。</p><p id="7a16" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">尽管在官方的Chia GitHub wiki上有关于<a class="ae kf" href="https://github.com/Chia-Network/chia-blockchain/wiki/Raspberry-Pi" rel="noopener ugc nofollow" target="_blank">在许多机器上设置树莓派</a>和<a class="ae kf" href="https://github.com/Chia-Network/chia-blockchain/wiki/Farming-on-many-machines" rel="noopener ugc nofollow" target="_blank">农场的信息，但是我发现许多指令对于命令行经验有限的人来说解释得很糟糕。经过几个小时的思考，我决定把这个教学指南放在一起，作为一个单一的参考点，以帮助其他Chia新手。我不认为我的方法是最好的方法。然而，我的方法对我来说是令人满意的，我希望其他人也能从我的努力中受益。</a></p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h2 id="a469" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">一.总体设置</h2><p id="5b24" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">农家乐是一个两部分的过程。第一步是创建Chia“图”,这些图是在临时驱动器上创建的，然后保存到最终目标驱动器。第二步是“耕种”土地。绘图和耕作步骤可以在不同的计算机上完成，多台计算机可以在耕作步骤中用作“收割机”。</p><p id="2b63" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">值得注意的是，如果在同一网络上使用多台计算机，只有<em class="ln">的一台</em>应该运行完整节点，并且只有<em class="ln">那台</em>应该启用<a class="ae kf" href="https://en.wikipedia.org/wiki/Universal_Plug_and_Play" rel="noopener ugc nofollow" target="_blank">通用即插即用(UPnP) </a>。此设置是在您的路由器上配置的。如果您没有启用UPnP，或者如果您在同一个网络上的多台机器上启用了UPnP，这将在以后给您带来问题。</p><p id="ad53" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">本指南假设您使用Windows机器作为主节点，并且使用Raspberry Pi 4作为收割机。这种设置是最佳的，因为Pi可能需要几天时间来完全同步节点，之后我发现它运行起来相当缓慢。然而，Pi可以很好地作为一个收割机，它的好处是便宜，并且在墙上消耗的能量相对较少。</p><p id="2232" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">确保连接到Pi的驱动器有电源。Pi本身可以为一个或两个SDD供电，但它将很难为更多的SDD供电。我已经使用Sata转USB线将我的驱动器连接到通电的USB条，该线具有额外的仅供电USB连接(见上图)。如果您做了类似的事情，您还应该意识到Pi可能会由于反向电源而无法正常重启。也就是说，来自电源板的一些电力可能会从连接的驱动器流回Pi。我知道这通常不是一个问题，只要你的电源板也有某种电涌保护。在任何情况下，我发现在引导Pi之前简单地从电源板断开任何额外的驱动器可以避免打开Pi时的任何问题。Pi运行后，您可以将驱动器插回。</p><h2 id="8d3b" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">二。设置Pi</h2><p id="b7bc" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">Chia软件只能在64位操作系统上运行。因此，第一步是下载64位版本的Raspbian，并将其闪存到micro SD卡中。64位版本目前处于测试阶段，在Raspberry Pi Imager上不可用。</p><p id="54ff" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你可以直接从Raspberry Pi foundation 获取最新的图片<a class="ae kf" href="https://downloads.raspberrypi.org/raspios_arm64/images/" rel="noopener ugc nofollow" target="_blank">(截止到本文发布之日，日期为04/09/21)。只需下载。zip文件，并将其保存到您的计算机上。然后，使用</a><a class="ae kf" href="https://www.raspberrypi.org/software/" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi Imager </a>或<a class="ae kf" href="https://www.balena.io/etcher/" rel="noopener ugc nofollow" target="_blank"> BalenaEtcher </a>将下载的图像刷新到微型SD卡。请注意，将图像闪存到SD卡也会擦除卡上保存的任何内容，因此请确保使用新卡或备份任何需要保留的文件。</p><p id="75b4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">一旦您启动了Pi，请完成基本设置。设置完成后，您可以选择添加以下配置:</p><ul class=""><li id="08a8" class="lo lp hi jl b jm jn jp jq js lq jw lr ka ls ke lt lu lv lw bi translated"><strong class="jl hj">设置Pi从SSD启动:</strong>我发现Pi使用SSD比使用micro SD卡运行得更好。为此，打开一个新的终端并使用<code class="du lx ly lz ma b">sudo raspi-config</code>启动配置工具。选择<em class="ln">高级选项</em>，然后选择<em class="ln">引导程序版本</em>。选择<em class="ln">最新</em>，然后选择<em class="ln">正常</em>，然后选择<em class="ln">否</em>。然后返回主菜单。从那里，再次选择<em class="ln">高级选项</em>，然后选择<em class="ln">引导顺序</em>。然后选择<em class="ln"> SD卡启动</em>，然后选择<em class="ln"> Ok </em>。Pi将询问您是否要重新启动—选择<em class="ln">号</em>最后，选择<em class="ln">完成</em>并关闭配置工具。之后，使用SD卡复制器工具(可在应用程序菜单中的<em class="ln">附件</em>下找到)将您的micro SD卡克隆到您连接的SSD(这将擦除SSD)。然后，您可以使用<code class="du lx ly lz ma b">sudo shutdown now</code>从终端关闭您的Pi，移除micro SD卡，并重新启动Pi。它现在将从您的固态硬盘启动。</li><li id="f94a" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke lt lu lv lw bi translated"><strong class="jl hj">启用VNC </strong> : VNC允许您从桌面计算机远程访问Pi，而无需将Pi连接到它自己的显示器、键盘和鼠标(所谓的“无头”配置)。详细说明<a class="ae kf" href="https://www.raspberrypi.org/documentation/remote-access/vnc/" rel="noopener ugc nofollow" target="_blank">可以在这里</a>找到。</li><li id="b182" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke lt lu lv lw bi translated"><strong class="jl hj">安装Samba </strong> : Samba允许您轻松地在桌面和Pi之间移动文件，就像它是一台服务器一样。设置Samba <a class="ae kf" href="https://pimylifeup.com/raspberry-pi-samba/" rel="noopener ugc nofollow" target="_blank">的详细说明可以在这里</a>找到。</li></ul><p id="54e3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您还需要完成以下工作:</p><ul class=""><li id="7210" class="lo lp hi jl b jm jn jp jq js lq jw lr ka ls ke lt lu lv lw bi translated"><strong class="jl hj">增加交换空间</strong>:根据您的Pi上有多少RAM，Chia创建者建议您将交换空间增加1024 MiB。本文中提供了关于如何执行此操作<a class="ae kf" href="https://pimylifeup.com/raspberry-pi-swap-file/" rel="noopener ugc nofollow" target="_blank">的详细说明。</a></li></ul><h2 id="7017" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">三。安装Chia</h2><p id="6354" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">对于我们这些不太习惯命令行的人来说，这是事情开始变得有趣的地方。Chia确实有一个图形用户界面，但是它在Pi上运行非常慢，并且不提供与命令行相同级别的控制。至少目前，最好使用命令行在Pi上安装、配置和运行Chia。</p><p id="9e5a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">打开命令终端，使用以下命令安装Chia:</p><pre class="iy iz ja jb fd mg ma mh mi aw mj bi"><span id="aa98" class="kn ko hi ma b fi mk ml l mm mn">git clone https://github.com/Chia-Network/chia-blockchain.git -b latest<br/>cd chia-blockchain</span><span id="ef87" class="kn ko hi ma b fi mo ml l mm mn">sh install.sh<br/>. ./activate<br/>chia init</span></pre><p id="3210" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后，使用<code class="du lx ly lz ma b">chia keys add</code>从您的24个单词中导入您的密钥。Chia现在安装在Pi上。让终端保持打开状态，以便您可以在下一步中继续使用它。</p><h2 id="7d0c" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">四。配置Chia</h2><p id="49c8" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">您现在需要配置Chia，以便它将作为一个收割机运行。这个过程将涉及到运行主节点的Windows计算机(以下我称之为“主计算机”)和Pi。完成以下步骤:</p><ol class=""><li id="6726" class="lo lp hi jl b jm jn jp jq js lq jw lr ka ls ke mp lu lv lw bi translated">完全退出GUI，关闭主计算机<strong class="jl hj">上的Chia。</strong></li><li id="ddf9" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">在您的<strong class="jl hj">主计算机</strong>上，导航至CA文件夹。该文件夹可能位于C:\ Users \[您的用户名]\。chia\mainnet\config\ssl\ca。制作CA文件夹的副本，并使用闪存驱动器或Samba将该文件夹的副本保存到Pi的桌面上。</li><li id="ef48" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">在您的<strong class="jl hj"> Pi </strong>上打开终端窗口，使用<code class="du lx ly lz ma b">chia init -c [directory]</code>，其中【目录】是CA文件夹副本的文件路径。如果你把它保存到你的桌面上，那么这个命令应该看起来像<code class="du lx ly lz ma b">chia init -c /home/pi/Desktop/ca</code>。</li><li id="63e0" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">现在在你的<strong class="jl hj">主计算机</strong>上，定位你的主计算机的IP地址。您可以在命令提示符下使用<code class="du lx ly lz ma b">ipconfig</code>来完成此操作。在<em class="ln">无线局域网适配器Wi-Fi </em>部分，您的主计算机的IP地址将出现在<em class="ln"> IPv4地址</em>行。</li><li id="92b8" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">返回到<strong class="jl hj"> Pi </strong>打开的终端窗口，使用<code class="du lx ly lz ma b">chia configure --set-farmer-peer [Main Computer IP Address]:8447</code>，其中【主计算机IP地址】是上一步的IP地址。</li><li id="ec1c" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">接下来，使用<code class="du lx ly lz ma b">chia configure -upnp false</code>禁用<strong class="jl hj"> Pi </strong>上的UPnP。</li><li id="c95a" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">此时，您需要将带有地块的驱动器连接到Pi，并将地块添加到收割机。对于每个驱动器，可使用命令<code class="du lx ly lz ma b">chia plots add -d [File Path to Plots]</code>将图添加到<strong class="jl hj"> Pi </strong>，其中【图的文件路径】是包含图的驱动器的文件路径。</li><li id="24bc" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">回到你的<strong class="jl hj">主电脑</strong>，你现在可以重启Chia了。</li><li id="b79b" class="lo lp hi jl b jm mb jp mc js md jw me ka mf ke mp lu lv lw bi translated">最后，在你的<strong class="jl hj"> Pi </strong>上打开终端，使用<code class="du lx ly lz ma b">chia start harvester</code>将Pi连接到你的主计算机。</li></ol><p id="2f15" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果您现在在GUI上的<em class="ln"> Farm </em>选项卡的<em class="ln"> Last Attempted Proof </em>部分看到连接到Pi的图，您就可以知道这个过程已经成功。您应该会看到您的主计算机上的图和您的Pi上的图在此部分中循环的两个不同的总数。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mq"><img src="../Images/9870d786af2a86c6023df47b19c84514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nk-5Z-lbH6YUjNhmTFNEkA.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">In the above example, the main computer has 62 plots and the Pi has 14.</figcaption></figure><p id="7686" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">请注意，截至本文发布之日的最新Chia版本(1.1.4)，<em class="ln"> Your Farm Overview </em>部分中的信息仅显示主计算机的信息。因此，您的地块计数、地块总大小和预计获胜时间将不会更新以反映Pi中的地块。希望这将在未来的Chia版本中得到更新。</p><h2 id="2887" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">动词 （verb的缩写）结论</h2><p id="a5b2" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">一旦你的采集器设置好了，你就可以让它在后台运行，只需要很少的额外维护。您将希望确保您的Pi总是运行最新版本的Chia，可以在干净的终端中使用以下命令序列来更新它:</p><pre class="iy iz ja jb fd mg ma mh mi aw mj bi"><span id="b9a9" class="kn ko hi ma b fi mk ml l mm mn">cd chia-blockchain<br/>git fetch<br/>git checkout latest<br/>git reset --hard FETCH_HEAD</span><span id="83d3" class="kn ko hi ma b fi mo ml l mm mn">git status</span><span id="6ebc" class="kn ko hi ma b fi mo ml l mm mn">sh install.sh<br/>. ./activate<br/>chia init</span></pre><p id="c475" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这是一个令人兴奋的时间进入中国农业。我希望这份指南能帮助你扩大和管理你的Chia农场。收获快乐。</p></div></div>    
</body>
</html>