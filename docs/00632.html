<html>
<head>
<title>Visualizing Hyperparameter Tuning Results of KerasTuner With Weights &amp; Biases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用权重和偏差可视化KerasTuner的超参数调整结果</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/visualizing-hyperparameter-tuning-results-of-kerastuner-with-weights-biases-e9417055d96?source=collection_archive---------14-----------------------#2021-03-08">https://medium.com/geekculture/visualizing-hyperparameter-tuning-results-of-kerastuner-with-weights-biases-e9417055d96?source=collection_archive---------14-----------------------#2021-03-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a17b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我之前的博客解释了如何在Keras/TensorFlow 2 中使用KerasTuner进行超参数调整。本文展示了如何使用<a class="ae jd" href="https://wandb.ai/site" rel="noopener ugc nofollow" target="_blank">权重&amp;偏差</a> (W &amp; B)工具可视化KerasTuner的超参数调整结果。<strong class="ih hj"><em class="je">W&amp;B提供的交互式可视化效果非常棒，可以深入了解超参数的不同选择如何影响模型性能，以及它们如何相互比较&amp;对比度</em> </strong>。现在我们知道了为什么W &amp; B在这里很重要，让我们开始讨论如何实现它。</p><p id="59c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">KerasTuner和W&amp;B可以无缝集成，实现交互式可视化。为了理解结构，让我们举一个我构建并解码的简单示例Keras/TensorFlow 2代码。这里是所有文件的github链接，其中有更多的示例代码，这些代码探索了KerasTuner和W &amp; B中可用的其他选项。</p><h1 id="40f6" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤:</h1><blockquote class="kd ke kf"><p id="85d9" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">I:创建模型-构建-功能</p><p id="4340" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">二。为重新定义run_trial()方法构建新的优化器类</p><p id="f219" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated"><strong class="ih hj">三。使用wandb.init()和WandbCallback()在W &amp; B的仪表板上实时记录数据，实现惊人的可视化效果！</strong></p><p id="4376" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">四。self.oracle.update_trial() <strong class="ih hj">【重要一步！] </strong></p><p id="909e" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">动词 （verb的缩写）通过向其传递优化目标和优化算法(如RandomSearch、Hyperband和BayesianOptimizaiton)来实例化新的调谐器类</p><p id="2afb" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">不及物动词通过调用tuner.search()运行调谐器</p><p id="310e" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated"><strong class="ih hj">七。比较&amp;使用W &amp; B仪表板</strong>上的平行坐标图和参数重要性图，用各种指标对比所有运行/超参数试验</p></blockquote><h1 id="054a" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤I:创建模型构建功能</h1><blockquote class="kj"><p id="9ac0" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">这个函数与我们在<a class="ae jd" rel="noopener" href="/swlh/hyperparameter-tuning-in-keras-tensorflow-2-with-keras-tuner-randomsearch-hyperband-3e212647778f">上一篇关于KerasTuner的文章中学到的模型构建函数完全相同。</a></p></blockquote><figure class="kt ku kv kw kx ky"><div class="bz dy l di"><div class="kz la l"/></div></figure><h1 id="f0b3" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤二:</h1><blockquote class="kj"><p id="4dfc" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">为重新定义run_trail()方法构建新的优化器类</p></blockquote><blockquote class="kd ke kf"><p id="df22" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">为什么我们需要这一步？</p></blockquote><p id="5105" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这使我们能够控制每次进行超参数试验时会发生什么。</p><blockquote class="kd ke kf"><p id="7edb" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">为什么在tuner.search()执行调优任务时我们需要控制？</p></blockquote><p id="fc1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博客中，我们使用它将数据记录到Weights &amp; Biases仪表板，以便可视化结果。我们还可以用这个控件做更多的事情！</p><blockquote class="kd ke kf"><p id="0d21" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">如何实现新的调谐器类？</p></blockquote><figure class="lg lh li lj fd ky"><div class="bz dy l di"><div class="kz la l"/></div></figure><blockquote class="kj"><p id="7004" class="kk kl hi bd km kn lk ll lm ln lo jc dx translated">我们来解码上面的代码吧！</p></blockquote><blockquote class="kd ke kf"><p id="463f" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">run_trial()'和' kt。'调谐器'</p></blockquote><p id="464c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要对每次试运行进行控制，以便记录可视化数据。谁对每次试运行有控制权？答案是' run_trial()'方法。</p><p id="deea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">run_trial()方法是在kerastuner中定义的。调谐器(kt。调谐器)类。因此，我们继承了它，并根据需要重新定义了run_trial()方法。</p><blockquote class="kd ke kf"><p id="b431" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">hp =试验.超参数</p></blockquote><p id="69e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它具有<strong class="ih hj">当前</strong>超参数试验的值。</p><blockquote class="kd ke kf"><p id="59b6" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">model = self.hypermodel.build(惠普)</p></blockquote><p id="a85d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该方法利用“试验”提供的<strong class="ih hj">当前</strong>超参数值建立新的神经网络模型。当我们实例化新的调谐器类时，该方法提供了<strong class="ih hj">建模函数</strong>。<em class="je">这将在第五步中阐明。</em></p><blockquote class="kj"><p id="f9ac" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">MyTuner类中的更多代码在步骤III和IV中解释！</p></blockquote><h1 id="856a" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq lp js jt ju lq jw jx jy lr ka kb kc bi translated">主要步骤三:可视化代码</h1><blockquote class="kj"><p id="c899" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">wandb.init()和WandbCallback()</p></blockquote><blockquote class="kd ke kf"><p id="8bea" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">run = wandb . init(project = " WandBAndKerasTuner "，config=hp.values)</p></blockquote><p id="cb7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">要让这行代码工作，我们需要做两件事，</strong></p><blockquote class="kj"><p id="a4d0" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">在笔记本中安装重量和偏差，使用:'！' pip安装wandb -qqq '</p><p id="43e5" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">在<a class="ae jd" href="https://wandb.ai/site" rel="noopener ugc nofollow" target="_blank">权重&amp;偏好网站</a>上创建账户</p></blockquote><p id="c188" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated"><strong class="ih hj">为什么我们需要有一个账户？答:惊人的可视化仪表板将在我们的网站账户上提供给我们。我们将使用这个仪表板来可视化我们的所有结果，并更深入地了解超参数。</strong></p><p id="437f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是在笔记本中调用之前需要<strong class="ih hj">执行的两行代码:</strong></p><blockquote class="kj"><p id="fbaa" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">导入wandb</p><p id="21b2" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">！wandb登录</p></blockquote><p id="9c92" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated"><strong class="ih hj">’！“wandb登录”将为您提供一个链接，用于登录您的W &amp; B账户详情。</strong></p><p id="7e8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je">现在我们来解码wandb.init() </em></p><p id="a5a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">wandb.init()用于在W&amp;B仪表板上不存在名称/项目时创建新项目，并初始化W&amp;B仪表板上的运行。该项目记录所有使用相同项目名称的运行。<strong class="ih hj"> <em class="je">这里的运行次数等于超参数试验次数run _ trial()被调用的次数。</em> </strong>然后，我们可以使用W &amp; B仪表板上提供的可视化工具来比较&amp;对比该项目中的所有运行。</p><figure class="lg lh li lj fd ky er es paragraph-image"><div class="er es ls"><img src="../Images/dd276600c4064ed475f718632e70248a.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*1_fEaf2OY_J1Ruknvg0AIA.png"/></div><figcaption class="lv lw et er es lx ly bd b be z dx">Four runs created with random names inside the project when wandb.init() is called 4 times by the code with same project name</figcaption></figure><p id="a1a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je"> 'config=hp.values' </em>用于将当前运行与用于本次运行的唯一超参数值相关联。</p><blockquote class="kj"><p id="fa3e" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">总之，这里的wandb.init()启动了一个独特的运行，并将其与该运行使用的当前超参数相关联。</p><p id="406e" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">当执行wandb.init()时，它将打印输出链接到仪表板，您可以在仪表板上查看由model.fit()中的WandbCallback()记录的实时数据</p></blockquote><blockquote class="kd ke kf"><p id="b0a8" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">history = model.fit(trainX，trainY，batch_size=batch_size，epochs=epochs，validation_split=0.1，callback =[WandbCallback()])</p></blockquote><p id="3ba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">model.fit()将在当前超参数试验值上训练神经网络模型。在此过程中，它记录数据，如<strong class="ih hj">损失(训练损失)、准确度(训练准确度)、val_loss(验证损失)、val_accuracy(验证准确度)，这些数据在“历史记录”中检索。</strong></p><blockquote class="kj"><p id="69af" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">只需在model.fit()的回调中调用WandbCallback()，就可以在dashboard上实时可视化所有数据</p><p id="2322" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">WandbCallback()使在W&amp;B dashboard上实时记录和可视化所有数据变得很容易</p></blockquote><blockquote class="kd ke kf"><p id="df3d" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated"><strong class="ih hj">如何查看仪表盘？</strong></p></blockquote><p id="a573" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="je">方法一</em>:可以点击执行wandb.init()时打印出来的项目链接</strong></p><p id="7e1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="je">方法二</em>:你可以登录你的W &amp; B账号，在wandb.init() </strong>中看到你提供的项目名称下的数据直播</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es lz"><img src="../Images/643cbcedacc458efe56e96cd6a59f688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*owf8h14Efl60f2FXQn2qxg.png"/></div></div></figure><h1 id="7f64" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤四:【重要一步！]</h1><blockquote class="kj"><p id="1e18" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">self.oracle.update_trial()</p></blockquote><blockquote class="kd ke kf"><p id="ad66" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">self . Oracle . update _ trial(trial . trial _ id，{objective_name_str : val_acc})</p></blockquote><p id="b46f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调谐器的目标是在步骤v中实例化MyTuner类时设置的，对于本例，我们将目标设置为“val_accuracy ”,这是验证准确性。</p><p id="8185" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个目标被调整算法用作评估哪个超参数试验是最好的度量。</p><blockquote class="kj"><p id="4fbc" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">重要1:此<strong class="ak">目标值</strong>必须在每次试验结束时提供给调整算法。这是使用self.oracle.update_trial()完成的</p><p id="9b31" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">要点2:实例化MyTuner类时给定的目标名必须与self.oracle.update_trial()中的' objective_name_str '匹配，否则会出现错误</p></blockquote><p id="29d3" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated"><em class="je">因此，我创建了一个名为“objective”的变量，该变量在实例化时被传递给MyTuner类，还被传递给tuner.search()，以便run_trial()将相同的目标名称传递给self.oracle.update_trial() </em></p><p id="e956" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于每个超参数试验，试验标识是唯一的</p><blockquote class="kd ke kf"><p id="0fc8" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">self.save_model(trial.trial_id，模型)</p></blockquote><p id="ee58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保存使用试验超参数训练的当前神经网络模型，并将其与唯一的trial_id相关联。</p><h1 id="4ffc" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤V:实例化新的调谐器类</h1><figure class="lg lh li lj fd ky"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="4329" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们实例化了我们的定制调优器类，并且<strong class="ih hj">为它提供了调优算法、目标和建模函数。</strong>关于调优算法的选择和其中参数的描述，请参考<a class="ae jd" rel="noopener" href="/swlh/hyperparameter-tuning-in-keras-tensorflow-2-with-keras-tuner-randomsearch-hyperband-3e212647778f">我之前在KerasTuner上的博客。</a></p><p id="f604" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“build_model”是我们在步骤I中创建的模型构建函数。“build_model”被传递给“hypermodel”。当在run_trial()中调用self.hypermodel.build(hp)时，它执行这里传递的模型构建函数。</p><h1 id="048e" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤六:</h1><blockquote class="kj"><p id="5a26" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">tuner.search()</p></blockquote><blockquote class="kd ke kf"><p id="a20c" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">tuner.search(trainX，trainY，batch_size=32，epochs=5，objective=objective)</p></blockquote><p id="c9a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">这将启动调谐过程。</strong>因为完整的调优过程可能需要很长时间，所以我设置了epochs=5和max_trial=4(在MyTuner类中),这样您就可以立即在笔记本上看到结果。您可以根据需要更改这些值。</p><blockquote class="kj"><p id="c3df" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">传递给tuner.search的参数由run_trial()直接接收。这给了我们修改run_trial()的灵活性。</p></blockquote><p id="c79f" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">这里，我们利用这种灵活性向model.fit()传递训练数据、batch_size(这可以是一个超参数，但为了简单起见，我们在这里固定该值)和时期</p><p id="f489" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的' objective '变量用于维护传递给<strong class="ih hj"> MyTuner类</strong>的目标名称与<strong class="ih hj">self . Oracle . update _ trial()</strong>中给出的目标名称的一致性</p><h1 id="5c83" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">主要步骤七:</h1><blockquote class="kj"><p id="a211" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">在调优过程中，我们可以在仪表板上实时观察调优过程</p><p id="ca80" class="kk kl hi bd km kn ko kp kq kr ks jc dx translated">现在，一旦调整完成，我们就可以比较和对比所有的超参数试验</p></blockquote><blockquote class="kd ke kf"><p id="1eab" class="if ig je ih b ii lb ik il im lc io ip kg ld is it kh le iw ix ki lf ja jb jc hb bi translated">如何比较和对比超参数试验？</p></blockquote><p id="910c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“创建报告”按钮下方的+选项。此处用红色突出显示的是糟糕的绘图:)</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es me"><img src="../Images/056508f618b85ef45bb936537453d926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*glr1ctHtmTe73tT7nOS3mQ.png"/></div></div></figure><figure class="lg lh li lj fd ky er es paragraph-image"><div class="er es mf"><img src="../Images/85ed19ac17a6b75c70bf033d11165615.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*AmyIgmOQ5VE8xLgQtt52qQ.png"/></div></figure><p id="1b23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在这里探索平行坐标图和参数重要性图。</p><blockquote class="kd ke kf"><p id="0e36" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">平行坐标图:</p></blockquote><p id="ddb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击平行坐标选项后，将出现如下所示的窗口</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mg"><img src="../Images/a92c7d3080dc72f6bb7917311c952a3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DTqZQQN2ZtCnLdQHkjtBew.png"/></div></div></figure><p id="b8e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“添加列”以插入我们要可视化的轴。</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mh"><img src="../Images/c5f9f1f57e25beecae7420a18611676e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtCegFvvSBJP4GZWSh_DAA.png"/></div></div></figure><p id="5740" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们的代码具有第一层卷积滤波器和学习率作为超参数，我们选择它们并将其与“val_accuracy”的度量进行比较。该指标数据由WandbCallback()从model.fit()记录到仪表板中。</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mi"><img src="../Images/7e48ee5050babc353c7fd0548d2b39ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsOX7VED979CDRqOAWyD6Q.png"/></div></div></figure><p id="435c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“确定”将此窗口添加到主仪表板面板。</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mj"><img src="../Images/6678e142c22db40f8fa682551930ecfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*krL5UWg8uNldlkTlX09KEw.png"/></div></div></figure><blockquote class="kj"><p id="1a01" class="kk kl hi bd km kn lk ll lm ln lo jc dx translated">我们可以选择不同的指标来比较超参数选择的影响。下图显示了培训损失的对比。这可以通过简单地改变平行坐标图的最后一列来实现。</p></blockquote><figure class="kt ku kv kw kx ky er es paragraph-image"><div class="er es mk"><img src="../Images/ba412b989eb09af599f29dfe576eb5f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*rw9DL10sVS1FwGk4l7p58g.png"/></div></figure><blockquote class="kd ke kf"><p id="17e8" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">参数重要性图/图/数据:</p></blockquote><blockquote class="kj"><p id="501f" class="kk kl hi bd km kn lk ll lm ln lo jc dx translated">一旦我们点击+,然后点击“参数重要性”,我们就可以根据我们选择的指标获得重要性数据</p></blockquote><p id="6a71" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">基于<strong class="ih hj">验证准确性度量</strong>，我们得到参数重要性如下</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es ml"><img src="../Images/a3e421faa56e4597dc63b917d28fd3ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvDN6VMLvxfJiiJX-a2O6g.png"/></div></div></figure><p id="2408" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于<strong class="ih hj">训练损失度量</strong>，我们得到参数重要性如下</p><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mm"><img src="../Images/c6c273253a98300b82428ecdc4ce183d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1VkNXKMtT_JYagXRPx7GUQ.png"/></div></div></figure><blockquote class="kd ke kf"><p id="d29a" class="if ig je ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated"><strong class="ih hj">W&amp;B仪表板上的主面板:</strong></p></blockquote><figure class="lg lh li lj fd ky er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mn"><img src="../Images/d56e3f71d82c86d8e662dd814cbb6dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fU3axWBiLNvyYIBTYjROGQ.png"/></div></div></figure><p id="54be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这有助于您可视化从KerasTuner获得的调优结果，并让您开始使用W&amp;B实现令人惊叹的交互式可视化。关于W&amp;B中可用的其他工具的更多信息即将发布。</p><p id="b016" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考资料:</p><div class="mo mp ez fb mq mr"><a href="https://keras-team.github.io/keras-tuner/tutorials/subclass-tuner/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">给自定训练循环的调音器分类</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">kerastuner.engine.tuner.Tuner中的Tuner类可以被子类化以支持高级用途，例如:自定义培训…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">keras-team.github.io</p></div></div></div></a></div><div class="mo mp ez fb mq mr"><a href="https://keras-team.github.io/keras-tuner/documentation/tuners/#on_epoch_end-method" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">调谐器</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">调谐器在这里做超参数搜索。您可以通过子类化创建自定义调谐器…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">keras-team.github.io</p></div></div></div></a></div><div class="mo mp ez fb mq mr"><a href="https://www.tensorflow.org/guide/keras/custom_callback" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">编写您自己的回调| TensorFlow核心</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">回调是一个强大的工具，可以在训练、评估或推理过程中定制Keras模型的行为…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">www.tensorflow.org</p></div></div><div class="na l"><div class="nb l nc nd ne na nf lt mr"/></div></div></a></div><div class="mo mp ez fb mq mr"><a href="https://wandb.ai/arig23498/keras-tuner/reports/Keras-Tuner-with-W-B--Vmlldzo0MzQ1NzU" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">带W&amp;B的Keras调谐器</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">将wandb与keras-tuner集成</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">wandb.ai</p></div></div><div class="na l"><div class="ng l nc nd ne na nf lt mr"/></div></div></a></div><div class="mo mp ez fb mq mr"><a href="https://wandb.ai/site" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">权重和偏好-ML开发工具</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">权重和偏差-ML实验跟踪、超参数优化、模型和数据集的开发工具…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">wandb.ai</p></div></div><div class="na l"><div class="nh l nc nd ne na nf lt mr"/></div></div></a></div></div></div>    
</body>
</html>