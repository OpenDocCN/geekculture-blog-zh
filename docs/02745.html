<html>
<head>
<title>Creating a SQL Entity Relationship Diagram (ERD)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建SQL实体关系图(ERD)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-a-sql-entity-relationship-diagram-erd-ced5ad1239d0?source=collection_archive---------4-----------------------#2021-05-25">https://medium.com/geekculture/creating-a-sql-entity-relationship-diagram-erd-ced5ad1239d0?source=collection_archive---------4-----------------------#2021-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="be5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用PostgreSQL和Pagila数据库练习创建和使用实体关系图</p><ol class=""><li id="4bd5" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">本文将使用pgAdmin 4和PostgreSQL演示如何创建Pagila数据库的实体关系图(ERD ),以更好地理解您将使用的数据，并创建一个参考。</li><li id="54d2" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">这里将展示两种不同的ERD创作方法。一个是手动完成的，耗时更长，但学习体验更好，另一个是由pgAdmin 4自动完成的，速度快几个数量级，对于那些在使用Pagila数据库时只需寻找ERD作为参考的人来说更容易。</li><li id="b2c0" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">会有必要信息的链接，github库和完整的ERD供你参考。</li></ol></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="6e6e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">预先注意(如果你想创建一个ERD快，然后读这个)</h1><p id="db9e" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">当我最初尝试使用pgAdmin 4创建一个ERD时，我点击了工具下拉列表中的“新ERD项目”选项，它给了我一个空白的网格。因此，我实际上必须手动创建图表中的每个表、行和约束，这花费了我几个小时的时间。下一次我试图创建一个ERD时，我首先右键单击我想要使用的数据库，然后选择“生成ERD ”,最初看起来我仍然有一个空白的ERD，但当我缩小时，我注意到已经为我创建了一个ERD，它包括所有准确的表名、行名、约束和关系。最终，以前需要几个小时才能完成的事情现在只需要30秒。</p><p id="581a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也就是说，我发现手动创建自己的ERD非常有用。它让我思考过程、数据类型、约束和关系，我觉得这进一步巩固了我的SQL知识。</p><h1 id="1ec9" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">先决条件</h1><p id="c7a1" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">本教程假设您已经安装并设置了PostgreSQL、pgAdmin 4和Pagila数据库。如果你需要设置的指导，请访问我以前的文章:<a class="ae lg" href="https://jamesopacich.medium.com/simulating-a-real-world-sql-environment-63784f7f37ae" rel="noopener">模拟真实世界的SQL环境。</a></p><p id="8d02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在此时打开pgAdmin 4，并准备好使用您的数据库。</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="6757" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">自动创建ERD的步骤</h1><h1 id="0522" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">步骤1:生成ERD工具</h1><p id="6c89" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">这是pgAdmin 4版中的一个测试工具。</p><h2 id="40c1" class="lh jz hi bd ka li lj lk ke ll lm ln ki iq lo lp km iu lq lr kq iy ls lt ku lu bi translated">生成ERD</h2><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es lv"><img src="../Images/615fb38d20b35bb34d337b28873bfd2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*no2QRoisIwd8wPgm4nUgTA.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">Right-click on your database. I have called my database Pagila in this case. Then find the “Generate ERD” option on the drop down list.</figcaption></figure><p id="1919" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将在pgAdmin 4中打开一个新窗口，该窗口位于查询窗口通常所在的位置。</p><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ml"><img src="../Images/83269ca4d0137877e2d7ce35ba851f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YVi98WTGB9vdSWUXy3RKzg.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">Here a new ERD window and tab are created. This is where the ERD will be created.</figcaption></figure><h1 id="8dec" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">第二步:保存并命名你的ERD</h1><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mm"><img src="../Images/624ed166081ba9b141aaa90d42ec5a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HlO7SLkCje2HPocPXbqZcA.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">Step 1: Click on this icon to open up the save file browser/box</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div class="er es mn"><img src="../Images/5020ef64b84e5729802fa0dbc5e3b8c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*-m4A5-u_dgCLLhm5SGmANg.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx">Step 2: Name your ERD by typing your desired name into the end of the file path. Then click Create to save the named file. I decided to name my ERD pagila_erd3 for this exercise.</figcaption></figure><h1 id="fb37" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">第三步:导出你的ERD</h1><p id="59a3" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">在pgAdmin 4中放大和移动ERD有点困难，所以我发现将其导出到图像文件更有助于参考。</p><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mo"><img src="../Images/24767a9579efd6264c8f1b4fa91a168a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*W2JjVTaE6eU1iBos734QFQ.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">Click on the “Download Image” icon, it will bring up a file browser where you can name your new image file and save it to a desired file on your computer.</figcaption></figure></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="9d15" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">手动创建您自己的ERD</h1><p id="0395" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">手动创建自己的ERD的第一步是不同的。</p><h1 id="0044" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">步骤1:创建新ERD</h1><figure class="lw lx ly lz fd ma er es paragraph-image"><div class="er es mp"><img src="../Images/ceee4cac438a403ef33d24c184d9d03a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*hs_HuPhMm03sgICd7mnSGA.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx">Instead of clicking on the database name and then selecting to generate a new database you will instead click on the “Tools” dropdown at the top of the pgAdmin app window and select “Create New ERD.”</figcaption></figure><h1 id="5d86" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">第二步:保存并命名你的ERD</h1><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ml"><img src="../Images/50c84b201bdb20964ff86971c25326de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0tqXkTGy1u4CCdjc-6sexQ.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">You will see now that you will have a blank ERD Window to work from.</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mm"><img src="../Images/624ed166081ba9b141aaa90d42ec5a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HlO7SLkCje2HPocPXbqZcA.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">Step 1: Click on this icon to open up the save file browser/box</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div class="er es mn"><img src="../Images/5020ef64b84e5729802fa0dbc5e3b8c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*-m4A5-u_dgCLLhm5SGmANg.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx">Step 2: Name your ERD buy typing your desired name into the end of the file path. Then click Create to save the named file. I decided to name my ERD pagila_erd3 for this exercise.</figcaption></figure><h1 id="ca5c" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">步骤2:创建第一个表格</h1><p id="c13d" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">在这一步中，我们将为ERD创建表格图。这些框包含数据库中每个表的表、列、约束和键信息。</p><figure class="lw lx ly lz fd ma er es paragraph-image"><div class="er es mq"><img src="../Images/4e3a5f4801f23d76d24120e303728110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*SCvII2uXSsGSN-VUTuuQRQ.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx">Click the plus-sign icon to add a table.</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div class="er es mr"><img src="../Images/dd0c3107900087bf76b32b6a126b8d81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*ts9K0vDklWLyWiLf5g6Rng.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx">Name your table and click on the column tab.</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div class="er es ms"><img src="../Images/e3e44323ec2971e04fd7d26e79aa3376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*noeiIoWEcyvh2ALLPDfKmw.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx">Click on plus sign to add column and constraints</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mt"><img src="../Images/0bbf2a3dbffd9939c5c1adeabfb8ca80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m0k3aaT5nhW3FrpEWuQ2nQ.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">Enter in your column names, data-types and basic constraints here and hit ok to create the table diagram. If you want to dive deeper into constraints then click on the pencil icon next to each column.</figcaption></figure><h2 id="c3f9" class="lh jz hi bd ka li lj lk ke ll lm ln ki iq lo lp km iu lq lr kq iy ls lt ku lu bi translated">如果您想深入了解约束条件</h2><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mu"><img src="../Images/ffe49679f99496ae39c571ad28bedc75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ymKlTH8SrryPR6Y64z1Wg.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">There is a definitions tab although this doesn’t seem to add any additional functionality.</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mv"><img src="../Images/ba3f5d0f6942772e92f78dae5a0076b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZvHDMellpfhWP5Rp173Xpg.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">The constraints tab does seem to add a few more parameters to add to your diagram.</figcaption></figure><h1 id="4cd2" class="jy jz hi bd ka kb lb kd ke kf lc kh ki kj ld kl km kn le kp kq kr lf kt ku kv bi translated">第三步:建立关系</h1><p id="2425" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">要完成ERD，您需要创建表之间的关系。</p><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mw"><img src="../Images/f1d806ec940a2685cc61910f6e6037b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7oD2vojrM2hYBUsayNZ6kA.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">To create a 1 to many relationship highlighting foreign key relationships click on the 1M icon. This will open a form for you to select columns corresponding to the tables and relationships you want to create.</figcaption></figure><figure class="lw lx ly lz fd ma er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mx"><img src="../Images/5504aefd1066c2d65035061b3569d4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fNvwcYpNe-WC5R5DjAV1Ng.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx">To create a many-to-many relationship click the MM icon and a form will open allowing you to do the same as the previous picture.</figcaption></figure><p id="d7dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您现在已经创建了一个ERD。我建议从头开始重新创建Pagila数据库ERD来练习。您可以通过创建如上所述的自动ERD来检查您的工作。我还在我的<a class="ae lg" href="https://github.com/JamesRonsonOp/SQL_Training_with_Pagila/tree/main/pagila_question_sets" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Pagila问题集</strong> </a> <strong class="ih hj">资源库</strong>中收集了一堆问题集，这将帮助你微调你的查询技能。</p></div></div>    
</body>
</html>