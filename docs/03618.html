<html>
<head>
<title>Neovim configuration for beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的Neovim配置</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/neovim-configuration-for-beginners-b2116dbbde84?source=collection_archive---------0-----------------------#2021-06-12">https://medium.com/geekculture/neovim-configuration-for-beginners-b2116dbbde84?source=collection_archive---------0-----------------------#2021-06-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3108d250e58e2ad944f781c01d9080ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5UlKPl_PKAor556Smxkykw.png"/></div></div></figure><p id="ebe4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您可能认为vim是一个陈旧过时的文本编辑器，具有很高的学习曲线和有限的功能，那么您就大错特错了。</p><p id="661d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Vim是一个非常快速、跨平台、免费、开源、可定制、可扩展的流行文本编辑器，许多人都在使用它。一旦你开始使用它，你会讨厌所有其他的文本编辑器。</p><p id="dda1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们来谈谈<a class="ae jo" href="https://neovim.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> Neovim </strong> </a>，它是<a class="ae jo" href="https://wiki.archlinux.org/title/Vim" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> Vim </strong> </a>的一个分支，旨在改进代码库，允许更容易地实现API，改进用户体验，以及插件实现。比起vim我更喜欢Neovim。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/02f277389a7a5ffeeaaa95cdd3e1b1ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJ6Rf2cQ6FBvr_Ot9Yu0Qw.png"/></div></div></figure><p id="d8bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">尽管默认情况下neovim是一个非常好的工具，但是它缺少一些特性，比如代码补全。我们将通过位于~/的配置文件来修复这些问题。<em class="ju"> config/nvim/init.vim </em></p><pre class="jq jr js jt fd jv jw jx jy aw jz bi"><span id="d22a" class="ka kb hi jw b fi kc kd l ke kf">set nocompatible            " disable compatibility to old-time vi<br/>set showmatch               " show matching <br/>set ignorecase              " case insensitive <br/>set mouse=v                 " middle-click paste with <br/>set hlsearch                " highlight search <br/>set incsearch               " incremental search<br/>set tabstop=4               " number of columns occupied by a tab <br/>set softtabstop=4           " see multiple spaces as tabstops so &lt;BS&gt; does the right thing<br/>set expandtab               " converts tabs to white space<br/>set shiftwidth=4            " width for autoindents<br/>set autoindent              " indent a new line the same amount as the line just typed<br/>set number                  " add line numbers<br/>set wildmode=longest,list   " get bash-like tab completions<br/>set cc=80                  " set an 80 column border for good coding style<br/>filetype plugin indent on   "allow auto-indenting depending on file type<br/>syntax on                   " syntax highlighting<br/>set mouse=a                 " enable mouse click<br/>set clipboard=unnamedplus   " using system clipboard<br/>filetype plugin on<br/>set cursorline              " highlight current cursorline<br/>set ttyfast                 " Speed up scrolling in Vim<br/>" set spell                 " enable spell check (may need to download language package)<br/>" set noswapfile            " disable creating swap file<br/>" set backupdir=~/.cache/vim " Directory to store backup files.</span></pre><p id="a9d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将这些文件添加到init.vim中。Neovim和vim使用vimscript作为配置文件。不考虑注释语句(")，每行的作用不言自明。但是我不推荐使用注释命令，因为我喜欢它们的默认行为。拥有一个交换文件对我来说似乎是安全的。我不想改变交换文件的位置(默认情况下是当前目录)。</p><p id="a278" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在真正的游戏是在使用插件的时候开始的。使用插件管理器是管理插件的最好方法(我真的推荐vimplug作为插件管理器，我会使用vimplug来安装插件)。</p><pre class="jq jr js jt fd jv jw jx jy aw jz bi"><span id="2e10" class="ka kb hi jw b fi kc kd l ke kf">call plug#begin(“~/.vim/plugged”)<br/> “ Plugin Section<br/> Plug 'dracula/vim'<br/> Plug 'ryanoasis/vim-devicons'<br/> Plug 'SirVer/ultisnips'<br/> Plug 'honza/vim-snippets'<br/> Plug 'scrooloose/nerdtree'<br/> Plug 'preservim/nerdcommenter'<br/> Plug 'mhinz/vim-startify'<br/> Plug 'neoclide/coc.nvim', {'branch': 'release'}<br/>call plug#end()</span></pre><p id="3e61" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将上面一行添加到init.vim中，在命令模式下运行<code class="du kg kh ki jw b">PlugInstall</code>安装上面的插件。想更新插件的时候可以运行<code class="du kg kh ki jw b">PlugUpdate</code>。</p><ul class=""><li id="9659" class="kj kk hi is b it iu ix iy jb kl jf km jj kn jn ko kp kq kr bi translated">德古拉——一个非常好的主题</li><li id="f33e" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">nerdcommenter注释掉行的简单方法</li><li id="4160" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">nerdtree——neovim的文件浏览器(netrw是neo vim的默认设置)</li><li id="523d" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">vim-devicon—对nerdtree的devicon支持</li><li id="bf15" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">ultisnips —片段引擎</li><li id="6097" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">vim-snippets——代码片段的集合</li><li id="fe76" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">vim-startify——一个非常方便的起始页，有很多定制</li><li id="fe64" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">COC——一个快速代码完成引擎</li></ul><p id="fd48" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过一些额外的键绑定和一些定制，这些是真正的宝石。</p><pre class="jq jr js jt fd jv jw jx jy aw jz bi"><span id="ddf7" class="ka kb hi jw b fi kc kd l ke kf">“ color schemes<br/> if (has(“termguicolors”))<br/> set termguicolors<br/> endif<br/> syntax enable<br/> “ colorscheme evening<br/>colorscheme dracula</span><span id="ec0d" class="ka kb hi jw b fi kx kd l ke kf">" open new split panes to right and below<br/>set splitright<br/>set splitbelow</span></pre><p id="1952" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，把上面的线也加上。现在让我们添加一些按键。</p><pre class="jq jr js jt fd jv jw jx jy aw jz bi"><span id="92dd" class="ka kb hi jw b fi kc kd l ke kf">" move line or visually selected block - alt+j/k<br/>inoremap &lt;A-j&gt; &lt;Esc&gt;:m .+1&lt;CR&gt;==gi<br/>inoremap &lt;A-k&gt; &lt;Esc&gt;:m .-2&lt;CR&gt;==gi<br/>vnoremap &lt;A-j&gt; :m '&gt;+1&lt;CR&gt;gv=gv<br/>vnoremap &lt;A-k&gt; :m '&lt;-2&lt;CR&gt;gv=gv</span><span id="9dc9" class="ka kb hi jw b fi kx kd l ke kf">" move split panes to left/bottom/top/right<br/> nnoremap &lt;A-h&gt; &lt;C-W&gt;H<br/> nnoremap &lt;A-j&gt; &lt;C-W&gt;J<br/> nnoremap &lt;A-k&gt; &lt;C-W&gt;K<br/> nnoremap &lt;A-l&gt; &lt;C-W&gt;L</span><span id="be1a" class="ka kb hi jw b fi kx kd l ke kf">" move between panes to left/bottom/top/right<br/> nnoremap &lt;C-h&gt; &lt;C-w&gt;h<br/> nnoremap &lt;C-j&gt; &lt;C-w&gt;j<br/> nnoremap &lt;C-k&gt; &lt;C-w&gt;k<br/> nnoremap &lt;C-l&gt; &lt;C-w&gt;l<br/><br/>" Press i to enter insert mode, and ii to exit insert mode.<br/>:inoremap ii &lt;Esc&gt;<br/>:inoremap jk &lt;Esc&gt;<br/>:inoremap kj &lt;Esc&gt;<br/>:vnoremap jk &lt;Esc&gt;<br/>:vnoremap kj &lt;Esc&gt;</span></pre><p id="993f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，</p><ul class=""><li id="7327" class="kj kk hi is b it iu ix iy jb kl jf km jj kn jn ko kp kq kr bi translated">inoremap:在插入模式下映射键</li><li id="a90e" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">nnoremap:在正常模式下映射键</li><li id="ab3f" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">vnoremap:在可视模式下映射键</li><li id="4240" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated"><c>:代表控制键</c></li><li id="9214" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated"><a> : Alt键</a></li></ul><p id="0919" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们再添加一些</p><pre class="jq jr js jt fd jv jw jx jy aw jz bi"><span id="b670" class="ka kb hi jw b fi kc kd l ke kf">" open file in a text by placing text and gf<br/>nnoremap gf :vert winc f&lt;cr&gt;</span><span id="c3c7" class="ka kb hi jw b fi kx kd l ke kf">" copies filepath to clipboard by pressing yf<br/>:nnoremap &lt;silent&gt; yf :let @+=expand('%:p')&lt;CR&gt;<br/>" copies pwd to clipboard: command yd<br/>:nnoremap &lt;silent&gt; yd :let @+=expand('%:p:h')&lt;CR&gt;</span><span id="72af" class="ka kb hi jw b fi kx kd l ke kf">" Vim jump to the last position when reopening a file<br/>if has("autocmd")<br/>  au BufReadPost * if line("'\"") &gt; 0 &amp;&amp; line("'\"") &lt;= line("$")<br/>    \| exe "normal! g'\"" | endif<br/>endif</span></pre><p id="c995" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可能会从中发现一些有趣的东西。au (autocommand)，它有助于在vim启动时运行命令(实际上是在创建缓冲区时)</p><p id="d764" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想了解更多关于vim的信息，只需使用:help name。尽管我使用的是neovim，但所有这些也适用于vim。对于vim，配置文件将是<code class="du kg kh ki jw b">~/.vimrc</code>,而不是<code class="du kg kh ki jw b">~/.config/nvim/init,vim</code>。</p><p id="c95b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">暂时就这样了。我知道我错过了很多我想说的东西，我会把这些都放在以后的文章里。neovim有很多可能的功能，如何设置取决于你自己。</p></div></div>    
</body>
</html>