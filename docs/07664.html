<html>
<head>
<title>WhatsApp Chat Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WhatsApp聊天分析</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/whatsapp-chat-analysis-a-data-view-built-with-streamlit-d7d94525beae?source=collection_archive---------10-----------------------#2021-09-26">https://medium.com/geekculture/whatsapp-chat-analysis-a-data-view-built-with-streamlit-d7d94525beae?source=collection_archive---------10-----------------------#2021-09-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b380" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jd translated">从任何形式的数据中提取信息和见解的能力被认为是一项有价值的技能。数据可以是各种形式，如结构化表格数据、文本数据等。WhatsApp是一种社交媒体平台，允许it用户相互发送消息、图片、视频等。发送这些消息会生成文本数据，这些数据可以很容易地提取出来，并且可以利用python等编程语言的知识进行转换和分析。</p><p id="517e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将解释如何使用WhatsApp聊天文本数据来提取见解并创建不同的图表。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es jm"><img src="../Images/9ad4b764e94ef291d5c804ffa473427f.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*UWIFtRtGry6kCGAZxI64pQ.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image by Author</figcaption></figure><p id="3495" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标:</p><p id="7ce5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">阅读本文后，读者将能够:</p><ol class=""><li id="b640" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated">提取WhatsApp聊天数据</li><li id="006e" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">使用正则表达式清理文本数据</li><li id="c041" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">从文本数据中提取见解</li><li id="dbfc" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">使用Streamlit构建仪表板</li></ol><p id="76d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事不宜迟，让我们开始吧</p><p id="15ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大纲:</p><ul class=""><li id="2f53" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc km ke kf kg bi translated">提取WhatsApp聊天数据</li><li id="7684" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">清理和转换文本数据</li><li id="b14a" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">使用Streamlit构建视觉效果</li></ul><h2 id="c965" class="kn ko hi bd kp kq kr ks kt ku kv kw kx iq ky kz la iu lb lc ld iy le lf lg lh bi translated">提取WhatsApp聊天数据</h2><p id="67f3" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">WhatsApp允许用户下载他们的聊天数据，无论是直接消息(DM)还是群聊。按照以下步骤下载您的聊天数据</p><ul class=""><li id="3f54" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc km ke kf kg bi translated">打开您希望下载的聊天内容，它可以是您朋友的DM或群聊</li><li id="3114" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">点击3点垂直线</li><li id="2964" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">点击更多按钮</li><li id="4240" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">点击导出聊天按钮</li><li id="ef66" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">单击无媒体—这将仅导出文本聊天数据，并排除所有媒体，如音频、视频等。</li><li id="ca57" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">然后你可以把它送到任何你想去的地方。也可以邮寄给自己</li></ul><h2 id="e479" class="kn ko hi bd kp kq kr ks kt ku kv kw kx iq ky kz la iu lb lc ld iy le lf lg lh bi translated">清理和转换WhatsApp数据</h2><p id="7af8" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">为了从数据中提取任何有用的信息或见解，需要使用符合要提取的见解所需的方法对数据进行清理和转换。WhatsApp聊天数据也不例外，很脏，需要清理。</p><ul class=""><li id="4fc4" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc km ke kf kg bi translated">移除系统生成的消息:WhatsApp会生成一些消息，比如当有人新加入群组时，它会发送一条消息，比如“用户1刚刚加入群组”</li></ul><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="ln lo l"/></div></figure><ul class=""><li id="9002" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc km ke kf kg bi translated">移除表情符号</li></ul><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="ln lo l"/></div></figure><ul class=""><li id="fab8" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc km ke kf kg bi translated">从每条消息中提取有用的特征:时间、日期、消息内容、消息发送者等信息。</li><li id="3408" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">将所有要素合并到一个数据框架中，以帮助可视化</li></ul><p id="837c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个提取特征并将所有特征转换成数据帧的函数。</p><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="ln lo l"/></div></figure><h2 id="88ad" class="kn ko hi bd kp kq kr ks kt ku kv kw kx iq ky kz la iu lb lc ld iy le lf lg lh bi translated">使用Streamlit构建视觉效果</h2><p id="3eaa" class="pw-post-body-paragraph if ig hi ih b ii li ik il im lj io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">Streamlit-Streamlit是一个面向机器学习和数据科学团队的开源应用框架。在数小时内而不是数周内创建漂亮的数据应用。全是纯Python。streamlit的目标是为您的数据创建交互式应用程序。</p><p id="594a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在清理和转换聊天数据之后，我有了一个如下所示的数据帧:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lp"><img src="../Images/3d7859ef6edd17acbc1bce71fa5dd209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8l9cY-Cpu8amNSi8811Z_g.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image by Author</figcaption></figure><p id="65cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我将构建视觉效果，传达我们现有数据中的见解。在这里，我将思考展示什么是重要的，以及传达这种见解的最有效方式。下面是一个生成单词云图像的函数</p><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="01b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其他生成图表的功能可以在<a class="ae lu" href="https://gist.github.com/Abuton" rel="noopener ugc nofollow" target="_blank">这里</a>找到。整个代码库基于streamlit for data view和plotly的前端设计，提供图表交互性。我创建了多个图表来传达不同的见解，如单个用户发送的消息总数、发送消息最繁忙的日子、聊天中最常用的词等。下面是基于WhatsApp图表数据生成的图表快照。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lv"><img src="../Images/e06c97964f61b5fdf528e6d452cef94b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pvo-Ko5mv2ekzt2FRw63tA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image by Author</figcaption></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lw"><img src="../Images/e34699dd760d17020d849e8ade0bf181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VAVFqx4PLse8eGveSjSGSA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Image by Author</figcaption></figure><p id="b5b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该项目的全部代码可以在<a class="ae lu" href="https://github.com/Abuton/Intermediate-DS-Projects/blob/main/app.py" rel="noopener ugc nofollow" target="_blank">这里</a>找到。我会写关于部署应用程序，也增加了更多的功能，如；</p><ul class=""><li id="ffd6" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc km ke kf kg bi translated">下载按钮，用于为其他机器学习用例下载干净的聊天数据</li><li id="bdb6" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">加载附加数据和比较指标的侧栏</li><li id="6393" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc km ke kf kg bi translated">在评论部分添加您希望添加到应用程序中的内容</li></ul><p id="c8b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读，干杯</p></div></div>    
</body>
</html>