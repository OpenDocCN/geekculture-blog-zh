<html>
<head>
<title>Machine Learning with Database system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于数据库系统的机器学习</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/machine-learning-with-database-system-6b1d6ed765a7?source=collection_archive---------21-----------------------#2021-07-06">https://medium.com/geekculture/machine-learning-with-database-system-6b1d6ed765a7?source=collection_archive---------21-----------------------#2021-07-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7789" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们都是通过像Tensorflow、Pytorch、SkLearn这样的通用框架开始机器学习的，他们已经向我们提供了最先进的结果。但是，如果我们能够利用RDBMS在机器学习任务中在数据提取、计算方面的快速、灵活和准确的机器学习专业知识，这将是RDBMS社区正在进行的非常重要的积极研究，它将帮助多年来一直从事RDBMS工作的人使用基于RDBMS的框架轻松实现机器学习应用程序。在这个领域有google和微软的论文提供了非常好的解决方案。虽然使用基于RDBMS的框架进行深度学习远不能提供任何好的结果，所以我们可以从机器学习问题开始，如线性回归、随机森林、boosting等。我们将在这里讨论三篇基于机器学习和关系数据库管理系统有趣论文，以及它们的优缺点。</p><p id="bacb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> IntegratedML:每个SQL开发人员都是数据科学家</strong></p><p id="d25d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总结:</p><p id="be12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">IntegratedML用于希望在工作中部署机器学习模型的SQL开发人员。它的所有SQL语法为机器学习算法提供了与SQL数据库通信的有效接口，以馈入输入并从ML算法获得输出预测。它对AutoMl的使用让用户无需深入了解它就能创建高效的Ml模型。集成算法在查询处理时利用新颖的内部元组批处理方案，无论在何种上下文中调用标量预测，都能实现高效的查询预测。此外，它深深嵌入了一个电镀关系引擎，确保性能不受这种抽象的影响，而是支持基于查询计划的良好模型预测。集成的ML作为一种嵌入功能被提供给InterSystems IRIS数据平台，即支持DDL/ DML类型SQL语法的多模型DBMS。</p><p id="2251" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在系统端，它有一个集成的ML provider，它实现了API，用于在嵌入式SQL数据库和ML模型预测和训练之间建立桥梁。Provider可以用与数据库兼容的任何语言实现，Integrated ML目前附带3个不同的provider基于Python的AutoML引擎，一个围绕开源H2O平台的包装器，一个DataRobot接口，支持他们基于云的和内部部署的解决方案。然后，它提供了集成的ML语法，该语法考虑了模型创建和训练以及模型推理方法。</p><p id="144e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将所有这些特性结合起来，可以为构建ML模型的团队带来更高的生产力，而不会影响应用程序的透明性和效率。</p><p id="dc1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">优势:</p><ol class=""><li id="9aae" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">它有一个很好的接口，通过允许在SQL应用程序中使用数据科学算法和AutoML模型，在SQL开发人员和数据科学家之间架起了一座桥梁。</li><li id="ee1c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">集成ML的语法类似于SQL查询语法，所以学习它对SQL开发人员来说并不是一件很头疼的事情。</li><li id="004d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">在这个程序中引入了新颖的批处理技术，其中像PROBABILITY()和PREDICT()这样的函数被公开为标量函数，但是在ML模型中，函数需要对大的输入大小进行大的预测。因为小函数通常是计算的瓶颈。为了解决这个问题，类似的函数调用被成批处理，在调用过程中，所有的模型输入列值被成批处理，而不是调用提供者。查询继续执行，循环生成下一组输入列值。一旦对适当数量的输入列值集合进行了批处理，整个批处理就会在一次调用中传递给提供程序。</li></ol><p id="685f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">弱点:</p><ol class=""><li id="5d56" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">这并不能取代数据科学家，因为大规模深度学习模型在集成ML方面效率不高，所以他们需要tensorflow和pytorch这样的框架。</li><li id="443f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">它是为一个数据科学团队人手不足的组织设计的，因此它没有实现大范围的ML算法，并且它只是SQL开发人员在机器学习方面的一个起点。</li><li id="4bfd" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">IntegratedML不讨论实现的模型的准确性，因为这些也是在生产中部署模型的重要术语，它只讨论在生产中有效地部署模型。</li></ol><p id="dc56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用ML推理扩展关系查询处理</strong></p><p id="29ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总结:</p><p id="6a05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">机器学习在组织中的广泛采用正在导致严格的治理和经济高效的性能，主要是在模型存储和推理方面。因此，在本文中，他们认为RDBMS是起点，并开发了一个名为Raven的系统，该系统利用SQL Server内部的ML运行时(即ONNX运行时)的本机集成，以及统一的中间表示(IR)来实现ML和DB运算符之间的高级交叉优化。Raven为在unified IR中捕获的SQL查询和Python ML管道提供静态分析。模型评分和存储使用RDBMS以及数据，这使得通过SQL访问变得容易。其他理想的属性，如事务性(模型中的每个变化都作为一个事务来处理)以及高可用性和可审计性。Raven执行许多优化，并作为数据库的一部分在RDBMS调用ML运行时内本地执行推理。考虑一个输入查询QM，其中Q是SQL查询，M是模型流水线被处理为，首先Ravens静态分析器解析QM并对SQL和Python脚本执行分析。然后，结果DAG被表示为Raven统一中间表示(IR)。</p><p id="fa1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，IR被送入一个交叉优化器，该优化器执行操作符转换和许多优化(与数据操作符和ML的通信信息),并决定哪些操作需要由SQL server执行，哪些部分需要由ML运行时(ONXX运行时)执行。优化空间非常丰富，一些优化是基于谓词的模型修剪、模型投影下推、模型/查询分裂、编译器优化等。</p><p id="879d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">优化的Raven IR然后被输入到SQL查询生成器，该生成器生成包含所有优化的新SQL查询。然后调用集成的SQL Server+ONNX运行时引擎来执行。</p><p id="ea52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">强度:</p><ol class=""><li id="b3bc" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">Raven确实利用了SQL结构的优化，如下推运算符、模型投影和基于ML运行时的优化，如模式分离、ONXX运行时中的常数折叠。</li><li id="0ac1" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">在100个元组的数据集上，Raven比标准ONXX运行时分别快3毫秒到20毫秒。这可以归因于基于SQL的查询的缓存。对于具有大约1M和10M元组的非常大的数据，Raven比ONXX快5倍。</li><li id="e83b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Raven介绍了一种将机器学习操作符转换为基于线性代数的操作符的新方法。因此，在scikit-learn和ML.NET等框架中编写的经典ML运算符和数据特征，到可以在ONNX Runtime和TensorFlow等高效引擎中执行的神经网络。</li></ol><p id="c241" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">弱点:</p><ol class=""><li id="9628" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">对于50K和100K之间的元组，Raven和ONXX具有相似的性能，其中Raven具有15%的开销，这降低了Raven的性能。在顺序执行中，Raven也比ONXX慢7%。</li><li id="a1f7" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">我们对不支持静态分析器的模型管道使用Raven ext。Raven ext由于数据传输和持续的半秒开销而产生开销，这是externa语言的启动运行时。</li><li id="a7c7" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Raven远不是一个完整的系统，它只对批量推理有效。在其他推理中，像每个元组一个预测不是很有效。Raven并不专注于训练ML模型，而是专注于预训练模型。</li></ol><p id="f3b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">多云，DBMS机会大:企业级ML的10年预测</strong></p><p id="b736" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总结:</p><p id="6b18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，作者试图推测ML和数据库系统将如何发展以支持企业级机器学习(EGML)。在EGML应用程序中，它们是下一波机器学习环境，具有受监管的环境、对数据处理的高度审查、模型公平性、用户隐私和可调试性。EGML分为三类:使用云进行训练，这意味着训练将主要在私有或公共云中进行，因为它需要集中的数据和最新的硬件。第二个是DBMS中的score，它声明DBMS需要将ML模式性能推断合并为关系数据库的基本扩展。第三是无处不在的治理，即在云中分类的数据需要得到可靠的治理、安全的数据访问、版本管理和来源跟踪。</p><p id="4263" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文介绍了支持EGML应用程序数据科学生命周期Flock，它探索假设，发现公开问题并验证初始解决方案。作者预测，在未来10年，数据库社区将在机器学习中发挥重要作用。ML的企业需求将有更严格的要求，但由一个较小的、经验较少的团队构建。</p><p id="7c76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">EGML工作负载需要跨系统整合和交流起源信息的协议。他们提出了三个模块的解决方案——SQL起源模块、Python起源模块和目录。Catalog存储所有起源信息，并充当SQL和Python起源模块之间的桥梁。SQL起源模块处理在渴望和懒惰模式下捕获粗粒度起源。Python出处模块使用标准静态分析技术和我们维护的ML APIs知识库的组合来解析脚本并自动找到代码的特征提取和模型训练部分。</p><p id="c82a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">优势:</p><ol class=""><li id="6165" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">优化捕获技术是通过压缩和总结发展起来的，压缩和总结是解决起源数据模型的关键。</li><li id="af9b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">将SQL起源模块的输出连接到Python起源模块，就有可能端到端地跟踪模型谱系。</li><li id="54b5" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">本文提供了EGML系统与系统SQL起源模块、Python起源模块和目录通信的三种解决方案。</li></ol><p id="a18a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">弱点:</p><ol class=""><li id="0895" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">这篇文章还没有完成，并且提到他们正在研究它，所以很难与其他系统进行性能比较。</li><li id="b5ce" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">旨在支持EGML的系统需要提供广泛的覆盖范围，但论文中没有提到他们是如何在解决方案中实现这一点的。</li><li id="80a7" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">在出处捕获中，EGML工作负载跨越多个系统和运行时，从多个数据库获取数据，以满足特定运行时和系统的需要，使用Apache方解石，这在纸面解决方案中没有实现，因为在许多情况下，他们的系统无法解析查询。</li></ol><p id="ee6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考文献:</strong></p><ol class=""><li id="e4f9" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae jr" href="https://arxiv.org/abs/1909.00084" rel="noopener ugc nofollow" target="_blank">T3【https://arxiv.org/abs/1909.00084】T5</a></li><li id="b0e5" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae jr" href="https://arxiv.org/abs/1911.00231" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://arxiv.org/abs/1911.00231</strong></a></li><li id="6d98" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae jr" href="https://www.researchgate.net/publication/342249821_IntegratedML_Every_SQL_Developer_is_a_Data_Scientist" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://www . research gate . net/publication/342249821 _ integrated ml _ Every _ SQL _ Developer _ is _ a _ Data _ Scientist</strong></a></li></ol></div></div>    
</body>
</html>