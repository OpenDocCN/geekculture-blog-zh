<html>
<head>
<title>Detailed Explanation of Panel Data — How to identify Balanced and unbalanced Panel Data.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面板数据的详细解释——如何识别平衡和不平衡的面板数据。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/detailed-explanation-of-panel-data-how-to-identify-balanced-and-unbalanced-panel-data-fd973fa788ae?source=collection_archive---------1-----------------------#2022-01-04">https://medium.com/geekculture/detailed-explanation-of-panel-data-how-to-identify-balanced-and-unbalanced-panel-data-fd973fa788ae?source=collection_archive---------1-----------------------#2022-01-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/590c7e3600e87bdfdbce34547c865667.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N0FoWAh_s1qr53MflgqJFg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://www.pexels.com/@thisisengineering?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">ThisIsEngineering</a> from <a class="ae iu" href="https://www.pexels.com/photo/woman-coding-on-computer-3861958/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="9031" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">panel dataset</strong>被称为纵向数据或横截面时间序列数据集，理想情况下，它在一段时间内对观察单位(如个人、家庭、企业、城市和州)的某些变量进行重复测量。</p><p id="1187" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">时间序列和横截面数据可以被认为是面板数据的特殊情况，只有一个维度。时间序列可以描述为单个实体在不同时间间隔的观察值的集合，横截面数据可以描述为多个实体在单个时间点的观察值的集合。</p><p id="02f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">识别数据集属于哪个类别(即面板数据、时间序列或横截面)就是找出一个唯一区分一个数据记录和其他记录的标识符。如果标识符是时间数据字段，则数据集属于时间序列。然而，如果数据记录可以用时间数据字段以及与时间无关的标识符(如员工id、学生id、航空公司代码、公司代码、国家代码等)唯一标识，则数据集是面板数据。如果数据记录可以用非时间标识符唯一标识，那么数据集就是横截面数据。</p><p id="9a3b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在一个面板数据集中，对同一总体或样本的相同变量的重复测量的次数可以是<strong class="ix hj">小至两个</strong>。面板数据很容易被概念化为每个变量的三维结构:垂直维度为时间，水平维度为每个变量的多个观察值。</p><p id="e9c0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我采用了一个用于预测美国航空公司成本的面板数据集，该数据集包含5个预测因素和1个响应，数据集可从<a class="ae iu" href="https://www.kaggle.com/sandhyakrishnan02/paneldata" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">此处</strong> </a> <strong class="ix hj">下载。它在15年的时间里(1970-1984)对6家航空公司进行了总共90次观察。</strong></p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/c478f13a417567578da138a4d39416ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*f8od7TCKRMnNXM_KTwFMYA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">The snippet of the first 9 records of DataSet</figcaption></figure><h1 id="6188" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">预测器</strong></h1><p id="074f" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">我(航空公司):我指出了不同的航空公司，这里我们有6家航空公司，从1到6。</p><p id="7db7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以通过使用unique()函数来验证航空公司的唯一值。这里的观测值是90，从第2行开始到第91行结束。所以我们可以使用下面的函数</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/982601e0df1f9b20ccd34c29237db70f.png" data-original-src="https://miro.medium.com/v2/resize:fit:300/format:webp/1*MYgwrnQLYdb8P-_te_vJGA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">To identify the unique value of the airline firms</figcaption></figure><p id="7031" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">结果包含从1到6的值，因此我们确认航空公司的数据集只有从1到6的值。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/0dd30d8e4eca2539abe81a26449cd853.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*6wMnALPDYORcAj0VEjjPtg.png"/></div></figure><p id="65e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">T(年份):T表示观察截面数据的年份。这里T的持续时间是从1970年到1984年，即15年。</p><p id="d922" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据集的年数也可以验证为航空公司，即</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/0af45cdce7c57913fdc78523817ee7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/1*KNCiUr4oOLmXZLkeBHv5cw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">To identify the unique value of years of observations</figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es le"><img src="../Images/09b198184ab0d86310e95575b0ea8d2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*uL2IonaHjkGGKHcguHnZMA.png"/></div></figure><p id="3d0d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里的结果包含从1到15的值，因此我们可以确认数据集包含15年的观测值。</p><p id="6625" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">PF(燃料价格):指数和价格数据显示报告日期在炼油厂支付的航空喷气燃料的全球平均价格。燃油价格总是由航空公司和航空燃油供应商之间谈判的合同决定。这通常是一份多年期合同，其条款和条件决定价格，不受市场波动的影响。</p><p id="ebfb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">LF(载客率):这是一个衡量一家航空公司的载客能力被利用了多少的指标。这通常取决于航班座位容量、航线、需求等。,</p><p id="5b2f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">q(收入乘客英里数):收入乘客英里数(RPM)是一个运输行业指标，显示付费乘客旅行的英里数，通常是一个航空交通统计数据。</p><h1 id="c5b8" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">反应</h1><p id="3f99" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">成本(1000，数据):取决于各种因素，包括燃油价格、载客率、租赁和折旧、飞机维护、劳动力和机场装卸费。</p><h1 id="ed41" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">数据集分析</h1><p id="2dca" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">对于这个数据集，我们有一个该年的时间数据字段，但是在这个标识符的帮助下，我们不能唯一地从其他数据记录中识别出一个数据记录。这里我们还需要一个与时间无关的标识符，即航空公司编号。因此，我们可以确认我们的数据集是面板数据。</p><h2 id="87f1" class="lf jz hi bd ka lg lh li ke lj lk ll ki jg lm ln km jk lo lp kq jo lq lr ku ls bi translated">平衡和不平衡面板数据</h2><p id="cea4" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">面板数据可以是<strong class="ix hj">平衡</strong>或<strong class="ix hj">不平衡</strong>。在一个平衡的面板中，所有的面板成员(横截面数据)在所有时期都有测量值，或者每年都观察每个面板成员。如果一个平衡面板包含N个面板成员和T个周期，那么数据集中的观察数(N)必然是<strong class="ix hj"> n = N×T </strong>。而对于一个不平衡的面板，数据集中的每个面板成员都有不同数量的观察值，或者至少有一个面板成员在每个时期都没有被观察到。如果一个非平衡面板包含N个面板成员和T个周期，那么下面的严格不等式适用于数据集中的观察数量(N):<strong class="ix hj">N&lt;N×T</strong>。</p><p id="9f88" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于我们的数据集，观察次数n = 90，数字面板N = 6，时间段T = 15。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/89c9ba08736e77d3455a7bd825e76339.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*xiWXqXsxu0no6cd7nuwHzA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">which is the same as n, dataset number of observation</figcaption></figure><p id="b8df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里<strong class="ix hj"> n = N×T，</strong>所以我们的数据集是一个<strong class="ix hj">平衡面板数据。</strong>我们也可以使用<strong class="ix hj">列联表</strong>或交叉表来确认。如果表中的任何单元格的频率低于观察到的频率，则表明数据集是不平衡的，对于我们的情况，我们应该为所有6家航空公司获得相同的频率。</p><p id="a349" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要创建一个<strong class="ix hj"> </strong>列联表，在CSV或excel文件中进入插入表并选择数据透视表。一旦它被选中，创建数据透视表窗口将弹出，它将自动选择整个数据，如果它没有被选中，通过点击表/范围的向上箭头选择整个数据。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/fcf5575c749374c59f09455d3bfdd02c.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*jOPncIo6elCCJNUY08HhxA.png"/></div></figure><p id="92a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可以选择一个新的工作表或现有的工作表来放置数据透视表，这里我已经选择了现有的工作表，对于位置，您可以选择一个空的单元格。</p><p id="3226" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">按下OK后，将在单元格O10处创建一个空数据透视表，并在工作表的右侧创建一个数据透视表字段，其中包含所有列和空筛选器。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/cf2d47b48dd95c7d375a41412c38aeba.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*iYV-zqASrlQZ61H9q90RfQ.png"/></div></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/161c0788e0547dd65f0b97ebd190915b.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*h39VpdQuUJMNnCw7-w4mAA.png"/></div></figure><p id="d075" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">这里我们有代表航空公司的“I”作为非时间相关的标识符，所以把它拖到行上，选择代表年份的时间标识符“T”。完成后，你会得到如下结果</strong></p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/1366644b4b6594da8806ddcd06736d46.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*c_jnHkJHsOM9DvLxgYd7ug.png"/></div></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/d241fe9ddf823dbe337c918e0fa94235.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*u8NTVVQXJ9TtlISlDfD4OA.png"/></div></figure><p id="f4fc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在双击数据透视表中的“T的总和”,将弹出如下窗口。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/ba8b1c8eeb441164ccd8de400d5f9da0.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*oJ9GMA5vqe0jW_vL7Grrtg.png"/></div></figure><p id="31fb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择Count而不是Sum，然后您可以看到数据透视表更新如下。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/275666bca54a626a19eca00bc9bf4495.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*0uzi3jeTUX7t6f5Wyd-PYQ.png"/></div></figure><p id="cffc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由此我们可以得出结论，每家航空公司总共有15个观察值，即每年一个，我们的数据集是<strong class="ix hj">平衡面板数据</strong>。</p><h1 id="f39c" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">面板数据的优势</h1><p id="efa8" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">面板数据可以模拟群体的共同行为和个体行为。它比纯粹的时间序列数据或横截面数据包含更多的信息、更多的可变性和更高的效率，并且可以检测和测量其他数据集所不能检测和测量的统计效果。</p><p id="3f58" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">感谢阅读！！！！如果这篇文章对你有帮助，欢迎鼓掌，分享和回复。</strong></p><p id="2b82" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你有兴趣查看面板数据的详细计量经济分析，可以从<a class="ae iu" href="https://www.kaggle.com/sandhyakrishnan02/econometric-analysis-of-panel-data-using-r" rel="noopener ugc nofollow" target="_blank">这里查看</a>。</p></div></div>    
</body>
</html>