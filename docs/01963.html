<html>
<head>
<title>Easiest Way to Add Daily.co Video Call Support to Your React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Daily.co视频通话支持添加到React应用程序的最简单方法</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/easiest-way-to-add-daily-co-video-call-support-to-your-react-app-19ad97441df3?source=collection_archive---------9-----------------------#2021-04-30">https://medium.com/geekculture/easiest-way-to-add-daily-co-video-call-support-to-your-react-app-19ad97441df3?source=collection_archive---------9-----------------------#2021-04-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/58cee6cfb014a294c8090ea4e1a2a157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMCBP2cg7WSCCMgQQ6zdUQ.png"/></div></div></figure><p id="2d95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Daily.co为将他们的视频会议API添加到您的web应用程序提供了出色的开发体验。他们还提供了<a class="ae jo" href="https://www.daily.co/blog/prebuilt-ui/" rel="noopener ugc nofollow" target="_blank">“预建用户界面”</a>，这通常可以满足视频会议用户界面的所有需求。</p><h1 id="3859" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">React Studio的日常预建UI插件</h1><p id="9b27" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">我们将Daily的预构建UI片段包装到React Studio插件中。你可以从React Studio的插件商店下载插件。该插件使用起来非常简单，你只需在React Studio项目的屏幕或组件上添加并对齐插件元素，然后将“url”链接到你的房间url属性。如果房间总是保持不变，您也可以对url使用静态设置。</p><h2 id="4771" class="ks jq hi bd jr kt ku kv jv kw kx ky jz jb kz la kd jf lb lc kh jj ld le kl lf bi translated">动态房间url</h2><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/31f388bd1981bb507a343f5003de2e1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iVPHz8Y7nlYpEY1fWGMi_g.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Dynamic video call room</figcaption></figure><h2 id="9e2a" class="ks jq hi bd jr kt ku kv jv kw kx ky jz jb kz la kd jf lb lc kh jj ld le kl lf bi translated">固定房间url</h2><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/b59062282927c4db343c144b69396519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eezQ3LN_s-ewh1ce5nGquw.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Fixed video call room</figcaption></figure><blockquote class="lq lr ls"><p id="d88c" class="iq ir lt is b it iu iv iw ix iy iz ja lu jc jd je lv jg jh ji lw jk jl jm jn hb bi translated">我假设您知道使用React Studio和将您的UI连接到Xano后端的所有基础知识。如果你是Xano和React工作室<a class="ae jo" href="https://www.youtube.com/watch?v=9vEh8tSLEJ4&amp;list=PLKrYy47a9BRmQ1ZZXRm3TXdpt7KKGlqLB" rel="noopener ugc nofollow" target="_blank">的初学者，看看这些视频</a>。</p></blockquote><h1 id="3beb" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">教师行政；我的瑜伽馆演示应用</h1><p id="382e" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">现在我们知道了如何为视频会议应用程序配置UI，但是我们如何从应用程序中动态地创建新的每日视频通话室呢？</p><p id="e71e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">答案很简单:我们在<a class="ae jo" href="https://xano.io/reactstudio-signup" rel="noopener ugc nofollow" target="_blank"> Xano </a>中创建一个自定义API端点，并配置该端点来调用日报的API并“请求”一个新的视频会议室。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/662fe4e78f5024e7dc3f542f32978e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FRzDYu9F0H0sToby43tScA.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Xano’s endpoint</figcaption></figure><p id="4064" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里是我在Xano的<a class="ae jo" href="https://xano.io/reactstudio-signup" rel="noopener ugc nofollow" target="_blank">无代码后端构建器中的自定义端点的一个例子。一开始看起来可能有点吓人，但这很简单。接下来我将分解这些步骤:</a></p><ol class=""><li id="c4c1" class="ly lz hi is b it iu ix iy jb ma jf mb jj mc jn md me mf mg bi translated">我创建了一个名为“Func_1”的自定义函数，它简单地检查用户角色是教师还是管理员。</li></ol><p id="3131" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.创建一个采用当前时间戳的变量。稍后，当我们调用Daily的API来创建一个视频会议室时，将使用该变量，该视频会议室将在一小时后自动删除。</p><p id="a84a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.将小时添加到时间戳(3600)秒。</p><p id="1e4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.我根据从Daily的管理员那里获得的示例API响应创建了一个JSON变量。这包含了当我们调用它时，每日API将返回的内容。基本上，我们唯一需要的是房间的URL，但我会在下一阶段回到这个问题。</p><p id="1454" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.在这一步中，我们对Daily的API进行实际的POST调用。这可能是最重要的部分。我简单地使用了Daily的<a class="ae jo" href="https://docs.daily.co/reference#create-room" rel="noopener ugc nofollow" target="_blank"> API文档</a>，用我们的Daily API键创建了一个工作POST调用，并将其粘贴到Xano的外部API请求中。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/a3cf66ed75fa906edd793680e8be7a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVk83uI2TBRviYtDf6T3aA.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">5. Daily’s API documentation</figcaption></figure><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/5679bbd9739b7d82ac9cf6b2539ebb2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oCySCcbPforyKq_3qjhXA.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">5. External API request</figcaption></figure><p id="b532" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.我们创建一个变量，它从每日创建房间API的JSON响应中选择房间url。这个URL将是我们用来将预建的UI插件连接到实际调用的链接。</p><p id="f1b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.我们将把房间URL保存到classes表中，并将class_active值设置为“true”。然后，当类处于活动状态并启动时，在应用程序的UI中使用该值来显示“Join”。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/10a22fdd60fe25524d3faddd9a8b8c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rYMKplpKcnSv5azeSL20Tg.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">7. Edit class record in Xano</figcaption></figure><p id="2773" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就这样，现在我们有了一个可以从UI调用的端点。接下来我将展示我是如何在我的MyYogaStudio演示应用程序中做到这一点的。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/49a465fcd676de90fc4fa84701d6deb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v0S1q-EDRXVLQrJ8g4we_A.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Activate (start) class interaction</figcaption></figure><p id="58be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Yoga应用程序的教师管理页面的截屏几乎是不言自明的。当教师单击“激活类”按钮时，它只是调用我们刚刚在Xano中创建的端点。端点url设置为/openclass/ <data slot="" value="">,这意味着我们将数据槽值(教室id)注入到端点路径中。</data></p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/693a5c564507929b041662938e266475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-vFWAE9zJj3cZVoQ9sPUw.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">MyYogaStudio example Web app</figcaption></figure><h2 id="1786" class="ks jq hi bd jr kt ku kv jv kw kx ky jz jb kz la kd jf lb lc kh jj ld le kl lf bi translated">MyYogaStudio最终用户屏幕</h2><p id="c2df" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">app本身真的很简单；它从登录门开始，主屏幕“只是”一个瑜伽课程列表。列表中的每个类项目包含一个具有两种状态的组件:“加入类”和“未开始”。在列表中，我们根据“class_active”列中的值显示状态。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/217ffe4489cd2c7939161379a27b87e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_1aDJ8uQ8hwY2F3_8acOiA.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Script: if the value is true then the “Join class” button is shown (the second state) in the component</figcaption></figure><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/c96eb5d8febd5b24b9563850f714dc80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IwOL4VSH1pZi60WVx959vA.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Screen shot of the Yoga class list with three open classes</figcaption></figure><p id="dcba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当用户单击加入类按钮时，按钮交互被设置为将类url保存到数据槽，然后转到指向类屏幕的交互。班级屏幕只是一个带有全屏日常插件的屏幕。Daily plugin从一个“房间url”数据槽中获取房间url，我们在第一次交互中用名为Url的属性填充这个数据槽。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/c5a2647e25a91d88df2210a63e23752a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1FTlBt-ae52LPgBHtb5Zw.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">1 .Interaction: Save a room url to data slot</figcaption></figure><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/bbd8a68469ff883a6d83ba811d454497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uX5Xw5CrFqV55WPmydCH7g.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">2. interaction: Go to screen Class</figcaption></figure><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/d8d1b1bf2babab262f9a5bca82964c2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QFbla8w_LzgsKZ1rk85yGw.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Class screen</figcaption></figure><p id="25e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有一个到我的瑜伽课堂演示应用的<a class="ae jo" href="https://neonto.cloud/u/yogatudioemo" rel="noopener ugc nofollow" target="_blank">链接。用模拟账户登录，试着点击一些课程。当我写这篇文章的时候，每日房间是活跃的，但是当你读这篇文章的时候他们可能已经到期了。即使实际的视频通话不再可用，仍然可以看到主要思想。</a></p><p id="aaa6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您对React Studio有任何想法，请告诉我们</p><p id="ba23" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的论坛<a class="ae jo" href="https://discuss.reactstudio.com/" rel="noopener ugc nofollow" target="_blank">https://discuss.reactstudio.com/</a>还是hello@neonto.com</p><p id="46f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从www.reactstudio.com<a class="ae jo" href="https://www.reactstudio.com" rel="noopener ugc nofollow" target="_blank">下载React Studio</a></p><h2 id="33e1" class="ks jq hi bd jr kt ku kv jv kw kx ky jz jb kz la kd jf lb lc kh jj ld le kl lf bi translated">其他有趣的故事</h2><div class="mq mr ez fb ms mt"><a rel="noopener follow" target="_blank" href="/swlh/react-studio-xano-no-code-backend-builder-️-3f537a5d58d4"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hj fi z dy my ea eb mz ed ef hh bi translated">React Studio + Xano无代码后端构建器= ❤️</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">我们有一些消息，你们所有的应用开发者都会喜欢的！</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh io mt"/></div></div></a></div><div class="mq mr ez fb ms mt"><a href="https://reactstudio.medium.com/add-localisation-to-react-app-in-5-minutes-57d80df6e07c" rel="noopener follow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hj fi z dy my ea eb mz ed ef hh bi translated">在5分钟内将本地化添加到React app</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">React Studio项目有内置的本地化功能，这是非常强大的，即使许多用户甚至不…</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">reactstudio.medium.com</p></div></div><div class="nc l"><div class="ni l ne nf ng nc nh io mt"/></div></div></a></div></div></div>    
</body>
</html>