# 将 IT 技能应用于卡拉 ok 聚会

> 原文：<https://medium.com/geekculture/applying-it-skills-to-karaoke-parties-cc66fce39bcd?source=collection_archive---------12----------------------->

## 与没有 IT 背景的人一起开发

## 这是一个有 IT 背景和没有 IT 背景的人之间的合作故事，可以简化卡拉 ok 聚会的准备工作

![](img/93fdf3579d8bf016e6916d65f5ecf6ad.png)

Photo by [Alvaro Reyes](https://unsplash.com/@alvarordesign?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

作为一名 IT 背景的人，我们倾向于关注我们周围的事物，并试图投身于下一件大事:最新的库、编程语言、框架等等。然而，有时我们可以关注我们周围的小事/事件，通过我们自己的一点点努力，我们可以对其他人的生活产生影响，特别是当这些人没有相同的背景时。

# 形势

由于新的生活环境，我开始加入一个新的朋友圈子，他们经常喜欢组织卡拉 ok 聚会。由于这个小组不是来自 IT 背景，我很快发现在准备过程中有些地方可以改进。例如:

*   目录由 word 文档完全手动维护，并以 pdf 格式传递给活动参与者。这意味着搜索目录的唯一方法是通过 PDF 阅读器中的查找选项
*   每次添加新歌时，都需要分配一个号码。这也意味着他们需要跟踪历史上所有被删除的歌曲，以了解哪些号码可用。这也是通过手工填写的 word 文档实现的
*   由于这些号码都是手动分配的，很有可能由于人为错误，多首歌曲被分配了相同的号码

# 第 1 阶段—概念验证(POC)

对于应用程序的第一个概念，以下步骤是必要的:

1.  将目录作为 word 文档加载到一些数据存储中
2.  将这些目录返回到一个 UI 中，让人们可以轻松地对内容进行过滤和排序
3.  使用一些免费的主机和数据存储来部署应用程序和前端

**目录加载**

由于存储数据的结构不是问题，并且数据没有层次结构，所以使用了缓存解决方案(Redis)。这将是一个最终会困扰我的决定，但它确实适合 POC。

**允许通过 UI 搜索/排序**

有许多库提供了像排序、搜索和管理表中数据这样的功能，所以我们自己实现这种功能从来没有被真正考虑过。考虑到这一点，使用了库 ag-grid(【https://www.ag-grid.com/】T4)。这个库为我们添加的数据提供了开箱即用的过滤和排序，它有非常广泛的文档和功能集，可以帮助满足未来的需求

**托管和数据存储**

由于代码已经存储在 GitHub 中，在 GitHub 页面中托管前端似乎是一个简单方便的选择。托管后端有更多的选择，但从我们能够使用 Docker 容器的那一刻起，任何免费服务都足够了。最终，我们选择了 Heroku，因为它不仅是免费的，几乎不需要设置，而且它已经有集成的数据存储解决方案(例如 Redis 的缓存解决方案)，这使得设置更加容易

# 第一阶段的反馈

现在，概念验证已经完成，可以接受初步反馈了。所有人的反应都非常积极！他们喜欢自己已经能做的事情，这被视为对当前形势的一种改善。当然，也有需要改进的地方，即:

*   目录中的歌曲类别信息在应用程序中丢失。这必须被恢复
*   把所有的目录都放在一起，很明显会出现重复或重叠的数字

**类别管理**

由于原始 word 文档中已经提供了类别信息，因此只需确保获取这些数据，并更改 UI 以显示这些数据并基于这些数据进行过滤。

**目录管理—重复检查**

管理目录需要对数据有更深入的了解，这不能简单地从原始缓存信息中获得。这引发了项目的第二阶段。

# 第 2 阶段—产生洞察力和目录管理

我们需要在我们的数据存储中有一些结构来产生洞察力。如果我们想要解决目录问题，如重复条目，以及在歌曲被删除后检查可用的号码，那么存储所有原始信息，然后在内存中处理它是不可伸缩的。考虑到这一点，并且因为我们仍然可以从层次结构中受益，我们决定使用 MongoDB。由于 MongoDB 提供了一个免费层，而且利用 Docker 容器进行本地连接也非常容易，这也简化了未来的开发。

所以现在数据不再在缓存中，而是在 MongoDB 集合中，我们如何提取这些见解呢？以下是我们想知道的一些信息:

1.  有没有两首同号的歌？哪些？
2.  我们有出现在多个目录文件中的歌曲吗？我们能合并它们吗？
3.  我们的歌曲在编号顺序上是否有差距？如果有，有哪些号码？

**同名歌曲**

通过将数据更改为使用实际的数据库，我们可以在其中查询它的属性，如编号，找到具有相同编号的歌曲成为一个容易解决的问题，因为我们可以查询相同编号出现不止一次的所有歌曲。一旦我们有了这些，我们就可以列出所有可能的重复。然后，该列表将与目录的原始作者共享，他们可以分析这是否是一个错误，他们需要不同的编号，这首歌是否是由 oversight 复制的，或者它是否是故意的。

事实证明，这种检查非常有用，因为将来添加到目录中的内容可以针对它运行多次，从而为我们提供即时反馈

**同一首歌曲出现在多个目录文件中**

这是一个真实的场景，我们有两个目录文件，一个是法语歌曲，另一个是英语歌曲。例如，如果一首歌的一部分是法语的，另一部分是英语的，那么这首歌可以出现在两个目录中。

在与目录所有者沟通后，我们同意在多个目录中出现的具有相同名称、编号和艺术家的歌曲可以合并到单个条目中，这将为两个目录提供参考

**数字序列中的缺口**

既然我们现在有了所有已分配号码的列表，我们可以查询我们的列表来找到哪些号码没有被分配，并报告一个包含这些号码的列表。结果，保存已删除歌曲以备将来使用的文档被废弃了，因为我们现在可以在不到几秒钟的时间内获得相同的列表，没有人工错误

# 结论

在本文中，我经历了查看问题、建立 POC、收集初始反馈以及将 POC 迭代为更稳定和有用的版本的过程。

应用程序本身可以在[这里](https://nadais.github.io/karaoke-app/)找到，代码可以在[这里](https://github.com/nadais/karaoke-app)找到

这是我为一个技术平台写的第一篇文章，所以任何评论或问题和分享都将不胜感激！