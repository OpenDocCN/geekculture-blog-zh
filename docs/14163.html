<html>
<head>
<title>Aerokube Selenoid deployment in Google Cloud Platform (GCP)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台(GCP)中的Aerokube Selenoid部署</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/aerokube-selenoid-quick-setup-in-google-cloud-platform-gcp-1be8c3b5e252?source=collection_archive---------15-----------------------#2022-08-18">https://medium.com/geekculture/aerokube-selenoid-quick-setup-in-google-cloud-platform-gcp-1be8c3b5e252?source=collection_archive---------15-----------------------#2022-08-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="be3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好！！</p><p id="4714" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将探讨如何在谷歌云平台(GCP)中部署和配置Aerokube Selenoid。让我们开始吧。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1685c1332c14b0884d6b877138f346bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_Tg0suGuXkXi7dzY.jpg"/></div></div></figure><blockquote class="jp jq jr"><p id="2830" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">先决条件:你需要一个谷歌云帐户，如果你没有，你可以访问注册页面并创建一个新帐户。作为新客户免费层优惠的一部分，您将获得300美元的免费积分，可用于探索Google Cloud提供的各种服务。</p></blockquote><p id="7335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="js">创建帐户并首次登录后，您将被导航到GCP仪表板页面，我们需要转到计算引擎服务下的虚拟机实例页面。</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/510c895e0b6e7d544bd318294fa04951.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*-HuWuXLIZ2J6Lnx4TuYSww.png"/></div></figure><p id="495e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将继续在GCP创建一个新实例，为此，请单击“VM instances”页面上的“CREATE INSTANCE”按钮。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/c045800ff47e27e286d2e476d25929cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*TOm8G2cOer-6XZXl90-ywQ.png"/></div></figure><p id="a578" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在“创建实例”页面中，选择“市场”选项，这将打开“市场”页面。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/e2cf76c7655d5969f17685f5e3d9b91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YaTnlFKb9orhQ956MAACsw.png"/></div></div></figure><p id="ddba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们将搜索Selenoid并点击搜索结果。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jz"><img src="../Images/2f698c6629da3bd75bb07198e1e3d488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAPZG6XkvSiLb8iTQl3EOw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/c624b4f6787be024cee5efe569abf693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LtrsQA-MZ_Z8iQaGLZj8mQ.png"/></div></div></figure><p id="84ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="js">正如你所看到的，Aerokube Selenoid提供了与谷歌云平台的现成集成，我们只需点击几下鼠标就可以快速启动和配置我们自己的Selenoid网格。单击启动按钮开始。</em></p><blockquote class="jp jq jr"><p id="ff4a" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated"><em class="hi">注意:如果您看到一个确认提示信息屏幕，要求您确认启用一些API，请点击启用按钮。</em></p></blockquote><h2 id="e539" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">设置Selenoid部署:</h2><p id="411a" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">在我的情况下，点击启动按钮后，下面的屏幕默认显示在我面前，我们将继续根据需要更新详细信息。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lb"><img src="../Images/555bcaca0a3ab64817370034a83ba186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*UUf4twi4KAUqDrIyyS7xxw.png"/></div></figure><p id="bf1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出于演示目的，我将为我们的部署添加以下细节。</p><blockquote class="jp jq jr"><p id="d1fe" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">部署名称:月形网格<br/>区域:亚洲-南方-1c</p><p id="7f11" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">机种:通用<br/>系列:N1 <br/>机种:n1-standard-2 (2个vCPU，7.5GB内存)</p><p id="4ca5" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">启动盘类型:标准持久盘<br/>启动盘大小GB: 15</p></blockquote><p id="d292" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="js">在防火墙部分，确保选中允许TCP端口:4444和TCP端口:8080的复选框，这将用于连接到我们的Selenoid网格和访问Selenoid UI仪表板。</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lc"><img src="../Images/e91e7c598a2b1c2b742eb883360499be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*waGF74wHqONbsBCb68_pxg.png"/></div></figure><p id="e3a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="js">最后，单击接受服务条款的复选框，然后单击部署按钮以完成部署流程。您需要等待几分钟，部署过程才能完全完成。</em></p><blockquote class="jp jq jr"><p id="54d6" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">你会看到一个如下的屏幕，显示“月球网格”已经展开。</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ld"><img src="../Images/d0db39431c26081837b7a88a746e200b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6YXWLkGZXMu86X0QCLS2w.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">Selenoid grid deployed</figcaption></figure><p id="a49f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">发布Selenoid的部署，只需点击站点地址，即可访问部署的Selenoid UI。这将用于查看我们的Selenoid网格中正在执行的测试。这在端口8080上运行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es li"><img src="../Images/1405d8c02e31d7a86d654cd3e1f51367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RMRbP7s_KZyutP67RvPJjw.png"/></div></div></figure><p id="a7a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以使用RemoteWebDriver和DesiredCapabilities，并将hubUrl作为站点地址，在我们的Selenoid网格中运行您的测试自动化脚本。</p><p id="e0d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的情况下，枢纽网址将:<a class="ae lj" href="http://34.131.249.56:4444/wd/hub" rel="noopener ugc nofollow" target="_blank">http://34.131.249.56:4444/wd/hub</a></p><blockquote class="jp jq jr"><p id="7413" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">此外，我已经将capabilities:enable VNC &amp; enable video设置为true。</p></blockquote><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="a89e" class="kb kc hi ll b fi lp lq l lr ls">capabilities.setCapability("enableVNC", true);<br/>capabilities.setCapability("enableVideo", true);</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f6678762350013582e413dd09fa736fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hZBgV8cGy-ZM2qy5rZiK4w.gif"/></div></div></figure><blockquote class="jp jq jr"><p id="ad2b" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">在Selenoid UI: Capabilities部分你可能会注意到的另一点是，在Selenoid中，Chrome、Firefox和Opera的默认下载浏览器图像已经相当过时了。比如截至2022年8月，Chrome浏览器最新版本为104，Opera为88等。</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/5a0babc6067c410b548f98e0d030b70c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WuFTzmWle78LW45WnkOjFw.png"/></div></div></figure><h2 id="ee4e" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">我们将继续更新Selenoid和浏览器图像</h2><p id="8478" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">为此，使用SSH下的可用选项连接到您的Selenoid虚拟机实例:“在浏览器窗口中打开”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/37bf613a57960dda57871f2281a473ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VUSqsMhkqIbrZHiy2xYNaQ.png"/></div></div></figure><blockquote class="jp jq jr"><p id="b7ed" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">使用wget命令下载Selenoid配置管理器</p></blockquote><p id="1b3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">sudo wget "<a class="ae lj" href="https://github.com/aerokube/cm/releases/download/1.8.1/cm_linux_amd64" rel="noopener ugc nofollow" target="_blank">https://github . com/aero kube/cm/releases/download/1 . 8 . 1/cm _ Linux _ amd64</a></p><blockquote class="jp jq jr"><p id="81a3" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">为下载的configuration Manager二进制文件分配执行权限</p></blockquote><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="d08b" class="kb kc hi ll b fi lp lq l lr ls">sudo chmod +x cm_linux_amd64</span></pre><blockquote class="jp jq jr"><p id="09fe" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">运行更新命令</p></blockquote><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="1070" class="kb kc hi ll b fi lp lq l lr ls">sudo ./cm_linux_amd64 selenoid update --last-versions 3</span></pre><blockquote class="jp jq jr"><p id="79b7" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">注意:上述命令将更新Selenoid版本，并将下载所有最新的浏览器映像。我们已经指定了last-versions 3，所以它将为Chrome、Firefox和Opera拉入最新的浏览器图像，以及所有浏览器的2个以前的图像。</p><p id="0934" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">使用以下命令更新Selenoid-UI:</p></blockquote><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="e5ab" class="kb kc hi ll b fi lp lq l lr ls">sudo ./cm_linux_amd64 selenoid-ui update</span></pre><p id="1ca6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们完成了，我们已经用所有最新的Selenoid版本、浏览器图像以及Selenoid-UI更新了我们部署的Selenoid设置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/e17b47546d8962c9cd79fbe8b589f269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1293M_dk_5mNi_HR9Fl99g.png"/></div></div></figure><blockquote class="jp jq jr"><p id="80b7" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">提交您的实际操作，确保使用仪表板中的删除选项删除Selenoid部署。这将删除Selenoid网格和它所创建的资源。</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lw"><img src="../Images/d5f16a75613510c714b098092ebec003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*NRmJEkgVUQY0CO_c2s2sig.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/5055f8c851081fb1a8f0df7a1ae5c030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmnA-ACXe7SPmuaNiF6YXA.png"/></div></div></figure><p id="1f7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读！！希望这篇文章对你有用！！</p></div></div>    
</body>
</html>