<html>
<head>
<title>Creating Enemy Explosions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制造敌人的爆炸</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-enemy-explosions-23c2e732c809?source=collection_archive---------76-----------------------#2021-05-27">https://medium.com/geekculture/creating-enemy-explosions-23c2e732c809?source=collection_archive---------76-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="382c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">体面地把它们拿出来</h2></div><p id="90dc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有什么比消灭你的敌人更好？看着他们在淘汰中爆炸。</p><p id="9b3a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">特效给游戏带来许多人渴望的特殊视觉享受。在这里，我们要让我们的敌人在被消灭时爆炸成一个火球。</p><p id="4478" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要将爆炸的精灵动画附加到我们的敌人身上，我们必须首先选择我们的敌人预设并打开预设。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es jt"><img src="../Images/a26c2df625c3f3b6e477a87e2361d085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/1*E-ibyFuLxRRnQBTo3GYGog.gif"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">Open Enemy Prefab</figcaption></figure><p id="d5d4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们将创建一个新的动画，名为《敌人_毁灭_动画》。在资产中找到敌人爆炸序列。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es kf"><img src="../Images/bf3a8baf4c6700e0b3b74fd486034d5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*e0-ZWOc2RMI7UBzQ9Ntkgw.png"/></div></figure><p id="efd6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在动画窗口中，创建一个新的动画。选择动画文件夹，并将其命名为敌人_破坏_动画。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kg"><img src="../Images/feb270c66e047ac7686e64ea201e5bac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TVcewMwOWydVlt0bpL3_2A.gif"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Creating new animation</figcaption></figure><p id="daa3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在选择动画窗口中的record按钮，选择爆炸的整个sprite序列，并将其拖动到Animator上。点击播放观看动画，然后再次点击录制按钮停止录制。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kl"><img src="../Images/d32b50ecfde0da73fa3115bc56004a43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0CKqy3S4ze7B3ytJf74pfA.gif"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Importing animation sprites</figcaption></figure><p id="b6ce" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们不希望这个序列循环，因为敌人的物体在爆炸后被摧毁。因此，在我们的项目窗口的动画文件夹中，选择敌人_摧毁_动画，并在检查器中，取消选择<strong class="iz hj">循环时间</strong>。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es km"><img src="../Images/03885c46bf75895dfea27f8664e9aad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/1*C3X01GlOCE0SIw-qnVjrDA.gif"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">Stop animation from looping</figcaption></figure><p id="b95a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们玩我们的游戏，我们会注意到我们的敌人一出生就会爆炸。这是因为我们刚刚创建的动画从一开始就在播放。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/622e7a501ab22336ba8dee652818b5d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1g7pMZblayx-6L5q2LsWFA.gif"/></div></div></figure><p id="22ec" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要了解发生了什么，我们必须打开动画的Animator视图。在我们项目的动画文件夹中，双击敌人控制器(在敌人_毁灭_动画上方)。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ko"><img src="../Images/69191e3becf1936b26e02c037237bd7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DFxqtXAn_B8E6bzjinWAFQ.gif"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Opening the Enemy Destroyed Controler panel</figcaption></figure><p id="286e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以看到动画对象是橙色的，意味着是自动播放的。</p><p id="6dc6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了防止这种情况发生，我们必须在入口和敌人_被摧毁_动画对象之间放置一个<strong class="iz hj">空状态</strong>对象。</p><p id="88f7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">右击基础层画布并选择<strong class="iz hj">创建状态&gt;空。</strong>重命名为空。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kp"><img src="../Images/68e20dd6d776081919d7b5d7e4a3a606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3k5NEQ5pnf9BhjqOb7Mjkw.gif"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Creating an Empty state object</figcaption></figure><p id="79a0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在需要入口对象指向我们的空对象，而不是敌人_毁灭_动画对象。</p><p id="092a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">右键点击<strong class="iz hj">空</strong>对象，选择<strong class="iz hj">选择为层默认状态</strong>。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/28e5d39310110977f649792898dfa8ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Hms37kjMMMDuOFmyfxEuqw.gif"/></div></div></figure><p id="97dd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，箭头指向新的空物体(现在是橙色的)而不是敌人_被摧毁_动画对象(现在是灰色的)。</p><p id="c8c2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了继续事情的流程，我们现在需要将我们的空对象连接到敌人_毁灭_动画对象。否则永远不会播放。</p><p id="0bb8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">右键点击<strong class="iz hj">空</strong>对象，选择<strong class="iz hj">制作过渡</strong>，然后选择<strong class="iz hj">敌人_被摧毁_动画</strong>按钮。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/c44962feb8b550d51a7ad9f55043034f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*npvz-mXExDEPY1Zo1NblkA.gif"/></div></div></figure><p id="238c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在这两个对象之间有了联系。</p><p id="f60f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们玩这个游戏，我们会注意到敌人一进入我们就被消灭了，只是有一点延迟。延迟是由于首先播放的是空的对象。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/d26af2441cbd37a078afe3d79e9411b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*i-l4al9MuaXF_stJJkbSJw.gif"/></div></div></figure><p id="2153" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了控制何时播放动画，我们需要做两件事。</p><ol class=""><li id="44de" class="kq kr hi iz b ja jb jd je jg ks jk kt jo ku js kv kw kx ky bi translated">创建一个<strong class="iz hj">参数</strong>设置为<strong class="iz hj">触发</strong></li><li id="c16a" class="kq kr hi iz b ja kz jd la jg lb jk lc jo ld js kv kw kx ky bi translated">使用代码控制<strong class="iz hj">触发器</strong>何时被激活。</li></ol><p id="d8bf" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在“动画制作”面板中，选择参数。这里，有一个带向下箭头的+按钮。如果你选择向下，我们看到我们可以创建四种类型的参数:<strong class="iz hj">、浮点数、整数、布尔值和触发器。</strong></p><p id="65b6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们需要创建一个<strong class="iz hj">触发器</strong> <strong class="iz hj">参数</strong>来激活动画。</p><p id="af4d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择<strong class="iz hj">参数，从下拉列表中触发</strong>，将其重命名为<strong class="iz hj"> OnEnemyDeath </strong>。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/9371eecb08babe6aa6d63f5404562a3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*m4-XZgFcWIflsHegB9mqVw.gif"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Creating a Trigger parameter</figcaption></figure><p id="da03" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在需要将这个参数添加到空物体和敌人被摧毁的动画物体之间的转换条件中。</p><p id="0e74" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择这两个对象之间的过渡(箭头本身)，注意在检查器窗口中，它有一个<strong class="iz hj">条件</strong>部分。选择+键，并从下拉列表中选择<strong class="iz hj"> OnEnemyDeath </strong>。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es le"><img src="../Images/db9e4a4ce49f151b4ebdb76d1c4485c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oOZlxkPhOxiO2wEOBB5duw.gif"/></div></div></figure><p id="02f7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们需要能够通过代码激活这个触发器。</p><p id="f133" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这段代码将放在<strong class="iz hj">敌人脚本</strong>中，因为是敌人要爆炸成一个大火球。</p><p id="21e0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">打开Enemy.cs脚本并添加一个新的Animator类型的变量。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lf"><img src="../Images/85a249c09ed1f025a7df7f61457d933d.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*H_qmWXsx1weTAeIUKk-4IQ.png"/></div></figure><p id="ee22" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在Start()方法中，我们需要将组件赋给_anim。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lg"><img src="../Images/bcedad50ed668c3642489344266a874d.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*ICmUcltic20n8_f-oy2gWg.png"/></div></figure><p id="6ba6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将在<strong class="iz hj"> OnTriggerEnter2D </strong>方法中触发OnEnemyDeath动画，如果被激光或玩家对象击中，敌人对象将被摧毁。</p><p id="bf08" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就在我们摧毁敌人之前，插入代码来触发动画。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lh"><img src="../Images/427244a39d34a42297babb998196d3da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-xmLqVYq1FAETcA7DBXfSA.png"/></div></div></figure><p id="089d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们运行这个，我们会注意到敌人死亡时动画不会播放。这是因为敌方物体被摧毁的速度太快，没有让动画播放。</p><p id="7ab0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这可以通过<strong class="iz hj">增加摧毁敌方目标</strong>的延迟来弥补。这个延迟放置在<em class="li">销毁(this.gameObject) </em>之后，使用“，”作为分隔符。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lh"><img src="../Images/cb8ea46053f6ec0da94b96a6956398d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YE-LLeIcDLzC5MrDVFN_MQ.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Delaying the Destruction of an object</figcaption></figure><p id="940b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> 2.8f </strong>的值大约是播放爆炸的动画所需要的时间长度。</p><p id="f37a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过现在玩我们的游戏，我们注意到当敌人被击中和爆炸动画之间的延迟。这是因为在爆炸开始播放之前，空对象会一直播放到结束。</p><p id="d45b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要解决这个问题，请选择空对象和敌人已摧毁的动画对象之间的转换箭头。在检查器中，取消选择<strong class="iz hj">已退出时间</strong>，在<strong class="iz hj">设置</strong>中，将<strong class="iz hj">过渡持续时间设置为0 </strong>(零)。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lj"><img src="../Images/e1f5133d2f2d2436b851deef5cd6fce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FWqq1RRwFWXhkdXyTfriXA.gif"/></div></div></figure><p id="77e5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在看起来不错，但是有一个问题。当敌人爆炸时，如果玩家靠近它，他们会受到伤害并失去一条生命。</p><p id="b15c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在需要做的是在敌人被击中时阻止他们。我们可以通过在敌人被击中时将<strong class="iz hj">敌人速度设置为0 </strong>(零)来做到这一点。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lh"><img src="../Images/670602dc1e1906fbad590bccc39a3296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QCJPTBIMaG5cx24W5bATZQ.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Setting Enemy speed to 0 when hit</figcaption></figure><p id="016b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在好多了。敌人被消灭但不影响玩家，动画很惊艳。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lk"><img src="../Images/425480b5729781943b5fbfa4a93844a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/1*CVKRmUYupgdLq2r-iZTB5g.gif"/></div></figure><p id="fe8b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望你喜欢这个简短的教程。下一集见。</p></div></div>    
</body>
</html>