<html>
<head>
<title>Laravel Tutorial : Creating Dynamic Dependent With Select2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel教程:使用Select2创建动态从属对象</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/laravel-tutorial-creating-dynamic-dependent-with-select2-e175ab8ed35a?source=collection_archive---------4-----------------------#2022-06-17">https://medium.com/geekculture/laravel-tutorial-creating-dynamic-dependent-with-select2-e175ab8ed35a?source=collection_archive---------4-----------------------#2022-06-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/130d1acd3ced410641db27cf587d8060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*13JDV5zLhUC9SYTMCEur9Q.png"/></div></div></figure><p id="2636" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，你们都好吗，又和泰曼·恩戈丁一起回来了。</p><p id="5b6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这次我们将使用Select2创建一个动态依赖项，这个程序对于您创建使用多重选择的应用程序非常重要。例如这次我们将进行多级选择。</p><p id="399e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好吧，在我继续之前，让我们继续这个教程。您可以学习其他教程:</p><p id="a0c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/tutorial-laravel-laravel-eloquent-relationships/" rel="noopener ugc nofollow" target="_blank">拉勒维尔教程~拉勒维尔雄辩关系</a></p><p id="8e95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/menggunakan-scope-di-laravel/" rel="noopener ugc nofollow" target="_blank">使用范围在Laravel </a></p><p id="552c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/tutorial-lengkap-menggunakan-soft-delete-di-laravel/" rel="noopener ugc nofollow" target="_blank">使用Laravel中的软删除完成教程</a></p><p id="0436" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/cara-menggunakan-seeder-di-laravel/" rel="noopener ugc nofollow" target="_blank">如何在Laravel使用播种机</a></p><p id="fe47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://temanngoding.com/tutorial-upload-gambar-dengan-laravel-8/" rel="noopener ugc nofollow" target="_blank">教程用Laravel 8上传图片</a></p><p id="00f0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">前提条件:</p><ul class=""><li id="040b" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">已经安装了作曲家</li><li id="5251" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">已安装的终端(CMD、Cmder、Git bash)</li><li id="689d" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">虚拟网络服务器(XAMPP、拉里根等)</li><li id="18bb" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">网络浏览器(Google Chrome、Mozilla Firefox、Opera网络浏览器等)</li><li id="5f33" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">数据库已经安装(MySQL，MariaDB等)</li><li id="4c7f" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">创建一个名为location的新数据库</li></ul><p id="027d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们继续之前，你们可以使用<strong class="is hj"> db:migration </strong>或通过<strong class="is hj"> phpmyadmin </strong>每天创建多个表。</p><ol class=""><li id="08a2" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn kd jv jw jx bi translated">国家表</li></ol><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="2d3c" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE `loc_countries` (<br/>  `id` mediumint(8) UNSIGNED NOT NULL,<br/>  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,<br/>  `created_at` timestamp NULL DEFAULT NULL,<br/>  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()<br/>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;</span><span id="0216" class="kn ko hi kj b fi kt kq l kr ks">INSERT INTO `loc_countries` (`id`, `name``created_at`, `updated_at` VALUES<br/>(102, 'Indonesia','2018-07-20 13:11:03'),</span></pre><p id="846c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.状态表</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="b467" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE `loc_states` (<br/>  `id` mediumint(8) UNSIGNED NOT NULL,<br/>  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,<br/>  `country_id` mediumint(8) UNSIGNED NOT NULL,<br/>  `created_at` timestamp NULL DEFAULT NULL,<br/>  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),<br/>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;</span><span id="9161" class="kn ko hi kj b fi kt kq l kr ks">INSERT INTO `loc_states` (`id`, `name`, `country_id``created_at`, `updated_at`) VALUES<br/>(1805, 'Jakarta', 102, '2019-10-05 10:48:44', '2020-12-21 08:50:22'0'),<br/>(1806, 'Kalimantan', 102, '2019-10-05 10:48:44', '2020-12-21 08:50:22'),</span></pre><p id="3ee0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.城市表</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="0cf2" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE `loc_cities` (<br/>  `id` mediumint(8) UNSIGNED NOT NULL,<br/>  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,<br/>  `state_id` mediumint(8) UNSIGNED NOT NULL,<br/>  `country_id` mediumint(8) UNSIGNED NOT NULL,<br/>  `created_at` timestamp NOT NULL DEFAULT '2013-12-31 18:01:01',<br/>  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),<br/>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;</span><span id="b001" class="kn ko hi kj b fi kt kq l kr ks">INSERT INTO `loc_cities` (`id`, `name`, `state_id`, `country_id`, `created_at`, `updated_at`, `flag`, `wikiDataId`) VALUES<br/>(56722, 'Kota Administrasi Jakarta Barat', 1805, 102,'2019-10-05 11:53:39', '2019-10-05 11:53:39'),<br/>(56723, 'Kota Administrasi Jakarta Pusat', 1805, 102, '2019-10-05 11:53:39', '2019-10-05 11:53:39'),<br/>(56724, 'Kota Administrasi Jakarta Selatan', 1805, 102, '2019-10-05 11:53:39', '2019-10-05 11:53:39'),<br/>(56725, 'Kota Administrasi Jakarta Timur', 1805, 102, '2019-10-05 11:53:39', '2019-10-05 11:53:39'),<br/>(56726, 'Kota Administrasi Jakarta Utara', 1805, 102, '2019-10-05 11:53:39', '2019-10-05 11:53:39'),</span></pre><p id="e6a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.地址表</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="48a9" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE `loc_address` (<br/>  `id` int(10) UNSIGNED NOT NULL,<br/>  `name` text COLLATE utf8_unicode_ci DEFAULT NULL,<br/>  `city_id` int(10) UNSIGNED NOT NULL,<br/>  `state_id` int(10) UNSIGNED NOT NULL,<br/>  `country_id` int(10) UNSIGNED NOT NULL,<br/>  `latitude` varchar(191) COLLATE utf8_unicode_ci DEFAULT NULL,<br/>  `longitude` varchar(191) COLLATE utf8_unicode_ci DEFAULT NULL,<br/>  `created_at` timestamp NULL DEFAULT NULL,<br/>  `updated_at` timestamp NULL DEFAULT NULL<br/>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;</span><span id="966e" class="kn ko hi kj b fi kt kq l kr ks">INSERT INTO `loc_address` (`id`, `name`, `city_id`, `state_id`, `country_id`, `latitude`, `longitude`, `created_at`, `updated_at`) VALUES<br/>(3, 'Jl. Merdeka', 56723, 1805, 102, NULL, NULL, '2022-06-13 00:49:27', '2022-06-13 00:49:27');</span></pre><h1 id="2538" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">Installasi laravel</h1><p id="79e5" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">通过作曲家安装</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="0a93" class="kn ko hi kj b fi kp kq l kr ks">composer create-project laravel/laravel location</span></pre><h1 id="ea6a" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">数据库配置</h1><p id="351e" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">打开。env文件并配置数据库，如下所示</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="e577" class="kn ko hi kj b fi kp kq l kr ks">DB_CONNECTION=mysql<br/>DB_HOST=127.0.0.1<br/>DB_PORT=3306<br/>DB_DATABASE=location<br/>DB_USERNAME=root<br/>DB_PASSWORD=</span></pre><h1 id="4954" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">制作模型</h1><p id="424d" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated"><strong class="is hj">国家型号</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="1803" class="kn ko hi kj b fi kp kq l kr ks">php artisan make:model LocCountry</span></pre></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><pre class="ki kj kk kl aw km bi"><span id="77cd" class="kn ko hi kj b fi md me mf mg mh kq l kr ks">&lt;?php<br/><br/>namespace App;<br/><br/>use Illuminate\Database\Eloquent\Model;<br/><br/><em class="mi">class</em> LocCountry extends Model<br/>{<br/>    //------------------------------------ Attributes ---------------------------<br/><br/>    protected  $guarded = ['id'];<br/>    protected $table = 'loc_countries';<br/><br/>    public <em class="mi">function</em> state()<br/>    {<br/>        return $this-&gt;hasMany('App\LocState');<br/>    }<br/><br/>} /* end of class */</span></pre><p id="47b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">模型状态</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="06c9" class="kn ko hi kj b fi kp kq l kr ks">php artisan make:model LocState</span></pre></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><pre class="ki kj kk kl aw km bi"><span id="38bb" class="kn ko hi kj b fi md me mf mg mh kq l kr ks">&lt;?php<br/><br/>namespace App;<br/><br/>use Illuminate\Database\Eloquent\Model;<br/><br/><em class="mi">class</em> LocState extends Model {<br/><br/>    protected  $guarded = ['id'];<br/>    protected $table = 'loc_states';<br/><br/>    public <em class="mi">function</em> city()<br/>    {<br/>        return $this-&gt;hasMany('App\LocCity');<br/>    }<br/><br/>    public <em class="mi">function</em> country()<br/>    {<br/>        return $this-&gt;belongsTo('App\LocCountry');<br/>    }<br/>}</span></pre><p id="a7bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">模范城市</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="1e1d" class="kn ko hi kj b fi kp kq l kr ks">php artisan make:model LocCity</span></pre></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><pre class="ki kj kk kl aw km bi"><span id="6ec8" class="kn ko hi kj b fi md me mf mg mh kq l kr ks">&lt;?php<br/><br/>namespace App;<br/><br/>use Illuminate\Database\Eloquent\Model;<br/><br/><em class="mi">class</em> LocCity extends Model<br/>{<br/><br/>    protected  $guarded = ['id'];<br/>    protected $table = 'loc_cities';<br/><br/>    public <em class="mi">function</em> state()<br/>    {<br/>        return $this-&gt;belongsTo('App\LocState','state_id');<br/>    }<br/>}</span></pre><p id="53cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">车型地址</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="b798" class="kn ko hi kj b fi kp kq l kr ks">php artisan make:model LocAddress</span></pre></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><pre class="ki kj kk kl aw km bi"><span id="a898" class="kn ko hi kj b fi md me mf mg mh kq l kr ks">&lt;?php<br/><br/>namespace App;<br/><br/>use App\Observers\LocationObserver;<br/>use Illuminate\Database\Eloquent\Model;<br/><br/><em class="mi">class</em> LocAddress extends Model<br/>{<br/>    protected $table = 'loc_address';<br/><br/>    protected static <em class="mi">function</em> boot() {<br/>        parent::boot();<br/>        static::observe(LocationObserver::<em class="mi">class</em>);<br/>    }<br/><br/>    public <em class="mi">function</em> city()<br/>    {<br/>        return $this-&gt;belongsTo('App\LocCity','city_id');<br/>    }<br/><br/>    public <em class="mi">function</em> state()<br/>    {<br/>        return $this-&gt;belongsTo('App\LocState','state_id');<br/>    }<br/><br/>    public <em class="mi">function</em> country()<br/>    {<br/>        return $this-&gt;belongsTo('App\LocCountry','country_id');<br/>    }<br/>}</span></pre><h1 id="5b66" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak">创建布局</strong></h1><p id="8cd1" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">在resources\views\文件夹中，创建一个名为index.blade.php的新文件，然后输入以下代码:</p><p id="208f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">index.blade.php</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="a6b3" class="kn ko hi kj b fi kp kq l kr ks">@extends('layouts.master')<br/><br/>@section('content')<br/>    &lt;div <em class="mi">class</em>="row"&gt;<br/>        &lt;div <em class="mi">class</em>="col-md-12"&gt;<br/>            &lt;div <em class="mi">class</em>="card"&gt;<br/>                &lt;div <em class="mi">class</em>="card-body"&gt;<br/>                    @permission('create_location')<br/>                    &lt;div <em class="mi">class</em>="d-flex justify-content-center justify-content-md-end mb-3"&gt;<br/>                        &lt;a href="{{ route('admin.locations.create') }}" <em class="mi">class</em>="btn btn-rounded btn-primary mb-1"&gt;&lt;i <em class="mi">class</em>="fa fa-plus"&gt;&lt;/i&gt; @lang('app.createNew')&lt;/a&gt;<br/>                    &lt;/div&gt;<br/>                    @endpermission<br/>                    &lt;div <em class="mi">class</em>="table-responsive"&gt;<br/>                        &lt;table id="myTable" <em class="mi">class</em>="table w-100"&gt;<br/>                            &lt;thead&gt;<br/>                                &lt;tr&gt;<br/>                                    &lt;th&gt;#&lt;/th&gt;<br/>                                    &lt;th&gt;@lang('app.city')&lt;/th&gt;<br/>                                    &lt;th&gt;@lang('app.address')&lt;/th&gt;<br/>                                    &lt;th&gt;@lang('app.action')&lt;/th&gt;<br/>                                &lt;/tr&gt;<br/>                            &lt;/thead&gt;<br/>                        &lt;/table&gt;<br/>                    &lt;/div&gt;<br/>                &lt;/div&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>@endsection<br/><br/>@push('footer-js')<br/>    &lt;script&gt;<br/>        $(document).ready(<em class="mi">function</em>() {<br/>            var table = $('#myTable').dataTable({<br/>                responsive: true,<br/>                // processing: true,<br/>                serverSide: true,<br/><br/>                ajax: '{!! route('admin.locations.index') !!}',<br/>                language: languageOptions(),<br/>                "fnDrawCallback": <em class="mi">function</em>( oSettings ) {<br/>                    $("body").tooltip({<br/>                        selector: '[data-toggle="tooltip"]'<br/>                    });<br/>                },<br/>                columns: [<br/>                    { data: 'DT_RowIndex'},<br/>                    // { data: 'image', name: 'image' },<br/>                    { data: 'city.name', name: 'city.name' },<br/>                    { data: 'name', name: 'name' },<br/>                    // { data: 'status', name: 'status' },<br/>                    { data: 'action', name: 'action', width: '20%' }<br/>                ]<br/>            });<br/>            new $.fn.dataTable.FixedHeader( table );<br/><br/>            $('body').on('click', '.delete-row', <em class="mi">function</em>(){<br/>                var id = $(this).data('row-id');<br/>                console.log(id);<br/>                swal({<br/>                    icon: "warning",<br/>                    buttons: ["@lang('app.cancel')", "@lang('app.ok')"],<br/>                    dangerMode: true,<br/>                    title: "@lang('errors.areYouSure')",<br/>                    text: "@lang('errors.deleteWarning')",<br/>                })<br/>                    .then((willDelete) =&gt; {<br/>                        if (willDelete) {<br/>                            var url = "{{ route('admin.locations.destroy',':id') }}";<br/>                            url = url.replace(':id', id);<br/>                            var token = "{{ csrf_token() }}";<br/><br/>                            $.easyAjax({<br/>                                type: 'POST',<br/>                                url: url,<br/>                                data: {'_token': token, 'id':id,'_method': 'DELETE'},<br/>                                success: <em class="mi">function</em> (response) {<br/>                                    if (response.status == "success") {<br/>                                        $.unblockUI();<br/>//                                    swal("Deleted!", response.message, "success");<br/>                                        table._fnDraw();<br/>                                    }<br/>                                }<br/>                            });<br/>                        }<br/>                    });<br/>            });<br/>        } );<br/>    &lt;/script&gt;<br/>@endpush</span></pre><p id="d3a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">create.blade.php</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="bf14" class="kn ko hi kj b fi kp kq l kr ks">@extends('layouts.master')<br/><br/>@section('content')<br/>    &lt;div <em class="mi">class</em>="row"&gt;<br/>        &lt;div <em class="mi">class</em>="col-md-12"&gt;<br/>            &lt;div <em class="mi">class</em>="card card-dark"&gt;<br/>                &lt;div <em class="mi">class</em>="card-header"&gt;<br/>                    &lt;h3 <em class="mi">class</em>="card-title"&gt;@lang('app.add') @lang('app.location')&lt;/h3&gt;<br/>                &lt;/div&gt;<br/>                &lt;!-- /.card-header --&gt;<br/>                &lt;div <em class="mi">class</em>="card-body"&gt;<br/>                    &lt;form role="form" id="createForm"  <em class="mi">class</em>="ajax-form" method="POST" onkeydown="return event.key != 'Enter';"&gt;<br/>                        @csrf<br/><br/>                        &lt;input type="hidden" name="redirect_url" value="{{ url()-&gt;previous() }}"&gt;<br/><br/>                        &lt;div <em class="mi">class</em>="row"&gt;<br/>                              &lt;div <em class="mi">class</em>="col-md-12 mx-auto"&gt;<br/>                                &lt;div <em class="mi">class</em>="form-group row"&gt;<br/>                                    &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                       &lt;label&gt;@lang('app.country') @lang('app.name')&lt;/label&gt;<br/>                                       &lt;select id="select_country" name="country" <em class="mi">class</em>="form-control"&gt;<br/>                                       &lt;/select&gt;<br/>                                    &lt;/div&gt;<br/>                                <br/>                                 &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                    &lt;label&gt;@lang('app.state') @lang('app.name')&lt;/label&gt;<br/>                                    &lt;select id="select_state" name="state" <em class="mi">class</em>="form-control"&gt;<br/>                                    &lt;/select&gt;<br/>                                 &lt;/div&gt;<br/>                              &lt;/div&gt;<br/><br/>                              &lt;div <em class="mi">class</em>="form-group row"&gt;<br/>                                 &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                 <br/>                                    &lt;label&gt;@lang('app.city') @lang('app.name')&lt;/label&gt;<br/>                                    &lt;select id="select_city" name="city" <em class="mi">class</em>="form-control"&gt;<br/>                                    &lt;/select&gt;<br/><br/>                                 &lt;/div&gt;<br/><br/>                                 &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                <br/>                                  &lt;!-- text input --&gt;<br/>                                <br/>                                    &lt;label&gt;@lang('app.address') @lang('app.name')&lt;/label&gt;<br/>                                    &lt;input type="text" <em class="mi">class</em>="form-control" name="name" autocomplete="off"&gt;<br/>                                 &lt;/div&gt;<br/>                              &lt;/div&gt;<br/>                               <br/>                                {{--&lt;div <em class="mi">class</em>="form-group"&gt;--}}<br/>                                    {{--&lt;label for="exampleInputPassword1"&gt;@lang('app.image')&lt;/label&gt;--}}<br/>                                    {{--&lt;div <em class="mi">class</em>="card"&gt;--}}<br/>                                        {{--&lt;div <em class="mi">class</em>="card-body"&gt;--}}<br/>                                            {{--&lt;input type="file" id="input-file-now" name="image" accept=".png,.jpg,.jpeg" <em class="mi">class</em>="dropify"--}}<br/>                                            {{--/&gt;--}}<br/>                                        {{--&lt;/div&gt;--}}<br/>                                    {{--&lt;/div&gt;--}}<br/>                                {{--&lt;/div&gt;--}}<br/><br/>                                &lt;div <em class="mi">class</em>="form-group"&gt;<br/>                                    &lt;button type="button" id="save-form" <em class="mi">class</em>="btn btn-success btn-light-round"&gt;&lt;i<br/>                                                <em class="mi">class</em>="fa fa-check"&gt;&lt;/i&gt; @lang('app.save')&lt;/button&gt;<br/>                                &lt;/div&gt;<br/>                        &lt;/div&gt;<br/><br/>                    &lt;/form&gt;<br/>                &lt;/div&gt;<br/>                &lt;!-- /.card-body --&gt;<br/>            &lt;/div&gt;<br/>            &lt;!-- /.card --&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>@endsection<br/><br/>@push('footer-js')<br/><br/>    &lt;script&gt;<br/>        {{--$('.dropify').dropify({--}}<br/>            {{--messages: {--}}<br/>                {{--default: '@lang("app.dragDrop")',--}}<br/>                {{--replace: '@lang("app.dragDropReplace")',--}}<br/>                {{--remove: '@lang("app.remove")',--}}<br/>                {{--error: '@lang('app.largeFile')'--}}<br/>            {{--}--}}<br/>        {{--});--}}<br/><br/>        $('#save-form').click(<em class="mi">function</em> () {<br/><br/>            $.easyAjax({<br/>                url: '{{route('admin.address.store')}}',<br/>                container: '#createForm',<br/>                type: "POST",<br/>                redirect: true,<br/>                file:true,<br/>                data: $('#createForm').serialize()<br/>            })<br/>        });<br/><br/>    &lt;/script&gt;<br/>      &lt;script&gt;<br/>        $(document).ready(<em class="mi">function</em>() {<br/><br/>         var $element = $('#select_country').select2(); // the select element you are working with<br/><br/>         var $request = $.ajax({<br/>            url: '{{route('admin.countries.select')}}' // wherever your data is actually coming from<br/>         });<br/><br/>         $request.then(<em class="mi">function</em> (data) {<br/>            // This assumes that the data comes back as an array of data objects<br/>            // The idea is that you are using the same callback as the old `initSelection`<br/><br/>            for (var d = 0; d &lt; data.length; d++) {<br/>               var item = data[d];<br/><br/>               // Create the DOM option that is pre-selected by default<br/>               var option = new Option(item.name, item.id, true, true);<br/><br/>               // Append it to the select<br/>               $element.append(option);<br/>            }<br/><br/>            // Update the selected options that are displayed<br/>            $element.trigger('change');<br/>         });<br/><br/>           $('#select_country').select2({<br/>              placeholder: 'Search Country',<br/>              allowClear: true,<br/>              width: '100%',<br/>              ajax: {<br/>                 url:  '{{route('admin.countries.select')}}',<br/>                 dataType: 'json',<br/>                 delay: 250,<br/>                 processResults: <em class="mi">function</em>(data) {<br/>                    return {<br/>                       results: $.map(data, <em class="mi">function</em>(item) {<br/>                          return {<br/>                             text: item.name,<br/>                             id: item.id<br/>                          }<br/>                       })<br/>                    };<br/>                 }<br/>              }<br/>           }).on('select2:opening', <em class="mi">function</em>(e) {<br/>               $(this).data('select2').$dropdown.find(':input.select2-search__field').attr('placeholder', 'Search Country')<br/>           });<br/><br/>         $('#select_country').change(<em class="mi">function</em>() {<br/>            //clear select<br/>            $('#select_state').empty();<br/>            $("#select_city").empty();<br/>            //set id<br/>            let countryID = $(this).val();<br/>            if (countryID) {<br/>               $('#select_state').select2({<br/>                allowClear: true,<br/>                width: '100%',<br/>                  ajax: {<br/>                     url: '{{route('admin.states.select')}}?countryID=' + countryID,<br/>                     dataType: 'json',<br/>                     delay: 250,<br/>                     processResults: <em class="mi">function</em>(data) {<br/>                        return {<br/>                           results: $.map(data, <em class="mi">function</em>(item) {<br/>                              return {<br/>                                 text: item.name,<br/>                                 id: item.id<br/>                              }<br/>                           })<br/>                        };<br/>                     }<br/>                  }<br/>               });<br/>            } else {<br/>               $('#select_state').empty();<br/>               $("#select_city").empty();<br/>            }<br/>         });<br/><br/>        $('#select_state').change(<em class="mi">function</em>() {<br/>            //clear select<br/>            $("#select_city").empty();<br/>            //set id<br/>            let stateID = $(this).val();<br/>            if (stateID) {<br/>               $('#select_city').select2({<br/>                  allowClear: true,<br/>                  width: '100%',<br/>                  ajax: {<br/>                     url: '{{ route('admin.cities.select') }}?stateID=' + stateID,<br/>                     dataType: 'json',<br/>                     delay: 250,<br/>                     processResults: <em class="mi">function</em>(data) {<br/><br/>                        console.log(data);<br/>                        return {<br/>                           results: $.map(data, <em class="mi">function</em>(item) {<br/>                              return {<br/>                                 text: item.name,<br/>                                 id: item.id<br/>                              }<br/>                           })<br/>                        };<br/>                     }<br/>                  }<br/>               });<br/>            }<br/>         });<br/><br/>          // EVENT ON CLEAR<br/>          $('#select_country').on('select2:clear', <em class="mi">function</em>(e) {<br/>            $("#select_state").select2();<br/>            $("#select_city").select2();<br/>         });<br/><br/>         $('#select_state').on('select2:clear', <em class="mi">function</em>(e) {<br/>            $("#select_city").select2();<br/>         });<br/>        });<br/>   &lt;/script&gt;<br/><br/>@endpush</span></pre><p id="3246" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">edit.blade.php</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="5a15" class="kn ko hi kj b fi kp kq l kr ks">@extends('layouts.master')<br/><br/>@section('content')<br/>    &lt;div <em class="mi">class</em>="row"&gt;<br/>        &lt;div <em class="mi">class</em>="col-md-12"&gt;<br/>            &lt;div <em class="mi">class</em>="card card-dark"&gt;<br/>                &lt;div <em class="mi">class</em>="card-header"&gt;<br/>                    &lt;h3 <em class="mi">class</em>="card-title"&gt;@lang('app.edit') @lang('app.location')&lt;/h3&gt;<br/>                &lt;/div&gt;<br/>                &lt;!-- /.card-header --&gt;<br/>                &lt;div <em class="mi">class</em>="card-body"&gt;<br/>                    &lt;form role="form" id="createForm"  <em class="mi">class</em>="ajax-form" method="POST" onkeydown="return event.key != 'Enter';"&gt;<br/>                        @csrf<br/>                        @method('POST')<br/>                        &lt;input type="hidden" name="id" value="{{ $location-&gt;id }}"&gt;<br/>                        &lt;div <em class="mi">class</em>="row"&gt;<br/>                           &lt;div <em class="mi">class</em>="col-md-12 mx-auto"&gt;<br/>                                &lt;div <em class="mi">class</em>="form-group row"&gt;<br/>                                    &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                       &lt;label&gt;@lang('app.country') @lang('app.name')&lt;/label&gt;<br/>                                       &lt;select id="select_country" name="country" <em class="mi">class</em>="form-control"&gt;<br/>                                          &lt;option value="{{ $location-&gt;country-&gt;id}}" selected&gt;{{ $location-&gt;country-&gt;name }}&lt;/option&gt;<br/>                                       &lt;/select&gt;<br/>                                    &lt;/div&gt;<br/>                                    &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                       &lt;label&gt;@lang('app.state') @lang('app.name')&lt;/label&gt;<br/>                                       &lt;select id="select_state" name="state" <em class="mi">class</em>="form-control"&gt;<br/>                                          &lt;option value="{{ $location-&gt;state-&gt;id}}" selected&gt;{{ $location-&gt;state-&gt;name }}&lt;/option&gt;<br/>                                       &lt;/select&gt;<br/>                                    &lt;/div&gt;<br/>                                &lt;/div&gt;<br/>                                &lt;div <em class="mi">class</em>="form-group row"&gt;<br/>                                    &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                       &lt;label&gt;@lang('app.city') @lang('app.name')&lt;/label&gt;<br/>                                       &lt;select id="select_city" name="city" <em class="mi">class</em>="form-control"&gt;<br/>                                          &lt;option value="{{ $location-&gt;city-&gt;id}}" selected&gt;{{ $location-&gt;city-&gt;name }}&lt;/option&gt;<br/>                                       &lt;/select&gt;<br/>                                    &lt;/div&gt;<br/>                                    &lt;!-- text input --&gt;<br/>                                    &lt;div <em class="mi">class</em>="col-md-6"&gt;<br/>                                       &lt;label&gt;@lang('app.location') @lang('app.name')&lt;/label&gt;<br/>                                       &lt;input type="text" <em class="mi">class</em>="form-control" name="name" value="{{ $location-&gt;name }}" autocomplete="off"&gt;<br/>                                    &lt;/div&gt;<br/>                                 &lt;/div&gt;<br/><br/>                                &lt;div <em class="mi">class</em>="form-group"&gt;<br/>                                    &lt;button type="button" id="save-form" <em class="mi">class</em>="btn btn-success btn-light-round"&gt;&lt;i<br/>                                                <em class="mi">class</em>="fa fa-check"&gt;&lt;/i&gt; @lang('app.save')&lt;/button&gt;<br/>                                &lt;/div&gt;<br/><br/>                            &lt;/div&gt;<br/>                        &lt;/div&gt;<br/><br/>                    &lt;/form&gt;<br/>                &lt;/div&gt;<br/>                &lt;!-- /.card-body --&gt;<br/>            &lt;/div&gt;<br/>            &lt;!-- /.card --&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>@endsection<br/><br/>@push('footer-js')<br/><br/>    &lt;script&gt;<br/>        {{--$('.dropify').dropify({--}}<br/>            {{--messages: {--}}<br/>                {{--default: '@lang("app.dragDrop")',--}}<br/>                {{--replace: '@lang("app.dragDropReplace")',--}}<br/>                {{--remove: '@lang("app.remove")',--}}<br/>                {{--error: '@lang('app.largeFile')'--}}<br/>            {{--}--}}<br/>        {{--});--}}<br/><br/>        $('#save-form').click(<em class="mi">function</em> () {<br/>            $.easyAjax({<br/>                url: '{{route('admin.address.update', $location-&gt;id)}}',<br/>                container: '#createForm',<br/>                type: "POST",<br/>                redirect: true,<br/>                file:true,<br/>                data: $('#createForm').serialize()<br/>            })<br/>        });<br/>    &lt;/script&gt;<br/>   &lt;script&gt;<br/>    $(document).ready(<em class="mi">function</em>() {<br/>       // set var id<br/>       let countryID = $('#select_country').val();<br/>       let stateID = $('#select_state').val();<br/>       let cityID = $('#select_city').val();<br/><br/>       //  select province:start<br/>       $('#select_country').select2({<br/>          allowClear: true,<br/>          width: '100%',<br/>          ajax: {<br/>            url:  '{{route('admin.countries.select')}}',<br/>             dataType: 'json',<br/>             delay: 250,<br/>             processResults: <em class="mi">function</em>(data) {<br/>                return {<br/>                   results: $.map(data, <em class="mi">function</em>(item) {<br/>                      return {<br/>                         text: item.name,<br/>                         id: item.id<br/>                      }<br/>                   })<br/>                };<br/>             }<br/>          }<br/>       });<br/><br/>       $('#select_state').select2({<br/>            allowClear: true,<br/>            width: '100%',<br/>            ajax: {<br/>                url: '{{route('admin.states.select')}}?countryID=' + countryID,<br/>                     dataType: 'json',<br/>                     delay: 250,<br/>                     processResults: <em class="mi">function</em>(data) {<br/>                        return {<br/>                           results: $.map(data, <em class="mi">function</em>(item) {<br/>                              return {<br/>                                 text: item.name,<br/>                                 id: item.id<br/>                              }<br/>                           })<br/>                        };<br/>                     }<br/>            }<br/>         });<br/><br/>          $('#select_city').select2({<br/>            allowClear: true,<br/>            width: '100%',<br/>            ajax: {<br/>                     url: '{{ route('admin.cities.select') }}?stateID=' + stateID,<br/>                     dataType: 'json',<br/>                     delay: 250,<br/>                     processResults: <em class="mi">function</em>(data) {<br/><br/>                        console.log(data);<br/>                        return {<br/>                           results: $.map(data, <em class="mi">function</em>(item) {<br/>                              return {<br/>                                 text: item.name,<br/>                                 id: item.id<br/>                              }<br/>                           })<br/>                        };<br/>                     }<br/>                  }<br/>         });<br/><br/>       $('#select_country').select2({<br/>              allowClear: true,<br/>              width: '100%',<br/>              ajax: {<br/>                 url:  '{{route('admin.countries.select')}}',<br/>                 dataType: 'json',<br/>                 delay: 250,<br/>                 processResults: <em class="mi">function</em>(data) {<br/>                    return {<br/>                       results: $.map(data, <em class="mi">function</em>(item) {<br/>                          return {<br/>                             text: item.name,<br/>                             id: item.id<br/>                          }<br/>                       })<br/>                    };<br/>                 }<br/>              }<br/>           });<br/><br/>         $('#select_country').change(<em class="mi">function</em>() {<br/>            //clear select<br/>            $('#select_state').empty();<br/>            $("#select_city").empty();<br/>            //set id<br/>            let countryID = $(this).val();<br/>            if (countryID) {<br/>               $('#select_state').select2({<br/>                  allowClear: true,<br/>                  width: '100%',<br/>                  ajax: {<br/>                     url: '{{route('admin.states.select')}}?countryID=' + countryID,<br/>                     dataType: 'json',<br/>                     delay: 250,<br/>                     processResults: <em class="mi">function</em>(data) {<br/>                        return {<br/>                           results: $.map(data, <em class="mi">function</em>(item) {<br/>                              return {<br/>                                 text: item.name,<br/>                                 id: item.id<br/>                              }<br/>                           })<br/>                        };<br/>                     }<br/>                  }<br/>               });<br/>            } else {<br/>               $('#select_state').empty();<br/>               $("#select_city").empty();<br/>            }<br/>         });<br/><br/>        $('#select_state').change(<em class="mi">function</em>() {<br/>            //clear select<br/>            $("#select_city").empty();<br/>            //set id<br/>            let stateID = $(this).val();<br/>            if (stateID) {<br/>               $('#select_city').select2({<br/>                  allowClear: true,<br/>                   width: '100%',<br/>                  ajax: {<br/>                     url: '{{ route('admin.cities.select') }}?stateID=' + stateID,<br/>                     dataType: 'json',<br/>                     delay: 250,<br/>                     processResults: <em class="mi">function</em>(data) {<br/><br/>                        console.log(data);<br/>                        return {<br/>                           results: $.map(data, <em class="mi">function</em>(item) {<br/>                              return {<br/>                                 text: item.name,<br/>                                 id: item.id<br/>                              }<br/>                           })<br/>                        };<br/>                     }<br/>                  }<br/>               });<br/>            }<br/>         });<br/><br/>          // EVENT ON CLEAR<br/>          $('#select_country').on('select2:clear', <em class="mi">function</em>(e) {<br/>            $("#select_state").select2();<br/>            $("#select_city").select2();<br/>         });<br/><br/>         $('#select_state').on('select2:clear', <em class="mi">function</em>(e) {<br/>            $("#select_city").select2();<br/>         });<br/>    });<br/>   &lt;/script&gt;<br/>@endpush</span></pre><h1 id="5d8d" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak">创建控制器</strong></h1><p id="e234" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">LocationController.php</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="7e2e" class="kn ko hi kj b fi kp kq l kr ks">&lt;?php<br/><br/>namespace App\Http\Controllers\Admin;<br/><br/>use App\Helper\Reply;<br/>use App\Http\Controllers\Controller;<br/>use App\Http\Requests\Location\StoreLocation;<br/>use App\Location;<br/>use App\LocCity;<br/>use App\LocState;<br/>use App\LocAddress;<br/>use App\LocCountry;<br/>use Illuminate\Http\Request;<br/><br/><em class="mi">class</em> LocationController extends Controller<br/>{<br/><br/><br/>    public <em class="mi">function</em> __construct()<br/>    {<br/>        parent::__construct();<br/>        view()-&gt;share('pageTitle', __('menu.locations'));<br/>    }<br/><br/>    /**<br/>     * Display a listing of the resource.<br/>     *<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> index()<br/>    {<br/>        abort_if(!$this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('read_location'), 403);<br/>        if(request()-&gt;ajax()){<br/>            $locations = LocAddress::with('city')-&gt;get();<br/>            return datatables()-&gt;of($locations)<br/>                -&gt;addColumn('action', <em class="mi">function</em> ($row) {<br/>                    $action = '';<br/><br/>                    if ($this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('update_location')) {<br/>                        $action.= '&lt;a href="' . route('admin.locations.edit', [$row-&gt;id]) . '" class="btn btn-primary btn-circle"<br/>                          data-toggle="tooltip" data-original-title="'.__('app.edit').'"&gt;&lt;i class="fa fa-pencil" aria-hidden="true"&gt;&lt;/i&gt;&lt;/a&gt;';<br/>                    }<br/><br/>                    if ($this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('delete_location')) {<br/>                        $action.= ' &lt;a href="javascript:;" class="btn btn-danger btn-circle delete-row"<br/>                        data-toggle="tooltip" data-row-id="' . $row-&gt;id . '" data-original-title="'.__('app.delete').'"&gt;&lt;i class="fa fa-times" aria-hidden="true"&gt;&lt;/i&gt;&lt;/a&gt;';<br/>                    }<br/>                    return $action;<br/>                })<br/>                -&gt;editColumn('name', <em class="mi">function</em> ($row) {<br/>                    return ucfirst($row-&gt;name);<br/>                })<br/>                -&gt;addIndexColumn()<br/>                -&gt;rawColumns(['action'])<br/>                -&gt;toJson();<br/>        }<br/>        return view('admin.location.index');<br/>    }<br/><br/>    /**<br/>     * Show the form for creating a new resource.<br/>     *<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> create()<br/>    {<br/>        abort_if(!$this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('create_location'), 403);<br/><br/>        return view('admin.location.create');<br/>    }<br/><br/>    <br/>        /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> selectCountry(Request $request)<br/>    {<br/>        $countries = [];<br/><br/>        if ($request-&gt;has('q')) {<br/>            $search = $request-&gt;q;<br/>            $countries = LocCountry::select("id", "name")<br/>                -&gt;Where('name', 'LIKE', "%$search%")<br/>                -&gt;get();<br/>        } else {<br/>            $countries = LocCountry::select('id', 'name')-&gt;where('name', 'Indonesia')-&gt;get();<br/>        }<br/>        return response()-&gt;json($countries);<br/>    }<br/><br/>        /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> selectState(Request $request)<br/>    {<br/>        $regencies = [];<br/>        $countryID = $request-&gt;countryID;<br/>        if ($request-&gt;has('q')) {<br/>            $search = $request-&gt;q;<br/>            $regencies = LocState::select("id", "name")<br/>                -&gt;where('country_id', $countryID)<br/>                -&gt;Where('name', 'LIKE', "%$search%")<br/>                -&gt;get();<br/>        } else {<br/>            $regencies = LocState::where('country_id', $countryID)-&gt;limit(10)-&gt;get();<br/>        }<br/>        return response()-&gt;json($regencies);<br/>    }<br/><br/>        /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> selectCity(Request $request)<br/>    {<br/>        $city = [];<br/>        $stateID = $request-&gt;stateID;<br/>        if ($request-&gt;has('q')) {<br/>            $search = $request-&gt;q;<br/>            $city = LocCity::select("id", "name")<br/>                -&gt;where('state_id', $stateID)<br/>                -&gt;Where('name', 'LIKE', "%$search%")<br/>                -&gt;get();<br/>        } else {<br/>            $city = LocCity::where('state_id', $stateID)-&gt;limit(10)-&gt;get();<br/>        }<br/>        return response()-&gt;json($city);<br/>    }<br/><br/>          /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> selectAddress(Request $request)<br/>    {<br/>        $address = [];<br/><br/>        if ($request-&gt;has('q')) {<br/>            $search = $request-&gt;q;<br/>            $address = LocAddress::with('city')<br/>                -&gt;Where('name', 'LIKE', "%$search%")<br/>                -&gt;get();<br/>        } else {<br/>            $address = LocAddress::with('city')-&gt;limit(10)-&gt;get();<br/>        }<br/>        return response()-&gt;json($address);<br/>    }<br/><br/><br/>           /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> storeAddress(Request $request)<br/>    {<br/>        abort_if(!$this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('create_location'), 403);<br/><br/>        $location = new LocAddress();<br/>        $location-&gt;city_id = $request-&gt;city;<br/>        $location-&gt;state_id = $request-&gt;state;<br/>        $location-&gt;country_id = $request-&gt;country;<br/>        $location-&gt;name = $request-&gt;name;<br/><br/>        $location-&gt;save();<br/><br/>        return Reply::redirect($request-&gt;redirect_url, __('messages.createdSuccessfully'));<br/>    }<br/><br/>      /**<br/>     * Update the specified resource in storage.<br/>     *<br/>     * @param  \Illuminate\Http\Request  $request<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> updateAddress(Request $request)<br/>    {<br/>        abort_if(!$this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('update_location'), 403);<br/><br/>        $location = LocAddress::find($request-&gt;id);<br/>        $location-&gt;city_id = $request-&gt;city;<br/>        $location-&gt;state_id = $request-&gt;state;<br/>        $location-&gt;country_id = $request-&gt;country;<br/>        $location-&gt;name = $request-&gt;name;<br/><br/>        $location-&gt;save();<br/><br/>        return Reply::redirect(route('admin.locations.index'), __('messages.updatedSuccessfully'));<br/>    }<br/><br/>    /**<br/>     * Remove the specified resource from storage.<br/>     *<br/>     * @param  \App\Location  $location<br/>     * @return \Illuminate\Http\Response<br/>     */<br/>    public <em class="mi">function</em> destroyAddress(Request $request)<br/>    {<br/>        abort_if(!$this-&gt;user-&gt;roles()-&gt;withoutGlobalScopes()-&gt;first()-&gt;hasPermission('delete_location'), 403);<br/><br/>        LocAddress::destroy($request-&gt;id);<br/><br/>        return Reply::success(__('messages.recordDeleted'));<br/>    }<br/><br/><br/>}</span></pre><h1 id="b38e" class="ku ko hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated"><strong class="ak">路线配置</strong></h1><p id="2f3b" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">{projectName}\routes\web.php</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="642d" class="kn ko hi kj b fi kp kq l kr ks">&lt;?php<br/><br/>/*<br/>|--------------------------------------------------------------------------<br/>| Web Routes<br/>|--------------------------------------------------------------------------<br/>|<br/>| Here is where you can register web routes for your application. These<br/>| routes are loaded by the RouteServiceProvider within a group which<br/>| contains the "web" middleware group. Now create something great!<br/>|<br/>*/<br/><br/>Auth::routes();<br/><br/><br/>        Route::resources(<br/>            [<br/>                'locations' =&gt; 'LocationController',<br/>            ]<br/>        );<br/>        Route::get('countries', 'LocationController@selectCountry')-&gt;name('countries.select');<br/>        Route::get('states', 'LocationController@selectState')-&gt;name('states.select');<br/>        Route::get('cities', 'LocationController@selectCity')-&gt;name('cities.select');<br/>        Route::get('adress', 'LocationController@selectAddress')-&gt;name('address.select');<br/>        Route::post('storeAddress', 'LocationController@storeAddress')-&gt;name('address.store');<br/>        Route::post('updateAddress', 'LocationController@updateAddress')-&gt;name('address.update');<br/>        Route::post('deleteAddress', 'LocationController@destroyAddress')-&gt;name('address.destroy');</span></pre><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/1e5107a873b8dfffad75a135b9c88919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V2uI1E8rAuj8ktnD.png"/></div></div></figure><p id="8f3a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是我这次做的教程，希望对大家有用。</p><p id="168e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">谢谢。</strong></p></div></div>    
</body>
</html>