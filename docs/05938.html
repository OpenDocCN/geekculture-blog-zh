<html>
<head>
<title>Daily Progress — Implementing Sword Arc FX.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每日进度-实现剑弧特效。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/daily-progress-implementing-sword-arc-fx-f47d8b1398a2?source=collection_archive---------65-----------------------#2021-08-02">https://medium.com/geekculture/daily-progress-implementing-sword-arc-fx-f47d8b1398a2?source=collection_archive---------65-----------------------#2021-08-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="61e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们想给我们的挥剑增加一点天赋，我们得到了一个非常酷的弧形特效，叫做剑_三_粒子。我们先把它切成512×512的方块。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/d51059a5b7034300580865f27d067c21.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/1*ROZxm34FoSG7YyOnSrznXQ.gif"/></div></figure><p id="a1cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先将第一帧移动到玩家对象中，并将其重命名为Sword_Arc</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/858eebfa590452961b49ccff1bb2eb61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*29mrRwYu2C6LazZZAgqIrg.gif"/></div></figure><p id="efdf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记得设置精灵层顺序为50，和播放器一样。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/521af81911ff0b117efeef0c771c8f42.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*rr-bWc192J8v0ElH_oxgyw.png"/></div></figure><p id="0328" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像以前一样，创建一个新的动画，我们将它保存在Sprite/Effects/Animation下，命名为Sword_Arc_anim。拖动所有帧，设置样本为30，并点击播放。Unity需要几秒钟来整理东西，但是很快我们就有了一个好看的动画弧线！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/189253b523b31bfcebee940631544fae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*3u4HNnchNx-RO2KlpbVkRw.gif"/></div></figure><p id="94fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了让它看起来真的很酷，我们可以把它倾斜一个弧度，所以把旋转角度改为(66，48，-80)。也可以调整到你认为合适的位置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/358ac075a619bab99933309d119a1227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*apgNR-_QsCvMAdmFMYw6Ng.gif"/></div></figure><p id="f25b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它移动得有点太快了，让我们从第2帧开始移动所有帧，并将它们移动到大约5秒。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/2e59346e7feee3418f54da0c57e58472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*l0S2RHol2RcPOQCFLknjNA.gif"/></div></figure><p id="2903" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧！我们有一个很棒的秋千！现在让我们在编码之前在动画制作中设置它，首先让我们关闭循环时间，因为我们只希望这个动画播放一次。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/9bda52c9d964af6fc07ec221de8b82f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*-vYEe1HQjm33x_KGcUC2zA.gif"/></div></figure><p id="692a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将创建一个空状态，这将是我们的空闲状态，我们将转换到arc并返回。去剑弧将没有退出时间和0过渡，但剑弧到闲置将有一个退出时间和大约0.35过渡时间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/663e98cc365e4135494164426a3754f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*ID4HCbD5PljBJKac7XnOuA.gif"/></div></figure><p id="0da9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们扣动扳机。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/79e465f4c8fc42b91208e09e9fb79092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*IHZPKkXOaL6-sYayMpPUhg.gif"/></div></figure><p id="5d34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看起来不错，现在编程:首先我们创建一个持有人，并分配它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jn"><img src="../Images/71e8ab82cacf33c31a2c8809050dbf31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSzDj_zJHCaNTAjqZCpW6A.png"/></div></div></figure><p id="037a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们通常不能使用GetComponentInChildren来获取动画师，因为它会抓取第一个玩家。我们想得到第二个孩子，使用数组规则，将是1。一旦我们有了第一个孩子(孩子0是玩家精灵)，我们将从中获得动画组件。</p><p id="c925" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来我们只需设置触发器，简单！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es js"><img src="../Images/c660f60be2d66a5159bf0bfb414217b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MlOoFmEaQwIFGyJjY-JPOA.png"/></div></div></figure><p id="13b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们运行游戏并点击鼠标按钮:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/976a0bed39f16285dd56cdf7224f1afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*IU1RrDaeTB-m0l631HTwow.gif"/></div></figure><p id="ca52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我所怀疑的，动画运行了两次。这是昨天的同一个问题，所以我们将以同样的方式解决它。我们将为剑弧创建一个行为，我将其命名为剑弧_行为。然后在OnStateExit上，我们对SwordArc使用ResetTrigger，一切都将完美运行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jt"><img src="../Images/e85f7305e3f2977ba2386434469bd524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AxzjkL90D32jeMN-ul2EiQ.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/bd522270db018cfe946eadc3a84438c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*eLGnalVtvQRCJAgFoStspQ.gif"/></div></figure><p id="cce8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太好了！动画现在只播放一次！不过玩家挥剑似乎有点太慢了，所以我们要修正动画:</p><p id="cec3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们将进入球员攻击动画，并删除所有的关键帧。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/9db4a358488db85afbfa6c45fe7efce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*y-mVRphcycQ0Yy1jlZtKwA.gif"/></div></figure><p id="bd71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在原始Reg_Swing动画下，我们抓取第6–23帧，忽略第9帧，并将它们拖到时间轴中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/a5721fe97f07c8b9599db15d771310b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*ATbmTtfIEhAwJzssz6gcHw.gif"/></div></figure><p id="16ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这导致了:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/723315a795014583851a2631e31ab120.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*Vuq8d6GXVT1Xo3Jw7PHulQ.gif"/></div></figure><p id="1a27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更快的挥杆！所有东西放在一起看起来都很棒！不过，可以对弧线进行一些最终调整。以下是数字:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/55685d089f2e078296942585e7e1ab55.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*ErcPsMGaHzFhYjZeQ_gdSA.png"/></div></figure><p id="f045" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">位置:1.01，-0.09，-0.25 <br/>旋转:66，58，-80</p><p id="f19d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有一个问题是，弧线的第一帧一直在玩家的身上，并且跟随着玩家。我们可以通过向上移动该帧，插入一个新的帧，然后单击record按钮，关闭新的第一帧上的sprite渲染器，并在下一帧上打开它，从而轻松地解决这个问题。完成后，再次点按“录制”按钮。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/28821cf81fd2218d228f1c4dbd7a2448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*KR5XvnJAxf18rimac-Qfzw.gif"/></div></figure><p id="d2f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个问题是当玩家翻转两边时，通常，我们也需要编程翻转剑弧。我将做一些稍有不同的事情，以后可能会改变，但现在我认为这将通过翻转玩家转换而不是使用。只显示精灵的flipX函数。这实际上将翻转整个玩家对象，包括弧线:</p><p id="34b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是新的挂图功能:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jv"><img src="../Images/fcddfedf43cf0fa7d462040d99f9e88d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*REG_L_mKzLh3ZH659S19Rg.png"/></div></div></figure><p id="98b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先创建一个名为_facingRight的boolean，它可能会在以后派上用场，但然后我们检查我们的horizontalInput，如果它小于0(向左移动，但我们面向右，或者如果我们向右移动并面向左，那么我们的current _facingRight boolean将成为它的对立面，我们将对象沿y轴旋转180度，本质上翻转玩家及其所有子对象，包括弧线以及任何未来的种子点，就像有一个发射子弹的十字弓或手枪一样。你再也不用担心因为面对的方向而改变产卵点了！</p><p id="76bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看这个:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/d415d8bdcb158278ebb13458603c9415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/1*EPjZICZCLI7BMKQnNM7mxg.gif"/></div></figure><p id="ed29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完美的工作，我们不需要一次编程两个对象！我要感谢Nik Hwang的这个方法，去<a class="ae jw" href="https://www.youtube.com/channel/UC5sPLOWXyDsvvSZs9Dd0dlg" rel="noopener ugc nofollow" target="_blank">看看他的Youtube频道！</a></p></div></div>    
</body>
</html>