<html>
<head>
<title>Making a Real-world end-to-end project using Django and cloud storage fauna DB (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Django和云存储动物群数据库制作真实的端到端项目(第2部分)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/making-a-real-world-end-to-end-project-using-django-and-cloud-storage-fauna-db-part-2-ba826d1a9415?source=collection_archive---------7-----------------------#2021-10-22">https://medium.com/geekculture/making-a-real-world-end-to-end-project-using-django-and-cloud-storage-fauna-db-part-2-ba826d1a9415?source=collection_archive---------7-----------------------#2021-10-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1070" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用Django和动物群数据库对我们创建的学生数据管理系统进行后端查询</p><h1 id="76ed" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">从Django项目中进行动物群查询:</strong></h1><p id="f82c" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在我们将测试从Python中进行动物群查询，所以只需创建一个临时文件“main.py”来测试连接是否建立。</p><p id="7353" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在首先在main.py中导入我们需要的所有东西:</p><blockquote class="kg kh ki"><p id="90b9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询as q </strong></p><p id="de7a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p></blockquote><p id="f586" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此“FaunaClient”将用于建立连接，这意味着它将充当身份验证系统，q或query将用于进行查询。现在，我们将首先检索之前创建的集合，因此:</p><blockquote class="kg kh ki"><p id="5119" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询为q </strong></p><p id="84a1" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p><p id="7a7b" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">client = fauna client(<em class="hi">secret</em>=“放上我让你保管好的密钥”)</strong></p><p id="9ff6" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">coll = client . query(q . collection(" personal data "))</strong></p><p id="2fe9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">打印(收集)</strong></p></blockquote><p id="2862" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，输出将是:</p><blockquote class="kg kh ki"><p id="090f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> Ref(id=PersonalData，collection = Ref(id = collections))</strong></p></blockquote><p id="16ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“Coll”实际上是我们系列的一个参考，你可以看到参考id和其他内容。</p><p id="6c61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们尝试创建数据，或者我们可以通过我们的脚本来创建文档。</p><p id="02ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编写以下代码来创建一个文档:</p><blockquote class="kg kh ki"><p id="75ea" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询as q </strong></p><p id="bd8d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p><p id="33e2" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">client = fauna client(<em class="hi">secret</em>= " secret key ")</strong></p><p id="d896" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">coll = client . query(q . collection(" personal data "))</strong></p><p id="124b" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">created = client . query(q . create(coll，{"data":{"fname":"Ath "，" lname":"tripathi "，" class":"10 "，" section":"A "，" roll no ":" 14 " }))</strong></p><p id="5a1a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">打印(已创建)</strong></p></blockquote><p id="4198" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，输出将是:</p><blockquote class="kg kh ki"><p id="02d9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">{ ' Ref ':Ref(id = 306060648424407563，collection=Ref(id=PersonalData，collection=Ref(id=collections))，' ts': 1628141029685000，' data': {'fname': 'Ath '，' lname': 'tripathi '，' class': '10 '，' section': 'A '，' rollno': '14'}} </strong></p></blockquote><p id="3116" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当我们创建一个文档时，我们引用我们的集合，第二个参数是一个JSON，它有一个键名“data ”,它的值是另一个dictionary对象，它包含我们数据库的字段名及其值。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/317f0fe95a7d0ecbc407f5690c686906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nAkAf48bGJgWmp56"/></div></div></figure><p id="7fc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们尝试检索数据。</p><p id="5b65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先创建一个索引。在您的数据库仪表板上，创建一个:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kz"><img src="../Images/f4ea26c97426bacabe02ea546466674c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L6Pq2fuaEpdrHUNT"/></div></div></figure><p id="cb17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击新索引，您将看到类似这样的内容:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es la"><img src="../Images/98b5da4439a5fb6d3a30b0dd97f233af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rwa2hRXQvb858JXv"/></div></div></figure><p id="2967" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不要为了简单而选择唯一的选项。</p><p id="428b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在点击保存。</p><p id="8014" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将看到类似这样的内容:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lb"><img src="../Images/73fcd233b106f72502bdcba9df70aabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oqWAaGCFXi1Xkktj"/></div></div></figure><p id="77d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">索引基本上是为了引用我们的文档对象。当涉及到复杂的查询时，它们非常有用，并且它们在过滤数据时非常有用。</p><p id="949f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从我们的集合中检索每个数据。我们将首先对每个文档的索引引用进行分页，然后运行一个“for”循环，并使用get函数逐个检索数据。</p><p id="c7eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以代码应该是这样的:</p><blockquote class="kg kh ki"><p id="d9f4" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.objects导入参考</strong></p><p id="0a60" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询as q </strong></p><p id="7139" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p><p id="9562" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">client = fauna client(<em class="hi">secret</em>= " secret key ")</strong></p><p id="05aa" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">coll = client . query(q . collection(" personal data "))</strong></p><p id="a3fe" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">dat = client . query(q . paginate(q . match(q . index(" id ")))</strong></p><p id="57eb" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">对于dat['data']中的I:</strong></p><p id="160f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">data = client . query(q . get(I))</strong></p><p id="d049" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">打印(数据['数据']) </strong></p></blockquote><p id="5261" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这方面的输出将是:</p><blockquote class="kg kh ki"><p id="1ca2" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> {'fname': 'Ath '，' lname': 'tripathi '，' class': '10 '，' section': 'A '，' rollno': '14'} </strong></p><p id="0d11" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> {'fname': 'Aman '，' lname': 'rai '，' class': '10 '，' section': 'I '，' rollno': '3'} </strong></p><p id="a669" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> {'fname': 'Aman '，' lname': 'chaudhary '，' class': '10 '，' section': 'I '，' rollno': '3'} </strong></p></blockquote><p id="c39c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看如何更新数据。</p><p id="4e51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新查询和以前的所有查询一样简单，它只需要文档引用和一个更新的数据参数。例如，我将使用我的第一个数据点，这是我自己的名字，所以我将把我的fname值从“ath”改为“Ayush”。为此，我复制了第一个数据点的引用id。</p><p id="1ccb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的更新代码将如下所示:</p><blockquote class="kg kh ki"><p id="3d9d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.objects导入参考</strong></p><p id="1cb1" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询为q </strong></p><p id="ec09" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p><p id="51e6" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">client = fauna client(<em class="hi">secret</em>= " secret key ")</strong></p><p id="015d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">coll = client . query(q . collection(" personal data "))</strong></p><p id="277a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">data = client . query(q . update(q . ref(coll，' 306060648424407563 ')，{ " data ":{ " fname ":" Ayush " } }))</strong></p><p id="8890" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">打印(数据)</strong></p><p id="0a65" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">所以它的输出将是:</strong></p><p id="373c" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">{ ' Ref ':Ref(id = 306060648424407563，collection=Ref(id=PersonalData，collection=Ref(id=collections)))，' ts': 1628162190785000，' data': {'fname': </strong></p><p id="c13a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> 'Ayush '，' lname': 'tripathi '，' class': '10 '，' section': 'A '，' rollno': '14'}} </strong></p></blockquote><p id="fa29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到fname从“ath”更改为“ayush”。现在让我们做最后一个CRUD操作，即删除。这是所有四个操作中最简单的一个，你只需要给它一个文档的引用。</p><p id="d32b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以删除的代码是:</p><blockquote class="kg kh ki"><p id="2ad0" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.objects导入参考</strong></p><p id="8c77" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询为q </strong></p><p id="0543" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p><p id="11d3" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">client = fauna client(<em class="hi">secret</em>= " fnaepxhmqaacc 0 tpre R1 zhwygdzt _ wpj G8 bzkcf 4 ")</strong></p><p id="fc76" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">coll = client . query(q . collection(" personal data "))</strong></p><p id="05c8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">data = client . query(q . delete(Ref(coll，" 306067857619288587 "))</strong></p><p id="c5c8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">打印(数据)</strong></p></blockquote><p id="fe8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在它将删除文档，输出为:</p><blockquote class="kg kh ki"><p id="7e33" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">{ ' Ref ':Ref(id = 306067857619288587，collection=Ref(id=PersonalData，collection=Ref(id=collections)))，' ts': 1628161816736000，' data': {'fname': </strong></p><p id="f822" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> 'Aman '，' lname': 'rai '，' class': '10 '，' section': 'I '，' rollno': '3'}} </strong></p></blockquote><p id="b74f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经完成了对查询的测试，是时候在我们的后端实现它了。</p><h2 id="c9de" class="lc je hi bd jf ld le lf jj lg lh li jn iq lj lk jr iu ll lm jv iy ln lo jz lp bi translated"><strong class="ak">后台实现查询:</strong></h2><p id="8f65" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在让我们在后端实现我们的查询。</p><p id="c23e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用home函数来获取数据。</p><p id="5e00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们在views.py中创建三个端点:</p><blockquote class="kg kh ki"><p id="dce1" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从django.shortcuts导入渲染</strong></p><p id="95da" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb导入查询为q </strong></p><p id="e9db" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.objects导入参考</strong></p><p id="771c" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从faunadb.client导入FaunaClient </strong></p><p id="0e0f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从django.http导入HttpResponse </strong></p><p id="2960" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从django.shortcuts导入重定向</strong></p><p id="7f8d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">client = fauna client(<em class="hi">secret</em>= " secret key here ")</strong></p><p id="d4b2" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated">在这里创造你的观点。</p><p id="686a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>home(<em class="hi">request</em>):</strong></p><p id="a37b" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> return render(request，" home.html") </strong></p><p id="cee8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>AddStudent(<em class="hi">请求</em> ): </strong></p><p id="c644" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">通过</strong></p><p id="e590" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>update student(<em class="hi">请求，id </em> ): </strong></p><p id="64e8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">通过</strong></p><p id="685a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>delete student(<em class="hi">请求，id </em> ): </strong></p><p id="224c" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">通过</strong></p></blockquote><p id="0b52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在urls.py中设置URL:</p><blockquote class="kg kh ki"><p id="8dbe" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从django.urls导入路径</strong></p><p id="52e8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">从。导入视图</strong></p><p id="c256" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> urlpatterns = [ </strong></p><p id="ccd8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> path(' '，views.home，<em class="hi"> name </em> ='home ')，</strong></p><p id="bf91" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">路径('添加'，视图。AddStudent，<em class="hi"> name </em> ='add '，</strong></p><p id="890f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">路径(' update/ &lt; str:id &gt;')，视图。UpdateStudent，<em class="hi"> name </em> ='update '，</strong></p><p id="df9f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">路径(' delete/ &lt; str:id &gt;')，视图。删除学生，<em class="hi">姓名</em> = '删除')</strong></p><p id="d9f3" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"/></p></blockquote><p id="f065" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您已经完成了基本设置。</p><p id="3224" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">读取数据:</strong></p><p id="190e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们将这段代码添加到家庭端点:</p><blockquote class="kg kh ki"><p id="77f6" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi"> def </em> home( <em class="hi">请求</em> ): </strong></p><p id="20e7" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">学生数据=[] </strong></p><p id="7ced" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">dat = client . query(q . paginate(q . match(q . index(" id "))))</strong></p><p id="673e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">对于dat['data']中的I:</strong></p><p id="afd7" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">data = client . query(q . get(I))</strong></p><p id="3614" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">all _ data = { " id ":f ' { data[' ref ']。id()} '，" info":data['data']} </strong></p><p id="842f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">学生_数据.追加(全部_数据)</strong></p><p id="135e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> return render(request，" home.html "，{"data":student_data}) </strong></p></blockquote><p id="6da0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你能理解的代码，因为我们使用了相同的代码，我们以前使用的。在这里，我们不仅添加我们的文档数据，还添加我们的文档参考id，我们将使用它进行更新和删除。我们使用id()函数来获取id。</p><p id="de53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">前端渲染数据:</strong></p><p id="ea8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在前端，我们只需要更新表内容，所以在第二个表中添加:</p><blockquote class="kg kh ki"><p id="5ee4" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;div class = " TBL-content "&gt;</strong></p><p id="ad7a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt;表格cell padding = " 0 " cellspacing = " 0 " border = " 0 "&gt;</strong></p><p id="0045" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt; tbody &gt; </strong></p><p id="e03b" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> {%for points in data%} </strong></p><p id="eacb" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt; tr &gt; </strong></p><p id="ce47" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;TD&gt;{ { points . info . fname } }&lt;/TD&gt;</strong></p><p id="0944" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;TD&gt;{ { points . info . lname } }&lt;/TD&gt;</strong></p><p id="fe0d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;TD&gt;{ { points . info . rollno } }&lt;/TD&gt;</strong></p><p id="2580" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;TD&gt;{ { points . info . class } }&lt;/TD&gt;</strong></p><p id="62ca" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;TD&gt;{ { points . info . section } }&lt;/TD&gt;</strong></p><p id="cd62" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">T100】TD&gt;T102】a href = " Update/{ { points . id } } "&gt;更新&lt;/a&gt;T106】/TD&gt;T31】</strong></p><p id="66fb" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">T108】TD&gt;T110】a href = " Delete/{ { points . id } } "&gt;删除&lt;/a&gt;T114】/TD&gt;T33】</strong></p><p id="f9e8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/tr&gt;T35】</strong></p><p id="653a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> {%endfor%} </strong></p><p id="f036" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt; /tbody &gt; </strong></p><p id="be73" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/表&gt; </strong></p><p id="1019" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/div&gt;/T43】</strong></p></blockquote><p id="66fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们对每个过滤器循环使用，并访问嵌套的字典数据，对于更新和删除，我们在链接中给出引用id，因此每当我们单击更新时，我们将到达更新用户页面，单击删除时，我们将删除用户。我们稍后将添加更新功能。</p><h2 id="c480" class="lc je hi bd jf ld le lf jj lg lh li jn iq lj lk jr iu ll lm jv iy ln lo jz lp bi translated"><strong class="ak">添加数据:</strong></h2><p id="7fc9" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在在“AddStudent”端点中添加以下代码:</p><blockquote class="kg kh ki"><p id="a9ba" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>AddStudent(<em class="hi">请求</em> ): </strong></p><p id="c76e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">if request . method = = " POST ":</strong></p><p id="0764" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> fname，lname，standard，section，rollno=request。POST['first']，请求。POST['last']，请求。发布['标准']，请求。发布['部分']，请求。帖子['滚'] </strong></p><p id="8b54" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">created = client . query(q . create(q . collection(" personal data ")</strong></p><p id="9d93" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">，{ " data ":{ " fname ":<em class="hi">f</em>" { fname } "，" lname": <em class="hi"> f </em> "{lname} "，" class": <em class="hi"> f </em> "{standard} "，" section": <em class="hi"> f </em> "{section} "，" rollno ":<em class="hi">f</em>" { rollno } " }))</strong></p><p id="b1f8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">返回重定向("首页")</strong></p></blockquote><p id="e27b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你明白这是怎么回事，我们只是访问表单数据，将它们保存在变量中，并将其作为一个文档写入动物群。我们只需将其重定向到主页，您可以呈现任何其他HTML页面或HttpResponse，这完全由您决定。</p><h2 id="7e5e" class="lc je hi bd jf ld le lf jj lg lh li jn iq lj lk jr iu ll lm jv iy ln lo jz lp bi translated"><strong class="ak">更新数据点:</strong></h2><p id="c679" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在，对于更新，我们将使用不同的方法，我们将创建一个不同的Html文件，该文件将从更新端点呈现。我们将使用参考id访问某些文档进行更新。所以做一个名为“update.html”的文件。让我们首先在更新端点中创建一个脚本:</p><blockquote class="kg kh ki"><p id="b562" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">T3】defupdate student(<em class="hi">请求</em>，<em class="hi"> id </em> ): </strong></p><p id="8064" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">if request . method = = " POST ":</strong></p><p id="f3b9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">通过</strong></p><p id="d800" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">student _ data = client . query(q . get(q . ref(q . collection(" personal data ")，<em class="hi">f</em>" { id } "))</strong></p><p id="89e7" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> return render(request，' update.html '，{'url': <em class="hi"> f </em> '{id} '，" data ":student _ data[' data ']})</strong></p></blockquote><p id="1b9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于“get”请求处理，我们首先使用给定学生的引用id获取他的所有数据，然后呈现update.html并给它两个参数。</p><ol class=""><li id="d24c" class="lq lr hi ih b ii ij im in iq ls iu lt iy lu jc lv lw lx ly bi translated">第一个参数是URL，它用于告诉前端需要更新哪个引用id，或者它只是告诉URL，例如:“update/306076571320451654”。</li><li id="1a02" class="lq lr hi ih b ii lz im ma iq mb iu mc iy md jc lv lw lx ly bi translated">第二个参数是学生数据，这将是表单的默认值，就像它用于更新表单中的预填充值一样。</li></ol><p id="9907" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们在update.html中创建我们的前端:</p><blockquote class="kg kh ki"><p id="1076" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">T90】！DOCTYPE html &gt; </strong></p><p id="fa20" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt; html &gt; </strong></p><p id="1582" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">头&lt;头&gt;头</strong></p><p id="6fbb" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt;风格&gt; </strong></p><p id="147a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> /*演示风格*/ </strong></p><p id="a9d8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">@导入网址(<em class="hi">https://fonts.googleapis.com/css?family=Roboto:400，500，300，700</em>)；</strong></p><p id="5002" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">正文{ </strong></p><p id="f173" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">背景</em> : -webkit-linear-gradient(左，#2a3631，# c5d5d 6)；</strong></p><p id="c2c3" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">背景</em>:线性渐变(向右，#2a3631，# 778586)；</strong></p><p id="0208" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">字体系列</em>:‘Roboto’，无衬线；</strong></p><p id="01ee" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> } </strong></p><p id="f287" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">节{ </strong></p><p id="d862" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边距</em>:50px；</strong></p><p id="1d80" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> } </strong></p><p id="6c1c" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">表格{ </strong></p><p id="2ab0" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">位置</em>:相对；</strong></p><p id="1ecf" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">宽度</em>:250 px；</strong></p><p id="27dc" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">余量</em> : 0自动；</strong></p><p id="2806" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">背景</em> : rgba(130，130，130，. 3)；</strong></p><p id="5634" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">填充</em>:20px 22px；</strong></p><p id="2774" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边框</em> : 1px纯色；</strong></p><p id="ff11" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-top-color</em>:rgba(255，255，255，. 4)；</strong></p><p id="cf7f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-left-color</em>:rgba(255，255，255，. 4)；</strong></p><p id="df9a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边框-底色</em> : rgba(60，60，60，.. 4)；</strong></p><p id="59f4" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-right-color</em>:rgba(60，60，60，.. 4)；</strong></p><p id="5423" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> } </strong></p><p id="bf88" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">表单输入，表单按钮{ </strong></p><p id="4e59" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">宽度</em>:212 px；</strong></p><p id="c27d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边框</em> : 1px实心；</strong></p><p id="5c0d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi"/>:rgba(255，255，255，.. 5)；</strong></p><p id="72f3" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-right-color</em>:rgba(60，60，60，. 35)；</strong></p><p id="fab9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-top-color</em>:rgba(60，60，60，. 35)；</strong></p><p id="2cff" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-left-color</em>:rgba(80，80，80，. 45)；</strong></p><p id="7517" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">背景色</em> : rgba(0，0，0，.. 2)；</strong></p><p id="34c2" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">后台-重复</em>:无-重复；</strong></p><p id="758e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">填充</em>:8px 24px 8px 10px；</strong></p><p id="7ff5" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">字体</em> : bold .875em/1.25em“开放无浓缩”，无衬线；</strong></p><p id="7404" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">字母间距</em>:. 075 em；</strong></p><p id="563d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">颜色</em>:# fff；</strong></p><p id="20a8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">文字-阴影</em> : 0 1px 0 rgba(0，0，0，.. 1)；</strong></p><p id="fb3f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边距-底部</em>:19px；</strong></p><p id="0690" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> } </strong></p><p id="2154" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">表单输入:焦点{ <em class="hi">背景色</em> : rgba(0，0，0，.. 4)；} </strong></p><p id="349c" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">表单输入.输入{ </strong></p><p id="dac9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">背景位置</em> : 223px 8px </strong></p><p id="1118" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> } </strong></p><p id="f7d6" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">::-WebKit-input-placeholder {<em class="hi">color</em>:# CCC；<em class="hi">文本转换</em>:大写；} </strong></p><p id="c8c2" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">::-moz-placeholder {<em class="hi">color</em>:# CCC；<em class="hi">文本转换</em>:大写；} </strong></p><p id="151b" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">:-ms-input-placeholder {<em class="hi">color</em>:# CCC；<em class="hi">文本转换</em>:大写；} </strong></p><p id="f5df" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">表单按钮【类型=提交】{ </strong></p><p id="cc2d" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">宽度</em>:248 px；</strong></p><p id="6c9e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边距-底部</em>:0；</strong></p><p id="dad8" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">颜色</em>:# 3f 898 a；</strong></p><p id="4e2a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">字母间距</em>:. 05 em；</strong></p><p id="00fb" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">文字-阴影</em>:0 1px 0 # 133 d3e；</strong></p><p id="36b9" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">文本转换</em>:大写；</strong></p><p id="660e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">背景</em>:# 225556；</strong></p><p id="e539" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边框顶部颜色</em>:# 9fb 5b 5；</strong></p><p id="0d05" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边框-左侧-颜色</em>:# 608586；</strong></p><p id="8d19" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">边框-底色</em>:# 1b 4849；</strong></p><p id="6567" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">border-right-color</em>:# 1e4d 4 e；</strong></p><p id="bf9b" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">光标</em>:指针；</strong></p><p id="bdf1" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> } </strong></p><p id="7d12" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/样式&gt; </strong></p><p id="3dbe" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/头&gt; </strong></p><p id="ecde" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">正文&lt;正文&gt;正文</strong></p><p id="1071" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">T84】form method = " POST " action = " { { URL } } "&gt;T21】</strong></p><p id="c731" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> {% csrf_token %} </strong></p><p id="b3cb" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt;输入type = " text " id = " first " placeholder = " first name " class = " inputs " name = " first " value = " { { data . fname } } "&gt;</strong></p><p id="b602" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;input type = " text " id = " last " placeholder = " last name " class = " inputs " name = " last " value = " { { data . lname } } "&gt;</strong></p><p id="9ac7" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;input type = " text " id = " roll " placeholder = " roll number " class = " inputs " name = " roll " value = " { { data . roll no } } "&gt;</strong></p><p id="c345" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">输入type = " text " id = " standard " placeholder = " standard " class = " inputs " name = " standard " value = " { { data . class } } "&gt;T31】</strong></p><p id="b8d7" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;input type = " text " name = " section " id = " section " placeholder = " section " class = " inputs " name = " section " value = " { { data . section } } "&gt;</strong></p><p id="5e17" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> &lt;按钮type="submit" &gt;添加学生&lt;/按钮&gt; </strong></p><p id="36ed" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/表格&gt; </strong></p><p id="c372" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">&lt;/正文&gt; </strong></p><p id="965a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">T104/html&gt;T41】</strong></p></blockquote><p id="ee3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该表单与之前的表单具有相同的样式，但该表单具有我们从后端发送的值，因此现在我们在<a class="ae me" href="http://127.0.0.1:8000/update/306076571320451654" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8000/update/306076571320451654</a>上的表单将如下所示:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lb"><img src="../Images/adbd7be2e158fdff12bac0e46d561a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h6okI2cbiUrRjLOR"/></div></div></figure><p id="22c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，它已经有了预填充的值，现在已经准备好了。如果您查看表单元素的action属性中的代码，我们传递了将在处理post请求时使用的引用id。现在让我们回到更新端点，处理post请求:</p><blockquote class="kg kh ki"><p id="e071" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>update student(<em class="hi">请求</em>，<em class="hi"> id </em> ): </strong></p><p id="9349" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">if request . method = = " POST ":</strong></p><p id="816e" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> fname，lname，standard，section，rollno=request。POST['first']，请求。POST['last']，请求。发布['标准']，请求。发布['部分']，请求。帖子['滚'] </strong></p><p id="9b02" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">data = client . query(q . update(q . ref(q . collection(" personal data ")，<em class="hi"> f </em> '{id} ')，{ " data ":{ " fname ":<em class="hi">f</em>" { fname } "，" lname": <em class="hi"> f </em> "{lname} "，" class": <em class="hi"> f </em> "{standard} "，" section ":<em class="hi">f</em>" { T66]"</strong></p><p id="aa2f" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> return render(request，' update.html '，{'url': <em class="hi"> f </em> '{id} '，" data":data['data']}) </strong></p><p id="a829" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">student _ data = client . query(q . get(q . ref(q . collection(" personal data ")，<em class="hi">f</em>" { id } ")</strong></p><p id="cb61" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"> return render(request，' update.html '，{'url': <em class="hi"> f </em> '{id} '，" data ":student _ data[' data ']})</strong></p></blockquote><p id="8be3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在post请求中，我们只是做了与更新所需做的相同的事情，我们获取变量中的所有值并更新整个文档。我们正在更新所有的数据点，但前端没有改变的数据点或值将保持不变。它们只是被重写，而不是被改变。</p><p id="0b40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于渲染，我们只是用更新后的预填充值重新渲染我们的update.html。</p><h2 id="2c84" class="lc je hi bd jf ld le lf jj lg lh li jn iq lj lk jr iu ll lm jv iy ln lo jz lp bi translated"><strong class="ak">删除数据:</strong></h2><p id="aec4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在让我们配置最后一个被删除CRUD操作。我们只需要为它配置后端。所以在后端:</p><blockquote class="kg kh ki"><p id="7f87" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">def</em>delete student(<em class="hi">request</em>，<em class="hi">id</em>):data = client . query(q . delete(q . ref(q . collection(" personal data ")，<em class="hi"> f </em> '{id}'))) </strong></p><p id="c73a" class="if ig kj ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">返回重定向(' http://127.0.0.1:8000/') </strong></p></blockquote><p id="82ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们只需删除数据并将其重定向回主页。</p><p id="49e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们完成了所有的任务和CRUD操作，我们完成了我们的学生管理项目！</p><h1 id="a5e2" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">输出:</h1><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mf"><img src="../Images/cd86aa40865adbb778438613aa9095f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rSRA2Hq3DUi3a94O"/></div></div></figure><h1 id="7868" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">最后的话:</strong></h1><p id="2d04" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">所以我们来讨论一下今天所做的总结。我们首先创建了一个Faunadatabase和其中的一个集合。然后，我们创建了一个Django项目，并对它进行了基本设置。然后，我们创建了一个端点来呈现我们的前端，并创建了我们的前端HTML。然后我们测试并学习了如何在Python脚本中根据我们的需要查询动物群。在测试了所有东西之后，我们在Django后端实现了我们的查询。我们创建了整个CRUD应用程序。</p><h1 id="d392" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">结论:</strong></h1><p id="1e3e" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">因此，我们使用动物群制作了一个完整的CRUD应用程序，在使用动物群时，您会注意到:</p><ol class=""><li id="d771" class="lq lr hi ih b ii ij im in iq ls iu lt iy lu jc lv lw lx ly bi translated">查询执行速度非常快，这对于现实世界的项目来说非常重要。</li><li id="e4a1" class="lq lr hi ih b ii lz im ma iq mb iu mc iy md jc lv lw lx ly bi translated">数据管理很牛逼。馆藏和文献是有分工的。</li><li id="7739" class="lq lr hi ih b ii lz im ma iq mb iu mc iy md jc lv lw lx ly bi translated">您还拥有存储引用的索引。对于生产项目来说，这确实是一个很好的功能，因为它节省了存储和内存。</li><li id="12c9" class="lq lr hi ih b ii lz im ma iq mb iu mc iy md jc lv lw lx ly bi translated">数据传输是以JSON格式完成的，这表明了动物群是现代的云存储。</li><li id="3fee" class="lq lr hi ih b ii lz im ma iq mb iu mc iy md jc lv lw lx ly bi translated">不太复杂，每个查询都很容易理解。</li><li id="4634" class="lq lr hi ih b ii lz im ma iq mb iu mc iy md jc lv lw lx ly bi translated">它支持多种编程语言。</li></ol><p id="e5e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你都完成了，我希望你喜欢这个，请分享并查看代码的Github链接。</p><p id="2062" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Github链接:<a class="ae me" href="https://github.com/ath34-tech/Fauna-DB-and-django-student-management-system" rel="noopener ugc nofollow" target="_blank">https://github . com/ath 34-tech/Fauna-d b-and-django-student-management-system</a></p></div></div>    
</body>
</html>