<html>
<head>
<title>JavaScript: Comparing Map() and forEach() Array Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:比较Map()和forEach()数组方法</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/javascript-comparing-map-and-foreach-array-methods-b6e061c3804b?source=collection_archive---------7-----------------------#2021-03-31">https://medium.com/geekculture/javascript-comparing-map-and-foreach-array-methods-b6e061c3804b?source=collection_archive---------7-----------------------#2021-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ad395bf8120d5dd99591dd35d1f40212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XPJHzKfPfoEcAtt9"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@jdent?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jason Dent</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5e9c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">容易混淆的两种数组方法是<code class="du jt ju jv jw b">map()</code>和<code class="du jt ju jv jw b">forEach()</code>。跟踪这两者之间的差异可能有点模糊——但是每一个都有独特的优势，可以使它们成为某些情况下的理想选择！</p><p id="4e0c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当你选择一个数组方法时，首先要考虑的是在它执行后你需要返回什么。你需要一个新的阵列吗？你只想要单品吗？什么能让你做下一步需要做的事情？</p><p id="02f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">map()</code>和<code class="du jt ju jv jw b">forEach()</code>都迭代一个现有的数组，并且都为数组中的每一项执行一次所提供的函数。但是他们更像异卵双胞胎而不是同卵双胞胎！</p><h2 id="9ced" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">句法</h2><p id="08b0" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">下面是<code class="du jt ju jv jw b">map()</code>的语法:</p><pre class="kx ky kz la fd lb jw lc ld aw le bi"><span id="d157" class="jx jy hi jw b fi lf lg l lh li">const localFruits = ["apple", "pear", "strawberry"];</span><span id="9647" class="jx jy hi jw b fi lj lg l lh li">const mapFruit = localFruits.map(fruit =&gt; console.log(fruit));</span></pre><p id="2544" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是<code class="du jt ju jv jw b">forEach()</code>的语法:</p><pre class="kx ky kz la fd lb jw lc ld aw le bi"><span id="32f8" class="jx jy hi jw b fi lf lg l lh li">const fancyFruits = ["papaya", "dragonfruit", "mango"];</span><span id="467c" class="jx jy hi jw b fi lj lg l lh li">const eachFruit = fancyFruits.forEach(fruit =&gt; console.log(fruit));</span></pre><p id="efd6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是的，鹰眼，语法遵循相同的模式！两者都接受一个表示当前数组项目的参数——在本例中，我从水果数组中将其命名为<code class="du jt ju jv jw b">fruit</code>。我可以称它为<code class="du jt ju jv jw b">x</code>或<code class="du jt ju jv jw b">item</code>，但是需要有一个参数传入。</p><h2 id="8c9e" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">返回值</h2><ul class=""><li id="8553" class="lk ll hi ix b iy ks jc kt jg lm jk ln jo lo js lp lq lr ls bi translated"><code class="du jt ju jv jw b">map()</code>遍历原始数组，返回一个全新的数组。</li><li id="6174" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated"><code class="du jt ju jv jw b">forEach()</code>返回<code class="du jt ju jv jw b">undefined</code>。永远永远。</li></ul><p id="a514" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果它不返回任何东西，你为什么要使用<code class="du jt ju jv jw b">forEach()</code>？嗯，<code class="du jt ju jv jw b">forEach()</code>非常适合<em class="ly">做</em>的事情——比如将项目打印到屏幕上或者将项目添加到列表中。我认为它是数组方法中的玛丽·近藤(Marie Kondo)——它接触项目一次，执行所需的操作，然后很快就忘记了。用<code class="du jt ju jv jw b">forEach()</code>内存什么都不存，所以不会产生不必要的内存压力；<code class="du jt ju jv jw b">map()</code>分配内存并存储返回值。</p><h2 id="b4ca" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">可链接性</h2><p id="f43f" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">在一行连续的代码中一个接一个地调用方法被称为<em class="ly">链接</em>，它可以让你的代码更高效、可读性更强。(有一个阈值，在这个阈值上这是不真实的，循环而不是链接是一个更好的选择，但一般来说，如果没有人太得意忘形，链接是一件好事。)</p><ul class=""><li id="7fa0" class="lk ll hi ix b iy iz jc jd jg lz jk ma jo mb js lp lq lr ls bi translated"><code class="du jt ju jv jw b">map()</code>是可链接的，可以将其新数组传递给另一个链接的方法。</li><li id="7247" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated"><code class="du jt ju jv jw b">forEach()</code>不可链接。它在内存中什么都没有，所以没有什么可以传递给下一个方法。</li></ul><h2 id="8ac5" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">易变性</h2><p id="a0ac" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">在你的方法执行之后，原始数组会发生什么？</p><ul class=""><li id="8fa4" class="lk ll hi ix b iy iz jc jd jg lz jk ma jo mb js lp lq lr ls bi translated"><code class="du jt ju jv jw b">map()</code>不变异原数组；它创建一个新的数组，并保留原来的数组。</li><li id="28c2" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated"><code class="du jt ju jv jw b">forEach()</code>不变异原数组；它对每个数组项执行所请求的操作，而不处理原始的。</li></ul><h2 id="b64c" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">真的吗？</h2><p id="f0dc" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">两者的根本区别在于，<code class="du jt ju jv jw b">map()</code>返回一个值数组，而<code class="du jt ju jv jw b">forEach()</code>返回undefined。因为<code class="du jt ju jv jw b">map()</code>提供了一个回报，你可以把它链接起来(你不能用<code class="du jt ju jv jw b">forEach()</code>做到这一点)。哪一个是最好用的将取决于你想要的输出！</p></div></div>    
</body>
</html>