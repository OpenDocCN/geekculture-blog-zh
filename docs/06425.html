<html>
<head>
<title>2.5D Platformer: Character Controller, Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2.5D平台:角色控制器，第1部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/2-5d-platformer-character-controller-part-1-c02ad0473337?source=collection_archive---------17-----------------------#2021-08-19">https://medium.com/geekculture/2-5d-platformer-character-controller-part-1-c02ad0473337?source=collection_archive---------17-----------------------#2021-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5463" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将通过脚本为玩家设置一个基于物理的角色控制器。玩家将通过脚本进行水平移动、重力、跳跃和双跳。</p><p id="3331" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我用原语建立了一个非常基础的层次。我有几个平台，一些球体作为收藏品，还有一个给玩家的胶囊。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/4beb5fd99855f9c093d00d115c0098e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iU3F6ojNAnU1caHzh9WkKw.png"/></div></div></figure><p id="5b4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要设置播放器，首先，我要移除胶囊碰撞器，因为播放器不会使用它。然后我将添加一个角色控制器组件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/588ee7983b465d3eed4910aba5ce3d22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eoH8mETefpZHVLFWTyy-Xg.gif"/></div></div></figure><p id="a26c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将允许我完全控制玩家的移动，包括速度和重力。这将通过一个名为Player的脚本来完成，该脚本将附加到玩家游戏对象上。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/1f88ebffd42aa57b39575ac607ad63e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/1*skWcJ2ufgRRYsOCQbzhheg.gif"/></div></figure><p id="01e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候打开脚本并开始设置一些值了。首先，我需要获得播放器上角色控制器组件的一个句柄。然后我将句柄分配给GetComponent <charactercontroller>()。</charactercontroller></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/3f06fa6fd337a36ae2b71cd01170783a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*0vnuMj25vt3LorN_0ExrIw.png"/></div></figure><p id="04b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，因为我已经知道我将需要一个重力、跳跃高度和玩家速度的值，所以我也将继续设置它们。因此，这些将是很好的开始，我会根据需要添加更多。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/3f77a4613723711f008b8e6ff433b1a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*Qy7V264cFjfAHRsmJzR0_w.png"/></div></figure><p id="7197" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我可以开始设置脚本来移动角色了。首先，我将使用input获得水平输入。然后，我将基于输入定义一个新的Vector3方向，最后，使用角色控制器Move()方法，我将使用该方向移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/0ca845241025924f5f24482246d7cf6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*bcWviBxtsEpvQVbUyh4DnQ.png"/></div></figure><p id="52eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将给玩家一个很好的，尽管很慢的移动，如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/72c2deb1f99d474ea7645e5bf58abad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vUsOVOrYsu5qB9L_bz9bEQ.gif"/></div></div></figure><p id="698e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我要给播放器增加一点速度。为此，我将_playerSpeed设置为5.0f。然后，在Update()方法中，在设置Vector3方向之后，我将设置一个名为velocity的新Vector3，并将其设置为direction * _playerSpeed。然后在Move()方法中，我将使用新的速度而不是方向。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/dd056a2e5f88c98add71a513c9ac8cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*LjEOC5sE61LFBvhoMAJuOQ.png"/></div></figure><p id="1b13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这给了玩家更好的移动速度，如下图所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f3d4813ce08444187133b5be5da726a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nylacs29UF8cGZHGIc1Aow.gif"/></div></div></figure><p id="9b7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这涵盖了为玩家设置角色控制器的第一部分。在下一篇文章中，我将添加重力、跳跃和双跳。所以一定要回来看看更多的编码乐趣。</p><p id="a931" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且，一如既往，我祝您在自己的编码之旅中一切顺利。</p></div></div>    
</body>
</html>