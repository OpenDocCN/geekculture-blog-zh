<html>
<head>
<title>Creating A Basic Loot Table For Power-Ups</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个基本的道具表</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-a-basic-loot-table-for-power-ups-25a9fe2481aa?source=collection_archive---------16-----------------------#2021-07-15">https://medium.com/geekculture/creating-a-basic-loot-table-for-power-ups-25a9fe2481aa?source=collection_archive---------16-----------------------#2021-07-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f4df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与其依赖随机产生的均等机会，不如给产生的机会增加一些权重。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/476e3cbc3c346259f1410482bb232de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*UzgIKh2VqNnAUwPX9TvB2A.png"/></div></figure><p id="5892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">今天的目标:</strong>创造一个加权的战利品产卵器来代替完全随机的战利品产卵器。</p></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h2 id="afe6" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">我们开始吧！</h2><p id="81ff" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">不仅仅需要一个游戏对象来产卵，现在每次加电都需要一个数值来表示它的产卵机会。</p><p id="9b33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个新的<strong class="ih hj"><em class="ks"/></strong>脚本。把它从“类”改成“结构”，更容易用作变量。在该结构中，创建另一个结构，如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kt"><img src="../Images/49d8329538e5f4d8ec53a2eb23b88226.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/1*W6WxubUr8A5J1BYzC8dTfQ.gif"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">Add “[System.Serializable]” to both Structs to make them serialized for Inspector modification</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ky"><img src="../Images/2eca3a6e68be0071d1bf7d3437c6381b.png" data-original-src="https://miro.medium.com/v2/resize:fit:272/format:webp/1*H5LnV4nHULKg2XVUzdv4bQ.png"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">If you want, add a range attribute with a suitable maximum to “Chance”, to make the Inspector look nicer.</figcaption></figure><p id="58ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在"<strong class="ih hj"><em class="ks">【loot table】</em></strong>"内添加一个"<strong class="ih hj"><em class="ks">【loot table object】</em></strong>类型的数组。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kz"><img src="../Images/fdcc7126b389a1a4392c492d7485eb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/1*YNUaC7j2FPg0Ba2CWvG92g.gif"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">The <strong class="bd ju">LootList</strong> won’t change in-game, so an Array is better than a List.</figcaption></figure><p id="647f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在"<strong class="ih hj"><em class="ks">【loot table】</em></strong>内部，创建一个函数返回数组中所有产卵机会的总和。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/a66e4eb517eacc5dc1c00e2af3a34dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/1*TV-4Y-Xy_FUPb4URJJTf3w.gif"/></div></figure><p id="c33a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建一个函数从数组中返回一个随机的<strong class="ih hj"> <em class="ks">游戏对象</em> </strong>，基于重生几率权重。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lb"><img src="../Images/65e92a15a7045698ae2ee693e22b4481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/1*hFEfAqfZV9Wqv3E3rt6x9g.gif"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">Two vital variables inside the function</figcaption></figure><p id="b460" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为该函数添加一个<strong class="ih hj"> <em class="ks"> ForEach </em> </strong>循环。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/68565917c2349366070b9f182696b298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4Ncd367zbO2u-tPqckXGyQ.gif"/></div></div></figure><p id="c9a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，在函数的末尾加上一个错误日志，万一出了什么问题，<strong class="ih hj">这应该是不可能的</strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lh"><img src="../Images/2a7ac1610a7d542b67954ed0c1e63af9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1Ow-_hpzntmMjBoC2Tl3HA.gif"/></div></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><p id="796f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我使用一个名为SpawnManager的脚本来管理所有的生成工作。在那个脚本中，我做了一个变量"<strong class="ih hj"> <em class="ks"> _powerups </em> </strong>"，类型为"<strong class="ih hj"><em class="ks"/></strong>"。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es li"><img src="../Images/3154daa5e377ec2376373656217b650a.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/1*Hgz91W-fDTQvT58e-MnEkQ.gif"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">Because they are serialized, they structs appear in the Inspector to fill</figcaption></figure><p id="b7df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我想制造能量的时候，我只需要使用"<strong class="ih hj"> <em class="ks"> _powerups "。getrandomweightedsbownable()</em></strong>”。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lj"><img src="../Images/f3013ffd20ee08dafeb045efb9879b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/1*ZCaHGk_Uf-kiHwFHaNr3fQ.gif"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">Spawn a power-up based on all weights</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lk"><img src="../Images/7a51e6dadb973bbc22f4d529a168f356.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*8n99dA6z4EDbo0LG30phrg.png"/></div><figcaption class="ku kv et er es kw kx bd b be z dx">Make sure to fill the array in the Inspector, and that at least one Chance is above zero.</figcaption></figure></div></div>    
</body>
</html>