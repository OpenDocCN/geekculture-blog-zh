<html>
<head>
<title>How to Building a Command Line Tool with Node.js and Fauna</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Node.js和Fauna构建命令行工具</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-building-a-command-line-tool-with-node-js-and-fauna-60a0e1005bf?source=collection_archive---------24-----------------------#2021-08-27">https://medium.com/geekculture/how-to-building-a-command-line-tool-with-node-js-and-fauna-60a0e1005bf?source=collection_archive---------24-----------------------#2021-08-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4fdddbc38cd65a04838d314be2d315b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1NUmgiKE1VD3Q31D2NNU_g.jpeg"/></div></div></figure><p id="4e3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如今使用最广泛的程序之一是命令行工具。每天，我们都在使用命令行工具，比如git、npm和yarn。对于自动化程序和工作流，命令行工具非常快速和有用。</p><p id="c7fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们将使用Node.js和动物群为我们的数据库创建一个命令行工具。此外，我们将使用Node.js创建一个随机报价应用程序，并为我们的应用程序提供权限和关键字。</p><h1 id="44c9" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">先决条件</h1><p id="977a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在本文中，我们将使用Node.js和Fauna为数据库构建一个命令行工具。此外，我们将使用Node.js开发一个随机报价应用程序，并向我们的应用程序授予权限和关键字。</p><ul class=""><li id="e8b7" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated"><a class="ae la" href="https://srv.buysellads.com/ads/long/x/T6IFZUDTTTTTTT4BWG2CTTTTTTT37OOSKTTTTTTTPD2RYYTTTTTTT2Z427PDC7ZY2R66WIQUC2NMTOIN2RI6AAB4C7JT" rel="noopener ugc nofollow" target="_blank"> Node.js </a>版本&gt; = 16.x.x已安装。</li><li id="4736" class="kr ks hi is b it lb ix lc jb ld jf le jj lf jn kw kx ky kz bi translated">访问一个包装经理，如<a class="ae la" href="https://srv.buysellads.com/ads/long/x/T6IFZUDTTTTTTT4BWG2CTTTTTTT3SOOSKTTTTTTTPD2RYYTTTTTTTLLB2WAMT742KHZU4SL2KMSNK2INFHYN5JBFV2DE" rel="noopener ugc nofollow" target="_blank"> npm </a>或<a class="ae la" href="https://srv.buysellads.com/ads/long/x/T6IFZUDTTTTTTT4BWG2CTTTTTTT3ROOSKTTTTTTTPD2RYYTTTTTTTJPMFHMFELDCKRPUTOIGCJLMVWDQFHD6Y5PZVHCE" rel="noopener ugc nofollow" target="_blank"> yarn </a>。</li><li id="3e4a" class="kr ks hi is b it lb ix lc jb ld jf le jj lf jn kw kx ky kz bi translated">访问动物仪表板。</li></ul><h2 id="6494" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">动物群入门</h2><p id="7599" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">使用您的电子邮件地址或GitHub帐户创建一个新帐户。您可以在这里创建一个新帐户。创建新帐户或登录后，您将看到仪表板屏幕。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/c3de1cd5c5402b698ada8ae9e0162ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kwZCim27vSEvRQzU"/></div></div></figure><h2 id="b1ae" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">创建新的动物群实例</h2><p id="ca8c" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">您必须遵循一些基本步骤来使用Fauna服务构建一个新的数据库实例。按下仪表板屏幕上的新建数据库:按钮。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/592e7de5dc6546c1c970a514983c8453.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/0*1VHHFHBlYzqi-mRN"/></div></figure><p id="61e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在应该输入并保存数据库的名称。在您设置了一个数据库实例之后，您将能够访问这个键。在单页应用程序中，使用访问键连接授权和数据库连接。要制作访问密钥，请转到侧面菜单，选择“安全”，然后单击“新密钥”选项。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/ad50198d3e924fa041f189cee93a3b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/0*MN7bsCXL5sFMF9Bn"/></div></figure><h2 id="60d8" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">创建收藏</h2><p id="efeb" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">导航到您的仪表板，从侧面菜单中选择Collections选项卡，点击New Collection按钮，为该集合命名，然后保存。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/aa8e4de83a14aa381bfbae26b753e570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/0*XDtNhmXowPQ41bUl"/></div></figure><h2 id="1a26" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">创建索引</h2><p id="4ea6" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">为我们的应用程序创建索引以完成设置。索引是必要的，因为动物学通过将用户输入与tern字段匹配来使用索引搜索文档。导航到我们的动物仪表板的索引选项卡，创建一个索引。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/62542aaeb3bc53b18c36638da450a8f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/0*CGgqm5MCWIoKPo_x"/></div></figure><p id="5044" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在准备使用Node.js和我们的数据库来创建我们的notes命令行应用程序。</p><h2 id="afcb" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">初始化Node.js应用程序并安装依赖项</h2><p id="5c34" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">使用NPM包，我们将建立一个Node.js应用程序并安装我们需要的依赖项。我们还将使用这个URL创建一个简单的报价应用程序。</p><h2 id="20e3" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">入门指南</h2><p id="3d3a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">首先，在我们的终端中使用下面的代码块，在项目文件夹中为我们的应用程序创建一个文件夹。</p><pre class="lv lw lx ly fd mc md me mf aw mg bi"><span id="8c60" class="lg jp hi md b fi mh mi l mj mk">mkdir quotes_cli<br/>cd quotes_cli<br/>touch quotes_app<br/>npm init -y</span></pre><p id="d3e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在初始化上面代码块中的npm依赖项之前，我们建立了一个新目录，进入其中，并创建了一个名为quotes app的新文件。然后，使用axios创建一个包，向quotes服务器发出请求。</p><pre class="lv lw lx ly fd mc md me mf aw mg bi"><span id="578d" class="lg jp hi md b fi mh mi l mj mk">npm i axios</span></pre><p id="7a0d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">加个包装给我们的文字上色；粉笔是一个NPM包，允许我们添加颜色到终端打印。使用下面的代码块添加粉笔。</p><p id="e181" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ml mm mn md b">npm i chalk</code>让我们也使用代码块导入一个dotenv包:</p><pre class="lv lw lx ly fd mc md me mf aw mg bi"><span id="27f4" class="lg jp hi md b fi mh mi l mj mk">npm i dotenv</span></pre><h1 id="d9ec" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">构建报价应用程序</h1><p id="22f5" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在我们的quotes_app文件中，让我们添加下面的代码块</p><pre class="lv lw lx ly fd mc md me mf aw mg bi"><span id="789d" class="lg jp hi md b fi mh mi l mj mk">const axios = require('axios')<br/>const chalk = require('chalk');<br/>const dotenv = require('dotenv');<br/>const url = process.env.APP_URL<br/>axios({<br/>  method: 'get',<br/>  url: url,<br/>  headers: { 'Accept': 'application/json' },<br/>}).then(res =&gt; {<br/>  const quote = res.data.contents.quotes[0].quote<br/>  const author = res.data.contents.quotes[0].author<br/>  const log = chalk.red(`${quote} - ${author}`) <br/>  console.log(log)<br/>}).catch(err =&gt; {<br/>  const log = chalk.red(err) <br/>  console.log(log)<br/>})</span></pre><p id="4c22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在上面的代码块中导入了axios、chalk和dotenv。我们插入了我们的数据库——动物数据库的URL，并使用axios对带有标题的URL发出检索请求，以允许我们获得json响应。</p><p id="0efb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了记录报价，我们实现了一个catch函数来捕捉错误，并使用JavaScript promises在我们的控制台上记录报价及其作者。<br/>在运行之前，让我们使用下面的代码更改文件的权限:</p><pre class="lv lw lx ly fd mc md me mf aw mg bi"><span id="6a24" class="lg jp hi md b fi mh mi l mj mk">chmod +x quotes_app</span></pre><p id="b926" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，使用下面的关键字运行应用程序:</p><pre class="lv lw lx ly fd mc md me mf aw mg bi"><span id="5d33" class="lg jp hi md b fi mh mi l mj mk">./quotes_app</span></pre><p id="9bf0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们应该会得到类似下图的结果</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/7dff6b59fe27be3380b634552d57bca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Mz5PLivwSh0hkOM-"/></div></div></figure><h2 id="6337" class="lg jp hi bd jq lh li lj ju lk ll lm jy jb ln lo kc jf lp lq kg jj lr ls kk lt bi translated">结论</h2><p id="3cb8" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在本文中，我们了解了更多关于Fauna和Node.js命令行工具的知识。您可以扩展应用程序，以便能够实时添加日期提醒。我希望您喜欢这篇文章，并在下一篇文章中讨论与Node.js相关的其他几点。</p><p id="be2c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">快乐阅读！！</p></div></div>    
</body>
</html>