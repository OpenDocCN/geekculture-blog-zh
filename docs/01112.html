<html>
<head>
<title>Introduction to Koa.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Koa.js简介</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/introduction-to-koa-js-c332931c6b24?source=collection_archive---------9-----------------------#2021-03-28">https://medium.com/geekculture/introduction-to-koa-js-c332931c6b24?source=collection_archive---------9-----------------------#2021-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4855346d773ebbe429c2de1972c0ba0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_SEhpSaIh7-l1jV-yFgeDQ.jpeg"/></div></div></figure><h1 id="e5fb" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">什么是koa.js？</strong></h1><p id="7e60" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Koa.js是由Express.js的创建者开发的开源、最小、灵活的Node.js web框架。他们将Koa.js称为下一级Node.js框架。Koa.js官网提到koa.js是一个更小、更有表现力、更健壮的web应用和API的基础。Koa通过使用异步函数消除了回调并显著改进了错误管理。Koa的核心没有任何中间件，但是它包含了一个优雅的方法集合，可以快速方便地编写服务器。</p><p id="b71c" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">Koa.js的关键特性是使用ES6生成器，这意味着使用Koa.js编写的程序将有更少的回调，而在幕后，它使用我们从Node.js中了解到的异步代码，但代码仍然有明显的不同，它更简单，更干净，更容易掌握。</p><h1 id="937f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">KOA . js的特点</strong></h1><p id="fbe5" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Koa.js有自己独特的特点，使它更具表现力和对开发人员更友好。一些功能是</p><p id="40bd" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 1。它是现代和未来的。</strong></p><p id="9775" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">它是基于ES6规范构建的。通过拥有许多新的类和模块，ES6使得构建任何复杂的程序变得更加容易。因此，它帮助开发人员开发可维护的应用程序，这些应用程序随着时间的推移仍然有效。</p><p id="faa8" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 2。它占地面积小。</strong></p><p id="85e9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">与其他Node.js框架相比，Koa.js占用的内存更少。这有助于开发人员编写更瘦更好的中间件。然而，他们可以选择通过插入一些模块来扩展系统以满足各种项目的需要。</p><p id="1965" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 3。它使用ES6发电机</strong></p><p id="fdba" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">它用于简化同步编程，方便上游和下游的控制流。</p><p id="a5d9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 4。更好的错误处理</strong></p><p id="ec7c" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">通过更有效地使用中间件，Koa.js简化并改进了错误处理。该框架内置的错误捕获功能有助于开发者避免网站崩溃。即使没有编写额外的代码，程序员也可以用一个简单的“try/catch”命令来报告错误。开发人员还可以通过简单地修改默认设置来配置Koa.js中的错误处理。</p><p id="0359" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 5。它使用一个上下文对象</strong></p><p id="be1e" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">Koa.js还帮助开发人员使用上下文将普通的响应和请求对象封装到单个对象中。统一对象通过包含许多有用的方法和评估器，使开发人员更容易创建web应用程序和API。这个上下文是一个NodeJS对象，它将请求和响应封装到一个单独的对象中，并带有几个用于编写web应用程序和API的方法。</p><h1 id="319d" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">KOA . js的优点</strong></h1><p id="2f91" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated"><strong class="jq hj"> 1。</strong> Koa提高了互操作性和健壮性，同时还使中间件的创建更加有趣。</p><p id="a76a" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 2。</strong> Koa非常轻便，只有550行代码。</p><p id="ead4" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 3。</strong> ES6生成器将整理代码，通过消除所有回调造成的混乱，使代码更易于管理。</p><p id="ca95" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 4。</strong>它提供了非常好的用户体验。</p><p id="7f30" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 5。</strong>更干净、可读性更强的异步代码。</p><p id="b0ca" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 6。</strong>没有回调的地狱</p><h1 id="d83e" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">KOA . js的缺点</strong></h1><p id="ee8d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated"><strong class="jq hj"> 1。</strong>开源社区相对较小。</p><p id="c497" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 2。</strong>与Express风格的中间件不兼容。</p><p id="142a" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 3。</strong> Koa使用了与所有其他Node.js框架中间件不兼容的生成器。</p><h1 id="f113" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak"> Express.js vs Koa.js </strong></h1><p id="2940" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">使用Koa.js与使用Express.js类似，因为这两个框架都是由同一个团队开发的。由于没有不必要的样板代码和中间件，Koa是一个非常轻便和灵活的系统，可以根据应用程序的需求进行定制。包含库增加了应用程序的模块化。</p><p id="675f" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">Koa通过使用承诺和异步特性消除了回调问题，简化了错误管理。它公开自己的ctx.request和ctx.response对象，而不是节点的req和res对象。</p><p id="75be" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">另一方面，Express向节点的req和res对象添加了额外的属性和方法，以及许多其他框架特性，包括路由和模板，这些都是Koa所缺乏的。</p><h2 id="1415" class="kr ir hi bd is ks kt ku iw kv kw kx ja jz ky kz je kd la lb ji kh lc ld jm le bi translated"><strong class="ak">Koa和Express有什么不同？</strong></h2><p id="3856" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">没有回调地狱</p><p id="f044" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">缺少样板代码</p><p id="55ec" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">更好的整体用户体验</p><p id="090d" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">使用try/catch更好地处理错误</p><p id="8863" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">Koa较少依赖中间件</p><p id="bd65" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">Koa更加模块化</p><p id="3dc1" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">与Express不同，Routing不可用。</p><p id="5832" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">正确的流处理</p><p id="05bc" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj">你好世界</strong></p><p id="c6b9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">让我们尝试使用Koa.js显示最著名的“Hello World”</p><p id="577b" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">为了使用koa.js，您需要在计算机上安装node.js。您可以通过在终端中键入以下代码来检查Node.js是否已经安装。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/df7710606240205b24c89d2e4501905c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tSoa5lakKaJNpHUkikmsLg.jpeg"/></div></div></figure><p id="704f" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">如果返回版本，则表示您已经安装了Node.js。如果返回“未找到命令”,请从<a class="ae lk" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank"><strong class="jq hj"><em class="ll">https://nodejs.org/en/download/</em></strong></a>下载并安装node.js</p><p id="7965" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">然后创建一个新项目，然后创建一个JavaScript文件并安装Koa包。您可以在项目文件夹的终端中键入以下代码来安装Koa.js包。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/499d342794c4c3d0efb821869b9697a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*6tu8p7ntqdX6OqNbLAjZ-A.jpeg"/></div></figure><p id="012d" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">成功安装软件包后，在您的JavaScript文件中键入以下代码，以便在浏览器中显示Hello World。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/b8793da6b2606f03aad56df34fe19a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIVJgIwk6Fa8RevNyZle-Q.jpeg"/></div></div></figure><p id="b908" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在，您可以通过在终端中键入以下代码来启动服务器。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/353c8a1329856ca101b300aaa5aa2647.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*ytGx_01piu9Is30oh-9dog.jpeg"/></div></figure><p id="ab59" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在上面的代码<strong class="jq hj">中，server </strong>是我创建的JavaScript文件(server.js)的名称。为了运行，你可以输入你创建的文件名，而不是上面例子中的单词<strong class="jq hj">服务器</strong>。</p><p id="53a4" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">启动服务器后，打开浏览器并键入<strong class="jq hj"> <em class="ll"> localhost:3000 </em> </strong>在浏览器中查看输出。</p><p id="b8b7" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">恭喜你！您已经成功地使用Koa.js创建了您的第一个程序</p><p id="82b4" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">如果你想了解更多关于Koa.js的信息，请参考<a class="ae lk" href="http://koajs.com/" rel="noopener ugc nofollow" target="_blank">其网站</a>或在Github 上找到它<a class="ae lk" href="https://github.com/koajs/koa" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>