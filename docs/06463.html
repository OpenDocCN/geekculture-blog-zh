<html>
<head>
<title>2.5D Platformer: Character Controller, Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2.5D平台:角色控制器，第2部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/2-5d-platformer-character-controller-part-2-445e0acd7ae6?source=collection_archive---------15-----------------------#2021-08-20">https://medium.com/geekculture/2-5d-platformer-character-controller-part-2-445e0acd7ae6?source=collection_archive---------15-----------------------#2021-08-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="24a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我关于为2.5D平台创建角色控制器的文章的第二部分中，我将为玩家设置重力、跳跃和双跳。</p><p id="b25f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经为重力创建了一个变量，现在将它设置为1.0f，如果需要的话，以后再调整。为了检查重力，我将使用角色控制器中一个名为isGrounded的方法来查看玩家是否站在什么东西上。如果这是真的，我暂时什么都不做，如果这是假的，我会施加重力。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/28645e0b7c1d48d996709ec9c9d90c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*IxdsZheCQFa7gvZbPE-u7A.png"/></div></figure><p id="15a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就提供了重力，使得玩家可以下落。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/c7d7abf4ec52a7368a522640d5a4f649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nAaYa3qZiiJJh_p_kRu7jQ.gif"/></div></div></figure><p id="4318" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">玩家正在缓慢下降，但我会在根据需要增加跳跃的同时对此进行调整。</p><p id="6250" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是为玩家增加跳跃的时候了。我要用空格键启动玩家的跳跃。首先，我将检查是否在检查是否接地时按下了空格键。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/a7f26e116db4e1d9dfb7f3e904d82ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*L4dIjj6ktTIPSqYJC2Umiw.png"/></div></figure><p id="cdca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你在下面看到的，这仍然是一个问题。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/246c83d844f96732580ff5b46937e6bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rA9k6piWpY2DpU50F51rGA.gif"/></div></div></figure><p id="9732" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这位选手几乎没有跳起来。发生的情况是，对于每一帧，velocity.y被重置为0。为了缓解这个问题，我将创建一个名为yVelocity的float来缓存我想用于y的速度。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/ca0fc2cd177f009d0fb609a6c85bf1da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*6Y6GpPPO_C0ZufttP6hI6A.png"/></div></figure><p id="132e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我已经有了代码，我将调整我的重力和跳跃高度的值，以使移动更加平滑。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/9c19caea7497ca8690360709a2c33171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*bifTPoJ-gl_Art3U7Hyyvg.png"/></div></figure><p id="62ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这给了一个更好的跳跃，虽然我想我可以调整重力多一点，这样玩家就不会觉得他们被抓了下来。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/c2558f0b6a787e8249d1ad28f1115f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*skpHWwyiIbe9-04Ux0OrZg.gif"/></div></div></figure><p id="9af0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我将研究双跳功能。首先，我将创建一个bool来确定玩家是否可以双击，我将它命名为_canDoubleJump，将其初始值设置为false。这是因为我只希望他们双跳一次，而且是在球员没有被禁足的情况下。所以当玩家第一次跳转时，_canDoubleJump将被设置为true。那么如果玩家再跳一次，就会被设置回false。这方面的代码如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/c011af17b12d072be1bd368bbec48efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E5IxDctTeDc_3mBjhwAfdg.png"/></div></div></figure><p id="5845" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在玩家可以跳跃和双跳了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/c00e1cddd85af361398afe365670a130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FSHk7XQ9YoPoUATFHE1X6A.gif"/></div></div></figure><p id="98f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就完成了2.5D平台游戏的角色控制器的设置。我希望您对此感兴趣，并一如既往地祝您在自己的编码之旅中一切顺利。</p></div></div>    
</body>
</html>