<html>
<head>
<title>What is a Plan Generator in Oracle? | Interview Q&amp;A</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Oracle中的计划生成器是什么？|采访问答</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/what-is-a-plan-generator-in-oracle-fc0ba51c5a11?source=collection_archive---------11-----------------------#2021-12-24">https://medium.com/geekculture/what-is-a-plan-generator-in-oracle-fc0ba51c5a11?source=collection_archive---------11-----------------------#2021-12-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="106d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们将了解执行计划的生成</p><ul class=""><li id="7277" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">计划生成器生成各种计划，并让估算者计算这些计划的估算成本。然后，根据生成的执行计划的成本，它挑选性能最佳的计划，并将该计划传递给行源生成器。</li></ul><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jm"><img src="../Images/0f5bf8479708facf4b18ebb4f254af15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nwv8_Ar5kLAujJMKpP3Png.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx">Oracle Plan Generator</figcaption></figure><p id="aeb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它是如何生成计划的？</p><ul class=""><li id="0126" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">它基于尝试不同的访问路径、连接方法和连接顺序来生成计划。</li></ul><p id="2ed8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看下面的例子。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kc"><img src="../Images/6e5059aafcbbeea9aba95dbdec0a8e6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rh_2TsATQTWOYlS4JI3Xg.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx">Source: oracle</figcaption></figure><ul class=""><li id="df51" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">该模式显示了计划生成的一小部分。根据你的代码，可能有很多计划。</li><li id="ea24" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">如果您看到下图，计划生成器会生成两个不同的连接订单。</li><li id="2929" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">在第一个示例中，它尝试将部门的表连接为驱动表，将员工的表连接为连接表。</li><li id="314f" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">这里的驱动表意味着，在连接两个表时，服务器首先从驱动表中选取一行，然后将该行与另一个表的相关行连接起来。</li><li id="9c96" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">大多数情况下，如果它选择驾驶表作为较小的表，它会找到更好的成本。但当然，这并不总是正确的。所以它也需要尝试其他计划。</li><li id="2a6d" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">这里重要的是，在大多数情况下，连接顺序对性能很重要。</li><li id="1520" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">在第一个连接顺序中，它计算了3个不同连接的开销。</li></ul><p id="8838" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">*嵌套循环(NL)连接</strong></p><p id="b747" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">*排序合并(SM)连接</strong></p><p id="1e30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> *哈希连接(HA)。</strong></p><ul class=""><li id="0d29" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">稍后我们可以看到更多关于连接的细节</li><li id="c464" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">如果你看看这些连接方法的成本，哪一个成本最好。正如我们在这里看到的，散列连接是最好的连接，其值为5.20。</li><li id="1402" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">在另一个连接中，它选择雇员的表作为驱动表，并计算这个订单的连接方法的成本。</li><li id="6bfa" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">现在，它选择雇员的表作为驱动表，并计算连接方法的开销。哈希连接的开销是最小值，为5.50</li><li id="4c42" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">该订单高于第一个连接订单的最低成本。所以它为连接方法选择第一个连接顺序和散列连接。然后，它创建访问路径。</li><li id="ec87" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">它决定完全读取departments和employees表，并用散列连接方法将它们连接起来。</li><li id="fdc3" class="jd je hi ih b ii kd im ke iq kf iu kg iy kh jc ji jj jk jl bi translated">它是我们上面查询的执行计划。</li></ul><p id="9ff3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><ul class=""><li id="1fce" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">到目前为止，我们已经采取了查询的最小部分来解释这里，特别是如果我们使用更复杂的查询，将会有很多不同的连接顺序和访问路径。</li></ul></div></div>    
</body>
</html>