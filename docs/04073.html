<html>
<head>
<title>Learning Django: REST Framework and MVT Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习Django: REST框架和MVT架构</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/learning-django-rest-framework-and-mvt-architecture-1ca173163f1c?source=collection_archive---------14-----------------------#2021-06-21">https://medium.com/geekculture/learning-django-rest-framework-and-mvt-architecture-1ca173163f1c?source=collection_archive---------14-----------------------#2021-06-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e2c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">定义Django REST框架(DRF)，Django的MVT设计模式，以及它与更典型的MVC架构的比较</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/6f61079e0ab55f0367f6dcc76fa8ca4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GO1jb9H2em5KK5S-"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Photo by <a class="ae ju" href="https://unsplash.com/@faisaldada?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Faisal</a> on <a class="ae ju" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fad4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本周，为了试验一个新的后端框架，我决定在后端构建一个由Django支持的常用待办事项应用程序，并在前端做出反应。在这个过程中，我开始更多地了解Django REST框架，这是一个强大的工具包，用于构建服务器端所需的Web APIs，以及它的模型-视图-模板设计架构。</p><h2 id="a5c4" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">姜戈是什么？</h2><p id="e571" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">在深入一些与用Django构建Web APIs相关的核心概念之前，让我们先定义一下Django是什么，以及它对开发人员有什么用。</p><p id="ce0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Django </strong>是一个Python web框架，它简化了web开发中的常见实践，通过提供一个支持常见开发需求的稳定库生态系统来解决许多麻烦。</p><h2 id="8f76" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">什么是休息？</h2><p id="83f6" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">REST，或<strong class="ih hj">表述性状态转移</strong>，是一种在计算机系统之间提供标准的架构风格。</p><p id="df1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MDN网络文档<a class="ae ju" href="https://developer.mozilla.org/en-US/docs/Glossary/REST" rel="noopener ugc nofollow" target="_blank">是这样解释</a>的:</p><blockquote class="kv"><p id="eaf9" class="kw kx hi bd ky kz la lb lc ld le jc dx translated">REST的基本思想是，一个资源，例如一个文档，是通过公认的、与语言无关的、可靠的标准化客户机/服务器交互来传输的。当服务遵守这些约束时，它们被认为是RESTful的。</p></blockquote><p id="1265" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">遵循这种风格，前端/客户端和后端/服务器端的代码可以相互独立地实现，而不需要改变相反服务的操作。不同的用户可以访问相同的REST端点，执行相同的操作，并获得相同的响应。</p><p id="1bf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在REST框架下，客户端或浏览器发送一个检索或编辑数据的请求，服务器接收请求并发回一个响应。用于与REST系统中的数据点/资源交互的4个HTTP动词，定义了要执行的操作，包括:<strong class="ih hj"> GET、POST(创建新资源)、PATCH/PUT(编辑资源)、DELETE </strong>。</p><p id="00f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个<strong class="ih hj"> REST API </strong>(也称为RESTful API)是一个符合REST架构风格约束的应用编程接口(API)。在这些API中，路径被设计成帮助客户理解由于他们的请求而发生的事情(例如，定位特定的数据/资源)。</p><p id="b027" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">浏览器/用户通过RESTful API发出请求后，它会将资源状态的表示传递给请求者。这些信息通过HTTP以几种格式中的一种传递，最常见的是JSON (Javascript Object Notation)。</p><h2 id="c59c" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">Django REST框架(DRF)</h2><p id="9f6c" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">从头开始创建REST APIs需要时间和精力，但是Django提供了一个可安装的扩展，它提供了更快开始创建API的功能。</p><h1 id="815f" class="lk jw hi bd jx ll lm ln kb lo lp lq kf lr ls lt ki lu lv lw kl lx ly lz ko ma bi translated">DRF装置</h1><p id="60d2" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">在启动并运行Django项目和应用程序之后(这个七部分教程系列的第一部分<a class="ae ju" href="https://docs.djangoproject.com/en/3.2/intro/tutorial01/" rel="noopener ugc nofollow" target="_blank">和第二部分</a><a class="ae ju" href="https://docs.djangoproject.com/en/3.2/intro/tutorial02/" rel="noopener ugc nofollow" target="_blank">为初学者提供了一个坚实的基础)，在Django虚拟环境中运行以下命令，开始构建Web APIs:</a></p><pre class="jf jg jh ji fd mb mc md me aw mf bi"><span id="7786" class="jv jw hi mc b fi mg mh l mi mj">pipenv install djangorestframework django-cors-headers</span></pre><p id="ba22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你从命令行安装了它，将<code class="du mk ml mm mc b">‘corsheaders’</code>和‘<code class="du mk ml mm mc b">rest_framework’</code>添加到包含的<code class="du mk ml mm mc b">settings.py</code>文件的<code class="du mk ml mm mc b">Installed_Apps</code>列表中。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="31b4" class="lk jw hi bd jx ll lm ln kb lo lp lq kf lr ls lt ki lu lv lw kl lx ly lz ko ma bi translated">Django的设计模式</h1><p id="c7bb" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">我假设Python框架将遵循MVC——模型、视图、控制器——软件设计模式，因为它通常在Ruby、Java、C、C++等语言中使用。尽管基本的逻辑适用，Django代替了MVT——模型、视图、模板——架构，基于一些值得探索和理解的关键差异。</p><p id="ee20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">拥有像MVC或MVT这样的设计架构强调将数据表示从交互和处理数据的组件中分离出来。</p><p id="642a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">模型</strong> —应用程序中数据的接口，它提供了整个应用程序的逻辑结构，由数据库表示(通常是Postgres或MYSQL之类的关系数据库)。</p><p id="8b39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">视图</strong> —接受来自浏览器的HTTP请求并返回HTTP响应。它充当模型和模板之间的桥梁，基于从数据库中检索适当的数据来呈现模板。</p><p id="8d89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">模板</strong>—HTML代码。与React这样的前端框架/库无关。在MVC模式中，模板与视图最为相似。</p><p id="0be0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与MVC模式相比，Django框架本身处理MVC模式中控制器<strong class="ih hj">负责的事情。</strong></p><p id="bb9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MVT流程的这一步<a class="ae ju" href="https://www.askpython.com/django/django-mvt-architecture" rel="noopener ugc nofollow" target="_blank">解释</a>很好地解释了这一点:</p><blockquote class="mp mq mr"><p id="aa58" class="if ig jd ih b ii ij ik il im in io ip ms ir is it mt iv iw ix mu iz ja jb jc hb bi translated">1.用户向Django发送一个对资源的URL请求。</p><p id="6455" class="if ig jd ih b ii ij ik il im in io ip ms ir is it mt iv iw ix mu iz ja jb jc hb bi translated">2.Django框架然后搜索URL资源。</p><p id="3468" class="if ig jd ih b ii ij ik il im in io ip ms ir is it mt iv iw ix mu iz ja jb jc hb bi translated">3.如果URL路径链接到一个视图，那么这个特定的视图被调用。</p><p id="c1c4" class="if ig jd ih b ii ij ik il im in io ip ms ir is it mt iv iw ix mu iz ja jb jc hb bi translated">4.然后，视图将与模型进行交互，并从数据库中检索适当的数据。</p><p id="b2f8" class="if ig jd ih b ii ij ik il im in io ip ms ir is it mt iv iw ix mu iz ja jb jc hb bi translated">5.然后，视图将适当的模板和检索到的数据一起呈现给用户。</p></blockquote></div></div>    
</body>
</html>