<html>
<head>
<title>VPC Connection — Same Region</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VPC连接—同一地区</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/vpc-connection-same-region-57e985f94b69?source=collection_archive---------43-----------------------#2021-06-20">https://medium.com/geekculture/vpc-connection-same-region-57e985f94b69?source=collection_archive---------43-----------------------#2021-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/9c45468515439905a7d697cc6247980e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*xnd0LOlcsXZ8TvMI.jpg"/></div><figcaption class="im in et er es io ip bd b be z dx">Photo by <a class="ae iq" href="https://unsplash.com/@thomasjsn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Thomas Jensen</a> on <a class="ae iq" href="https://unsplash.com/s/photos/connectivity?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fd9b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">通常，AWS中虚拟网络(VPC)的一个逻辑组想要与另一个进行交互。AWS提供了在同一地区和不同地区的VPC之间进行连接的选项。</p><p id="6c50" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">VPC对等是由AWS提供的连接两个VPC的网络连接。VPC可以来自相同或不同的帐户。由于VPC是一个基于区域的实体，VPC对等也可以在同一账户中来自不同区域的VPC之间建立。一旦建立了对等关系，任一VPC中的实例就可以相互连接，就好像它们在同一个帐户中一样。</p><p id="b4ba" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">要创建对等连接，请转到VPC仪表板并点击<code class="du jp jq jr js b">Create Peering Connection</code>。向导看起来如下。我们需要提供我们感兴趣的当地VPC及其CIDR区块。如果我们在同一个帐户中连接到同一个地区，那么我们可以选择<code class="du jp jq jr js b">My Account</code>和<code class="du jp jq jr js b">This region</code>，并提供要连接到的VPC及其CIDR。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es jt"><img src="../Images/6e92bcdf28fe0ea6d0664757d71c54b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4yfhZgME2lvZ-8UrD3xv_w.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Create Peering Connection — AWS Console</figcaption></figure><p id="2a8a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">创建后，对等连接如下图所示，对等连接状态显示为<code class="du jp jq jr js b">Active</code>。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es kc"><img src="../Images/299eefe04db60b8a77d3bc3e449802d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GRAd19N-Wz2UadO69x-Hjg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Peering Connection Config</figcaption></figure><p id="9df5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">创建VPC对等连接后的下一步是更新两个VPC中子网的路由表。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es kd"><img src="../Images/af56aec20684fdc752dbd5971cdee0be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c0u6yS74a2rEGNUaPcjwFg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Peering Connection — Route Table</figcaption></figure><p id="19e0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">VPC对等是VPC之间的一对一连接。因此，要连接到另一个VPC，必须创建另一个对等连接并更新路由表。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ke"><img src="../Images/c5c477255c70862a2940fa671d5c666b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nohU2-O6yy6lynrghg7igQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Peering Connection -Multiple VPCs</figcaption></figure><p id="a863" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果VPC A与VPC B和VPC C有连接，这并不意味着VPC B和VPC C之间的对等连接自动可用。必须创建另一个对等连接来建立这种关系。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es kc"><img src="../Images/d27a63f32d6ef8407529563284375de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*92Ldo8CyViMEFE3IL9b_sw.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">VPC Peering — No Automatic Connection</figcaption></figure><h1 id="72a0" class="kf kg hi bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">需要知道的事情</h1><ul class=""><li id="846c" class="ld le hi it b iu lf iy lg jc lh jg li jk lj jo lk ll lm ln bi translated">VPC对等允许从同一区域的对等VPC引用安全组。</li><li id="de61" class="ld le hi it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln bi translated">支持DNS主机名解析以返回私有IP地址。</li><li id="6b36" class="ld le hi it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln bi translated">支持IPv4和IPv6地址的对等。</li><li id="2f83" class="ld le hi it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln bi translated">VPC不能有重叠的IP地址。</li><li id="1f70" class="ld le hi it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln bi translated">在相同的VPC之间不能建立冗余的对等连接。仅支持一个对等连接。</li></ul><h1 id="2016" class="kf kg hi bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">你能回答以下问题吗？</h1><ol class=""><li id="bd67" class="ld le hi it b iu lf iy lg jc lh jg li jk lj jo lt ll lm ln bi translated">VPC之间可以访问NACL吗？</li><li id="53cf" class="ld le hi it b iu lo iy lp jc lq jg lr jk ls jo lt ll lm ln bi translated">如何对VPC对等连接进行健康检查？</li></ol></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="85c4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">【https://www.pradheepa.com】最初发表于<a class="ae iq" href="https://www.pradheepa.com/posts/networking-vpc-connnectivity" rel="noopener ugc nofollow" target="_blank"><em class="mb"/></a><em class="mb">。</em></p></div></div>    
</body>
</html>