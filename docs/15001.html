<html>
<head>
<title>Network Policy to Secure Workloads on Kubernetes Cluster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">确保Kubernetes集群上工作负载安全的网络策略</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/network-policy-to-secure-workloads-on-kubernetes-cluster-99017698c748?source=collection_archive---------5-----------------------#2022-10-07">https://medium.com/geekculture/network-policy-to-secure-workloads-on-kubernetes-cluster-99017698c748?source=collection_archive---------5-----------------------#2022-10-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="5abd" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用网络策略保护您的单/多租户集群</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e387604a6c2e5fad1bcffec0c10c5253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3GDZqbf2_1z2Hnjh"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/es/@speedoshots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Miłosz Klinowski</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6ab3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在<strong class="jq hj"> Kubernetes </strong>集群配置中，任何名称空间中的任何服务都是可访问的。因此，默认情况下，pod对所有流量开放。</p><p id="7b0d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以基于命名空间或单元定义网络策略，以保护集群的工作负载。假设在一个多租户集群中，根据项目、团队或组织来分离工作负载可以通过网络策略来实现。</p><h2 id="0be2" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">方案</h2><p id="5cb9" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">假设我们必须使用Kubernetes名称空间构建一个<strong class="jq hj">三层架构</strong>。我们的应用程序将分三层部署。这三层将是<strong class="jq hj">前端层、后端层、</strong>和<strong class="jq hj">数据库层<em class="lk">。</em>T9】</strong></p><p id="aee0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●前端层</strong>将面向公众。前端层内的应用程序将使用<strong class="jq hj"/><strong class="jq hj">负载平衡器</strong>服务公开，这就是为什么前端层<strong class="jq hj"> </strong>将由外部负载平衡器的DNS或IP地址访问。</p><p id="5f7f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●后端层</strong>将包含与应用逻辑相关的工作负载。这一层将包含所有的应用程序逻辑。</p><p id="a4c3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●数据库层</strong>将包含与数据库相关的工作负载。</p><p id="0574" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如我们所知，默认情况下，每个名称空间都可以向/从其他名称空间发送流量。因此，在不应用任何网络策略的情况下，我们的3层体系结构将类似于下图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ll"><img src="../Images/d48896ea48fe6de0a9c70aa7b9339a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*fBCEy9bdhK8bUwP-z2YuYA.png"/></div></div></figure><p id="122e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们如上所示配置我们的3层架构。我们将创建三个新的名称空间。然后在名称空间中，我们将部署<em class="lk">部署</em>和<em class="lk">服务。</em></p><p id="8ad5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了简单起见，我们将使用<strong class="jq hj"><em class="lk">nginx</em></strong><em class="lk"/>映像来部署<em class="lk">部署</em>下的pod。</p><h2 id="bec9" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">1.配置新的命名空间</h2><p id="aa08" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">创建新的命名空间并为每个命名空间添加标签，以便网络策略可以应用到所需的命名空间。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><h2 id="4683" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">2.部署部署和服务</h2><h2 id="e164" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">2.1数据库层</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><h2 id="fcef" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">2.2后端层</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><h2 id="5cb0" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">2.3前端层</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="cf1c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们已经公开了使用负载平衡器服务的前端层。使用负载平衡器服务的<strong class="jq hj">外部IP </strong>，用户将能够访问驻留在前端层的应用。</p><h2 id="4507" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">3.危险人物</h2><h2 id="abdb" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">3.1问题</h2><p id="24ba" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">目前，没有网络策略应用于pod或命名空间。因此，集群中的所有单元都可以相互通信。但是我们的Kubernetes集群可以是多租户集群，或者可能有其他敏感的工作负载在集群上运行。结果，如果任何攻击者以某种方式获得了对<strong class="jq hj">前端层</strong>的访问权，那么他就可以直接访问<strong class="jq hj">数据库层</strong>或者集群中的任何其他名称空间。这是一个巨大的安全风险。</p><h2 id="996e" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated"><strong class="ak"> 3.2补救措施:</strong></h2><p id="6933" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">为了克服安全风险，我们可以使用网络策略。使用适当的网络策略，我们可以<strong class="jq hj">将</strong>前端层、<strong class="jq hj">后端层、</strong>和<strong class="jq hj">数据库层</strong>与集群中的其他名称空间隔离开来。除此之外，我们还可以将<strong class="jq hj">数据库层</strong>的<strong class="jq hj"> <em class="lk">入口</em> </strong>流量限制到<strong class="jq hj">后端层</strong>。此外，将后端层的<strong class="jq hj"> <em class="lk">入口</em> </strong>流量仅限于<strong class="jq hj">前端层</strong>。结果，如果任何攻击者以某种方式访问了<strong class="jq hj">前端层，</strong>就不能直接访问<strong class="jq hj">数据库层</strong>或任何其他名称空间。为了更好地理解，请参见下图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lo"><img src="../Images/98c7408bb9085e4e844ac46513aec0ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkQxj4rqWV2xaUJtoGrC8g.png"/></div></div></figure><h2 id="dd90" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">4.应用网络策略</h2><h2 id="4b0a" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">4.1数据库层</h2><p id="67a2" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated"><strong class="jq hj"> ●默认拒绝所有入口和所有出口流量<br/> </strong>我们可以为命名空间创建一个“默认”策略，通过在该命名空间中创建以下网络策略来阻止所有<strong class="jq hj"> <em class="lk">入口</em> </strong>和<strong class="jq hj"> <em class="lk">出口</em> </strong>流量。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="4fbd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">应用上述策略后，<strong class="jq hj">数据库层</strong>现在与集群中的其他名称空间隔离开来。</p><p id="1660" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●允许来自后端层<br/> </strong>的进入现在，我们将对<strong class="jq hj">数据库绑定</strong> r应用另一个策略，以便它只能允许来自<strong class="jq hj">后端层</strong>的<strong class="jq hj"> <em class="lk">进入</em> </strong>流量。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><h2 id="00fb" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">4.2后端层</h2><p id="b4f5" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated"><strong class="jq hj"> ●默认拒绝所有入口和所有出口流量<br/> </strong>与<strong class="jq hj">数据库层</strong>类似，我们将应用一个网络策略将<strong class="jq hj">后端层</strong>与其他名称空间隔离开来。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="5734" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●允许流出流量到数据库层<br/> </strong>在<a class="ae jn" href="#4b0a" rel="noopener ugc nofollow"> <strong class="jq hj">数据库层</strong> </a>中，我们只允许来自<strong class="jq hj">后端层</strong>的<strong class="jq hj"> <em class="lk">流入</em> </strong>流量。但是在上一步中，我们拒绝了所有进出<strong class="jq hj">后端层的流量。</strong>因此，尽管<strong class="jq hj">数据库层</strong>允许来自后端层的<strong class="jq hj"> <em class="lk">入站</em> </strong>流量，但<strong class="jq hj">后端层</strong>现在无法发送<strong class="jq hj"> <em class="lk">出站</em> </strong>流量。为了在<strong class="jq hj">后端层</strong>和<strong class="jq hj">数据库层</strong>之间创建成功的通信，我们必须允许从<strong class="jq hj">后端层</strong>到<strong class="jq hj">数据库层的出口流量。</strong></p><p id="f018" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，由于我们使用<strong class="jq hj">服务</strong>来访问pod，我们必须允许另一个<strong class="jq hj"> <em class="lk">出口</em> </strong>规则来解析<strong class="jq hj">服务</strong>的DNS。在Kubernetes集群中，DNS服务器作为kube-system名称空间中的一组pod运行。所以我们必须允许<strong class="jq hj"> <em class="lk">出口</em> </strong>流量到达kube-system名称空间。但是我们不允许<strong class="jq hj"> <em class="lk"> egress </em> </strong>流量在整个<strong class="jq hj"> kube-system </strong>名称空间上传输；我们将允许包含<strong class="jq hj">“kube-DNS”</strong>等级的pod。这样，<strong class="jq hj">后端层</strong>中的pod可以解析<strong class="jq hj">服务</strong>的DNS。</p><p id="7a1c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">使用以下网络策略允许从<strong class="jq hj">后端层</strong>到<strong class="jq hj">数据库层</strong>的<strong class="jq hj"> <em class="lk">出口</em> </strong>流量，以及kube-system名称空间的<strong class="jq hj">端口53 </strong>上的<strong class="jq hj"> <em class="lk">出口</em> </strong>:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="b657" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">完成上述步骤后，我们处于以下阶段:见图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lp"><img src="../Images/be4c473fda67db7cedcf511700e32067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ID6rTJGxgbTOAWSwThxMOA.png"/></div></div></figure><p id="8bf1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从上图中我们可以看到，<strong class="jq hj">后端层</strong>可以将<strong class="jq hj"> <em class="lk">出口</em> </strong>流量发送到<strong class="jq hj"> </strong>数据库层。但是目前，<strong class="jq hj"/><strong class="jq hj">后端层</strong>不允许任何<strong class="jq hj"> <em class="lk">进入</em> </strong>流量。</p><p id="ff50" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●允许来自前端层<br/> </strong>的流入流量我们可以对<strong class="jq hj">后端层</strong>应用一个网络策略，以便它只能允许来自<strong class="jq hj">前端层</strong>的<strong class="jq hj"><em class="lk"/></strong>流入流量。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="3633" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这样，我们就处于这样一个位置，即<strong class="jq hj"/><strong class="jq hj">后端层</strong>将允许<strong class="jq hj"> <em class="lk">从<strong class="jq hj">前端层</strong>传入</em> </strong>流量，并将流量传出到<strong class="jq hj">数据库层。</strong></p><h2 id="db62" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">4.3前端层</h2><p id="3e27" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated"><strong class="jq hj"> ●默认拒绝所有入口和所有出口流量<br/> </strong>与前面的两层类似，我们将应用一个网络策略来拒绝来自任何地方的所有<strong class="jq hj"> <em class="lk">入口</em> </strong>和<strong class="jq hj">出口</strong>流量。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="e605" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●允许后端层<br/> </strong>的流出流量，因为我们已经拒绝了所有<strong class="jq hj"> <em class="lk">流入</em> </strong>和<strong class="jq hj"> <em class="lk">流出</em> </strong>流入/流出<strong class="jq hj">前端层的流量。</strong>为了将流量发送到<strong class="jq hj">后端层</strong>，我们必须允许<strong class="jq hj"> <em class="lk">出口</em> </strong>流量到达<strong class="jq hj"/><strong class="jq hj">后端层</strong>以及<strong class="jq hj"> kube-system </strong>名称空间，以解析<strong class="jq hj">服务</strong>的DNS，正如我们前面讨论的  <strong class="jq hj"> </strong>。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="92e0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">完成上述步骤后，我们处于以下阶段:见图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/2c538d15d31d066b7a2edfeeb7e54c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g21RqJ2euucACCzSyed6Zw.png"/></div></div></figure><p id="33ad" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> ●允许来自互联网<br/> </strong>的进入流量，因为<strong class="jq hj">前端层</strong>中的应用程序正在使用负载均衡器<strong class="jq hj">服务</strong>公开。因此，请求将来自外部负载平衡器的IP地址。由于我们使用负载平衡器的外部IP拒绝来自任何地方的<strong class="jq hj"> <em class="lk">流入</em> </strong>流量，我们将无法访问驻留在<strong class="jq hj">前端层</strong>中的应用。为了解决这个问题，我们必须应用一个网络策略，它将允许<strong class="jq hj"> <em class="lk">流量从任何地方进入</em> </strong>流量，但不允许来自pod的私有IP地址的流量进入。通过这样做，我们可以限制来自驻留在其他名称空间中的pod的任何流量。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="0f2d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">至此，我们已经应用了<strong class="jq hj">保护</strong>和<strong class="jq hj">隔离</strong>Kubernetes工作负载所需的所有可能网络策略。为了更好地理解我们到目前为止所做的工作，请看下图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/b3413d83e78068292871486cb29cf983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*joTlIjeq60GVLuibqIV54g.png"/></div></div></figure><h2 id="d20e" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">5.测试和验证</h2><p id="4fd4" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">现在，让我们测试并验证所有网络策略是否都已应用或是否正常工作。</p><p id="d8a5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">●首先，让我们尝试使用负载平衡器<strong class="jq hj">服务</strong>的<strong class="jq hj">外部IP </strong>访问我们的应用程序。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/246eb51906ce52b9ee4e1cc04db08eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtIHkpTBe0MjxWuXJY1Hcw.png"/></div></div></figure><p id="c41c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上图中，我们可以看到负载均衡器<strong class="jq hj">服务</strong>的外部IP可以访问驻留在<strong class="jq hj">前端层</strong>的应用程序。</p><p id="e8e5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">●让我们深入位于<strong class="jq hj">前端层</strong>的pod，并尝试访问位于<strong class="jq hj">后端层</strong>和<strong class="jq hj">数据库层</strong>的服务</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="9f35" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">●类似地，我们还可以深入驻留在<strong class="jq hj">后端层</strong>中的pod，观察网络策略是否正常工作。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="93e0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">●最后，深入位于<strong class="jq hj">数据库层</strong>的pod，观察网络策略如何运行:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="f761" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上面的演示中，我们可以看到应用于相应名称空间的网络策略运行正常。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><blockquote class="ma mb mc"><p id="da0e" class="jo jp lk jq b jr js ij jt ju jv im jw md jy jz ka me kc kd ke mf kg kh ki kj hb bi translated">如果你觉得这篇文章有帮助，请<strong class="jq hj">不要忘记点击<strong class="jq hj">拍拍</strong>和<strong class="jq hj">跟随</strong>按钮来帮助我写更多这样的文章。<br/> <strong class="jq hj"> <em class="hi">谢谢🖤 </em> </strong></strong></p></blockquote><h1 id="5573" class="mg kl hi bd km mh mi mj kq mk ml mm ku io mn ip kx ir mo is la iu mp iv ld mq bi translated">👉所有关于Kubernetes的文章—</h1><div class="mr ms ez fb mt"><div role="button" tabindex="0" class="ab bv ff cb dy mu mv bn mw jh mx"><div class="my l"><div class="ab q"><div class="l di"><img alt="Md Shamim" class="l de bw mz na du" src="../Images/b46bdc53005abde6c6cb3e8ff0c200c3.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*Hqd8Xz1WHsoL1s2To3awnA.png"/><div class="dr bw l mz na ds n aw dt"/></div><div class="gg l dw"><p class="bd b fp z dy dz ea eb ec ed ee ef dx translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" rel="noopener follow" target="_top" href="/@shamimice03?source=post_page-----99017698c748--------------------------------"> Md沙米姆</a></p></div></div><div class="nd ne fg l"><h2 class="bd hj sr ss dy st ea eb su ed ef hh bi translated">关于Kubernetes的所有文章</h2></div><div class="ab q"><div class="l dw"><a class="bd b be z bi sv au sw sx sy pu sz an fx fy ta tb tc gb gc gd de bk ge" rel="noopener follow" target="_top" href="/@shamimice03/list/all-articles-on-kubernetes-7ae1a0f96f3b?source=post_page-----99017698c748--------------------------------">View list</a></div><div class="td l dw"><span class="bd b fp z dx">24 stories</span></div></div></div><div class="nq dh nr dy ab ns dw di"><div class="di ni bv nj nk"><div class="dh l"><img alt="" class="dh" src="../Images/f1050aa27a3ef03122558b1ba1de1f58.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*7DhVxBWLKw_5M_jP"/></div></div><div class="di ni bv nl nm nn"><div class="dh l"><img alt="" class="dh" src="../Images/f1c4131e92176033bce05392de197205.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*AkrEbqlA_j76u2I5Tm8npg.png"/></div></div><div class="di bv no np nn"><div class="dh l"><img alt="" class="dh" src="../Images/27d4385154af67764cf37713dbbdc38e.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*98RmgcHgM1cyOobu"/></div></div></div></div></div></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><h2 id="a423" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">参考</h2><p id="755b" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated"><a class="ae jn" href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/concepts/services-networking/network-policies/</a></p><p id="d5ca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://stackoverflow.com/questions/65424614/kubernetes-networkpolicies-blocking-dns" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/65424614/kubernetes-network policies-blocking-DNS</a></p></div></div>    
</body>
</html>