<html>
<head>
<title>GraphQL Spring Boot starter with Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Java的GraphQL Spring Boot入门</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/graphql-spring-boot-starter-with-java-533fe368264d?source=collection_archive---------11-----------------------#2021-08-30">https://medium.com/geekculture/graphql-spring-boot-starter-with-java-533fe368264d?source=collection_archive---------11-----------------------#2021-08-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7391" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">用Spring Boot框架和JPA创建一个GraphQL API</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/6ed5118790281c84348227fd25995341.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WoeQRI4I0Jr5czUrMjH08w.jpeg"/></div></div></figure><p id="a63b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">GraphQL既是一种API查询语言，也是使用当前数据执行这些查询的运行时。GraphQL允许客户要求他们所需要的，而不是更多，使API随着时间的推移更容易发展，并通过提供API中数据的清晰易懂的描述来支持强大的开发工具。</p><p id="c3bf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在本文中，我们将创建一个简单的机场定位应用程序。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kf"><img src="../Images/ccbfb2a1802e280a0320ae077b886cd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*yLfL1JBsbYWHdD_CWphs2A.png"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="eaf3" class="kn ko hi bd kp kq kr ks kt ku kv kw kx io ky ip kz ir la is lb iu lc iv ld le bi translated">生成项目</h1><p id="94cc" class="pw-post-body-paragraph jj jk hi jl b jm lf ij jo jp lg im jr js lh ju jv jw li jy jz ka lj kc kd ke hb bi translated">转到<a class="ae lk" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank">https://start.spring.io/</a>并生成一个项目，别忘了添加Spring Web、H2数据库和Spring Data JPA依赖项。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ll"><img src="../Images/81e63f89ab1b953e0da194f9ced62cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*umxFVATP3TBKkJGabNcKzQ.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Source:<a class="ae lk" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank">https://start.spring.io</a></figcaption></figure><h1 id="762b" class="kn ko hi bd kp kq lq ks kt ku lr kw kx io ls ip kz ir lt is lb iu lu iv ld le bi translated">添加依赖关系</h1><p id="73c7" class="pw-post-body-paragraph jj jk hi jl b jm lf ij jo jp lg im jr js lh ju jv jw li jy jz ka lj kc kd ke hb bi translated">要启用GraphQL，请在下面添加这两个依赖项。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="f9ab" class="kn ko hi bd kp kq lq ks kt ku lr kw kx io ls ip kz ir lt is lb iu lu iv ld le bi translated">架构:</h1><p id="cb94" class="pw-post-body-paragraph jj jk hi jl b jm lf ij jo jp lg im jr js lh ju jv jw li jy jz ka lj kc kd ke hb bi translated">GraphQL模式定义了通过API可用的数据点。该模式描述了数据类型及其关系，以及可用的操作，例如检索数据的查询以及创建、更新和删除数据的变异。</p><p id="c49a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在<strong class="jl hj"> <em class="lx">资源</em> </strong>文件夹中，创建一个带有“.graphqls "扩展名，整个名称将为" location.graphqls "。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="8e34" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">“！”表示该字段是必需的。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="8896" class="kn ko hi bd kp kq kr ks kt ku kv kw kx io ky ip kz ir la is lb iu lc iv ld le bi translated">实体和存储库</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ly"><img src="../Images/b698e03d352fd11a632c5de8613aae61.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/0*JSKp-OWDo8AJX5VI"/></div></figure><p id="9191" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在创建一个名为Location的实体。位置应该有三个属性:id、名称和地址，这在模式中已经提到过。当然还会生成Getters、Setters和Constrictors。</p><p id="ec25" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">那么对于这个例子，一个存储库只使用<strong class="jl hj"> <em class="lx"> CrudRepository、</em> </strong>并扩展位置实体。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h1 id="ba77" class="kn ko hi bd kp kq kr ks kt ku kv kw kx io ky ip kz ir la is lb iu lc iv ld le bi translated">查询和例外:</h1><p id="6cfd" class="pw-post-body-paragraph jj jk hi jl b jm lf ij jo jp lg im jr js lh ju jv jw li jy jz ka lj kc kd ke hb bi translated"><strong class="jl hj"> 1。查询</strong>:</p><p id="2f63" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">查询允许我们检索数据。每个查询都可以有一个特定的对象，该对象完全基于查询中指定的字段返回，您可以添加或删除字段以匹配您需要的精确数据，从而适应您的特定用例。</p><p id="debc" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">创建一个解析器包，然后添加一个新的<strong class="jl hj">查询</strong>类，该类实现了<strong class="jl hj"> GraphQLQueryResolver </strong>并添加了<em class="lx"> @Component </em>注释。我们只需要添加我们之前输入到<em class="lx"> location.graphqls </em>中的查询。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="d310" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> 2。变异者:</strong></p><p id="2422" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">GraphQL中的突变允许它更新存储在服务器上的数据。与查询不同，创建、更新或删除等变化会改变您的数据。</p><p id="1f7c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在创建一个mutator包，然后添加一个新的类<strong class="jl hj"> Mutation </strong>，它实现了<strong class="jl hj">graphqlmationresolver</strong>并添加了<em class="lx"> @Component </em>注释。另外，添加我们之前输入到<em class="lx"> location.graphqls </em>中的突变。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="909e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> 3。例外:</strong></p><p id="a6ea" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">创建一个异常包，然后添加一个新类<strong class="jl hj">LocationNotFoundException</strong>，它扩展了<strong class="jl hj"> RuntimeException </strong>并实现了<strong class="jl hj"> GraphQLError。</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="ce6b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在GraphQL API已经可以使用了！</p><p id="844a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">资源:</strong></p><p id="2473" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae lk" href="https://www.graphql-java.com/" rel="noopener ugc nofollow" target="_blank">https://www.graphql-java.com</a></p><p id="78be" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae lk" href="https://graphql.org/" rel="noopener ugc nofollow" target="_blank">https://graphql.org</a></p><p id="a545" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">源代码<a class="ae lk" href="https://github.com/sabbarmehdi/graphql" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj"> <em class="lx">此处</em> </strong> </a> <strong class="jl hj"> <em class="lx">。</em> </strong></p></div></div>    
</body>
</html>