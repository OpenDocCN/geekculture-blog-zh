<html>
<head>
<title>A Simple Way to Choose a Python Optimization Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">选择Python优化包的简单方法</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/a-simple-way-to-choose-a-python-optimization-package-250e1d3b83c9?source=collection_archive---------4-----------------------#2021-07-24">https://medium.com/geekculture/a-simple-way-to-choose-a-python-optimization-package-250e1d3b83c9?source=collection_archive---------4-----------------------#2021-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9bdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有无数的开源优化包可以帮助你最小化一个任意的多元函数，即使你不知道那个函数的导数。它们比网格或者随机搜索要好很多，但是你应该先从哪里开始找呢？</p><p id="5f61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我以一个<a class="ae jd" href="https://github.com/microprediction/humpday/blob/main/black_box_optimization_package_recommender.ipynb" rel="noopener ugc nofollow" target="_blank"> colab笔记本</a>的形式提供了一个简单的答案，您可以根据自己的目的轻松修改它。这篇文章提供了一个演练和一些背景。但是，甚至在打开笔记本之前，你可能想浏览一下全球优化者的<a class="ae jd" href="https://microprediction.github.io/optimizer-elo-ratings/html_leaderboards/overall.html" rel="noopener ugc nofollow" target="_blank"> Elo评级。这里有一些对我的问题很有效的策略。</a></p></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jl"><img src="../Images/da0bff56b4a6ed20d93514eccd086705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6PP1SzTb5EKa1Gw-0qo5gQ.png"/></div></div></figure><h1 id="b115" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">推荐</h1><p id="ba53" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">在colab中打开<a class="ae jd" href="https://github.com/microprediction/humpday/blob/main/black_box_optimization_package_recommender.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>，会看到它导入了<a class="ae jd" href="https://github.com/microprediction/humpday" rel="noopener ugc nofollow" target="_blank">驼峰日</a>包(我猜想应该是用骆驼壳写的)。接下来，我们提供一个目标函数。显然，我的是一个占位符，但是您可以根据自己的需要修改它。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es la"><img src="../Images/bf21c142d9af52f9b0ca13a8934174c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*rqB34J2FYAvtTzI3cY5REQ.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Example objective function</figcaption></figure><p id="9922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你所需要做的就是把这个发送给HumpDay推荐函数:</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lf"><img src="../Images/87671d09b5ed9945bb9f5fb299484584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vcBfrKto2V0tJiF-hKBsVg.png"/></div></div></figure><p id="f11f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你所看到的，它将产生一个推荐列表，按照Elo等级排列，并返回计算时间。如果你的目标函数本身非常昂贵，这些应该不会相差太多。但是，请注意，一些黑盒优化器的计算时间可能非常长(例如，特别是那些依赖于高斯过程的优化器)，使用一个自身的计算限制了您在固定时间单位内可以使用的目标函数求值次数的优化器是没有意义的。</p><p id="e34b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，在提供目标函数时，您指定了维数(n_dim)和函数求值的最大次数(n_trials)。您可能会注意到，针对全局优化器的<a class="ae jd" href="https://microprediction.github.io/optimizer-elo-ratings/html_leaderboards/overall.html" rel="noopener ugc nofollow" target="_blank"> Elo评级包含针对不同维度和试验数量选择的子评级。一些优化器针对不同的目的进行了调整，这就是为什么获得一个粗略的想法会有所帮助。</a></p><h1 id="f383" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">觉得幸运吗？</h1><p id="4d6f" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">现在我知道你在想什么了。如果这可以推荐一个优化器，为什么我需要做任何事情？事实上，我们欢迎您使用humpday包中的元优化器，它只是使用了第一个建议。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lg"><img src="../Images/b731a3f27650d7c885c4133bc70360f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l07-mE8nyrX-ZlBZRs6vqA.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Using the meta-optimizer in the HumpDay package. This will call the first recommendation.</figcaption></figure><h1 id="bd31" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">自己选？</h1><p id="e0c5" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">正如笔记本所展示的，你可以使用HumpDay来实例化任何出现在排行榜上或你个人推荐中的策略。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lh"><img src="../Images/ff977afa298f8f4aaaf543acb5283293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dxfFtlN649yKR6yyNONF_A.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Using HumpDay to instantiate an optimization strategy.</figcaption></figure><h1 id="cce2" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">积分赛</h1><p id="bb33" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我希望这些建议对你有用。然而，<em class="li"> your </em>目标函数的性能显然比优化器在为Elo评级而编译的目标函数上的性能更重要。如果你有时间，那么直接在你的目标函数或目标函数集上运行一些是有意义的。这个笔记本展示了这样做的一种方式，叫做分数竞赛。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lj"><img src="../Images/5f645b59b500ea031a5b38b47d3dd8cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wD3DSEbA8uUMBN3Vp9jz-A.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Using HumpDay points_race to assess optimizer performance on a list of objective functions</figcaption></figure><p id="ce9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也许那对你的问题来说耗时太长或者是弄巧成拙，因为你只想优化一次。然而，一个合理的方法是为你的实际问题创建一个更简单或更低维的版本(或者甚至是它的替代品)。</p><h1 id="2d4e" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">什么在起作用？</h1><p id="94e6" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">许多软件包，以及它们在HumpDay中的使用，都会定期进行测试。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lk"><img src="../Images/58a3d55c8957847b4c0b546aaad65097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2HI-EUHzmjC8WDIYoqrm4g.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Test results for optimization packages</figcaption></figure><p id="0d48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有时(不总是)看一眼<a class="ae jd" href="https://github.com/microprediction/humpday" rel="noopener ugc nofollow" target="_blank"> HumpDay </a> repo可以提醒你软件包中的突破性变化，这些变化可能没有被原作者发现(他们很忙，让他们休息一下)。</p><p id="1e4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于不稳定性，并且为了避免膨胀，HumpDay不会自动包含它所公开的功能的所有优化器。如果您想要全部，请尝试将以下内容添加到您的脚本中:</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es ll"><img src="../Images/9a9daead8fd27af2dbac80cdfafa60d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*T5ECzVHnXi9uqcSLfehWXg.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Examples of installing additional optimizers not included in HumpDay out-of-the-box.</figcaption></figure><p id="762b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，这是一个流动的列表，所以请参考HumpDay <a class="ae jd" href="https://github.com/microprediction/humpday/blob/main/README.md" rel="noopener ugc nofollow" target="_blank"> README.md </a>，或者更好的<a class="ae jd" href="https://github.com/microprediction/humpday/blob/main/requirements.txt" rel="noopener ugc nofollow" target="_blank"> requirements.txt </a>来看看还有什么没有。</p><h1 id="30b0" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">限制</h1><p id="45e5" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我不建议你在选择了优化包和策略之后直接使用HumpDay。这可能是限制性的，取决于您的问题，并引入了HumpDay的一个故障点(尽管如此)。</p><p id="03bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，HumpDay只支持在超立方体上定义的目标函数。如果你的函数有一个连续的域，这并不是丧失了通用性，否则HumpDay可能帮不了你太多。</p><h1 id="9563" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">方法学</h1><p id="ea4b" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我会让你参考<a class="ae jd" href="https://www.microprediction.com/blog/humpday" rel="noopener ugc nofollow" target="_blank">这篇文章</a>中对Elo评级方法的描述。那篇博客文章还包括一长串尚未包含在HumpDay中的Python优化包。如果你想帮忙，拉请求是非常受欢迎的。</p><h1 id="9e69" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">援助和贡献</h1><p id="58b9" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我写了<a class="ae jd" href="https://github.com/microprediction/humpday" rel="noopener ugc nofollow" target="_blank"> HumpDay </a>作为提供免费、高质量、开源预测的努力的一部分(也有时间序列<a class="ae jd" href="https://github.com/microprediction/timeseries-elo-ratings" rel="noopener ugc nofollow" target="_blank"> Elo评级</a>)。如果你感兴趣，可以考虑关注<a class="ae jd" href="https://www.linkedin.com/company/65109690" rel="noopener ugc nofollow" target="_blank">微预测</a>，或者提出拉取请求，或者如果你有问题，可以在美国东部时间周五中午参加我们的每周贡献者聊天。Google Meet的详细信息在<a class="ae jd" href="https://www.microprediction.com/knowledge-center" rel="noopener ugc nofollow" target="_blank">知识中心</a>中。</p></div></div>    
</body>
</html>