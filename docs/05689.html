<html>
<head>
<title>Headless WooCommerce &amp; Next.js: Create a local WordPress with WooCommerce</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Headless WooCommerce &amp; Next.js:用WooCommerce创建一个本地WordPress</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/headless-woocommerce-next-js-create-a-local-wordpress-with-woocommerce-4411b24a160e?source=collection_archive---------5-----------------------#2021-07-28">https://medium.com/geekculture/headless-woocommerce-next-js-create-a-local-wordpress-with-woocommerce-4411b24a160e?source=collection_archive---------5-----------------------#2021-07-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/660ad24832e2b4406f92c91c0796d0b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gd4bFdhZO6-KB9co"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Winkler</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6cb8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是我如何使用WooCommerce的REST API并使用Next.js创建一个无头网站的系列文章的第一篇，该网站可以显示产品，添加到购物车，并通过Stripe用卡支付结账。</p><p id="d13f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我以前用WooCommerce创建过一个标准的Wordpress网站，它和模板配合得很好，但是我发现它有局限性而且很慢。我喜欢创建一个无头解决方案的想法，用WooCommerce处理后端，Next.js弥合差距，提供一个快如闪电的定制前端。</p><p id="04b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">理论是，如果我决定离开WooCommerce，使用一个不同的电子商务平台，我就不需要彻底修改UI。相反，在基本层面上，我可以重构应用程序，以使用新的API并将数据传递到UI组件中，这样它看起来相同，但从不同的来源获取数据。同样，如果我们想使用不同于Next.js的框架——也许我们想创建一个本地移动应用程序——那么我们可以创建新的UI，并在不同的平台上使用相同的API和数据。</p><h1 id="0042" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">在你设置WordPress之前</h1><p id="d0f7" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">作为一名开发人员，老实说，我正在寻找免费的东西。我想尝试WooCommerce，但我不想支付托管费来建立一个WordPress网站。</p><p id="6a20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在我的另一篇文章中提到了这一点，但是Wordpress.org和Wordpress.com一开始真的让我很困惑。Wordpress是开源软件，可以免费使用。鉴于<code class="du kw kx ky kz b">.com</code>是最常见的顶级域名，大多数人的第一反应会是看看Wordpress.com。然而，Wordpress.com是Wordpress的商业分支，因此试图从你身上赚钱。如果你使用他们的免费账户，你可以很快建立一个Wordpress网站，但是你必须付费使用插件——即使插件通常是免费的！</p><p id="1958" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">相反，去Wordpress.org吧，在那里你可以免费下载Wordpress并免费使用插件。是的，会有你必须付费的插件，但至少你有选择。</p><p id="6d02" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在你继续下一步之前，你需要决定在哪里托管你的网站。许多网络主机包括一键Wordpress安装程序，可以很容易地用它们建立一个Wordpress网站，但是你首先需要向网络主机提供商付费。这里的优势是你将有一个可以浏览的实时网站。</p><p id="c6bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">免费选项是在您的计算机上创建一个本地开发网站——您将无法在您的网络之外访问该网站，但它对于测试和开发目的来说非常方便。</p><p id="c851" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用Stripe时，有一个缺点需要注意。稍后，您可能希望使用Stripe webhooks在卡支付成功处理后执行某项功能(例如，更新WooCommerce订单状态)。Stripe只允许发送webhooks来保护<code class="du kw kx ky kz b">https://</code>URL，而您的本地开发网站<strong class="ix hj"> </strong>将达不到<strong class="ix hj"> </strong>这一要求。</p></div><div class="ab cl la lb gp lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hb hc hd he hf"><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/631087d764eb22268d599f730c4e00fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5aEFsNirLktvTO1D"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@bradencollum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Braden Collum</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7835" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">建立一个本地Wordpress站点</h1><p id="f39b" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">你需要设置一个服务器和一个数据库来启动并运行Wordpress。有不同的选项可用，但我只使用了一种组合，我会告诉你我是如何做到的。</p><p id="296c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">设置服务器和数据库</strong></p><p id="6289" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们知道我们需要一台服务器和一个数据库，而XAMPP帮助我们实现了这两点。它是免费的，你可以在apachefriends.org<a class="ae iu" href="https://www.apachefriends.org/index.html" rel="noopener ugc nofollow" target="_blank">下载并安装。单击安装程序提示，直到选择要安装的组件。您需要勾选的唯一组件是:</a></p><pre class="li lj lk ll fd lm kz ln lo aw lp bi"><span id="a244" class="lq ju hi kz b fi lr ls l lt lu">Server:<br/>[/] Apache<br/>[/] MySQL</span><span id="f0e8" class="lq ju hi kz b fi lv ls l lt lu">Program Languages:<br/>[/] PHP<br/>[/] phpMyAdmin</span></pre><p id="6b34" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Apache是服务器，MySQL是数据库，PHP是软件使用的语言(不一定要懂PHP)，phpMyAdmin允许你交互和管理你的数据库。</p><p id="8a57" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装程序可能会要求您安装Bitnami，但您可以忽略这一点。</p><p id="703e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装完成后，您需要运行XAMPP(记得重启或关闭计算机后也要运行XAMPP ),然后在Apache服务器上单击start，在MySQL数据库上单击start。服务器和数据库启动后，您可以通过打开浏览器并导航到<code class="du kw kx ky kz b"><a class="ae iu" href="http://localhost/." rel="noopener ugc nofollow" target="_blank">http://localhost/</a></code>来测试它的工作情况。您应该会看到来自XAMPP的欢迎屏幕。</p><p id="d2ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">设置Wordpress文件</strong></p><p id="c730" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有了服务器和数据库，我们现在可以把注意力转向Wordpress本身。在wordpress.org<a class="ae iu" href="https://wordpress.org/" rel="noopener ugc nofollow" target="_blank">下载Wordpress的最新版本。</a></p><p id="1dc2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在Windows中，导航到安装XAMPP的文件夹(通常是<code class="du kw kx ky kz b">C:\xampp</code>)并找到<code class="du kw kx ky kz b">\htdocs</code>文件夹。它在<code class="du kw kx ky kz b">\htdocs</code>文件夹中，你将在那里保存所有本地的Wordpress站点。继续在<code class="du kw kx ky kz b">\htdocs</code>中创建一个新的子文件夹，并将其命名为相关的东西——我将我的命名为<code class="du kw kx ky kz b">\htdocs\woocommercenextjs</code>。现在，您需要将最近下载的Wordpress zip文件的内容提取到<code class="du kw kx ky kz b">\woocommercenextjs</code>子文件夹中。注意:<code class="du kw kx ky kz b">extract all</code>通常会将所有内容保存在自己的<code class="du kw kx ky kz b">wordpress</code>文件夹中。您不需要这个文件夹—您只需要直接在您的<code class="du kw kx ky kz b">\woocommercenextjs</code>文件夹中的内容。</p><p id="4784" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">配置数据库</strong></p><p id="5482" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下一步是创建一个数据库，并将其指向您的新项目。</p><p id="fe5c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">打开XAMPP控制面板，点击MySQL的<code class="du kw kx ky kz b">Admin</code>按钮。这将打开phpMyAdmin，帮助您管理您的数据库。这里有很多选项，但我们只想创建一个新的数据库。为此，单击<code class="du kw kx ky kz b">Databases</code>选项卡，并在“创建数据库”下的输入字段中添加您最近创建的Windows子文件夹的名称—在本例中为<code class="du kw kx ky kz b">woocommercenextjs</code>—在下拉框(在列表的最顶端)中选择<code class="du kw kx ky kz b">Collation</code>，然后单击<code class="du kw kx ky kz b">Create</code>。注意:您不必使用与您的Windows子文件夹相同的名称，但是这样做是有意义的，并且可以创建一些一致性。</p><p id="cf60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">安装Wordpress </strong></p><p id="436e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们快到了。有了为我们的新项目创建的数据库，我们现在可以安装Wordpress了。</p><p id="ff24" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，我们打开浏览器并导航到<code class="du kw kx ky kz b">http://localhost/woocommercenextjs</code>，其中<code class="du kw kx ky kz b">woocommercenextjs</code>是您在<code class="du kw kx ky kz b">\htdocs</code>中为子文件夹选择的确切名称。从现在开始，只要你的服务器和数据库通过XAMPP运行，这将是你可以用来访问你的Wordpress站点的本地URL地址。</p><p id="2ea9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你将看到Wordpress安装程序，你可以点击直到你需要输入你的数据库细节。使用下面的细节，只需将数据库名称更改为您在phpMyAdmin中使用的名称。注意:密码字段故意留空。</p><pre class="li lj lk ll fd lm kz ln lo aw lp bi"><span id="eb43" class="lq ju hi kz b fi lr ls l lt lu">Database Name: woocommercenextjs<br/>Username: root<br/>Password:<br/>Database Host: localhost<br/>Table Prefix: wp_</span></pre><p id="e42a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行安装的其余部分，就这样！现在你可以导航到<code class="du kw kx ky kz b">http://localhost/woocommercenextjs</code>来查看你的本地Wordpress站点。如果你需要访问Wordpress admin，那么你可以导航到<code class="du kw kx ky kz b">http://localhost/woocommercenextjs/wp-admin</code>。</p></div><div class="ab cl la lb gp lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hb hc hd he hf"><h1 id="0891" class="jt ju hi bd jv jw lw jy jz ka lx kc kd ke ly kg kh ki lz kk kl km ma ko kp kq bi translated">安装WooCommerce</h1><p id="f7d3" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在WordPress仪表盘中点击插件标签-&gt;添加新插件，然后搜索WooCommerce。安装并激活插件。我想现在可以了。</p><p id="df78" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们在下一篇文章中解决添加产品和配置的问题。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/18ae4206bc08d57230b92e1d6bdee916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HngAMPoNAQA_7OoW"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@shutterspence?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Spencer Bergen</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl la lb gp lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hb hc hd he hf"><p id="52ee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-create-a-local-wordpress-with-woocommerce-4411b24a160e" rel="noopener">第1部分:用WooCommerce创建一个本地WordPress】</a></p><p id="f895" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-set-up-woocommerce-test-with-postman-5e7859c65626" rel="noopener">第2部分:用邮递员</a>设置WooCommerce &amp;测试</p><p id="ad3a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-set-up-next-js-b8d2193b2688" rel="noopener">第3部分:设置Next.js </a></p><p id="b99d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-set-up-styled-components-with-typescript-and-next-js-18cc047ccd79" rel="noopener">第4部分:用TypeScript和Next.js设置样式组件</a></p><p id="9883" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-display-products-and-create-orders-593a6c5aee86" rel="noopener">第5部分:展示产品并创建订单</a></p><p id="e794" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-set-up-redux-toolkit-for-state-management-c605adda58fe" rel="noopener">第6部分:为状态管理建立Redux工具包</a></p><p id="907f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-create-a-cart-8a3e49b90076" rel="noopener">第7部分:创建购物车</a></p><p id="022b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://leojbchan.medium.com/headless-woocommerce-next-js-set-up-stripe-and-create-checkout-d01333607a66" rel="noopener">第8部分:设置条带并创建检验</a></p></div></div>    
</body>
</html>