<html>
<head>
<title>PHP 8: Features, Changes, and Improvements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP 8:特性、变化和改进</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/php-8-features-changes-and-improvements-fa484037d1b8?source=collection_archive---------9-----------------------#2021-07-23">https://medium.com/geekculture/php-8-features-changes-and-improvements-fa484037d1b8?source=collection_archive---------9-----------------------#2021-07-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2b7411a532c3fc66f36aee7b229a4cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uR6Cp0zkWxmFxwRa.jpg"/></div></div></figure><p id="4c21" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">PHP 8最近发布了，所有的技术细节都列在这里。作为一个计划开始一个用PHP编写的新网站或API的产品负责人，PHP 8对你来说意味着什么？将现有项目升级到PHP 8可以实现哪些好处？简而言之，您可以通过JIT(即时)编译升级来实现性能提升。</p><p id="b702" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，您的开发团队将能够利用一系列改进的语言特性，使PHP更适合企业级项目。联合类型允许定义类型验证，使语言更接近于强类型方法。请注意，这是一个可选特性，允许您根据具体情况利用较弱和较强的类型。</p><p id="ea90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">PHP 8提供了许多类似的升级和改进，但本文将更多地关注产品所有者对PHP 8新特性的看法。</p><h1 id="a7fc" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">PHP的历史</h1><p id="cc98" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">让我们简要回顾一下PHP最近的历史，这有助于我们理解它多年来的演变以及它是如何在版本8中引入JIT编译的。</p><p id="6ea6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在PHP的早期，它的主要用途是简化web开发。PHP的功能就像一个模板引擎，允许用户选择数据库中的数据，并动态地将其呈现为HTML。PHP试图避免用C/C++编写过于复杂的项目，并降低web开发人员的技术门槛。随着时间的推移，PHP作为一种语言成长起来，增加了更多的特性，最终不仅仅是一个模板引擎。</p><p id="6aae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到了第5版，PHP已经成为一种通用的web语言，拥有一个庞大的社区和各种健壮的框架和库。版本5引入了强大的OOP支持，允许用户创建结构化的企业级代码，这些代码是用最好的可靠原则编写的。PHP的新版本引入了框架的概念，其中最流行的(Laravel)是作为老派CodeIgniter的替代品开发的。Symfony-framework成为了PHP世界的Java Spring enterprise framework，PHP获得了像package manager Composer和单元测试框架PHPUnit这样的工具。</p><p id="ee1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">PHP 5之后的下一个主要版本是PHP 7——是的，他们跳过了PHP版本6。核心团队选择不引入JIT编译，而是对解释器本身进行了大量优化，并设法在很大程度上保持语言的向后兼容(不像从Python 2升级到Python 3)。</p><p id="3811" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">PHP 7引入了显著的性能提升、优化的RAM使用和改进的语法，并且在大多数情况下向后兼容PHP 5应用程序，只有极少数例外能够在合理的时间框架内与PHP 7同步。</p><p id="1980" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，PHP 8已经引入了JIT编译以及许多其他PHP 8突破性的变化，这是对版本7进行改进的合理步骤。好消息是PHP核心团队继续他们优先考虑向后兼容性的方法，就像他们从版本5迁移到版本7一样。</p><h1 id="51a3" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">为PHP 8做准备:这对你现有的应用程序意味着什么？</h1><p id="edb6" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">你应该明天用PHP 8升级你的生产服务器吗？大概不会。首先，你应该确认PHP 7.4版本一切正常。如果是这种情况，您的开发团队应该熟悉迁移指南。</p><p id="7d8d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请注意，有些元素已被弃用，升级到版本8后将无法使用。请记住，问题不仅会出现在您自己的代码中，还会出现在依赖关系中。检查composer.json中的依赖项是否支持PHP 8很重要。此外，如果您使用框架，您将需要升级您的框架。Symfony framework 5.2应该已经兼容了。</p><p id="cfe9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<a class="ae jo" href="https://blog.laravel.com/laravel-php-8-support" rel="noopener ugc nofollow" target="_blank"> Laravel </a>来说应该也是如此。</p><p id="3ffa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然您不应该立即升级您的生产服务器，但是您应该开始分配您的开发团队来研究最终升级到版本8所需的时间和精力。这将包括在您的遗留代码中用过时的和被贬低的功能和方法来重构代码。</p><p id="e750" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">即使在您的团队能够修复所有需要更新的东西之后，您也应该对您的系统进行全面的测试回归，因为即使在一个具有足够自动化测试覆盖率的项目中，重构也经常会导致新的错误。</p><p id="b0cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">全面测试完成后能否升级生产？是的，这是可能的。但建议等待下一个次要更新版本，它将修复新的主要版本中未被注意的问题。</p><p id="cbba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确保使用旧设置测量您的性能，并与升级后的新性能进行比较，看哪种设置最适合您的项目。特别是，您应该检查启用JIT将如何影响您的应用程序。它可能有也可能没有显著的效果。</p><p id="6b3f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然性能不会在每种情况下都受到影响，但是JIT编译在未来为PHP增加了许多机会。JIT可以支持经典服务器端web应用程序之外的潜在用例，并可能在未来的版本中为PHP添加更多的异步编程特性。</p><h1 id="eee7" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">如何开始一个新的PHP项目</h1><p id="4101" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">如果您是从零开始，您可以从版本8开始。这降低了与从先前版本迁移相关的任何成本。当您的团队正在工作时，新的次要版本将会发布，当准备就绪时，您可以安全地进入生产环境。</p><p id="a2aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">新的PHP 8改进将允许您的团队编写更干净的代码，从一开始就带来更好的性能。请记住，您的团队在旧版本PHP中编写的代码越多，当您选择升级到版本8时，您需要做的迁移就越多。</p><p id="2aa0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用PHP 8的最大障碍是，如果你知道在发布时你会有一些与版本8不兼容的依赖项。然而，这可能是一个信号，表明你无论如何都应该考虑替换那些依赖项。</p><h1 id="e542" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><p id="ddf4" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">2020年在很多方面都是艰难的一年，但PHP 8的发布是一个小小的希望。不要错过通过PHP 8的新变化升级应用程序性能和提高代码质量的机会。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="d954" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由MobiDev的Web解决方案架构师Alex Vasilchenko撰写。</p><p id="b859" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kz">全文原载于</em><a class="ae jo" href="https://mobidev.biz/blog/php-8-new-features-changes-boost-perfomance-jit" rel="noopener ugc nofollow" target="_blank"><em class="kz">https://mobidev . biz</em></a><em class="kz">基于mobi dev技术研究。</em></p></div></div>    
</body>
</html>