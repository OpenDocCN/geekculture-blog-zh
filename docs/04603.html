<html>
<head>
<title>Getting started with real-time image processing on Nvidia Jetson AGX Xavier</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nvidia Jetson AGX Xavier实时图像处理入门</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/getting-started-with-real-time-image-processing-on-nvidia-jetson-agx-xavier-9e2ba008b665?source=collection_archive---------13-----------------------#2021-06-30">https://medium.com/geekculture/getting-started-with-real-time-image-processing-on-nvidia-jetson-agx-xavier-9e2ba008b665?source=collection_archive---------13-----------------------#2021-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="189f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jd translated">他的教程是为那些不熟悉使用Jetson平台的人准备的，特别是T2的Nvidia AGX Xavier。Nvidia Jetson平台是嵌入式系统(可以放在你的手掌上！)已知在动态环境中实时执行边缘计算(高吞吐量计算)。这种硬件的应用出现在农田农业中，其中包括某些实时应用，如作物侦察(Yang等人，2020年)、水果检测(Mazzia等人，2016年)、修剪应用(Mulhollem等人，2020年)等。随着这些系统在处理计算机视觉应用的大量数据方面变得越来越先进。因此，当我开始使用这个硬件时，我记下了一些要点(非常简单，可以让你开始使用),以使它对你来说更容易和更容易，而不需要花费几周甚至几个月的时间让系统运行起来！</p><p id="e76a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">新手用户可以学习设置系统的基础知识(在完全完成这篇博客之后)并进一步利用(通过在python上开发自己的脚本来执行高级图像处理！)这个模块在他们的研究领域中的力量。到目前为止，Nvidia已经发布了这些模块的几个版本，它们的RAM大小不同，功耗也不同。从Jetson Nano到Xavier，这些系统的性能随着您的花费而有所不同。目前可用的3种系列有:</p><ol class=""><li id="471b" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">杰特森纳米系列</li><li id="1a11" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">杰特森TX1/TX2</li><li id="b8dc" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">Jetson Xavier系列(NX/AGX)——<em class="ka">本博客涵盖该模块</em></li></ol><p id="d9e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开始前的先决条件:</p><ol class=""><li id="4ffb" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">你应该知道如何通过命令行操作基于Linux的系统</li><li id="e1c4" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">了解cv2 . capture(OpenCV库)的工作原理</li><li id="9160" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">简单的图像处理基础知识(过滤，阈值，等等！)</li></ol><h1 id="35a2" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">将它连接到显示器</h1><p id="fc83" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">我写这篇文章作为博客的一部分，因为当我第一次使用这个模块时，我不知道该做什么。我认为在这台机器上执行人工智能所需的工具和软件包(如CUDA、cuDNN、TensorRT、OpenCV)已经安装好了。当您将此模块与显示器连接时，您可能会有同样的感觉。这里的一个建议是:<strong class="ih hj">“不要试图使用任何转换器来连接模块和监视器。它只支持HDMI到HDMI的连接"</strong>。如果您尝试使用任何转换器，比如说那些蓝色显示器到HDMI转换器，屏幕将不会显示任何内容。你第一次连接这个显示器时，它会打开Ubuntu(基于Linux的操作系统，我的是16.04)。</p><h1 id="9a03" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">你需要一台安装了Linux的远程电脑</h1><p id="6979" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">是的，你需要连接这个系统(通过USB C到USB)来刷新它。这个闪存安装所有需要的软件包。简而言之，sdk manager是一个GUI，它可以帮助您安装(通过手动选择)执行基于计算机视觉的任务所需的所有软件包。您需要开始做的事情:</p><ol class=""><li id="2733" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">模块(Nano，TX1/TX2/AGX/NX)</li><li id="7f07" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">连接到模块的监视器</li><li id="c7cd" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">独立的键盘和鼠标</li><li id="4be7" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">以太网连接。以防万一如果你有Wifi芯片，请安装在Xavier AGX上启动无线连接，</li><li id="554b" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">安装了Linux的远程电脑——你需要在你的模块和远程电脑上安装相同版本的Ubuntu</li><li id="6379" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">一套额外的键盘和鼠标</li><li id="64f1" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">键入C to USB，将其从模块连接到远程PC</li></ol><h1 id="f4da" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">使用sdk管理器用Jetpack刷新它</h1><p id="8a30" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">首先，在Nvidia Developer(<a class="ae le" href="https://developer.nvidia.com/" rel="noopener ugc nofollow" target="_blank">https://developer.nvidia.com/</a>)上创建一个帐户，并下载sdk manager (*。deb)在远程PC的下载文件夹中。一旦完成，打开终端<strong class="ih hj">和<em class="ka">光盘</em>到</strong>下载。在此之后键入以下内容:步骤01— - &gt;</p><ol class=""><li id="7a6c" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">sudo易于安装。/SDK manager _[版本]。[内部版本号]。deb (你可以简单地复制粘贴你刚刚下载的文件名)</li><li id="f502" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">安装后，键入，<em class="ka"> sdkmanager。</em>用你的ID和密码登录(记得我之前让你做账号！)</li></ol><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lf"><img src="../Images/871f81434486b92f16d9876482dade67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9IcEsa-A4HSIN5nvUYFNw.png"/></div></div></figure><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lr"><img src="../Images/e49998620706ac7ffe8538a5feef4c0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M7lmrQ3e9bykdND2W8Sofw.png"/></div></div></figure><p id="873a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.您将看到一个如下所示的GUI(图1)。您可以选择您计划用于工作的任何目标硬件，并确保您的sdk管理器已经检测到有一台Jetson机器连接到您的远程PC。如果您愿意，可以选择最新的Linux Jetpack。继续执行步骤02-&gt;</p><p id="54a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.第二步是整个装置的核心。这是安装所有必需的包、库、工具(如CUDA、TensorRT、cuDNN、计算机视觉和开发工具)的地方。如果你愿意，把它安装在你想要的目录/位置。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ls"><img src="../Images/e859695f4d0e108881e36b637873e3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZDQhiwDKRn4xMPITrrYziQ.png"/></div></div></figure><p id="dcb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.安装需要大约1/2小时到40分钟，取决于您的互联网速度。如果中途失败，再试一次。如果那也不起作用，试着从头开始一切。</p><figure class="lg lh li lj fd lk er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lt"><img src="../Images/5dac1dfe9eb2f0d020f7f86757136fa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZMB_U1vvX_BSHugAXwDUBg.png"/></div></div></figure><p id="79e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.一旦你看到这个屏幕(左)，输入你的用户名和密码，并闪烁它！一旦您的Jetson模块成功刷新，您的Jetson将重新启动，要求您再次输入您的用户名和密码。动手吧！完成这一步后，您就不需要远程电脑了。</p><h1 id="bd33" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">下载GithHub库并安装OpenCV </strong></h1><p id="14b0" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">杰特森·哈克斯(<a class="ae le" href="https://www.jetsonhacks.com/" rel="noopener ugc nofollow" target="_blank">https://www.jetsonhacks.com/</a>)在这个平台上做了一些很酷的东西。如果你愿意的话，可以在他的GitHub页面(<a class="ae le" href="https://github.com/jetsonhacks" rel="noopener ugc nofollow" target="_blank">https://github.com/jetsonhacks</a>)上迁移到他的知识库，探索更多。</p><p id="9eb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们更倾向于使用OpenCV进行实时应用，所以让我们从源代码安装OpenCV，这样您就可以配置GStreamer(<a class="ae le" href="https://gstreamer.freedesktop.org/" rel="noopener ugc nofollow" target="_blank">https://gstreamer.freedesktop.org/</a>)支持，它支持用于实时应用的外部(可能是USB网络摄像头或Raspberry Pi cam)摄像头。另外，Xavier AGX Jetson板有不同的模式供您选择，如10W、15W、30W等。这些模式根据要求苛刻的任务提供不同的功率来执行高吞吐量应用。更多内容请看这个(<a class="ae le" href="https://www.jetsonhacks.com/2018/10/07/nvpmodel-nvidia-jetson-agx-xavier-developer-kit/" rel="noopener ugc nofollow" target="_blank">https://www . jetsonhacks . com/2018/10/07/nvp model-NVIDIA-jetson-AgX-Xavier-developer-kit/</a>)。<strong class="ih hj"> <em class="ka"> cd </em> </strong>到你要安装所有OpenCV相关依赖项的文件夹。<strong class="ih hj">确保驱动器中有足够的空间！跟着这些:</strong></p><ol class=""><li id="b3ba" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated"><em class="ka"> $git克隆</em><a class="ae le" href="https://github.com/jetsonhacks/buildOpenCVXavier" rel="noopener ugc nofollow" target="_blank"><em class="ka">https://github.com/jetsonhacks/buildOpenCVXavier</em></a><em class="ka"/>(我用这个是因为我用的是AGX Xavier)</li><li id="32cf" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">切换到下载的存储库:<em class="ka"> cd buildOpenCVXavier </em></li><li id="fc5a" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">现在你会看到* <em class="ka">。sh </em>文件，输入<em class="ka"> ls。</em>一旦确认，键入<em class="ka">、</em>、<strong class="ih hj">、<em class="ka">、</em></strong>、<em class="ka"> $。/buildAndPackageOpenCV.sh(构建大约需要50分钟或1小时)</em></li><li id="e56a" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">现在你会注意到opencv文件夹安装在你的驱动器中，迁移到同一个opencv文件夹中的build文件夹，<em class="ka"> $cd..</em>—&gt;<em class="ka">$ CD opencv</em>—&gt;<em class="ka">$ CD build</em></li><li id="81e7" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">一旦进入，输入，<em class="ka">$ sudo apt-get install cmake-curses-GUI</em>。这将打开一个包/依赖项列表，供您根据需要进行手动配置。我不认为这是一个必要的步骤，但像往常一样，你可以随时探索！</li></ol><h1 id="0150" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">使用网络摄像头部署实时处理</h1><p id="e83a" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">我正在添加一些当我成功完成所有事情时点击的很酷的图片。</p><div class="lg lh li lj fd ab cb"><figure class="lu lk lv lw lx ly lz paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><img src="../Images/36a176c58a845ed47ee9ab11e6057fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Ak8-WXky5KIuFyjR8EZ3mQ.jpeg"/></div></figure><figure class="lu lk lv lw lx ly lz paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><img src="../Images/81c7f79ba16b62473395ff9a3eb4f9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*_0lF9p_VhloI3211a_gpeQ.jpeg"/></div><figcaption class="ma mb et er es mc md bd b be z dx me di mf mg">Figure. Canny Edge and 4-split screens with live camera feed, canny edge, Gaussian Filter</figcaption></figure></div><ol class=""><li id="4eed" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">现在一切都很简单了。迁移到克隆存储库buildOpenCVXavier中的<strong class="ih hj">示例</strong>文件夹。一旦进入，您将看到已经有一个为编写的程序(从存储库中克隆的！)你，叫做，<strong class="ih hj"> <em class="ka"> cannyDetection.py </em>。</strong>这是一个简单的边缘检测算法。</li><li id="1beb" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">这很重要。如果你在Jetson AGX Xavier上工作，你需要对代码做一个非常微小的改变，使其通过USB摄像头传输。如果你打算使用TX2/Nano，我认为没有必要改变。</li><li id="2370" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">因此，打开代码，寻找这一行，</li></ol><p id="8ce2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ka"> def open_camera_device(设备编号):</em> </strong></p><p id="1820" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ka">返回cv2。VideoCapture(设备编号)，</em> </strong></p><p id="8eab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将第二行中曲线括号<strong class="ih hj">内的<strong class="ih hj"> <em class="ka"> device_number修改为0 </em> </strong>。这会让GStreamer通过您的网络摄像头传输实时视频。完成后，保存并在终端中键入这些内容，</strong></p><p id="bf72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ka"> 4。$ ./cannyDetection.py —视频设备1。</em>你会看到这样的东西(上图，你坐在前面！)</p><p id="ef9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">您可以使用这些东西，创建自己的图像处理算法并进行部署。玩得开心！</strong></p><h1 id="730c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">参考文献</strong></h1><p id="7152" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">马齐亚，维托里奥&amp;萨尔维蒂，弗朗切斯科&amp;哈利克，阿莱姆&amp;基亚伯格，马塞洛。(2020).使用具有硬件加速器的嵌入式系统的实时苹果检测系统:边缘人工智能应用。</p><div class="mh mi ez fb mj mk"><a href="https://news.psu.edu/story/626728/2020/07/24/research/novel-cutting-mechanism-devised-automated-robotic-apple-tree" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hj fi z dy mp ea eb mq ed ef hh bi translated">为自动化机器人苹果树修剪系统设计的新型切割装置</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">第一个机器人切割机构-或“末端执行器”-一个完全自动化，计算机化的修剪系统，为现代…</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">news.psu.edu</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my lp mk"/></div></div></a></div><p id="7159" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">杨，明德&amp;布宾，杰森&amp;蔡，惠萍&amp;曾，新宏&amp;许，玉春&amp;史都华，克里斯托弗。(2020).利用边缘计算和深度学习EDANet进行水稻倒伏评估的自适应自主无人机侦察。农业中的计算机和电子学。179.10.1016/j.compag</p><div class="mh mi ez fb mj mk"><a href="https://www.jetsonhacks.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hj fi z dy mp ea eb mq ed ef hh bi translated">首页- JetsonHacks</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">今天在GTC，NVIDIA宣布新的Jetson Nano 2GB售价仅为59美元！看这里:背景回到2019年3月…</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">www.jetsonhacks.com</p></div></div><div class="mt l"><div class="mz l mv mw mx mt my lp mk"/></div></div></a></div><p id="2c22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae le" href="https://developer.nvidia.com/embedded/jetson-modules" rel="noopener ugc nofollow" target="_blank">https://developer.nvidia.com/embedded/jetson-modules</a></p><p id="5b99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注:如有疑问，请联系我，</strong><a class="ae le" href="http://nitinprecisionag.com" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">nitinprecisionag.com</strong></a><strong class="ih hj">。我会尽力解决的！</strong></p></div></div>    
</body>
</html>