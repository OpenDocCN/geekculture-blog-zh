<html>
<head>
<title>Minifiying JS files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">缩小JS文件</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/minifiying-js-files-861cdd7b214c?source=collection_archive---------10-----------------------#2022-01-30">https://medium.com/geekculture/minifiying-js-files-861cdd7b214c?source=collection_archive---------10-----------------------#2022-01-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="79b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">离线选择</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a9bb950dd0ca398098fcc1e1c93df042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5BaqaJ8jYRjgVxO9"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@mfrazi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Fahrul Razi</a> on <a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7139" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们的网站加载更快的方法之一是缩小我们的Javascript文件。还有一个额外的好处:缩小Javascript文件使得外行人更难读懂，因此为<em class="ju">提供了一些针对抄袭者的</em>保护(只有缩小才能被逆向工程，我们需要一个混淆器来代替。这篇文章并没有谈到这一点，但是一个混淆器的例子可以在这里找到<a class="ae jt" href="https://obfuscator.io" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="7007" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">在线微型打印机</h1><p id="d2e8" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">这只是可用工具的一小部分，但这些是我最常用的工具:</p><ol class=""><li id="8f81" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated"><a class="ae jt" href="https://closure-compiler.appspot.com/home" rel="noopener ugc nofollow" target="_blank">谷歌闭包编译器</a></li><li id="55cd" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated"><a class="ae jt" href="https://jscompress.com" rel="noopener ugc nofollow" target="_blank"> JSCompress </a></li><li id="c4b3" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated"><a class="ae jt" href="https://www.minifier.org" rel="noopener ugc nofollow" target="_blank">缩小</a></li></ol><h1 id="def1" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">离线缩小器</h1><p id="f20a" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">有时我变得偏执，我宁愿使用不在服务器上的东西，而不是把东西粘贴到别人的页面上。并且<a class="ae jt" href="https://requirejs.org" rel="noopener ugc nofollow" target="_blank"> RequireJS </a>有一个我们可以使用的优化器。</p><p id="abe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第0步:获取需求</strong></p><p id="317f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在节点中使用<a class="ae jt" href="https://requirejs.org/docs/node.html" rel="noopener ugc nofollow" target="_blank"> RequireJS，并在Docker上运行NodeJS。我没有使用npm安装requirejs，因为对于我的用例来说有一个更简单的方法——只需</a><a class="ae jt" href="https://requirejs.org/docs/release/2.3.6/r.js" rel="noopener ugc nofollow" target="_blank">获取r.js文件</a>，如这里的<a class="ae jt" href="https://requirejs.org/docs/download.html#rjs" rel="noopener ugc nofollow" target="_blank">所列</a>，在最新版本下。</p><p id="fe1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按照惯例，我假设我们要缩小的文件的名称是myfile.js。</p><p id="b86c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步:准备文件</p><p id="e8c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个文件夹，例如~Documents/MyFolder，并将r.js和myfile.js放入该文件夹。</p><p id="54f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:在Docker上运行节点</strong></p><p id="b40d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们已经获取了最新的Docker映像，在Docker桌面下的节点映像上单击Run。打开可选设置。在“卷”下，将主机路径设置为～Documents/my folder(我们在步骤1中创建的文件夹)。将容器路径设置为/home。单击运行。</p><p id="8485" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:输入命令</strong></p><p id="6c22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">容器运行时，单击CLI图标。这将打开一个新的终端窗口(我在Mac上)。</p><p id="5773" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导航到/home文件夹。</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="e412" class="lr jw hi ln b fi ls lt l lu lv">cd home</span></pre><p id="a645" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过使用以下命令，我们应该可以在该文件夹中看到我们的文件r.js和myfile.js:</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="5379" class="lr jw hi ln b fi ls lt l lu lv">ls</span></pre><p id="750c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们可以使用以下方法缩小文件:</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="9c8c" class="lr jw hi ln b fi ls lt l lu lv">node r.js -o name=myfile out=myfile.min.js baseUrl=.</span></pre><p id="1b72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">产生的缩小文件与闭包编译器生成的文件相当。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><p id="75c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您阅读本文！我希望这在某种程度上对你有用。当我在开发中遇到一些东西时，我会写一些片段，以一种解释的方式。如果你有兴趣阅读更多，请查看我的其他文章或在Twitter上关注我。</p></div></div>    
</body>
</html>