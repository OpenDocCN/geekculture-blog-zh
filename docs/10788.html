<html>
<head>
<title>System Design-I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">系统设计-I</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/system-design-i-cd3ad3a4c852?source=collection_archive---------20-----------------------#2022-02-15">https://medium.com/geekculture/system-design-i-cd3ad3a4c852?source=collection_archive---------20-----------------------#2022-02-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="942f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">系统是一组组合在一起的组件，用来满足不同类型的用户及其需求。设计是选择服务/组件等的过程。设计一个系统通常基于用户群、产品类型等。例如，脸书、Viber等大型系统具有巨大的扩展能力。它们旨在以最小的努力和最大的客户满意度大幅扩展。设计一个系统的直觉来自经验，但是从某个地方开始，所以系统的基本组件通常是实体。它们是构成系统的有形的东西。一般来说，实体有两种类型</p><p id="6a37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.逻辑实体</p><p id="a990" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.有形实体</p><p id="c802" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">逻辑实体由数据库、应用程序、通信协议(tcp/udp等)、https请求(如REST、Soup)组成。所有这些组件都运行在一个系统或平台上，实际上都符合系统要求。确切地说，像缓存、消息队列、基础设施等等。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/660bd30a69df4c3f04adb85de3835512.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T8dORYNgjFpBImeA"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ee41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有形实体是那些为逻辑实体提供实体的实体。它们是满足上述要求的软件/数据库等。例如:- Redis，mysql，RabbitMq，API等。</p><p id="fa0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">系统是一个完整的功能结构，由复杂的东西组成，如数据库、服务器、环境、代理等。比。深入研究这些概念，一个系统包括:-</p><p id="6e84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">客户端-服务器架构:</strong> —顾名思义，客户端和服务器是任何系统的两个部分。客户端负责创建请求等，而服务器负责处理。这两者共同构成了一个功能齐全的应用程序。然而，重要的是要注意两个术语</p><p id="c9ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">瘦客户机:-在服务器端进行大量<strong class="ih hj">处理的客户机或系统称为瘦客户机。例如网飞</strong></p><p id="e78c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">胖客户端:-在客户端进行大量<strong class="ih hj">处理的客户端或者系统称为瘦客户端。例如，Outlook、Gmail等</strong></p><p id="cc35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据需求，客户端服务器架构可以有多种类型，其中一种就是<strong class="ih hj"> N层架构。</strong>当系统中的数据量很大，服务器不可能做所有的事情时，通常使用N层架构。客户端-服务器架构被分成多个部分，并且处理单元/逻辑单元被组织成处理大量数据。</p><p id="2642" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">代理:</strong> -代理基本上是一个代表客户端与服务器对话的系统/机器，反之亦然。通常用于减少b/w客户端和服务器之间的通信量。代理可以有两种类型:-</p><p id="19e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"/><em class="ju">转发代理:- </em>这些代理由<em class="ju">客户端用来与服务器</em>通信。所有b/w客户端和服务器的流量都将首先从代理服务器通过，然后到达服务器。这通常是<em class="ju">阻止客户端访问某些网站，为客户端形成防火墙，因为访问服务器，流量监视器等</em>。</p><p id="0850" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"/><em class="ju">反向代理</em><strong class="ih hj"><em class="ju">:</em></strong><em class="ju">-</em>在这里，代理坐镇服务器，充当服务器的中间人。客户端不知道服务器的IP地址。客户端的任何请求都通过代理，然后到达服务器。类似地，任何响应首先到达服务器。这在负载平衡、减少DDos攻击等情况下非常有用。如果反向代理失败，它会成为一个瓶颈。怎么会？服务器将直接暴露给客户端，因此容易受到网络攻击等。</p><p id="8eeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据和数据流</strong> : —数据是流经系统的信息。这是一个非常著名的术语，但重要的是理解什么类型的数据流经什么类型的层或应用程序。例如:-在Tcp/Udp数据包流等。进一步了解储存设施的类型也很重要。例如:-频繁的请求/响应应该存储在缓存等。还需要考虑设备的数据流。此外，安全性、类型、数据量等存储策略也应该成为系统设计的考虑因素。</p><p id="56bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">应用程序/服务</strong> : —跳过明显的术语基础，应用程序的开发主要需要考虑以下几点</p><p id="5338" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">五<em class="ju">应用的要求</em>。建造一个购物中心</p><p id="a33e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">v <em class="ju">交互层</em>即webapp、android app等。</p><p id="2426" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">v <em class="ju">基于交互层的技术栈</em>，例如:- android是java/kotlin等</p><p id="bad9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">五<em class="ju">代码结构/设计模式</em></p><p id="c692" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">v <em class="ju">关于数据存储交互</em>的考虑，即通信b/w客户端和数据库</p><p id="c44a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju">五性能和成本</em></p><p id="a889" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju"> v部署</em></p><p id="1382" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju"> v监控和记录</em></p><p id="7b4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju"> v可靠性</em></p><p id="015f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缓存:</strong> -缓存是将数据临时存储在称为缓存的内存存储中的过程。当一个用户或一组用户频繁访问数据时，通常会进行缓存。此外，缓存降低了数据库访问和代数/其他计算方面的内存成本。缓存也经历缓存验证和无效的过程。</p><p id="aeb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现实系统中的缓存遵循一定的模式来优化其性能。缓存备用策略就是这样一种方法，其中缓存只与服务器或客户端通信，与存储或数据库无关。</p><p id="6f9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二种策略是直通式缓存。这里缓存了黑白服务器和数据库。<em class="ju">服务器只能联系缓存，而不能联系数据库</em>。从<a class="ae jt" href="https://dzone.com/articles/introducing-amp-assimilating-caching-quick-read-fo" rel="noopener ugc nofollow" target="_blank">这里的</a>可以知道很多这样的图案。</p><p id="f35d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缩放</strong> :-假设我们有一家餐厅，最大容量为10人。在旺季或节假日，餐厅的人可能会增加两倍或三倍。在这种情况下，餐馆老板需要增加他的容量来满足新的请求。这种<em class="ju">根据需求增加电流容量的过程称为缩放</em>。</p><p id="e296" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了扩大规模，他可以做两件事，一是增加每张桌子的椅子数量，二是增加桌子数量，或者两者兼而有之。第一种称为垂直缩放，第二种称为水平缩放。从技术上讲，当我们增加现有<em class="ju">资源</em>的当前容量时，会发生垂直扩展；当我们增加资源总数时，会发生水平扩展。</p><p id="1171" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据需要，缩放可以是水平的，也可以是垂直的。两者之间存在许多技术差异，但一般来说，如果可以通过利用现有资源来处理需求，或者资源能够保持规模，则垂直扩展会更好。在上述情况失败或需求更多的情况下，水平扩展更好。成本、灵活性和性能始终是决定这些事情的因素。更多细节，你可以在这里跳到<a class="ae jt" href="https://www.section.io/blog/scaling-horizontally-vs-vertically/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="f51c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上是一些基本的东西，如果你打算学习系统设计，知道这些东西是很有必要和非常有用的。尽管除了以上所述，还有三个术语可能有助于了解。首先是<strong class="ih hj"> <em class="ju">负载平衡</em> </strong>，我们将一台服务器的负载分配给其他子服务器。第二个是<strong class="ih hj"> <em class="ju">消息队列</em> </strong>。消息队列基本上是用于将数据包从一个微服务/服务器传送到另一个微服务/服务器的载体。除了消息传递之外，它们还可以对从一个服务器到另一个服务器的请求进行排队，还可以帮助检测服务故障/中断或服务延迟等。第三个是<em class="ju"/><strong class="ih hj"><em class="ju">发布/订阅模型</em> </strong>，通常称为发布者和订阅者模型。发布/订阅模型主要用于微服务的情况，在这种情况下，我们可以订阅客户端来监听服务器，以防它发布任何响应。</p><p id="35ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，可能还需要许多其他组件/东西，但它们可以在我们学习过程中通过了解事物和术语来学习。</p><p id="c478" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">感谢阅读！希望您喜欢这篇文章，并期待本文的第2部分，在那里我们将讨论现有系统的系统设计。</strong></p><p id="4e09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，订阅我的网页，让我的文章直接到你的邮箱..:)</p></div></div>    
</body>
</html>