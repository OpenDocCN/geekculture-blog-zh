<html>
<head>
<title>DIY Secure Journal using Openssl</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Openssl安全日志</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/diy-secure-journal-using-openssl-4263ab96fa1f?source=collection_archive---------19-----------------------#2022-12-25">https://medium.com/geekculture/diy-secure-journal-using-openssl-4263ab96fa1f?source=collection_archive---------19-----------------------#2022-12-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6c0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我提出了一个简单的数字日志，它可以在所有的操作系统上运行，并且经得起时间的考验。现在有很多写作平台都有云存储支持。使用一种已经存在了20多年的工具，来开发一种非常简单、安全且经得起未来考验的方法怎么样？</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/2b0fc1b296f61c4604a13b739b57cb98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tSlqMx3UM41tfWe6JiU_Fg.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Journals</figcaption></figure><p id="7622" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Openssl于1998年首次发布，为互联网上使用的代码提供了一套免费的加密工具。从那以后，它被广泛采用，并且在oss中无处不在。</p><p id="5237" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一组加密/解密日志的命令。您可以选择使用通用云存储服务(如Google Drive或Dropbox)来备份加密文件。</p><h2 id="88ef" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">写入和加密:</h2><ol class=""><li id="dbe3" class="kp kq hi ih b ii kr im ks iq kt iu ku iy kv jc kw kx ky kz bi translated">安装OpenSSL:如果你还没有它，你可以使用你系统的软件包管理器来安装它。比如Ubuntu上的<code class="du la lb lc ld b">apt-get install openssl</code>，macos上的<code class="du la lb lc ld b">brew install openssl</code>。为了在Windows上访问日志，我使用了<a class="ae jt" href="https://learn.microsoft.com/en-us/windows/wsl/install" rel="noopener ugc nofollow" target="_blank"> wsl2 </a>。</li><li id="f4d1" class="kp kq hi ih b ii le im lf iq lg iu lh iy li jc kw kx ky kz bi translated">用你最喜欢的文本编辑器写日记。你可以使用任何文本编辑器，如Nano，Vi，MS Word等。</li><li id="647b" class="kp kq hi ih b ii le im lf iq lg iu lh iy li jc kw kx ky kz bi translated">一旦建立了日志文本文件，就可以使用OpenSSL通过密码对其进行加密。为此，请打开终端窗口并导航到日志文件所在的目录。然后，输入以下命令(参考:Openssl手册页。).该命令将提示您输入两次密码以确保其正确。</li></ol><pre class="je jf jg jh fd lj ld lk bn ll lm bi"><span id="561c" class="ln jv hi ld b be lo lp l lq lr">openssl aes256 -e -iter 100000 -salt -in journal.txt -out journal.encrypted</span></pre><p id="eea1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.安全删除您的plantext(未加密)日志文件。在这个例子中，我使用了<code class="du la lb lc ld b">shred</code>命令，将随机比特写到你的明文日志文件中。然后，您可以安全地删除该明文文件。</p><pre class="je jf jg jh fd lj ld lk bn ll lm bi"><span id="438c" class="ln jv hi ld b be lo lp l lq lr">shred journal.docx<br/>rm -f journal.docx</span></pre><p id="0c78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.将加密日志复制到您喜欢的云存储映射文件夹中。</p><pre class="je jf jg jh fd lj ld lk bn ll lm bi"><span id="22f8" class="ln jv hi ld b be lo lp l lq lr">cp journal.encrypted /path/to/google/drive</span></pre><p id="6ba0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">解密和读/写:</strong></p><ol class=""><li id="9b93" class="kp kq hi ih b ii ij im in iq ls iu lt iy lu jc kw kx ky kz bi translated">要解密之前加密的日志，请使用以下命令。</li></ol><pre class="je jf jg jh fd lj ld lk bn ll lm bi"><span id="a925" class="ln jv hi ld b be lo lp l lq lr">openssl aes256 -d -iter 100000 -salt -in journal.encrypted -out journal.txt</span></pre><p id="c36e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.读取/更新您的日志，然后使用“写入和加密”一节中的步骤重新加密。</p><p id="9a17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">最终想法</strong></p><p id="ff33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您有图像和其他文件，您可以将它们放在一个目录中，使用实用程序(例如<code class="du la lb lc ld b">tar</code>、<code class="du la lb lc ld b">zip</code>)进行压缩，然后对压缩文件进行加密。我建议将上述命令包装起来，这样就不需要复制/粘贴长的tar和openssl命令。下面是一个带有两个脚本的回购示例<a class="ae jt" href="https://github.com/kawsark/journal" rel="noopener ugc nofollow" target="_blank">kaw sark/Journal:DIY OpenSSL Journal(github.com)</a></p><ul class=""><li id="dca8" class="kp kq hi ih b ii ij im in iq ls iu lt iy lu jc lv kx ky kz bi translated"><code class="du la lb lc ld b">push.sh</code> —将文件加密并复制到备份位置。</li><li id="9b36" class="kp kq hi ih b ii le im lf iq lg iu lh iy li jc lv kx ky kz bi translated"><code class="du la lb lc ld b">pull.sh</code> —解密文件。</li></ul><p id="4b5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我提议使用Openssl创建一个简单安全的DIY数字日志系统。希望你觉得有用。</p></div></div>    
</body>
</html>