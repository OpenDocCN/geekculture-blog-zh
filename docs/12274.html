<html>
<head>
<title>5 Mistakes Made When Scaling a Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">扩展数据库时犯的5个错误</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/5-mistakes-made-when-scaling-a-database-b9e67dcbc0b8?source=collection_archive---------5-----------------------#2022-05-05">https://medium.com/geekculture/5-mistakes-made-when-scaling-a-database-b9e67dcbc0b8?source=collection_archive---------5-----------------------#2022-05-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="41a7" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">关于常见数据库问题的博客</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/8379ea8395afa399dd5546c82d1dc198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vnhy4DMfwSKQ3J94"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@benjaminlehman?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">benjamin lehman</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7b49" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">错误1:允许裁员。</h1><p id="8f5e" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">当您扩展数据库时，确保不允许任何冗余是非常重要的。当数据库中有多个包含相同或相似信息的条目时，就会出现冗余。冗余存在于每个数据库中，并且是扩展时的常见问题。当您扩展数据库时，您需要确保不允许冗余。这意味着您需要注意条目之间相同或相似的任何信息。例如，您应该确保只存储您需要的信息，而不是存储相同信息的副本。</p><p id="5806" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在理想的情况下，您的数据库应该能够扩展到它今天需要支持的业务规模，同时还留有未来增长的空间。不幸的是，现实世界并不理想，当他们的业务开始快速增长时，许多数据库管理员面临着困难的挑战。虽然很多人认为扩展数据库只是在这个问题上砸钱，但事实是有很多可靠的方法可以用来有效地扩展数据库。</p><p id="3cef" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">数据库中的冗余是企业主经常犯的错误。在扩展数据库时，它们也是最难修复的问题之一。在一个表中放置多条信息会产生冗余。例如，您的employees表可能有一个电话号码列和一个电子邮件地址列。或者，您可能有一个orders表，其中一列表示商品，另一列表示商品价格。这些情况都是冗余的，在扩展数据库时会给你带来问题。</p><h1 id="d287" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">错误2:没有更新你的索引</h1><p id="595d" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在数据库项目的开始阶段，索引问题并不总是优先考虑的问题。开发人员经常会犯这样的错误:没有在表的重要列上创建索引。当您试图添加或更改现有索引时，这就会成为一个问题。如果表很大，您可能需要为所有行添加索引。解决这个问题的唯一方法是删除索引并更新表。要正确地向表中添加索引，必须考虑表中已经存在的数据。例如，如果数据是发票，那么您需要添加发票号、发票日期和发票金额的索引。向表中添加一个名为“Index”的列，并向每个应该有索引的列添加一个数字，这是一个好主意。这样，您可以很容易地找到需要更新的列。向表中添加新索引也是如此，您必须考虑表中已经存在的数据。例如，如果您想在发票编号上添加一个索引，您需要确保每张发票都有一个唯一的编号。</p><p id="79c8" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">乍一看，索引似乎是一个不必要的额外步骤。但是对于web开发来说，索引是最重要的工具之一。事实上，索引是任何数据库最重要的方面之一，SQL Server也不例外！索引是确保数据库中的数据易于访问的非常有用的方法。在本帖中，我们将回顾索引的重要性，并看看一些与索引相关的常见错误。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lh"><img src="../Images/d012e0e0ad615625f68bcc064cb7cb43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6A3K42Scznx8jS31"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="eccc" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">错误3:将错误的数据放在一起</h1><p id="2bd7" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">设计数据库时，数据可能会很棘手。你不想给用户过多的信息，或者给他们的信息不够。在设计数据库时，您通常会存储来自多个来源的数据。这是一个很好的方式来创建一个一站式商店，让人们找到他们需要的信息。但是可能出现的另一个常见问题是不属于一起的数据。例如，当您在数据库中存储文件时，存储不需要的或已经存在的文件是没有意义的。这通常可以通过将它们分组到文件夹或子文件夹中来解决。</p><p id="ec2e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">有两种主要的数据类型:关系数据和非关系数据。关系数据是以计算机易于理解的方式组织的数据。它通常存储在为数据之间的关系而构建的数据库中。非关系数据是不以同样方式构造的数据。例如，电子表格或照片是非关系数据。问题是大量非关系数据存储在数据库中。例如，您可能有一个用于存储客户数据的数据库，您将添加一个电子表格来存储客户信息。如果你这样做，你将会得到错误的数据。原因是电子表格中的数据和数据库中的数据的结构不允许您轻松地编写将两者连接起来的查询。这意味着您将不得不编写大量复杂的查询，这可能会非常慢。</p><h1 id="232e" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">错误4:没有使用拓扑</h1><p id="99c5" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在前三个错误中，我涵盖了我最常看到的三大错误。我要讲的第四个错误是没有使用拓扑。这是一个大问题，也是很多人忽略的问题。首先需要定义的是什么是拓扑。拓扑是服务器基础结构的物理布局，以及该基础结构中组件之间的数据流。这可能意味着几件不同的事情:不同节点之间的数据是如何分割的？节点是如何互连的？期望什么样的读/写比？预期的集群大小是多少？需要回答这些问题，以便正确设计和构建拓扑。要设计一个拓扑，您需要了解以下内容:数据库应该处理什么样的工作负载？集群中有多少个节点？会存储什么样的数据？期望什么样的读/写比？将存储多少数据？正在使用哪种连接(iSCSI、FC等)。)?</p><p id="498e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">随着数据库的增长，对其进行扩展的需求也在增长。然而，扩展数据库是一项非常艰巨的任务。在扩展数据库时，有许多方面需要考虑，包括服务器硬件和网络。在这篇博文中，我们将讨论在扩展数据库时首先应该考虑的事情之一:拓扑。拓扑是数据库服务器的物理布局。这个术语本身来自“地形学”这个词。地形学是对地形特征的研究。同样，拓扑是对网络特征的研究。拓扑学在数学和工程的许多不同领域都有应用，比如保护通信安全和通过网络路由数据包。它也用于地质学、制图学和其他物理科学的研究。</p><h1 id="a35b" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">错误5:不知道他们什么时候是坏的</h1><p id="6b2b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">缩放是一个经常被抛来抛去的词。企业总是希望扩大业务规模，在许多情况下是为了逃避竞争对手，但很少有人了解扩大规模的真正目的。事实上，许多企业认为扩展是为了增加企业的规模，但实际上是为了提高企业的效率。因此，扩展是为了支持业务的增长，而不是业务的规模。在技术世界中，扩展有点像许多公司都在寻找的圣杯，但它并不总是能解决业务问题。在数据库领域，我们经常看到这种情况。各公司都在寻找随着数据库增长而扩展数据库的方法，但他们并不总是明白增加数据库的大小并不总是解决其扩展问题的答案。</p><p id="a9a4" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">数据库错误很难发现，修复起来也很痛苦。但是，您可以采取一些步骤来避免这些错误的发生，以及当它们发生时如何解决它们。这篇博文将介绍一些常见的数据库错误以及如何避免它们。数据库错误可能由许多因素引起，包括不正确的代码、不正确的权限、不正确的表/索引配置和硬件问题。有些错误是由软件中的错误引起的，是不可避免的，但是可以采取一些措施来降低它们发生的可能性。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es li"><img src="../Images/b4654285470ede715d03c374b7180d0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JJETjuT2iC9B4zWt"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@alexas_fotos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexas_Fotos</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><blockquote class="lq lr ls"><p id="4bf9" class="kg kh lt ki b kj lc ij kl km ld im ko lu le kr ks lv lf kv kw lw lg kz la lb hb bi translated"><strong class="ki hj">结论</strong></p></blockquote><p id="bb38" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">数据库的好坏取决于管理它的人。永远牢记以上错误，永远向前看。</p></div></div>    
</body>
</html>