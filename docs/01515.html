<html>
<head>
<title>Two Software Engineering Lessons Learnt the Hard Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">两次软件工程的惨痛教训</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/two-software-engineering-lessons-learnt-the-hard-way-8d6eec2fb047?source=collection_archive---------12-----------------------#2021-04-13">https://medium.com/geekculture/two-software-engineering-lessons-learnt-the-hard-way-8d6eec2fb047?source=collection_archive---------12-----------------------#2021-04-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e63e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一天，我问自己“<em class="jd">在过去的几年里，我学到了什么好的软件工程课程？</em>”。经过思考后，我决定写下我的想法，以防对其他软件工程师有所帮助。</p><p id="d24f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我先告诉你一个小故事，告诉你我是如何吸取这些教训的。</p><p id="ae81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">几年前，我挑战自己构建一个面向工程和建筑学生的结构分析应用程序。我想成为一名软件工程师，同时向潜在的雇主证明我具备成为一名优秀软件专业人员的素质。结果是<a class="ae je" href="http://www.inkstructure.com" rel="noopener ugc nofollow" target="_blank"> InkStructure </a>，一个使用本地<a class="ae je" href="https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/OSX_Technology_Overview/CocoaApplicationLayer/CocoaApplicationLayer.html" rel="noopener ugc nofollow" target="_blank"> Cocoa框架</a>用<a class="ae je" href="https://swift.org/" rel="noopener ugc nofollow" target="_blank"> Swift </a>编写的本地OSX应用。当我发布它时，它受到了相对热烈的欢迎。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/b0a2a33bc91d68110258a11e6f959f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6JkVnquyx4xO4pTa8M7i2g.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">InkStructure v1 (Written in <a class="ae je" href="https://swift.org/" rel="noopener ugc nofollow" target="_blank">Swift</a> using the <a class="ae je" href="https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/OSX_Technology_Overview/CocoaApplicationLayer/CocoaApplicationLayer.html" rel="noopener ugc nofollow" target="_blank">Cocoa framework</a>)</figcaption></figure><p id="101d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不用说，我对应用程序架构的设计有很多缺陷，这使得软件很难发展；当时我在构建大型应用程序方面有点经验不足。在最初发布后的几个月里，我添加的一些bug修复或新特性让我在几周前写的代码中挣扎。<strong class="ih hj">通过反思那些设计“错误”</strong>，阅读软件架构，与我现在和过去的公司中其他经验丰富的工程师交谈<strong class="ih hj">，以及试验</strong>更具可扩展性的解决方案，我学到了很多东西。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jv"><img src="../Images/b9a0aee273a69b775e3da242bf9bbf7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYB4M5MPPa51LzrKlHjYHw.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">InkStructure main storyboard</figcaption></figure><p id="ccea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于这次回顾性练习和一些额外的经验，我目前正在重写整个应用程序，这是它今天的样子(尚未发布):</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jw"><img src="../Images/aff30beb6023089e92fba486af30bdfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O_XM8q6Xf0V_VopKHSMvIQ.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">InkStructure v2 (Being currently written in <a class="ae je" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">Typescript</a>, <a class="ae je" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">Angular</a> &amp; <a class="ae je" href="https://www.electronjs.org/" rel="noopener ugc nofollow" target="_blank">Electron</a>)</figcaption></figure><p id="c214" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个版本的应用程序背后的代码更加模块化，易于理解和测试，并且更好地为用户服务。那么，在这段时间里发生了什么让我做出了在这个新版本中构建代码的更好的决定呢？我能想到一些，但是今天我想告诉你两个。</p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><h1 id="15e6" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">没有实践经验的“知识”只是片面的知识:一个人通过做来学习。自己犯错误并承担后果是你最好的老师。</h1><p id="8ccf" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">我怎么强调都不为过。你可以阅读大量关于软件架构的书籍；他们会让你思考构建代码的方法，这可能不是你一个人想出来的，但这只是第一步，当然还不够。如果你想完全内化这些知识，那么<strong class="ih hj">应用它们！</strong>看看这些设计决策如何在真实软件中经受住时间的考验。</p><p id="6996" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与了解不同的架构模式同样重要的是，知道什么时候使用它们，它们应该如何应用，在选择一种模式时要做出什么样的权衡，以及如何调整它们以适合您的情况。而这一点，<strong class="ih hj">只能通过犯错并承担后果，或者通过做对并反思为什么这是一个好选择来学习。一旦你能够理解为什么一个特定的设计做得好或不好，你就获得了一个新的洞察力，这是仅仅通过阅读或参加讲座很难掌握的。</strong></p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><p id="e872" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，所以你需要写很多代码，但是你现在的雇主没有那么多机会让你通过这种方式发展你的技能。也许他们认为你不够有经验，或者也许你是一家大公司的一部分，只是在公司系统中很小的一部分工作。你该怎么办？<strong class="ih hj">不要等公司给你机会去做一个大项目；<strong class="ih hj">自己创造那些机会</strong>。一个好方法是在你的空闲时间做些兼职项目:<strong class="ih hj">找到你想做的东西，做好它，最重要的是，向全世界发布它</strong>。挑战自己尝试一开始听起来很复杂的项目，这需要你学习新的东西。</strong></p><p id="3a24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，你可以继续阅读建筑书籍，但这一次要寻找你新学到的模式的实际应用。而且，如果你做了一些和你公司相关的东西，在内部展示！这可能是你的同事甚至客户感兴趣的事情。你也可以从其他更高级的工程师那里得到反馈和建议。</p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><h1 id="59b9" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">不能满足客户需求的优雅建筑解决方案就像一幅从未向任何人展示过的美丽画作。</strong></h1><p id="d156" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">是的，你可以为了乐趣，为了它的乐趣，或者仅仅是为了学习一项新技术、语言或框架。但是要创建好的软件，可以归入“有用”类别的软件，它首先需要满足真实用户的需求(有人告诉我<a class="ae je" href="https://innovation-amazon.com/wp-content/uploads/2020/10/Working-Backwards-Booklet-WWPS.pdf" rel="noopener ugc nofollow" target="_blank">亚马逊称之为“逆向工作”</a>)。为了了解什么架构解决方案可行，什么不可行，您需要将它交给用户，修复困扰他们的错误，并添加他们需要的功能。你的代码能很好地适应这些变化吗？</p><p id="a4d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个不能让用户满意的软件几乎不需要向任何方向发展:如果没有人使用它，你打算对代码做什么改变？<strong class="ih hj">好的架构以一种允许代码优雅进化的方式分发代码。</strong></p><p id="7404" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我开始开发我的应用程序时，我太专注于项目的技术部分:我所有的代码都有80%的测试覆盖率，我到处硬塞设计模式，所有的代码都分布在松散耦合的模块中(不是真的，但我这么认为)…但我错过了这个非常重要的先决条件；<strong class="ih hj">我只在软件完全完成并在架构上升华后才考虑我的用户的需求。大错特错！我发现如何满足用户对我的软件的需求，我需要做大的改变，打破应用程序看似不相关的部分；我的宏伟建筑正在崩塌。</strong></p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><p id="ab9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个用户需要但我无法满足的例子是拥有新的工具，允许他们以更高级的方式修改几何图形，如移动结构节点或在结构元素上添加集中载荷。我为所选工具选择的处理鼠标事件的方式没有缩放；让我解释一下。</p><p id="b7ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据当前工具的不同，用户的鼠标事件有不同的含义:有时鼠标拖动应该被解释为用户绘制了一个新的结构栏，但其他时候，它可能是用户正在移动或缩放图形。我认为最好的想法(后来证明不太好)是检查所有三个视图(几何、负载和结果视图)实现的每个事件处理程序中的每个工具，并适当地处理事件。下面是“几何视图”代码的一小段摘录:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lh"><img src="../Images/61038dec942f91f9890e7af0fc295f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ybNM0oWBPPZ8sKqnhdIFCg.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx">Mouse dragged event handler from the “geometry” view</figcaption></figure><p id="a180" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样，在应用程序中创建一个新工具迫使我接触所有三视图中的每个事件处理程序(鼠标移动、鼠标拖动、鼠标单击……)的代码(也就是三视图乘以四个不同的事件，总共十二个方法！).在应用程序中创建一个新工具平均花费了我一周的时间，而且我经常添加回归数据；不同工具的事件处理开始重叠，导致了一些复杂的情况。</p><p id="c9fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我承受了后果并从中吸取了教训</strong>；在InkStructure的新版本中，每个工具都包含自己的事件处理程序，独立于其他工具，这使得添加新工具变得非常容易。更好的是，测试每个工具如何与绘图画布交互是小菜一碟。当这个版本是活的并且用户需要一个新的工具时，这不应该花费超过几个小时的工作，并且任何已经工作的东西很难被破坏。</p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><p id="d6c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个必然的结果可能是对<a class="ae je" href="http://theleanstartup.com/" rel="noopener ugc nofollow" target="_blank">精益创业</a>方法(源自丰田的精益制造)的赞美。<strong class="ih hj">从使用应用程序满足客户需求所需的最小架构开始</strong>。在向世界发布你的产品之前，你需要抑制住你对达到技术完美的渴望。然后，快速了解你的用户需要什么；什么对他们有用，什么没用。随着您的学习，您将开始认识到软件需要如何发展的模式，因此您将处于一个更好的位置来做出更有教育意义的架构决策。</p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es li"><img src="../Images/362c93dc55b9ee0ec52c41bc62021280.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*qPxOIerntwATBxXPtJ9LlQ.jpeg"/></div><figcaption class="jr js et er es jt ju bd b be z dx"><a class="ae je" href="https://www.hardcoreprogramming.dev/" rel="noopener ugc nofollow" target="_blank">Hardcore Programming For Mechanical Engineers</a></figcaption></figure><p id="fab2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我写了一本书，已经开始预售了(<a class="ae je" href="https://nostarch.com/hardcore-programming-mechanical-engineers" rel="noopener ugc nofollow" target="_blank">看这里</a>)，呜呜！在这本书里，我总结了使用<a class="ae je" href="https://www.inkstructure.com/" rel="noopener ugc nofollow" target="_blank"> InkStructure </a>应用程序的最重要的经验。这本书是为那些想从事<strong class="ih hj">编写应用程序来解决机械/土木工程问题</strong>的工程师准备的。如果你想了解更多，或者给我一些反馈，请不要犹豫，与我联系。</p></div></div>    
</body>
</html>