<html>
<head>
<title>Why Switch is Better than Stay in Monty Hall?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么转行比留在天魔堂好？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/why-switch-strategy-is-better-than-stay-strategy-in-monty-hall-9cd5a8065b75?source=collection_archive---------19-----------------------#2021-09-01">https://medium.com/geekculture/why-switch-strategy-is-better-than-stay-strategy-in-monty-hall-9cd5a8065b75?source=collection_archive---------19-----------------------#2021-09-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1edd" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">有三扇门A、B和c。其中一扇门后是奖励。你选择A门，主持人打开C门，显示C门没有奖励，现在是留在A门还是切换到B门？答案是你需要经常换人，因为这样赢的机会更大。在python模拟中找出原因！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/831de30d2d0f9f3c5954adb66ff2c298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tc7yaFT9ihhha4pSpx4UUA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@akriti_singh?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Akriti Singh</a> on <a class="ae jn" href="https://unsplash.com/s/photos/three-doors?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="d946" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">什么是蒙蒂大厅？</h1><p id="4a09" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">Monty Hall是一个游戏展示，有3扇门，其中一扇门后面有一个奖励，是一辆汽车。首先，你需要从三扇门中选择一扇门。然后，知道汽车在哪里的主人将总是打开另一个你没有选择并且也不包含汽车的门。主持人接着问“你想呆在你选择的同一个门还是想换到另一个门？”。</p><p id="860b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">人们通常认为选择留下或换工作的可能性是50%。事实上并不是这样，经常换车比呆在你选择的同一扇门前更有可能赢得一辆车。</p><h1 id="7f77" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">为什么会这样呢？</h1><p id="0956" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">如果有三扇门:1、2和3，其中一扇门后是奖励。如果选择门1。然后，主人打开2号门，显示2号门没有奖励。现在主持人问:“你想留下还是换？”</p><p id="4a5e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">你可能会想，你获奖的概率是1/3。当主人打开2号门时，你剩下2个门，那么你中奖的概率是1/2，要么留在1号门，要么换到3号门。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lh"><img src="../Images/0258dc3efdbdb14928c10b50d1e48e4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7taYdfLrt2a_HPdnAqZ_mg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Probability of wining and losing before the door is open (my screen shot)</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es li"><img src="../Images/8fbd05046797abaf9480ef897bc444b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tc-ha5cDfbxHWiDQCO2NLw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Probability of wining and losing after the door is open (my screen shot)</figcaption></figure><p id="f661" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果我们再想想。1号门你赢的概率是1/3。同样，你不会赢的概率也就是奖励出现在你没有选择的门的概率是2/3(在门2和门3)。然而，一旦主人打开2号门并显示这里没有奖励，那么奖励出现在你没有选择的门(现在只剩下3号门)的概率是2/3，这一点也没有错。这意味着你呆在1号门中奖的概率是1/3，而你转到3号门中奖的概率是2/3，这个概率更高。</p><p id="19e8" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果我们把门的数量增加到更高。假设有100扇门，即1，2，3，4，5 …,100.如果选择门1。然后主持人打开2号门到99号门，你现在只剩下1号门和100号门，“你想留下还是换？”。如果我们使用与之前相同的逻辑，停留在1号门的获胜概率是1/100，而切换到100号门的获胜概率是99/100。现在看来，留下和换工作有很大的不同。我们将在后面的文章中证明，在100门游戏中使用转换策略获胜的概率甚至高于在3门游戏中使用转换策略获胜的概率。此外，在100门游戏中使用停留策略获胜的概率甚至低于在3门游戏中使用停留策略获胜的概率。</p><h1 id="ae0c" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">Python模拟</h1><p id="6522" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">下面的python代码演示了如果我们有两种类型的玩家，一种总是“停留”另一种总是“转换”，玩几次Monty Hall游戏会发生什么。这些玩家中的任何一个会比另一个有更高的获胜几率吗？</p><p id="c0ee" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><strong class="ki hj">注:每一轮模拟中的每一个决策都是在一定条件下随机产生的，这里没有定数。</strong></p><p id="d732" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">首先，我们需要两个输入参数。num_trial，试验次数，是两个玩家玩游戏的次数。num_door，门的数量，是这个游戏中将有多少个门(最初只有3个门，但是为了支持上述理论，在这个模拟中将使用更多的门)，但是奖励的数量仍然将固定为1个门，而不管门的总数。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="893c" class="lo jp hi lk b fi lp lq l lr ls">#input parameters<br/>num_trial = 1000<br/>num_door = 3</span></pre><p id="4d71" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，我们创建两个函数，一个函数随机选择玩家要选择的门，另一个函数随机分配哪个门包含奖励的汽车。实际上我们可以使用同一个函数，因为它们都在做同样的事情，但是为了演示的目的，我们把它们分开了。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="822a" class="lo jp hi lk b fi lp lq l lr ls">def select_function():<br/>    return np.random.randint(1,num_door + 1) #randint 1 to num_door</span><span id="4d6d" class="lo jp hi lk b fi lt lq l lr ls">def car_location_function():<br/>    return np.random.randint(1,num_door + 1) #randint 1 to num_door</span></pre><p id="a19e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，函数open_door用于主机，它将总是打开玩家没有选择的门，并且应该是不包含奖励的门。该函数返回应该打开的门的名称列表(如果我们有3个门，主机将只能打开1个门，如果我们有4个门，主机需要打开2个门)。while循环确保要打开的门不应该是玩家选择的门，也不应该是包含奖励的门。除此之外都可以打开。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="ab4b" class="lo jp hi lk b fi lp lq l lr ls">def open_door(car_location,select_location):<br/>    o_list = []<br/>    for _ in range(num_door - 2):<br/>        o = np.random.randint(1,num_door + 1)<br/>        <br/>        while o == car_location or o == select_location or o in o_list:<br/>            #repeat until not open the car door and selected door<br/>            o = np.random.randint(1,num_door + 1)<br/>        o_list.append(o)<br/>    return o_list</span></pre><p id="440b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">接下来，这是为经常切换的玩家提供的切换功能。切换功能需要知道主机已经打开了哪个门，以及玩家首先选择了哪个门，以便切换到另一个门。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="5c26" class="lo jp hi lk b fi lp lq l lr ls">def switch(open_location,select_location):<br/>    o = np.random.randint(1,num_door + 1)<br/>    <br/>    while o in open_location or o == select_location:<br/>        #repeat until not open the car and selected location<br/>        o = np.random.randint(1,num_door + 1)<br/>    return o</span></pre><p id="31d2" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">最后，我们有检查玩家是否中奖的功能。如果玩家赢了，该值为1，否则为0。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="ecb7" class="lo jp hi lk b fi lp lq l lr ls">def check_win_condition(select_location,car_location):   <br/>    if car_location == select_location:<br/>        return 1<br/>    else:<br/>        return 0</span></pre><p id="2764" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">让我们开始模拟1000条路线。每次试验我们都记录玩家在“停留”策略玩家和“切换”策略玩家的列表中是赢是输，这两个列表分别称为停留列表和切换列表；接受地。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="19d5" class="lo jp hi lk b fi lp lq l lr ls">stay_list = []<br/>switch_list = []<br/>door_list = np.arange(1,num_door)</span><span id="ab25" class="lo jp hi lk b fi lt lq l lr ls">for i in range(0,num_trial):<br/>    print(i)<br/>    select_location = select_function()<br/>    car_location = car_location_function()<br/>    open_location = open_door(car_location,select_location)<br/>    <br/>    #if stay<br/>    stay_list.append(check_win_condition(select_location,car_location))<br/>    <br/>    #if switch<br/>    select_location = switch(open_location,select_location)<br/>    switch_list.append(check_win_condition(select_location,car_location))</span></pre><p id="9df9" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">然后，我们对列表和图进行累加和比较。</p><pre class="iy iz ja jb fd lj lk ll lm aw ln bi"><span id="af1b" class="lo jp hi lk b fi lp lq l lr ls">stay_list = np.cumsum(stay_list)<br/>switch_list = np.cumsum(switch_list)</span><span id="1082" class="lo jp hi lk b fi lt lq l lr ls">#visualisation<br/>plt.plot(stay_list,label = "stay (" + str(num_door) + " doors)")<br/>plt.plot(switch_list,label = "switch (" + str(num_door) + " doors)")<br/>plt.ylabel("cumulative sum of number of wins")<br/>plt.xlabel("number of trail")<br/>plt.legend()<br/>plt.show()</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/073e7ab2db0bd1a54a98158f6e0f04cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8M2UuXMviet4veunUWYedA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">The comparison of cumulative count of number of win between “stay” strategy player and “switch” strategy player for 1000 trails for 3 doors game (my screen shot)</figcaption></figure><p id="e32c" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">显然，转换策略玩家的累积获胜次数高于停留策略玩家，并且这种差异随着尝试次数的增加而增加。这证明总是“掉包”的人有更高的胜算。</p><p id="e1ff" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在让我们看看游戏中是否有100扇门…</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/99f4443eb89adf581726f2691be25d3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wg_PAdk5wwgfNlEdHcFWWQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">The comparison of cumulative count of number of win between “stay” strategy player and “switch” strategy player for 1000 trails for 3 doors and 100 doors game (my screen shot)</figcaption></figure><p id="901b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">很明显，100门游戏的开关策略玩家的累积获胜次数甚至高于3门游戏的开关策略玩家。此外，100门游戏的停留策略玩家的累积获胜次数甚至低于3门游戏的停留策略玩家。</p><p id="bd71" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">完整的python代码可在此处获得:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="1ad4" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">摘要</h1><p id="8520" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">切换有更高的机会赢得游戏。此外，使用切换策略的累积获胜次数和使用停留策略的累积获胜次数之间的差异随着门数量的增加而增加。</p></div></div>    
</body>
</html>