<html>
<head>
<title>Button Selector in Jetpack Compose Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack编写Android中的按钮选择器</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/button-selector-in-jetpack-compose-android-fb77a37d03e8?source=collection_archive---------10-----------------------#2021-05-23">https://medium.com/geekculture/button-selector-in-jetpack-compose-android-fb77a37d03e8?source=collection_archive---------10-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f79f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">众所周知，按钮是android的基本视图组件。我们几乎在应用程序的每个屏幕上都使用按钮。但有时我们可以定制android按钮来满足我们的应用程序UI/UX。通过创建一个drawable并在按钮Xml标签中设置它，我们可以很容易地改变按钮背景，甚至改变按钮背景颜色。但是我们知道Jetpack compose是Xml的替代品，所以我们需要使用Composable函数来应用形状或更改按钮背景颜色。</p><p id="3145" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我将向你展示当用户使用jetpack compose中的composable函数按下按钮时，如何改变按钮的背景颜色。要使用jetpack compose，您需要使用带有橙色图标的android studio北极狐，因为jetpack compose目前不支持我们主要用于开发android应用程序的android studio蓝色图标。Jetpack compose是基于kotlin语言构建的，所以我假设你熟悉kotlin语言。</p><h1 id="7187" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">首先，我们需要创建一个新项目</h1><p id="8d14" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">您需要选择空的撰写活动，以便android studio将负责重要的库和一些重要的功能，这些功能对于jetpack compose应用程序是必要的。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/4242728a5f5b6448a6ff15be9ef72e60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KziGS37kxd7_G53OR2UWXQ.png"/></div></div></figure><p id="6a4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后在完成创建你的项目后，你将能够看到activity类在onCreate函数中有一些预先写好的可组合函数，在你的例子中，BottomNavigationTheme将随着你的项目名而改变，主题是postfix文本。Surface是一个容器，您可以在其中定义可组合函数来显示您的应用程序内容。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ks"><img src="../Images/94443fa2be9e4ca379d0b87612770cf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*oPPqDPepVMkOBWHcB0exag.png"/></div></figure><pre class="kh ki kj kk fd kt ku kv kw aw kx bi"><span id="0856" class="ky je hi ku b fi kz la l lb lc"><em class="ld">setContent </em><strong class="ku hj">{<br/>    </strong><em class="ld">BottomNavigationTheme </em><strong class="ku hj">{<br/>        </strong>// A surface container using the 'background' color from the theme<br/>        <em class="ld">Surface</em>(color = MaterialTheme.colors.background) <strong class="ku hj">{<br/>            </strong><em class="ld">Greeting</em>()<br/>        <strong class="ku hj">}<br/>    }<br/>}</strong></span></pre><p id="f383" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是android studio预先编写的问候功能，我只是修改了它，这样我就可以向你展示当用户按下它时，你如何改变按钮的背景颜色。这个函数应该用@Composable注释，这样它就可以在上面写的表面体中被调用。</p><p id="e2ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您需要用remember { MutableInteractionSource()}声明变量，以便您的应用程序能够记住按钮的当前状态。之后，我创建了一个isPressed变量，这样我就可以知道按钮是否被按下。<br/>我创建了另一个变量，这样我就可以根据isPressed true或false来设置它的值。</p><p id="ddbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Jetpack compose中，列充当线性布局，这就是为什么我用一些修改器创建它。修饰符用于在视图上设置不同种类属性，如高度、宽度、填充等，就像我们在视图的Xml标签中声明属性一样。在栏内，我用一些修饰符和文本创建了按钮。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es le"><img src="../Images/54edbbc95e018739645c3114583c9a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*lvogcJ3vOgNOzxQSYHP2hg.png"/></div></figure><pre class="kh ki kj kk fd kt ku kv kw aw kx bi"><span id="2a32" class="ky je hi ku b fi kz la l lb lc">@Composable<br/>fun Greeting() {<br/><br/>    val interactionSource = <em class="ld">remember </em><strong class="ku hj">{ </strong><em class="ld">MutableInteractionSource</em>() <strong class="ku hj">}<br/>    </strong>val isPressed by interactionSource.<em class="ld">collectIsPressedAsState</em>()<br/>    val color = if (isPressed) Color.Blue else Color.Green<br/><br/>    <em class="ld">Column</em>(modifier = Modifier.<em class="ld">fillMaxHeight</em>()<br/>        .<em class="ld">fillMaxWidth</em>()<br/>        .<em class="ld">background</em>(Color.White)<br/>        .<em class="ld">padding</em>(20.<em class="ld">dp</em>),<br/>        verticalArrangement= Arrangement.Center) <strong class="ku hj">{<br/>        </strong><em class="ld">Button</em>(<br/>            onClick = <strong class="ku hj">{}</strong>,<br/>            interactionSource = interactionSource,<br/>            colors= ButtonDefaults.buttonColors(backgroundColor = color),<br/>            modifier = Modifier.<em class="ld">fillMaxWidth</em>()<br/>                .<em class="ld">height</em>(50.<em class="ld">dp</em>)<br/>        )<strong class="ku hj">{<br/>            </strong><em class="ld">Text</em>(<br/>                "Button",<br/>                color=Color.White<br/>            )<br/>        <strong class="ku hj">}<br/>}</strong></span></pre><p id="d26a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想了解更多关于jetpack compose的信息，请访问:<br/>【https://developer.android.com/jetpack/compose T4】</p></div></div>    
</body>
</html>