<html>
<head>
<title>Towards Exceptional Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">迈向卓越的代码</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/towards-exceptional-code-e467a05b2e95?source=collection_archive---------26-----------------------#2021-04-26">https://medium.com/geekculture/towards-exceptional-code-e467a05b2e95?source=collection_archive---------26-----------------------#2021-04-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="55bc" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">保持我们的意图完整的一部分是确保我们的程序运行良好，这包括我们的程序肯定会失败的情况。</h2></div><p id="c8dc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设你的任务是为飞机控制系统的自动化开发一个算法。你和一家知名的飞机公司达成了交易。你的软件现在被用于30%的现代飞机控制系统。这是一个过于复杂的系统，你已经使用了多年，但是你忘了在你的程序中规定，在任何情况下，飞机都不应该俯冲。</p><p id="9cbb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一天晚上，公司打电话给你，说你有急事。有一份报告说你的软件导致了意想不到的暴跌。你召集你的团队找出导致系统故障的错误。对于一个过于复杂的系统来说，这是一个众所周知的困难过程。经过数周的调查，您团队中的某个人发现您的软件似乎缺少异常处理。</p><p id="2b3a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这样的案例证明了异常处理在我们的系统中是多么重要。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/6930c298cd77f9f1c67eb59757414f0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*73CvTNNdU0tKiyQ6"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://www.pexels.com/@lennart-wittstock-94105?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Lennart Wittstock</a> from <a class="ae kj" href="https://www.pexels.com/photo/airplane-windowpane-showing-city-buildings-316794/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><h1 id="824f" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">讨论</h1><p id="1d9f" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">异常提供了一种方法来响应程序遇到的意外事件。处理异常有两个参考框架。它们是我们可以控制的事件，也是我们无法控制的事件。了解这一点对于设计大型软件系统非常重要。</p><p id="1b28" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们控制范围内的事件应该是我们的责任，而对于超出我们范围的事件，我们至少应该提供一个明确的错误消息，指出哪里出错了。错误消息以足够深刻的方式向用户提供反馈，以便他们知道如何解决问题。这是良好的用户体验设计的关键，我在这里概括如下:</p><p id="9dc2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作为开发人员，我们问自己:<em class="lh">在什么情况下我们的程序应该抛出异常？</em>这不是一件容易的事。首先，你能列举出程序未定义行为的所有情况吗？在这些情况下，我们遵循<em class="lh">大局</em>视角。我们把前面的问题翻译成<em class="lh">我的职能的典型角色是什么？它们的目的是什么？一个好的设计理念应该洞察清晰的意图，因为我们的产品应该易于使用，不易被误用。</em></p><p id="3017" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">考虑到这一点，我们可以指导我们应该如何考虑编写我们的代码。</p><p id="5d29" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们回到我们的故事。为简单起见，假设我们的系统包含以下代码:</p><figure class="ju jv jw jx fd jy"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="dab8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设上面的代码对飞机的各个部分拥有管理控制权。这让我们开始研究<code class="du lk ll lm ln b">obj.automate()</code>函数。在深入研究我们的代码后，我们发现:</p><figure class="ju jv jw jx fd jy"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="eadb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你能发现这个函数哪里出错了吗？</p><blockquote class="lo lp lq"><p id="43dd" class="ix iy lh iz b ja jb ij jc jd je im jf lr jh ji jj ls jl jm jn lt jp jq jr js hb bi translated">我们不能保证我们的系统不会急转直下。</p></blockquote><p id="5c46" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们通过引入一个<code class="du lk ll lm ln b">try-catch</code>块来改进这个函数，在这个块中，我们可以保证系统在遇到一个临界条件时立即终止，在这个临界条件下<code class="du lk ll lm ln b">obj.optimize()</code>导致一个俯冲决策。</p><figure class="ju jv jw jx fd jy"><div class="bz dy l di"><div class="li lj l"/></div></figure><blockquote class="lo lp lq"><p id="a4d2" class="ix iy lh iz b ja jb ij jc jd je im jf lr jh ji jj ls jl jm jn lt jp jq jr js hb bi translated"><em class="hi">这段代码拯救了生命！</em></p></blockquote><p id="b2f8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们可以保证，在遇到<code class="du lk ll lm ln b">critical_conditions</code>的情况下，控制权会移交给飞行员。</p></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><h1 id="08b8" class="kk kl hi bd km kn mb kp kq kr mc kt ku io md ip kw ir me is ky iu mf iv la lb bi translated">外卖食品</h1><p id="4662" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">异常代码应该具有:</p><ul class=""><li id="c28e" class="mg mh hi iz b ja jb jd je jg mi jk mj jo mk js ml mm mn mo bi translated">适当的错误处理保证了我们代码的意图性</li><li id="699e" class="mg mh hi iz b ja mp jd mq jg mr jk ms jo mt js ml mm mn mo bi translated">清晰而有意义的错误信息是良好设计的关键</li></ul></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="b263" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意事项:</p><ul class=""><li id="f92f" class="mg mh hi iz b ja jb jd je jg mi jk mj jo mk js ml mm mn mo bi translated">编程语言已经提供了这一特性，所以根据您的语言，您应该查阅关于如何实现异常处理的技术文档。</li><li id="728e" class="mg mh hi iz b ja mp jd mq jg mr jk ms jo mt js ml mm mn mo bi translated">C++代码用于说明性示例，因为大多数现代控制系统都是使用C++实现的，我个人非常喜欢这种语言！</li></ul></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="4936" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lh">原发布于</em><a class="ae kj" href="https://dcode.hashnode.dev/towards-exceptional-code" rel="noopener ugc nofollow" target="_blank"><em class="lh">https://dcode . hash node . dev</em></a><em class="lh">。</em></p></div></div>    
</body>
</html>