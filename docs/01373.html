<html>
<head>
<title>How to Build an Android App in Scala 2.13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Scala 2.13中构建一个Android应用</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-build-an-android-app-in-scala-2-13-e2d887c4dc2?source=collection_archive---------22-----------------------#2021-04-07">https://medium.com/geekculture/how-to-build-an-android-app-in-scala-2-13-e2d887c4dc2?source=collection_archive---------22-----------------------#2021-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b252" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者至少我们今天会讨论几种方法中的一种。如果你想了解更多关于什么是可能的，以及为什么考虑标准Android应用程序开发的替代方案可能是一个好主意，请看看<a class="ae jd" rel="noopener" href="/geekculture/scala-on-android-74874d056c1a?source=friends_link&amp;sk=56f6fd922bb1b324228f654597fe7080">这篇关于Android </a>上Scala的文章，或者观看相关的会议演讲。</p><p id="5dc1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但今天我们将讨论如何使用GraalVM原生映像将Scala代码编译成可在Android上执行的文件，使用Gluon库访问底层的Android平台，使用JavaFX实现图形用户界面。Scala在某种程度上只是蛋糕上的一颗樱桃——使用GraalVM，您可以从大量编程语言中进行选择。如果你想为Android平台编码，坚持使用JVM语言可能是有意义的，但是Scala仍然只是选择之一。我可以给出为什么应该考虑它的一个原因是，它允许以简洁和优雅的方式编写复杂的逻辑，并且由于GraalVM原生映像已经是一个相当重要的播放器，如果您只想为CRUD应用程序编写一个轻量级的前端，您可能不会使用它。只有当您编写的代码足够复杂时，它才会显示其提前编译的能力。Scala是编写复杂代码的绝佳选择。</p><h1 id="f740" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">要求</h1><ol class=""><li id="8b5e" class="kc kd hi ih b ii ke im kf iq kg iu kh iy ki jc kj kk kl km bi translated">你需要一台好的电脑。哈哈，不过说真的。构建一个哪怕是最小的示例应用程序的本机映像也需要一段时间，而且在Intellij完成之后，它会占用你所有的内存。</li></ol><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/a20e57e7df0c3e4d57e0be841a129ae8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*raoFjjIowPPKaPoA"/></div></div></figure><p id="f813" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是现在还不要害怕逃跑。在您准备让GraalVM接管您的计算机并编译Android APK之前，您可以使用JavaFX maven插件来快速编译GUI并在您的笔记本电脑上运行该应用程序。我们一会儿会谈到它。</p><p id="ed20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.我们将使用Linux。据我所知，暂时Android原生映像只能在Linux机器上工作。如果你使用的是Mac或Windows系统，并且你仍然能够按照这个教程操作，并得到一个正常工作的安卓系统，请联系我并描述你是如何做到的。说真的。我想知道。<em class="kz">(更新:</em> <a class="ae jd" rel="noopener" href="/@ivan.velikanova/regarding-if-you-use-a-mac-or-windows-and-you-are-still-able-to-follow-this-tutorial-and-get-a-406087ce5fae"> <em class="kz">伊凡报道说它在Windows上工作</em> </a> <em class="kz">跟</em><a class="ae jd" href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux" rel="noopener ugc nofollow" target="_blank"><em class="kz">【WSL】</em></a><em class="kz">)</em></p><p id="87f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.从<a class="ae jd" href="https://github.com/graalvm/graalvm-ce-builds/releases" rel="noopener ugc nofollow" target="_blank">这里</a>下载GraalVM，基于Java 11的社区版。</p><p id="2549" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.将此添加到您的<code class="du la lb lc ld b">~/.bash_profile</code>:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="a3fa" class="li jf hi ld b fi lj lk l ll lm">export GRAALVM_HOME=&lt;path to GraalVM home directory&gt;<br/>export JAVA_HOME=$GRAALVM_HOME<br/>export PATH=$GRAALVM_HOME/bin:$PATH</span></pre><p id="4b54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您键入<code class="du la lb lc ld b">java -version</code>时，它现在应该显示如下内容:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="869b" class="li jf hi ld b fi lj lk l ll lm">&gt; java -version<br/>openjdk version "11.0.10" 2021-01-19<br/>OpenJDK Runtime Environment GraalVM CE 21.0.0 (build 11.0.10+8-jvmci-21.0-b06)<br/>OpenJDK 64-Bit Server VM GraalVM CE 21.0.0 (build 11.0.10+8-jvmci-21.0-b06, mixed mode, sharing)</span></pre><p id="3120" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">(GraalVM版本可能会有所不同)</p><p id="42d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.键入<code class="du la lb lc ld b">native-image</code>检查它是否已经在路径上。如果没有，请安装:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="c0b8" class="li jf hi ld b fi lj lk l ll lm">gu install native-image</span></pre><p id="0b99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为你的<code class="du la lb lc ld b">PATH</code>里有<code class="du la lb lc ld b">$GRAALVM_HOME/bin</code>，所以<code class="du la lb lc ld b">gu</code>现在应该在你的控制台里了。另外，<a class="ae jd" href="https://www.graalvm.org/reference-manual/native-image/#prerequisites" rel="noopener ugc nofollow" target="_blank">阅读这个</a>，安装你需要的任何东西。</p><p id="a6e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.您将需要<code class="du la lb lc ld b">adb</code>“Android Debug Bridge”，连接到您的Android设备并在其上安装应用程序。在这里，你可以找到更多关于如何做的信息。哦，如果还不清楚，你需要一个安卓设备😉</p><p id="b63e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.确保您的<code class="du la lb lc ld b">gcc</code>至少是版本6。<a class="ae jd" href="https://tuxamito.com/wiki/index.php/Installing_newer_GCC_versions_in_Ubuntu" rel="noopener ugc nofollow" target="_blank">你可以试试下面这些步骤</a>。最重要的是，你将需要一些特定的C库(如GTK)来构建本机映像，并且它因计算机而异，所以我不能确切地告诉你该怎么做。不过应该问题不大。只需按照错误信息，说你缺少一些东西，谷歌如何安装它们。在我的例子中，列表如下:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="be8f" class="li jf hi ld b fi lj lk l ll lm">libasound2-dev (for pkgConfig alsa)<br/>  libavcodec-dev (for pkgConfig libavcodec)<br/>  libavformat-dev (for pkgConfig libavformat)<br/>  libavutil-dev (for pkgConfig libavutil)<br/>  libfreetype6-dev (for pkgConfig freetype2)<br/>  libgl-dev (for pkgConfig gl)<br/>  libglib2.0-dev (for pkgConfig gmodule-no-export-2.0)<br/>  libglib2.0-dev (for pkgConfig gthread-2.0)<br/>  libgtk-3-dev (for pkgConfig gtk+-x11-3.0)<br/>  libpango1.0-dev (for pkgConfig pangoft2)<br/>  libx11-dev (for pkgConfig x11)<br/>  libxtst-dev (for pkgConfig xtst)</span></pre><h1 id="fece" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">属国</h1><p id="1408" class="pw-post-body-paragraph if ig hi ih b ii ke ik il im kf io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">好了，如果您已经达到这一步，并且一切似乎都正常，这意味着您可能应该能够编译和运行其中一个示例应用程序:</p><ul class=""><li id="b0f7" class="kc kd hi ih b ii ij im in iq lq iu lr iy ls jc lt kk kl km bi translated"><a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/tree/main/helloscala" rel="noopener ugc nofollow" target="_blank"> HelloScala </a></li><li id="0faf" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated"><a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/tree/main/HelloFXML" rel="noopener ugc nofollow" target="_blank"> HelloFXML </a></li></ul><p id="4622" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无论你选择哪一个，只要<a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid" rel="noopener ugc nofollow" target="_blank">克隆整个GitHub库</a>，并转到其中一个子文件夹。HelloScala基于来自<a class="ae jd" href="https://github.com/gluonhq/gluon-samples" rel="noopener ugc nofollow" target="_blank">胶子样本</a>的<a class="ae jd" href="https://github.com/gluonhq/gluon-samples/tree/master/HelloGluon" rel="noopener ugc nofollow" target="_blank"> HelloGluon </a>。hello XML基于来自同一个repo 的<a class="ae jd" href="https://github.com/gluonhq/gluon-samples/tree/master/HelloFXML" rel="noopener ugc nofollow" target="_blank">hello XML，但是我对它进行了简化——我删除了所有的Gluon依赖项，只留下了裸露的JavaFX和Gluon的<code class="du la lb lc ld b">client-maven-plugin</code>,以显示以这种方式制作的Android应用程序的最低要求。在这两种情况下，我们都使用Maven——而不是SBT，后者是标准的Scala构建工具<strong class="ih hj"> — </strong>,因为我们需要Maven插件，据我所知<em class="kz">(我计划很快对此进行研究)</em>。如果还没有安装<code class="du la lb lc ld b">mvn</code>。</a></p><p id="3f1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在HelloScala(但不是HelloFXML)的例子中，我们将在Gluon Mobile的帮助下创建应用程序——这是一个使用<a class="ae jd" href="https://openjfx.io/" rel="noopener ugc nofollow" target="_blank"> JavaFX </a>构建Java客户端应用程序的平台。看起来在可预见的未来，这将成为用GraalVM <a class="ae jd" href="https://github.com/oracle/graal/issues/632#issuecomment-643816258" rel="noopener ugc nofollow" target="_blank">构建Android应用的<strong class="ih hj"/>方式</a>。没有标准的Android小部件，而是JavaFX。它有一些有趣的含义:我们在自己和Android平台之间创建的抽象层不仅仅是一个有用的工具，它还是一个需求。我们将无法访问Android SDK——要么完全无法访问，要么除非我们卷入了一些严重的黑客攻击，但我不建议这么做。相反，这里惯用的方法是编写与平台无关的代码，只在实际需要时才访问平台的特征。例如，你会在HelloScala代码中看到，我们检查我们是否在桌面而不是Android上，因为如果是，那么我们需要为我们的应用程序提供窗口大小。如果我们在Android上，我们可以让应用程序的窗口占据整个屏幕。如果你决定用这个技术栈写一些更复杂的东西，你会很快发现，你可以使用Gluon的库和JavaFX(可能与<a class="ae jd" href="http://www.scalafx.org/" rel="noopener ugc nofollow" target="_blank"> ScalaFX </a>一起使用)来实现其他开发人员通过修补Android SDK获得的相同结果，同时你也可以编写可以在其他平台上轻松重用的代码。<em class="kz">(但请注意，我并不声称它马上就会完全独立于平台——只是为了易于重用)</em>。</p><p id="cd34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在HelloScala和HelloFXML的<code class="du la lb lc ld b">pom.xml</code>中，你会找到应用程序使用的插件和依赖项的列表。让我们来看看其中的一些。</p><ul class=""><li id="d728" class="kc kd hi ih b ii ij im in iq lq iu lr iy ls jc lt kk kl km bi translated">我们将使用Java 16和Scala 2.13。这里没有太多要说的，除此之外，我很高兴在这里看到这个版本号。在我使用Android SDK的工作中，我仍然必须使用Scala 2.11和Java的Android版本，这仍然是介于7和8之间的东西。</li><li id="c5d9" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated"><a class="ae jd" href="https://mvnrepository.com/artifact/org.scalameta/svm-subs" rel="noopener ugc nofollow" target="_blank">一个微小的Scala库</a>解决了【Scala 2.13与GraalVM原生映像交互中的这个问题。谢谢你，奥拉弗尔！</li><li id="8800" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">对于GUI，我们将使用JavaFX 16。</li><li id="2d1f" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">在HelloFXML的例子中，需要javafx-fxml库来让我们处理<a class="ae jd" href="https://en.wikipedia.org/wiki/FXML" rel="noopener ugc nofollow" target="_blank"> FXML文件</a>。FXML是JavaFX中描述GUI部件布局的一种方式。另一种是将它们直接放在代码中，这就是我们在HelloGluon中所做的。两者各有利弊。FXML文件可以由<a class="ae jd" href="https://gluonhq.com/products/scene-builder/" rel="noopener ugc nofollow" target="_blank">一个叫做场景生成器</a>的所见即所得编辑器生成，这非常有用，但是它使用反射将生成的视图与代码连接起来。</li><li id="aaf7" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">在HelloScala的例子中，我们将使用两个库:<a class="ae jd" href="https://docs.gluonhq.com/charm/javadoc/6.0.6/com.gluonhq.charm.glisten/module-summary.html" rel="noopener ugc nofollow" target="_blank"> Glisten </a>和<a class="ae jd" href="https://gluonhq.com/products/mobile/attach/" rel="noopener ugc nofollow" target="_blank"> Attach </a>。Glisten用专门为移动应用程序设计的附加功能丰富了JavaFX。Attach是底层平台上的一个抽象层。对我们来说，这意味着我们应该能够使用它来访问Android上的一切，从本地存储到推送通知的权限。我想通过示例应用和教程来探索这一点，因为如果这些功能中的任何一个不能很好地工作，并且没有简单的替代方法，这意味着整个技术体系还不成熟。但就我目前所见，我非常乐观。</li><li id="cd54" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated"><a class="ae jd" href="https://github.com/openjfx/javafx-maven-plugin" rel="noopener ugc nofollow" target="_blank"> javafx-maven-plugin </a>让我们使用<code class="du la lb lc ld b">mvn javafx:run</code>命令，快速测试应用程序GUI的变化。</li><li id="0722" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated"><a class="ae jd" href="https://github.com/davidB/scala-maven-plugin" rel="noopener ugc nofollow" target="_blank"> scala-maven-plugin </a>让我们在maven构建中使用Scala<em class="kz">(嗯，d'oh) </em>。谢谢你，大卫！</li><li id="fce0" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated"><a class="ae jd" href="https://github.com/gluonhq/gluonfx-maven-plugin" rel="noopener ugc nofollow" target="_blank">gluofx-maven-plugin</a>让我们将Gluon和JavaFX代码编译成本机映像。在HelloScala的例子中，你会在这里找到一个胶子依赖的列表。HelloFXML不需要它们，但是它需要一个带有控制器名称的<code class="du la lb lc ld b">reflectionList</code>标记，用于从FXML文件生成的视图。</li></ul><h1 id="1a36" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">代码</h1><p id="ea30" class="pw-post-body-paragraph if ig hi ih b ii ke ik il im kf io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">在这两个示例应用中，实际的Scala代码只设置了几个小部件并显示它们。在<a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/tree/main/helloscala" rel="noopener ugc nofollow" target="_blank"> HelloScala </a>中，<code class="du la lb lc ld b"><a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/blob/main/helloscala/src/main/scala/helloscala/Main.scala" rel="noopener ugc nofollow" target="_blank">Main</a></code>类从Glisten库中扩展了<code class="du la lb lc ld b">MobileApplication</code>，然后用两种方法编程构造主视图:<code class="du la lb lc ld b">init()</code>用于创建小部件，<code class="du la lb lc ld b">postInit(Scene)</code>用于装饰它们。在<a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/tree/main/HelloFXML" rel="noopener ugc nofollow" target="_blank">hello XML</a>中甚至更简单:<code class="du la lb lc ld b"><a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/blob/main/HelloFXML/src/main/scala/hellofxml/HelloFXML.scala" rel="noopener ugc nofollow" target="_blank">Main</a></code>类从JavaFX扩展了<code class="du la lb lc ld b">Application</code>(Glisten的<code class="du la lb lc ld b">MobileApplication</code>是这个类的子类)，在它的<code class="du la lb lc ld b">start(Stage)</code>方法中，我们从FXML文件中加载场景。FXML文件描述了两个小部件——一个按钮和一个标签——它指向<code class="du la lb lc ld b"><a class="ae jd" href="https://github.com/makingthematrix/scalaonandroid/blob/main/HelloFXML/src/main/scala/hellofxml/HelloFXMLController.scala" rel="noopener ugc nofollow" target="_blank">HelloFXMLController</a></code>作为这些小部件的控制器。在那里我们可以初始化它们并对按钮点击做出反应。<em class="kz">(详情请点击本段链接)。</em></p><p id="168c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您想编写任何更复杂的应用程序，您可能会混合使用这两种方法:FXML用于或多或少的静态视图，而在一个视图中的UI响应事件而变化的地方以编程方式设置小部件(例如，考虑一个输入消息的可滚动列表)。此外，选择应该受到您希望测试覆盖多少GUI代码的影响。我建议构建由Scala类控制的相当轻量级的GUI，它不依赖于Gluon或JavaFX，因此可以进行单元测试——但这是另一篇文章的主题。</p><p id="7d77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">顺便说一句，现在你应该可以很容易地看到如何从pom.xml中删除所有涉及Scala的内容，而仍然用Java 16 <em class="kz">在Android上编写一个应用程序(这也很酷——我们不能在标准的Android SDK中这样做)</em>。它展示了一件令我印象深刻的事情。为了以这种方式编写一个Android应用程序，我把许多才华横溢的人的工作放在一起，他们甚至不一定彼此了解。他们中的一些人在Scala库上工作，一些人在GraalVM上工作，其他人在Gluon库和JavaFX上工作。他们都出于各种原因创造新功能和修复错误，并不真正关心有人想用Scala编写Android应用程序。然而，这一切都符合在一起。反过来也一样:通过用Scala编写Android应用程序，我们可以测试和试验所有的难题。我们可以为他们的开发者提供反馈，甚至可能帮助修复一些错误或编写一些对其他人有用的代码，这些人从未想过用Scala编写Android应用程序。</p><h1 id="b214" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">如何运行应用程序</h1><p id="e34f" class="pw-post-body-paragraph if ig hi ih b ii ke ik il im kf io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">正如我已经提到的，构建Android原生映像需要时间，所以我们希望避免过于频繁地这样做。即使在第一次运行应用程序之前，你也应该在单元、组件和集成测试上投入一些时间，这样，如果你改变了应用程序中的某些东西，你仍然可以确保它在任何手动测试之前都可以正常工作。然后，要检查GUI的外观和工作方式，请使用:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="3479" class="li jf hi ld b fi lj lk l ll lm">mvn gluonfx:run</span></pre><p id="b0b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切正常，构建本机映像…但是首先，对于您的桌面:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="db93" class="li jf hi ld b fi lj lk l ll lm">mvn gluonfx:build gluonfx:nativerun</span></pre><p id="defa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">毕竟我们这里是跨平台的。除非你想测试你的应用程序只能在移动设备上运行的特性，你可以先把它作为一个独立的桌面应用程序来运行。这将再次让您测试应用程序的一些层，而无需在Android设备上实际运行它。然后，如果一切正常，或者如果你决定跳过这一步:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="a203" class="li jf hi ld b fi lj lk l ll lm">mvn -Pandroid gluonfx:build gluonfx:package</span></pre><p id="ebdc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功执行该命令将在<code class="du la lb lc ld b"> target/client/aarch64-android/gvm</code>目录中创建一个APK文件。用USB线把你的安卓手机连接到电脑上，给电脑发送文件的权限，输入<code class="du la lb lc ld b">adb devices</code>检查你的手机是否被识别。它应该在控制台中显示如下内容:</p><pre class="ko kp kq kr fd le ld lf lg aw lh bi"><span id="7ddc" class="li jf hi ld b fi lj lk l ll lm">&gt; adb devices<br/>List of devices attached<br/>16b3a5c8	device</span></pre><p id="1c90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你应该可以用<code class="du la lb lc ld b">adb install &lt;path to APK&gt;</code>在连接的设备上安装应用程序了，过一会儿你应该会在你设备的主屏幕上看到一个新图标。当你点击图标时，它应该会打开与你的应用程序桌面版本大致相同的屏幕。</p><p id="78e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装可能会因为很多原因而不工作，其中最常见的原因是你的Android不允许以这种方式安装应用程序。进入设置，找到“开发者选项”，然后启用“USB调试”和“通过USB安装”。如果你无论如何也找不到“开发者选项”，那么这可能意味着你需要做一些事情，比如用你的Android操作系统版本号点击十次(或者谷歌一下)。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lz"><img src="../Images/a84d31d90e7d7953640fc2f28d3d8fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lm1TKFwJnRTrg621"/></div></div></figure><p id="507e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切正常，你可以在你的设备上看到应用程序的屏幕，输入<code class="du la lb lc ld b">adb logcat | grep GraalCompiled</code>查看日志输出。现在，例如，如果你安装了HelloGluon，你可以点击应用程序屏幕上带有放大镜图标的按钮，你应该会看到控制台上打印的<code class="du la lb lc ld b">"log something from Scala"</code>。当然，对于任何更复杂的东西，请查看您选择的IDE中的插件，这些插件可以以更用户友好的方式显示来自adb logcat的日志。</p><h1 id="3ed0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">仅此而已。<a class="ae jd" href="https://www.youtube.com/watch?v=1w7OgIMMRc4&amp;t=215s" rel="noopener ugc nofollow" target="_blank">我们现在去哪里？</a></h1><p id="540a" class="pw-post-body-paragraph if ig hi ih b ii ke ik il im kf io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">嘿，你成功了！已经挺远了。</p><p id="eba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您设法构建了一个示例应用程序，并且想要编写更复杂的代码，至少有几种方法可以让您了解如何去做:</p><ul class=""><li id="fcc6" class="kc kd hi ih b ii ij im in iq lq iu lr iy ls jc lt kk kl km bi translated">阅读更多内容并尝试使用<a class="ae jd" href="https://openjfx.io/" rel="noopener ugc nofollow" target="_blank"> JavaFX </a>。你可以从它的官方文档和Jacob Jenkov的教程列表开始。</li><li id="235c" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">安装<a class="ae jd" href="https://gluonhq.com/products/scene-builder/" rel="noopener ugc nofollow" target="_blank">场景构建器</a>并学习如何用它构建GUI。除了文档，你可以在YouTube上找到很多关于它的教程。</li><li id="1692" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">浏览Gluon的文档并附上以了解如何让你的应用在移动设备上看起来更好，以及如何访问你的设备的功能。</li><li id="5e99" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">从<a class="ae jd" href="https://docs.gluonhq.com/" rel="noopener ugc nofollow" target="_blank"> Gluon的样本列表</a>中下载一个例子，并将其重写到Scala中。当你找到的时候，告诉我！</li><li id="1d28" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">深入研究<a class="ae jd" href="http://www.scalafx.org/" rel="noopener ugc nofollow" target="_blank">Scala FX</a>——Java FX上更具声明性的Scala惯用包装器。</li><li id="ea80" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">从GitHub 上我的“Android上的Scala”库中下载一些其他的例子。联系我，如果你写了一个自己的例子应用程序，并希望我包括它。</li><li id="80ea" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">加入我们的官方Scala discord——我们有一个#scala-android频道</li><li id="27c8" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">还有<a class="ae jd" href="https://discord.gg/XHMt6Yq4" rel="noopener ugc nofollow" target="_blank"> an #android频道</a>关于“学习Scala”的不和。</li><li id="1306" class="kc kd hi ih b ii lu im lv iq lw iu lx iy ly jc lt kk kl km bi translated">最后，如果你有任何问题，<a class="ae jd" href="https://twitter.com/makingthematrix" rel="noopener ugc nofollow" target="_blank">你可以在推特上找到我</a></li></ul></div></div>    
</body>
</html>