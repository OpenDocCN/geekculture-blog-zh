<html>
<head>
<title>Microservices API Gateway vs. Traditional API Gateway</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务API网关与传统API网关</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/microservices-api-gateway-vs-traditional-api-gateway-a1be7b6c4b19?source=collection_archive---------2-----------------------#2022-03-22">https://medium.com/geekculture/microservices-api-gateway-vs-traditional-api-gateway-a1be7b6c4b19?source=collection_archive---------2-----------------------#2022-03-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0e01f150390273bc6aaa75d6a8c728dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xNroFraiGfNipU1OeZas_Q.jpeg"/></div></div></figure><p id="7cc0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">微服务API网关的主要目的是加速服务的独立开发。它为团队提供了独立有效地发布、更新和监控<a class="ae jo" href="https://marutitech.com/microservices-architecture-in-2019/" rel="noopener ugc nofollow" target="_blank">微服务</a>的功能。这种功能在传统的API网关中是找不到的，因为它侧重于在内部管理API。</p><p id="9e83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">行业和公司通过定义API来彻底理解这个内部系统。因此，向客户展示数千个API的挑战导致了API网关的暴露。随着时间的推移，API网关成为访问这些API的基础设施中心。</p><p id="a98a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下表更好地展示了微服务API网关与传统API网关之间的<em class="jp">差异。</em></p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jq"><img src="../Images/42e5ad8dc330904038e4708ea2fc760e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNzUPNCRvaYMeQi0OwRdeg.png"/></div></div></figure><p id="102a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，传统的API网关解决了API管理面临的挑战，但未能解决微服务采用的困难。因此，集成到您的应用中的微服务API网关允许服务团队安全快速地监控、更新和发布服务，使您的组织能够高效地开发更多软件。</p><h1 id="73de" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">微服务架构中API网关的工作</h1><p id="9c8c" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">假设您正在为客户构建一个电子商务移动应用程序，该应用程序显示产品详细信息。当使用单一架构创建这个应用程序时，客户端使用对应用程序的一个REST调用来检索数据。当我们用微服务架构开发同一个应用时，每个微服务都揭示了细粒度端点的指令。</p><p id="4a02" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们利用微服务架构。产品详细信息页面按多个微服务显示数据，例如，订单服务、购物车服务、评论服务、运输服务等等。</p><p id="d67d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，客户端直接调用每个微服务，并将请求分布到可用的实例中。但是当客户端直接调用微服务时，会面临许多问题，例如客户端调用和API之间的不匹配，或者使用对web不友好的协议。API Gateway可以有效解决这个问题。API gateway合并了应用程序的内部系统，并允许每个客户端采用一个API。</p><p id="19c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图解释了API网关如何管理API调用以及如何与其他架构组件进行交互。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/e925815282a5d327cbc79c1f26200614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*be7sYs5qerJujHXn.png"/></div></div></figure><p id="b0d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在微服务架构中实现API网关时，API网关的可扩展性和性能通常至关重要。API网关负责包括路由、计费、监控、速率限制、认证、足够的安全性、警报、策略等功能。它有助于拦截来自客户端的传入请求，并将它们传递给API管理系统，以应用必要的函数并获得输出。各种技术被用来实现API网关的可伸缩性和性能。</p><p id="2fd3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">API网关通过将请求路由到后端服务来处理请求。例如，在获取配置文件的知识之前，API网关首先检索包含个人信息的客户端配置文件。最好是编写API网关代码，而不是使用难以理解的传统方法编写API代码。</p><p id="ca8c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">API gateway利用了系统的好处，不像其他任何服务客户端，无论是服务器端发现还是客户端发现。API网关总是需要知道每个微服务的IP地址才能进行通信。但是决定应用程序的位置并不容易，因为应用程序服务有多个指定的位置。</p><p id="ec25" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用API gateway时需要考虑的最重要的事情是，当一个服务调用另一个响应缓慢或不存在的服务时，系统会出现部分故障。但是，根据场景和服务故障，使用API Gateway可以解决这个问题。</p><h1 id="cefa" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">后端对前端(BFF)模式</h1><p id="80d3" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在前端模式的后端中，来自微服务架构模式的后端服务充当请求前端的端点。</p><p id="b8dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们知道API是应用程序的一部分，它们为了一个目的而相互作用。但是随着使用时间的推移，这一小段代码中可能会出现裂缝或错误，这有助于所有内容保持相互一致。因此，后端对前端模式有助于开发后端利基，以获得更好的用户体验。你可以说它是前端和请求后端调用之间的层。</p><p id="91ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，有时微服务返回到前端的数据输出不是前端所需的精确格式或过滤器。为了解决这个问题，前端应该有一些逻辑来重新格式化数据，因此，我们可以使用BFF将一些逻辑转移到中间层。后端对于前端模式的主要功能是</p><ul class=""><li id="c175" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn le lf lg lh bi translated">通过调用适当的微服务API获取所需的数据</li><li id="a95e" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">格式化前端数据表示</li><li id="02f3" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">将格式化的输出发送到前端</li></ul><p id="45a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，BFF有助于减少前端的逻辑处理责任，并为应用程序的前端提供一个格式良好的接口。</p><p id="5f03" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以从现有的遗留应用程序中获得更多的商业价值。我们的<a class="ae jo" href="https://marutitech.com/enterprise-application-modernization-services/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">传统应用程序现代化服务</em> </a> <em class="jp"> </em>可以帮助您实现业务灵活性、生产力和长期成本节约。"</p><p id="2981" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">阅读完整的指南，了解API网关的<a class="ae jo" href="https://marutitech.com/api-gateway-in-microservices-architecture/" rel="noopener ugc nofollow" target="_blank">实现—问题和解决方案</a>。</p></div></div>    
</body>
</html>