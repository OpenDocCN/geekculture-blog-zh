<html>
<head>
<title>Grafana to Visualize the AWS Cloud Watch Metrics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Grafana可视化AWS云观察指标</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/grafana-to-visualize-the-aws-cloud-watch-metrics-6b55533fde36?source=collection_archive---------5-----------------------#2021-05-12">https://medium.com/geekculture/grafana-to-visualize-the-aws-cloud-watch-metrics-6b55533fde36?source=collection_archive---------5-----------------------#2021-05-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d286" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用凭证文件方法可视化云观察指标</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/1ae1fd093142ed52446c91f7d18987ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*M6QKhWlJpxI2ZhLHNY0EEA.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx">Some Random dude on Google Images</figcaption></figure><p id="63fe" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">每个人都知道公共云和私有云。因为现在是2021年，我们大多数人都在云平台的帮助下工作。我之所以谈论一些不相关的东西，是因为有些人希望使用一个工具同时监控公共云和私有云。尽管在AWS中有一种叫做云观察的东西，我们可以用它来跟踪一切。尽管如此，当需求就像您的客户正在使用任何混合云或者他想要可视化指标时，管理员不能直接访问云观察。</p><p id="6844" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">因此，有这样一个一站式解决方案，这就是开源工具Grafana。通过Grafana，我们可以连接多个云应用程序来监控和可视化it。此外，用户可以根据自己的需要轻松编辑和监控仪表板。</p><p id="cae1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">另一方面，它是一个开源工具，所以我们不必为此投资任何东西。</p><p id="df4b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这些监控主要帮助我们优化成本，因为我们可以跟踪哪些应用程序使用得更多，也就是说，哪些应用程序或服务器使用过度，因此我们可以想出一种替代方法，或者缩减规模，甚至在特定时间关闭。</p><p id="32d3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">并不是说Grafana可以单独使用，我们也可以使用一些其他的应用，比如Zabbix。我不打算讨论开源工具列表的细节。因为这个博客是基于Grafana的。</p><p id="845a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">对于本教程，我们假设您已经在AWS EC2上安装了Grafana服务器。</p><p id="1da8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果没有，不用担心，我写了另一个博客，请看看。</p><div class="kf kg ez fb kh ki"><a rel="noopener follow" target="_blank" href="/geekculture/install-grafana-in-any-cloud-vm-for-monitoring-868f6436162d"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hj fi z dy kn ea eb ko ed ef hh bi translated">在任何云虚拟机中安装Grafana进行监控</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">在EC2上安装Grafana，并以自动启动方式启动</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">medium.com</p></div></div><div class="kr l"><div class="ks l kt ku kv kr kw jd ki"/></div></div></a></div><p id="5ed8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Grafana与AWS CloudWatch配合使用的3种方式如下:</p><ul class=""><li id="aded" class="kx ky hi jl b jm jn jp jq js kz jw la ka lb ke lc ld le lf bi translated">与IAM政策的ARN号码</li><li id="378a" class="kx ky hi jl b jm lg jp lh js li jw lj ka lk ke lc ld le lf bi translated">使用凭据文件</li><li id="4ce5" class="kx ky hi jl b jm lg jp lh js li jw lj ka lk ke lc ld le lf bi translated">通过将凭证输入数据源(在Grafana Dashboard中)</li></ul><p id="f813" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这个博客中，我们将使用方法2，即凭证文件</p><p id="2be8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">好了，现在让我们从改变图像开始…</p><blockquote class="ll lm ln"><p id="59a2" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">注:</strong></p><p id="20cf" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">只是一个小小的更新，如果你们想知道我是什么，那么看看下面，</strong></p><p id="50e8" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">我的角色是什么？</strong></p><p id="243f" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated">IAM角色是向您信任的实体授予权限的一种安全方式。实体的例子包括如下:</p><p id="9d4b" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">我是另一个账户的用户</strong></p><p id="94fd" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">在EC2实例上运行的应用程序代码需要对AWS资源执行操作。AWS服务需要对您帐户中的资源进行操作以提供其功能</strong></p><p id="deed" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">公司目录中使用SAML身份联盟的用户。</strong></p><p id="605d" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated">IAM角色发布短期内有效的密钥，使其成为更安全的授权访问方式。好吧，如果你还是不明白，那么让我们从它开始，这样你会更好地理解它。</p></blockquote><h2 id="59fb" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">步骤1:创建新策略</strong></h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mn"><img src="../Images/1601a32b2ae79ab5fd9ede793b8b1c98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H_V4gW352XqfORu-"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">create_policy_IAM</strong></figcaption></figure><p id="e357" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">按照这个，在<strong class="jl hj">服务下→选择IAM →策略→创建策略</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es ms"><img src="../Images/3eb6068d297dcc27b04510c44f6d06db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F1BPQmmrcc5EhOxx"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">choose_service</strong></figcaption></figure><p id="e8e6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在在服务→云观察下</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mt"><img src="../Images/d89ba070ace80d45ede18e952bd092b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XdVwyFRk3wTQXi86"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">access_level_read_permission</strong></figcaption></figure><p id="81a1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">之后，请选择以下访问级别策略，我们可以在Grafana中获得这些策略的指标报告。然后检查您的策略，为您的策略命名，并描述该策略包含的内容，以便我们将来查看它时，能够了解该策略的特点。这只是为了让我们的工作更容易。</p><p id="bd6c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">一旦你完成了，你必须验证did是否已经被创建，只是为了交叉检查。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mu"><img src="../Images/47da9476f4aa659b7fb1683a708ac3f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gb8r8CK3DyqdDXj3"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">verify_grafana_policy</strong></figcaption></figure><h2 id="2cd9" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">第二步:创建角色</strong></h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mv"><img src="../Images/0f13a941bc5952c5dc94e4557bbc20fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QQ6o_M5RCrzwTcgC"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">create_roles</strong></figcaption></figure><p id="a888" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">只需按照这个，在<strong class="jl hj">服务下→选择IAM →角色→创建角色</strong></p><p id="11eb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在选择AWS服务→ EC2(在通用用例下)→下一步:权限</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mw"><img src="../Images/17f24d2deb41bfd297aadc1ccb06abfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gRZkSSUgE7p6p7UR"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">choose_use_cases</strong></figcaption></figure><p id="3ea0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">好了，现在我们必须附加我们之前为此角色创建的策略，如下所示，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mx"><img src="../Images/317b0f37b444fbd42bc2ce379462fa74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*URyGp1SWwhAUl54r"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">attach_permission</strong></figcaption></figure><p id="4cee" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">一旦附加了策略，我们必须检查它，应该在哪里更新角色名称和描述等..完成后，我们可以选择“创建角色”。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es my"><img src="../Images/01e1a311035b8def090821e6c8a7b220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fn_Z9b9TAdxbL1mg"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">review_role</strong></figcaption></figure><p id="6db5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">完成后，我们需要验证我们创建的角色是否存在，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mz"><img src="../Images/1c8c662f10bc67d5b33083c56d01d982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ndn5DoWp60CQ5c9T"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx">verify_grafana_role</figcaption></figure><h2 id="a547" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">第三步:创建用户</strong></h2><p id="fdb1" class="pw-post-body-paragraph jj jk hi jl b jm na ij jo jp nb im jr js nc ju jv jw nd jy jz ka ne kc kd ke hb bi translated">首先，我们创建了策略，然后创建了角色，然后将策略与角色关联起来，现在我们创建用户，以便可以将它关联到EC2实例。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nf"><img src="../Images/918a670d815921183b2a068762142d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZpRiYfkkwMvdXuOa"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">create_iam_users</strong></figcaption></figure><p id="2c67" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在选择添加用户。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es ng"><img src="../Images/28008e5cd3c138df282f85beb5d9137f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fxqyT4dVCwbZbIF5"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">update_user_details</strong></figcaption></figure><p id="de01" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">给出用户名。</p><p id="dccd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">请确保在选择AWS访问类型下的访问类型中选择编程访问。这将为您提供访问密钥和秘密密钥的详细信息。请务必记下它，因为它只会生成一次，如果您忘记了，则需要再次创建它。</p><p id="9204" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后选择下一个权限。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es my"><img src="../Images/7124bda8f8608c27ba028b99b5a6747c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tdoPQeai9N0i25ck"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">attach_grafana_policy</strong></figcaption></figure><p id="2898" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在设置权限，如果您已经创建了任何组，则意味着选择将用户添加到组，或者继续直接附加现有策略→搜索我们在上一步中创建的策略并继续。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es ng"><img src="../Images/ff6f046150fed7b3b0833e561246b081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KHlU3499CaTSgRCF"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">grafana_user_Cred</strong></figcaption></figure><p id="ab58" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，您可以看到访问密钥ID和秘密访问密钥，这是我之前提到的。</p><p id="ed3e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">是的，你必须保存它，因为它只会显示一次，就像谚语“金玉其外，败絮其中”。</p><p id="3a5c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我想现在我们都准备好了…现在剩下的只是将用户与我们拥有的EC2实例关联起来。</p><h2 id="fd5f" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">步骤4:将用户附加到EC2实例</strong></h2><p id="eba2" class="pw-post-body-paragraph jj jk hi jl b jm na ij jo jp nb im jr js nc ju jv jw nd jy jz ka ne kc kd ke hb bi translated">在这里，我希望你们都准备好EC2实例，也就是说，它应该已经启动了。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nh"><img src="../Images/1ef39d618f9a51caae811e5b68bf3f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9MmHsfy3Dx9qUaMM"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">attach_iam_role</strong></figcaption></figure><p id="7503" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在选择要更新IAM用户的实例，并单击</p><p id="541d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">动作→安全→修改IAM角色</strong>。(这是自AWS持续更新以来的最新数据)</p><p id="7488" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你提到了YouTube上的旧视频或者一些旧的媒体博客，那么你会被导航到</p><p id="e979" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">操作→实例设置→附加/替换IAM角色。</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es ni"><img src="../Images/c732a997f8dc3ad46353800c0146411b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wSsFq0c9t0SLgEse"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">select_grafana_role</strong></figcaption></figure><p id="b78d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，您需要搜索您创建的角色，选择并保存它。</p><p id="9e79" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在您也应该验证这一点，所以请检查EC2实例的安全组设置，如下所示，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nj"><img src="../Images/d333d96a721c60837aa9d749e3cc966d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rF8Ve58fQYOGwVIY"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">verify_security_tab_iam_role</strong></figcaption></figure><p id="2f88" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您可以验证附加到安全组的IAM角色。</p><p id="6a5f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，我们将凭证文件附加到EC2实例</p><h2 id="f605" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">第五步:创建凭证文件</strong></h2><p id="bac4" class="pw-post-body-paragraph jj jk hi jl b jm na ij jo jp nb im jr js nc ju jv jw nd jy jz ka ne kc kd ke hb bi translated">现在，登录到您在上一步中附加了IAM角色的EC2实例，执行如下所示的操作，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nk"><img src="../Images/fb3ed9dd73ba79bf263a32e3c09f97a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YWcF7AHUQULdOT46"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">credentials_share_grafana</strong></figcaption></figure><p id="ef89" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这里的代码如下所示，</p><pre class="iy iz ja jb fd nl nm nn no aw np bi"><span id="3bf0" class="ls lt hi nm b fi nq nr l ns nt"><strong class="nm hj">sudo nano /usr/share/grafana/.credentials</strong></span></pre><p id="2a46" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们正在为我们的Grafana创建凭证文件，以便使用我们在上一步中创建的<strong class="jl hj">访问ID </strong>和<strong class="jl hj">密钥</strong>进行访问。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nu"><img src="../Images/16df69598c57422944c5874972e8e8c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/0*3lINjcyeiMjHGdh-"/></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">aws_access_creditial_default</strong></figcaption></figure><p id="b415" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">用您自己的<strong class="jl hj">访问密钥id </strong>和<strong class="jl hj">密钥</strong>和<strong class="jl hj">区域</strong>替换<strong class="jl hj"> xoxoxo </strong>。</p><p id="72e7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">保存它，现在我们将授予它访问它的权限。</p><p id="664c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">代码如下所示，</p><pre class="iy iz ja jb fd nl nm nn no aw np bi"><span id="44f2" class="ls lt hi nm b fi nq nr l ns nt"><strong class="nm hj">sudo chmod 0644 /usr/share/grafana/.credentials</strong></span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nv"><img src="../Images/a64ee30149898d4333c8412618f6dc73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M5TlfnX_OkZdJuK2"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">chmod_0644_cred</strong></figcaption></figure><h2 id="fc27" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">第六步:用AWS云手表配置Grafana</strong></h2><p id="8bdf" class="pw-post-body-paragraph jj jk hi jl b jm na ij jo jp nb im jr js nc ju jv jw nd jy jz ka ne kc kd ke hb bi translated">现在，使用您已经配置好的uname和pwd登录到您的Grafana仪表板，</p><blockquote class="ll lm ln"><p id="29b3" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">注:</strong></p><p id="b760" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">默认uname和pwd如下</strong></p><p id="84cf" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj"> Uname → admin </strong></p><p id="07fe" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj"> Pwd → admin </strong></p></blockquote><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nw"><img src="../Images/c15f567d02bb0616d66de2ca8bd8bf4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EJXxZGT5eSP99iBA"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">select_data_source</strong></figcaption></figure><p id="a024" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这里，您应该会看到如上所示的仪表板面板，并友好地选择数据源，即添加您的第一个数据源。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nx"><img src="../Images/f5c23a24958302018f71b77e7777c244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*STJRW-wL1ixTupxY"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">search_cloud_watch</strong></figcaption></figure><p id="6b17" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在在搜索栏中搜索Cloud Watch，然后选择它来配置凭据详细信息。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es ny"><img src="../Images/67667e5ca68cf987fa7d9016e0598aa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5j9p8Oj3NoRYQuGo"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">udpate_access_secret_key</strong></figcaption></figure><p id="ad0d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这里你需要给出你想要的名字，然后在认证提供者下选择访问和密钥。</p><p id="95b7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在给出访问密钥和秘密访问密钥的细节以及默认区域。</p><p id="25ca" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后单击Save and Test，您应该得到以下输出。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es nz"><img src="../Images/b23f5ccdc73b9fc7dbeb1d630e465c5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iNyu0lZPrx4hKNN5"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">verify_udpated_details_correct</strong></figcaption></figure><p id="37f6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果您在任何地方发现任何您想要跟踪的错误，那么进入EC2实例终端并给出下面的命令<strong class="jl hj">来检查日志报告，</strong></p><pre class="iy iz ja jb fd nl nm nn no aw np bi"><span id="2a85" class="ls lt hi nm b fi nq nr l ns nt"><strong class="nm hj">cd /var/log/grafana/</strong></span><span id="87a5" class="ls lt hi nm b fi oa nr l ns nt"><strong class="nm hj">ls</strong></span><span id="60a0" class="ls lt hi nm b fi oa nr l ns nt"><strong class="nm hj">vi grafana.log (or else) nano grafana.log</strong></span></pre><p id="2299" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这将为您提供您所面临的错误的所有细节。</p><h2 id="4e26" class="ls lt hi bd lu lv lw lx ly lz ma mb mc js md me mf jw mg mh mi ka mj mk ml mm bi translated"><strong class="ak">第七步:创建你漂亮的仪表板</strong></h2><p id="9f57" class="pw-post-body-paragraph jj jk hi jl b jm na ij jo jp nb im jr js nc ju jv jw nd jy jz ka ne kc kd ke hb bi translated">现在你需要选择<strong class="jl hj">“+→仪表板”</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ob"><img src="../Images/498fde9636733fc6fb02d678de0d4a93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/0*VgZL0HOvpLi0Pqck"/></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">click_dashboard_for_making_panel</strong></figcaption></figure><p id="a3a2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，您可以选择右上角的添加面板，因为有时会使用添加空白面板和添加行来创建面板，如下所示，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es oc"><img src="../Images/68628fbac28b0b9313070c5a50b7a23d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T-PUdN38Oc7MAJXK"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">select _add_panel</strong></figcaption></figure><p id="8cfc" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后所有的grafana查询我会让你们做，因为它很容易。</p><p id="02cd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这里我做了一个CPU利用率的例子。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es od"><img src="../Images/145c31d66111b7a53bcdaccc818efbaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aTJDrN0zJ9ua2ztW"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx"><strong class="bd lu">Cpu_utilization</strong></figcaption></figure><p id="ecdf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我在这个博客中使用的Grafana版本是7.5.5</p><blockquote class="ll lm ln"><p id="647d" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated"><strong class="jl hj">如果您希望保持联系，</strong></p></blockquote><div class="kf kg ez fb kh ki"><a href="https://www.linkedin.com/in/narenltk/" rel="noopener  ugc nofollow" target="_blank"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hj fi z dy kn ea eb ko ed ef hh bi translated">Narendiran Krishnan —印度泰米尔纳德邦哥印拜陀|职业简介| LinkedIn</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">查看世界上最大的职业社区LinkedIn上Narendiran Krishnan的个人资料。纳伦德兰有6份工作…</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">www.linkedin.com</p></div></div><div class="kr l"><div class="oe l kt ku kv kr kw jd ki"/></div></div></a></div><div class="kf kg ez fb kh ki"><a href="https://github.com/narenltk" rel="noopener  ugc nofollow" target="_blank"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hj fi z dy kn ea eb ko ed ef hh bi translated">narenltk —概述</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">骗人的把戏。需要咖啡来聚焦…！！！narenltk有10个可用的存储库。在GitHub上关注他们的代码。</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">github.com</p></div></div><div class="kr l"><div class="of l kt ku kv kr kw jd ki"/></div></div></a></div><blockquote class="ll lm ln"><p id="706f" class="jj jk lo jl b jm jn ij jo jp jq im jr lp jt ju jv lq jx jy jz lr kb kc kd ke hb bi translated">你可以用谷歌搜索“narenltk / narendiran krishnan”或者发邮件到→narenltk@gmail.com→乐意帮忙..！！！</p></blockquote></div></div>    
</body>
</html>