<html>
<head>
<title>Data Sciences in Real Estate — Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">房地产数据科学—第一部分</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/data-sciences-in-real-estate-part-i-47cb9d28cb66?source=collection_archive---------15-----------------------#2021-08-28">https://medium.com/geekculture/data-sciences-in-real-estate-part-i-47cb9d28cb66?source=collection_archive---------15-----------------------#2021-08-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/975f44b7375e5d2556a36faa698320b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FIPKUkcLhhSZwJ79.jpg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">1. Source: <a class="ae iu" href="https://economictimes.indiatimes.com/industry/indl-goods/svs/construction/delhi-cooperative-housing-finance-corporation-limited-to-reduce-interest-rates-on-home-loans/articleshow/80753368.cms?from=mdr" rel="noopener ugc nofollow" target="_blank">https://economictimes.indiatimes.com/industry/indl-goods/svs/construction/delhi-cooperative-housing-finance-corporation-limited-to-reduce-interest-rates-on-home-loans/articleshow/80753368.cms?from=mdr</a></figcaption></figure><p id="8798" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">加州房价预测</strong></p><p id="7bba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">美国人口普查局公布了加州人口普查数据，其中包括10种指标，如加州每个街区的人口、中值收入、中值房价等。该数据集还用作项目范围的输入，并尝试为其指定功能性和非功能性需求。</p><p id="884c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">问题目标:</strong></p><p id="95f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该项目旨在建立一个房价模型，以使用提供的数据集预测加州的中值房价。这个模型应该从数据中学习，并能够在给定所有其他指标的情况下，预测任何地区的中值房价。</p><p id="d444" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">地区或街区组是美国人口普查局发布样本数据的最小地理单位(街区组通常有600到3000人)。项目数据集中有20，640个区。</p><p id="0543" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">领域</strong>:金融和住房</p><p id="99b6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据集描述:</strong></p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/dc1f5eaf78448043a84bb539c04e2fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o3As7xH9ygM1ZRFqP2BHnA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">2. Dataset Description</figcaption></figure><p id="1903" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">要执行的分析任务:</strong></p><ol class=""><li id="f916" class="jy jz hi ix b iy iz jc jd jg ka jk kb jo kc js kd ke kf kg bi translated">使用提供的数据集构建一个房价模型来预测加利福尼亚州的房价中值。</li><li id="4e97" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js kd ke kf kg bi translated">在给定所有其他指标的情况下，训练模型从数据中学习以预测任何地区的中值房价。</li><li id="776e" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js kd ke kf kg bi translated">根据中值收入预测房价，并绘制回归图。</li></ol><p id="49f6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们开始吧！</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="cf40" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤1:导入库</strong> <br/>下面是分析过程中使用的所有库，您可以选择一次添加或以后添加。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="452d" class="ky kz hi ku b fi la lb l lc ld"># Import Libraries <strong class="ku hj"><br/>import</strong> <strong class="ku hj">numpy</strong> <strong class="ku hj">as</strong> <strong class="ku hj">np<br/>import</strong> <strong class="ku hj">pandas</strong> <strong class="ku hj">as</strong> <strong class="ku hj">pd<br/>import</strong> <strong class="ku hj">os</strong> <strong class="ku hj">import</strong> <strong class="ku hj">seaborn</strong> <strong class="ku hj">as</strong> <strong class="ku hj">sns<br/>import</strong> <strong class="ku hj">matplotlib.pyplot</strong> <strong class="ku hj">as</strong> <strong class="ku hj">plt</strong> <strong class="ku hj">from</strong> <strong class="ku hj">sklearn.preprocessing<br/>import</strong> LabelEncoder <strong class="ku hj">from</strong> <strong class="ku hj">sklearn.model_selection<br/>import</strong> train_test_split <strong class="ku hj">from</strong> <strong class="ku hj">sklearn.preprocessing<br/>import</strong> StandardScaler <strong class="ku hj">from</strong> <strong class="ku hj">sklearn.linear_model<br/>import</strong> LinearRegression <strong class="ku hj">from</strong> <strong class="ku hj">sklearn.metrics<br/>import</strong> r2_score, mean_squared_error</span></pre><p id="b13a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第二步:加载数据</strong> <br/>将文件夹中的“California_Housing.xlsx”文件读入程序。我们打印这些数据的前几行。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="af1e" class="ky kz hi ku b fi la lb l lc ld"># Data Loading<br/>housing_df = pd.read_excel(r"../../DataSets/RealEstate/California_Housing.xlsx")<br/>housing_df.head()</span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/1794ad7f8c0a935c93d5581d2835390b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkktw0NMPSP6h1cYZ_XkCw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">3. Housing Data Sample</figcaption></figure><p id="53f6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还研究加载数据的基本结构，比如形状、列名和数据类型以及每列的定义。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="31d1" class="ky kz hi ku b fi la lb l lc ld"># Data Definitions<br/>housing_df.shape<br/>housing_df.columns<br/>housing_df.info()</span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/03843d38736849d70ee82e96dcbe4e95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iIII_PQMOvQZLJPzPcbMcA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">4. Structure of Housing Data</figcaption></figure><p id="0a9c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据集有20，640条记录，每条记录有10列，<em class="lg">即，“经度”、“纬度”、“住房_中位数_年龄”、“总房间数”、“T17”、“总卧室数”、“人口”、“家庭数”、“中位数_收入”、“T18”、“海洋_邻近度”、“中位数_房屋值”。</em>除了<em class="lg"> 'ocean_proximity' </em>列为object类型并包含字符串值之外，<em class="lg">列均为数值类型连续(float64)或离散(int64)，如‘NEAR BAY’</em></p><p id="ec28" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第三步:数据清理<br/> </strong>我们现在将尝试查找是否有任何数字列有由Null或NaN表示的缺失数据。我们可以删除这些记录，或者尝试用相应列的平均值来填充缺失的值。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="e243" class="ky kz hi ku b fi la lb l lc ld"># Data Cleaning<br/>housing_df.isnull().sum()<br/>housing_df.total_bedrooms.mean()<br/>housing_df.total_bedrooms.fillna(housing_df.total_bedrooms.mean(),inplace=True)<br/>housing_df.isnull().sum()</span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/2e00bdec800fe25cd6e03edeb0891940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AOE_I01FdJ0lOx768chcFg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">5. Find Missing Values</figcaption></figure><p id="d999" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们注意到“total _ hydro es”列有207个空记录。现在，我们将使用“total _ hydro es”列的平均值来填充这些空值，如下所示:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/52bfded3589f1f2fc66ed5623f4b73d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P-9D3JyvUsQ1KQzz3yGPZQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">6. Replace Null values with the mean of the total_bedrooms column and verify</figcaption></figure><p id="f78a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤4:编码分类数据<br/> </strong>我们注意到<em class="lg">“ocean _ proximity”</em>列是<em class="lg">‘object’</em>类型，带有字符串值，如<em class="lg">“NEAR BAY”</em>。我们现在将使用标签编码将中的分类列转换为数字数据。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="56ad" class="ky kz hi ku b fi la lb l lc ld">housing_df['ocean_proximity'].unique()<br/>lbl_encoder = LabelEncoder()<br/>housing_df.loc[:, ('ocean_proximity')] = lbl_encoder.fit_transform(housing_df['ocean_proximity'])<br/>housing_df.head()</span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/0412315f1e7e0d13b297e41715aa8f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s-s012eMCeyukP7ZC6R8QA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">7. Apply Label Encoding on “ocean_proximity” column</figcaption></figure><p id="6cbc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，<em class="lg">“OCEAN _ proximity”</em>列的值，<em class="lg">即“近海湾”、“T45”【1H海洋”、“内陆”、“近海洋”、“岛屿”</em>被替换为范围从0到4的数值，每个数字表示每个唯一的字符串值，例如“近海湾”= 3。</p><p id="8c39" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们需要执行这个步骤来找到独立变量<em class="lg">“海洋_邻近度”</em>与<em class="lg">“中位数_房屋_价值”的相关性。</em>这也使我们能够将该列包括在数值模型中，例如用于<em class="lg">“median _ house _ value”</em>的未来预测的线性回归。</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="2f24" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在接下来的部分中，我们将执行以下操作:</p><p id="7740" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">提取并分割数据集</strong>:</p><ul class=""><li id="7942" class="jy jz hi ix b iy iz jc jd jg ka jk kb jo kc js lk ke kf kg bi translated">从数据集中提取输入(X)和输出(Y)数据。</li><li id="c14c" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js lk ke kf kg bi translated">将数据分成80%的训练数据集和20%的测试数据集。</li></ul><p id="679c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.<strong class="ix hj">标准化数据</strong>:</p><ul class=""><li id="c906" class="jy jz hi ix b iy iz jc jd jg ka jk kb jo kc js lk ke kf kg bi translated">标准化训练和测试数据集。</li></ul><p id="e109" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.<strong class="ix hj">进行线性回归</strong>:</p><ul class=""><li id="0d46" class="jy jz hi ix b iy iz jc jd jg ka jk kb jo kc js lk ke kf kg bi translated">对训练数据执行线性回归。</li><li id="baa7" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js lk ke kf kg bi translated">使用拟合模型预测测试数据集的输出。</li><li id="b4d9" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js lk ke kf kg bi translated">打印线性回归的均方根误差(RMSE)。</li></ul><p id="d80f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">用一个自变量进行线性回归</strong>:</p><ul class=""><li id="a767" class="jy jz hi ix b iy iz jc jd jg ka jk kb jo kc js lk ke kf kg bi translated">从独立变量(从<strong class="ix hj"> X_train </strong>和<strong class="ix hj"> X_test </strong>)中只提取median_income列。</li><li id="9f5b" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js lk ke kf kg bi translated">根据<strong class="ix hj">中值收入</strong>进行线性回归预测房价。</li><li id="8291" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js lk ke kf kg bi translated">使用拟合模型预测测试数据集的输出。</li><li id="4d4a" class="jy jz hi ix b iy kh jc ki jg kj jk kk jo kl js lk ke kf kg bi translated">绘制训练数据和测试数据的拟合模型，以检查拟合模型是否满足测试数据。</li></ul><p id="6d32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请关注此空间了解更多信息。谢谢！</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="3fc6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">资源链接:<br/>Jupyter笔记本(Python)代码请点击<a class="ae iu" href="https://github.com/pspriyankasethi/data-sciences/blob/master/Code/Python/CaliforniaHousing.ipynb" rel="noopener ugc nofollow" target="_blank"> <em class="lg">这里</em> </a>。<br/>对于数据集，请点击<a class="ae iu" href="https://github.com/pspriyankasethi/data-sciences/blob/master/DataSets/RealEstate/California_Housing.xlsx" rel="noopener ugc nofollow" target="_blank"> <em class="lg">此处</em> </a> <em class="lg">。</em></p></div></div>    
</body>
</html>