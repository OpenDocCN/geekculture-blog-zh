<html>
<head>
<title>Deploy your Streamlit App to Heroku in 3 easy steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过3个简单的步骤将您的Streamlit应用程序部署到Heroku</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/deploy-your-streamlit-app-to-heroku-in-3-easy-steps-2804c4a3af58?source=collection_archive---------19-----------------------#2022-12-19">https://medium.com/geekculture/deploy-your-streamlit-app-to-heroku-in-3-easy-steps-2804c4a3af58?source=collection_archive---------19-----------------------#2022-12-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="78cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Heroku是一个平台即服务解决方案，您可以使用它将您的网络应用程序部署到世界各地。它建立在亚马逊的AWS之上，对于个人和公司来说是一个有用的工具，可以让他们在GitHub仓库中轻松部署应用程序。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a2796b1ecc78ec99a241a4e07e1c2d7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SJA6JNxZ9eTlc2g0.png"/></div></div></figure><p id="3dd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程将向您展示如何使用Heroku部署您的streamlit应用程序，您需要的只是一个GitHub帐户和一个Heroku帐户。我假设你对两者都有点熟悉。</p><h1 id="1384" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第0步:简化</h1><p id="dc0b" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><a class="ae ks" href="https://www.streamlit.io" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>是一个开源的Python库，可以轻松创建和共享漂亮的定制web应用程序，用于机器学习和数据科学。只需几分钟，您就可以构建和部署强大的数据应用程序。出于我们的目的，我们将创建一个简单的文件<em class="kt"> app.py </em>，它将为您提供三个数字中最大的一个。还有很多东西需要简化，如果您想了解更多，这里有一篇文章可以帮助您入门:</p><div class="ku kv ez fb kw kx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/streamlit-the-bare-essentials-d9a6d49bdd03"><div class="ky ab dw"><div class="kz ab la cl cj lb"><h2 class="bd hj fi z dy lc ea eb ld ed ef hh bi translated">Streamlit —最基本的要素</h2><div class="le l"><h3 class="bd b fi z dy lc ea eb ld ed ef dx translated">使用Streamlit所需的基础知识，以及使用纯python创建强大的web应用程序，非常适合呈现任何…</h3></div><div class="lf l"><p class="bd b fp z dy lc ea eb ld ed ef dx translated">medium.com</p></div></div><div class="lg l"><div class="lh l li lj lk lg ll jn kx"/></div></div></a></div><p id="1801" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们来编写我们的<em class="kt"> app.py </em>:</p><pre class="je jf jg jh fd lm ln lo bn lp lq bi"><span id="b04f" class="lr jq hi ln b be ls lt l lu lv">import streamlit as st<br/><br/>st.title('Greatest of Three Numbers') # Set Title of the webapp<br/><br/>choice1 = st.number_input('Enter First number') #Accepts a number input<br/>choice2 = st.number_input('Enter Second number')<br/>choice3 = st.number_input('Enter Third number')<br/><br/>string = f'Maximum value is {max(choice1,choice2,choice3)}'<br/><br/>st.write(string)</span></pre><p id="bced" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用任何文本编辑器或IDE将它写出来，并使用<strong class="ih hj"> <em class="kt"> streamlit run app.py(而不是python app.py) </em> </strong>进行测试</p><p id="49c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您应该会在浏览器中看到类似这样的内容:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/e562c8f9b4d0d9befb2e3478b0384ddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*l4VedoU3AIfeRPfY.png"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Your Streamlit demo-app</figcaption></figure><p id="0b99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现在，创建一个GitHub存储库，并将<em class="kt"> app.py </em>添加到其中。</strong></p><h1 id="af56" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤1:需求和运行时</h1><p id="c6b0" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在您的GitHub存储库中，您将需要添加两个<em class="kt">。txt </em>文件。</p><p id="6cdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个<em class="kt"> requirements.txt </em>文件可以让您跟踪项目中使用的模块和包。这个文本文件将让Heroku知道要运行你的应用程序需要安装哪些依赖项。将项目的所有依赖项放在一个地方供用户查看通常也被认为是一个好的做法。在本例中，我们只使用了一个库，所以让我们将它添加到我们的文件中。</p><pre class="je jf jg jh fd lm ln lo bn lp lq bi"><span id="7f36" class="lr jq hi ln b be ls lt l lu lv">streamlit</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/1a799db5129cb5c817366a37f3016d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/0*R_9od5l9IqdNcztK.png"/></div><figcaption class="lx ly et er es lz ma bd b be z dx">What your requirements.txt file should like in your GitHub repo</figcaption></figure><p id="3a30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类似地，<em class="kt"> runtime.txt </em>告诉Heroku我们将使用的语言是<strong class="ih hj"> <em class="kt"> Python。</em> </strong>具体来说就是Python的3.11.0版本。</p><pre class="je jf jg jh fd lm ln lo bn lp lq bi"><span id="5121" class="lr jq hi ln b be ls lt l lu lv">python-3.11.0</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mc"><img src="../Images/b7a76edb6c55a02ff927da1cab99288c.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/0*TaFOU1LucX2FVYMH.png"/></div><figcaption class="lx ly et er es lz ma bd b be z dx">What your runtime.txt file should like in your GitHub repo</figcaption></figure><h1 id="7343" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第二步:设置</h1><p id="23c5" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">既然我们已经完成了一般步骤，Streamlit应用程序还需要两个附加文件才能运行。</p><p id="7ff1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Heroku本质上为我们提供了一个虚拟机。这取决于我们来创建一个应用程序。为此，我们使用一个<strong class="ih hj"> <em class="kt"> setup.sh </em> </strong>文件，它将在虚拟机中为我们创建一个文件夹，并移植我们的应用程序。这个文件使用shellscript，如果您不能理解它的全部含义，请不要担心。</p><pre class="je jf jg jh fd lm ln lo bn lp lq bi"><span id="c3b0" class="lr jq hi ln b be ls lt l lu lv">mkdir -p ~/.streamlit/<br/><br/>echo "\<br/>[general]\n\<br/>email = \"your_heroku@email_id.com\"\n\<br/>" &gt; ~/.streamlit/credentials.toml<br/><br/>echo "\<br/>[server]\n\<br/>headless = true\n\<br/>enableCORS=false\n\<br/>port = $PORT\n\<br/>" &gt; ~/.streamlit/config.toml</span></pre><p id="e89c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记得用你注册heroku账户时使用的电子邮件id替换your_heroku@email_id.com。</p><p id="c362" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，记得我说过:</p><blockquote class="md me mf"><p id="4446" class="if ig kt ih b ii ij ik il im in io ip mg ir is it mh iv iw ix mi iz ja jb jc hb bi translated"><em class="hi">使用</em> <strong class="ih hj"> streamlit run app.py(不是python app.py)进行测试</strong></p></blockquote><p id="46b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要让Heroku知道这一点，我们通过添加一个<em class="kt"> Procfile来做到这一点。</em>引用Heroku文档:</p><blockquote class="md me mf"><p id="c9aa" class="if ig kt ih b ii ij ik il im in io ip mg ir is it mh iv iw ix mi iz ja jb jc hb bi translated"><em class="hi"> Heroku应用包括一个</em><strong class="ih hj"><em class="hi">proc file</em></strong><em class="hi">，指定应用在启动时执行的命令。您可以使用一个Procfile来声明多种</em> <strong class="ih hj"> <em class="hi">流程类型</em> </strong> <em class="hi">，包括:</em></p><p id="a5d5" class="if ig kt ih b ii ij ik il im in io ip mg ir is it mh iv iw ix mi iz ja jb jc hb bi translated"><em class="hi">你的应用程序的网络服务器</em></p><p id="d547" class="if ig kt ih b ii ij ik il im in io ip mg ir is it mh iv iw ix mi iz ja jb jc hb bi translated"><em class="hi">多种类型的工作进程</em></p><p id="f145" class="if ig kt ih b ii ij ik il im in io ip mg ir is it mh iv iw ix mi iz ja jb jc hb bi translated"><em class="hi">单例进程，如</em> <a class="ae ks" href="https://devcenter.heroku.com/articles/scheduled-jobs-custom-clock-processes" rel="noopener ugc nofollow" target="_blank"> <em class="hi">时钟</em> </a></p><p id="a5f4" class="if ig kt ih b ii ij ik il im in io ip mg ir is it mh iv iw ix mi iz ja jb jc hb bi translated"><em class="hi">在部署新版本之前运行</em> <a class="ae ks" href="https://devcenter.heroku.com/articles/release-phase" rel="noopener ugc nofollow" target="_blank"> <em class="hi">的任务</em> </a></p></blockquote><p id="b8ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是Procfile的样子:</p><pre class="je jf jg jh fd lm ln lo bn lp lq bi"><span id="18a7" class="lr jq hi ln b be ls lt l mj lv">web: sh setup.sh &amp;&amp; streamlit run app.py</span></pre><p id="bf13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本质上，它告诉Heroku运行我们编写的<em class="kt"> setup.sh </em>文件，然后运行<em class="kt"> app.py </em>文件。这两者都必须是你的GitHub库的一部分，如果你已经改变了<em class="kt"> app.py </em>文件名，记得在这里反映这个改变。</p><p id="4951" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，记住您需要一个包含以下文件的公共GitHub存储库。它看起来一定是这样的<em class="kt">:</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mk"><img src="../Images/e8be86085d0090e827613f2de7d91e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/0*c1NLH5YnUW5QKxww.png"/></div><figcaption class="lx ly et er es lz ma bd b be z dx">The required files in your GitHub repo</figcaption></figure><p id="cea2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">GitHub就是这样！</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/ceddf431f2ccb1490ef37423bb06e7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4oyctpweh2Ci10zR.jpeg"/></div></div></figure><h1 id="7551" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第三步:Heroku</h1><p id="0c1d" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">将GitHub和Heroku集成在一起，部署你的网络应用程序非常容易。您可以遵循以下四个步骤:</p><ol class=""><li id="2b77" class="mm mn hi ih b ii ij im in iq mo iu mp iy mq jc mr ms mt mu bi translated">登录或注册您的Heroku帐户。</li><li id="2769" class="mm mn hi ih b ii mv im mw iq mx iu my iy mz jc mr ms mt mu bi translated">转到您的仪表板，创建新应用程序。</li><li id="0522" class="mm mn hi ih b ii mv im mw iq mx iu my iy mz jc mr ms mt mu bi translated">连接到您的GitHub，输入您的公共资源库的名称。</li><li id="5fe5" class="mm mn hi ih b ii mv im mw iq mx iu my iy mz jc mr ms mt mu bi translated">向下滚动并部署您的分支。</li></ol><p id="0cb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里看Heroku官方doc上的详细教程:</p><div class="ku kv ez fb kw kx"><a href="https://devcenter.heroku.com/articles/github-integration" rel="noopener  ugc nofollow" target="_blank"><div class="ky ab dw"><div class="kz ab la cl cj lb"><h2 class="bd hj fi z dy lc ea eb ld ed ef hh bi translated">GitHub集成(Heroku GitHub部署)</h2><div class="le l"><h3 class="bd b fi z dy lc ea eb ld ed ef dx translated">Heroku与GitHub集成，可以轻松地将GitHub上的代码部署到Heroku上运行的应用程序中。当GitHub…</h3></div><div class="lf l"><p class="bd b fp z dy lc ea eb ld ed ef dx translated">devcenter.heroku.com</p></div></div><div class="lg l"><div class="na l li lj lk lg ll jn kx"/></div></div></a></div><p id="d735" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我知道你对这篇文章的看法。感谢反馈！T49】</p></div></div>    
</body>
</html>