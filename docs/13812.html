<html>
<head>
<title>How to get excellent football data for free with API football</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用API足球免费获取优秀的足球数据</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-get-excellent-football-data-for-free-with-api-football-1b37d2db5f71?source=collection_archive---------0-----------------------#2022-07-30">https://medium.com/geekculture/how-to-get-excellent-football-data-for-free-with-api-football-1b37d2db5f71?source=collection_archive---------0-----------------------#2022-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8a5ae77f3590b54e08c1336d4e91a776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PS423luEAdae3O9j"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@focusmitch?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mitch Rosen</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="587b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di"/>你喜欢和<strong class="ix hj">一起玩真实可靠的足球统计</strong>关于你最喜欢的足球运动员、俱乐部或联赛吗？你想在你的足球经理锦标赛中获得更多关于足球运动员的统计数据并给你的同事留下深刻印象吗？或者你想通过<strong class="ix hj"> API </strong>创建自己的足球数据集，并从可靠的来源获得真实数据？</p><p id="dbd0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">也许你是一个足球迷，喜欢比较荷甲球员和土耳其超级联赛球员的准确传球。或者你可能是一名热情的球探，需要在丹麦超级联赛中寻找投篮命中率最高的年轻中场球员。</p><p id="b1ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">无论你需要收集足球数据的原因是什么，在这篇文章中，你将学会如何快速收集优秀的足球数据，而且是免费的。</p></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="5fee" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">哪里可以免费找到可靠的足球数据？</h1><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/7a8fc68518d92a29c1b79343ea8c7ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cqHQTgvD9u7XTx_L"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@mbaumi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mika Baumeister</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4023" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">Bref、FiveThirtyEight、WhoScored或ELO俱乐部是一些你可以免费获得可靠足球数据的网站。</p><p id="ab8d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以从这些网站抓取数据，或者使用提供这些数据的API。<a class="ae iu" href="https://www.api-football.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">API</strong></a><strong class="ix hj">Football</strong>project是一款优秀的工具，可以帮助你快速创建一个立体的足球数据集。API足球基于免费增值的商业模式。这意味着您可以通过基本计划免费享受它，如果您以后需要更多功能，您可以随时通过付费计划进行更改和升级。</p></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="bd01" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated"><strong class="ak">我使用什么技术来消费API？</strong></h1><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/26ff5bd10a1301e005e51e2650c92b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3UQ3FNj67ci4Qpfg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@hiteshchoudhary?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hitesh Choudhary</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5043" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">ython 绝对是我现在最喜欢的编程语言。在过去的几年里，我几乎在所有的项目中都使用Python，因为它的强大和多功能性。有了<em class="kc"> pandas </em>、<em class="kc"> requests </em>和<em class="kc"> json </em>包，您将拥有开发一个从API收集数据的简单脚本所需的大部分工具。</p></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="1b5f" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">初始设置</h1><p id="48e5" class="pw-post-body-paragraph iv iw hi ix b iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo ls jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di"> F </span>首先，一个<strong class="ix hj"> API密匙</strong>是强制性的，用来认证你是应用开发者。要得到一个，首先你必须注册到<strong class="ix hj">快速API平台</strong>。之后订阅<a class="ae iu" href="https://rapidapi.com/api-sports/api/api-football/pricing" rel="noopener ugc nofollow" target="_blank"> API足球数据</a>应用的基本方案。此时，基本计划给你每分钟30个请求，每天最多100个请求。你将能够每天免费获得至少两个充满有价值信息的联赛数据集。</p><p id="8629" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦你有了API密匙，就有可能与平台连接。<em class="kc">玩家</em>端点会向我们回复所有关于所选联盟<em class="kc">的<em class="kc">数据</em> <em class="kc">玩家</em>。我建议你查看<a class="ae iu" href="https://www.api-football.com/documentation" rel="noopener ugc nofollow" target="_blank">文档</a>来找到不同的选项。</em></p><figure class="lj lk ll lm fd ij"><div class="bz dy l di"><div class="lt lu l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Players endpoint (see api football documentation)</figcaption></figure><figure class="lj lk ll lm fd ij"><div class="bz dy l di"><div class="lt lu l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Getting an API Football response</figcaption></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="02e4" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">从你最喜欢的联赛中获取数据</h1><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/a83624085b43ac9834ab2a28c16cdb61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RdzCAe86Mavl0nL_"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@herrzett?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tobias</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="91ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">一旦你被认证，你将需要设置一个联赛标识符作为查询参数来获取该锦标赛的球员。你会在我的GitHub代码中找到一些标识符的例子。</p><p id="1bc4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要应用一些特征工程技术来转换几个列:Weight和Height。我用正则表达式提取了它们后缀的浮点值:<em class="kc"> kg </em>和<em class="kc"> cm </em>，以便对它们进行运算。</p><figure class="lj lk ll lm fd ij"><div class="bz dy l di"><div class="lt lu l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Using regex with str.extract() function</figcaption></figure><figure class="lj lk ll lm fd ij"><div class="bz dy l di"><div class="lt lu l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Important to control request per minute and sleep process in BASIC plan.</figcaption></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="0a98" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">创建数据集</h1><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/161150a53faac8db02276798de1ffcd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qNUTN0-Dmi42eJTo"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@mikepetrucci?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mike Petrucci</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f69a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">当你从API football(以及几乎所有的REST API)获得数据时，你必须从JSON格式解析它。大概是这样的:</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/bdc509a3ac73240404e7a4dfd7241488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*1yztX-X10JiYHvSh_qHp4Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">JSON format response example</figcaption></figure><p id="ab8c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的数据集有38列。目标是以JSON格式从API football players端点响应中获取所有这些数据。因此你必须用python json内置包解析JSON文档。</p><div class="ly lz ez fb ma mb"><a href="https://realpython.com/python-json/" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab dw"><div class="md ab me cl cj mf"><h2 class="bd hj fi z dy mg ea eb mh ed ef hh bi translated">使用Python - Real Python中的JSON数据</h2><div class="mi l"><h3 class="bd b fi z dy mg ea eb mh ed ef dx translated">在本教程中，您将学习如何使用Python读写JSON编码的数据。您将看到…的实际操作示例</h3></div><div class="mj l"><p class="bd b fp z dy mg ea eb mh ed ef dx translated">realpython.com</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp io mb"/></div></div></a></div><p id="a818" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本例中，我使用了一个for循环，在响应对象中返回了<em class="kc"> n </em>个结果，其中每个结果都是一个玩家记录。在这段代码中，我们可以看到一些数据播放器。</p><figure class="lj lk ll lm fd ij"><div class="bz dy l di"><div class="lt lu l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Getting data from JSON response.</figcaption></figure><p id="41fd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦所有数据都存储在内存中，我们需要将其保存为csv格式，以准备分析。您可以创建一个关系数据库并将其存储在那里，但在这种情况下，csv文件可以帮助我稍后在<a class="ae iu" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> google colab </a>或Jupyter笔记本中进行EDA，并轻松导入数据集。</p><p id="53ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您将在get_api_data函数中找到完成所有操作的三个步骤。</p><figure class="lj lk ll lm fd ij"><div class="bz dy l di"><div class="lt lu l"/></div><figcaption class="iq ir et er es is it bd b be z dx">Get an API Key, get the data and save it.</figcaption></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="3434" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">结论</h1><p id="cb36" class="pw-post-body-paragraph iv iw hi ix b iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo ls jq jr js hb bi jt translated">现在你知道如何从API Football平台获得真实和最新的足球数据，转换它们的一些属性，并创建一个包含你最喜欢的联赛的所有球员的数据集。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/c785a26160c94635abfd3c7f1ffd8166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rtBs3ToBREnl2KFoG_B7-w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Bundesliga dataset</figcaption></figure><p id="18e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从现在开始，你可以对所有这些数据做很多事情:探索性数据分析，创建监督和非监督的机器学习模型(线性回归，分类等)。)或另一个具有更多深层统计信息的API。</p><p id="8563" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要查看和克隆代码，请进入我的<a class="ae iu" href="https://github.com/jordilucas16/api-football-data" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> GitHub资源库</strong> </a>中的<em class="kc"> api-football-data </em>项目。如果你觉得这篇文章有趣，我会非常感谢你的掌声。</p><p id="4347" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">*感谢<a class="ae iu" href="https://www.biancahofman.com/" rel="noopener ugc nofollow" target="_blank">比安卡·霍夫曼</a>在出版前编辑我的故事。</p></div></div>    
</body>
</html>