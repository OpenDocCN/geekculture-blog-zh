<html>
<head>
<title>Learn Solidity — 1: Simple Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习可靠性— 1:简单变量</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/learn-solidity-1-simple-variables-dc2750f05d57?source=collection_archive---------2-----------------------#2022-01-29">https://medium.com/geekculture/learn-solidity-1-simple-variables-dc2750f05d57?source=collection_archive---------2-----------------------#2022-01-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9dcb38923e715cef3fb45a03957fef43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0WQJxLMXG9vbCAj3oGPrrQ.png"/></div></div></figure><p id="1b1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自从以太坊推出图灵完整系统<strong class="is hj">智能合约</strong>以来，它彻底改变了区块链的功能，从比特币提出的去中心化货币交易到构建在不同可编程区块链上的数百个去中心化应用。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/85d3237216655df7f5fe82409d6674b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AfDLHiKi9-hU2xX7Llcv-w.gif"/></div></div></figure><p id="8b19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一份<strong class="is hj">智能合同</strong>是一份自动执行的合同，买卖双方之间的协议条款被直接写入代码行。守则和其中包含的协议存在于一个分散的区块链网络中。代码控制执行，事务是可跟踪和不可逆的。</p><p id="e25e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">智能合约本质上是一个能够进行逻辑运算的状态机，它需要挖掘事务来改变其状态。</p><h1 id="a846" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">什么是扎实？</h1><p id="85e5" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated"><strong class="is hj"> Solidity </strong>是一种面向对象的高级语言，用于在各种区块链上实现智能合约，尤其是以太坊。受C++、Python、JavaScript的影响，针对<strong class="is hj">以太坊虚拟机(EVM) </strong>而设计。</p><div class="kw kx ez fb ky kz"><a href="https://docs.soliditylang.org/en/v0.8.11/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">坚固性-坚固性0.8.11文件</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">部署合同时，您应该使用最新发布的Solidity版本。除了特殊情况，只有…</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">docs.soliditylang.org</p></div></div></div></a></div><p id="6075" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我们将会看到坚实的基础。因此，让我们抓紧时间写下我们的第一行代码。</p><h1 id="f507" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">你好世界！</h1><p id="c77c" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">我们将编写一个简单的契约，显示古老的“hello world”字符串。现在，我们将使用remix.ethereum来编译和部署我们的代码。</p><div class="kw kx ez fb ky kz"><a href="https://remix.ethereum.org/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">Remix -以太坊IDE</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">编辑描述</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">remix.ethereum.org</p></div></div></div></a></div><p id="4359" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">还要确保你安装了Metamask，并从水龙头上拿到了测试乙醚。阅读我的这篇文章的前半部分，了解如何设置元掩码和获取测试醚。</p><div class="kw kx ez fb ky kz"><a rel="noopener follow" target="_blank" href="/geekculture/simple-dapp-using-flutter-and-solidity-b64f5267acf4"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">利用颤振和坚固性的简单Dapp</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">创建一个简单的flutter Dapp，它可以与部署在以太网上的智能契约进行交互。</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">medium.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln io kz"/></div></div></a></div><p id="1b7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将开始定义我们将要使用的solidity的版本。理想情况下，我们倾向于使用最新版本，但由于兼容性和安全性问题，使用最新版本并不总是合适的。所以我们用这样的东西。</p><pre class="jp jq jr js fd lo lp lq lr aw ls bi"><span id="d5a9" class="lt ju hi lp b fi lu lv l lw lx">pragma solidity &gt;=0.7.0 &lt;0.9.0;</span></pre><p id="f5de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一行是一个<strong class="is hj"> pragma指令</strong>，它告诉我们源代码是为Solidity版本<strong class="is hj"> 0.7.0 </strong>或任何更新的版本编写的，这些版本不会破坏功能，但不包括版本<strong class="is hj"> 0.9.0 </strong>。</p><pre class="jp jq jr js fd lo lp lq lr aw ls bi"><span id="4df6" class="lt ju hi lp b fi lu lv l lw lx">pragma solidity ^0.7.0;</span></pre><p id="02f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想为一个在0.7.0之前不能编译的文件写一个编译指示，并且它也不能在从0.8.0开始的编译器上工作，那么我们将使用“^".”</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/8e0aa377448095c3edbbe5ba81126201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*5UVhQulwULUQBjE0bt2eeA.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Simple Contract</figcaption></figure><p id="861d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在定义了solidity版本之后，我们创建了我们的第一个契约，“<strong class="is hj"> MyContract”。</strong>我们定义了一个公共字符串，<strong class="is hj">“myString”</strong>在契约里面，说“Hello World”。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/16ce4b2f5b7950317134788def0db26d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Re5ylR2HnwYiGKjU69EFrQ.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx">Compile</figcaption></figure><p id="7f60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们要<strong class="is hj">在remix.ethereum提供的编译器上编译</strong>契约，然后再部署。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es me"><img src="../Images/1e3a19864e9565f1728ea67964b44f26.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*iMUYMgvCPNr52kLZcJjbkQ.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Deploy Contract</figcaption></figure><p id="b6b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">选择<strong class="is hj">注入的Web3 </strong>作为环境，并选择我们需要部署的契约。确保您的元掩码钱包地址指向带有测试以太网的地址。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/bfadec5d61492296deca263553ba82e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*oHAPQ3rFHw-fJQMRJM78QQ.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Metamask</figcaption></figure><p id="eea2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您部署合同时，Metamask将要求您确认供气。确认后，需要一段时间才能将合同部署到区块链。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/7c2ead1a069d7cc98390af854e880ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FwdPKyiinYSQ-th08IZZoA.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx">Contract Deployment Details</figcaption></figure><p id="a498" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">部署后，您可以看到交易散列、发件人地址和关于我们合同的各种其他细节。你也可以通过输入交易散列来查看我们的合同。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/6f701615c5ded9ea13de15569c8e1a86.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*bOlDGEWIstJARsrFQHjldQ.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Deployed Contracts</figcaption></figure><p id="c8b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在remix中的<strong class="is hj">已部署合同</strong>部分，我们可以与刚刚部署的智能合同进行交互。</p><h1 id="bd8e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">坚实度变量</h1><p id="24bb" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">像其他编程语言一样，Solidity也有变量，这些变量基本上是运行时可以操作的数据的占位符。坚固性支持三种类型的变量，</p><ol class=""><li id="772b" class="mi mj hi is b it iu ix iy jb mk jf ml jj mm jn mn mo mp mq bi translated"><strong class="is hj">状态变量</strong>-其值永久存储在合同存储器中的变量。</li><li id="8d1b" class="mi mj hi is b it mr ix ms jb mt jf mu jj mv jn mn mo mp mq bi translated"><strong class="is hj">局部变量</strong>-其值在函数执行前一直存在的变量。</li><li id="8efd" class="mi mj hi is b it mr ix ms jb mt jf mu jj mv jn mn mo mp mq bi translated"><strong class="is hj">全局变量</strong>-特殊变量存在于全局名称空间中，用于获取关于区块链的信息。</li></ol><h2 id="9bb4" class="lt ju hi bd jv mw mx my jz mz na nb kd jb nc nd kh jf ne nf kl jj ng nh kp ni bi translated">整数</h2><p id="c388" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">整数类型变量可以是各种大小的有符号或无符号变量。关键词<strong class="is hj"> uint8 </strong>到<strong class="is hj"> uint256 </strong>(无符号8到256，以8为步长)和<strong class="is hj"> int8 </strong>到<strong class="is hj"> int256 </strong>。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nj"><img src="../Images/0a7de012a48839293ac1c9831566f1a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*44xnfA4ollwYqLvmSK-s8w.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">uint256 variable implementation.</figcaption></figure><p id="51d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> uint </strong>和<strong class="is hj"> int </strong>默认分别指<strong class="is hj"> uint256 </strong>和<strong class="is hj"> int256 </strong>。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nk"><img src="../Images/281a3548830284606f0077638ec95272.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*tni4GSMTzK6AE-UzQpTFKA.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Contract Interaction.</figcaption></figure><h2 id="5629" class="lt ju hi bd jv mw mx my jz mz na nb kd jb nc nd kh jf ne nf kl jj ng nh kp ni bi translated">布尔代数学体系的</h2><p id="273c" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">布尔表示逻辑真值，<strong class="is hj">【真】</strong><strong class="is hj">【假】</strong>。像大多数编程语言一样，solidity也有布尔变量。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nl"><img src="../Images/20780cd30a88bad571315b4337d2f621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*9jopvtL_D2HsaGd-xJpRKA.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Boolean variable myVar.</figcaption></figure><h2 id="19d4" class="lt ju hi bd jv mw mx my jz mz na nb kd jb nc nd kh jf ne nf kl jj ng nh kp ni bi translated">地址</h2><p id="692c" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">下一个变量类型是一个称为<strong class="is hj">地址</strong>的特殊类型，它保存了代表<strong class="is hj">以太坊地址</strong>大小的<em class="nm"> 20字节</em>值。一个地址可以用来分别通过<em class="nm">平衡</em>和<em class="nm">转移</em>方法获得平衡或转移平衡。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nn"><img src="../Images/0cb369254e45154dd66e71bfee168534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*EUck46XQalQvMReXOCGqPw.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Address variable type</figcaption></figure><p id="3afc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，我们定义了两个函数，<strong class="is hj"> setAddress() </strong>将用户输入地址设置为变量<em class="nm"> myAddress </em>和<strong class="is hj"> getBalance() </strong>获取该地址持有的余额。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es no"><img src="../Images/47d9dce28809f936d6646dbbcef3ee1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*nhRVlxOE5nlDTRIFfMstBg.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">Deployed Contract</figcaption></figure><p id="f98a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们看到地址变量填充了0x00…0的初始地址<strong class="is hj">和余额0。</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es np"><img src="../Images/d0416cc45905bda3106d354541e42768.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*yoEG5GlrwZYCcyz9BiFZvw.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx">setAddress() and getBalance()</figcaption></figure><p id="b6ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将remix的JavaScript VM地址设置为变量，并通过调用<strong class="is hj"> getBalance() </strong>函数取回了99个醚的余额。</p><h2 id="39df" class="lt ju hi bd jv mw mx my jz mz na nb kd jb nc nd kh jf ne nf kl jj ng nh kp ni bi translated">用线串</h2><p id="cac7" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">solidity中的字符串在内部存储为<strong class="is hj">字节数组</strong>。字节用于存储固定大小的字符集，而字符串用于存储等于或大于一个字节的字符集。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nq"><img src="../Images/bad98494e8cb72b465ea2b042c2a643c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*TICvgOtV1DCJXNx7mvNr2w.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx">setMyString( ) function</figcaption></figure><p id="6c17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">字节的长度是从<strong class="is hj"> 1 </strong>到<strong class="is hj"> 32 </strong>，而字符串的长度是动态的。字节有一个优点，它使用较少的气体原料。</p><p id="dbd7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">内存</strong>关键字用于保存临时值。它在(外部)函数调用之间被擦除，并且比在函数调用之间持久的<strong class="is hj">存储</strong>关键字更便宜。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nr"><img src="../Images/1240b9390638d07015d0ab0bcdb37b92.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*U4rH1NaBcYN40uoJdGLIMg.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx">Deployed Contract</figcaption></figure><p id="b9de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Solidity有几个高级语言变量类型，都是静态类型的。还有一些特殊类型的变量是实性独有的，我们将在本系列的下一篇文章中讨论。</p><div class="kw kx ez fb ky kz"><a rel="noopener follow" target="_blank" href="/geekculture/learn-solidity-2-addresses-and-global-variables-667ffdb924d7"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">学习可靠性— 2:地址和全局变量</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">通过这个Learn Solidity系列学习构建智能合同！</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">medium.com</p></div></div><div class="li l"><div class="ns l lk ll lm li ln io kz"/></div></div></a></div><h1 id="ca09" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">参考</h1><div class="kw kx ez fb ky kz"><a href="https://docs.soliditylang.org/en/v0.8.11/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">坚固性-坚固性0.8.11文件</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">部署合同时，您应该使用最新发布的Solidity版本。除了特殊情况，只有…</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">docs.soliditylang.org</p></div></div></div></a></div></div></div>    
</body>
</html>