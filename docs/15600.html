<html>
<head>
<title>Linux command: PS (Process Status)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux命令:PS(进程状态)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/linux-command-ps-process-status-8a1a76e7bafc?source=collection_archive---------0-----------------------#2022-11-10">https://medium.com/geekculture/linux-command-ps-process-status-8a1a76e7bafc?source=collection_archive---------0-----------------------#2022-11-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="f38b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Linux“PS”命令概述</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e0f72a7c269e3795030c51c1c1e68e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VuizvcCVsrG8s7fP.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">From: <a class="ae jn" href="https://wizardzines.com/comics/ps/" rel="noopener ugc nofollow" target="_blank">https://wizardzines.com/comics/ps/</a></figcaption></figure><h1 id="564f" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><code class="du kg kh ki kj b"><strong class="ak">ps</strong></code> —过程状态</h1><p id="af59" class="pw-post-body-paragraph kk kl hi km b kn ko ij kp kq kr im ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">ps</strong></code>命令显示与Linux系统中运行的进程相关的信息。</p><pre class="iy iz ja jb fd lg kj lh li aw lj bi"><span id="79f8" class="lk jp hi kj b fi ll lm l ln lo"><strong class="kj hj">$</strong> <strong class="kj hj">ps</strong></span><span id="3a7e" class="lk jp hi kj b fi lp lm l ln lo">--------------------------------------------------------------------<br/><strong class="kj hj">    PID TTY          TIME CMD</strong><br/>  54316 pts/0    00:00:00 bash<br/>  54341 pts/0    00:00:00 ps</span></pre><p id="0a5f" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">PID</strong></code> <strong class="km hj"> </strong> —唯一进程ID <br/> <code class="du kg kh ki kj b"><strong class="km hj">TTY</strong></code> <strong class="km hj"> </strong> —用户当前登录的终端类型。<br/> <code class="du kg kh ki kj b"><strong class="km hj">TIME</strong></code> <strong class="km hj"> </strong> —该进程自首次开始运行以来消耗的CPU时间。<code class="du kg kh ki kj b"><strong class="km hj">CMD</strong></code> <strong class="km hj"> </strong> —用于启动相应进程的命令。</p><h2 id="f8f2" class="lk jp hi bd jq lv lw lx ju ly lz ma jy kt mb mc ka kx md me kc lb mf mg ke mh bi translated">带参数的ps</h2><p id="d0dc" class="pw-post-body-paragraph kk kl hi km b kn ko ij kp kq kr im ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">如果我们用(-)破折号传递参数<strong class="km hj">，那么我们将得到标准语法的输出。相反，如果我们传递参数<strong class="km hj">而不带任何(-)破折号</strong>，那么我们将得到BSD(Berkeley Software Distribution)语法的输出。</strong></p><blockquote class="mi mj mk"><p id="6e1f" class="kk kl ml km b kn lq ij kp kq lr im ks mm ls kv kw mn lt kz la mo lu ld le lf hb bi translated"><strong class="km hj"> <em class="hi">查看所有正在运行的进程:</em> </strong> <code class="du kg kh ki kj b"><strong class="km hj"><em class="hi">ps -e</em></strong></code> <strong class="km hj"> <em class="hi">或</em> </strong> <code class="du kg kh ki kj b"><strong class="km hj"><em class="hi">ps -A</em></strong></code> <strong class="km hj"> <em class="hi"> <br/>查看所有正在运行的进程的完整格式化列表:</em> </strong> <code class="du kg kh ki kj b"><strong class="km hj"><em class="hi">ps -efL</em></strong></code></p></blockquote><pre class="iy iz ja jb fd lg kj lh li aw lj bi"><span id="bb15" class="lk jp hi kj b fi ll lm l ln lo">$ <strong class="kj hj">ps -efL | more </strong>  # more for viewing from the beginning</span><span id="ae4d" class="lk jp hi kj b fi lp lm l ln lo"><strong class="kj hj">-------------------------------------------------------------------</strong></span><span id="78c3" class="lk jp hi kj b fi lp lm l ln lo">UID          PID    PPID     LWP  C NLWP STIME TTY          TIME CMD<br/>root           1       0       1  1    1 03:44 ?        00:00:20 /sbin/init<br/>root           2       0       2  0    1 03:44 ?        00:00:00 [kthreadd]<br/>...<br/>...</span></pre><p id="2bc1" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated">我们可以使用<code class="du kg kh ki kj b"><strong class="km hj">grep</strong></code> <strong class="km hj"> </strong>连同<code class="du kg kh ki kj b"><strong class="km hj">ps</strong></code> <strong class="km hj"> </strong>命令来搜索特定的进程；<br/>假设我们想看看我们的“httpd”服务器是否正在运行。我们可以通过以下方式实现:</p><pre class="iy iz ja jb fd lg kj lh li aw lj bi"><span id="64f0" class="lk jp hi kj b fi ll lm l ln lo">$  <strong class="kj hj">ps -efL | grep httpd</strong></span><span id="6376" class="lk jp hi kj b fi lp lm l ln lo"><strong class="kj hj">--------------------------------------------------------------------</strong></span><span id="2482" class="lk jp hi kj b fi lp lm l ln lo">root       48778   39025   48778  0    1 04:22 pts/0    00:00:00 grep --color=auto <strong class="kj hj">httpd</strong></span></pre><p id="a5da" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated">要按用户名和组查看所有正在运行的进程:</p><pre class="iy iz ja jb fd lg kj lh li aw lj bi"><span id="206a" class="lk jp hi kj b fi ll lm l ln lo">$<strong class="kj hj"> ps -u root</strong>   # by username<br/>$<strong class="kj hj"> ps -G admin</strong>  # by group</span></pre><p id="42cf" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated">查看流程树。一个流程内可以有多个流程运行，我们可以使用<code class="du kg kh ki kj b"><strong class="km hj">ps -ejH</strong></code> <strong class="km hj"> </strong>来查看流程树:</p><pre class="iy iz ja jb fd lg kj lh li aw lj bi"><span id="8043" class="lk jp hi kj b fi ll lm l ln lo">$ <strong class="kj hj">ps -ejH | grep sshd </strong></span><span id="4016" class="lk jp hi kj b fi lp lm l ln lo">--------------------------------------------------------------------<br/>    614     614     614 ?        00:00:00   <strong class="kj hj">sshd</strong><br/>  22310   22310   22310 ?        00:00:00     <strong class="kj hj">sshd</strong><br/>  30267   30267   30267 ?        00:00:00     <strong class="kj hj">sshd</strong><br/>  33871   33871   33871 ?        00:00:00     <strong class="kj hj">sshd</strong></span></pre><p id="6af9" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated">在上面的演示中，我们可以看到“<strong class="km hj"> sshd </strong>”流程的流程树。</p><p id="caef" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated">使用最广泛的<code class="du kg kh ki kj b"><strong class="km hj">ps</strong></code> <strong class="km hj"> </strong>命令是<code class="du kg kh ki kj b"><strong class="km hj">ps aux</strong></code>:它将使用BSD语法输出所有正在运行的进程。<code class="du kg kh ki kj b"><strong class="km hj">ps aux</strong></code>显示了用户通常需要了解其系统运行进程的当前状态的最大量的信息。</p><pre class="iy iz ja jb fd lg kj lh li aw lj bi"><span id="0ca5" class="lk jp hi kj b fi ll lm l ln lo">$ ps aux |　more</span><span id="4038" class="lk jp hi kj b fi lp lm l ln lo">--------------------------------------------------------------------</span><span id="9a80" class="lk jp hi kj b fi lp lm l ln lo"><strong class="kj hj">USER  PID %CPU %MEM   VSZ   RSS  TTY   STAT START  TIME   COMMAND</strong><br/>root  1   0.6  0.5  169396 11312  ?    Ss   03:44   0:24  /sbin/init<br/>root  2   0.0  0.0       0     0  ?    S    03:44   0:00  [kthreadd]<br/>...</span></pre><p id="432b" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">ps aux</strong></code>提供附加信息，例如:</p><p id="cbe2" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">%CPU</strong></code> <strong class="km hj"> </strong>本进程使用的CPU时间(以百分比表示)</p><p id="33c3" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">%MEM</strong></code>该进程使用的物理内存(百分比)</p><p id="cbf7" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">VSZ</strong></code>显示进程消耗的虚拟内存量。</p><p id="d393" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">RSS</strong></code>是正在使用的实际物理<em class="ml">连线</em>内存。</p><p id="c8bb" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">START</strong></code>显示流程开始的日期或时间。</p><p id="c931" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">TIME</strong></code>显示该进程使用的总CPU时间。</p><p id="d36f" class="pw-post-body-paragraph kk kl hi km b kn lq ij kp kq lr im ks kt ls kv kw kx lt kz la lb lu ld le lf hb bi translated"><code class="du kg kh ki kj b"><strong class="km hj">STAT</strong></code>显示一个进程的状态。最常见的状态代码描述如下:</p><blockquote class="mi mj mk"><p id="f7ba" class="kk kl ml km b kn lq ij kp kq lr im ks mm ls kv kw mn lt kz la mo lu ld le lf hb bi translated"><strong class="km hj"> <em class="hi"> R: </em> </strong> <em class="hi">正在运行或可运行的。<br/></em><strong class="km hj"><em class="hi">S:</em></strong><em class="hi">可中断睡眠，等待一个事件完成，如从<br/>终端输入。<br/></em><strong class="km hj"><em class="hi">D:</em></strong><em class="hi">不间断睡眠，不能被信号杀死或中断的进程，通常要让它们消失你必须重启或修复问题。<br/></em><strong class="km hj"><em class="hi">Z:</em></strong><em class="hi">僵尸是正在等待状态被收集的终止进程。<br/></em><strong class="km hj"><em class="hi">T:</em></strong><em class="hi">停止，已经暂停/停止的流程。</em></p></blockquote></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><blockquote class="mw"><p id="868f" class="mx my hi bd mz na nb nc nd ne nf lf dx translated"><em class="ng">如果你觉得这篇文章很有帮助，请</em> <strong class="ak"> <em class="ng">别忘了</em> </strong> <em class="ng">来点击</em> <strong class="ak"> <em class="ng">跟随</em> </strong> <em class="ng">和</em> <strong class="ak"> <em class="ng">拍拍</em> </strong> <em class="ng">按钮，帮我写更多这样的文章。<br/>谢谢🖤 </em></p></blockquote></div></div>    
</body>
</html>