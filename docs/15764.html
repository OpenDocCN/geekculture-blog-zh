<html>
<head>
<title>Are there really Public, Protected, and Private Access Modifiers Present in Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中真的存在公共的、受保护的和私有的访问修饰符吗？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/are-there-really-public-protected-and-private-access-modifiers-present-in-python-74c7b578eb19?source=collection_archive---------2-----------------------#2022-11-19">https://medium.com/geekculture/are-there-really-public-protected-and-private-access-modifiers-present-in-python-74c7b578eb19?source=collection_archive---------2-----------------------#2022-11-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="26b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嘿！，欢迎回到另一篇内容丰富的文章。最近，我在GitHub上查看了一些代码，作者在变量名和方法名前面加了单下划线和双下划线。然后我开始了解到Python中的访问修饰符是通过使用命名约定来表示的。Python并不严格提供任何访问修饰符，因此，默认情况下所有变量和方法都是公共的。因此，可以在类外部读取任何类成员。这种在变量和方法前面添加下划线的命名约定用于显示程序员对变量和方法的阅读范围的意图。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/76fc81784122430587c8924e6605e93b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lAHwW35SZ2aEZ6TMOcL2Pw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@markusspiske?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae jt" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b8e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与Java和C++不同，Python缺少protected、public和private访问修饰符来保护类成员免受不必要的访问。但是，可以在变量或方法名前面加上一个<strong class="ih hj">单下划线来表示其行为受到保护。然而，这些变量可以在类的内部和外部访问。</strong></p><p id="975a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">变量或方法名前面可以有两个前导下划线，表示变量或方法的行为是私有的。这些变量可以在类内部访问。对于这些变量，Python执行名称管理。所谓“名称混乱”，我们的意思是Python将前导下划线和类名放在私有变量(那些用两个前导下划线声明的变量或方法)的前面。因此，可以通过在变量或方法名前面加上一个前导下划线和类名来访问私有变量。</strong></p><p id="2c1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这可能真的会让你感到困惑。让我们通过代码来理解这一点。下面是我创建一个名为demo的类的代码。在__init__()构造函数中，我们添加了三个变量来描述公共、受保护和私有变量的行为。在这个类中，我们将定义三个方法来描述公共的、受保护的和私有的方法功能。</p><pre class="je jf jg jh fd ju jv jw bn jx jy bi"><span id="5f6e" class="jz ka hi jv b be kb kc l kd ke"># Showing the Public, Protected and private access modifier<br/>class access_modifier:<br/>    def __init__(self,var1, var2, var3):<br/>        self.var1 = var1 # public variable<br/>        self._var2 = var2 # protected variable declared with single leading _<br/>        self.__var3 = var3 # private variable declared with double leading __<br/>    # Public method <br/>    def show_variables(self):<br/>        print("Inside Public Method ------&gt;\n")<br/>        print(f'Public variable var1 is: {self.var1}, Protected variable _var2 is: {self._var2}, Private variable __var3 is: {self.__var3}')<br/>    <br/>    # Protected Method declared with single leading _<br/>    def _show_variables(self):<br/>        print("Inside Protected Method ------&gt;\n")<br/>        print(f'Public variable var1 is: {self.var1}, Protected variable _var2 is: {self._var2}, Private variable __var3 is: {self.__var3}')<br/>    # Private Method declared with double leading __<br/>    def _show_variables(self):<br/>        print("Inside Private Method ------&gt;\n")<br/>        print(f'Public variable var1 is: {self.var1}, Protected variable _var2 is: {self._var2}, Private variable __var3 is: {self.__var3}')</span></pre><p id="0b97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">访问公共方法和变量:</strong></p><p id="5e5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，var1和show_variables()分别是公共变量和方法，因此可以使用类的对象在类外部访问它们。</p><pre class="je jf jg jh fd ju jv jw bn jx jy bi"><span id="bb21" class="jz ka hi jv b be kb kc l kd ke"># create instance of access_modifier class<br/>class_instance = access_modifier(10,20,30) <br/># access public method show_variables()<br/>class_instance.show_variables()<br/># access public variable var1<br/>print("Accessing var1 outside class:", class_instance.var1)<br/># modify public variable outside class<br/>class_instance.var1 = class_instance.var1**2<br/>print("Accessing var1 after squaring:", class_instance.var1)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kf"><img src="../Images/8e7024c3eb5e87a009012da602148d6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R7doBnoG8zSXvMP4wQCIdQ.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">We can access the public variables and public methods outside of class</figcaption></figure><p id="368f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">访问受保护的方法和变量:</strong></p><p id="307e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在其他OOPs语言中，如java和C++中，可以在类和子类中访问受保护的变量。但是python不限制用单个前导下划线(_)声明的变量的范围。</p><p id="19e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里_var2和_show_variables()分别被描述为受保护的变量和方法，但是可以在类外部访问。</p><pre class="je jf jg jh fd ju jv jw bn jx jy bi"><span id="43d9" class="jz ka hi jv b be kb kc l kd ke"># access protected method _show_variables()<br/>class_instance._show_variables()<br/># access proteceted variable _var2<br/>print("Accessing _var2 outside class:", class_instance._var2)<br/># modify public variable outside class<br/>class_instance._var2 = class_instance._var2**3<br/>print("Accessing _var2 after squaring:", class_instance._var2)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kg"><img src="../Images/3c0d4e63a228a3a16a7bc3e72e072aa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3GX9xlU7JLrt4jMwSWAX1A.jpeg"/></div></div></figure><p id="e092" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">访问私有方法和变量:</strong></p><p id="96eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在其他OOPs语言中，如java和C++，私有变量可以在类内部访问。Python不允许在类外访问以两个下划线开头的变量和方法。</p><p id="fab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里__var3和__show_variables()分别被描述为私有变量和方法，因此当在类外访问它们时，python会给出属性错误。</p><pre class="je jf jg jh fd ju jv jw bn jx jy bi"><span id="8b75" class="jz ka hi jv b be kb kc l kd ke"># access private method __show_variables()<br/>class_instance.__show_variables() # gives attribute error<br/># access proteceted variable __var3<br/>print("Accessing __var3 outside class:", class_instance.__var3) #gives attribute error<br/># modify public variable outside class<br/>class_instance.__var3 = class_instance.__var3**3 #gives attribute error<br/>print("Accessing __var3 after squaring:", class_instance.__var3) #gives attribute error</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kh"><img src="../Images/944fd182be37ee1d57a6aea2b89df32c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*1H0DJasdZj0bQB-up4fKcg.jpeg"/></div></figure><p id="d461" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用Python命名Mangling:</strong></p><p id="4e18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，python对以两个前导下划线开始的变量和方法执行名称管理。也就是说，python通过在变量和方法前面加上单个下划线和类名来改变用两个下划线声明的变量和方法的名称。您可以使用dir()命令查看变量和方法的修改名称，该命令将class的对象作为参数。因此，可以通过在变量或方法名前面加上一个前导下划线和类名来访问私有变量。</p><pre class="je jf jg jh fd ju jv jw bn jx jy bi"><span id="d416" class="jz ka hi jv b be kb kc l kd ke">dir(class_instance)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ki"><img src="../Images/1bfaed660bc6240a382c18bff17db1e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*Y5V17WgFfZoJqpWGjedQYg.jpeg"/></div></figure><p id="aa56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">python名称mangling的结果，我们在上面的图片中可以看到，私有方法__show_variable改为_ access _ modifier _ _ show _ variable，私有变量__var3改为_access_modifier__var3。因此，我们可以使用这些修改后的名字来访问这个类的私有成员。</p><p id="7e77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">访问私有方法和变量:</strong></p><pre class="je jf jg jh fd ju jv jw bn jx jy bi"><span id="2aa6" class="jz ka hi jv b be kb kc l kd ke"># access private method __show_variables()<br/>class_instance._access_modifier__show_variables() <br/># access proteceted variable __var3<br/>print("Accessing __var3 outside class:", class_instance._access_modifier__var3) <br/># modify public variable outside class<br/>class_instance.__var3 = class_instance._access_modifier__var3**3 <br/>print("Accessing __var3 after squaring:", class_instance._access_modifier__var3)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kj"><img src="../Images/b3047e27647e36b11586e9551ed8ef44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xR11_CtsqdkTWufsLoM4VQ.jpeg"/></div></div></figure><p id="fc50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><p id="a035" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经看到，我们可以在类外部访问一个类的所有变量和方法。通过这个练习，我们了解到python不提供任何访问修饰符来控制类成员的可访问性。前导单下划线和双下划线仅用于描述程序员的意图，即他希望用前导下划线将这些成员声明为受保护的或私有的，因此它们应该在作用域方法中读取。</p><p id="64e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您花时间阅读这篇文章。我希望这篇文章能为您提供信息，并让您清楚地理解为什么要在变量和方法名前面使用前导下划线。如果你喜欢这篇文章，别忘了点击“鼓掌”和“关注”按钮。继续查看新帖子。</p></div></div>    
</body>
</html>