<html>
<head>
<title>Miniaturized Market Mix Model with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现小型化市场组合模型</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/miniaturized-market-mix-model-with-python-c73d23067f2e?source=collection_archive---------8-----------------------#2021-07-04">https://medium.com/geekculture/miniaturized-market-mix-model-with-python-c73d23067f2e?source=collection_archive---------8-----------------------#2021-07-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e034" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">4Ps的3M，SciKit，Pandas和Seaborn的实验研究</h2></div><p id="4e3c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">市场组合建模是一个我们可能经常听到的术语，不可否认，对我来说，它听起来像是一个非常复杂的模型和市场混合在一个多维空间中的构造。令我欣慰的是，事情还没那么复杂。这里简单回顾一下在营销或其他方面的课程中铭刻在记忆中的4Ps产品、价格、促销、地点。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/f3e795b90c30a06b62af619e50329893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jPhJRI5ruFIGJ66M"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Photo by <a class="ae kj" href="https://unsplash.com/@ripato?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ricardo Gomez Angel</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5e1c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一个P(产品)是非常直接的，即正在营销的产品或服务。价格是指所采用的定价策略，无论是市场撇取还是渗透，以及所使用的相应定价策略。促销涉及到广泛的营销传播活动。Place实际上是用于营销和销售产品的渠道——数字形式的电视、社交媒体、电子邮件、应用程序通知和文本，或者线下的广告牌、蜗牛邮件和店内广告等方式。</p><p id="c73b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随着企业不遗余力地争夺潜在客户的注意力，他们在哪里投资对他们获得的营销投资回报(MROI)有很大的影响。这就是MMM发挥作用的地方，因为它提出了一种管理Ps生态系统的统计方法，这样你就可以明智地花钱(营销预算)。</p><p id="f91a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用最简单的术语来说，它将特定产品、服务或品牌产生的销售额进行分解，并将其归因于用于营销它的不同渠道。这将有助于营销人员了解什么对他们有效，什么无效，这样他们就知道从哪里拔掉插头，从哪里注入更多的现金，从而更好地为他们规划下一阶段的预算。</p><h1 id="0c08" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">线性回归的基本市场组合模型</h1><p id="091e" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">来自<a class="ae kj" href="https://www.kaggle.com/harrimansaragih/dummy-advertising-and-sales-data" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>的数据集</p><p id="545b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里用于演示目的的数据集是一个乌托邦式的ideal_database.table的精选汇编，它使我们的回归任务比通常使用真实世界数据要容易得多。</p><p id="3de0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个版本中，经销商选择的语言是Python，我们将使用流行的Pandas库进行数据辩论和准备。使用plotly和seaborn进行可视化是我个人的偏好，因为我一直觉得这些库既高效又有吸引力。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="92b1" class="lm kl hi li b fi ln lo l lp lq"># Importing necessary libraries<br/>import pandas as pd<br/>import numpy as np<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>import plotly.express as px<br/>%matplotlib inline<br/>import plotly.graph_objects as go<br/>from plotly import __version__<br/>import cufflinks as cf<br/>from plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot<br/>cf.go_offline()</span><span id="d576" class="lm kl hi li b fi lr lo l lp lq"># Defining colour palette to be used in the notebook for plotly and seaborn plots<br/>notebook_colours=["plum","slateblue","navy","firebrick",                                 "darksalmon","slateblue","maroon","lightskyblue","blue","darkmagenta"]</span></pre><h1 id="1e6a" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated"><strong class="ak">数据准备</strong></h1><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="474a" class="lm kl hi li b fi ln lo l lp lq">## Reading the dataset<br/>market_mix_data=pd.read_csv("Sales &amp; Marketing Dummy Data.csv")<br/>market_mix_data.head()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ls"><img src="../Images/9b7385161c5acfe5e1975681665a8657.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*hNOW-YUg0z5oJD5O6gLmoQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Head of the Dataset</figcaption></figure><p id="b2ce" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">变量非常简单，销售额以百万计，营销费用也以百万计。这里的一个假设是，这种销售纯粹是由营销驱动的。可以理解的是，在一个真实的例子中，这可能不是它真正的工作方式。区分销售流以隔离仅来自营销活动的收入通常具有挑战性，因为许多外部因素也在起作用，包括但不限于天气、季节性和周期性。</p><p id="467e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">回到这个演示，我们有渠道方面的营销支出变量——电视、广播和社交媒体，以百万计。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="3a48" class="lm kl hi li b fi ln lo l lp lq">market_mix_data.info()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lt"><img src="../Images/37dd27cd7afae5c13c31f9d6d3d966d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*Bm7uSgpJNXIeJmBGOn-KNA.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Info about the dataset</figcaption></figure><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="c63d" class="lm kl hi li b fi ln lo l lp lq">market_mix_data.describe()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lu"><img src="../Images/a9defb02b74f341b0f452c1937a17c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*OktYSbjydBPC_1VTYeyXaQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Statistical summary of numerical variables</figcaption></figure><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="cf37" class="lm kl hi li b fi ln lo l lp lq">market_mix_data.describe(include=np.object)</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lv"><img src="../Images/3897b29f3b4323df325aa27421b2e077.png" data-original-src="https://miro.medium.com/v2/resize:fit:266/format:webp/1*xcSY2FdO5rV6a0UFA18OZg.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Summary of Categorical Variable — Influencer</figcaption></figure><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="db04" class="lm kl hi li b fi ln lo l lp lq">market_mix_data.Influencer.value_counts() # Dataset is balanced between all the influencer types</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lw"><img src="../Images/f2818718db811b6bc56d9652d25629c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*uQjCMt5F7Gmv0t8FQzNBbg.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Distribution of different influencer types</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lx"><img src="../Images/523e64724b1d479163b6813b0fd133fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2RxLqXi35UhKL_2dpxplkQ.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">The different influencer types are evenly distributed across the dataset</figcaption></figure><p id="d1e7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还有一个名为Influencer的分类字符串变量，它指示使用了哪种类型的影响因素—大型、宏观、微观和纳米。可以看到，数据集在四种类型的影响者之间均匀地分割。</p><p id="9b2f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">检查空值</strong></p><p id="532a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">肮脏的数据集是每个分析师的噩梦，这就是为什么检查数据集中缺失的值、特殊字符或任何其他差异是数据准备的首要步骤之一。同样，由于这是一个经过筛选的数据集，这些问题都不会出现在需要专门努力的级别，但是作为一个卫生步骤，总是建议检查是否有空值。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="0c54" class="lm kl hi li b fi ln lo l lp lq">market_mix_data.isnull().sum()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ly"><img src="../Images/3aac09e24561d0fc7ddd0a919e88d0f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*crqDksz1kiObXmF5hKOmvg.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Check for nulls</figcaption></figure><p id="058e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在数据集中的4572条记录中，上述记录在一些变量中包含空值。由于这些案例占整个数据集的不到10%,我们决定在进一步的分析中删除这些值。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="cf54" class="lm kl hi li b fi ln lo l lp lq">## Choosing to drop nulls in this case <br/>market_mix_data=market_mix_data.dropna(axis=0)<br/>market_mix_data.isnull().sum()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lz"><img src="../Images/7866993638a367c67c24c0d5c3a7a2b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*DRTaSWVqu_s5KnnrzMTBWA.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Nulls have been dropped and the remaining dataset appears clean</figcaption></figure><p id="e82a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">渠道费用单变量分布图</strong></p><p id="f83c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于人类的大脑对颜色和形状的反应比单调的数字更好，所以绘制一些单变量图来检查数据的分布总是一个好主意。这使得标记和调查数据中出现的任何异常变得更加容易。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="afea" class="lm kl hi li b fi ln lo l lp lq">plot(cf.subplots([market_mix_data['TV'].figure(kind='hist',color=notebook_colours[0]),<br/>                   market_mix_data['Radio'].figure(kind='hist',color=notebook_colours[1]),<br/>                   market_mix_data['Social Media'].figure(kind='hist',color=notebook_colours[2])],shape=(1,3)))</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ma"><img src="../Images/028d611308d2d95a7d75dc78e677817f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsZLE8VakDMIzIEoDsdKog.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">Distribution of Spends across Channels — TC, Radio and Social Media</figcaption></figure><p id="438d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">电视支出的变量遵循不均匀但非常模糊的双峰分布，而广播，尤其是社交媒体，遵循向右倾斜的分布，因为它们向右尾部变平。</p><p id="26de" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还发现销售在整个数据集中大致均匀分布。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="d3d8" class="lm kl hi li b fi ln lo l lp lq">sns.distplot(market_mix_data['Sales'],color=notebook_colours[2])</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mb"><img src="../Images/2ccfb1febea1fae1b677fc8a835f40e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*R3MHociSxJlqyfwFhGVQTA.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Distribution of Sales ($ Mn)</figcaption></figure><p id="a17e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关联图有助于理解所有数字变量之间的<em class="mc">关联</em>，即该数据集中的支出和销售。每个变量总是与自身完美相关，因此相关系数(<em class="mc"> r </em>)为1。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="0965" class="lm kl hi li b fi ln lo l lp lq">sns.heatmap(market_mix_data.corr(),cmap=notebook_colours,annot=True,)</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es md"><img src="../Images/c2d989196ccbfb1ccf3a2391e2861e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*xdkCk09YMyHM-M3SlMNKpQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Correlation Plot</figcaption></figure><p id="5cdc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里的每个变量组合的相关系数(<em class="mc"> r </em>)都大于0.5，这意味着它们之间是强正相关的。</p><p id="f2e3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">为影响者创建虚拟变量</strong></p><p id="65f1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于该变量中存在4个不同的类别，我们将一次性编码并将其拆分为4个不同的二进制变量，以表明用于相应销售的影响者类型。</p><p id="04b1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mc">边注在这里，我们实际上只需要(n-1)个虚拟变量用于一个具有n个类别的分类变量，逻辑上这些类别是互斥的，并且集合起来是穷举的。例如，如果销售没有使用大型、宏观或微观影响者，则默认理解为使用了纳米影响者，从而不需要纳米的第四个二元指示变量。</em></p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="2407" class="lm kl hi li b fi ln lo l lp lq"># Dummy variable for Influencer<br/>infl=pd.get_dummies(market_mix_data.Influencer)</span><span id="beb7" class="lm kl hi li b fi lr lo l lp lq"># Binding it back to the orignal dataset and dropping categorical variable Influencer<br/>model_data=pd.concat([market_mix_data,infl], axis=1)<br/>model_data.drop('Influencer',inplace=True,axis=1)</span><span id="986b" class="lm kl hi li b fi lr lo l lp lq">model_data.head()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es me"><img src="../Images/dacaa8b8de605c03c730eef4bec571d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*bm6s28Hrjp1UhL-X-xixfA.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Dataset prepared for feeding into the Linear Regression Model</figcaption></figure><h1 id="9d18" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated"><strong class="ak">构建模型</strong></h1><p id="20e6" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">正在实施一个非常简单的线性回归模型，以了解销售如何归因于这些营销支出中的每一项。通过这个练习，我们将得到一个使用支出变量预测销售额的等式，如下所示</p><blockquote class="mf mg mh"><p id="cb97" class="ix iy mc iz b ja jb ij jc jd je im jf mi jh ji jj mj jl jm jn mk jp jq jr js hb bi translated">Y= Y0 + B1X1 + B2X2 + B3X3 +....BnXn</p></blockquote><p id="d862" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里<em class="mc"> Y0 </em>是截距，这是即使没有这些营销支出也会产生的基线销售额。</p><p id="6acc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mc"> X1、X2、X3……Xn</em>是不同渠道的营销支出——广播、社交媒体、电视等。这些变量的系数— <em class="mc"> B1，B2 </em>等。有自己有趣的含义；他们量化了每单位营销支出增加所带来的销售额增长。例如，如果<em class="mc"> X1 </em>和<em class="mc"> B1 </em>表示电视支出的变量和系数，只要所有其他支出保持不变，电视支出每增加1百万美元，销售额就会增加1百万美元(<em class="mc">B1</em>Y)。</p><p id="2e4a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面的演示将更好地理解这个数字概念。</p><p id="5b64" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">训练模型</strong></p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="1d50" class="lm kl hi li b fi ln lo l lp lq">X = model_data.loc[:, model_data.columns != 'Sales']<br/>y = model_data['Sales']</span></pre><p id="577c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将数据集分成因变量(<em class="mc"> Y </em>)和自变量(<em class="mc"> X </em>)的数组，以输入到模型中。由于回归(估计)是一种有监督的学习方法，这里我们有了<em class="mc">训练和测试集</em>的概念。我们将使用65%的数据集来训练机器学习模型。一旦模型被训练，我们就使用剩余的35%的不相关的数据集，并判断它是否能够正确地预测销售，给定它以前没有见过的数据的营销花费。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="4d5c" class="lm kl hi li b fi ln lo l lp lq">X_train, X_test, y_train, y_test = train_test_split(X, y ,test_size=0.35, random_state=101) <br/># Random state set to 101 to get same results in every iteration</span></pre><p id="374c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用SciKitlLearn库进行线性回归</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="f036" class="lm kl hi li b fi ln lo l lp lq">from sklearn.linear_model import LinearRegression</span><span id="b0b2" class="lm kl hi li b fi lr lo l lp lq"># Initializing the Linear Regression model<br/>lm = LinearRegression()</span><span id="221d" class="lm kl hi li b fi lr lo l lp lq"># Fitting the model to the train set<br/>lm.fit(X_train,y_train)</span></pre><h1 id="d074" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated"><strong class="ak">结果和评估</strong></h1><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="f041" class="lm kl hi li b fi ln lo l lp lq"># print the intercept<br/>print(lm.intercept_)</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ml"><img src="../Images/9eb91172e0e086e3dc1b32cf0cedb354.png" data-original-src="https://miro.medium.com/v2/resize:fit:322/format:webp/1*LjK9UPE0ksDQ_WtSEMzROw.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">The intercept (Y0)</figcaption></figure><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="2709" class="lm kl hi li b fi ln lo l lp lq">coeff_df = pd.DataFrame(lm.coef_,X.columns,columns=['Coefficient'])<br/>coeff_df</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mm"><img src="../Images/da5e5db087dfa6eed804c6f32a91a084.png" data-original-src="https://miro.medium.com/v2/resize:fit:382/format:webp/1*hqAIb9fi-e0O-dnS3TPfwQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Coefficients of Spend Variables</figcaption></figure><p id="95d0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">解释系数</strong></p><p id="291f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们仔细观察以上内容，我们会发现电视支出与销售额之间存在正因果关系，因为电视支出每增加100万美元，销售额就会增加360万美元。然而，有趣的是，广播和社交媒体对销售额有负面影响，因为每多花一百万美元，销售额就会减少几千美元。</p><p id="3142" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，由于Macro、Mega、Micro和Nano是二元变量，它们的系数意味着每当变量被标记为1时，也就是说，假设使用了一个宏观影响因素，销售额增加了大约6万美元。</p><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="080d" class="lm kl hi li b fi ln lo l lp lq"># Predicting Sales for the test set<br/>y_pred = lm.predict(X_test)</span><span id="75c5" class="lm kl hi li b fi lr lo l lp lq"># Plotting predicted values vs actual values available for the test set<br/>plt.scatter(y_test,y_pred,c=notebook_colours[0])</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mn"><img src="../Images/0d3ada9260883f0f16a00d4796a3af0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*bsxb9idOqQIUi5kwn5awPA.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Predicted vs Actual Sales for Test Set</figcaption></figure><pre class="ju jv jw jx fd lh li lj lk aw ll bi"><span id="a9d8" class="lm kl hi li b fi ln lo l lp lq"># Evaluating the Model<br/>from sklearn import metrics</span><span id="7fb3" class="lm kl hi li b fi lr lo l lp lq">print('MAE:', metrics.mean_absolute_error(y_test, y_pred))<br/>print('MSE:', metrics.mean_squared_error(y_test, y_pred))<br/>print('RMSE:', np.sqrt(metrics.mean_squared_error(y_test, y_pred)))<br/>print('R-Square',metrics.r2_score(y_test,y_pred))</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mo"><img src="../Images/0a4ac592124d8bcb6daf3f23e6c304d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*slpMdr-yUNtOl0OLTeyCaQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx">Model Evaluation Metrics</figcaption></figure><p id="079b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面计算了一些用于评估线性回归模型的流行指标。突出最相关的部分——</p><ol class=""><li id="7624" class="mp mq hi iz b ja jb jd je jg mr jk ms jo mt js mu mv mw mx bi translated">RSquare为0.99意味着独立变量，即各渠道的营销支出，能够成功解释数据集销售中99%的可变性。</li><li id="143d" class="mp mq hi iz b ja my jd mz jg na jk nb jo nc js mu mv mw mx bi translated">平均绝对误差(MAE)计算为测试数据集的预测销售额和给定的实际销售额之间的绝对差值的平均值。这里，在销售的预测值和实际值之间有一个大约230万美元的<em class="mc">波动</em>,考虑到给定数据集中1 . 91亿美元的平均销售额，这并不坏。</li><li id="cae3" class="mp mq hi iz b ja my jd mz jg na jk nb jo nc js mu mv mw mx bi translated">均方根误差(RMSE)是衡量实际销售和预测销售之间波动的另一个转换变量。发现它是280万美元，这也接近于MAE报道的。</li></ol><p id="082c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总之，线性模型表现良好，因为销售额可以相当准确地归因于给定的营销支出；考虑到数据集的大小和简单性，这并不奇怪。一个<em class="mc">真实世界的数据集</em>(可以这么说)，在数据质量、数量、维度和粒度方面可能不那么简单——仅提及几个挑战。</p><p id="888d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="mc">那都是乡亲们！</em> </strong></p><p id="2d7a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这结束了使用基本线性模型对MMM的介绍性研究。这种回归销售的方法并不是一种适用于所有情况的解决方案，因为在大多数情况下，这种方法很简单，因此偏差很大。根据销售和其他独立变量之间关系的复杂性，可能存在需要高级算法的MMM问题。在这种情况下，数据可能会更好地响应非参数方法，如回归树，这些回归树在森林中集合或包装在其他打包和提升技术中。希望很快能在一篇文章中对此进行更多的分析和报道！</p><p id="080c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在此之前，感谢您的阅读&amp;请随时在下面的评论中留下您的想法、大声喊出来和建议！</p><p id="d603" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一些有用的资源—</p><ol class=""><li id="2357" class="mp mq hi iz b ja jb jd je jg mr jk ms jo mt js mu mv mw mx bi translated"><a class="ae kj" href="https://www.accenture.com/_acnmedia/PDF-92/Accenture-Market-Mix-Optimization.pdf" rel="noopener ugc nofollow" target="_blank">探索MMM中的粒度数据:更新的模型，更好的见解—埃森哲</a></li><li id="360e" class="mp mq hi iz b ja my jd mz jg na jk nb jo nc js mu mv mw mx bi translated"><a class="ae kj" href="https://www.nielsen.com/wp-content/uploads/sites/3/2019/04/marketing-mix-modeling-what-marketers-need-to-know.pdf" rel="noopener ugc nofollow" target="_blank">营销组合建模:营销专业人士需要知道什么</a> —尼尔森</li></ol></div></div>    
</body>
</html>