<html>
<head>
<title>Starting Google Cloud with Cloud function + Datastore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用云功能+ Datastore启动Google Cloud</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/starting-google-cloud-with-cloud-function-datastore-c6248849efdd?source=collection_archive---------13-----------------------#2022-03-10">https://medium.com/geekculture/starting-google-cloud-with-cloud-function-datastore-c6248849efdd?source=collection_archive---------13-----------------------#2022-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e4d462419b36e0ab52b9dddea66cdea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSFDRWUm6xBVWBoJLmCB0A.png"/></div></div></figure><p id="9ce5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你会发现很多关于谷歌云的教程、实践作业和概念验证，这是我的一个新发现。我是谷歌云平台(GCP)的新手，因此试图探索一些应用程序级的服务。因此，我从云功能和数据存储开始。</p><p id="08b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我使用云功能作为后端，数据存储作为数据库服务。下面我简单给大家介绍一下这两项服务。cloud function是一款来自GCP的完全托管的无服务器产品，你只需要在function中用你喜欢的语言编写代码。这个函数可以由不同的触发点触发，我选择了HTTP请求作为触发点。我在GCP使用的另一个服务是Datastore。数据存储是一个完全受管的NoSQL数据库，对于大中型应用程序来说，它是可扩展的和可靠的。我们不需要深入了解什么是NoSQL，但是这种数据库是基于键值对范式工作的。</p><p id="f412" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我特别从这两项服务开始，因为这两项服务都是完全托管的服务。您不需要知道依赖于此的任何其他服务。由于这些是托管服务，您甚至不需要进行任何特殊的调配。</p><p id="19c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在云函数中使用了express JS，这使得在NodeJS中创建服务器变得很容易。应用程序对“任务”执行简单的CRUD操作。您可以创建一个任务，开始处理一个任务，并完成一个任务，所有这些都有这些API的帮助。</p><p id="8a10" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是GIT存储库，您可以在其中找到云函数的代码。<a class="ae jo" href="https://github.com/pritampanhale/gcp-pocs/tree/main/gcp-react-node-datastore-poc/node-datastore-backend" rel="noopener ugc nofollow" target="_blank">https://github . com/pritampanhale/GCP-pocs/tree/main/GCP-react-node-datastore-POC/node-datastore-back end</a></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/00ecd8340e5c7f60b05f4132ee8dda84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xcFbIyMF1W70c92nTjgEJg.png"/></div></div></figure><p id="2552" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建云函数时，请注意上面截图中突出显示的部分。将expressApp.js的内容复制到index.js，将package.json复制到package.json，从GIT仓库复制到云函数的文件。</p><p id="8c72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建函数，需要几分钟时间。然后你会得到下面的触发URL。您可以使用这个URL来调用您的API</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/00141fb828ace1d8b425dac0621650dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*HbiTzzbzz8YbQItbDtd6HA.png"/></div></figure><blockquote class="jv jw jx"><p id="1115" class="iq ir jy is b it iu iv iw ix iy iz ja jz jc jd je ka jg jh ji kb jk jl jm jn hb bi translated">例如，要获得所有任务—</p></blockquote><p id="9881" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">获取<url><a class="ae jo" href="https://us-central1-logical-seat-340007.cloudfunctions.net/express-task-app/task" rel="noopener ugc nofollow" target="_blank">/快递-任务-app/任务</a></url></p><blockquote class="jv jw jx"><p id="9ca5" class="iq ir jy is b it iu iv iw ix iy iz ja jz jc jd je ka jg jh ji kb jk jl jm jn hb bi translated">去创造一个任务—</p></blockquote><p id="0292" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">POST<url><a class="ae jo" href="https://us-central1-logical-seat-340007.cloudfunctions.net/express-task-app/tas" rel="noopener ugc nofollow" target="_blank">/express-tas-app/tas</a>k</url></p><p id="b06f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">身体—</p><p id="9de1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy"> { </em></p><p id="1c22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy">“任务名”:“第四个任务”</em></p><p id="736a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy"> } </em></p><blockquote class="jv jw jx"><p id="b07c" class="iq ir jy is b it iu iv iw ix iy iz ja jz jc jd je ka jg jh ji kb jk jl jm jn hb bi translated">要更新任务—</p></blockquote><p id="49a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">放<url><a class="ae jo" href="https://us-central1-logical-seat-340007.cloudfunctions.net/express-task-app/task" rel="noopener ugc nofollow" target="_blank">/快递-任务-app/任务</a></url></p><p id="a62d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">身体-</p><p id="09b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy"> { </em></p><p id="168c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy">" taskId ":" 3a 2924 E0–9550–11ec-B6 a5-d7f 657 f 08723 "，</em></p><p id="1b9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy">【已完成】:“，</em></p><p id="2630" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy">《开始了》:“，</em></p><p id="7db1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy">"任务名":"第一个任务已更新"</em></p><p id="0512" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jy"> } </em></p><p id="dd3c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">只要确保您的云功能可以通过互联网访问即可。一旦您为任务创建了一些条目，请检查数据存储，它应该是在那里创建的，如果您在调用API时有任何问题，请检查“日志记录”服务中的日志，您可能会得到所缺少的内容。</p><p id="50a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我还在ReactJS中创建了一个简单的web应用程序(用于学习React JS ),它将从一个UI处理这些API。请务必检查—<a class="ae jo" href="https://github.com/pritampanhale/gcp-pocs/tree/main/gcp-react-node-datastore-poc/node-datastore-app" rel="noopener ugc nofollow" target="_blank">https://github . com/pritampanhale/GCP-pocs/tree/main/GCP-react-node-datastore-POC/node-datastore-app</a></p><p id="56aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你在设置这个云功能时遇到任何问题，请在评论中告诉我。</p></div></div>    
</body>
</html>