<html>
<head>
<title>Inversion of Control and Dependency Injection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">控制反转和依赖注入</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/inversion-of-control-and-dependency-injection-58240337ef1a?source=collection_archive---------15-----------------------#2021-06-14">https://medium.com/geekculture/inversion-of-control-and-dependency-injection-58240337ef1a?source=collection_archive---------15-----------------------#2021-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="21b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将学习spring中的控制反转和依赖注入</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/89e016ce08477bde9553b076eaf4f2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*rzlQfn0VSMBhd_bxF6fGbA.png"/></div></figure><h1 id="213e" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">弹簧框架</h1><p id="74be" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">Spring是一个有很多特性的小框架。它有时被称为框架的框架，因为它支持各种框架，包括Struts、Hibernate、Tapestry、EJB、JSF等等。IOC、AOP、DAO、Context、ORM、WEB MVC和其他模块都是Spring框架的一部分。</p><p id="d289" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">弹簧框架的优势</strong></p><ul class=""><li id="e928" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><strong class="ih hj">易于测试</strong>:依赖注入使得测试程序变得更加容易。尽管EJB或Struts应用程序需要服务器来运行，但是Spring框架不需要。</li><li id="82a6" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">松耦合:</strong>使用依赖注入更容易测试应用程序。Spring framework不需要像EJB或Struts这样的服务器。</li><li id="1b6f" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated">预定义模板:Spring框架包含了JDBC、Hibernate和JPA等技术的模板。因此，没有必要编写大量代码。它隐藏了这些技术中的基本步骤。</li><li id="6075" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">快速开发:</strong>Spring框架的依赖注入特性及其对各种框架的支持，使得JavaEE应用的开发变得容易。</li></ul><h2 id="419e" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated"><strong class="ak">控制反转</strong></h2><p id="3bc1" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">这是一个将事物的控制权交给容器或框架的概念。它最常用于面向对象编程。在传统编程中，我们的自定义代码调用一个库；然而，IoC允许一个框架控制一个程序的流程并调用我们的代码。负责对象生成的人在内存中跟踪对象。在运行时，IOC构建类的对象，并使它在任何需要的地方可用。它主要负责确保维护对象的生命周期。</p><p id="e9b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">Bean:</strong>Bean是Spring中的对象，它们构成了应用程序的主干，由Spring IoC容器维护。bean是Spring IoC容器实例化、组装和管理的对象。另一方面，bean只是你的程序中许多对象中的一个。Beans及其相互依赖关系反映在容器的配置元数据中。</p><p id="651c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">春豆的范围分为五大类，其中两大类如下:</p><p id="7123" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Singleton: </strong>每个容器只有一个bean实例。Spring beans将此作为它们的默认作用域。如果使用这个范围，请确保bean没有任何共享的实例变量，因为这可能会导致数据不一致。</p><p id="9539" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">原型:</strong>每次请求bean时，都会创建一个新的实例。</p><h2 id="f35d" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated"><strong class="ak">依赖注入</strong></h2><p id="d4ce" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">依赖注入是实现IoC的一种模式。它允许在类之外创建依赖对象，并以各种方式将这些对象提供给类。我们使用DI将依赖对象的创建和绑定移到它们所依赖的类之外。</p><p id="5e67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">依赖注入的类型</strong></p><ol class=""><li id="dbb9" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc lr kv kw kx bi translated">构造函数注入</li><li id="8781" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc lr kv kw kx bi translated">定型剂注射</li><li id="5041" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc lr kv kw kx bi translated">现场注射</li></ol><p id="caf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">构造函数注入:</strong></p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="ea2a" class="ld jn hi lt b fi lx ly l lz ma">package com.app;</span><span id="6578" class="ld jn hi lt b fi mb ly l lz ma">import org.springframework.stereotype.Component;</span><span id="71ae" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a><br/>public class FortuneService{</span><span id="5456" class="ld jn hi lt b fi mb ly l lz ma"> public String getFortune() {<br/>  return "Today is your lucky day!";<br/> }<br/>}</span></pre><p id="6a0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个有getFortune()方法的类，我们想在另一个类中使用这个方法。</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="a9fd" class="ld jn hi lt b fi lx ly l lz ma">package com.app;</span><span id="53c3" class="ld jn hi lt b fi mb ly l lz ma">import org.springframework.stereotype.Component;<br/>import org.springframework.beans.factory.annotation.Autowired;</span><span id="615b" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a><br/>public class Coach {</span><span id="f0ce" class="ld jn hi lt b fi mb ly l lz ma">private FortuneService fortuneService;<br/> <br/> <a class="ae mc" href="http://twitter.com/Autowired" rel="noopener ugc nofollow" target="_blank">@Autowired</a><br/> public Coach(FortuneService fortuneService) {<br/>  this.fortuneService = fortuneService;<br/> }</span><span id="8edc" class="ld jn hi lt b fi mb ly l lz ma"> public String getDailyWorkout() {<br/>  return "Do cardio daily!!";<br/> }</span><span id="b418" class="ld jn hi lt b fi mb ly l lz ma"> public String getDailyFortune() {<br/>  return fortuneService.getFortune();<br/> }<br/>}</span></pre><p id="2e99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">配置文件是</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="1006" class="ld jn hi lt b fi lx ly l lz ma">&lt;beans  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt;</span><span id="2f6a" class="ld jn hi lt b fi mb ly l lz ma">&lt;context:component-scan base-package="com.app"/&gt;</span><span id="308d" class="ld jn hi lt b fi mb ly l lz ma">&lt;/beans&gt;</span></pre><p id="6153" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">二传手注射:</strong></p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="5b84" class="ld jn hi lt b fi lx ly l lz ma">package com.app;</span><span id="7abb" class="ld jn hi lt b fi mb ly l lz ma">import org.springframework.stereotype.Component;</span><span id="c4a7" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a><br/>public class FortuneService{</span><span id="b4f7" class="ld jn hi lt b fi mb ly l lz ma">public String getFortune() {<br/>  return "Today is your lucky day!";<br/> }<br/>}</span></pre><p id="be41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个有getFortune()方法的类，我们想在另一个类中使用这个方法。</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="f16a" class="ld jn hi lt b fi lx ly l lz ma">package com.app;</span><span id="22b5" class="ld jn hi lt b fi mb ly l lz ma">import org.springframework.stereotype.Component;<br/>import org.springframework.beans.factory.annotation.Autowired;</span><span id="8dd1" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a><br/>public class Coach {</span><span id="90a2" class="ld jn hi lt b fi mb ly l lz ma">private FortuneService fortuneService;<br/> <br/><a class="ae mc" href="http://twitter.com/Autowired" rel="noopener ugc nofollow" target="_blank">@Autowired</a><br/> public void setFortuneService(FortuneService fortuneService) {<br/>  this.fortuneService = fortuneService;<br/> }</span><span id="7deb" class="ld jn hi lt b fi mb ly l lz ma">public String getDailyWorkout() {<br/>  return "Do cardio daily!!";<br/> }</span><span id="10c0" class="ld jn hi lt b fi mb ly l lz ma">public String getDailyFortune() {<br/>  return fortuneService.getFortune();<br/> }<br/>}</span></pre><p id="1fae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">配置文件是</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="6685" class="ld jn hi lt b fi lx ly l lz ma">&lt;beans  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt;</span><span id="4e0a" class="ld jn hi lt b fi mb ly l lz ma">&lt;context:component-scan base-package="com.app"/&gt;</span><span id="6c7e" class="ld jn hi lt b fi mb ly l lz ma">&lt;/beans&gt;</span></pre><p id="f00e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现场注射:</strong></p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="de1c" class="ld jn hi lt b fi lx ly l lz ma">package com.app;</span><span id="efff" class="ld jn hi lt b fi mb ly l lz ma">import org.springframework.stereotype.Component;</span><span id="1f13" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a><br/>public class FortuneService{</span><span id="9042" class="ld jn hi lt b fi mb ly l lz ma">public String getFortune() {<br/>  return "Today is your lucky day!";<br/> }<br/>}</span></pre><p id="0326" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个有getFortune()方法的类，我们想在另一个类中使用这个方法。</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="4881" class="ld jn hi lt b fi lx ly l lz ma">package com.app;</span><span id="45a8" class="ld jn hi lt b fi mb ly l lz ma">import org.springframework.stereotype.Component;<br/>import org.springframework.beans.factory.annotation.Autowired;</span><span id="5258" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a><br/>public class Coach {</span><span id="010e" class="ld jn hi lt b fi mb ly l lz ma"><a class="ae mc" href="http://twitter.com/Autowired" rel="noopener ugc nofollow" target="_blank">@Autowired</a><br/>private FortuneService fortuneService;</span><span id="d04e" class="ld jn hi lt b fi mb ly l lz ma">public String getDailyWorkout() {<br/>  return "Do cardio daily!!";<br/> }</span><span id="26ac" class="ld jn hi lt b fi mb ly l lz ma">public String getDailyFortune() {<br/>  return fortuneService.getFortune();<br/> }<br/>}</span></pre><p id="1d37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">配置文件是</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="7b1f" class="ld jn hi lt b fi lx ly l lz ma">&lt;beans  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt;</span><span id="3854" class="ld jn hi lt b fi mb ly l lz ma">&lt;context:component-scan base-package="com.app"/&gt;</span><span id="9c09" class="ld jn hi lt b fi mb ly l lz ma">&lt;/beans&gt;</span></pre></div></div>    
</body>
</html>