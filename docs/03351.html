<html>
<head>
<title>How to add card flip animation in the android app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在android应用程序中添加翻牌动画</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-add-card-flip-animation-in-the-android-app-3060afeadd45?source=collection_archive---------3-----------------------#2021-06-07">https://medium.com/geekculture/how-to-add-card-flip-animation-in-the-android-app-3060afeadd45?source=collection_archive---------3-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/3db74b51fc1ac520d3a43fd86e3d7e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*EIjOhJWc3fdNYgIH3NU89A.gif"/></div><figcaption class="im in et er es io ip bd b be z dx">HealthifyMe App Dashboard</figcaption></figure><p id="4a6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近，我们在HealthifyMe改进了我们的应用仪表板，使其更具用户参与性。我们尝试了一些非常酷的动画。其中之一就是翻牌动画。当用户跟踪水、睡眠或其他任何东西时，我们会显示一个满意的屏幕，上面写着<em class="jo">“耶，你实现了你的目标】</em>，你想与你的朋友分享吗？因此，在仪表板上，一旦用户实现了他们的目标，我们就将进度卡翻转为满足卡。</p><p id="4286" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将看到如何实现这一点，以及我们不应该做什么。</p><p id="f014" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第一步:</strong>制作正反面卡片设计。</p><p id="1334" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#.<code class="du jp jq jr js b"> Card_gratification.xml</code> —背面设计</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="5688" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我没有为父视图提供任何固定的宽度和高度，而是提供了match_parent。因此它可以支持多种设备尺寸。要理解它，你可以看看我之前的文章“设计应用时选择最佳布局”。</p><div class="jz ka ez fb kb kc"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/choosing-the-best-layout-while-designing-your-android-application-560ba2a7f0d4"><div class="kd ab dw"><div class="ke ab kf cl cj kg"><h2 class="bd hj fi z dy kh ea eb ki ed ef hh bi translated">设计android应用时选择最佳布局</h2><div class="kj l"><h3 class="bd b fi z dy kh ea eb ki ed ef dx translated">在上一篇文章中，我们讨论了约束布局如何减少布局的嵌套。</h3></div><div class="kk l"><p class="bd b fp z dy kh ea eb ki ed ef dx translated">medium.com</p></div></div><div class="kl l"><div class="km l kn ko kp kl kq ik kc"/></div></div></a></div><p id="e833" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">继续让我们设计前视图，这是水的进展情况。</p><p id="d191" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"># <code class="du jp jq jr js b">card_water_tracker.xml</code></p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="63db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">步骤2: </strong>在一个xml中包含两种布局。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="a3d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第三步:</strong>让我们创建一个动画drawable。正如我们所知，当我们翻牌时，一种布局是顺时针旋转并返回，另一种布局是在后面逆时针旋转并来到前面，因为这两种情况应该平行发生。</p><p id="8b76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们更仔细地看动画。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/21ea552b896fe5db68e3b7eb1d9837fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/1*LiV4eD32Ua9m_Xj25QDVCQ.gif"/></div></figure><p id="7e4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"># <code class="du jp jq jr js b">flip_out.xml</code>:这个动画是针对前面的卡，需要放到后面。在y轴上旋转0到180度。现在，请记住，当我们向后推进时，我们会将布局放在前面，因此，如果动画的完整持续时间为1500，那么在半场时间为750时，将alpha属性从1更改为0。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="aee5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"># <code class="du jp jq jr js b">flip_in.xml</code>:这个动画是给前面来的卡看的。在Y轴上反向旋转。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="9780" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第四步:</strong>在视图上应用动画。旋转前显示后视图，动画结束后隐藏前视图。</p><p id="ced4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jp jq jr js b">visibleView</code>——您想放在前面的视图</p><p id="2732" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jp jq jr js b">inVisibleView</code> —想要推回的视图</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es ks"><img src="../Images/6639c3171365a531974b780835fbcba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/1*_aRYBBClxBnpfIrGFyPA2Q.gif"/></div></figure><p id="af6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，这个翻转要跳出框框。为了避免这种情况，我们需要增加两个视图的相机距离。</p><p id="c370" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第五步:</strong>添加摄像头距离。<code class="du jp jq jr js b">view.CameraDistance</code></p><p id="d008" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">设置沿Z轴从相机到该视图的距离。相机的距离会影响3D变换，例如，围绕X轴和Y轴的旋转。如果rotationX或rotationY属性被更改，并且此视图很大(超过屏幕大小的一半)，建议始终使用大于此视图的高度(X轴旋转)或宽度(Y轴旋转)的相机距离。</p><p id="6400" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当围绕x或y轴旋转时，相机与视图平面的距离会对视图的透视变形产生影响。比如，大的距离会产生大的视角，视图旋转时不会有太大的透视失真。较短的距离可能会在旋转时导致更多的透视失真，并且如果旋转后的视图最终部分位于相机后面，还可能导致一些绘图伪像(这就是为什么如果要旋转视图，建议使用至少与视图大小一样远的距离。)</p><pre class="jt ju jv jw fd kt js ku kv aw kw bi"><span id="7f76" class="kx ky hi js b fi kz la l lb lc">val cameraDist = 8000 * scale<br/>visibleView.<em class="jo">cameraDistance </em>= cameraDist<br/>inVisibleView.<em class="jo">cameraDistance </em>= cameraDist</span></pre><p id="2821" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是完整的代码:</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es if"><img src="../Images/3db74b51fc1ac520d3a43fd86e3d7e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*EIjOhJWc3fdNYgIH3NU89A.gif"/></div><figcaption class="im in et er es io ip bd b be z dx">HealthifyMe App Dashboard</figcaption></figure><h1 id="02d2" class="ld ky hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">结论</h1><p id="d61e" class="pw-post-body-paragraph iq ir hi is b it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj me jl jm jn hb bi translated">动画可以帮助我们改善用户体验，同时过多的动画会分散用户执行某些任务的注意力。因此，在设计你的应用程序时，一定要了解你的受众是谁，你怎样才能最好地告诉他们去做一个特定的动作。</p></div><div class="ab cl mf mg gp mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hb hc hd he hf"><p id="b283" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你有任何反馈，请给我回信，地址是<em class="jo">karishma.agr1996@gmail.com。</em>非常感谢您的鼓掌帮助他人找到这篇文章😃。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/c2ceb9d06771283ff0c7fe875608f860.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*0KU4T8nrJ46CaDyL.gif"/></div></figure></div></div>    
</body>
</html>