<html>
<head>
<title>What’s New in iOS 15 — For Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 15的新功能——面向开发者</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/whats-new-in-ios-15-for-developers-cdde64a68511?source=collection_archive---------2-----------------------#2021-10-09">https://medium.com/geekculture/whats-new-in-ios-15-for-developers-cdde64a68511?source=collection_archive---------2-----------------------#2021-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2ee8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">焦点和通知、应用商店发现、共享播放等</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/6768c724c51812fc83523eaff77bafb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CW3oPSfu5Zk3243U-vUIaQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Image source: <a class="ae jn" href="https://www.apple.com/ios/ios-15/" rel="noopener ugc nofollow" target="_blank">Apple</a></figcaption></figure><p id="b2b3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">去年，苹果终于为他们的生态系统带来了最受欢迎的功能之一:widgets。随着它们在发布时令人难以置信的受欢迎程度，创建自定义图标(即，每个启动特定应用程序的快捷方式)的能力迎来了新一轮的定制化浪潮。这种趋势迅速传播开来，没过多久，用户就可以在互联网上分享他们的艺术作品。</p><p id="65c1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">由于这一巨大成功，2021年4月，<a class="ae jn" href="https://www.macrumors.com/2021/04/06/ios-14-adoption-90-percent/" rel="noopener ugc nofollow" target="_blank"> iOS 14在超过90%的合格设备上运行</a>。继iOS 13之后，2020年又是苹果不需要科技爱好者说服别人安装最新版本iOS的一年。黑暗模式和小工具——<em class="kk"/>旗舰功能——说了算。</p><p id="90ca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从开发者的角度来看，事情并不乐观。苹果没有给开发者足够的时间在公开发布前提交他们的应用程序，导致iOS 14的发布受到影响。幸运的是，今年没有惊喜:苹果尊重通常的一周时间框架，在9月中旬的活动后立即发布了RC版本(发布候选版本，以前命名为“金主”或GM)。</p><p id="58a8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">虽然iOS 15没有带来显著的视觉变化，但它捆绑了大量的改进，为新的体验和交互铺平了道路:</p><ul class=""><li id="e1f5" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated">随着SharePlay的推出，FaceTime获得了重大的共享升级。</li><li id="d6a1" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">通知已经过重新设计，使其更容易识别。</li><li id="6a2b" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">Focus通过根据用户当前正在做的事情过滤出通知，有助于减少分心。</li><li id="125c" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">“地图”提供了探索主要城市的新方法，并利用增强现实(AR)提供步行方向。</li><li id="27fe" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">Live Text使用设备上的智能来识别iOS和网络上照片中的文本。</li><li id="51e6" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">Safari已针对辅助功能进行了重新设计，并支持扩展。</li></ul><p id="4cd7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://www.apple.com/ios/ios-15/features/" rel="noopener ugc nofollow" target="_blank">所有这些以及其他数百项变化</a>主要面向用户，并且<a class="ae jn" href="https://www.youtube.com/watch?v=NJpIvnz3yWs" rel="noopener ugc nofollow" target="_blank">广为宣传</a>。开发者应该通过苹果文档和WWDC视频的组合来赶上这个新版本，因为这是可用的最全面的资源集。</p><p id="7f2d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然而，对于那些只想知道什么可能会影响他们即将推出或现有的应用程序的人来说，找到一个精简的信息来源可能是一个挑战。因此，这篇文章列出了你在为iOS 15准备下一次应用更新时应该考虑的事情(如果你还没有的话)。</p><p id="5af3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">变化由</strong>部分组织，首先是你今天应该考虑的那些，以确保你的应用尊重新的系统控制，然后是你应该利用的其他功能，以使你的应用脱颖而出。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="6d30" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">焦点和通知</h1><p id="047d" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated"><strong class="jq hj">优先级</strong>:高(可选，但强烈推荐)</p><p id="3ebd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">通知是应用程序体验的重要组成部分。除了用户界面的变化，iOS 15还提供了提升特定类别通知的新方法。让我们看看有哪些新功能，如何增强它们，并利用它们当前的功能。</p><h2 id="1410" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">视觉变化</h2><p id="44d2" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">通知现在有了新的外观，专注于更大的应用程序图标、联系人图像和任何相关媒体。例如，通信应用程序现在会在左侧突出显示与您联系的人的照片，而媒体应用程序(如播客)会在通知文本的右侧显示相应媒体的图标。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mr"><img src="../Images/2758ed6df9b3c338e36fdf253e4e580b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P6JHoPkvZbAa_daOSJuSoA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Notifications in iOS 15. Image source: <a class="ae jn" href="https://www.apple.com/ios/ios-15/" rel="noopener ugc nofollow" target="_blank">Apple</a></figcaption></figure><p id="a0d3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您可以将通知操作与图标相关联，这样用户就可以更容易地从视觉上识别它们。查看<code class="du ms mt mu mv b"><a class="ae jn" href="https://developer.apple.com/documentation/usernotifications/unnotificationaction" rel="noopener ugc nofollow" target="_blank">UNNotificationAction</a></code>和<code class="du ms mt mu mv b"><a class="ae jn" href="https://developer.apple.com/documentation/usernotifications/unnotificationcategory" rel="noopener ugc nofollow" target="_blank">UNNotificationCategory</a></code>API，了解如何在您的应用中实现这一点的更多信息。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/15aba61f2df36ee93043914b17366dcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bl6FAfMHUlu6wAVBxu1iKA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Notification actions with icons. Image source: <a class="ae jn" href="https://wwdc.io/share/wwdc21/10091" rel="noopener ugc nofollow" target="_blank">Apple</a></figcaption></figure><h2 id="187e" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">通知管理</h2><p id="dd67" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">两个新功能影响了app通知的交付和中断:<strong class="jq hj">通知摘要</strong>和<strong class="jq hj">焦点</strong>。</p><p id="9eb7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">通知摘要收集通知，并在计划的时间显示通知。默认情况下，如果打开，通知摘要每天会出现两次<strong class="jq hj"/>:早上(上午8点)和晚上(下午6点)。用户可以自定义频率，并选择立即发送特定应用程序的通知，仅在通知摘要中发送，或者完全禁用它们。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mx"><img src="../Images/0e7252bb9da43514fd256ad699b5dcaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWBXLsdPPqpKs51HCIr4Kg.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">An example of notification management in iOS 15 (with notification summary enabled)</figcaption></figure><p id="104b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">作为开发人员，您可以通过遵循以下最佳实践来增加出现在通知摘要顶部的机会:</p><ul class=""><li id="fc07" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated">在通知中包含媒体附件。</li><li id="3845" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><a class="ae jn" href="https://developer.apple.com/documentation/usernotifications/unnotificationcontent/3821031-relevancescore" rel="noopener ugc nofollow" target="_blank">为每个通知声明一个相关性分数</a>，这样只有你的应用最相关或最重要的信息才会出现在摘要中。</li></ul><h2 id="9c74" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">焦点</h2><p id="0185" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">在iOS 15中，设备可以设置为特定的聚焦模式，影响哪些应用程序和人可以发送通知。(例如，在“工作”焦点期间，只有生产力应用和同事可以发送中断消息。)</p><p id="f328" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这项功能可以进行深度定制，尽管iOS会在设置时智能地识别它认为与特定焦点相对应的应用/人的类型。用户也可以选择只显示某些主屏幕页面，减少视觉混乱和干扰。</p><p id="0b7a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在<code class="du ms mt mu mv b">UserNotifications</code>框架内，<a class="ae jn" href="https://developer.apple.com/documentation/usernotifications/unnotificationinterruptionlevel" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">有一个新的枚举定义了四个不同的中断级别</strong> </a>。这些措施如下:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="my mz l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Interruption levels and their capabilities in iOS 15 (* allows notification summary and Focus)</figcaption></figure><ul class=""><li id="9839" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated"><strong class="jq hj">被动(新)</strong>:用于不需要立即关注的通知，如媒体推荐、非突发新闻。</li><li id="4901" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hj">有效</strong>:默认中断等级。如果用户有“请勿打扰”的提示，例如体育更新、直播视频、内容创建者发布的新媒体，请使用此提示。</li><li id="d86b" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hj">时间敏感(新)</strong>:仅在需要中断时使用，即当您需要立即关注时，例如，软件包更新、帐户安全、突发新闻。</li><li id="a279" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hj">关键</strong> : <strong class="jq hj"> </strong>这在iOS 14中已经存在，并且<strong class="jq hj">需要一个批准的权限</strong>。例如:恶劣天气警报、当地安全警报。</li></ul><p id="7690" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果不设置中断级别，系统会分配默认级别(活动)。因此，利用这一点来告诉系统每个通知的优先级。</p><p id="66e1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要深入了解通知和新API，请查看WWDC演讲:<a class="ae jn" href="https://developer.apple.com/videos/play/wwdc2021/10091" rel="noopener ugc nofollow" target="_blank">发送通信和时间敏感通知</a>。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="27bd" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">应用商店发现</h1><p id="0f6a" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated"><strong class="jq hj">优先级</strong>:中(可选，但强烈推荐)</p><p id="e165" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">App Store是应用发现和管理的基石。今年，一些新功能将有助于开发者扩大受众，并为特定用户群定制体验。</p><h2 id="7b0a" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">应用内事件*</h2><p id="cd95" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">App Store现在允许您<a class="ae jn" href="https://developer.apple.com/app-store/in-app-events/" rel="noopener ugc nofollow" target="_blank">展示您应用中发生的事件</a>(例如，游戏比赛、直播、排行榜挑战)。用户无需安装应用程序即可快速发现活动，从而提高参与度和下载量。在机器学习的帮助下，iOS将智能地为每个用户量身定制推荐。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es na"><img src="../Images/742393dbc3f8424acef42ec5079c96dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_eDG_7sqTFo2RdlRuCRAHA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Each app’s Store page can feature in-app events. Image source: <a class="ae jn" href="https://developer.apple.com/app-store/whats-new/" rel="noopener ugc nofollow" target="_blank">Apple</a></figcaption></figure><h2 id="8880" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">定制产品页面*</h2><p id="467d" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">您可以使用多达35页的内容来扩充您的宣传材料，这些内容可以包含不同的文本、图像和应用预览。这些必须提交审核，但独立于app更新。</p><p id="0dfc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">每个自定义页面的URL都有一个新的PPID(产品页面ID)参数，附加到每个唯一URL的末尾。比如:<code class="du ms mt mu mv b">https://apps.apple.com/[region]/app/[app_name]/[app_id]?ppid=[ppid]</code>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nb"><img src="../Images/87da00df46c3c7abf2ee1ee91decca5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qClkY9mqYbSXu6CajgK9SA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">The same app using different custom pages depending on the audience. Image source: <a class="ae jn" href="https://developer.apple.com/app-store/product-page-updates/" rel="noopener ugc nofollow" target="_blank">Apple</a></figcaption></figure><p id="2a65" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这个特性非常适合拥有不同受众的开发人员。(一个体育应用可以将用户重定向到他们最喜欢的球队或比赛的定制页面，而不是每个人的通用页面。)</p><p id="a3be" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">有关应用商店发现更新的更多信息，请查看<a class="ae jn" href="http://Get More from Your Product Pages" rel="noopener ugc nofollow" target="_blank">苹果开发者页面</a>和WWDC演讲:<a class="ae jn" href="https://developer.apple.com/videos/play/wwdc2021/10295/" rel="noopener ugc nofollow" target="_blank">准备好优化你的应用商店产品页面</a>。</p><p id="09eb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kk"> *App Store应用内活动和定制产品页面将于今年晚些时候推出。</em></p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="ceaf" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">SharePlay*</h1><p id="3979" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated"><strong class="jq hj">优先级:</strong>因应用类型而异</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/895d03d5eff3880cf47a0e3c265a6930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qdOOU1Iq35kw1DhbP5kRQQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">SharePlay* works across multiple devices and apps. Image source: <a class="ae jn" href="https://developer.apple.com/shareplay/" rel="noopener ugc nofollow" target="_blank">Apple</a></figcaption></figure><p id="12c6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">SharePlay是iOS 15最受吹捧的功能之一，它通过利用FaceTime的新功能来实现新的媒体共享体验。当用户播放媒体时，回放会跨设备同步。回放控制是共享的；如果有人暂停媒体，它会为通话中的每个人停止播放。</p><p id="fda9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然而，由于有如此多的新事物需要同步，通话质量是一个重要的问题。苹果声明:</p><blockquote class="nd ne nf"><p id="2e94" class="jo jp kk jq b jr js ij jt ju jv im jw ng jy jz ka nh kc kd ke ni kg kh ki kj hb bi translated">[…]由于您的应用在每台设备上运行，无需重新传输，因此您的应用体验质量不会受到影响。</p></blockquote><p id="a0d1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是一个相当自信的声明，但它仍然引起了一些怀疑。一方面，苹果相信自己有能力提供无缝体验。另一方面，这个特性还没有经过野外的实战考验。我希望SharePlay的延迟能够确保这项功能如期运行，同时在第三方应用中提供足够的开发者支持。</p><p id="c968" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你正在开发一款通讯应用，并且有兴趣将你的应用与FaceTime和SharePlay集成，请查看一下<code class="du ms mt mu mv b"><a class="ae jn" href="https://developer.apple.com/documentation/GroupActivities" rel="noopener ugc nofollow" target="_blank">GroupActivities</a></code> <a class="ae jn" href="https://developer.apple.com/documentation/GroupActivities" rel="noopener ugc nofollow" target="_blank"> API </a>和<a class="ae jn" href="https://developer.apple.com/videos/wwdc2021/?q=group%20activities" rel="noopener ugc nofollow" target="_blank">这四个WWDC会议</a>。</p><p id="11e8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，如果你错过了，<a class="ae jn" href="https://support.apple.com/en-us/HT212619" rel="noopener ugc nofollow" target="_blank"> FaceTime现在可以在非苹果平台上使用</a>！**</p><p id="5ffc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kk"> *SharePlay将于今年晚些时候推出，并进行软件更新。同时，</em> <a class="ae jn" href="https://developer.apple.com/news/?id=mxaeu6er" rel="noopener ugc nofollow" target="_blank"> <em class="kk">你可以在15.0开发环境中实现并测试这个特性</em> </a> <em class="kk">。如果你在15.1，苹果已经</em> <a class="ae jn" href="https://www.macrumors.com/2021/09/21/ios-15-1-shareplay-reenabled/" rel="noopener ugc nofollow" target="_blank"> <em class="kk">重新启用了SharePlay </em> </a> <em class="kk">而不需要SharePlay开发配置文件。</em></p><p id="9938" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kk"> **FaceTime通话在非Apple平台上使用浏览器，不支持share play(MAC OS Monterey上的Safari除外)。</em> <a class="ae jn" href="https://developer.apple.com/shareplay/" rel="noopener ugc nofollow" target="_blank"> <em class="kk">根据苹果</em> </a> <em class="kk">的说法，SharePlay只在iOS 15、iPadOS 15、macOS Monterey、tvOS 15上支持。</em></p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="b7ab" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">促销支持</h1><p id="5d22" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated"><strong class="jq hj">优先级:</strong>中(推荐新机型用户使用)</p><p id="e1ab" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">除了iPad Pro，新的iPhone 13 Pro和Pro Max型号还有一个LTPO(低温多晶氧化物)显示屏，能够在10到120 Hz之间刷新。</p><p id="27db" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这项技术允许系统根据屏幕上的内容和用户动作(例如，点击、滑动、快速滚动)来动态控制面板的刷新率。结果是显著*更流畅的体验，而不影响电池寿命。</p><p id="47ad" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在软件方面，iOS 15已经包括了对开箱即用推广的支持，如果你使用这些框架:</p><ul class=""><li id="2d0c" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated">UIKit</li><li id="08a9" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">斯威夫特伊</li><li id="9183" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">斯普利特基特</li><li id="1dd1" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><code class="du ms mt mu mv b">CAAnimation</code></li></ul><p id="1e36" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">苹果警告开发者自定义动画不会自动管理:</p><blockquote class="nd ne nf"><p id="10d9" class="jo jp kk jq b jr js ij jt ju jv im jw ng jy jz ka nh kc kd ke ni kg kh ki kj hb bi translated">应用中的自定义动画需要能够适应刷新率的变化。显示刷新率会因为很多原因而改变，你的应用程序在任何时候都不能设定任何特定的刷新率。<strong class="jq hj">例如，在低功耗模式下或设备过热时，系统会禁用更快的刷新率。此外，虽然UIKit和Core Animation正在管理各种GUI元素，但Core Animation可能会选择改变刷新率来提供增强的用户体验。</strong></p></blockquote><p id="f882" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">核心动画负责决定哪些动画必须呈现在屏幕上，并计算适当的刷新率。注意<strong class="jq hj">你不能明确地设置显示器的刷新率</strong>、<strong class="jq hj">、</strong>，但是你可以为你的动画提供关于理想刷新率的提示(更多信息见下文)。</p><h2 id="27c3" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">在iPhone 13 Pro上解锁促销</h2><p id="0072" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">要解锁应用中的<code class="du ms mt mu mv b">CADisplayLink</code>回调和<code class="du ms mt mu mv b">CAAnimation</code>动画的全范围刷新率，请将以下密钥添加到您的Info.plist:</p><p id="5d40" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><code class="du ms mt mu mv b">&lt;key&gt;CADisableMinimumFrameDurationOnPhone&lt;/key&gt;&lt;true/&gt;</code></p><p id="ed11" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如键名所示，iPad Pro型号不需要此键。</p><h2 id="3183" class="md lh hi bd li me mf mg lm mh mi mj lq jx mk ml ls kb mm mn lu kf mo mp lw mq bi translated">计时提示</h2><p id="7927" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">在iOS 14之前，你可以用<code class="du ms mt mu mv b"><a class="ae jn" href="https://developer.apple.com/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond" rel="noopener ugc nofollow" target="_blank">preferredFramesPerSecond</a></code>属性为你的应用设置首选刷新率。在iOS 15中，你应该使用<code class="du ms mt mu mv b"><a class="ae jn" href="https://developer.apple.com/documentation/quartzcore/cadisplaylink/3875343-preferredframeraterange" rel="noopener ugc nofollow" target="_blank">preferredFrameRateRange</a></code>，它是一个<code class="du ms mt mu mv b"><a class="ae jn" href="https://developer.apple.com/documentation/quartzcore/caframeraterange" rel="noopener ugc nofollow" target="_blank">CAFrameRateRange</a></code>。这个结构有<code class="du ms mt mu mv b">minimum</code>、<code class="du ms mt mu mv b">maximum</code>和<code class="du ms mt mu mv b">preferred</code>帧速率属性。如果你想知道要设置哪些范围，<a class="ae jn" href="https://developer.apple.com/documentation/quartzcore/optimizing_promotion_refresh_rates_for_iphone_13_pro_and_ipad_pro" rel="noopener ugc nofollow" target="_blank">考虑一下苹果的表格作为参考</a>。</p><p id="baca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在WWDC演讲中深入探讨了优化内容以进行推广:<a class="ae jn" href="https://developer.apple.com/videos/play/wwdc2021/10147/" rel="noopener ugc nofollow" target="_blank">针对可变刷新率显示器进行优化</a>。</p><p id="ad8a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kk">*对刷新率的敏感度各不相同(尤其是在智能手机等较小的显示器上)。为了测试您的灵敏度并模拟系统禁用高刷新率的场景，您可以通过在设置&gt;辅助功能&gt;运动&gt;限制帧速率中将帧速率限制为最大60 Hz来执行A/B测试。</em></p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="73de" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">堆栈视图更改</h1><p id="cfd8" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">如果您使用Xcode 13来创建带有堆栈视图的布局，那么它们对内容的布局方式会有一个微妙但重要的变化。iOS 14(及更早版本)和iOS 15之间的填充分布行为有所不同，如下所示:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nj"><img src="../Images/bd1b617c8405ffc7d162ca4eab631c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/0*CHQ8T2z7GOH4T_on.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Differences in stack view fill distribution between versions. Image credit: <a class="ae jn" href="https://useyourloaf.com/blog/stack-view-changes-in-ios-15/" rel="noopener ugc nofollow" target="_blank">Keith Harrison</a></figcaption></figure><p id="b5ba" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">出现这种行为是因为iOS 14(及更早版本)自动添加了一个歧义消除约束，其抗压优先级(759)高于截图中的UI元素(默认为750)。</p><p id="5bbb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">根据<a class="ae jn" href="https://useyourloaf.com/blog/stack-view-changes-in-ios-15/" rel="noopener ugc nofollow" target="_blank"> Keith Harrison </a>的说法，早期版本的解决方法是<strong class="jq hj">将拉伸视图的抗压优先级设置为高于歧义消除约束</strong>的值。在这种情况下，值760将被设置在交换机上，因为它被限制在其帧的左侧。</p><p id="ad89" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此问题有一个错误报告，但没有收到Apple的回应。不管怎样，iOS 15中的行为已经被悄悄地改变了，现在堆栈视图可以像你预期的那样工作了。只要确保在两个版本上都测试了布局。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="6819" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">贬值</h1><p id="474c" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">虽然今年iOS 15 SDK中没有重大的弃用，但知道有什么变化总是有帮助的。这篇文章列出了今年所有公开的反对意见。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="1ab3" class="lg lh hi bd li lj lk ll lm ln lo lp lq io lr ip ls ir lt is lu iu lv iv lw lx bi translated">结论</h1><p id="fa7f" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">本文涵盖了iOS 15中最具影响力的变化，重点突出(无意双关！)关于通知管理和中断。正确定义通知的中断级别对于确保你的应用尊重新的系统控制和用户对不同紧急程度的感知至关重要。</p><p id="1f78" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，早期采用新功能会让你处于有利地位——用户重视对他们每天依赖的应用程序的持续支持和承诺。我希望这篇文章能给你指明正确的方向。</p><p id="c29c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">感谢阅读！</p></div></div>    
</body>
</html>