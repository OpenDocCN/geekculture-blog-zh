<html>
<head>
<title>Is Code freeze still relevant?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码冻结仍然相关吗？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/is-code-freeze-still-relevant-9c077495b64?source=collection_archive---------7-----------------------#2022-05-26">https://medium.com/geekculture/is-code-freeze-still-relevant-9c077495b64?source=collection_archive---------7-----------------------#2022-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/90fbad40f93399ccd473c316a4302420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jd0kD76jRPYljty_"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Photo by <a class="ae hv" href="https://unsplash.com/@srz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">sydney Rae</a> on <a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><div class=""><h2 id="8772" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">练习CI/CD时，代码冻结还重要吗？</h2></div><p id="781a" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">假设您熟悉代码冻结的概念，这是项目中的专用时间，我们(开发人员)应该更严格地对代码或其他资源进行更改，以便将项目推向发布或迭代结束。</p><p id="9b18" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我最近一直在思考这个概念。我问自己，当我们有一个全面的CI\CD管道时，为什么我们需要停止一切？嗯，你可以选择其中一个版本，并将其设置为发布候选版本。</p><p id="2752" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我研究并询问了周围的人，下面你可以找到我的结论。</p><h2 id="bd9f" class="kj kk hy bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">代码冻结？啊哈？</h2><figure class="lf lg lh li fd hk er es paragraph-image"><div class="er es le"><img src="../Images/e52329fe96eb441dab66e372ffa72602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*hgQWPTbYxfH2Wp9v.jpg"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">code freeze bane — <a class="ae hv" href="https://makeameme.org/meme/the-code-freeze-fe4f1917d8" rel="noopener ugc nofollow" target="_blank">src</a></figcaption></figure><p id="e443" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">首先，首先，定义什么是代码冻结。<a class="ae hv" href="https://en.wikipedia.org/wiki/Freeze_(software_engineering)" rel="noopener ugc nofollow" target="_blank">维基百科</a>将其定义为:</p><blockquote class="lj lk ll"><p id="b414" class="jn jo lm jp b jq jr iz js jt ju jc jv ln jx jy jz lo kb kc kd lp kf kg kh ki hb bi translated"><strong class="jp hz">冻结</strong>是开发过程中的一个时间点，在此之后，对源代码或相关资源进行更改的规则变得更加严格</p></blockquote><p id="536b" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">该页面强调了3种常见的冻结类型:</p><p id="a339" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">规范冻结</strong>是指所有各方都同意不再添加新的需求、规范或特性，并停止编码。</p><p id="15e5" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在<strong class="jp hz">功能冻结</strong>中，所有新功能的开发都被暂停，以便所有的精力都集中在寻找和修复bug以及改善用户体验上。特性冻结有助于通过防止引入新的、未经测试的源代码、资源及其交互来提高程序的稳定性。</p><p id="0646" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">最后，一个<strong class="jp hz">代码冻结</strong>，其中不允许对源代码进行任何更改，确保已知正常工作的代码区域将继续正常工作。在开发的最后阶段，当评估一个特定的版本或迭代时，代码冻结更为常见。</p><h2 id="a3eb" class="kj kk hy bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">我们真的需要它吗？</h2><figure class="lf lg lh li fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lq"><img src="../Images/0ae60aaff3e5f489ff105e35ac63b04d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3I3WnoIVb5cQsWse.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Code freeze?- <a class="ae hv" href="https://www.monkeyuser.com/2020/code-freeze/" rel="noopener ugc nofollow" target="_blank">src</a></figcaption></figure><p id="c4fa" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在我们都同步了它是什么，问题是它现在是否相关，在那里大多数(我假设)组织实践一种CI\CD管道？答案没有这么简单；<strong class="jp hz">这取决于</strong>领域和产品需求。</p><p id="5d36" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">以在<a class="ae hv" href="https://www.igentify.com/" rel="noopener ugc nofollow" target="_blank"> Igentify </a>(我工作的地方)发生的事情为例，我们开发的产品按照健康技术领域的要求受到监管。我们为此应用了一个特性冻结，所以所有的特性都是稳定的，代码被转移到一个专门的分支，并且在发布之前应用了(手动和自动)测试。如果发现任何错误，我们会尽快修复它们。与此同时，主(当前)分支正在开发新功能。所以，更新的发展不会停止；它的优先级较低，速度较慢。</p><p id="ec24" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">然而，这一概念与CD (commit == new version)的概念相矛盾，在CD中，你可以使用任何已经准备好的东西(就代码、测试等而言)。)并将其交付给生产部门。例如，如果发现一个bug，快速修复它，推送到分支机构。在某种程度上，它在开发人员和产品之间建立了一个缓冲区。他们可以继续工作，根本不知道有冻结。</p><p id="574a" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在某些情况下，为了降低发布风险，打破CD概念是值得的。例如，我了解到像谷歌这样的大型科技公司会在假期冻结代码，因为大多数员工都和家人在一起，这导致解决生产问题的劳动力减少。</p><h2 id="3cb9" class="kj kk hy bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">提醒你一句，⚠️</h2><figure class="lf lg lh li fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lr"><img src="../Images/52ba141b004da797c8f1a866db3713ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mx2pbzASSta1Ao5k.jpg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">test, testing, and some more testing — <a class="ae hv" href="https://www.cryan.com/daily/2020/OfficeSpaceCodeFreeze.jpg" rel="noopener ugc nofollow" target="_blank">src</a></figcaption></figure><p id="f3ee" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们应该警惕使用冻结的频率，它可能指向<strong class="jp hz">不可靠的测试</strong>，因此加强测试链将减少对它的需求。此外，有些人可能会认为你的过程有问题，因为你说某些贡献不能集成。有许多可能的原因，例如:</p><ul class=""><li id="1400" class="ls lt hy jp b jq jr jt ju jw lu ka lv ke lw ki lx ly lz ma bi translated">没有自动化测试。</li><li id="cc61" class="ls lt hy jp b jq mb jt mc jw md ka me ke mf ki lx ly lz ma bi translated">缓慢和/或不稳定的测试。</li><li id="3f80" class="ls lt hy jp b jq mb jt mc jw md ka me ke mf ki lx ly lz ma bi translated">长特征分支。</li><li id="6de5" class="ls lt hy jp b jq mb jt mc jw md ka me ke mf ki lx ly lz ma bi translated">未经同意的设计变更。</li><li id="65f0" class="ls lt hy jp b jq mb jt mc jw md ka me ke mf ki lx ly lz ma bi translated">损坏的版本不会立即恢复。</li><li id="9ef2" class="ls lt hy jp b jq mb jt mc jw md ka me ke mf ki lx ly lz ma bi translated">开发人员不在最新的主干上工作。</li></ul><p id="76cd" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">不管是什么，如果你不能在不停止整个团队的情况下整合，你就不能做CI。</p><h2 id="2e65" class="kj kk hy bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">最后的话</h2><figure class="lf lg lh li fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mg"><img src="../Images/7731ca25c201d9836c3c9f8bb048622a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xuZFr3pPuQCXP_Rg.jpg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">The target is to release — <a class="ae hv" href="https://imgflip.com/i/1z3cu4" rel="noopener ugc nofollow" target="_blank">src</a></figcaption></figure><p id="6ecc" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">事实是这里没有绝对。</p><p id="65c3" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">持续集成和测试的目的是缩短反馈循环，给程序员更多的可见性。因此，测试和构建中的问题更少，但这并不意味着你不做开发周期的其他部分——它们只是更高效和有效，因为与开发相关的问题更有可能在过程的早期被发现。</p><p id="20f0" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">然而，高度的信心并不意味着某些东西应该不经过相同的最终阶段就进入发布，而代码冻结是其中的一个关键因素。为了确保您发布的基线是预期的，您仍然需要它(或者至少是一个分支)。</p><p id="d700" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">请注意，更简单的情况可能不需要冻结。CI过程应该确保开发分支的状态可以被发布。尽管如此，某些特定代码还不能发布到产品中的原因可能有很多。其他依赖项可能需要同时发布，或者出于任何业务原因。</p><p id="23cd" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在任何情况下，IMHO，发布风险必须得到管理，在某些情况下是由于降低CD率，尽管我们将努力不损害它并找到其他方法。</p></div></div>    
</body>
</html>