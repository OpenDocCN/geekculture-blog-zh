<html>
<head>
<title>Create Revealing Text Animation with React and GSAP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和GSAP创建揭示文本动画</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-revealing-text-animation-with-react-gsap-e8b784606635?source=collection_archive---------9-----------------------#2022-02-10">https://medium.com/geekculture/create-revealing-text-animation-with-react-gsap-e8b784606635?source=collection_archive---------9-----------------------#2022-02-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="de30" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">一个关于如何用一个叫做GSAP的动画库创建文本动画的指南。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/eb5cf1d338b1d1bd004a393e8b161668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h2q5hCMfiIZ_T4fG"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@animeshchatterjee?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Animesh Chatterjee</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6d48" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我正在改造我的作品集网站，我想让动画感觉新鲜，所以我决定用它做一些文字动画。在这里，我想分享我是如何用一个叫做GSAP的动画库来创作这些启示性的文字的。</p><h1 id="f936" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">1.启动项目</h1><p id="6910" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">在这一点上，你可以决定是用<code class="du lh li lj lk b">create-react-app</code>还是用像<a class="ae jn" href="https://stackblitz.com/" rel="noopener ugc nofollow" target="_blank"> stackblitz </a>这样的在线环境来创建它。现在我刚从stackblitz开始。之后，在依赖部分，安装GSAP。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ll"><img src="../Images/ba13882904d7d1045ce0737a860cd09f.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*I6LawTmGxa8Sq0Qc2LE2-Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Install gsap.</figcaption></figure><p id="38a8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">之后，在你想要制作动画的文件中(或者在我的例子中是在<code class="du lh li lj lk b">app.js</code>)，像这样导入GSAP:</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="525e" class="lq kl hi lk b fi lr ls l lt lu">import { gsap } from 'gsap';</span></pre><h1 id="7364" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">2.创建元素</h1><p id="2887" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">现在，让我们从创建显示文本的JSX开始。首先，在<code class="du lh li lj lk b">app.js</code>的返回中，我们创建了包装器。这里我们想要创建一行文本，因此我们在包装器中创建2个div。</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="0fa7" class="lq kl hi lk b fi lr ls l lt lu">return(<br/> &lt;div style={style.wrapper}&gt;<br/>    &lt;div style={style.words}&gt;</span><span id="515d" class="lq kl hi lk b fi lv ls l lt lu">    &lt;/div&gt;<br/>    &lt;div style={style.words}&gt;</span><span id="e0a7" class="lq kl hi lk b fi lv ls l lt lu">    &lt;/div&gt;<br/> &lt;/div&gt;<br/>)</span></pre><p id="c9df" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是目前为止的风格。</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="638d" class="lq kl hi lk b fi lr ls l lt lu">const style = {<br/> wrapper: {<br/>  height: '30vh',<br/>  width: '90vw',<br/>  display: 'flex',<br/>  flexDirection: 'column',<br/>  justifyContent: 'center',<br/>  alignItems: 'center',<br/>  backgroundColor: 'black',<br/> },<br/> words:{<br/>  display: 'flex',<br/>  flexDirection: 'row',<br/>  overflow: 'hidden'<br/> }<br/>}</span></pre><p id="71ca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">注意<code class="du lh li lj lk b">words </code>风格中的<code class="du lh li lj lk b">overflow:’hidden’</code>，那种风格是让文字看起来从底部突然出现的关键。在我们完成之后试着评论一下那种风格。</p><h1 id="2b80" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">3.创建信函组件</h1><p id="65c4" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">之后，让我们创建<code class="du lh li lj lk b">Letter </code>组件，以便它可以被重用。该组件将获得两个道具，即空间和字母。如果space props为真，它将打印一个空格，如果space为假，它将打印字母。该组件将如下所示。</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="5810" class="lq kl hi lk b fi lr ls l lt lu">const Letter = ({space, letter}) =&gt; {</span><span id="aaee" class="lq kl hi lk b fi lv ls l lt lu"> return(</span><span id="b107" class="lq kl hi lk b fi lv ls l lt lu">  space == true ?</span><span id="cb5a" class="lq kl hi lk b fi lv ls l lt lu">   &lt;div className="text"&gt;&amp;nbsp;&lt;/div&gt;</span><span id="26e7" class="lq kl hi lk b fi lv ls l lt lu">   :</span><span id="0b8d" class="lq kl hi lk b fi lv ls l lt lu">   &lt;div className="text" style={style.letter}&gt;{letter}&lt;/div&gt;</span><span id="6108" class="lq kl hi lk b fi lv ls l lt lu"> )</span><span id="c1d2" class="lq kl hi lk b fi lv ls l lt lu">}</span></pre><p id="ec52" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里，我们通过析构稍后将提供给组件的属性，在向屏幕呈现字母或空格之间创建条件呈现。</p><p id="5e38" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然后我们为style.letter添加样式。其实看你的喜好了。</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="6628" class="lq kl hi lk b fi lr ls l lt lu">letter:{</span><span id="e608" class="lq kl hi lk b fi lv ls l lt lu"> fontSize: 32,</span><span id="163e" class="lq kl hi lk b fi lv ls l lt lu"> color: 'white',</span><span id="4c58" class="lq kl hi lk b fi lv ls l lt lu"> fontWeight: 'bold'</span><span id="0b14" class="lq kl hi lk b fi lv ls l lt lu">}</span></pre><h1 id="9fec" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">4.添加文本作为回报</h1><p id="f213" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">现在让我们进入下一部分，将文本添加到我们已经在步骤2中创建的元素中。</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="d581" class="lq kl hi lk b fi lr ls l lt lu">&lt;div style={style.words}&gt;</span><span id="7f1c" class="lq kl hi lk b fi lv ls l lt lu"> {</span><span id="a6e8" class="lq kl hi lk b fi lv ls l lt lu">  'Hello World!'.split('').map((i) =&gt;</span><span id="2128" class="lq kl hi lk b fi lv ls l lt lu">   i == ' ' ?</span><span id="d75a" class="lq kl hi lk b fi lv ls l lt lu">   &lt;Letter space={true} letter={i}/&gt;</span><span id="28c0" class="lq kl hi lk b fi lv ls l lt lu">   :</span><span id="22a1" class="lq kl hi lk b fi lv ls l lt lu">   &lt;Letter space={false} letter={i}/&gt;</span><span id="8e17" class="lq kl hi lk b fi lv ls l lt lu">  )}</span><span id="1755" class="lq kl hi lk b fi lv ls l lt lu">&lt;/div&gt;</span><span id="3c0a" class="lq kl hi lk b fi lv ls l lt lu">&lt;div style={style.words}&gt;</span><span id="4b26" class="lq kl hi lk b fi lv ls l lt lu">{</span><span id="a6ab" class="lq kl hi lk b fi lv ls l lt lu"> 'No Worries'.split('').map((i) =&gt;</span><span id="d996" class="lq kl hi lk b fi lv ls l lt lu">  i == ' ' ?</span><span id="67c7" class="lq kl hi lk b fi lv ls l lt lu">   &lt;Letter space={true} letter={i}/&gt;</span><span id="d749" class="lq kl hi lk b fi lv ls l lt lu">   :</span><span id="4080" class="lq kl hi lk b fi lv ls l lt lu">   &lt;Letter space={false} letter={i}/&gt;</span><span id="3677" class="lq kl hi lk b fi lv ls l lt lu"> )}</span><span id="b888" class="lq kl hi lk b fi lv ls l lt lu">&lt;/div&gt;</span></pre><p id="67d6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在那里，我们直接将文本<em class="lw"> Hello World </em>，而<em class="lw">不用担心，</em>将其拆分成数组，然后将值一一映射。在此之后，还有一个条件渲染，看看它是否是一个空间，然后我们给字母组件<code class="du lh li lj lk b">space={true}</code>道具，如果不是，则为false。</p><h1 id="23cb" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">5.动画！</h1><p id="a265" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">主要部分来了。现在让我们给<code class="du lh li lj lk b">app.js</code>添加useEffect函数</p><pre class="iy iz ja jb fd lm lk ln lo aw lp bi"><span id="5364" class="lq kl hi lk b fi lr ls l lt lu">useEffect(() =&gt; {</span><span id="f8d2" class="lq kl hi lk b fi lv ls l lt lu"> let textAnimation = gsap.timeline();</span><span id="72a0" class="lq kl hi lk b fi lv ls l lt lu"> textAnimation.from('.text', {</span><span id="186a" class="lq kl hi lk b fi lv ls l lt lu">  y: 100,</span><span id="8746" class="lq kl hi lk b fi lv ls l lt lu">  stagger: { <br/>   each: 0.07 <br/>  }</span><span id="f918" class="lq kl hi lk b fi lv ls l lt lu"> });</span><span id="53cd" class="lq kl hi lk b fi lv ls l lt lu">}, []);</span></pre><p id="8af6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在那里我们声明了<code class="du lh li lj lk b">textAnimation</code>变量，然后将它们赋给<code class="du lh li lj lk b">gsap.timeline()</code>，这样我们就可以很容易地访问它们。GSAP有很多方法可以用，像<code class="du lh li lj lk b">.from</code>、<code class="du lh li lj lk b">.to</code>、<code class="du lh li lj lk b">.fromTo</code>等。但是现在，我们将只使用<code class="du lh li lj lk b">.from</code>方法。它接收两个参数，目标和样式的对象。</p><p id="d644" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在过渡到我们已经在<code class="du lh li lj lk b">style</code>对象中声明的实际样式之前，包含在<code class="du lh li lj lk b">.from</code>方法的对象样式中的所有样式都是组件将应用的样式。</p><p id="a72d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">看看字母组件，我们给div一个className <code class="du lh li lj lk b">text</code>，这样我们就可以用GSAP来定位它。因此，我们使用text类作为元素目标，然后创建一个包含样式的对象，在这里我们将y设置为100，这意味着文本将从底部100个像素开始，stagger是为了在转换的元素之间给它一个延迟。如果没有交错，所有的文本将会同时出现。</p><p id="2d7e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，当您运行项目时，动画将在您刷新浏览器后出现。</p><p id="d6a2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">就是这样！这就是我今天能和你分享的，下次再见，祝你有美好的一天！🖐</p><p id="042b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="lw">更多内容看</em> <a class="ae jn" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> <em class="lw">说白了。报名参加我们的</em> <a class="ae jn" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> <em class="lw">免费周报</em> </strong> </a> <em class="lw">。在我们的</em> <a class="ae jn" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> <em class="lw">社区不和谐</em> </strong> </a> <em class="lw">获得独家获取写作机会和建议。</em></strong></a></p></div></div>    
</body>
</html>