<html>
<head>
<title>NetWorking: How the Same System Can Able to Ping Google But Not to Facebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络:为什么同一个系统可以连接谷歌，却不能连接脸书</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/networking-same-system-can-able-to-ping-google-but-not-to-facebook-62e6303511d8?source=collection_archive---------15-----------------------#2021-03-23">https://medium.com/geekculture/networking-same-system-can-able-to-ping-google-but-not-to-facebook-62e6303511d8?source=collection_archive---------15-----------------------#2021-03-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7171" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">路由表内部的神奇变化💻🌐💻</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/863d184df51c4720bab81f210d237f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NKNs1yAN1h4UhlqkV7pnyA.gif"/></div></div></figure><blockquote class="jj jk jl"><p id="38d5" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">C <strong class="jp hj"> <em class="hi">创建一个设置，这样你可以ping谷歌，但不能从同一个系统ping脸书</em> </strong></p></blockquote><p id="3d9b" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">在本文中，我们将只通过在网络内部操纵<strong class="jp hj">路由表</strong>，而不使用任何<strong class="jp hj">防火墙</strong>或任何<strong class="jp hj">安全</strong>概念，来创建上述神奇的设置。</p><h1 id="b916" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated"><strong class="ak">什么是网络？？</strong>🌐</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es le"><img src="../Images/41423c4b8f1e1b18b5d8371ee79e785c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/1*5amQyYXKR3nkKazN_pBolQ.gif"/></div><figcaption class="lf lg et er es lh li bd b be z dx">source from google</figcaption></figure><blockquote class="lj"><p id="edad" class="lk ll hi bd lm ln lo lp lq lr ls ki dx translated"><strong class="ak">联网是在信息系统中通过共享介质在节点之间传输和交换数据的实践</strong>。</p></blockquote><p id="ba8b" class="pw-post-body-paragraph jm jn hi jp b jq lt ij js jt lu im jv kj lv jy jz kk lw kc kd kl lx kg kh ki hb bi translated">因此，让我们了解一些重要的<strong class="jp hj">网络术语，这将有助于我们更好地理解设置:-</strong></p><ul class=""><li id="a7fe" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">乒:</strong></li></ul><p id="9821" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">Ping是一个命令行实用程序，几乎可以在任何具有网络连接的操作系统上使用，它可以测试联网设备是否可以到达。</p><ul class=""><li id="08a3" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj"> IP地址:</strong></li></ul><p id="e820" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">IP(互联网协议)地址是网络硬件的唯一地址。它有助于将您的计算机连接到网络上和世界各地的其他设备。</p><ul class=""><li id="4902" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">网卡(NIC): </strong></li></ul><p id="2fd3" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">网络接口控制器是将计算机连接到计算机网络的计算机硬件组件。</p><ul class=""><li id="4beb" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">开关:</strong></li></ul><p id="74e5" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">交换机连接网络(如LAN)中的设备，并在这些设备之间来回转发数据包。</p><ul class=""><li id="2234" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">路由器:</strong></li></ul><p id="c7c3" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">路由器是一种在两个或多个分组交换计算机网络之间传递信息的设备</p><ul class=""><li id="dfd8" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">路由表:</strong></li></ul><p id="2a04" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">路由表是一组规则，其中包含将数据包沿最佳路径转发到目的地所需的信息。</p><ul class=""><li id="f4d4" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">网络掩码(Genmask): </strong></li></ul><p id="a7c5" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">网络掩码由32位掩码组成，用于将IP地址划分为子网，并指定网络的可用主机。</p><ul class=""><li id="7ff9" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">网关:</strong></li></ul><p id="6df7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">网络网关连接两个不同的网络，因此一个网络上的设备可以与另一个网络上的设备通信。</p><ul class=""><li id="1301" class="ly lz hi jp b jq jr jt ju kj ma kk mb kl mc ki md me mf mg bi translated"><strong class="jp hj">数据包:</strong></li></ul><p id="95a8" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">为了在两个系统之间建立通信以共享信息，它首先创建数据包并将它们发送到目的系统。</p><blockquote class="jj jk jl"><p id="9cd2" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">创建到达目的地的数据包的秘密以规则(IP范围)的形式写在路由表中。</p></blockquote><h1 id="fed2" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated"><strong class="ak">先决条件</strong>:</h1><p id="f14c" class="pw-post-body-paragraph jm jn hi jp b jq mh ij js jt mi im jv kj mj jy jz kk mk kc kd kl ml kg kh ki hb bi translated">→您的操作系统中应该有互联网连接。</p><p id="4fb0" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">那么，现在让我们开始在RHEL上逐步实施设置- </strong></p><p id="ecc1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">步骤1:检查Linux中的所有路由(路由表)</strong></p><p id="195a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">命令:</p><pre class="iy iz ja jb fd mm mn mo mp aw mq bi"><span id="780c" class="mr kn hi mn b fi ms mt l mu mv"><strong class="mn hj">route -n</strong></span></pre><p id="a49b" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">输出:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/eb3a69dd42ca03545f8251468e702d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KcOiA6SJ1y3WiG60RlUEmQ.png"/></div></div></figure><p id="8677" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们可以看到，第一条规则显示，目的地0.0.0.0和网络掩码0.0.0的默认路由始终是0.0.0，这意味着对于全球所有IP范围，数据包都将通过此默认网关<strong class="jp hj"> 192.168.43.1 </strong>。</p><p id="d055" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">默认的<strong class="jp hj">网关</strong>是路由器的IP地址，负责将数据包转发到另一个网络。</p><p id="8faa" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">第二步:让我们检查谷歌和脸书的服务器是否可以ping通</strong></p><p id="fde2" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">命令:</p><pre class="iy iz ja jb fd mm mn mo mp aw mq bi"><span id="349a" class="mr kn hi mn b fi ms mt l mu mv"><strong class="mn hj">ping -4 www.google.com<br/>ping -4 www.facebook.com</strong></span></pre><p id="79f5" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">输出:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mx"><img src="../Images/9c7a369fbbed1413e707f8ffd7e4a0c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNkYIETDVvoyAFHCjnYihw.png"/></div></div></figure><p id="e2c1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">脸书也一样，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es my"><img src="../Images/b4a80f8f319bdcbda9d1b2e7f9e92ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vRJuxKD9XsnQaZahrewUWw.png"/></div></div></figure><p id="f5d3" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">正如我们所见，系统向谷歌(IP:142.250.67.68)和脸书(IP:69.171.250.35)服务器发送数据包，我们从这两个服务器获得响应。</p><p id="13bf" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">步骤3:从路由表中删除默认路由</strong></p><p id="d45c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">命令:</p><pre class="iy iz ja jb fd mm mn mo mp aw mq bi"><span id="743f" class="mr kn hi mn b fi ms mt l mu mv"><strong class="mn hj">route del -net 0.0.0.0</strong></span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mz"><img src="../Images/839c69154f23d4eb6523e22d6afacad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y3vBe0az6w-V_QJjque3UA.png"/></div></div></figure><p id="5366" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">现在我们可以看到默认路由已被成功删除。</p><p id="1fda" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">删除默认路由后，系统将不允许访问任何互联网或其他网络。</p><p id="b10e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">让我们检查一下…</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es na"><img src="../Images/cbb54d22eea71e190dbe3bfdb605fbf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*c3QcdcY5pfysZdeSKISJsw.png"/></div><figcaption class="lf lg et er es lh li bd b be z dx">IP of Google and Facebook is Unreachable</figcaption></figure><p id="d89f" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">在上图中，我们可以看到网络对于谷歌和脸书服务器都是不可达的，这意味着系统不会创建到目的地的数据包，因为我们在路由表中没有任何可用的路由/规则或范围。</p><p id="813f" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">步骤4:添加新路由，以便我们可以Ping到谷歌服务器</strong></p><p id="be54" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">→我的网卡(enp0s3)的IP地址是192.168.43.27</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nb"><img src="../Images/010ede9b405d518fa8646626c446b53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_zMYBKj-vbNN1okTiS7HuA.png"/></div></div></figure><p id="af35" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">命令:</p><pre class="iy iz ja jb fd mm mn mo mp aw mq bi"><span id="032c" class="mr kn hi mn b fi ms mt l mu mv"><strong class="mn hj">route add –net 142.250.67.0 netmask 255.255.255.0 gw 192.168.43.1 enp0s3</strong></span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/748498f2706acf9b01e66508d4c2046b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2xA6reTojM8UA5Rou4Pvw.png"/></div></div></figure><p id="969e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">因此，新的路由被添加到路由表中，它描述了来自网络范围(<strong class="jp hj">142 . 250 . 67 . 0–255</strong>)和子网掩码/地址掩码为<strong class="jp hj"> 255.255.255.0 </strong>的谷歌Ip(<strong class="jp hj">142.250.67.68</strong></p><p id="415a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">第五步:让我们再次尝试Ping谷歌和脸书服务器</strong></p><p id="4986" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">命令:</p><pre class="iy iz ja jb fd mm mn mo mp aw mq bi"><span id="f610" class="mr kn hi mn b fi ms mt l mu mv"><strong class="mn hj">ping 142.250.67.68</strong></span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/911e8115f9cdd882b7344a4529410fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_W5t14EQpvewr6KrU4Jog.png"/></div></div></figure><p id="d1e5" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">哇…现在我们可以检查谷歌的IP地址了。</p><p id="ffb2" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">脸书也一样，</p><pre class="iy iz ja jb fd mm mn mo mp aw mq bi"><span id="198d" class="mr kn hi mn b fi ms mt l mu mv"><strong class="mn hj">ping 67.171.250.35</strong></span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ne"><img src="../Images/39d5099330d927d29718e47c7ee3d1df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*6DhfyDOeKf6qoWZCkQ_WZQ.png"/></div></figure><p id="ec25" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">是的，脸书的IP地址没信号了。这就是我们为特定服务器创建路由的方式。</p><p id="ebcf" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">→让我们在浏览器上检查一下..</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nf"><img src="../Images/36b798d3ade29a1d3d8db36215903ac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTTLgudPvLbp_LkLhak6_A.png"/></div></div></figure></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><h1 id="ed2f" class="km kn hi bd ko kp nn kr ks kt no kv kw io np ip ky ir nq is la iu nr iv lc ld bi translated">结论:</h1><p id="3f65" class="pw-post-body-paragraph jm jn hi jp b jq mh ij js jt mi im jv kj mj jy jz kk mk kc kd kl ml kg kh ki hb bi translated">最后，我们成功地实现了一个设置，即<strong class="jp hj">相同的系统可以Ping Google，但不能Ping FaceBook </strong>。</p></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ns"><img src="../Images/e17d52d4c0cbb8d636ec65316133d508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r6d7hSqiCdHahENb"/></div></div><figcaption class="lf lg et er es lh li bd b be z dx">Photo by <a class="ae nt" href="https://unsplash.com/@peet818?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pete Pedroza</a> on <a class="ae nt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nu"><img src="../Images/c641c18f266dcc7d499fb29a3886d5a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vqDy2hak1LBT3IgA_ApXNQ.png"/></div></div></figure><p id="40a4" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">如果有任何需要改进的地方，请给出您的宝贵反馈。</p><div class="nv nw ez fb nx ny"><a href="https://www.linkedin.com/in/kalpit-malviya99/" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab dw"><div class="oa ab ob cl cj oc"><h2 class="bd hj fi z dy od ea eb oe ed ef hh bi translated">卡尔皮特·马尔维亚- ARTH学习者- ARTH -技术学院| LinkedIn</h2><div class="of l"><h3 class="bd b fi z dy od ea eb oe ed ef dx translated">查看Kalpit Malviya在全球最大的职业社区LinkedIn上的个人资料。Kalpit有3份工作列在…</h3></div><div class="og l"><p class="bd b fp z dy od ea eb oe ed ef dx translated">www.linkedin.com|</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jh ny"/></div></div></a></div></div></div>    
</body>
</html>