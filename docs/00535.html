<html>
<head>
<title>Full Understanding Of Twitter Search API-Standard vs API 2.0(Latest)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完全理解Twitter搜索API-标准与API 2.0(最新)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/full-understanding-of-twitter-search-api-standard-vs-api-2-0-latest-d983326d0163?source=collection_archive---------2-----------------------#2021-02-27">https://medium.com/geekculture/full-understanding-of-twitter-search-api-standard-vs-api-2-0-latest-d983326d0163?source=collection_archive---------2-----------------------#2021-02-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9365" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用Python基于关键字在一个日期范围内提取推文</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/2010c9c97238323b8f72d794cedf9868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3VanT7hls5ceoDmm"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@alexbemore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexander Shatov</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7587" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">嗨伙计们！🌞</p><p id="81e6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这篇文章中，我将详细探讨Twitter API，我们将使用python库来实现它。而且，我还提到了哪一层有什么规格！那么，让我们开始吧🏃</p><h1 id="9665" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">目录:</h1><ol class=""><li id="c067" class="lc ld hi jq b jr le ju lf jx lg kb lh kf li kj lj lk ll lm bi translated">Twitter搜索API简介</li><li id="f272" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj lj lk ll lm bi translated">费率限制和支持历史</li><li id="43af" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj lj lk ll lm bi translated">使用tweepy实现标准搜索API</li><li id="5fcd" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj lj lk ll lm bi translated">使用searchtweets实现新的搜索API v2.0</li><li id="e936" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj lj lk ll lm bi translated">其他来源和未来工作</li></ol></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h2 id="ead6" class="lz kl hi bd km ma mb mc kq md me mf ku jx mg mh kw kb mi mj ky kf mk ml la mm bi translated">Twitter搜索API</h2><p id="39ee" class="pw-post-body-paragraph jo jp hi jq b jr le ij jt ju lf im jw jx mn jz ka kb mo kd ke kf mp kh ki kj hb bi translated">为了使用过滤器从Twitter获取所有用户的推文，使用了Twitter搜索API。Twitter主要有3个版本</p><ol class=""><li id="5d0f" class="lc ld hi jq b jr js ju jv jx mq kb mr kf ms kj lj lk ll lm bi translated">标准版本</li><li id="5ba2" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj lj lk ll lm bi translated">高级版1.1版/企业版</li><li id="3815" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj lj lk ll lm bi translated">新的API v2.0</li></ol><h2 id="5b42" class="lz kl hi bd km ma mb mc kq md me mf ku jx mg mh kw kb mi mj ky kf mk ml la mm bi translated">费率限制</h2><p id="8a27" class="pw-post-body-paragraph jo jp hi jq b jr le ij jt ju lf im jw jx mn jz ka kb mo kd ke kf mp kh ki kj hb bi translated">每天都有成千上万的开发者向Twitter开发者平台发出请求。为了帮助管理这些请求的绝对数量，对可以发出的请求的数量进行了限制。</p><ul class=""><li id="94b8" class="lc ld hi jq b jr js ju jv jx mq kb mr kf ms kj mt lk ll lm bi translated"><strong class="jq hj">标准版本</strong>:一个端点的速率限制为900个请求/15分钟，这意味着每个用户在任何15分钟的时间间隔内最多允许900个请求，无论应用程序如何。它使用OAuth1.0身份验证方法。[ <a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/v1/rate-limits" rel="noopener ugc nofollow" target="_blank">阅读完整文档</a></li><li id="1f93" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj mt lk ll lm bi translated"><strong class="jq hj">Premium v 1.1</strong>:30天/全存档的端点，以及<em class="mu">沙盒订阅</em> <strong class="jq hj"> </strong>的速率限制为30个请求/1分钟。使用<em class="mu"> premium subscription </em>，您每1分钟有60个请求。[ <a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/premium/rate-limits" rel="noopener ugc nofollow" target="_blank">完整文档</a></li><li id="d647" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj mt lk ll lm bi translated"><strong class="jq hj">API v 2.0:</strong>tweet-lookup/Full-archive search<strong class="jq hj"/>的一个端点的速率<strong class="jq hj"> </strong>限制为每个应用300个请求/15分钟，每个用户900个请求/15分钟。[ <a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/rate-limits" rel="noopener ugc nofollow" target="_blank">完整文档</a></li></ul><h2 id="16b6" class="lz kl hi bd km ma mb mc kq md me mf ku jx mg mh kw kb mi mj ky kf mk ml la mm bi translated">支持历史</h2><p id="e2f6" class="pw-post-body-paragraph jo jp hi jq b jr le ij jt ju lf im jw jx mn jz ka kb mo kd ke kf mp kh ki kj hb bi translated">支持历史定义了你可以从API中获取多长时间的tweets。</p><ul class=""><li id="8876" class="lc ld hi jq b jr js ju jv jx mq kb mr kf ms kj mt lk ll lm bi translated">标准版:它有一个7天的搜索终点，这意味着你只能提取7天前的最新推文。</li><li id="9eda" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj mt lk ll lm bi translated"><strong class="jq hj"> Premium v1.1: </strong>它支持两个端点，一个30天端点和一个完全归档端点。</li><li id="b7a3" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj mt lk ll lm bi translated"><strong class="jq hj"> API v2.0: </strong>最近和全存档搜索REST端点是搜索Tweets组的一部分。这些端点是对<a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/search/overview" rel="noopener ugc nofollow" target="_blank">标准版本1.1七天搜索</a>端点以及<a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/premium/search-api/overview" rel="noopener ugc nofollow" target="_blank">高级版</a>和<a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/enterprise/search-api/overview" rel="noopener ugc nofollow" target="_blank">企业版</a>全存档搜索产品的替代。</li></ul><blockquote class="mv"><p id="9ddc" class="mw mx hi bd my mz na nb nc nd ne kj dx translated">那么，让我们编码吧</p></blockquote><h2 id="3431" class="lz kl hi bd km ma nf mc kq md ng mf ku jx nh mh kw kb ni mj ky kf nj ml la mm bi translated">使用<a class="ae jn" href="https://docs.tweepy.org/en/v3.5.0/index.html" rel="noopener ugc nofollow" target="_blank">tweepy</a>-python实现标准搜索API</h2><p id="fba1" class="pw-post-body-paragraph jo jp hi jq b jr le ij jt ju lf im jw jx mn jz ka kb mo kd ke kf mp kh ki kj hb bi translated">让我们首先包含库，并粘贴您的API令牌和来自Twitter开发人员仪表板的访问令牌。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nk nl l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">By <a class="ae jn" rel="noopener" href="/@harshkothari21">Author</a></figcaption></figure><p id="91e1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注-1。</strong>在上面的代码中，API的“<strong class="jq hj">wait _ on _ rate _ limit”</strong>参数值得注意。由于twitter允许有限的请求，这个参数在继续运行搜索中起着重要作用。如果未指定该参数并且您访问了限制，则该过程终止。</p><pre class="iy iz ja jb fd nm nn no np aw nq bi"><span id="2b17" class="lz kl hi nn b fi nr ns l nt nu">tweepy.API(auth, <strong class="nn hj">wait_on_rate_limit=True</strong>)</span></pre><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nk nl l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">By <a class="ae jn" rel="noopener" href="/@harshkothari21">Author</a></figcaption></figure><p id="4bb0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注意-2: </strong> Tweepy.cursor()不再包含since参数，并且将找不到超过一周的日期的推文。</p><p id="5484" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注-3: </strong>首先，标准的Twitter API不允许按时间搜索。一般来说，你能做的就是获取tweets，然后在Python中查看它们的时间戳，但这是非常低效的。</p><p id="ff72" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">[更多详情请参考<a class="ae jn" href="https://stackoverflow.com/questions/49731259/tweepy-get-tweets-between-two-dates" rel="noopener ugc nofollow" target="_blank">堆栈溢出</a></p></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h2 id="d532" class="lz kl hi bd km ma mb mc kq md me mf ku jx mg mh kw kb mi mj ky kf mk ml la mm bi translated">使用searchtweets实现新的搜索API v2.0</h2><ul class=""><li id="8d54" class="lc ld hi jq b jr le ju lf jx lg kb lh kf li kj mt lk ll lm bi translated">将光标悬停在右上角的名称上时，从下拉列表中选择“Dev Environment”选项。</li><li id="a683" class="lc ld hi jq b jr ln ju lo jx lp kb lq kf lr kj mt lk ll lm bi translated">从您想要使用的API中单击“设置环境”。选择将在端点URL中使用的应用程序名称和标签名称，例如developer。然后，完成设置。</li></ul><p id="ef84" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们首先包含库并为API设置配置。你可以查看这篇文章了解更多细节。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nk nl l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">By <a class="ae jn" rel="noopener" href="/@harshkothari21">Author</a></figcaption></figure><p id="9532" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">设置完成后，您可以简单地指定所需的文件管理器</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nk nl l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">By <a class="ae jn" rel="noopener" href="/@harshkothari21">Author</a></figcaption></figure><p id="77a9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注-1: </strong> results_per_call参数的值为100，这意味着每个请求将获取100条tweets，这是免费轮胎的最大限制。</p><p id="4556" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注意-2: </strong>如果您购买了套餐，每月费用为100美元，每次通话限制为500个请求。【<a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/premium/search-api/overview" rel="noopener ugc nofollow" target="_blank">更多详情在此</a></p><p id="d430" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注-3: </strong>我在这里搜索特定日期范围内基于关键字‘AMZN’的推文。</p><p id="bf9a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注意-4:</strong>eg只允许特定的关键字(#hashtags，()grouping，links，' " keywords "-双引号中的关键字)。[ <a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/tweets/search/integrate/build-a-query" rel="noopener ugc nofollow" target="_blank">更多详情</a> ]</p></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h2 id="2229" class="lz kl hi bd km ma mb mc kq md me mf ku jx mg mh kw kb mi mj ky kf mk ml la mm bi translated">其他来源和未来工作</h2><p id="ce66" class="pw-post-body-paragraph jo jp hi jq b jr le ij jt ju lf im jw jx mn jz ka kb mo kd ke kf mp kh ki kj hb bi translated">故障排除-如果您在Api2.0的认证中遇到任何问题— [ <a class="ae jn" href="https://stackoverflow.com/questions/55349475/twitter-premium-not-authorized" rel="noopener ugc nofollow" target="_blank"> Stackoverflow </a> ]</p><p id="25f3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">故障排除tweepy的Twitter错误代码429—[<a class="ae jn" href="https://stackoverflow.com/questions/41786569/twitter-error-code-429-with-tweepy" rel="noopener ugc nofollow" target="_blank">stack overflow</a>]</p><p id="9d2d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Twitter的搜索API的完整列表给出了端点、支持历史和类别— [ <a class="ae jn" href="https://developer.twitter.com/en/docs/twitter-api/search-overview" rel="noopener ugc nofollow" target="_blank">此处为</a> ]</p><p id="1330" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">小项目——您可以计划对covid病例和疫苗进行情感分析。</p><p id="dbd1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">👉感谢你阅读这个故事，❤.</p></div></div>    
</body>
</html>