<html>
<head>
<title>Don’t use ListView.builder and GridView.builder in Flutter. (Unless, you know exactly what you do.)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要在Flutter中使用ListView.builder和GridView.builder。(除非，你很清楚自己是做什么的。)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/crystal-clear-idea-about-listview-builder-and-gridview-builder-1ff0238eeac7?source=collection_archive---------2-----------------------#2021-08-10">https://medium.com/geekculture/crystal-clear-idea-about-listview-builder-and-gridview-builder-1ff0238eeac7?source=collection_archive---------2-----------------------#2021-08-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/35cb63642483199aa569a032354e99d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jC4hIZUSAD_Y3LSZnNIvsg.png"/></div></div></figure><p id="403c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Flutter中，谁是你最亲密的伙伴或助手？在我看来，在我的VScode中，最好的组合是ctrl+空格键。开发应用程序时，了解将用于分配微件的所有属性非常有用。让我们放低声音，采取更多行动。现在让我们把注意力转向我们的概念。今天我们将学习颤振中最想要的话题，一旦我们理解了这些基本原理，我们将能够在颤振中表现得更好。</p><h1 id="9b41" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> ListView.builder </strong></h1><p id="1b5f" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">它通过按需生成可滚动的线性小部件阵列来帮助创建一个长列表。</p><p id="6005" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你现在有一个问题。如何充分利用ListView.builder？</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/3d880d5873f0838fd4b092ef11d2459e.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*TSaWOKNSHmUdmmwX4F9R0w.png"/></div></figure><p id="ca20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有一个带有文本“我们拥有的笔”的Appbar小部件。</p><p id="13e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一点你已经很熟悉了，所以我就不详细介绍Appbar了。</p><p id="4db8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ListView.builder是在主体内创建的。</p><p id="a041" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一、在创建ListView.builder时，必须考虑以下步骤:步骤有哪些。</p><ol class=""><li id="c1c6" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">创建数据源</li><li id="832e" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">将数据源转换成小部件</li><li id="bb63" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">在ListVeibuilder中将小部件转换为子部件</li></ol><h2 id="272b" class="lk jp hi bd jq ll lm ln ju lo lp lq jy jb lr ls kc jf lt lu kg jj lv lw kk lx bi translated"><strong class="ak">创建数据源</strong></h2><p id="3b96" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在这里，您将收集一些笔名和价格的详细信息。<br/>所以我决定创建一个蓝图，这意味着我要创建一个包括名字和价格的钢笔模型。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/7301fad1aae07e7a4ca94040093dabc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*oavbyAWyUqUp3jXVnznbWg.png"/></div></figure><p id="14d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，使用一个模型，我将创建各种各样的笔，然后我将把它们放入一个列表并标记为“笔”</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/b501076555e860e35d5b0a520e7616df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*ZpUzAEWHCCdudM3UPkBfAw.png"/></div></figure><p id="8e7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我已经建立了一个数据源，这样第一步就完成了。</p><p id="6c6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。将数据源转换成小工具</strong></p><p id="f5c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们进行第二步，将数据源转换成一个小部件。指的是你将用来显示列表每一项的widget的类型，最有可能在列表视图构建器内部(大部分使用ListTile)，但这不是必须的；你可以使用容器、卡片等。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/04ecd83e403c915288ebd9de9b9c52bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XlRYCPdn0nCGYbaBSZ108Q.png"/></div></div></figure><p id="6b4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3 <strong class="is hj">。在ListVeibuilder中将小部件转换为子部件</strong></p><p id="efda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们来看最后一步，将小部件转换为ListView.builder中的子部件。在ListView.builder中，我们必须传递<strong class="is hj"> itemCount </strong>和<strong class="is hj"> itemBuilder </strong>，以及几个可选的参数。我将列表的长度作为itemcount的值传递。提供非空的itemcount可以提高[ListView]估计最大滚动范围的能力。</p><p id="47da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> itemBuilder </strong>应该总是返回一个非空的小部件，并在被调用时实际创建小部件实例。</p><p id="34b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在itemsBuilder内部，我们必须传递一个以上下文和索引作为参数的函数，并返回子窗口小部件。因此，因为我们已经创建了ListTile小部件，所以我将其返回，如下所示。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/6b7263c4e7c627988f2f7b9a9de8adbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*si6rDU90htoGvcTksOJcqQ.png"/></div></div></figure><p id="2276" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它包含许多项目。尽管如此，我们的应用程序是内存高效的，因为ListView.builder只是为那些在屏幕上可见的项目调用该方法。屏幕之外的其余项目不会加载到内存中，这样可以节省内存。</p><p id="4623" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文的开始，我提到了ctrl+空格键，因为没有人知道小部件的所有属性。此快捷方式将帮助您提高应用程序的效率。现在，如果我在ListViewBuilder小部件中按ctrl+空格键，您将会看到这样的内容。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/6b2dc1f987b42c47438802ff3a8bda02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rtc203BOAxLJH6alhTgGlg.png"/></div></div><figcaption class="md me et er es mf mg bd b be z dx">There are several properties available in the ListViewBuilder widget.</figcaption></figure><p id="4a7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ListViewBuilder小部件中有几个可用的属性。</p><h1 id="852d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">GridView .生成器</h1><p id="f8d6" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">它类似于ListViewBuilder。我们应该传递两个参数。</p><p id="d320" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.gridDelegate</p><p id="d2e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2 .项目生成器</p><p id="f3d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在gridDelegate中，我们通常传递slivergriddelegatewithfixedcrosaxiscount()，它构建一个委托，该委托创建在横轴上具有固定数量的瓦片的网格布局。好的，我们可以将mainAxisSpacing、crossAxisCount和crossAxisSpacing参数发送给slivergriddelegatewithfixedcrosaxiscount()，但它们不能是负数。slivergriddelegatewithfixedcrossAxisCount()的唯一必需属性是crosaxiscount，它告诉我们横轴上有多少个子轴。</p><p id="fb88" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们使用crossAxisSpacing来保持孩子之间的<strong class="is hj">社交距离</strong>(沿横轴放置每个孩子之间的空间。)和mainAxisSpacing(沿主轴在每个子对象之间放置空间。)</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/fe3252a746b71f6e6447e13944da9ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*ISiwsWj2XR-02fBTMH1Sxg.png"/></div></figure><p id="96c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上图显示了网格视图中包含文本小部件的大量容器。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/923dad623a060af230b4b2af7475cfc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uj7uOHV9Jntp2Nqm7gYehg.png"/></div></div></figure><p id="72a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，我们传递itemCount否则，您可能会收到范围错误。</p><p id="9a86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您还可以通过使用Inkwell小部件或GestureDetector来执行特定的操作，从而使子组件可点击。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/269692e2ff991fc8188b0aeb1c8cd975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cF48AenzMw657bAwjm3_rg.png"/></div></div></figure><p id="f31a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我已经向您展示了如何查看我们可以访问的所有属性。<br/>现在我们来看看一些属性。</p><p id="e4f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">滚动方向:Axis.horizontal </strong></p><p id="58d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它将从左向右滚动。</p><p id="9816" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">物理:neverscrullablescroll physics()</strong></p><p id="691a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它创建了阻止用户滚动的滚动物理。我们不能滚动。</p><p id="867c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">反转:真</strong></p><p id="1521" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它将用于反转列表中的项目。</p><p id="fb6c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">dragstarbehavior:dragstarbehavior . down</strong></p><p id="f63b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它将用于从底部到顶部拖动网格。</p><blockquote class="mk"><p id="b51b" class="ml mm hi bd mn mo mp mq mr ms mt jn dx translated">我希望你喜欢这个故事。如果你有任何问题或需要澄清，请在下面的评论中留下，或在Twitter上联系我。</p></blockquote><figure class="mv mw mx my mz ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/b5d50f5ccea3b604e8198150a53dd215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_m6d8bhxmJQtDGXf_X0YDw.jpeg"/></div></div></figure><p id="84b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">— — — — — — — — —谢谢您</p><p id="eb1e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有一个到我们官方网站的链接，在这里你可以了解更多的技术和新想法。</p></div><div class="ab cl na nb gp nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="hb hc hd he hf"><p id="6cf7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae nh" href="https://stackgod.blogspot.com/2021/08/dont-use-listviewbuilder-and.html" rel="noopener ugc nofollow" target="_blank">https://stack good . blogspot . com/2021/08/dont-use-listview builder-and . html</a></p></div></div>    
</body>
</html>