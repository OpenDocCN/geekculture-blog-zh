<html>
<head>
<title>A Simple Face Detection System in Using OpenCV &amp; Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用OpenCV和Python实现的简单人脸检测系统</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/a-simple-face-detection-system-in-using-opencv-python-5abda1d07b38?source=collection_archive---------13-----------------------#2022-05-09">https://medium.com/geekculture/a-simple-face-detection-system-in-using-opencv-python-5abda1d07b38?source=collection_archive---------13-----------------------#2022-05-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/2a7c30bb5bed94e1fe30138b07f128b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*OiMm9fJ8QxD5hwXLF3UpQw.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx">Face detection</figcaption></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="2145" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我们将检测视频中的人脸。众所周知，视频基本上是由帧构成的，这些帧是静止的图像。然后，我们对视频中的每一帧进行人脸检测</p><p id="170d" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">首先，在你的机器上安装OpenCV。如果你不知道如何安装OpenCV。你可以阅读我以前的文章<a class="ae jv" rel="noopener" href="/@sajithpro1/installing-opencv-for-python-on-windows-using-anaconda-d37300e2e194">使用Anaconda在Windows上安装OpenCV for Python</a></p><p id="fc82" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">使用哈尔级联的人脸检测是一种基于机器学习的方法，其中用一组输入数据训练级联函数。OpenCV已经包含了许多预先训练好的人脸、眼睛、微笑等分类器。今天我们将使用人脸分类器。您也可以尝试其他分类器。</p><p id="0055" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">你要在GitHub(<a class="ae jv" href="https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_frontalface_default.xml" rel="noopener ugc nofollow" target="_blank">Haar cascode _ frontal face _ default . XML</a>)下载训练好的分类器XML文件，在<a class="ae jv" href="https://github.com/opencv/opencv/tree/master/data/haarcascades" rel="noopener ugc nofollow" target="_blank"> OpenCV的GitHub资源库</a>有。你可以进入Haar cascade _ front alface _ default . XML Raw page并右击它，然后转到另存为，将该文件保存到你的工作位置。</p><p id="37f2" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">之后，从开始菜单启动Anaconda提示符</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/9d769650ee17d704ea38c641d3262c97.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*rvlg2_7KAI5Et2AF8dVKMA.png"/></div><figcaption class="im in et er es io ip bd b be z dx">launching Anaconda prompt</figcaption></figure><p id="45f6" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">要打开Jupyter笔记本，我们需要在提示符下键入以下命令:</p><h2 id="afa9" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ji km kn ko jm kp kq kr jq ks kt ku kv bi translated">Jupyter笔记本</h2><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kw"><img src="../Images/b44ac9f4a02a68a651e0020f6b46e325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jML3fYj1OfZbeSuE7enpeQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Launch Jupyter notebook</figcaption></figure><p id="0ace" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">当笔记本在您的浏览器中打开时，您将看到笔记本仪表板，它将显示笔记本服务器启动目录中的笔记本、文件和子目录的列表。</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/147bf9cbf67e61d4a43bd97e7f8227c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*8REGdssRd9MRzNPBLVn5jQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx">Jupyter Notebook Dashboard</figcaption></figure><p id="99c2" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">选择文件路径，然后单击右侧顶部名为“新建”的按钮，并选择python 3来创建笔记本文件</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lc"><img src="../Images/592b3eef41a0f3967c7453426f25cbf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1gKtqPnp16M6JvzbjY69Iw.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">creating a Jupyter notebook file</figcaption></figure><p id="0bb3" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">之后，你可以看到Jupyter笔记本文件</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es ld"><img src="../Images/085386013c1a1b9454f0d97277e7daa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1e-KnKHAh4dnvDgTz2TliQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">JupyterEmptyNotebook</figcaption></figure><p id="fe59" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">之后，您可以将下面的代码复制并粘贴到那个空的笔记本文件中</p><p id="cfd2" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">要检测视频中的人脸:</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="2125" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">将代码复制并粘贴到笔记本后，您可以通过单击“运行”按钮来运行该文件</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lg"><img src="../Images/0964c45b51df9f97514f300ab0d551af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oXlDz-gqOYHOdWjWguTSqw.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">run button in Jupyter notebook</figcaption></figure><p id="c6c2" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">点击运行按钮后，你可以看到该程序使用网络摄像头工作，检测网络摄像头视频中的人脸。</p><p id="597e" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">需要注意的几件事:</strong></p><ul class=""><li id="1d21" class="lh li hi iz b ja jb je jf ji lj jm lk jq ll ju lm ln lo lp bi translated">该检测仅对灰度图像有效。因此，将彩色图像转换为灰度图像非常重要。(第15行)</li><li id="c0b3" class="lh li hi iz b ja lq je lr ji ls jm lt jq lu ju lm ln lo lp bi translated"><strong class="iz hj"> detectMultiScale </strong>函数(第17行)用于检测人脸。它需要3个参数——输入图像、<em class="lv">比例因子、</em>和<em class="lv">近邻</em>。<em class="lv"> scaleFactor </em>指定图像尺寸随每个比例缩小多少。指定每个候选矩形应该有多少个邻居来保留它。你可以<a class="ae jv" href="https://www.bogotobogo.com/python/OpenCV_Python/python_opencv3_Image_Object_Detection_Face_Detection_Haar_Cascade_Classifiers.php" rel="noopener ugc nofollow" target="_blank">在这里</a>详细了解。您可能需要调整这些值以获得最佳结果。</li><li id="ce98" class="lh li hi iz b ja lq je lr ji ls jm lt jq lu ju lm ln lo lp bi translated"><em class="lv">面</em>包含找到面的矩形区域的坐标列表。我们使用这些坐标来绘制图像中的矩形。</li><li id="3720" class="lh li hi iz b ja lq je lr ji ls jm lt jq lu ju lm ln lo lp bi translated">我们使用无限循环来遍历视频中的每一帧。我们使用<em class="lv"> cap.read() </em>来读取每一帧。返回的第一个值是一个标志，指示帧是否被正确读取。我们不需要它。返回的第二个值是我们将在其上执行检测的静止帧。</li></ul><p id="457d" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><em class="lv">社交媒体:</em><a class="ae jv" href="https://www.linkedin.com/in/sajith-dilshan/" rel="noopener ugc nofollow" target="_blank"><em class="lv">LinkedIn</em></a><em class="lv">，</em><a class="ae jv" href="https://twitter.com/sajithd7" rel="noopener ugc nofollow" target="_blank"><em class="lv">Twitter</em></a><em class="lv">，</em><a class="ae jv" href="https://www.instagram.com/sajithd_dilshan/" rel="noopener ugc nofollow" target="_blank"><em class="lv">insta gram</em></a><em class="lv">，</em> <a class="ae jv" href="https://www.youtube.com/channel/UCXvjoCD39q8s3zWCwKD-Qpw" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> YouTube </em> </a></p></div></div>    
</body>
</html>