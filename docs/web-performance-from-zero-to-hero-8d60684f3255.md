# Web 性能，从零到英雄

> 原文：<https://medium.com/geekculture/web-performance-from-zero-to-hero-8d60684f3255?source=collection_archive---------13----------------------->

![](img/50aa9def176adc0fdd5e0685e2d61229.png)

Web Performance, From Zero To Hero

# Web 性能意味着什么？🏎️

Web 性能是指网站加载的速度和对用户交互的响应速度。这是一个网站成功的关键因素。一个慢的网站会有**高跳出率**和**低转化率**。一个快的网站会有**高转化率**和**低跳出率**。

# 为什么 Web 性能很重要？🤔

web 性能之所以重要有很多原因。以下是最重要的几个:

1.  **用户体验👌一个快速的网站会提供更好的用户体验，统计显示，如果一个网站的加载时间超过 3 秒，53%的用户会放弃这个网站。(来源:[thinkwithgoogle.com](https://www.thinkwithgoogle.com/consumer-insights/consumer-trends/mobile-site-load-time-statistics/))**
2.  **⚙️搜索引擎优化**谷歌引入了网络生命指标，并考虑将页面速度作为排名因素。一个快速的网站在搜索引擎中的排名会更高，统计显示，谷歌的第一个结果获得了 **34%** 的点击，第二个结果获得了 **17%** 的点击(来源: [pollthepeople.app](https://pollthepeople.app/the-value-of-google-result-positioning-3/) )。
3.  **转化率🤝🏻**一个快速的网站，转化率会更高。一个慢的网站转化率会比较低。
4.  **跳出率🚪速度快的网站跳出率会比较低。速度慢的网站跳出率会比较高。**
5.  **成本🤑快速网站的托管成本比慢速网站的成本更低，主要是因为你的托管服务的带宽和 CPU 使用率。**

> *良好的用户体验将为您的用户带来更少的压力和更高的生产力，并为您的支持团队带来更少的支持请求和更高的效率。*

# 有哪些顶级的 Web 性能杀手？💀

1.  前/后网络调用太多。
2.  数据库查询太多。
3.  后端的高响应时间。
4.  数据库的高响应时间。
5.  未优化的后端计算。
6.  未优化的前端计算。

# 如何提高 Web 性能？🚀

**评测:**在考虑对 web 应用程序进行任何改进之前，我们需要对其进行诊断，这就是评测的目的，许多工具都可以对 web 应用程序进行评测，下面是其中的一些:

*   **客户端剖析:
    -** 灯塔。
    -网页测试。
    - Chrome 开发工具。
    - PageSpeed 洞察。
*   **服务器端概要:
    -** Clinic.js(针对 NodeJs 应用)。
    - VisualVM(针对基于 JVM 的应用)。
    -剖析模块(用于 Python 应用程序)。

**前端缓存:**您不需要在每次页面刷新时发送一个`GET`请求，您可以缓存您的 HTTP 调用的响应，并从浏览器的缓存中提供它们。您可以使用`Cache-Control`头来指定 HTTP 调用的缓存持续时间，这是静态资产(如图像、字体、CSS、js 等)必须做的事情。

**后端缓存:**不需要对不经常变化的资源进行服务器对服务器的调用，可以使用内存缓存(像 Redis)来存储非易失性数据。

**考虑使用 CDN:**CDN 是一个分布在全球的服务器网络，它将缓存您的静态资产，并从离用户最近的服务器为它们提供服务，这将减少 HTTP 调用的延迟，并将提高您的网站的性能，大多数 CDN 默认情况下会实现缓存和资源压缩。

**资产优化:**确保使用 gzip 压缩您的资产，并使用下一代图像格式，如 WebP、AVIF 等。

**不要一次全部发送:**你不需要一次发送你网页的所有内容，而是使用惰性加载，只在用户需要的时候才加载你网页的内容，这涉及到图像、视频、字体，甚至 API 调用等各种资源。

**乐观 UI:** 你可以使用乐观 UI 让你的 web 应用感觉更快，这是一种在服务器响应用户的动作之前更新 UI 的技术，这将让用户感觉动作被立即执行，并将让用户感觉应用更快。

**变更检测:**对于每个异步事件，Angular 在整个组件树上执行变更检测。尽管检测更改的代码针对内联缓存进行了优化，但在复杂的应用程序中，这仍然是一项繁重的计算。提高变化检测性能的一种方法是，对于根据最近的动作不应该发生变化的子树，不要进行变化检测。

**后端计算:**

**负载平衡&水平扩展:**确保你的后端设计良好，这样你就可以将后端计算分布在多个服务器上，这将减少后端的响应时间，并使其更具可扩展性。

**并行性:**为您的并行后端计算选择正确的模式(多线程、多处理、多任务…)，有些计算不需要按顺序进行，您可以使用并行性来加速后端计算。

**后端调整:**确保调整您的后端以适应您的可用资源和应用程序的需求，根据您的基础架构，您应该调整后端的每一层以使用适量的 CPU、RAM、磁盘、数据库池大小、网络等。

**数据库调优:**调优您的 SGBD 以适应您的需求和 DB 服务器的可用资源， [PGTune](https://pgtune.leopard.in.ua/#/) 是调优 Postgres 数据库的好工具。

数据库查询:数据库调用可能会很昂贵，所以避免重新调用数据库来获取另一层后端已经获取的资源。

**数据库索引**:SQL 索引用于快速从数据库中检索数据。毫无疑问，对表或视图进行索引是提高查询性能的最佳方式之一，因此请确保对查询中使用的列进行索引。

**数据库反规范化**:这是一种在数据库中存储冗余数据以避免昂贵的连接的技术，这将提高数据库查询的性能。

**为您的服务器选择最佳位置:**确保为您的服务器选择正确的位置，使其尽可能靠近您的用户，这将减少 HTTP 调用的延迟。

# 最后的想法，

在本文中，我们看到了 web 性能的重要性以及如何提高它。我希望你喜欢它并且学到一些新的东西。如果你有任何问题或建议，欢迎在下面留言。如果你喜欢这篇文章，请与你的朋友和同事分享。感谢您的阅读🙏

*原载于 2022 年 8 月 8 日 https://frenchtechlead.com*[](https://frenchtechlead.com/posts/tech/20220808-web-performance-101/)**。**