<html>
<head>
<title>Let’s talk AWS Identity and Access Management (IAM)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们谈谈AWS身份和访问管理(IAM)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/lets-talk-aws-identity-and-access-management-iam-98e487f1503a?source=collection_archive---------18-----------------------#2021-07-12">https://medium.com/geekculture/lets-talk-aws-identity-and-access-management-iam-98e487f1503a?source=collection_archive---------18-----------------------#2021-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="dca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云计算的发展改变了我们在公共云中存储和保护数据的方式。虽然安全性是这里的一个主要问题，但是保护和限制数据访问的第一层是通过实现AWS身份和访问管理。</p><p id="181e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博客中，我们将讨论亚马逊网络服务的核心安全和用户管理服务之一，即身份和访问管理(AWS IAM)。我们还将了解如何创建IAM用户并授予所需的访问权限、与IAM交互的CLI命令以及IAM的最佳实践，以获得此服务的全部好处。</p><p id="b13a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据官方定义，“AWS身份和访问管理(IAM)是一个web服务，用于安全地控制对AWS服务的访问。借助IAM，您可以集中管理用户、访问密钥等安全凭证以及控制用户和应用程序可以访问哪些AWS资源的权限。”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/bd25811588aad4fa6f059a6979a25448.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*_LRu8SL0RgukRNVJHhC0gw.jpeg"/></div></figure><p id="395b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用IAM，您可以创建和管理AWS用户和组，并使用权限来允许和拒绝他们对AWS资源的访问。</p><p id="eb10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始研究控制台之前，让我们先了解一下IAM的主要方面。</p><ol class=""><li id="262b" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated"><strong class="ih hj"> <em class="jl">用户- </em> </strong> AWS IAM用户是您在AWS中创建的一个实体，用来表示使用它与AWS进行交互的人或应用程序。</li><li id="890f" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated"><strong class="ih hj"> <em class="jl">角色-</em></strong>IAM角色是一个有权限发出<strong class="ih hj"> AWS </strong>服务请求的实体。角色被附加到AWS用户，比如帐户A，通过它他们可以访问另一个帐户B，或者角色被附加到AWS服务，比如EC2，以便他们可以调用(API调用)另一个服务，比如S3。</li><li id="e115" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated"><strong class="ih hj"> <em class="jl">策略- </em> </strong>角色用于访问另一个帐户或服务，而策略是与用户相关联的权限。当用户尝试在任何其他帐户或服务中执行任何操作时，AWS会评估附加的策略，并确定是否允许该请求。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es ka"><img src="../Images/957fdc45ab59f63711ce315970806d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08Vi7qlDP6rZpZkxhszyCA.jpeg"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">AWS IAM Console view</figcaption></figure><p id="25cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jl"> IAM用户可以通过两种方式访问AWS资源:</em></p><ol class=""><li id="f336" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated"><em class="jl">程序化访问</em> -用户需要<strong class="ih hj"> <em class="jl">访问密钥ID </em> </strong> <em class="jl">和</em> <strong class="ih hj"> <em class="jl">秘密访问密钥</em> </strong>通过AWS API、CLI、SDK和其他开发工具使用AWS服务。</li><li id="a9d0" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated"><em class="jl"> AWS管理控制台访问- </em>需要一个<strong class="ih hj"> <em class="jl">密码</em> </strong>，通过该密码他可以访问控制台并按照给定的权限执行任务。</li></ol><p id="3b56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jl">创建IAM用户并授予管理控制台只读访问权限的步骤:</em></p><ol class=""><li id="2b29" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">以root用户(帐户管理员)身份登录到您的控制台，然后转到IAM控制台。选择用户并提供用户名，然后选择AWS管理控制台访问。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kj"><img src="../Images/0d5ed07efe8ab8800a88b19e04772d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qDjk2LRdtUiAciuhxW3rlA.jpeg"/></div></div></figure><p id="87bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.接下来&gt;转到权限页面，单击附加现有策略(这里我们只关注用户和策略，因此不创建任何组),然后选择ReadonlyAccess。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kk"><img src="../Images/87b04fa6a67024a8f969828c7e51dbe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Xoog_nlvh32b_ikG_Tb6A.jpeg"/></div></div></figure><p id="88be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.查看详细信息，然后单击创建用户。现在创建了一个具有只读访问权限的新用户，您需要与他/她共享详细信息，以便访问控制台并开始工作。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kl"><img src="../Images/53dbce9dbe4cddca220aa8d2b29412de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TPe3VccQLhdFlO1mkJO1lA.jpeg"/></div></div></figure><p id="b23d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jl"> AWS IAM switch role - </em>让我们考虑一个场景，您的infosec团队成员需要对每个帐户进行一些安全测试，我们应该给他对这些帐户的读取权限。在这种情况下，我们需要使用<strong class="ih hj"> <em class="jl">切换角色</em> </strong>服务，并给予必要的帐户访问权限，以便用户可以执行所需的活动。</p><p id="0a5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jl">接下来，我们需要始终确保遵守AWS IAM的最佳实践，它们如下:</em></p><ol class=""><li id="655d" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">授予<a class="ae km" href="http://docs.aws.amazon.com/wellarchitected/latest/security-pillar/permissions-management.html" rel="noopener ugc nofollow" target="_blank">最小特权访问</a>:建立最小特权原则确保身份只被允许执行完成特定任务所需的最少功能，同时平衡可用性和效率。</li><li id="6571" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">使用<a class="ae km" href="https://console.aws.amazon.com/organizations/home" rel="noopener ugc nofollow" target="_blank"> AWS组织</a>:在扩展AWS资源时集中管理和治理您的环境。轻松创建新的AWS帐户，对帐户进行分组以组织您的工作流，并对帐户或组应用策略以进行管理。</li><li id="55a7" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">启用身份联合:管理用户并从您的首选身份源访问多个服务。使用<a class="ae km" href="https://console.aws.amazon.com/singlesignon/home" rel="noopener ugc nofollow" target="_blank"> AWS单点登录</a>集中管理对多个AWS帐户的访问，并为用户提供从一个位置对其所有指定帐户的单点登录访问。</li><li id="0be1" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">启用MFA:为了获得额外的安全性，我们建议您为所有用户<a class="ae km" href="https://console.aws.amazon.com/iam/home?region=us-east-2#users" rel="noopener ugc nofollow" target="_blank">要求多因素身份验证(MFA)。</a></li><li id="93a1" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated"><a class="ae km" href="https://console.aws.amazon.com/iam/home?region=us-east-2#security_credentials" rel="noopener ugc nofollow" target="_blank">定期轮换凭证</a>:定期更换您自己的密码和访问密钥，并确保您帐户中的所有用户都这样做。</li><li id="1965" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">启用<a class="ae km" href="https://console.aws.amazon.com/access-analyzer/home" rel="noopener ugc nofollow" target="_blank"> IAM访问分析器</a>:启用IAM访问分析器来分析公共、跨帐户和跨组织访问。</li></ol><p id="93a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于AWS IAM的CLI命令:</p><ol class=""><li id="c087" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">创建IAM用户—“AWS IAM创建用户—用户名xyz”</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kn"><img src="../Images/95512f39daa13c7b342447facb4c97e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2eBvosQaXZm1YgPK.jpeg"/></div></div></figure><p id="f7b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.创建访问密钥-“AWS iam create-Access-Key-用户名xyz”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kn"><img src="../Images/59ed10386632134d517682ea7ac06b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2qO9IIjnSISieZ8O.jpeg"/></div></div></figure><p id="3d0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.列出AWS IAM用户-“AWS IAM列表-用户”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kn"><img src="../Images/68b65b78540b5c7601bb59dfdbbf3a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d-Gf-H91-KIhOCfs.jpeg"/></div></div></figure><p id="2aa9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请参考亚马逊的AWS IAM官方文档，链接"<a class="ae km" href="https://docs.aws.amazon.com/iam/" rel="noopener ugc nofollow" target="_blank">https://docs.aws.amazon.com/iam/</a>"</p><p id="ec38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AWS CLI参考https://docs.aws.amazon.com/cli/latest/reference/iam/<a class="ae km" href="https://docs.aws.amazon.com/cli/latest/reference/iam/" rel="noopener ugc nofollow" target="_blank">号</a></p><p id="bfe7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jl"> AWS IAM常见问题解答- </em> </strong></p><ol class=""><li id="4740" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">谁能够管理AWS帐户的用户？<br/>AWS帐户持有人可以管理用户、组、安全凭证和权限。此外，您可以授予单个用户调用IAM APIs的权限，以便管理其他用户。例如，可以创建一个管理员用户来管理公司的用户——这是推荐的做法。当您授予用户管理其他用户的权限时，他们可以通过IAM APIs、<a class="ae km" href="http://aws.amazon.com/developertools/AWS-Identity-and-Access-Management/4143" rel="noopener ugc nofollow" target="_blank"> AWS CLI </a>或<a class="ae km" href="https://console.aws.amazon.com/iam/home" rel="noopener ugc nofollow" target="_blank"> IAM控制台</a>来实现这一点。</li><li id="7164" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">IAM用户支持哪种密钥轮换？<br/>用户访问密钥和X.509证书可以像AWS帐户的根访问标识符一样进行轮换。您可以通过IAM APIs、AWS CLI或IAM控制台以编程方式管理和轮换用户的访问密钥和X.509证书。</li></ol><p id="044f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请看https://aws.amazon.com/iam/faqs/.的更多常见问题</p><p id="8e39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jl"> IAM是您的AWS帐户的一项功能，无需额外付费。您只需为您的用户使用其他AWS服务付费。</em>T19】</strong></p><p id="042d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们在下一篇博客中了解更多关于交换机角色、用户策略、组和AWS的其他编程访问。</p><p id="e117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jl">结论——</em></p><p id="a63d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AWS身份和访问管理必须在您的环境中强制使用。通过对AWS资源的细粒度访问控制、针对高权限用户的多因素身份验证、分析访问并将其与您的公司目录集成，充分利用它。</p><p id="4dec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于IAM可确保安全性和数据隐私，因此请务必遵循IAM的最佳实践。当涵盖所有方面时，您的数据是安全可靠的。</p></div></div>    
</body>
</html>