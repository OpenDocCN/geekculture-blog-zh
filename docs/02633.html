<html>
<head>
<title>Create a React project from scratch, with TypeScript and Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript和Webpack从头开始创建React项目</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-a-react-project-from-scratch-with-typescript-and-webpack-1454157cae1b?source=collection_archive---------24-----------------------#2021-05-22">https://medium.com/geekculture/create-a-react-project-from-scratch-with-typescript-and-webpack-1454157cae1b?source=collection_archive---------24-----------------------#2021-05-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0331" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何使用TypeScript和Webpack从头开始创建React项目的分步指南。</p><p id="ae17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里找到完整的源代码:<a class="ae jd" href="https://github.com/alexadam/project-templates/tree/master/projects/react-app" rel="noopener ugc nofollow" target="_blank">https://github . com/Alex Adam/project-templates/tree/master/projects/react-app</a></p><h1 id="8eae" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">设置</h1><p id="784c" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">先决条件:</p><ul class=""><li id="df0e" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">结节</li><li id="df2c" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">故事</li></ul><p id="bd6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建项目的文件夹:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="a9f0" class="le jf hi la b fi lf lg l lh li">mkdir react-app <br/>cd react-app</span></pre><p id="a7cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用yarn生成一个默认的<strong class="ih hj"> package.json </strong>文件:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="174d" class="le jf hi la b fi lf lg l lh li">yarn init -y</span></pre><p id="2f46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装React、TypeScript和Webpack:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="ae00" class="le jf hi la b fi lf lg l lh li">yarn add react react-dom<br/><br/>yarn add --dev @types/react \<br/>        @types/react-dom \<br/>        awesome-typescript-loader \<br/>        css-loader \<br/>        html-webpack-plugin \<br/>        node-sass \<br/>        sass-loader \<br/>        style-loader \<br/>        typescript \<br/>        webpack \<br/>        webpack-cli \<br/>        webpack-dev-server</span></pre><p id="94c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> package.json </strong>文件中添加构建、开发和清理脚本:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="5950" class="le jf hi la b fi lf lg l lh li">....<br/>  },<br/>  "scripts": {<br/>    "clean": "rm -rf dist/*",<br/>    "build": "webpack",<br/>    "dev": "webpack serve"<br/>  }</span></pre><p id="16c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过使用以下内容创建文件<strong class="ih hj"> tsconfig.json </strong>来配置TypeScript:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="79ee" class="le jf hi la b fi lf lg l lh li">{<br/>  "compilerOptions": {<br/>    "incremental": true,<br/>    "target": "es5",<br/>    "module": "commonjs",<br/>    "lib": ["dom", "dom.iterable", "es6"],<br/>    "allowJs": true,<br/>    "jsx": "react",<br/>    "sourceMap": true,<br/>    "outDir": "./dist/",<br/>    "rootDir": ".",<br/>    "removeComments": true,<br/>    "strict": true,<br/>    "moduleResolution": "node",            <br/>    "allowSyntheticDefaultImports": true,<br/>    "esModuleInterop": true,<br/>    "experimentalDecorators": true<br/>  },<br/>  "include": [<br/>    "client"<br/>  ],<br/>  "exclude": [<br/>    "node_modules",<br/>    "build",<br/>    "dist"<br/>  ]<br/>}</span></pre><p id="8471" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要配置Webpack，创建一个文件<strong class="ih hj"> webpack.config.js </strong>并粘贴:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="b4d2" class="le jf hi la b fi lf lg l lh li">const path = require("path");<br/><br/>const app_dir = __dirname + '/client';<br/><br/>const HtmlWebpackPlugin = require('html-webpack-plugin');<br/>const HTMLWebpackPluginConfig = new HtmlWebpackPlugin({<br/>  template: app_dir + '/index.html',<br/>  filename: 'index.html',<br/>  inject: 'body'<br/>});<br/><br/>const config = {<br/>  mode: 'development',<br/>  entry: app_dir + '/app.tsx',<br/>  output: {<br/>    path: __dirname + '/dist',<br/>    filename: 'app.js',<br/>    publicPath: '/'<br/>  },<br/>  module: {<br/>    rules: [{<br/>        test: /\.s?css$/,<br/>        use: [<br/>          'style-loader',<br/>          'css-loader',<br/>          'sass-loader'<br/>        ]<br/>      }, {<br/>        test: /\.tsx?$/,<br/>        loader: "awesome-typescript-loader",<br/>        exclude: /(node_modules|bower_components)/<br/>      },<br/>      {<br/>        test: /\.(woff|woff2|ttf|eot)(\?v=[0-9]\.[0-9]\.[0-9])?$/,<br/>        exclude: [/node_modules/],<br/>        loader: "file-loader"<br/>      },<br/>      {<br/>        test: /\.(jpe?g|png|gif|svg)$/i,<br/>        exclude: [/node_modules/],<br/>        loader: "file-loader"<br/>      },<br/>      {<br/>        test: /\.(pdf)$/i,<br/>        exclude: [/node_modules/],<br/>        loader: "file-loader",<br/>        options: {<br/>          name: '[name].[ext]',<br/>        },<br/>      },<br/>    ]<br/>  },<br/>  plugins: [HTMLWebpackPluginConfig],<br/>  resolve: {<br/>    extensions: [".ts", ".tsx", ".js", ".jsx"]<br/>  },<br/>  optimization: {<br/>    removeAvailableModules: false,<br/>    removeEmptyChunks: false,<br/>    splitChunks: false,<br/>  },<br/>  devServer: {<br/>    port: 8080,<br/>    // open: true,<br/>    hot: true,<br/>    inline: true,<br/>    historyApiFallback: true,<br/>  },<br/>};<br/>module.exports = config;</span></pre><h1 id="8e94" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">示例应用程序</h1><p id="37d8" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">创建一个名为<strong class="ih hj"> client </strong>的文件夹(在项目的文件夹中):</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="3e6e" class="le jf hi la b fi lf lg l lh li">mkdir client<br/>cd client</span></pre><p id="f5e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在文件<strong class="ih hj"> numbers.tsx </strong>中制作一个简单的React组件:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="1d63" class="le jf hi la b fi lf lg l lh li">import React, {useState} from 'react';<br/><br/>interface INumberProps {<br/>  initValue: number<br/>}<br/><br/>const Numbers = (props: INumberProps) =&gt; {<br/>  const [value, setValue] = useState(props.initValue)<br/><br/>  const onIncrement = () =&gt; {<br/>    setValue(value + 1)<br/>  }<br/><br/>  const onDecrement = () =&gt; {<br/>    setValue(value - 1)<br/>  }<br/><br/>  return (<br/>    &lt;div&gt;<br/>      Number is {value}<br/>        &lt;div&gt;<br/>          &lt;button onClick={onIncrement}&gt;+&lt;/button&gt;<br/>          &lt;button onClick={onDecrement}&gt;-&lt;/button&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/>export default Numbers</span></pre><p id="db6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在文件<strong class="ih hj"> app.tsx </strong>中创建主React组件(入口点):</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="e48a" class="le jf hi la b fi lf lg l lh li">import * as React from 'react';<br/>import * as ReactDOM from 'react-dom';<br/>import Numbers from './numbers';</span><span id="b389" class="le jf hi la b fi lj lg l lh li">ReactDOM.render(<br/>    &lt;Numbers initValue={42} /&gt;,<br/>    document.getElementById('app') as HTMLElement<br/>  );</span></pre><p id="4724" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，添加<strong class="ih hj">index.html</strong>:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="5715" class="le jf hi la b fi lf lg l lh li">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="5f61" class="le jf hi la b fi lj lg l lh li">&lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;<br/>  &lt;title&gt;React TypeScript&lt;/title&gt;<br/>&lt;/head&gt;</span><span id="518f" class="le jf hi la b fi lj lg l lh li">&lt;body&gt;<br/>  &lt;div id="app"&gt;&lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c5e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，运行<code class="du lk ll lm la b">yarn dev</code>并在浏览器中打开<code class="du lk ll lm la b">http://localhost:8080/</code>。</p><h1 id="4c6b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">将此项目用作模板</h1><p id="3805" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">您可以将<em class="ln">设置</em>步骤保存为shell脚本:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="3292" class="le jf hi la b fi lf lg l lh li">#!/bin/sh<br/><br/>rm -rf node_modules<br/>rm package.json<br/><br/>yarn init --yes<br/><br/>yarn add react react-dom<br/><br/>yarn add --dev @types/react \<br/>        @types/react-dom \<br/>        awesome-typescript-loader \<br/>        css-loader \<br/>        html-webpack-plugin \<br/>        node-sass \<br/>        sass-loader \<br/>        style-loader \<br/>        typescript \<br/>        webpack \<br/>        webpack-cli \<br/>        webpack-dev-server<br/><br/># Remove the last line<br/>sed -i.bak '$ d' package.json &amp;&amp; rm package.json.bak<br/><br/># append the scripts commads<br/>cat &lt;&lt;EOT &gt;&gt; package.json<br/>   ,"scripts": {<br/>      "clean": "rm -rf dist/*",<br/>      "build": "webpack",<br/>      "dev": "webpack serve"<br/>   }<br/>}</span></pre><p id="e6f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">删除<strong class="ih hj"> node-modules </strong>文件夹，当您想要启动一个新项目时，您可以将<em class="ln"> react-app </em>的内容复制到新位置:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="0bb7" class="le jf hi la b fi lf lg l lh li">mkdir new-project<br/>cd new-project<br/><br/># copy the react-app folder content to the new project<br/>rsync -rtv /path/to/../react-app/ .<br/><br/>./init.sh</span></pre></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="0f1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ln">原载于</em><a class="ae jd" href="https://alexadam.dev/blog/create-react-project.html" rel="noopener ugc nofollow" target="_blank"><em class="ln">https://Alex Adam . dev</em></a><em class="ln">。</em></p></div></div>    
</body>
</html>