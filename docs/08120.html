<html>
<head>
<title>Create Your First Chrome Extension in JavaScript to Hide Your API Keys</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript创建你的第一个Chrome扩展来隐藏你的API键</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-your-first-chrome-extension-in-javascript-to-hide-your-api-keys-7318357bb764?source=collection_archive---------12-----------------------#2021-10-15">https://medium.com/geekculture/create-your-first-chrome-extension-in-javascript-to-hide-your-api-keys-7318357bb764?source=collection_archive---------12-----------------------#2021-10-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/56de025c17082a5591fca97af871db28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pdYa4jqsjzobaPiuAyKN6A.png"/></div></div></figure><p id="974e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，你将学习如何创建一个chrome扩展。我们今天要看的例子是在仪表板上隐藏您的Vonage API键。你将从本教程的步骤中获得的知识将为你如何为不同的目的创建你自己的chrome扩展打下基础。</p><h1 id="9c43" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">什么是Chrome扩展</h1><p id="3532" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">chrome扩展是一个软件程序，允许您扩展Chrome功能并改变您的浏览器体验。可以用HTML、CSS、JavaScript和一个<code class="du kr ks kt ku b">manifest.json</code>文件构建一个扩展。后者为Chrome提供了运行脚本所需的信息，以便扩展能够正常工作。</p><h1 id="4f92" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">创建Chrome扩展文件夹</h1><p id="2221" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在你的计算机中创建一个新文件夹，其中包含<code class="du kr ks kt ku b">manifest.json</code>文件和引导文件，在我们的例子中，我们将它命名为<code class="du kr ks kt ku b">index.js</code>。对于我的例子，我将这个文件夹命名为<code class="du kr ks kt ku b">chrome-extension</code>。</p><h1 id="337f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">创建<code class="du kr ks kt ku b">manifest.json</code>文件</h1><p id="922d" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">创建chrome扩展时需要一个<code class="du kr ks kt ku b">manifest.json</code>文件，因为它告诉你的程序要执行的功能。</p><p id="d1d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建一个<code class="du kr ks kt ku b">manifest.json</code>文件。在Unix的终端上，您可以输入<code class="du kr ks kt ku b">touch manifest.json</code>。</p><p id="d93f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用所需的信息填充它，如下面的代码片段所示。</p><p id="60c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们一步步来看每一行。</p><ul class=""><li id="92f8" class="kv kw hi is b it iu ix iy jb kx jf ky jj kz jn la lb lc ld bi translated"><code class="du kr ks kt ku b">name</code>是将出现在chrome扩展列表中的扩展名称。</li><li id="4658" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn la lb lc ld bi translated"><code class="du kr ks kt ku b">description</code>是对你的chrome API做什么的描述。</li><li id="368f" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn la lb lc ld bi translated"><code class="du kr ks kt ku b">version</code>是您的扩展的当前版本，如果您进行了更改，您可以将其删除。</li><li id="5229" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn la lb lc ld bi translated"><code class="du kr ks kt ku b">author</code>应该包含chrome扩展创建者的名字。</li><li id="8a12" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn la lb lc ld bi translated"><code class="du kr ks kt ku b">manifest_version</code>指的是清单的版本，在写这篇博文的时候，最新的版本是3。</li><li id="6cf3" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn la lb lc ld bi translated"><code class="du kr ks kt ku b">content_scripts</code>是可以对DOM进行修改并将信息传递给扩展的文件。可以在<a class="ae lj" href="https://developer.chrome.com/docs/extensions/mv3/content_scripts/" rel="noopener ugc nofollow" target="_blank">内容剧本官网</a>了解更多。在这个例子中，我们希望我们的脚本匹配网页<a class="ae lj" href="https://dashboard.nexmo.com/" rel="noopener ugc nofollow" target="_blank">https://dashboard.nexmo.com/</a>及其任何子页面。我们声明要遵循的逻辑将被写在文件<code class="du kr ks kt ku b">index.js</code>中。</li></ul><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="0d43" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">创建引导文件</h1><p id="f5d0" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">从您的终端创建<code class="du kr ks kt ku b">index.js</code>文件。在Unix机器上，您可以通过键入<code class="du kr ks kt ku b">touch index.js</code>来实现。</p><p id="38e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了拥有一个chrome扩展，你可以创建一个简单的函数，一旦你导入它，它就会被应用到浏览器中。</p><p id="8e08" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有一个例子，您可以用它来创建一个只执行一次的简单警报。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="132c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于本教程，我们将使用下面的代码来模糊一些API键。</p><p id="ce17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们创建一个名为blurApiKeys的函数。我们将使用<code class="du kr ks kt ku b">document.querySelector</code>和<code class="du kr ks kt ku b">document.querySelectorAll</code>来查找包含API密钥和API密钥的HTML元素。最后，我们将使用CSS样式为这些元素添加一个20像素的模糊，setInterval每隔10毫秒调用一次blurApiKeys函数。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="6b9b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">将创建的文件夹导入到Chrome扩展中</h1><p id="cd44" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">现在是时候导入您创建的这两个文件，并将它们作为chrome扩展添加到您的浏览器中了。</p><ol class=""><li id="0839" class="kv kw hi is b it iu ix iy jb kx jf ky jj kz jn lq lb lc ld bi translated">打开Chrome浏览器。</li><li id="5a24" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn lq lb lc ld bi translated">导航到<code class="du kr ks kt ku b">chrome://extensions/</code>。</li><li id="d4e3" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn lq lb lc ld bi translated">点击右上角的开发者模式来启用它(如果还没有启用的话)。</li><li id="5327" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn lq lb lc ld bi translated">点击左上角的Load unpacked，一个文件上传工具将会打开。</li><li id="93ec" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn lq lb lc ld bi translated">在你的电脑上搜索你创建文件夹<code class="du kr ks kt ku b">chrome-extension</code>的位置，点击它，最后点击选择按钮。</li><li id="5d20" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn lq lb lc ld bi translated">你可以看到一个名为“API Key Hider”的新chrome扩展被创建，它是在<code class="du kr ks kt ku b">manifest.json</code>的name属性中指定的。</li><li id="b0c4" class="kv kw hi is b it le ix lf jb lg jf lh jj li jn lq lb lc ld bi translated">确保此chrome扩展已启用(已切换)。如果你想关闭它，你可以从chrome扩展列表中取消或移除它。</li></ol><p id="3e2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在下面的一张gif里看到上面的步骤:</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/813504a06b85d0a519865541df3de9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*iM2f43d1y14CgPAg"/></div></figure><h1 id="e6c0" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">测试一下</h1><p id="8ce7" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">您的chrome扩展现在已经加载，您可以在浏览器中看到您创建的函数的功能。</p><p id="b820" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了测试我们创建的函数，导航到<a class="ae lj" href="https://dashboard.nexmo.com/" rel="noopener ugc nofollow" target="_blank"> Vonage仪表板</a>，浏览仪表板中的页面，您会注意到您的Vonage API和密钥都被隐藏了。如果您需要复制它们，即使关键点模糊不清，旁边的复制按钮仍然有效，如下图所示。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/ed1db6f1e471f0b0cf351ea977b6b1e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HPLYoc5B7yv6WTLp"/></div></div></figure><h1 id="9d2e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">恭喜</h1><p id="31ab" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">干得好！您创建了一个chrome扩展来隐藏您的Vonage API键，现在您已经了解了如何创建、导入和启用chrome扩展，您可以尽情发挥您的创造力，创建更多的扩展！</p><p id="1fdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想让它更上一层楼，你可以从官方文档中学习如何将它发布到Chrome网上商店。</p><p id="2dc8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望你喜欢这个。欢迎在Twitter 上联系我<a class="ae lj" href="https://twitter.com/amdcavallaro" rel="noopener ugc nofollow" target="_blank">或者加入我们的</a><a class="ae lj" href="https://developer.nexmo.com/community/slack" rel="noopener ugc nofollow" target="_blank">社区休闲频道</a>。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="253a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ma">最初发布于</em><a class="ae lj" href="https://learn.vonage.com/blog/2021/08/31/create-your-first-chrome-extension-in-javascript-to-hide-your-api-keys/" rel="noopener ugc nofollow" target="_blank"><em class="ma">https://learn . vonage . com/blog/2021/08/31/create-your-first-chrome-extension-in-JavaScript-to-hide-your-API-keys/</em></a></p></div></div>    
</body>
</html>