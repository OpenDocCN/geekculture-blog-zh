<html>
<head>
<title>Bottom Navigation in Jetpack Compose Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack Compose Android中的底部导航</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/bottom-navigation-in-jetpack-compose-android-9cd232a8b16?source=collection_archive---------0-----------------------#2021-11-21">https://medium.com/geekculture/bottom-navigation-in-jetpack-compose-android-9cd232a8b16?source=collection_archive---------0-----------------------#2021-11-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/49cc1b751010d2bf56aaa8c6d65e5cf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HROxO8CCRWk-wOqKvPcDrQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">src: <a class="ae iu" href="https://learn.vonage.com/blog/2021/06/15/a-better-way-of-creating-android-views-with-jetpackcompose/" rel="noopener ugc nofollow" target="_blank">https://learn.vonage.com/blog/2021/06/15/a-better-way-of-creating-android-views-with-jetpackcompose/</a></figcaption></figure><p id="2158" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中，我将向你展示如何使用导航组件(导航控制器和导航主机)在jetpack compose中设计底部导航栏。</p><p id="585b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于这篇文章，我设计了底部导航栏，就像LinkedIn一样。在jetpack compose中，您不需要在导航目录下定义导航并创建其导航图。jetpack compose中的导航不同于xml导航，在XML导航中我们需要定义片段和图形。在你的应用程序级梯度文件中添加下面的依赖项，并重新构建你的应用程序。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="cef7" class="kc kd hi jy b fi ke kf l kg kh">implementation "androidx.navigation:navigation-compose:2.4.0-beta02"</span></pre><p id="460b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">重新构建应用程序后，为底部导航相关文件创建一个单独的目录。现在创建名为BottomNavItem的密封类，带有底部导航项目标题、项目图标和项目路径，我们稍后将使用它们在屏幕之间导航，如下所示:</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="06d3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在jetpack组合导航中，我们不使用片段，因此您需要定义屏幕内容，因此创建一个名为BottomNavContentScreens.kt的新文件，并在其中添加以下代码:</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="a1b6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我只添加了一个带有路线名称的文本，这样您就可以看到导航的运行。</p><p id="ae20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们需要创建BottomNavActivity并复制下面的可组合函数来处理导航图:</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="708c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，您需要创建新的函数来定义底部导航，它的项目，处理底部导航backstack和定义开始目的地。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="a97b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在您需要使用Scaffold()创建新的可组合函数，以便您可以定义底部导航栏的位置，请参见blow:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="758e" class="kc kd hi jy b fi ke kf l kg kh">@Composable<br/>fun MainScreenView(){<br/>    val navController = <em class="kk">rememberNavController</em>()<br/>    <em class="kk">Scaffold</em>(<br/>        bottomBar = <strong class="jy hj">{ </strong><em class="kk">BottomNavigation</em>(navController = navController) <strong class="jy hj">}<br/>    </strong>) <strong class="jy hj">{<br/><br/>        </strong><em class="kk">NavigationGraph</em>(navController = navController)<br/>    <strong class="jy hj">}<br/></strong>}</span></pre><p id="45be" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在终于完成了，只需从活动的oncreate方法中调用MainScreenView()函数:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f287" class="kc kd hi jy b fi ke kf l kg kh">override fun onCreate(savedInstanceState: Bundle?) {<br/>    super.onCreate(savedInstanceState)<br/>    <em class="kk">setContent </em><strong class="jy hj">{<br/>        </strong><em class="kk">MainScreenView</em>()<br/>    <strong class="jy hj">}<br/></strong>}</span></pre><p id="1cce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后是输出:</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/fa40b60740eb81384ceae88a42034430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgbD5XAqMLDWQneR3FsMhQ.png"/></div></div></figure><p id="80a3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以在这个存储库中查看底层导航源代码:</p><div class="km kn ez fb ko kp"><a href="https://github.com/DaaniDev/jetpack_compose_animations" rel="noopener  ugc nofollow" target="_blank"><div class="kq ab dw"><div class="kr ab ks cl cj kt"><h2 class="bd hj fi z dy ku ea eb kv ed ef hh bi translated">GitHub-DaaniDev/jetpack _ compose _ animations</h2><div class="kw l"><h3 class="bd b fi z dy ku ea eb kv ed ef dx translated">此存储库包含在jetpack compose with animations中设计自定义视图的源代码。你只需要…</h3></div><div class="kx l"><p class="bd b fp z dy ku ea eb kv ed ef dx translated">github.com</p></div></div><div class="ky l"><div class="kz l la lb lc ky ld io kp"/></div></div></a></div></div></div>    
</body>
</html>