<html>
<head>
<title>View Encapsulation in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以角度方式查看封装</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/view-encapsulation-in-angular-1e02bd96b6e7?source=collection_archive---------12-----------------------#2022-05-11">https://medium.com/geekculture/view-encapsulation-in-angular-1e02bd96b6e7?source=collection_archive---------12-----------------------#2022-05-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b096" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">了解Angular中视图封装的工作原理？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/102e4ae91198ced91f552f3d7e3fac66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*P5wziNaj825mib5Q.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">View Encapsulation in Angular</figcaption></figure><p id="0d5f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">角形部件主要由三部分组成:</p><ol class=""><li id="1581" class="kj kk hi jp b jq jr jt ju jw kl ka km ke kn ki ko kp kq kr bi translated">组件类别</li><li id="613d" class="kj kk hi jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">模板</li><li id="b592" class="kj kk hi jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">风格</li></ol><p id="339b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我已经提到我的AppComponent具有来自app.component.css文件的样式。另外，提到视图封装也是用户的选择。模拟为not，这是Angular提供的默认属性。</p><pre class="iy iz ja jb fd kx ky kz la aw lb bi"><span id="f760" class="lc ld hi ky b fi le lf l lg lh">import { Component, ViewEncapsulation } from '<a class="ae li" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="e348" class="lc ld hi ky b fi lj lf l lg lh"><a class="ae li" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>    selector: 'app-root',<br/>    templateUrl: './app.component.html',<br/>    styleUrls: ['./app.component.css'],<br/>    encapsulation: ViewEncapsulation.Emulated<br/>})<br/>export class AppComponent {<br/>    title = 'parent component';<br/>}</span></pre><p id="36e9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在下面的appcomponent.css文件中，我们为p标记添加了蓝色，这样在AppComponent HTML模板中使用的所有p标记都将以蓝色显示。</p><pre class="iy iz ja jb fd kx ky kz la aw lb bi"><span id="f75a" class="lc ld hi ky b fi le lf l lg lh">p {<br/>        color: blue;<br/>    }</span></pre><p id="344b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在，我在下面添加了一个AppChildComponent，它将是我的AppComponent的子组件。您可能认为添加到父组件的样式也必须反映在子组件中，因为我们没有向它添加任何特定的样式。因此，如果我在AppChildComponent中使用p标记，它也应该显示为蓝色。</p><pre class="iy iz ja jb fd kx ky kz la aw lb bi"><span id="b881" class="lc ld hi ky b fi le lf l lg lh">import { Component } from '<a class="ae li" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="d907" class="lc ld hi ky b fi lj lf l lg lh"><a class="ae li" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>    selector: 'app-child',<br/>    template: `<br/>  &lt;h1&gt;{{title}}&lt;/h1&gt;<br/>  `<br/>})<br/>export class AppChildComponent {<br/>    title = 'child app';<br/>}</span></pre><p id="faa1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">但这不是Angular中的默认情况。默认情况下，<em class="lk">样式只作用于它们特定的组件，不会应用于其他组件</em>。</p><p id="5dac" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">为了将样式应用于其他组件，而不仅仅局限于其各自的组件，我们通常在Angular中调整默认的封装属性。</p><pre class="iy iz ja jb fd kx ky kz la aw lb bi"><span id="cc23" class="lc ld hi ky b fi le lf l lg lh"><a class="ae li" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>    selector: 'app-root',<br/>    templateUrl: './app.component.html',<br/>    styleUrls: ['./app.component.css'],<br/>    encapsulation: ViewEncapsulation.Emulated<br/>})</span></pre><p id="d56a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">封装:视图封装。Emulated是默认属性，由我们决定是否编写它，这使得样式的作用范围局限于组件。</p><p id="1d48" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果我们把它调整到视图封装。None，然后再用蓝色提供样式，比如说一个p标记，它同时应用于AppComponent和AppChildComponent，因此不会停留在特定组件的范围内。</p><pre class="iy iz ja jb fd kx ky kz la aw lb bi"><span id="fd9c" class="lc ld hi ky b fi le lf l lg lh"><a class="ae li" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>    selector: 'app-root',<br/>    templateUrl: './app.component.html',<br/>    styleUrls: ['./app.component.css'],<br/>    encapsulation: ViewEncapsulation.None<br/>})<br/>export class AppComponent {<br/>    title = 'parent component';<br/>}</span></pre></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="b423" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">总结一下:</p><p id="e55c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">查看封装。</strong>仿真，在此选项中:</p><ol class=""><li id="3665" class="kj kk hi jp b jq jr jt ju jw kl ka km ke kn ki ko kp kq kr bi translated">该样式的范围将是组件。</li><li id="383c" class="kj kk hi jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">这是封装的默认值，可以写入或忽略。</li></ol><p id="e066" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">查看封装。无，本选项中的</strong>:</p><ol class=""><li id="39b2" class="kj kk hi jp b jq jr jt ju jw kl ka km ke kn ki ko kp kq kr bi translated">样式不在组件范围内。</li><li id="3191" class="kj kk hi jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">可以改，但不得不提。</li></ol></div></div>    
</body>
</html>