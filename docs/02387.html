<html>
<head>
<title>How to Send Emails From Node.js Server Using Gmail?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Gmail从Node.js服务器发送邮件？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-send-emails-from-node-js-server-using-gmail-a34d3514a38d?source=collection_archive---------17-----------------------#2021-05-13">https://medium.com/geekculture/how-to-send-emails-from-node-js-server-using-gmail-a34d3514a38d?source=collection_archive---------17-----------------------#2021-05-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/892c82f4889e3d1994a368368c7d74dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X5GhuhtPi1_dHmSuKYQ1LA.jpeg"/></div></div></figure><p id="3e58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在现实生活中，我们可能会收到来自我们使用的某些网站的电子邮件，作为验证或通知。当我们经历它的时候，我们可能不会想这些事情是如何发生的，因为这种机制在今天已经不是什么大事了。但是，当谈到我们是否能够实施这样一种机制时，我们就会开始挠头。但是你再也不用担心了，在这里我将展示如何使用Gmail和Nodemailer从Node.js服务器发送电子邮件。Nodemailer是一个npm模块，帮助我们轻松地从Nodejs应用程序发送电子邮件。</p><p id="9a6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以让我们开始…</p><p id="1296" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，您必须使用“npm i nodemailer”命令在您的应用程序中安装“nodemailer”模块。然后，您必须使用require关键字将它传递给一个变量。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="ae7c" class="jx jy hi jt b fi jz ka l kb kc">let nodemailer = require('nodemailer');</span></pre><p id="b328" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此后，我们必须初始化一个传输服务对象，该对象保存我们将要使用的电子邮件服务的详细信息，以及我们将要发送邮件的邮件地址的帐户凭证。在这里，我将使用Gmail。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="8d94" class="jx jy hi jt b fi jz ka l kb kc">let transporter = nodemailer.createTransport({<br/><br/>    service:'gmail',<br/>    auth: {<br/>        user: 'sender@gmail.com',<br/>        pass: 'password'<br/>    }<br/>});</span></pre><p id="9d17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们必须为消息配置初始化另一个对象，该对象由发送者地址、接收者地址和我们将要发送的消息的细节组成。如果你愿意，你甚至可以在这个对象中添加更多的字段(参考链接<a class="ae kd" href="https://nodemailer.com/message/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">这里</strong> </a>)。为了让你容易理解，我尽量保持简单。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="1bd9" class="jx jy hi jt b fi jz ka l kb kc">let mailOptions = {<br/>    from: 'sender@gmail.com',<br/>    to: 'reciever@gmail.com',<br/>    subject: 'subject',<br/>    text: 'The message'<br/>};</span></pre><p id="54ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，现在我们都准备好做最后的工作了，那就是发送邮件。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="f0dd" class="jx jy hi jt b fi jz ka l kb kc">transporter.sendMail(mailOptions,(error,info)=&gt;{<br/>    if (error) {<br/>        <strong class="jt hj"><em class="ke">console</em></strong>.log(error);<br/>    } else {<br/>        <strong class="jt hj"><em class="ke">console</em></strong>.log('Email sent: ' + info.response);<br/>    }<br/>});</span></pre><p id="c0ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，我们必须调用这个nodemailer的传输服务的一个内置函数，我将它命名为<strong class="is hj"> transporter </strong>，并传递消息配置对象(<strong class="is hj"> mailOptions </strong>)和一个回调函数作为参数来通知事务的错误或成功。</p><p id="5642" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你在这一步之前遵循了我提到的所有内容，那么你现在可以运行你的文件了。不幸的是，由于谷歌的安全政策，你会在控制台上看到一个错误。谷歌制定了一项安全政策，如果有任何不符合他们预期的安全标准的第三方来源试图登录该帐户，那么它将不允许从这些来源登录，因此它会自动阻止用户登录。在这里，如果您查看transporter对象，它由运行我们的文件时将用于登录的帐户凭证组成。</p><p id="58da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，为了阻止这种屏蔽，我们必须允许不安全的应用程序访问我们的Gmail帐户。你可以通过点击<strong class="is hj">链接</strong>和<strong class="is hj"> </strong>进行必要的修改，如下所示。现在，如果你运行你的js文件，它应该能够运行没有任何错误，你的邮件应该成功地到达收件人的地址。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/4b93baf024e0d70f957c227850f3d676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KFluOSVXdsR8QueadDk2Yg.png"/></div></div></figure><p id="0e9c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个安全事实可能听起来很吓人，或者让你觉得不安全。如果您担心使用自己的帐户进行此操作，那么您可以创建另一个没有您个人详细信息的Gmail帐户，并使用其凭据，而不是使用您的个人帐户。不管怎样，这取决于你。所以尝试一下吧，祝一切顺利。</p></div></div>    
</body>
</html>