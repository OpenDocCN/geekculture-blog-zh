<html>
<head>
<title>Part 5: Host Popularity Rental Prices Asked by Airbnb</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第五部分:Airbnb询问的主机人气租赁价格</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/part-5-host-popularity-rental-prices-asked-by-airbnb-23587406a726?source=collection_archive---------13-----------------------#2022-09-15">https://medium.com/geekculture/part-5-host-popularity-rental-prices-asked-by-airbnb-23587406a726?source=collection_archive---------13-----------------------#2022-09-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="fb2c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">让我们解决基于产品的公司提出的SQL问题</h2></div><p id="f9d9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你对SQL有扎实的掌握，你将有更大的机会通过数据科学面试。在本文中，我们将讨论一个单一的主题以及如何解决它。如果您想更好地掌握和体验SQL，您必须阅读这篇文章。你提出想法和寻求解决方案的方法无疑会进步。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/faac529a0d601928b519f8a7bf1b52db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZyz0GXAws3cQNKwhQpXHw.jpeg"/></div></div></figure><p id="f288" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是基于产品的公司在采访中询问的一系列SQL问题中的第五篇文章。对于本文，我使用StrataScratch平台来获取基于产品的公司中被问到的问题。我将使用Postgres SQL数据库来解决这个问题。</p><p id="f5b0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是基于产品的公司提出的一系列Postgres SQL问题的链接:</p><div class="kg kh ez fb ki"><div role="button" tabindex="0" class="ab bv ff cb dy kj kk bn kl kd km"><div class="kn l"><div class="ab q"><div class="l di"><img alt="R. Gupta" class="l de bw ko kp du" src="../Images/70207ad0decf9fadb709608abf121645.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*VKG7ua5JklBVaWVvc2cB8Q.jpeg"/><div class="dr bw l ko kp ds n aw dt"/></div><div class="gg l dw"><p class="bd b fp z dy dz ea eb ec ed ee ef dx translated">古普塔</p></div></div><div class="ks kt fg l"><h2 class="bd hj si sj dy sk ea eb sl ed ef hh bi translated">面试问题</h2></div><div class="ab q"><div class="l dw"><a class="bd b be z bi sm au sn so sp pc sq an fx fy sr ss st gb gc gd de bk ge" href="https://agupta97.medium.com/list/stratascratch-postgres-interview-problems-c4020531504b?source=post_page-----23587406a726--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="su l dw"><span class="bd b fp z dx">18 stories</span></div></div></div><div class="lf dh lg dy ab lh dw di"><div class="di kx bv ky kz"><div class="dh l"><img alt="" class="dh" src="../Images/e566d22f927cc4d9b2e12e2bb52bc915.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*SLyuftfrcBDQAkH1eKD9Xg.jpeg"/></div></div><div class="di kx bv la lb lc"><div class="dh l"><img alt="" class="dh" src="../Images/1352126327d45095086041e8e64954b6.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*wZyz0GXAws3cQNKwhQpXHw.jpeg"/></div></div><div class="di bv ld le lc"><div class="dh l"><img alt="" class="dh" src="../Images/1352126327d45095086041e8e64954b6.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*wZyz0GXAws3cQNKwhQpXHw.jpeg"/></div></div></div></div></div><p id="aad2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是脸书/梅塔在一次采访中提出的难题。可以在这里查看问题<a class="ae kf" href="https://platform.stratascratch.com/coding/10064-highest-energy-consumption?code_type=1" rel="noopener ugc nofollow" target="_blank">。问题名称是<strong class="iz hj">最高能耗</strong>。以下是问题的详细内容:</a></p><h1 id="5c98" class="lm ln hi bd lo lp lq lr ls lt lu lv lw io lx ip ly ir lz is ma iu mb iv mc md bi translated">主机人气租赁价格</h1><p id="024d" class="pw-post-body-paragraph ix iy hi iz b ja me ij jc jd mf im jf jg mg ji jj jk mh jm jn jo mi jq jr js hb bi translated">用户会给你一张出租房产搜索表。该表由搜索结果组成，并为搜索者输出主机信息。找出每台主机受欢迎程度的最低、平均和最高租赁价格。主持人人气评分定义如下:0评论:新增1至5评论:上升6至15评论:趋势上升16至40评论:人气超过40评论:热门</p><p id="5cfd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">提示:表中的<code class="du mj mk ml mm b">id</code>列指的是搜索ID。您需要通过连接价格、房间类型、host_since、邮政编码和评论数量来创建自己的host_id。</p><p id="2de7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出主机受欢迎程度评级及其最低、平均和最高租赁价格。</p><blockquote class="mn mo mp"><p id="53e7" class="ix iy mq iz b ja jb ij jc jd je im jf mr jh ji jj ms jl jm jn mt jp jq jr js hb bi translated">面试问题日期:【2018年2月，公司:<strong class="iz hj"> Airbnb </strong>，难度:<strong class="iz hj">硬</strong>，面试问题ID: 9632 <strong class="iz hj">，</strong>表格:<strong class="iz hj"> airbnb_host_searches，</strong></p><p id="7d08" class="ix iy mq iz b ja jb ij jc jd je im jf mr jh ji jj ms jl jm jn mt jp jq jr js hb bi translated">table _ fields:<strong class="iz hj">id</strong>(int)<strong class="iz hj">价格</strong>(float)<strong class="iz hj">属性_类型</strong>(varchar)<strong class="iz hj">房间_类型</strong>(varchar)<strong class="iz hj">便利设施</strong>(varchar)<strong class="iz hj">住宿</strong>(int)<strong class="iz hj">浴室(</strong>int)<strong class="iz hj">床_类型</strong>(varchar)<strong class="iz hj">取消_政策</strong>(varchar)<strong class="iz hj">清洁_费用<strong class="iz hj"/></strong></p></blockquote><p id="46fd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">Airbnb _ host _ searches表预览(只显示几列):</strong></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mu"><img src="../Images/4f2bab45a979037b930738e445e738b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*26muxcgW4xEsYuMvwosXwg.jpeg"/></div></div></figure><p id="0159" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">方法:</strong></p><p id="29f0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第一步:</strong>首先，我们必须为主机的受欢迎程度评级创建一个名为host_pop_rating的列，该列将包含基于问题中所述的number_of_reviews字段的不同值。为此，我们将使用case语句为host_pop_rating字段指定一个不同的名称。然后，我们还将通过连接价格、房间类型、host_since、邮政编码和评论数量来创建host_id</p><pre class="ju jv jw jx fd mv mm mw mx aw ll bi"><span id="8d95" class="my ln hi mm b fi mz na l nb nc"><strong class="mm hj">select <br/>    (case </strong><br/>        when number_of_reviews = 0 then 'New'<br/>        when number_of_reviews between 1 and 5 then 'Rising'<br/>        when number_of_reviews between 6 and 15 then 'Trending Up'<br/>        when number_of_reviews between 16 and 40 then 'Popular'<br/>        when number_of_reviews &gt; 40 then 'Hot'<br/>     <strong class="mm hj">end) as host_pop_rating,</strong><br/>  <strong class="mm hj">  price ,</strong><br/>    concat(price, room_type, host_since, zipcode, number_of_reviews) <strong class="mm hj">as host_id</strong><br/>    <strong class="mm hj">from airbnb_host_searches <br/>    group by host_id, host_pop_rating,price;</strong></span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es nd"><img src="../Images/5ca633dd82a7430d04b07377442eafa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*zJZgKCUu1546ost3OOGulw.jpeg"/></div></figure><p id="5f0c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第2步:</strong>我们将使用上面的查询作为通用表表达式(cte)，并将其命名为cte。现在，我们将选择host_pop_rating和group on host_pop_rating，以找到每个评级的最低、平均和最高价格。</p><pre class="ju jv jw jx fd mv mm mw mx aw ll bi"><span id="783c" class="my ln hi mm b fi mz na l nb nc"><strong class="mm hj">with cte as <br/>(</strong>select <br/>    (case <br/>        when number_of_reviews = 0 then 'New'<br/>        when number_of_reviews between 1 and 5 then 'Rising'<br/>        when number_of_reviews between 6 and 15 then 'Trending Up'<br/>        when number_of_reviews between 16 and 40 then 'Popular'<br/>        when number_of_reviews &gt; 40 then 'Hot'<br/>     end) as host_pop_rating,<br/>    price ,<br/>    concat(price, room_type, host_since, zipcode, number_of_reviews) as host_id<br/>    from airbnb_host_searches <br/>    group by host_id, host_pop_rating,price<br/><strong class="mm hj">)<br/>select host_pop_rating, <br/>min(price), avg(price), max(price)<br/>from cte<br/>group by  host_pop_rating;</strong></span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ne"><img src="../Images/3e0ed058e0e4adec4f9d8e2c67fd44f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*0HwObWhiwOxo9o4-rdB6ig.jpeg"/></div></figure><p id="8107" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">实际上，需要将问题分解成更小的问题。在阅读问题两遍后，决定使用哪些列来计算期望的结果。之后，确定计算每个子问题所需的函数，然后尝试连接子问题的解决方案。使用这种方法，你可以快速解决任何问题。接触将提高你开发解决问题的新方法和途径的能力。<br/>感谢你阅读我的帖子并回复我；这对我意义重大。如果你喜欢它，竖起大拇指，点击“关注”在媒体上关注我，以便在我发布新内容时得到通知。</p></div></div>    
</body>
</html>