<html>
<head>
<title>Object Equality in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的对象相等性</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/object-equality-in-javascript-2571f609386e?source=collection_archive---------1-----------------------#2021-08-14">https://medium.com/geekculture/object-equality-in-javascript-2571f609386e?source=collection_archive---------1-----------------------#2021-08-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1eb08516433af2f6ed4f9f1c607521ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_NwKz0AmJzwoeWK42kBX9A.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Object Equality in JavaScript</figcaption></figure><div class=""/><p id="231d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">比较数字或字符串确实很容易，但是你有没有尝试过比较两个对象🤔</p><p id="6da6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">即使两个对象具有相同的键和值对，它也将返回false。</strong></p><p id="3aed" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">示例:</strong></p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="92ff" class="kb kc hx jx b fi kd ke l kf kg">let name = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="66ad" class="kb kc hx jx b fi kh ke l kf kg">let fullName = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="45e3" class="kb kc hx jx b fi kh ke l kf kg">console.log(name === name) // true<br/>console.log(name === fullName) // false<br/>console.log(name == fullName) // false</span><span id="6d9c" class="kb kc hx jx b fi kh ke l kf kg">console.log(Object.is(name, fullName)) // false<br/>console.log(Object.is(name, name)) // true</span></pre><p id="de11" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从上面的例子可以看出，<code class="du ki kj kk jx b">name</code>和<code class="du ki kj kk jx b">fullName</code>是相同的。然而，这个物体既不等同于<code class="du ki kj kk jx b">==</code>也不等同于<code class="du ki kj kk jx b">===</code>。</p><h2 id="1a5d" class="kb kc hx bd kl km kn ko kp kq kr ks kt jf ku kv kw jj kx ky kz jn la lb lc ld bi translated">在进行对象相等时，您可以检查两件事情:</h2><p id="17ea" class="pw-post-body-paragraph iu iv hx iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">1️⃣对象有相同的实例</p><p id="86e7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2️⃣对象具有相同的值</p><h1 id="0fc6" class="lj kc hx bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz bi translated">1️.对象具有相同的实例</h1><p id="2b55" class="pw-post-body-paragraph iu iv hx iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">JavaScript有两种方法来匹配这些值。</p><ul class=""><li id="5dfd" class="ma mb hx iw b ix iy jb jc jf mc jj md jn me jr mf mg mh mi bi translated">对于原始类型(字符串、数字)，它通过它们值进行比较。</li><li id="ed43" class="ma mb hx iw b ix mj jb mk jf ml jj mm jn mn jr mf mg mh mi bi translated">对于非原始类型(对象、数组、日期)，它通过引用进行比较。</li></ul><h1 id="0dd3" class="lj kc hx bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz bi translated">通过引用进行比较是什么意思？</h1><p id="9a64" class="pw-post-body-paragraph iu iv hx iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated"><strong class="iw hy">引用比较</strong>表示对象引用内存中的同一个位置。</p><p id="a322" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">例如:</strong></p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="aecd" class="kb kc hx jx b fi kd ke l kf kg">let name = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="16f7" class="kb kc hx jx b fi kh ke l kf kg">let fullName = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="efc7" class="kb kc hx jx b fi kh ke l kf kg">let copyName = fullName</span><span id="6cfc" class="kb kc hx jx b fi kh ke l kf kg">console.log(name === fullName) // false<br/>console.log(copyName == fullName) // true</span></pre><p id="f610" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里，<code class="du ki kj kk jx b">copyName</code>和<code class="du ki kj kk jx b">fullName</code>指的是同一个内存实例，因此返回true。</p><h1 id="e54f" class="lj kc hx bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz bi translated">2️.对象具有相同的值</h1><p id="c1e7" class="pw-post-body-paragraph iu iv hx iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">要检查实例你可以使用<code class="du ki kj kk jx b">===</code> equality，但是要匹配这个值你需要做更多的工作😂</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="ffa9" class="kb kc hx jx b fi kd ke l kf kg">let name = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="5dbb" class="kb kc hx jx b fi kh ke l kf kg">let fullName = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="a677" class="kb kc hx jx b fi kh ke l kf kg">function isEqual(obj1, obj2) {<br/>    var props1 = Object.getOwnPropertyNames(obj1);<br/>    var props2 = Object.getOwnPropertyNames(obj2);</span><span id="cf55" class="kb kc hx jx b fi kh ke l kf kg">    if (props1.length != props2.length) {<br/>        return false;<br/>    }</span><span id="5811" class="kb kc hx jx b fi kh ke l kf kg">    for (var i = 0; i &lt; props1.length; i++) {<br/>        let val1 = obj1[props1[i]];<br/>        let val2 = obj2[props1[i]];<br/>        let isObjects = isObject(val1) &amp;&amp; isObject(val2);</span><span id="56b0" class="kb kc hx jx b fi kh ke l kf kg">        if (isObjects &amp;&amp; !isEqual(val1, val2) || !isObjects &amp;&amp; val1 !== val2) {<br/>            return false;<br/>        }<br/>    }<br/>    return true;<br/>}</span><span id="eef9" class="kb kc hx jx b fi kh ke l kf kg">function isObject(object) {<br/>  return object != null &amp;&amp; typeof object === 'object';<br/>}</span><span id="88f4" class="kb kc hx jx b fi kh ke l kf kg">console.log(isEqual(name, fullName)); // true</span></pre><p id="53eb" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有几个插件可以帮助你满足上述条件，你可以简单地使用<code class="du ki kj kk jx b">_.isEqual</code>来检查对象值:</p><ol class=""><li id="8ee8" class="ma mb hx iw b ix iy jb jc jf mc jj md jn me jr mo mg mh mi bi translated"><a class="ae mp" href="http://underscorejs.org/#isEqual" rel="noopener ugc nofollow" target="_blank">下划线</a></li><li id="94d9" class="ma mb hx iw b ix mj jb mk jf ml jj mm jn mn jr mo mg mh mi bi translated"><a class="ae mp" href="https://lodash.com/docs#isEqual" rel="noopener ugc nofollow" target="_blank">洛达什</a></li><li id="18d2" class="ma mb hx iw b ix mj jb mk jf ml jj mm jn mn jr mo mg mh mi bi translated"><a class="ae mp" href="https://nodejs.org/api/util.html#util_util_isdeepstrictequal_val1_val2" rel="noopener ugc nofollow" target="_blank"> isDeepStrictEqual(object1，object2) </a>节点</li></ol><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="911b" class="kb kc hx jx b fi kd ke l kf kg">let name = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="d7c2" class="kb kc hx jx b fi kh ke l kf kg">let fullName = {<br/>    firstName: "suprabha",<br/>    lastName: "supi"<br/>}</span><span id="9ab1" class="kb kc hx jx b fi kh ke l kf kg">console.log(_.isEqual(name, fullName)); // true</span></pre><h1 id="b5bb" class="lj kc hx bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz bi translated">总结⅀</h1><p id="639a" class="pw-post-body-paragraph iu iv hx iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr hb bi translated">在object中，如果您对两个对象进行实例检查，那么您可以使用<code class="du ki kj kk jx b">==</code>、<code class="du ki kj kk jx b">===</code>和<code class="du ki kj kk jx b">Object.is()</code>。</p><p id="585d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然而，如果您想检查两个对象值，那么您必须编写自己的逻辑来完成。</p><p id="4c08" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢您阅读❤️这篇文章</p><p id="47cf" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">🌟<a class="ae mp" href="https://twitter.com/suprabhasupi" rel="noopener ugc nofollow" target="_blank">推特</a>📚电子书🌟<a class="ae mp" href="https://www.instagram.com/suprabhasupi/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>