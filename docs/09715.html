<html>
<head>
<title>How to write a full CRUD web application with MEN Stack plus Bulma CSS Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用MEN Stack加布尔玛CSS框架写一个完整的CRUD web应用</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-write-a-full-crud-web-application-with-men-stack-plus-bulma-css-framework-e54202cde3db?source=collection_archive---------15-----------------------#2021-12-24">https://medium.com/geekculture/how-to-write-a-full-crud-web-application-with-men-stack-plus-bulma-css-framework-e54202cde3db?source=collection_archive---------15-----------------------#2021-12-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8c0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好！！！为了编写一个完整的CRUD(创建、读取、更新、删除)web应用程序，特别是用JavaScript编写的应用程序，我将带您经历无数的步骤。</p><p id="5e54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我用过MEN stack，那个M是代表<a class="ae jd" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>，E是代表<a class="ae jd" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express </a>，N是代表<a class="ae jd" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node JS。</a>除此之外，我还链接了<a class="ae jd" href="https://bulma.io/" rel="noopener ugc nofollow" target="_blank">布尔玛</a> CSS框架，而不是Bootstrap，我发现<a class="ae jd" href="https://bulma.io/" rel="noopener ugc nofollow" target="_blank">布尔玛</a>更有语义，更有意义。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/a6ce0abd93c09ef9ab5098873bdda7c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0gr08CIKgH5YSFOf"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Photo by <a class="ae jd" href="https://unsplash.com/@6heinz3r?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Gabriel Heinzer</a> on <a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c268" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是步骤:</p><ol class=""><li id="1990" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">正在安装节点JS和MongoDB，</li><li id="9e0a" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">安装所需的<a class="ae jd" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> <em class="ki"> npm </em> </a>包，创建并表现web服务器，</li><li id="be9e" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">本地连接MongoDB。</li><li id="d454" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">将创建CRUD(创建、读取、更新和删除)路由，</li><li id="891e" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">将集成其他功能，如Multer an CSV Parser npm软件包。</li><li id="3177" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">EJS和布尔玛CSS框架集成。</li></ol><p id="7a01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于第一步，我不会分享一个解释，因为on-time-installation需要设置您的开发环境，所以这里有相应资源的链接。</p><ul class=""><li id="59ab" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc kj ka kb kc bi translated">"<a class="ae jd" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>是基于<a class="ae jd" href="https://v8.dev/" rel="noopener ugc nofollow" target="_blank"> Chrome的V8 JavaScript引擎</a>构建的JavaScript运行时。"</li><li id="c191" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc kj ka kb kc bi translated"><a class="ae jd" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoD </a> B“构建更快，构建更智能”</li><li id="bf5c" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc kj ka kb kc bi translated"><a class="ae jd" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express </a> JS“为<a class="ae jd" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>设计的快速、无个性化、极简的web框架”</li><li id="a204" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc kj ka kb kc bi translated">"<a class="ae jd" href="https://bulma.io/" rel="noopener ugc nofollow" target="_blank">布尔玛</a>:现代CSS框架刚刚工作."</li></ul><p id="b257" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我来分享一下<em class="ki"> index.js : </em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kk"><img src="../Images/af70972c9ca30d2ad51c3d8aa41f4231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*cFMcXZ4n2U7Jh0PvrsxxWA.png"/></div></figure><p id="d7a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<em class="ki"> index.js </em>文件的第一部分，我们需要必要的<em class="ki"> npm </em>包并初始化它们。</p><p id="f5a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki"> app </em>被初始化并分配给<em class="ki"> express </em>()以便网络服务器将建立在app变量上。</p><p id="b949" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki">端口</em>是监听<em class="ki"> app </em>的服务器的端口号。</p><p id="1fa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki"> path </em>用于目录，如果需要从根目录访问，我们需要path变量并设置<em class="ki"> __dirname。</em>这部分我以后再解释。</p><p id="051e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki"> csv </em>用于解析这个应用程序中的<em class="ki"> csv </em>文件，我已经将其用于批量导入功能。安装<em class="ki"> csv </em> - <em class="ki">解析器</em>的<em class="ki"> npm </em>包，用于解析csv文件。</p><p id="4ad0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki"> multer </em>是另一个<em class="ki"> npm </em>包，主要用于上传文件并在web应用程序中使用它们。我选择使用<em class="ki"> multer </em>上传<em class="ki"> csv </em>文件，然后用<em class="ki"> csv </em> - <em class="ki">解析器</em>解析它们。</p><p id="04db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">mongoose是MongoDB的对象建模库，我已经安装了它来为数据库建模对象。</p><p id="508f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki"> method-override </em>库用于更新和删除路由，一个表单只能发送GET和POST两种类型的请求。因此，我们需要操作指定形式的方法属性。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kl"><img src="../Images/ff39cf5beecb87799902dcb1a693bddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lY9f1EsivE1hXaCRRblMpg.png"/></div></div></figure><p id="e151" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<em class="ki"> index.js </em>的第二部分中，MongoDB已经连接到一个名为demo11的本地数据库。然后，我们设置了“<em class="ki">视图</em>目录的路径，因为所有的<a class="ae jd" href="https://ejs.co/" rel="noopener ugc nofollow" target="_blank"> <em class="ki"> EJS </em> </a>模板都将在这个文件夹中创建。</p><p id="74bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们还包括了<em class="ki">应用程序，使用</em>行从表单主体获取数据。</p><p id="7759" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是肮脏的路线；</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es km"><img src="../Images/2c5a3b471f9118d02a1e2c12c220a54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*yecNPDlfFu9dRftgec3LpA.png"/></div></figure><p id="f18d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki">索引路由</em>为我们提供了所有设备的信息，但是在本例中，我们已经传递了一个类别数组，查询将帮助我们按类别显示所有设备。</p><p id="327a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki">新路由</em>是一个名为New的ejs模板，它包含一个提交新设备的表单。</p><p id="4f9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki">创建路由</em>是一个POST路由，从req.body获取数据并保存到MongoDB，重定向到新设备页面。</p><p id="2c11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我为这个简单的web应用程序添加了一个新功能，它将上传一个csv文件并解析它，然后数据将被保存到MongoDB。下面是显示的代码:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kn"><img src="../Images/db79cfc29791e0117c82a066cf3c3f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HmAPm7OUGKhpMU4ArdMv6A.png"/></div></div></figure><p id="f7d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，其余路线如下:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ko"><img src="../Images/18b548de64efd33b7831b6d7e04713bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*va6lPBCO-7vc9Bq2OaG49Q.png"/></div></div></figure><p id="e4b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ki">显示路线</em>显示一个设备的内容。它将通过其<em class="ki"> id </em>找到特定的设备，并且<em class="ki"> id </em>可在<em class="ki"> req.params. </em>处获得。在本节中，我们使用了model的方法，在本例中是device。这些方法可以在这个<a class="ae jd" href="https://mongoosejs.com/docs/api/model.html" rel="noopener ugc nofollow" target="_blank">链接</a>中找到。如前所述，我们使用<em class="ki"> Device.findById() </em>方法从数据库中查找具体的项目，相对的<em class="ki"> findByIdAndUpdate() </em>方法用于更新，<em class="ki"> findByIdAndDelete() </em>方法用于删除一个设备。</p><p id="d2c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在这里结束这篇文章，因为有很多部分要解释，我想提出来，让你自己去理解。希望代码的任何部分对你有所帮助。</p><p id="529b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这个<a class="ae jd" href="https://github.com/bunyaminsari/deviceApp" rel="noopener ugc nofollow" target="_blank"> GitHub仓库获得完整的代码。</a></p></div></div>    
</body>
</html>