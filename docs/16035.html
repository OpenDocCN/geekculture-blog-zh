<html>
<head>
<title>Optimize Palindrome Index HackerRank Solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">优化回文索引HackerRank解决方案</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/optimize-palindrome-index-hackerrank-solution-ceeb5bc91e1d?source=collection_archive---------4-----------------------#2022-12-07">https://medium.com/geekculture/optimize-palindrome-index-hackerrank-solution-ceeb5bc91e1d?source=collection_archive---------4-----------------------#2022-12-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="62e6" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">回文索引优化的Java解决方案</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/db5af445ef8ed2e3695a16cdd47a4094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hggQ1suIzaOIDimn"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@dell?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dell</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5960" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">HackerRank回文索引是一个基本问题，但很难通过所有测试用例。这里将举例说明如何在Java中求解和优化，这样可以很容易理解并扩展到其他问题。</p><h2 id="6a6e" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">问题</h2><p id="2ce1" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">给定ascii[a-z]范围内的一串小写字母，确定一个字符的索引，该字符可以被移除以使该字符串成为<a class="ae jn" href="https://en.wikipedia.org/wiki/Palindrome" rel="noopener ugc nofollow" target="_blank">回文</a>。可能有不止一种解决方法，但任何一种都可以。如果单词已经是回文或者无解，返回-1。否则，返回要删除的字符的索引。</p><p id="1dfe" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">举例</strong></p><pre class="iy iz ja jb fd lk ll lm bn ln lo bi"><span id="e9de" class="lp kl hi ll b be lq lr l ls lt">s = "bcbc"</span></pre><p id="e423" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">请移除索引0处的“b”或索引3处的“c”。</p><p id="5f95" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">功能描述</strong></p><p id="d317" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在下面的编辑器中完成回文索引函数。</p><p id="99fd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">回文索引有以下参数:</p><ul class=""><li id="a788" class="lu lv hi jq b jr js ju jv jx lw kb lx kf ly kj lz ma mb mc bi translated">字符串s:要分析的字符串</li></ul><p id="a19c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">返回</strong></p><ul class=""><li id="9834" class="lu lv hi jq b jr js ju jv jx lw kb lx kf ly kj lz ma mb mc bi translated">int:要移除的字符的索引或-1</li></ul><p id="c676" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">以下是HackerRank的问题陈述:</p><div class="md me ez fb mf mg"><a href="https://www.hackerrank.com/challenges/palindrome-index/problem" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hj fi z dy ml ea eb mm ed ef hh bi translated">回文索引| HackerRank</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">给定ascii[a-z]范围内的一串小写字母，确定可以移至…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">www.hackerrank.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu jh mg"/></div></div></a></div><h2 id="af93" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">优化解决方案</h2><p id="b972" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">使用一个循环来检查子串是否是回文是很简单的。时间复杂度为O(n)。但它在许多HackerRank测试案例中都会失败。</p><p id="6430" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在Java中，可以通过两种方式进行优化:1 .由于Java字符串是不可变的，所以在从字符串转换后对char数组进行操作；2.从两端检查char数组来加速。请参见下面的优化Java解决方案。</p><pre class="iy iz ja jb fd lk ll lm bn ln lo bi"><span id="027e" class="lp kl hi ll b be lq lr l ls lt">import java.io.*;<br/>import java.math.*;<br/>import java.security.*;<br/>import java.text.*;<br/>import java.util.*;<br/>import java.util.concurrent.*;<br/>import java.util.function.*;<br/>import java.util.regex.*;<br/>import java.util.stream.*;<br/>import static java.util.stream.Collectors.joining;<br/>import static java.util.stream.Collectors.toList;<br/><br/>class Result {<br/><br/>    /*<br/>     * Complete the 'palindromeIndex' function below.<br/>     *<br/>     * The function is expected to return an INTEGER.<br/>     * The function accepts STRING s as parameter.<br/>     */<br/><br/>    public static int palindromeIndex(String s) {<br/>        // Write your code here<br/>        if (s == null || s.length() &lt; 2) return -1;<br/>        char [] ss = s.toCharArray();<br/>        int l = 0, r = ss.length - 1;<br/>        <br/>        if (isPal(ss, l, r)) return -1;<br/>        while (l &lt; r) {<br/>            if (isPal(ss, l+1, r)) return l;<br/>            if (isPal(ss, l, r-1)) return r;<br/>            if (ss[l] != ss[r]) return -1;<br/>            l++;<br/>            r--;<br/>        }<br/>        <br/>        return -1;<br/>    }<br/>    <br/>    static boolean isPal(char [] s, int l, int r) {<br/>        if (s == null || l &gt; r) return false;<br/>        while (l &lt; r) {<br/>            if (s[l] != s[r]) return false;<br/>            l++;<br/>            r--;<br/>        }<br/>        <br/>        return true;<br/>    }<br/><br/>}<br/><br/>public class Solution {<br/>    public static void main(String[] args) throws IOException {<br/>        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));<br/>        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv("OUTPUT_PATH")));<br/><br/>        int q = Integer.parseInt(bufferedReader.readLine().trim());<br/><br/>        IntStream.range(0, q).forEach(qItr -&gt; {<br/>            try {<br/>                String s = bufferedReader.readLine();<br/><br/>                int result = Result.palindromeIndex(s);<br/><br/>                bufferedWriter.write(String.valueOf(result));<br/>                bufferedWriter.newLine();<br/>            } catch (IOException ex) {<br/>                throw new RuntimeException(ex);<br/>            }<br/>        });<br/><br/>        bufferedReader.close();<br/>        bufferedWriter.close();<br/>    }<br/>}</span></pre><p id="32f2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">请看下面的测试结果。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/cba6bc9ac0c55d75121c925b6c34f4eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*loJK9owTYjK_hOTECUlAQg.png"/></div></div></figure><p id="46e1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是在一个特殊的测试案例中仍然失败。如果你做了HackerRank模拟测试，你将会失败它的第15个测试用例。下面我们进一步优化或者简化一下。</p><pre class="iy iz ja jb fd lk ll lm bn ln lo bi"><span id="46b9" class="lp kl hi ll b be lq lr l ls lt">class Result {<br/>    /*<br/>     * Complete the 'palindromeIndex' function below.<br/>     *<br/>     * The function is expected to return an INTEGER.<br/>     * The function accepts STRING s as parameter.<br/>     */<br/>  public static int palindromeIndex(String s) {<br/>        // Write your code here<br/>        if (s == null || s.length() &lt; 2) return -1;<br/>        char [] ss = s.toCharArray();<br/>        int l = 0, r = ss.length - 1;<br/>        if (isPal(ss, l, r)) return -1;<br/>        while (l &lt; r) {<br/>            if (ss[l] != ss[r]) {<br/>                if (isPal(ss, l+1, r)) return l;<br/>                if (isPal(ss, l, r-1)) return r;<br/>            } <br/>            l++; <br/>            r--;<br/>         }<br/><br/>         return -1; <br/>    }<br/><br/>    static boolean isPal(char [] s, int l, int r) {<br/>        if (s == null || l &gt; r) return false;<br/>        while (l &lt; r) {<br/>            if (s[l] != s[r]) return false;<br/>            l++;<br/>            r--;<br/>        }<br/>        return true;<br/>    }<br/>}</span></pre><p id="3dce" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">就是这样。假设可能有一个回文，并保持循环运行。上述解决方案可以通过硬模拟测试。请看下文。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/29a0e058434326f41effbcd5fd21f142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_X003Bn20aipOdmKmfaiHw.png"/></div></div></figure><p id="9104" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">编码快乐！</p></div><div class="ab cl mx my gp mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="hb hc hd he hf"><p id="4e7f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="ne">问题，想法？请在下面的回复中留下评论。与我联系，成为解决有趣问题之旅的一部分。</em></p></div></div>    
</body>
</html>