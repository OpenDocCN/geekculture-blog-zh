<html>
<head>
<title>Drag and Drop Guide by an Anxious Coder</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">焦虑的编码者引导拖放</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/drag-and-drop-guide-by-an-anxious-coder-21c6607a8dfe?source=collection_archive---------66-----------------------#2021-08-03">https://medium.com/geekculture/drag-and-drop-guide-by-an-anxious-coder-21c6607a8dfe?source=collection_archive---------66-----------------------#2021-08-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3153" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以你想拖放？好吧，让我告诉你如何用这个简单的指南，能够编码最少的让你的元素从一个点到另一个点。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><p id="b5bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经从一个焦虑的人走了很长一段路，现在我是一个焦虑的程序员，写一个指南来帮助其他人学习新的东西，或者甚至复习他们已经知道的东西。拖放绝对是那些不太难学的东西之一，但是如果没有一个像样的解释，任何刚开始的人都可能会迷路。</p><p id="7ead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，我会尽可能用最简单的方式来解释它，以帮助你理解拖放的力量。该开始上课了，希望第一步顺利…</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="jk jj l"/></div></figure><h2 id="c355" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated">第一步</h2><p id="8b8e" class="pw-post-body-paragraph if ig hi ih b ii kg ik il im kh io ip iq ki is it iu kj iw ix iy kk ja jb jc hb bi translated">当然，我们需要确保所有必要的HTML设置都包含到样式表和JavaScript的链接。此外，我们将在主体中创建两个带有class="container "的div标记。</p><p id="cde7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以选择使用p、img、span或div标记来填充任何一个新的div容器，作为拖动该元素的起点。然而，最重要的是，你要确保对新元素进行分类，并添加一个名为draggable的属性，并使其等于“true”。这将允许我们的函数识别元素是可拖动的。</p><p id="6bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将使用一些带有“draggable”类的p标签，并确保它的draggable属性为true:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kl"><img src="../Images/165d7226b750da09dfdecde1a88b9014.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*S1U1i18gfN1ou18f4WtEZw.png"/></div></figure><p id="facb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你觉得能够更好地看到和想象一些东西，你可以在另一个容器中添加填充物，或者让它空着。虽然我要添加一些CSS。</p><h2 id="fb52" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated">第二步</h2><p id="ded9" class="pw-post-body-paragraph if ig hi ih b ii kg ik il im kh io ip iq ki is it iu kj iw ix iy kk ja jb jc hb bi translated">下一步是填充一点我们的样式表，这样我们就可以使用一些更有形的东西来拖放和查看我们的容器。你总是可以拖动一个图像或者用CSS样式的某种文本，以便更好地抓取它。例如:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ko"><img src="../Images/bee2ff10f9151f6ce6a02c70a4fc67df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*QGC42vN4D3S4sTeSHGqKyw.png"/></div></figure><p id="bebb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设置一些图片中描绘的风格应该给一些橙色的矩形框拖动周围的容器看起来像黑盒。同样使用cursor: move，它会将光标修改为四向光标，以指示当悬停在元素上时可以拖动该元素。</p><h2 id="31b4" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated">第三步</h2><p id="7c70" class="pw-post-body-paragraph if ig hi ih b ii kg ik il im kh io ip iq ki is it iu kj iw ix iy kk ja jb jc hb bi translated">现在开始用JavaScript编写我们的代码。我们首先为draggables和containers获取元素，并为它们分配一些变量。现在我们需要设置拖放工作所需的所有事件侦听器。我们将从所有的draggables开始，因为我们将使用的第一个事件侦听器是事件“dragstart”。我们还想确保循环通过我们的draggables:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kp"><img src="../Images/c66243d69be3f17a0477f5b1f775b365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*HcKRqu5IWoNL3bt1NytkvQ.png"/></div><figcaption class="kq kr et er es ks kt bd b be z dx">Don’t forget to console.log to make sure it is working. You should be seeing logs of the element being picked up and dragged.</figcaption></figure><p id="efe4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，我还向draggable元素添加了一个类，它是在开始拖动时添加的。类还可以用于添加任何样式，以更好地指示元素已被抓取和拖动。这个类稍后也会进来。</p><h2 id="3632" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated">第四步</h2><p id="1f08" class="pw-post-body-paragraph if ig hi ih b ii kg ik il im kh io ip iq ki is it iu kj iw ix iy kk ja jb jc hb bi translated">之后的步骤是创建一个侦听器来结束拖动。如果您测试了一些CSS在拖动时添加一些样式，您会看到一旦您放开元素，它将保持样式，因为它现在有了新的类。当拖动结束时，您必须创建一个新的侦听器来删除它，如下所示:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ku"><img src="../Images/fa1f1262ccd9390e1549575d61ba1602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*QoGviRF3ZKvJwvt74fob7A.png"/></div></figure><p id="69c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样设置，一旦拖动结束，该类将被移除，样式将不再应用。</p><h2 id="ce6e" class="jl jm hi bd jn jo jp jq jr js jt ju jv iq jw jx jy iu jz ka kb iy kc kd ke kf bi translated">第五步</h2><p id="1432" class="pw-post-body-paragraph if ig hi ih b ii kg ik il im kh io ip iq ki is it iu kj iw ix iy kk ja jb jc hb bi translated">我们希望最终能够移动元素，并能够在容器中切换它们。使用为容器创建的变量，遍历它们并添加event listener“dragover”。</p><p id="9620" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，对于被拖动的元素，确定我们是在第二个容器中还是第一个要被放下的容器中。要做到这一点，它需要忽略所有其他的draggables，并专注于当前正在拖动的元素，这很容易做到，因为我们有一个专门识别该元素的类。它应该是这样的:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kv"><img src="../Images/73eeab90e354bbf7b0584201ecbd4cea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*WYTAQWZhnXp74vNUp_qFXw.png"/></div><figcaption class="kq kr et er es ks kt bd b be z dx">You can also console.log dragover which will constantly log as long as you are over and element. It will stop logging once you go out of an element.</figcaption></figure><p id="6ebd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你可以添加被拖动的元素，瞧！终于！搞定了。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kw jj l"/></div></figure><p id="70ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事情是这样的，如果你测试拖放，你会看到一个:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es kx"><img src="../Images/e252cbaec49a372f1435ac8b15d490e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hDHeBRcBHbkLxoaG"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx">Photo by <a class="ae lc" href="https://unsplash.com/@rojekilian?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sarah Kilian</a> on <a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0519" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，不允许将一个元素拖放到另一个元素中。要禁用它，请将e for event(或您希望它表示的任何事件)添加到参数中，并添加e.preventDefault()。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ld"><img src="../Images/c5b34ec852f2937aaebf569d76353ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*IrFljTjVyEabdrnOqAXGwg.png"/></div></figure><p id="2cb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">终于！现在我们完成了最少的拖放操作。现在是关键时刻了！希望这行得通——我是说这完全行得通！</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="le jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lf"><img src="../Images/8bed635020519621e2c26e76b3087cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*NOMzl0lpSsUpAV9AxGLZ9Q.gif"/></div></figure><p id="5e96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功！这将只能将元素拖放到一个容器中，将其附加到订单的末尾。你可以做更多的事情来允许你自己明确地选择你想要放在中间的元素。</p><p id="1443" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这是有意义的，我设法实际上帮助你学习一个新的有趣的编码特性。我现在要出去了，因为我现在很担心别人会怎么看这篇博文，我必须恢复。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="lg jj l"/></div></figure></div></div>    
</body>
</html>