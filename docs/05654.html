<html>
<head>
<title>Navigating to the ‘Home’ Page in a Single Page Application (SPA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在单页应用程序(SPA)中导航到“主页”</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/navigating-to-the-home-page-in-a-single-page-application-spa-5276d3f858dc?source=collection_archive---------27-----------------------#2021-07-27">https://medium.com/geekculture/navigating-to-the-home-page-in-a-single-page-application-spa-5276d3f858dc?source=collection_archive---------27-----------------------#2021-07-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/60b6c7ef9ca8765d8730550b92ff0132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w_pa60pAXm7e--Le"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@withluke?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luke Stackpoole</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0954" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">决定重访一个古老的温泉项目。一切正常。单击一个项目，它会调出与之相关的图像和数据。单击另一个项目，它会被与该链接相关联的新图像和数据所替换，依此类推。困扰我的一件事是我不能返回‘主页’；最初看到的主页。</p><p id="33b1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为是SPA，所以只有一个url路径。点击链接和其他东西不会把你带到一个新的页面。它只是替换一页上的内容。所以，也没有点击浏览器上的“后退”按钮。</p><p id="660a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">回到“主页”的能力并不重要，但这可能会在未来发生变化，这取决于我可能会在那里放什么信息。或者，可以放在那里。而且，我只是想拥有一个完整的圈子，能够像大多数设计良好的网站所能做到的那样，返回到那个“主页”,从而感到安定。</p><h2 id="9a4a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">寻找答案</h2><p id="c087" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">这个SPA前端使用普通的JavaScript，后端使用Ruby。为了加载所有内容，我在开始时调用了两个函数，它们获取所有数据并使其开始运行。这很有趣，就像战略性地建立多米诺骨牌..一个功能带动其他功能。设置事件回调和按钮。</p><p id="4090" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不管怎样，我做了一些研究，建议使用pushstate和popstate进入历史，手动放入你想去的主页。我不知道为什么这个问题会出现这么多，因为我有一个没有任何历史可以操纵的水疗中心。根据浏览器显示，所有事情都发生在一个页面上。</p><p id="2125" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另一个搜索结果建议将我所有的可点击项目链接到一个URL路径。理论上听起来很棒。如果我希望用户能够用特定的图像和数据为特定的路线添加书签，这可能是一个长期的好做法。</p><p id="4b36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想要的功能非常简单，我现在不想弄乱路线。我只是想能够点击我的标志在顶部，并再次显示'主页'。简单。</p><p id="c6e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，我认为我很聪明，构建了一个函数，这个函数将重新调用最初的两个函数，这两个函数将获取所有数据并再次设置所有内容。我想我得到了一个CORS错误？它不喜欢同一页面上的点击请求已经在SPA中的数据和图像。所以它标记了它。</p><p id="4f8f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这让我开始思考。我不想制作路线和路径，这样我就可以建立一个复杂的系统来跟踪历史或可以直接导航到的独特页面。我基本上只是想要一个页面刷新，所以一切都回到原来的状态。这是我希望我能意外触发它的时刻之一。</p><p id="078f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在查找如何在SPA中触发页面刷新时，我发现了另一个复杂的解决方案，其中每5分钟就会有一个函数检查manifest.json文件中的“last-modified”时间戳是否与localstorage中存储的内容相匹配。如果是这样，当用户离开并改变路线时，它刷新页面。这很棒，但是比我现在想要的简单的水疗要复杂。</p><p id="b524" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有用的一点:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="614e" class="jt ju hi ky b fi lc ld l le lf">window.location.reload( )</span></pre><p id="e15e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">到目前为止，我已经在window.history上看到了很多，但没有在“位置”上看到。根据<a class="ae iu" href="https://www.w3schools.com/js/js_window_location.asp" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> W3 Schools </strong> </a>的说法，它是一个“可用于获取当前页面地址(URL)并将浏览器重定向到新页面”的对象</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/77b5fca5697831ae284fb9f9f7bdbc43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sAkTMkcfzF6xAgQ_bbn5lQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">window.location.reload( ) used in a simple function</figcaption></figure><h2 id="9c96" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">未来用途</h2><p id="fa40" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">所有这些挖掘只是为了让一小段代码工作。编码的乐趣！💻</p><p id="ad80" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">至少我在这个过程中学到了一些其他的东西，这些东西对未来的复杂项目是有用的。</p><p id="0b00" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">还有，有一个一直困扰我的bug‘window . location . reload()’或许可以修复。每当我编辑一个项目并保存更改时，项目名称会被添加到我已显示的列表的底部，同时显示的还有已经存在的原始项目。如果点击了错误的按钮，就会抛出一个错误。也许，如果我能在保存更改时强制刷新，一切都会如我所愿。</p><h2 id="3a31" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">其他资源</h2><div class="lh li ez fb lj lk"><a href="https://blog.pshrmn.com/how-single-page-applications-work/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">博客. pshrmn</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">blog.pshrmn浏览器API如何启用单页应用程序的概述2018 M04 11单页应用程序(SPA)…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">blog.pshrmn.com</p></div></div><div class="lt l"><div class="lu l lv lw lx lt ly io lk"/></div></div></a></div><div class="lh li ez fb lj lk"><a href="https://www.fieldexit.com/forum/display?threadid=208" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">在单页应用程序(SPA)网站上使用后退和前进按钮-FieldExit.com</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">最近BVSTools上线了他们的移动/响应网站。我们此时决定将其设置为单个…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">www.fieldexit.com</p></div></div><div class="lt l"><div class="lz l lv lw lx lt ly io lk"/></div></div></a></div><div class="lh li ez fb lj lk"><a href="https://frontendjournal.com/html5-pushstate-and-single-page-apps/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">HTML5推送状态和单页应用程序-前端主控</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">想象一下你有一个单页应用程序的情况。你开始摆弄它，经过一些动作后，你…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">frontendjournal.com</p></div></div><div class="lt l"><div class="ma l lv lw lx lt ly io lk"/></div></div></a></div><div class="lh li ez fb lj lk"><a href="https://love2dev.com/blog/5-single-page-app-best-practices/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">5单页应用程序(SPA)最佳实践</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">客户对客户端应用程序体验有很高的期望。关于本地人之间的争论已经写了很多…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">love2dev.com</p></div></div><div class="lt l"><div class="mb l lv lw lx lt ly io lk"/></div></div></a></div><div class="lh li ez fb lj lk"><a href="https://www.kotive.com/product-updates/how-to-refresh-a-single-page-application/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">如何刷新单页应用程序(SPA)</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">Kotive web应用程序每5分钟向服务器发送一次脉冲，以检查应用程序的任何新版本是否已在…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">www.kotive.com</p></div></div><div class="lt l"><div class="mc l lv lw lx lt ly io lk"/></div></div></a></div><div class="lh li ez fb lj lk"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/location" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">window . location-Web API | MDN</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">Window.location只读属性返回一个包含文档当前位置信息的对象…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">developer.mozilla.org</p></div></div><div class="lt l"><div class="md l lv lw lx lt ly io lk"/></div></div></a></div></div></div>    
</body>
</html>