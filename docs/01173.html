<html>
<head>
<title>React useState: A Recap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应使用状态:概述</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/react-usestate-a-recap-79552ee35e2d?source=collection_archive---------19-----------------------#2021-03-30">https://medium.com/geekculture/react-usestate-a-recap-79552ee35e2d?source=collection_archive---------19-----------------------#2021-03-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8933e4fa3854e49902a096a7f2866351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y6C4nSvy2Woe0m7bWEn4BA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">React js</figcaption></figure><p id="969d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在过去的几个月里，我一直在钻研<strong class="iw hj"> React </strong>并构建了一些简单的应用程序。我一直很难理解的一个概念是<strong class="iw hj">反应状态</strong>。我最近偶然发现了一个很好的<a class="ae js" href="https://www.youtube.com/watch?v=4pO-HcG2igk&amp;list=PL4cUxeGkcC9gZD-Tvwfod2gaISzfRiP9d&amp;index=8" rel="noopener ugc nofollow" target="_blank">教程</a>(我强烈推荐)很清楚地解释了这个问题。在这篇简短的文章中，我将尝试总结我在跟随教程的过程中学到的最重要的概念，以便对其他人也有所帮助:-)</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h2 id="437d" class="ka kb hi bd kc kd ke kf kg kh ki kj kk jf kl km kn jj ko kp kq jn kr ks kt ku bi translated">React中的状态是什么？组件的状态是在特定时间在我们的组件中使用和呈现的数据。</h2><p id="653e" class="pw-post-body-paragraph iu iv hi iw b ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn kz jp jq jr hb bi translated">在下面的代码中，我们创建了一个变量(iceCreamFlavor ),并赋予它一个初始值“chocolate”。这个变量在我们的组件模板中使用花括号{iceCreamFlavor}呈现。我们希望通过点击“点击我”按钮，冰淇淋的口味会从“巧克力”变成“草莓”…毕竟这就是handleClick功能的作用…</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="67db" class="ka kb hi lf b fi lj lk l ll lm">const MyComponent = () =&gt; {</span><span id="3748" class="ka kb hi lf b fi ln lk l ll lm">let iceCreamFlavor = "chocolate";</span><span id="b596" class="ka kb hi lf b fi ln lk l ll lm">const handleClick = () =&gt; {<br/>iceCreamFlavor = "strawberry";<br/>};</span><span id="7b04" class="ka kb hi lf b fi ln lk l ll lm">return (<br/>&lt;div className="container-style"&gt;<br/>&lt;h2&gt;Ice cream flavor&lt;/h2&gt;<br/>&lt;p&gt;{iceCreamFlavor}&lt;/p&gt;<br/>&lt;button onClick={handleClick}&gt;Click me&lt;/button&gt;<br/>&lt;/div&gt;<br/>);<br/>};</span></pre><p id="451a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">而且……没有。当我们点击时，什么也没有发生。有趣的是，如果我们在点击按钮后登录iceCreamFlavor，值确实从“巧克力”变成了“草莓”,但只是在控制台中。</p><p id="8565" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">该值会更改，但不会呈现给组件。为什么会这样呢？</p><p id="3c9d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">这是因为iceCreamFlavor不是一个反应变量，因此它的变化不会触发React来重新呈现组件模板。</strong></p><p id="a9e2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">为了使值具有反应性，我们需要使用useState钩子，这是一种特殊类型的函数。</strong></p><p id="5ad5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通过写:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="5731" class="ka kb hi lf b fi lj lk l ll lm">useState("chocolate")</span></pre><p id="85b1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以让“巧克力”这个值起反应。</p><p id="db1e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">“chocolate”是使用花括号在组件内部呈现的初始值。但是钩子还没有完成。为了最终完成，我们还需要:</p><ol class=""><li id="c036" class="lo lp hi iw b ix iy jb jc jf lq jj lr jn ls jr lt lu lv lw bi translated">存储该值的“位置”。在这种情况下，我们将使用“iceCreamFlavor”(注意，这个变量名是任意的)。</li><li id="a3ce" class="lo lp hi iw b ix lx jb ly jf lz jj ma jn mb jr lt lu lv lw bi translated">负责更新值“iceCreamFlavor”的函数，在本例中为“setIceCreamFlavor”。通常函数名以“set”开头，后面是我们要更新的内容的名称。</li></ol><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="e4f0" class="ka kb hi lf b fi lj lk l ll lm">const [iceCreamFlavor, setIceCreamFlavor] = useState(“chocolate”)</span></pre><p id="0af2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，在开始时，当我们第一次呈现组件时，iceCreamFlavor变量的值是“chocolate”。<strong class="iw hj"> setIceCreamFlavor触发模板重新呈现，允许用户看到更新后的值。</strong></p><p id="2d4f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果我们将挂钩添加到代码中，最终的代码将如下所示:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="b37f" class="ka kb hi lf b fi lj lk l ll lm">const Home = () =&gt; {<br/>  const [iceCreamFlavor, setIceCreamFlavor] = useState(“chocolate”)<br/>  <br/>  const handleClick = () =&gt; {<br/>    setIceCreamFlavor("strawberry");<br/>  };</span><span id="0e10" class="ka kb hi lf b fi ln lk l ll lm">return (<br/> &lt;div className="container-style"&gt;<br/> &lt;h2&gt;Ice cream flavor&lt;/h2&gt;<br/> &lt;p&gt;{iceCreamFlavor}&lt;/p&gt;<br/> &lt;button onClick={handleClick}&gt;Click me&lt;/button&gt;<br/> &lt;/div&gt;<br/> );<br/>};</span></pre><p id="58ec" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当我们点击“点击我”按钮时:</p><ol class=""><li id="2c42" class="lo lp hi iw b ix iy jb jc jf lq jj lr jn ls jr lt lu lv lw bi translated">handleClick函数被激发。</li><li id="e79b" class="lo lp hi iw b ix lx jb ly jf lz jj ma jn mb jr lt lu lv lw bi translated">setIceCreamFlavor也被触发，这将把冰淇淋的味道从“巧克力”改为“草莓”,同时也触发了模板的重新渲染。</li></ol><p id="19c0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们现在可以看到，浏览器中的冰淇淋口味已经发生了变化。！</p><p id="5c36" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">关于这个钩子的几个旁注:</p><ul class=""><li id="32d0" class="lo lp hi iw b ix iy jb jc jf lq jj lr jn ls jr mc lu lv lw bi translated">在一个组件中，我们可以任意多次使用useState。</li><li id="7bc6" class="lo lp hi iw b ix lx jb ly jf lz jj ma jn mb jr mc lu lv lw bi translated">为了使用这个钩子，需要在组件的开头导入它，如下所示:</li></ul><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="4dca" class="ka kb hi lf b fi lj lk l ll lm">import { useState } from “react”;</span></pre><p id="1730" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">useState的另一个用例可能是，例如，每当我们想从页面中删除一个元素时。假设我们触发一个函数从列表中删除一个项目，在这种情况下，我们需要将该值设置为reactive，这样React将重新呈现包含我们的列表的页面，而不显示我们删除的项目。</p><p id="e148" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我希望这篇文章能帮助你更好地理解使用状态的概念。今后，随着我作为前端开发人员的职业生涯的进展，我会努力写更多这样的文章:-)。</p></div></div>    
</body>
</html>