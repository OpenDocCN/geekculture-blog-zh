<html>
<head>
<title>Swift Initializers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速初始化器</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swift-initializers-99423426624b?source=collection_archive---------18-----------------------#2022-01-13">https://medium.com/geekculture/swift-initializers-99423426624b?source=collection_archive---------18-----------------------#2022-01-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/9ad3ed6563aecd767cd27014b1d2e77d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jDNFnm9MjEmET_6_L08wOg.png"/></div></div></figure><div class=""/><p id="f8d8" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">初始化器就像特殊的方法，可以被调用来创建一个特定类型的新实例。</p><p id="2d97" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">苹果文档:</strong></p><p id="1775" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="jp">初始化</em>是准备一个类、结构或枚举的实例以供使用的过程。这个过程包括为该实例上的每个存储属性设置一个初始值，并在新实例准备就绪之前执行任何其他所需的设置或初始化。</p><p id="c247" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在创建类或结构的实例时，类和结构<em class="jp">必须</em>将它们所有存储的属性设置为适当的初始值。<strong class="it hu"> <em class="jp">存储的属性不能处于不确定状态</em> </strong>。</p><p id="994d" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">简单的初始化器语法</strong></p><p id="e070" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">init() {</p><p id="67c5" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">//在这里执行一些初始化</p><p id="e82f" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">}</p><blockquote class="jq jr js"><p id="83f3" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">类别人员{</p><p id="fb02" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var名称:字符串</p><p id="24e9" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var年龄:Int</p><p id="7002" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var地址:字符串</p><p id="45f0" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p></blockquote><p id="43a1" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">编译器错误:类person没有初始值设定项。</p><p id="db09" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu"> <em class="jp">这里默认的初始化式来自</em> </strong></p><p id="9fc6" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Swift为任何结构或类提供了一个<em class="jp">缺省初始化器</em>，为其所有属性提供缺省值，并且本身不提供至少一个初始化器。默认初始化器只是创建一个新的实例，它的所有属性都设置为默认值。</p><blockquote class="jq jr js"><p id="3c3a" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">类别人员{</p><p id="f1b1" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var name:String = "Atmaja "</p><p id="9219" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var年龄:Int？</p><p id="e143" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var地址:字符串？</p><p id="af01" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="4feb" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var myPerson = Person()</p></blockquote><p id="418f" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">定制初始化</strong></p><p id="b19d" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">根据我们的要求，我们可以有不止一个初始化器，有不同的参数名、类型等..</p><blockquote class="jq jr js"><p id="cb41" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">结构人类{</p><p id="8789" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var性别:字符串</p><p id="0201" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var age:Int = 10</p><p id="0ba5" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">init(gender:String) { //初始值设定项1</p><p id="d4c9" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.gender =性别</p><p id="9cb6" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="3d52" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">init(age:Int) { //初始值设定项2</p><p id="831f" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">年龄=年龄</p><p id="d15e" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.gender = "Female "</p><p id="b609" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="64c3" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">init(age:Int，gender:Gender) { //初始值设定项3</p><p id="b213" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">年龄=年龄</p><p id="95a1" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.gender =性别</p><p id="6c0b" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="c937" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p></blockquote><p id="1aba" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">输出:</strong></p><p id="8651" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让人类=人类(性别:“男性”)</p><p id="a2f2" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让人类2 =人类(年龄:20)</p><p id="1f76" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让人类3 =人类(年龄:40，性别:“男性”)</p><p id="0a62" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">swift编译器将根据参数标签决定调用哪个init方法。</strong></p><p id="ea2b" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">指定初始化器和便利初始化器</strong></p><p id="ed61" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Swift为类类型定义了两种初始化器，以帮助确保所有存储的属性都接收初始值。</p><ul class=""><li id="b91d" class="jw jx ht it b iu iv iy iz jc jy jg jz jk ka jo kb kc kd ke bi translated"><strong class="it hu">指定初始值</strong></li><li id="de15" class="jw jx ht it b iu kf iy kg jc kh jg ki jk kj jo kb kc kd ke bi translated"><strong class="it hu">方便的初始化器</strong></li></ul><p id="7d5b" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">指定的初始化器是一个类的主初始化器。指定的初始化器完全初始化由该类引入的所有属性，并调用适当的超类初始化器继续超类链的初始化过程。</p><p id="aca4" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">每个类应该至少有一个指定的初始化器。</p><p id="2ff3" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">初始化(参数，如果有){</p><p id="c613" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">//在这里执行一些初始化</p><p id="478e" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">}</p><p id="f06f" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="jp">便利的初始化器</em>是第二级的，支持类的初始化器。我们可以定义一个方便的初始化器，从与方便初始化器相同的类中调用一个指定的初始化器，其中一些指定的初始化器的参数设置为默认值。我们还可以定义一个方便的初始化器，为特定的用例或输入值类型创建该类的实例。</p><p id="147b" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">便利初始化(_参数，如果有的话_ ) {</p><p id="208b" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">}</p><blockquote class="jq jr js"><p id="964c" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">类别人员{</p><p id="e35d" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var名称:字符串</p><p id="14f2" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var年龄:Int</p><p id="1f8e" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><em class="ht"> v </em> ar地址:字符串</p><p id="2938" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">init(名称:字符串，年龄:整数，地址:字符串){</p><p id="0b21" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.name = name</p><p id="3f8f" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">年龄=年龄</p><p id="43e4" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">Self.address =地址</p><p id="e6df" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="cd99" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">便利初始化(){</p><p id="ae4b" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.init(名字:“Atmaja”，年龄:100，地址:“Bangalore”)//便利性init必须调用指定的init方法</p><p id="4781" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="c2bc" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p></blockquote><p id="a11a" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让personObj1 = HumanBeing() //调用便利初始化</p><p id="eae3" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让personObj2 = HumanBeing(姓名:“阿特玛嘉”，年龄:20，地址:“地球上的某个地方”)//调用指定的init</p><p id="161a" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">//在这里，当方便初始化被调用时，它创建一个默认的人，当指定初始化被调用时，它根据需要创建一个人。</p><p id="719d" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">覆盖初始化器</strong></p><p id="7bea" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在Swift中，默认情况下子类不会继承初始化器。如果我们想为父类已经拥有的子类提供相同的初始化器，我们必须使用override关键字<strong class="it hu">。</strong></p><blockquote class="jq jr js"><p id="77cd" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">类点{</p><p id="dcdc" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">设x: Int</p><p id="dbd3" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">让y: Int</p><p id="cbcf" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">init(x: Int，y: Int) {</p><p id="2603" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.x = x</p><p id="258e" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.y = y</p><p id="d1ce" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="a118" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="f9eb" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">类名点:点{</p><p id="2c01" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">让标签:字符串？</p><p id="943b" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">覆盖init(x: Int，y: Int) {</p><p id="ee64" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.label =零</p><p id="68bc" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">super.init(x: x，y: y)</p><p id="9282" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="7592" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="714a" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">设p1 =命名点(x: 1，y: 1)</p></blockquote><p id="e59d" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">超级初始化:</strong></p><p id="77bb" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">是的，指定的初始化器需要向上委托，所以它必须调用super.init()。如果我们不写这一行，编译器会替我们写。</p><p id="04fb" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">所以我们不必显式地编写super.init(…)，但是子类必须这样做，即使只是在幕后。</p><p id="df3c" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">但是记住，在第一阶段我们需要在子类中设置属性，然后必须调用super.init()。在第二阶段，我们可能会改变所有继承的属性。</p><blockquote class="jq jr js"><p id="1366" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu">类</strong>基类{</p><p id="7acf" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu"> var </strong>值:字符串</p><p id="b7e3" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu">初始化</strong> () {</p><p id="a765" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">value = "你好"</p><p id="9a13" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">打印(价值+“艾伯特”)</p><p id="3265" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="2785" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="1043" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu">类</strong>子类:基类{</p><p id="af33" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu"> var </strong> subVar : String</p><p id="c8c6" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">让subInt : Int</p><p id="7cf0" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu">覆盖</strong>初始化<strong class="it hu">初始化</strong> () {</p><p id="1ea6" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">subVar = "world "</p><p id="61f5" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">subInt =2022</p><p id="febc" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hu">超</strong>。初始化()</p><p id="0f8a" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">value = "Namskar" //可选，更改超类的值</p><p id="b7fd" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">print(value+"Albert") //输出Namskar Albert</p><p id="d756" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="1a52" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p></blockquote><h2 id="ca83" class="kk kl ht bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le bi translated"><strong class="ak">失败的初始化器</strong></h2><p id="e963" class="pw-post-body-paragraph ir is ht it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hb bi translated">一个失败的初始化器创建一个它初始化的类型的可选值。Wewrite在一个失败的初始化器中返回nil，以指示初始化失败可能被触发的点。即；如果一个条件失败，我们可以返回零。我</p><blockquote class="jq jr js"><p id="1f5d" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">结构点{</p><p id="2dd8" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">设x: Int</p><p id="cc03" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">让y: Int</p><p id="d7d6" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">初始化？(x: Int，y: Int) { //？标志着这可能会失败</p><p id="3821" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">如果x = = 0 &amp; &amp; y = = 0 {</p><p id="0080" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">返回零</p><p id="2021" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="3780" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.x = x</p><p id="bf3e" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">self.y = y</p><p id="759c" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="d1d7" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="8371" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">设p1 = Point(x: 0，y: 0) // nil</p><p id="08c1" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">设p2 = Point(x: 1，y: 1) //有效点</p></blockquote><p id="cab3" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">必需的初始值</strong></p><p id="53ce" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在一个类初始化器的定义前写一个<code class="du lk ll lm ln b">required</code>修饰符，表明这个类的每个子类都必须实现这个初始化器。</p><p id="acb8" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们还必须在所需初始化器的每个子类实现之前编写<code class="du lk ll lm ln b">required</code>修饰符，以表明初始化器需求适用于链中的其他子类。当重写一个必需的指定初始化器时，我们不写<code class="du lk ll lm ln b">override</code>修饰符。</p><p id="22a5" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">默认情况下，子类不继承它们的超类初始化器。但是，如果满足某些条件，超类初始值设定项会被自动继承。在实践中，这意味着我们不需要在许多常见的场景中编写初始化器重写，并且只要这样做是安全的，就可以用最少的努力来继承我们的超类初始化器。</p><p id="7e80" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">假设我们为子类中引入的任何新属性提供了默认值，则以下两条规则适用:</p><p id="000b" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果我们的子类没有定义任何指定的初始化器，它会自动继承它的父类的所有指定的初始化器。</p><p id="6f4a" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu">规则2 </strong>如果我们的子类提供了其所有超类指定初始化器的实现——要么按照规则1继承它们，要么提供一个自定义实现作为其定义的一部分——那么它会自动继承所有超类便利初始化器。</p><blockquote class="jq jr js"><p id="a92d" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">classA {</p><p id="f13c" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">必需的init() {</p><p id="ce8d" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var a = 10</p><p id="8ab6" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">打印(一份)</p><p id="3332" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="e413" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="4bd6" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">classB: classA {</p><p id="858f" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">必需的init() {</p><p id="3159" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">var b = 30</p><p id="344c" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">打印(b)</p><p id="1dc5" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="c128" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="9d92" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">class classC: classA {</p><p id="4c80" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi">}</p><p id="eb39" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">let objA = classA()</p><p id="53e1" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">设objB = classB()</p><p id="8123" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">让objC = classC()</p></blockquote><p id="b197" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">输出:</p><p id="c9e1" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">10</p><p id="2bf0" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">30</p><p id="3aa6" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">10</p><p id="14cf" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi">10</p><p id="3bb4" class="pw-post-body-paragraph ir is ht it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hu"> <em class="jp">快乐编码……</em></strong></p></div></div>    
</body>
</html>