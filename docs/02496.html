<html>
<head>
<title>Python Series: The Power of Range Function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python系列:范围函数的威力</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/python-series-the-power-of-range-function-bb0de763eb0e?source=collection_archive---------20-----------------------#2021-05-17">https://medium.com/geekculture/python-series-the-power-of-range-function-bb0de763eb0e?source=collection_archive---------20-----------------------#2021-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/08112e71c316a6e6786e27505844e218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C1JH7VwDiNDsWkd6JjOFIA.jpeg"/></div></div></figure><p id="82ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一次一个函数地揭开Python的神秘面纱。Python是一种美丽而强大的编码语言，我将分解其中的一些函数，让你更好地理解它们能做什么。在本文中，我将介绍python中的range函数以及您可以用它做的强大的事情。这是本系列的第一篇文章，我希望您会喜欢阅读和实现这些代码。</p><p id="7dfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">范围</strong>()是<strong class="is hj"> Python的内置函数。</strong>默认情况下<strong class="is hj">范围</strong>()函数返回一个数字序列，默认情况下从0开始，递增1(默认情况下)，在指定的数字前停止。range类型表示一个不可变的数字序列，通常用于在for循环中循环特定的次数。</p><h2 id="c0fd" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">选择你的战士:</h2><p id="e0da" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated"><strong class="is hj">类</strong>范围(停止)<br/>类<strong class="is hj">范围(开始、停止[、步进])</strong></p><p id="b709" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">示例:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="e0d8" class="jo jp hi kt b fi kx ky l kz la">for i in range(5):<br/>    print(i)</span><span id="df38" class="jo jp hi kt b fi lb ky l kz la">....................Output...............<br/>0<br/>1<br/>2<br/>3<br/>4</span></pre><p id="90fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的例子中，你会注意到指定的数字没有被指定。这是因为您告诉for循环遍历0–5范围内的所有数字，而不打印5。它将在指定的次数处停止迭代。给定的数字绝不是生成序列的一部分。所以基本上<em class="lc"> range(5) </em>生成5个值<em class="lc"> range(10) </em>生成10个值；长度为指定数的序列中项目的合法索引。</p><p id="21dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">可以让范围从另一个数字开始，或者指定一个不同的增量(甚至是负数；这被称为“步骤”)。</p><p id="edbe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">示例:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="4a35" class="jo jp hi kt b fi kx ky l kz la">#when you specify two numbers in the range function, it sees the #first number as start number i.e start from the range of this #number and include it, and the second number as end number i.e end #the range here but don't include this number.</span><span id="ffdc" class="jo jp hi kt b fi lb ky l kz la">for i in range(5, 10):<br/>    print(i)</span><span id="1763" class="jo jp hi kt b fi lb ky l kz la">....................Output..................<br/>5<br/>6<br/>7<br/>8<br/>9<br/>............................................<br/>#when you specify three numbers in the range function, the last #number is considered step; increment by the last number instead of #the default which is one.</span><span id="36d8" class="jo jp hi kt b fi lb ky l kz la">for i in range(0, 10, 3):<br/>    print(i)</span><span id="6915" class="jo jp hi kt b fi lb ky l kz la">......................Output...................<br/>0<br/>3<br/>6<br/>9<br/>...............................................<br/>#you can also do increment for negative numbers</span><span id="7c09" class="jo jp hi kt b fi lb ky l kz la">for i in range(0, -10, -3):<br/>    print(i)</span><span id="aaa1" class="jo jp hi kt b fi lb ky l kz la">.....................Output....................<br/>0<br/>-3<br/>-6<br/>-9<br/>...............................................</span><span id="15fe" class="jo jp hi kt b fi lb ky l kz la">for i in range(-10, -100, -30):<br/>    print(i)</span><span id="0be4" class="jo jp hi kt b fi lb ky l kz la">......................Output....................<br/>-10<br/>-40<br/>-70<br/>................................................</span></pre><p id="b14d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你在range函数内加上四个数字…你自己…实际上，你会得到这个:</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/4ef3a9327a688de7b58f035e1f038fa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*eBgpTGur9cWbj316LYcFqg.png"/></div></figure><p id="1e9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要迭代序列的索引，可以将<em class="lc"> range() </em>和<a class="ae le" href="https://www.guru99.com/python-string-length-len.html#:~:text=len()%20is%20a%20built,provide%20the%20number%20of%20elements." rel="noopener ugc nofollow" target="_blank"> <em class="lc"> len() </em> </a>组合起来，如下所示:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="6765" class="jo jp hi kt b fi kx ky l kz la">a = ['reader', 'is', 'doing', 'amazingly', 'well']<br/><strong class="kt hj">for</strong> i <strong class="kt hj">in</strong> range(len(a)):<br/>   print(i, a[i])</span><span id="201f" class="jo jp hi kt b fi lb ky l kz la">.....................Output......................<br/>0 reader<br/>1 is<br/>2 doing<br/>3 amazingly<br/>4 well<br/>..................................................<br/>#a[i] is indexing the list a with the number i</span></pre><p id="000c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果只打印一个范围，会发生奇怪的事情:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="80f0" class="jo jp hi kt b fi kx ky l kz la">print(range(10))</span><span id="25cf" class="jo jp hi kt b fi lb ky l kz la">........................Output...............<br/>range(0, 10)<br/>.............................................</span></pre><p id="4a0f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在许多方面，由<code class="du lf lg lh kt b"><em class="lc">range()</em></code>返回的对象表现得好像它是一个列表，但事实上，它不是。它是一个对象，当你对它进行迭代时，它返回所需序列的连续项，但是它并不真正生成列表，因此节省了空间。</p><p id="741c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们说这样一个对象是<a class="ae le" href="https://docs.python.org/3/glossary.html#term-iterable" rel="noopener ugc nofollow" target="_blank"> iterable </a>，也就是说，它适合作为函数和构造的目标，这些函数和构造期望从某个对象获得连续的项目，直到供应耗尽。我们已经看到，<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/reference/compound_stmts.html#for" rel="noopener ugc nofollow" target="_blank">for</a></code>语句就是这样一个构造，而采用iterable的函数的一个例子是<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/library/functions.html#sum" rel="noopener ugc nofollow" target="_blank">sum()</a></code>:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="d1a0" class="jo jp hi kt b fi kx ky l kz la">print(sum(range(4)))  # 0 + 1 + 2 + 3</span><span id="f217" class="jo jp hi kt b fi lb ky l kz la">....................Output.................</span><span id="6537" class="jo jp hi kt b fi lb ky l kz la">6<br/>..........................................</span></pre><p id="231a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与常规列表或元组相比，range类型的优势在于range对象将始终占用相同(少量)的内存，而不管它所代表的范围大小(因为它只存储开始、停止和步长值，根据需要计算单个项目和子范围)。</p><p id="d629" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Range对象提供了包含测试、元素索引查找、切片和对负索引的支持等功能。</p><p id="e536" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">示例:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="7e5a" class="jo jp hi kt b fi kx ky l kz la">r = range(0, 20, 2)</span><span id="4d1d" class="jo jp hi kt b fi lb ky l kz la">#if 11 is in the range of the numbers above print True otherwise #print False</span><span id="925b" class="jo jp hi kt b fi lb ky l kz la">print(11 in r)<br/>...........Output..........<br/>False<br/>...........................</span><span id="f635" class="jo jp hi kt b fi lb ky l kz la">#if 10 is in the range of the numbers above print True otherwise #print False</span><span id="9e7c" class="jo jp hi kt b fi lb ky l kz la">print(10 in r)<br/>..................Output.......<br/>True<br/>...............................</span><span id="3c51" class="jo jp hi kt b fi lb ky l kz la">#print the index of the number 10 in the range above</span><span id="855d" class="jo jp hi kt b fi lb ky l kz la">print(r.index(10))<br/>..................Output.......<br/>5<br/>...............................</span><span id="d51d" class="jo jp hi kt b fi lb ky l kz la">#print the number in the position of 5 in the range of values we have in the variable r</span><span id="7088" class="jo jp hi kt b fi lb ky l kz la">print(r[5])<br/>..................Output..........<br/>10<br/>..................................</span><span id="0e75" class="jo jp hi kt b fi lb ky l kz la">#print the numbers that is indexed from the start position to index of 5</span><span id="a8cb" class="jo jp hi kt b fi lb ky l kz la">print(r[:5])<br/>...............Output..............<br/>range(0, 10, 2)<br/>...................................</span><span id="e1c2" class="jo jp hi kt b fi lb ky l kz la">#print the last number of r</span><span id="a58b" class="jo jp hi kt b fi lb ky l kz la">print(r[-1])</span><span id="a9f0" class="jo jp hi kt b fi lb ky l kz la">...............Output................<br/>18<br/>.....................................</span></pre><p id="9195" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">范围实现了除串联和重复之外的所有<a class="ae le" href="https://docs.python.org/3/library/stdtypes.html#typesseq-common" rel="noopener ugc nofollow" target="_blank">常见的</a>序列操作(因为范围对象只能表示遵循严格模式的序列，而重复和串联通常会违反该模式)。</p><p id="b1e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您也可以使用range的反转功能；它从后面执行操作</p><p id="6f47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">示例:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="ec18" class="jo jp hi kt b fi kx ky l kz la">for i in reversed(range(8)):<br/>    print(i)</span><span id="956a" class="jo jp hi kt b fi lb ky l kz la">....................Output..............<br/>7<br/>6<br/>5<br/>4<br/>3<br/>2<br/>1<br/>0<br/>........................................</span></pre><p id="cad1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，也许你对如何从一个范围中获取一个列表感到好奇。以下是解决方案:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="ce94" class="jo jp hi kt b fi kx ky l kz la">print(list(range(10)))</span><span id="93b9" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]<br/>............................................</span><span id="a573" class="jo jp hi kt b fi lb ky l kz la">print(list(range(1, 11)))</span><span id="2c89" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]<br/>............................................</span><span id="be2e" class="jo jp hi kt b fi lb ky l kz la">print(list(range(0, 30, 5)))</span><span id="175a" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[0, 5, 10, 15, 20, 25]<br/>............................................</span><span id="993f" class="jo jp hi kt b fi lb ky l kz la">print(list(range(0, 10, 3)))</span><span id="ab71" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[0, 3, 6, 9]<br/>............................................</span><span id="7c98" class="jo jp hi kt b fi lb ky l kz la">print(list(range(0, -10, -1)))</span><span id="4bce" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[0, -1, -2, -3, -4, -5, -6, -7, -8, -9]<br/>............................................</span><span id="6959" class="jo jp hi kt b fi lb ky l kz la">print(list(range(0)))</span><span id="3a18" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[]<br/>............................................</span><span id="1d40" class="jo jp hi kt b fi lb ky l kz la">print(list(range(1, 0)))</span><span id="284f" class="jo jp hi kt b fi lb ky l kz la">.....................Output.................<br/>[]<br/>............................................</span></pre><h2 id="e13e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">需要牢记的事情</strong></h2><ul class=""><li id="eeb0" class="li lj hi is b it kj ix kk jb lk jf ll jj lm jn ln lo lp lq bi translated">范围构造函数的参数必须是整数(要么是内置的<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/library/functions.html#int" rel="noopener ugc nofollow" target="_blank">int</a></code>，要么是任何实现了<code class="du lf lg lh kt b">__index__</code>特殊方法的对象)。如果省略<em class="lc">步骤</em>参数，则默认为<code class="du lf lg lh kt b">1</code>。如果省略<em class="lc">开始</em>参数，则默认为<code class="du lf lg lh kt b">0</code>。如果<em class="lc">步骤</em>被写成数字0，<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/library/exceptions.html#ValueError" rel="noopener ugc nofollow" target="_blank">ValueError</a></code>上升。</li><li id="0a26" class="li lj hi is b it lr ix ls jb lt jf lu jj lv jn ln lo lp lq bi translated">对于正<em class="lc">步</em>，范围<code class="du lf lg lh kt b">r</code>的内容由公式<code class="du lf lg lh kt b">r[i] = start + step*i</code>确定，其中<code class="du lf lg lh kt b">i &gt;= 0</code>和<code class="du lf lg lh kt b">r[i] &lt; stop</code>。</li><li id="219d" class="li lj hi is b it lr ix ls jb lt jf lu jj lv jn ln lo lp lq bi translated">对于负的<em class="lc">步骤</em>，范围的内容仍然由公式<code class="du lf lg lh kt b">r[i] = start + step*i</code>决定，但是约束是<code class="du lf lg lh kt b">i &gt;= 0</code>和<code class="du lf lg lh kt b">r[i] &gt; stop</code>。</li><li id="8933" class="li lj hi is b it lr ix ls jb lt jf lu jj lv jn ln lo lp lq bi translated">如果<code class="du lf lg lh kt b">r[0]</code>不满足值约束，范围对象将为空。范围确实支持负索引，但是这些被解释为从正索引所确定的序列的末尾开始索引。</li><li id="8a3b" class="li lj hi is b it lr ix ls jb lt jf lu jj lv jn ln lo lp lq bi translated">包含大于<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/library/sys.html#sys.maxsize" rel="noopener ugc nofollow" target="_blank">sys.maxsize</a></code>的绝对值的范围是允许的，但某些特性(如<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/library/functions.html#len" rel="noopener ugc nofollow" target="_blank">len()</a></code>)可能会提高<code class="du lf lg lh kt b"><a class="ae le" href="https://docs.python.org/3/library/exceptions.html#OverflowError" rel="noopener ugc nofollow" target="_blank">OverflowError</a></code>。</li></ul><p id="d724" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢你的阅读，我希望这篇文章能让你学到一两件事。如果您有任何问题，可以发表评论，可以通过电子邮件(minaomobonike@gmail.com)与我联系。</p></div></div>    
</body>
</html>