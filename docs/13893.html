<html>
<head>
<title>Building a Metric to Find the Most Average NHL Player</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立一个标准来找出最普通的NHL选手</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/building-a-model-to-find-the-most-average-nhl-player-5712ccaab0e0?source=collection_archive---------17-----------------------#2022-08-03">https://medium.com/geekculture/building-a-model-to-find-the-most-average-nhl-player-5712ccaab0e0?source=collection_archive---------17-----------------------#2022-08-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2ee0567cdbbe6d724ef6abd21980bd51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lQOlRnxwbPGw9UxB.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Tanner Pearson is the most average NHL player!</figcaption></figure><p id="e9ba" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">谁是NHL最普通的球员？当然是坦纳·皮尔森了！当然可以？是啊！为了回答这个问题，我甚至设计了一个衡量这个质量的标准。我称之为<em class="js">平均化</em>度量。</p><p id="4d93" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">构建平均性度量的代码可以在Gitlab的<a class="ae jt" href="https://gitlab.com/alexistats/most_average_nhl_player" rel="noopener ugc nofollow" target="_blank">这里</a>找到。我使用了两个数据源:2021-2022赛季的NHL基本选手统计数据和2021-2022赛季的NHL选手简历信息。我加入了他们，并使用SQL对他们进行了预处理，以便在Python中作为熊猫数据帧被接收。</p><p id="860f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">事不宜迟，让我们跳进<em class="js">平均</em>的神话世界。</p><h1 id="16d9" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第一步:目标和基本想法</h1><p id="b6fd" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">平均水平指标的目标是捕捉某个玩家与NHL玩家的平均水平有多接近。找出一个球员的平均水平是很容易的。得分目标)，但我真的想找到整体最平均的球员。</p><p id="ab57" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，对于要包含在指标中的每个选择的属性，我决定找到它的平均值和标准偏差。这样，对于每个玩家和属性，我可以找到一个玩家离该属性有多远的绝对值，然后除以它的标准偏差——找到一个玩家离该属性平均值有多少标准偏差。</p><p id="c274" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在是时候介绍这些属性了。</p><h1 id="a862" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤2:特征选择和工程</h1><p id="f0b6" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">在获得数据(实际上是第0步)并为指标设置了一个基本目标后，下一步是决定哪些球员和哪些指标要包含在平均得分中。</p><p id="50b5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我过滤了参加超过41场比赛的玩家的数据集。我的理由是，任何参加NHL赛季大部分比赛的人都必须是那个特定赛季的NHL常客。或者至少是半正规的，我想把它们算在公制里。</p><p id="4756" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从NHL的个人资料中，我发现一个普通的球员应该有一个平均的身高，体重和年龄。毕竟，像兹德诺·查拉和科尔·考菲尔德这样的人分别又高又小，很难归类为“一般”。</p><p id="ee35" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从NHL统计数据集，我喜欢很多功能。我将其中的大部分标准化到“每场比赛”的基础上，让每个人都处于同一水平。我还将“进球”和“助攻”与“得分”分开，这样一个伟大的组织者或伟大的进球者就不可能是一个只基于得分的普通球员。</p><p id="dd81" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以下是我选择的属性列表:</p><ul class=""><li id="fa0d" class="kx ky hi iw b ix iy jb jc jf kz jj la jn lb jr lc ld le lf bi translated">每场比赛的进球</li><li id="6c7f" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">场均助攻数</li><li id="7c11" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi">+/-</li><li id="4d22" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">每场比赛的PIM</li><li id="62cb" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">甚至每场比赛的力量目标</li><li id="37d5" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">场均实力助攻</li><li id="b83c" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">每场比赛的强力进球</li><li id="edd7" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">每场比赛的强力助攻</li><li id="90f9" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">每场比赛人手不足的进球</li><li id="1d5e" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">场均人手不足的助攻</li><li id="104c" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">每场比赛的制胜进球</li><li id="c79c" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">每场比赛投篮次数</li><li id="9cd4" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">ATOI</li><li id="2276" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">高度</li><li id="9548" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">重量</li><li id="770e" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr lc ld le lf bi translated">年龄</li></ul><p id="bc16" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我没有用分数，因为只是简单的增加了进球和助攻。</p><p id="fab5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">此外，由于防守队员和前锋有着完全不同的职责和比赛风格，我对两者分别进行了计算(因此，对前锋和防守队员进行了平均)。过去我甚至进行了一项测试，结果显示前锋和后卫的身高和体重不同，这在0.95的水平上具有统计学意义！</p><p id="18c2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是，足够的准备…是什么让一个球员完美的平均水平？</p><h1 id="7101" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第三步:谁是完美的普通玩家？</h1><p id="3431" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">既然我们的属性已经定义并构建好了，让我们看看每个属性的平均值是多少(为了简单起见，按比例分配到82个游戏)。</p><p id="b0f9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，前锋的平均得分约为19个，或者说其中15个是在力量相当的情况下得分，4个是在力量型打法上得分。他们有26次助攻，20次是力量型的，6次是力量型的，总共45分(他们可能有一个人手不足的点)。我们普通球员的3个致胜球。他们还在82场比赛中罚38分钟，在一个赛季中射门160次。所有这些都是在玩924秒(15分钟)的时候！</p><p id="b583" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">就身高而言，他们刚刚超过6英尺高，体重197磅。他们28岁。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/324b316393acf114a7436539d73e6720.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*pmIrnCJIjPiZ-zAm-yTlKw.png"/></div></figure><p id="f5bf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">防守队员平均能进6个球，其中5个是在力量平衡时进的，1个是在力量型进攻时进的。他们有23次助攻，18次是力量型的，5次是力量型的，总共29分(他们可能有一个人手不足的点)。我们普通球员的1场致胜球。他们还在82场比赛中罚42分钟，在一个赛季中射门125次。所有这些都是在玩1181秒(19.6分钟)的时候！</p><p id="938c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">就身高而言，他们刚刚超过6英尺1英寸高，体重203磅。防守队员的平均年龄比前锋稍大，为28.5岁。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/888d6e210978ff0267259d33ac8dddd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*IIvXXviLCb4sfdp7hEencw.png"/></div></figure><h1 id="3922" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第四步:寻找最普通的玩家</h1><p id="d797" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">现在，这一切都很有趣，但我们仍然不知道谁是NHL中最普通的球员…</p><p id="0a4b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我还找到了每个属性的标准差。对于每个玩家，我检查了每个特征，找到了他们离平均值有多远的绝对值。然后，我将该值除以标准偏差，得到一个代表该玩家与平均值的标准偏差的值:</p><pre class="lm ln lo lp fd lr ls lt lu aw lv bi"><span id="782e" class="lw jv hi ls b fi lx ly l lz ma">dist_from_mean = abs(player_value - mean)/std</span></pre><p id="6f61" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是针对每个指标的，然后我将它们加起来，得到一个单一的<em class="js">平均得分</em>。</p><p id="6127" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我整理了一个10强，10大前锋和10大防守球员:</p><p id="15e3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">综合排名前十:</strong></p><ol class=""><li id="c8b3" class="kx ky hi iw b ix iy jb jc jf kz jj la jn lb jr mb ld le lf bi translated">坦纳·皮尔逊，女:5.1岁</li><li id="0f09" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">里卡德·拉克尔，女:5.7</li><li id="1bc1" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">杰克·罗斯洛维奇，女:5.9</li><li id="9aef" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">乔纳斯·布鲁丁，D: 6.0</li><li id="fa37" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">桑尼·米兰诺，女:6.0</li><li id="32f3" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">特拉维斯·博伊德，女:6.1岁</li><li id="70ac" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">阿尔特姆·祖布，D: 6.2</li><li id="edce" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">卡斯佩里·卡帕宁，女:6.3岁</li><li id="fdd0" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">汉普斯·林德霍尔姆，D: 6.3</li><li id="b3a6" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">布雷特·库拉克，D: 6.4</li></ol><p id="dce9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">前十名:</strong></p><ol class=""><li id="bb8d" class="kx ky hi iw b ix iy jb jc jf kz jj la jn lb jr mb ld le lf bi translated">坦纳·皮尔森:5.1</li><li id="1148" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">里卡德·拉克尔:5.7</li><li id="f912" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">杰克·罗斯洛维奇:5.9</li><li id="71db" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">桑尼·米兰诺:6.0</li><li id="cdde" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">特拉维斯·博伊德:6.1</li><li id="bf2a" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">卡斯佩里·卡帕宁:6.3</li><li id="d6d4" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">伊万·巴尔巴舍夫:6.4</li><li id="c92f" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">克里斯蒂安·德沃夏克:6.6</li><li id="c01d" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">丹尼斯·古里亚诺夫:6.7</li><li id="7eda" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">基弗风箱:6.8</li></ol><p id="783d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">国防十强:</strong></p><ol class=""><li id="15fb" class="kx ky hi iw b ix iy jb jc jf kz jj la jn lb jr mb ld le lf bi translated">乔纳斯·布鲁丁:6.0</li><li id="047a" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">Artem Zub: 6.2</li><li id="ba44" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">汉普斯·林德霍尔姆:6.3</li><li id="d35f" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">布雷特·库拉克:6.4</li><li id="b8af" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">本·赫顿:6.9</li><li id="ef73" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">奥利弗·埃克曼-拉尔森:7.0</li><li id="757d" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">贾斯汀·布劳恩:7.2</li><li id="e15f" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">尼克·詹森:7.3</li><li id="6473" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">内特·施密特:7.3分</li><li id="6625" class="kx ky hi iw b ix lg jb lh jf li jj lj jn lk jr mb ld le lf bi translated">杰克·麦凯布:7.4</li></ol><p id="4648" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对我来说，转发列表看起来很不错。很多球员，一眼就能看出他们有6个进攻号码，但却没有让他们脱颖而出的疯狂属性。他们也是来自不同球队的球员。</p><p id="d139" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">向拉斯·埃勒先生致敬，他是我名单上第11个最普通的前锋，在这些讨论中他得到了很多爱！</p><p id="1886" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">防御列表我有点不太自豪，因为<em class="js">的平均水平</em>在防御属性中占不了多少，如果有的话。这意味着一些球员，像乔纳斯·布洛丁和汉普斯·林德霍尔姆，因为他们出色的防守而备受尊敬，进入了前10名；他们可能根本不应该靠近这些列表。</p><p id="6989" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">不敌凯尔·马卡，他拥有最高的<em class="js">平均得分</em>，也就是说，他是NHL中平均得分最低的球员！他以38比31领先第二名海德曼。随便你怎么想，最不一般的玩家一定很特别！</p><h1 id="28b6" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤5:结论和后续步骤</h1><p id="90f7" class="pw-post-body-paragraph iu iv hi iw b ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn kw jp jq jr hb bi translated">这是一个非常有趣的练习！它允许我通过使用NHL API获取生物数据来提高我的数据挖掘技能，并构建一个小型本地SQL数据库来将统计数据和生物数据集放在一起。</p><p id="21f1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我还必须阅读pandas.to_dict文档，以我喜欢的方式在字典中设置我的数据；我了解到可以通过使用“Orient”参数以各种不同的方式设置键和值。</p><p id="70f6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">看到我创建的普通玩家名单看起来非常准确，并且突出了很多我通常不会想到的玩家，这也非常有趣！有些惊喜，比如特拉维斯·博伊德，他比我想象的要好得多。</p><p id="5e53" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">不过，对于未来，如果我要重新审视这个指标，我会添加一些新的关键属性，如“命中”、“外卖”和“赠品”，以获得至少一些更多的防守指标，这将有望帮助防守得分更加准确。</p><p id="0987" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我也可能会尝试删除那些相互关联太多的指标，我确信我可以删除“总进球数”、“EV进球数”、“PP进球数”、“SH进球数”(助攻同上)中的一个，因为最后三个加起来就是“总进球数”。</p></div></div>    
</body>
</html>