<html>
<head>
<title>Value vs Reference Types with Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中的值与引用类型</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/understanding-value-and-reference-types-with-javascript-4833f48b74c?source=collection_archive---------33-----------------------#2021-08-30">https://medium.com/geekculture/understanding-value-and-reference-types-with-javascript-4833f48b74c?source=collection_archive---------33-----------------------#2021-08-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8f74beb4c6551d660b7566b761e8e96b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43qkb7jHPCrU57x8IHx-LQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by<a class="ae iu" href="https://unsplash.com/@juanjodev02" rel="noopener ugc nofollow" target="_blank"> Juanjo Jaramillo</a> on <a class="ae iu" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="57c6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">简介</strong></p><p id="07c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中，我们将讨论编程中最重要的话题之一，即值类型和引用类型。特别是，在本文中，我将尝试使用Javascript来解释它。这些是我们将要讨论部分:</p><ul class=""><li id="e7ef" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">什么是值类型和引用类型？</li><li id="5608" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">它们之间有什么区别？</li><li id="a988" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">为什么知道它们很重要？</li></ul><h2 id="b5a2" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">什么是值类型和引用类型？</h2><p id="c4f9" class="pw-post-body-paragraph iv iw hi ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">如果您已经编写了一段时间的代码，您可能会熟悉其中的一些数据类型，如字符串、数字或布尔值。这些数据类型被称为原始数据类型。原始数据类型在赋值时使用<strong class="ix hj"><em class="lh"/></strong>方法。所以我们也可以称这些类型为值类型。在Javascript中，这些类型是字符串、数字、布尔、空和未定义。让我们看看下面的一些例子:</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/c77f7bfc4c53071cb9896ee5c3a3aaeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGEVBDalS6q8EAlDUsc31w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><em class="ln">value types example in javascript</em></figcaption></figure><p id="32d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的例子中，你可以看到，在Javascript或大多数编程语言中，这些“按值传递”术语是通过简单地将等号运算符右边的值赋给变量左边的值，并将其存储在内存中完成的。这意味着变量总是保持我们给它们的实际值。这些可能很简单，所以让我们转到引用类型来看看区别。顾名思义，引用类型在我们给它们赋值时使用了<strong class="ix hj"><em class="lh"/></strong>方法。在Javascript中，这包括数组和对象。让我们看一些例子:</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/c720eec9d8dfcfaf8118910ebb545065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RpitKq7igiPpK96L4VL9oQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><em class="ln">reference types example in javascript</em></figcaption></figure><p id="0423" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么这里的<strong class="ix hj"><em class="lh">【reference】</em></strong>到底是什么意思呢，意思是说这些数组和对象只是把内存引用作为它的值保存，而不是像以前的值类型那样马上保存实际的值。这个引用指向我们赋予它们的值。好了，现在你已经知道这两种类型的定义了。但是，为了更好地理解和了解这些类型，我们来看下一部分。</p><h2 id="3365" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">它们之间有什么区别？</h2><p id="7d59" class="pw-post-body-paragraph iv iw hi ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">因为我们使用的是Javascript，所以我将尝试使用函数，来展示这部分中这些类型之间的区别。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/c8d20cf44aebd51d411681e3512b55c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9AZ78awkr2yqMNiu1jKw7Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">value types example with function</figcaption></figure><p id="4d4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如你在上面的例子中看到的，我有一个带参数的值类型函数。然后，调用该函数并将变量传递给它。如果你试着运行上面的代码，你会看到函数中的变量<strong class="ix hj"> "a" </strong>将输出<strong class="ix hj"> 20，</strong>，但是在函数<strong class="ix hj">、</strong>之外执行变量<strong class="ix hj"> "a" </strong>之后，仍然会输出<strong class="ix hj"> 10。</strong>为什么会出现这种情况？如果我们遵循<strong class="ix hj"><em class="lh"/></strong>规则，当我们调用函数时，我们将<strong class="ix hj">【a】</strong>的值赋给函数参数中的变量<strong class="ix hj">【a】</strong>，其中这两个变量有不同的内存位置，但现在有相同的值。然后，当我在函数内部重新赋值<strong class="ix hj">“a”</strong>的值时，新值被传递给目标赋值，也就是我们的变量<strong class="ix hj">“a”</strong>。由于这两个变量是不同的，这就是为什么函数外的变量<strong class="ix hj"/>在把它的值传递给函数内的变量后，仍然有它的初始值。现在，让我们看一下下面的引用类型示例，让它更清楚。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/6fdd32d96b00e618f6bd1277149399f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqDMXfpysC0yFtDvesMeOA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">reference types example with function</figcaption></figure><p id="7b2d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">值类型的例子也是如此，但现在我创建了一个数组，它是Javascript中的引用类型之一，并将该数组传递给我的函数。现在，当我们调用该函数时，数组的值被传递给参数中的一个新的变量数组，但是根据<strong class="ix hj"> <em class="lh">【按引用传递】</em> </strong>的定义，这个数组的值实际上只是对一个保存所分配数字的内存位置的引用。所以现在，尽管这两个变量互不相关，但都有相同的参考值。当我试图改变函数内部的值时，数组会引用它在内存中的引用值来改变它。因为，函数外的数组持有相同的引用，当我们记录值时，它将再次引用该引用，但现在我们得到更新的引用，因为在函数中我们已经改变了它。</p><h2 id="28fb" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">为什么知道它们很重要？</h2><p id="4884" class="pw-post-body-paragraph iv iw hi ix b iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">所以在最后一部分，首先我会试着总结一下我们到目前为止学到的东西。<strong class="ix hj"> <em class="lh">值类型是保存我们赋予它们的值的数据类型</em> </strong>。此外，<strong class="ix hj">引用类型是保存分配值所在的内存引用的数据类型</strong>。所以，理解这些类型基本上会让你更清楚变量的当前值，特别是在使用引用类型的时候。正因为如此，我要添加最后一个关于引用类型的例子，在这里我们很可能会有一个很难调试的地方，为什么值和我们期望的不一样。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/ca0a8c32400ffcfccbb36c0fbf402e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FGdw8Cw5rwTN7UAtqwE5fw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">reference types example using objects</figcaption></figure><p id="eb61" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，你可能会注意到，在我所有的引用类型示例中，我使用了<strong class="ix hj"> const </strong>关键字来防止变量值被重新赋值。这也是使用引用类型时的一些好的最佳实践，因为在大多数情况下，我们不想改变引用，而只想改变引用内部的值。继续我上面的例子，我用来自<strong class="ix hj"> obj1 </strong>的参考值给<strong class="ix hj"> obj2 </strong>赋值。因此，当我们改变<strong class="ix hj"> obj2 </strong>的属性值时，同样的属性也会在<strong class="ix hj"> obj1 </strong>中改变。因此，为了防止obj1出现意外值，如果您打算将<strong class="ix hj"> obj1 </strong>的值复制到<strong class="ix hj"> obj2 </strong>中，一个解决方案是您可以使用新的Javascript语法<strong class="ix hj"> spread运算符</strong>将所有<strong class="ix hj"> obj1 </strong>的内容复制到<strong class="ix hj"> obj2 </strong>中，并使<strong class="ix hj"> obj2 </strong>拥有自己的<strong class="ix hj">引用值</strong>。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/06870fdd0b27f4eb425953595df6dda3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RbEpEf_850Ia0z-SX87Rmg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">spread operator in action</figcaption></figure><p id="d36c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是我关于引用和值类型的帖子，我知道我不能涵盖与这些主题相关的所有不同情况，所以我希望通过阅读这篇帖子帮助你学习一些基础知识，并让你想自己试错来真正理解它。</p><p id="ec41" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢你。</p><p id="9183" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">法比安·维埃里。</p></div></div>    
</body>
</html>