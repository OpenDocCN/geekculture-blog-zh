<html>
<head>
<title>Digital Filter Design in Python and C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python和C++中的数字滤波器设计</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/digital-filter-design-in-python-and-c-4484b6d6f4a5?source=collection_archive---------1-----------------------#2021-09-04">https://medium.com/geekculture/digital-filter-design-in-python-and-c-4484b6d6f4a5?source=collection_archive---------1-----------------------#2021-09-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e720f13ea216b651a83a987ad61dea5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uKVuRzH88tSyDXKqczMpZQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><div class=""/><p id="a990" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在下一篇文章中，我将展示数字滤波器设计的一般方法。滤波器的目标是从信号中去除特定的频率(噪声)。我们将看到如何设计带通滤波器(<a class="ae js" href="https://en.wikipedia.org/wiki/Low-pass_filter" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">低通滤波器</strong> </a>)和更高级的<a class="ae js" href="https://en.wikipedia.org/wiki/Band-stop_filter" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">陷波滤波器</strong> </a>。将使用主要是强大的<a class="ae js" href="https://python-control.readthedocs.io/en/0.9.0/#" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">控制包</strong> </a>(充分实现控制系统分析和设计的标准功能的Python包——类似于Matlab)在Python中进行设计。过滤器设计的软件部署和最终验证将在C++中进行。为了绘图的目的(在C++中),我将使用在我以前的文章中讨论过的C++的matlablib库。该库仅用于绘图目的。</p><p id="2b36" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" href="https://github.com/lava/matplotlib-cpp" rel="noopener ugc nofollow" target="_blank">头文件</a>(用于绘图库)必须在与cpp相同的文件夹中。<br/>你编译的每个程序如下:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="5e74" class="kc kd hx jy b fi ke kf l kg kh">//compile<br/>g++ my_prog.cpp -o my_prog -I/usr/include/python3.8 -lpython3.8// //run<br/>./my_prog//folder tree<br/>├── my_prog<br/>├── my_prog.cpp<br/>├── matplotlibcpp.h</span></pre></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><h1 id="7b7f" class="kp kd hx bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">介绍</h1><p id="787c" class="pw-post-body-paragraph iu iv hx iw b ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr hb bi translated">在设计滤波器之前，我们需要了解信号处理的主要原理，这是我们的应用领域，也是我们要解决的问题。由于我们的目标只有一个，即设计一个数字滤波器，所以我不会在这里深入探讨理论的各个方面的数学推导。</p><p id="7edf" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了简单起见，我们可以假设我们捕获音频信号(通常它可以是来自过程的信号，但是这里我们考虑音频信号)。信号噪音很大，所以内容很难理解。使用本文中描述的滤波器设计方法和通用信号处理原理，我们将尝试去除噪声并保持内容信号不变。<br/>请注意，在本文中，我指的是值Hz(例如50Hz ),但所有计算都是基于乘以2*pi的值进行的。</p><p id="33e7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下面我描绘了“矩形”信号——它只由正弦波组成(我们将在后面讨论)。我还显示了这种信号的FFT。</p><p id="4b4c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所有模拟的源代码(Python和C++)你可以在这里找到<a class="ae js" href="https://github.com/markusbuchholz/digital-filter-design" rel="noopener ugc nofollow" target="_blank">。</a></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="a7c9" class="kc kd hx jy b fi ke kf l kg kh">// signal definitions</span><span id="9b14" class="kc kd hx jy b fi lr kf l kg kh">sig1 = sin(t) + sin(3*t)/3 + sin(5*t)/5</span><span id="6a35" class="kc kd hx jy b fi lr kf l kg kh">sig2 = sin(t) + sin(3*t)/3 + sin(5*t)/5 + sin(7*t)/7 + sin(9*t)/9 + sin(11*t)/11 + sin(13*t)/13</span></pre><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ls"><img src="../Images/7cc52c1ca4cc2861334b5de5fbc4c778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LVFi2fmWDQQnpv4BP3HZxQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="1ded" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">sig2的FT可以描述如下，</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/98a47a38f77cfbdfc505ccfc15477bf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2KG_4mD7C0HQYNT3iRYqQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="5b89" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">信号处理中最重要的概念是<strong class="iw hy"> </strong> <a class="ae js" href="https://en.wikipedia.org/wiki/Fourier_transform" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">傅立叶变换</strong> </a> (FT)，将信号从时域转换到频域(频谱)。使用FT，我们能够再次应用变换，并在原始域(时间)中恢复信号。</p><p id="6d4e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">时域空间中的每个信号通常可以用两种不同的方法来表示。<br/>第一种考虑了信号在某些点的离散值(振幅)。此外，将这些离散值(在某个时间戳中获取/测量)相加。最终值是我们考虑的信号(请考虑下图，该图描述了这种方法的原理)。<br/>第二种方法分歧很大，因为该方法对覆盖所有时间的函数求和，而不是对特定时间的离散值求和。这些函数可以被认为是波，并在数学上表示为欧拉方程，其中ω表示波的特定频率。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/a33251bfa7b0a988c024e748b49bc5d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*wuUCYaNGMWnhc--DHQlzDQ.png"/></div></div></figure><p id="4400" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">正如你在上面的图片和FT公式中看到的，每个信号都可以用不同频率下计算出的波的总和来表示。<br/>用于求和的正弦编织数(针对特定频率计算)直接影响信号模式(形状)。<br/>你可以想象，增加波数(如上例)会使最终信号更像矩形信号。<br/>一般来说(这是傅立叶变换理论的主要原理)每个信号都可以用正弦波的和来表示。计算(添加)更多的波，可以获得(“核心”/处理的)信号的更好的数学表示。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es lv"><img src="../Images/3f2607626081262b3e4742eb5bf1ae8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*uxQnCXu0qR1KeOOEZBq4-g.gif"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">by Wikipedia</figcaption></figure></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="cbf7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">将信号在时域中表示为正弦波的组合的信号处理方法相当困难。通常不便于可视化和处理。<br/>更合适的方法是在频域中表示信号，这可以通过应用傅立叶变换来实现。傅立叶变换(正如我提到的双向工作)可以简单地提取(核心/处理过的)信号的主频。我们可以说，傅立叶变换将放大核心信号的主要频率，因此更容易使用后处理来(例如)移除特定频率、混频或增强。<br/>对信号(在时域中)应用傅立叶变换，我们简单地将信号从时域转换(映射)到频域，其中核心信号由核心信号(对于特定频率)的合成波的振幅来表示。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="3d0c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">数字滤波器设计</strong></p><p id="0a33" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在下一节中，我将展示数字滤波器设计的标准方法(频率去除)。可以想象，设计将在频域中完成，因为我们想要移除某些频率(我们设计带通滤波器)或仅移除一个频率(我们应用陷波滤波器)。</p><p id="91ad" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通常计算机系统或DSP(数字信号处理器)在采样过程中处理从模拟信号中提取的数字信号值。在DSP系统中执行所有操作都是离散的(意味着在量化的时间内发生——以时间间隔T获取/测量模拟信号的幅度)。<br/>见下图，该图代表模拟信号和离散信号。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/43b0292f8741a8cc9c77380a02e9fef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3boOeIKXHZEu0-w_gGRQ_w.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="3636" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所有离散时间系统在理论上都可以用n阶差分方程来描述，其中x(n)是系统的输入，y(n)可以与输出相关联。m和参数是虚拟值，仅用于求和目的。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es lx"><img src="../Images/8c14c6b7edbbd89c7b14f6596bde9fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*fDKpjm3wWMEelEXpZX225w.png"/></div></figure><p id="bbc3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">等式具有等价的形式，可以重写为</p><p id="b8b8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，值y(n-m)和x(n-p)是输出y(n)和输入x(n)的延迟函数。参见下面代表延迟离散信号示例。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ly"><img src="../Images/f5ffe13da986abb1caf506d4214b531b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DNWq037xzwwbck0o4poY5Q.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="0a32" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">数字滤波器由与本文前面介绍的离散系统相同的传递函数来描述。我们可以想象，滤波器允许特定频率(特定频率下输入“核心”信号的正弦分量)不变地传输。滤波器设计的其他成分(频率)将被衰减。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/f3899906dabb860cba3eb86b7ce6c3f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*F9e_lrBb_0trkNh_Boe7aw.png"/></div></figure><p id="f6e5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有两种类型的数字滤波器:<strong class="iw hy">有限脉冲响应滤波器</strong> (FIR)，其中<strong class="iw hy"> a系数</strong>等于0(这种类型的滤波器也称为自回归——<strong class="iw hy">AR</strong>)和<strong class="iw hy">无限脉冲响应滤波器</strong> (IIR)，其中传递函数的<strong class="iw hy"> b系数</strong>等于0(也称为移动平均<strong class="iw hy"> MA </strong>)。<br/>正如我们所料，我们可以结合这两种类型的滤波器，最终确定<a class="ae js" href="https://en.wikipedia.org/wiki/Autoregressive%E2%80%93moving-average_model" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy"> ARMA </strong>滤波器</a>。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ma"><img src="../Images/380e8223246edcfd7fddf3afe1b4a643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Lb3ntYoPphM8bGi3QCVzw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="c65a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我不打算详细讨论这些滤波器组的异同。出于我们的目的，我们将设计ARMA滤波器，其传递函数可以表示如下</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es mb"><img src="../Images/24ddcd5487dc80f8ddfe179a72f4e23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*i19T3KFf_DKxdQXCDEv22g.png"/></div></figure><p id="1d50" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里值得一提的是，在离散域中，每个信号通过<a class="ae js" href="https://en.wikipedia.org/wiki/Discrete_Fourier_transform" rel="noopener ugc nofollow" target="_blank">离散傅立叶变换</a>进行映射(时域到频域)。<br/> DFT将信号从时域转换到频域，这个过程可以描述如下</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es mc"><img src="../Images/668536e8d4630fb05ad16383e1482cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*_eiek9DqAF7_S4q1NWUmGg.png"/></div></figure><p id="9c7e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将使用这个公式，并用C++计算特定信号的DFT。</p><p id="886a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以下部分将显示我为设计滤波器(低通和陷波)而应用的一般步骤。正如我提到的设计和验证，我使用Python(也是我推荐的)。其次，我应用了C++，在那里我部署了filer design(系数)。</p><h1 id="9d9d" class="kp kd hx bd kq kr md kt ku kv me kx ky kz mf lb lc ld mg lf lg lh mh lj lk ll bi translated"><strong class="ak">拟采取的步骤可总结如下:</strong></h1><ol class=""><li id="dc5b" class="mi mj hx iw b ix lm jb ln jf mk jj ml jn mm jr mn mo mp mq bi translated">定义输入(核心)信号并绘图。</li><li id="c5e4" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">决定您想要移除的频率(通带或陷波滤波器)。</li><li id="5a63" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">计算输入信号的DFT。</li><li id="1385" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">计算滤波器传递函数。</li><li id="a129" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">计算滤波器传递函数的<a class="ae js" href="https://en.wikipedia.org/wiki/Bode_plot" rel="noopener ugc nofollow" target="_blank">体图</a>并验证特性(通带和衰减带)。</li><li id="da65" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">使用<a class="ae js" href="https://en.wikipedia.org/wiki/Bilinear_transform" rel="noopener ugc nofollow" target="_blank">图斯汀的方法</a>计算滤波器的离散传递函数。</li><li id="304d" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">计算滤波器系数。</li><li id="6d2d" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">将滤波器系数应用于通用ARMA传递函数(设计滤波器)。</li><li id="5164" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">计算输出信号的DFT(检查滤波器)。</li><li id="0284" class="mi mj hx iw b ix mr jb ms jf mt jj mu jn mv jr mn mo mp mq bi translated">步骤1、3、8、9和10用C++实现。</li></ol><p id="632c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">陷波滤波器需要特殊的设计说明。我将演示一个简单的设计方法，并申请信号定义的信号消除特定频率。</p><p id="dc85" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下一节将分几步描述如何设计低通滤波器。正如我之前提到的，在Scipy的支持下，使用包控制(类似于Matlab)在Python中执行设计。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="1573" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">数字低通滤波器</strong></p><p id="3b8b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第一步。</strong></p><p id="cd35" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在以下示例中，我们将从输入信号中移除50Hz信号频率。移除这一特定频率是常见的，因为存在电源频率，如果我们执行测量，这一频率会经常出现。</p><p id="2bc9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">输入信号由两个正弦波(5Hz和50Hz)组成，如下图所示</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="2cd2" class="kc kd hx jy b fi ke kf l kg kh">//signal definition</span><span id="cd85" class="kc kd hx jy b fi lr kf l kg kh">A1 = 1<br/>A2 = 0.2<br/>f1 = 5<br/>f2 = 50</span><span id="2098" class="kc kd hx jy b fi lr kf l kg kh">y = A1*sin(2*pi*f1*t) + A2*sin(2*pi*f2*t)</span></pre><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mw"><img src="../Images/3190a26aa82ede0e911767748d62216e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNWXZi3SNJnDRcqSiOqjMQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="8bba" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里，我们使用FFT在频域中绘制信号。如你所见，信号功率谱有两个主频(我们在C++中使用DFT)。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mx"><img src="../Images/5271f8e086a53fbe9b7e0c5d41103d86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gm2UaeuvXF-SM_S1uG5cfg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="f9fe" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第二步。</strong></p><p id="c07d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里我们使用低通滤波器。滤波器将移除截止频率以上的所有频率，在本例中为5Hz。记住，我们的目标是降低50Hz。请注意，大自然不会提供完美的设计，因此滤波器的通过/衰减特性不会完美。取决于设计和制造滤波器的物理材料，滤波器将是可观察到的“过渡”滤波器频带，其中对于某些频率，信号将不会被完全衰减。请考虑身体情节，并熟悉如何过滤器将工作(第5步)。</p><p id="9d95" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第三步。</strong></p><p id="a4a9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" href="https://en.wikipedia.org/wiki/Discrete_Fourier_transform" rel="noopener ugc nofollow" target="_blank">离散傅立叶变换</a>将在C++设计实施期间应用。为了我们的目的，DFT，或通常(傅立叶变换)用于可视化的目的。傅立叶变换和DTF的主要区别在于应用这些变换的域。<br/>除了将信号从时域变换到频域，DFT还对离散信号进行操作，并将输入(离散)信号映射到特定的离散频率。</p><p id="6331" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">DFT的实现(在C++中)可以在cpp文件中找到(参见本文的和)。用于计算DFT(特定频率的信号分量的幅度)的公式可以写成如下形式，</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es mc"><img src="../Images/668536e8d4630fb05ad16383e1482cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*_eiek9DqAF7_S4q1NWUmGg.png"/></div></figure><p id="dc53" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">计算定义的输入信号的DFT(在C++中),您可能会得到以下结果:</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es my"><img src="../Images/48e66383d71e556c82e7f93e2d2ab2c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*98FlpD83Fm1uIYWXHDi9Xg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mz"><img src="../Images/5649645f66ea021306227356d94b922f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NntaDcMyYA2sXxTuFcS57w.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="bcb9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第四步。</strong></p><p id="0f0b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">低通滤波器由以下简单传递函数描述</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es lv"><img src="../Images/6a0e08f2ee8b238751444f40079ddf8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*-Q3XS9wJOykVfLB7ovxnVg.png"/></div></figure><p id="e437" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我们的例子中，截止频率是5Hz。对于该滤波器和截止频率，我们可以使用控制包(用于分析系统稳定性的零极点映射方法)进行计算= &gt;如果所有极点都位于实轴的左侧，则系统可以视为稳定系统。<a class="ae js" href="https://en.wikipedia.org/wiki/Stability_theory" rel="noopener ugc nofollow" target="_blank">稳定系统</a>是施加力或其他扰动后恢复正常状态的系统。滤波器没有零点，但有一个极点等于…..（</p><p id="6a60" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第五步。</strong></p><p id="8dfe" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，对于滤波器传递函数，我们计算身体图，见下面结果:</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es na"><img src="../Images/05d5b27d98b64314ea14eb47e4a4e136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TPh_n7Qi8XLUZ2FcE0-19g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="ae4d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第六步。</strong></p><p id="12aa" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">执行以下步骤为我们提供了关于数字滤波器系数的反馈。为了将我们的连续传递函数变换为离散传递函数(由于我们设计数字滤波器)，我们使用了<a class="ae js" href="https://en.wikipedia.org/wiki/Bilinear_transform" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy">双线性变换</strong> </a> <strong class="iw hy"> </strong>也称为s<a class="ae js" href="https://en.wikipedia.org/wiki/Arnold_Tustin" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy">Tustin</strong></a><strong class="iw hy">的方法。</strong></p><p id="7d61" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">转换很简单。我们用下面的函数代替s，</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nb"><img src="../Images/3b2604fa8bed986a74e3a17ca4ceee81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BfzQcmAbZwiOuhYE4ec2IQ.png"/></div></div></figure><p id="fd90" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">步骤7。</strong></p><p id="6a90" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">可以手动计算滤波器离散传递函数的系数，但是我们将使用Python。应用to_discrete()方法，Python返回系数值。</p><p id="5897" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第八步。</strong></p><p id="41e4" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在接下来的步骤中，我们将计算最终的过滤函数，这将在Python和C++中进行验证。</p><p id="8dc2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">利用上一步计算的系数，我们可以写出最终的滤波器传递函数，它符合我们的要求(衰减所有5Hz以上的频率)。(详见Jupyter笔记本)</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nc"><img src="../Images/c45997cd1219f45fd5158df6fa543f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKLoc_pBXSewU5syMRyP6A.png"/></div></div></figure><p id="38ab" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">第九步</strong></p><p id="17e7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">运行我们的仿真，其中输入信号(5Hz和50Hz)已通过设计的滤波器。结果在意料之中。50Hz正弦波已被移除(衰减)。下图描述了频域中滤波器的输出(Python中的FT，C++中的DFT)和时域中信号(滤波器后)的输出。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nd"><img src="../Images/e8539049c32910eb12b64c3d9034ccb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yTvHPnAIJ0dhK7OExkmvew.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="6d79" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在C++中。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ne"><img src="../Images/b8fa887184ab32267402b6c8ad70bc77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qm_KtlcizutMlGC3ZqxVpQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nf"><img src="../Images/15c5fea5546ecc8da7e25fb86a6acf14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nU3CQ49m84idfDCKetNwug.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="9eec" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">陷波滤波器设计</strong></p><p id="aa86" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">陷波滤波器起着特殊的作用，因为它只衰减特定的频率。陷波滤波器可以与窄带滤波器相关联。在本节中，我将向您展示如何实现这种滤波器的原理。</p><p id="d239" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">稍后，我们将对两种不同类型的输入信号应用陷波滤波器，但我们的目标是消除50Hz信号。<br/>我真的推荐你也看这个精彩的补充视频<a class="ae js" href="https://www.youtube.com/watch?v=tpAA5eUb6eo&amp;t=472s&amp;ab_channel=MATLAB" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="f36f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在上一节中，我们讨论了低通滤波器。这个概念将被重用，但是有重要的修改。你可以看到低通滤波器滤除了50Hz的电波。但是如何管理我们也想保持80Hz频率的情况呢！？<br/>应用该任务标准低通滤波器也将移除该频率。我们需要应用替代解决方案吗？是的。<br/>陷波滤波器将只移除(在这种特殊情况下)一个特定的频率——50Hz。</p><p id="dc63" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">大家还记得，我们计算了低通滤波器的传递函数，可以改写如下。</p><p id="711c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">低通体图。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es lv"><img src="../Images/6a0e08f2ee8b238751444f40079ddf8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*-Q3XS9wJOykVfLB7ovxnVg.png"/></div></figure><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ng"><img src="../Images/69ef9b919967ac2205ba608f68a482e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tUmhtbdXcQFzIWsgRwR3Vw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="682d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另一方面，正如我上面提到的，我们正在寻找“窄通”滤波器，它只衰减特定的频率。为了做到这一点，我们必须看看高通滤波器(例如20Hz)，这个值实际上是20rad/s，正如我前面提到的。</p><p id="c532" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">高带滤波器(一阶)的传递函数可以用公式表示如下:</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es nh"><img src="../Images/52045944127f10f100f0a2d91395eade.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*RzQXwIv_wTxm8NF5W5zsJQ.png"/></div></figure><p id="bc94" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于我们的特定示例，可以绘制和描绘这种类型过滤器的主体图:</p><p id="33dc" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">高波段身体图。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ni"><img src="../Images/2f5c69592b7647c51c0971bde320ed24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DyRZcaoms343xAVvGJR6g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="6430" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们将连接传递函数和图体图。</p><p id="f572" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通带滤波器的主体图。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nj"><img src="../Images/248250cce18cd9eeb1078063d18017a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EJ3_DAxagYUygwqz9NWDoA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="82d1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">大家可以看到，有一种窄带滤波器，但我们无法适当控制滤波器的深度，因此我们必须重新考虑一下我们的解决方案。</p><p id="ba50" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另一个充分的方法是再次采用低通滤波器，但这次是二阶(两个极点)并降低阻尼。看看身体曲线会发生什么。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nk"><img src="../Images/f59e81bacd9fb27eeda1f0e285af2ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OtwhoaYpW_2wieauRIyGuQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="4359" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如你所见。将阻尼降低到几乎为零，我们会收到截止频率的几乎无限放大(Python不幸在这里没有正确计算)。</p><p id="ae63" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">现在我们将应用技巧，翻转传递函数。</strong></p><p id="98fe" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个新的(翻转的传递函数)的主体图看起来如下，</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es nl"><img src="../Images/b11a503f0915a2a5ca6f1857761d6c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*J6mnKLAEiTv1NTWZfuzzEQ.png"/></div></figure><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nb"><img src="../Images/b1dcb6f58ed76d199f0b6b250676f377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-IRnfKhNZ64gGe2Gls8zEg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="f22c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是我们正在寻找的几乎完美的传递函数，然而我们仍然有两个问题需要处理。由于我们现在只有两个零点(无极点)和，<br/> 2，所以放大了40dB/十进制的高频信号。因为滤波器传递函数的分子大于分母，所以传递函数不能在物理上实现</p><p id="eb3c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将通过增加两个极点来解决这些挑战。每个极点都会将高频幅度拉低20dB/十倍频程，并使我们的频率响应在自然频率范围内变得平坦。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="0e52" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">这些杆子怎么选？</strong></p><p id="9006" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们用公式来表示应该位于固有频率上下极点。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="63bf" class="kc kd hx jy b fi ke kf l kg kh">pole_above = (a * wn)/(s+a* wn)</span><span id="948e" class="kc kd hx jy b fi lr kf l kg kh">pole_lower = (a * wn)/(s+(wn /a))</span></pre><p id="e989" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">将这些应用于我们翻转传递函数的极点，我们将得到:</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es nm"><img src="../Images/981a72bbc091deed97ab3b105d363aa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*VbA_RVdcKdDt-t2tteyB7A.png"/></div></figure><p id="18e7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以通过再次绘制主体图来检查我们的过滤器设计。</p><p id="a085" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最终陷波滤波器的主体图，</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nn"><img src="../Images/8917ae8e3fbc1659bdd97b004d9d0e48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FDw76CWlZd90EfpQjDyVfw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="16c2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在滤波器更深了——对于我们的频率，信号将衰减约28dB。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="0b89" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们刚刚完成了陷波滤波器的设计。现在，在设计低通滤波器时，我们必须应用我在上面指定和解释的相同设计步骤。原理是一样的。你会在朱庇特笔记本里找到细节。</p><p id="6aff" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如前所述，我们将通过应用两个信号来测试设计我们的滤波器。在这两种情况下，我们都希望消除50Hz。</p><p id="a7df" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">正如预期的那样，对于第一个信号，50Hz已经被移除。然而，最有趣的是第二个信号，它由三个频率组成:20、50和80Hz。这种情况下，陷波滤波器表现出色。它几乎完全消除了50Hz，对边频20和80Hz没有任何影响。</p><p id="710b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请考虑以下结果(Python和C++)。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es no"><img src="../Images/ed821fa87030ce1d78edde0dab93cab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FCdlrLC8vdWYqDgFy2eaJA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="2c7e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">考虑陷波滤波器后的信号(时域)。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es np"><img src="../Images/fc3b938f8943cf1935dd5004b6b5e912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A2A6NnujP2Mat4vKbcWPhA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="e392" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">关于信号(50Hz)的频谱DFT已移除。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nq"><img src="../Images/e874b83c87d20940eca2fb064ade9207.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aj3R7N_QwZHuWvtoyjtyag.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">by author</figcaption></figure><p id="8d04" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢您的阅读，</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="e63c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您对本文感兴趣，我真的建议您查看这两个令人印象深刻的资源库:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="4370" class="kc kd hx jy b fi ke kf l kg kh">// <a class="ae js" href="https://github.com/capitanov/dsp-theory" rel="noopener ugc nofollow" target="_blank">https://github.com/capitanov/dsp-theory</a></span><span id="6c76" class="kc kd hx jy b fi lr kf l kg kh">// https://github.com/AllenDowney/ThinkDSP</span></pre><figure class="jt ju jv jw fd hk"><div class="bz dy l di"><div class="nr ns l"/></div></figure></div></div>    
</body>
</html>