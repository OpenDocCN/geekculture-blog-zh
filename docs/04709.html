<html>
<head>
<title>Image Classification with flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带抖动的图像分类</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/image-classification-with-flutter-182368fea3b?source=collection_archive---------3-----------------------#2021-07-02">https://medium.com/geekculture/image-classification-with-flutter-182368fea3b?source=collection_archive---------3-----------------------#2021-07-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="b1bb" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><strong class="il hj">使用flutter和Teachable machine和Tenserflow lite在移动应用中进行图像分类。</strong></p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/2689549de5394bddaebc3181e41263e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9f2V8IFQO8ETh1L98XLYQ.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Flutter and Tensorflowlite</figcaption></figure><p id="0f99" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">将机器学习模型实现到移动应用程序中很难，但是，<a class="ae ka" href="https://teachablemachine.withgoogle.com/train" rel="noopener ugc nofollow" target="_blank"> <strong class="il hj"> Goggle的可教机器</strong> </a>通过其简单的方式，快速地为应用程序、web和许多其他应用程序创建机器学习模型。</p><p id="a55d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">在本文中，我将使用Tenserflowlite、flutter和Teachable machine(用于图像分类的机器学习训练模型)创建一个图像分类移动应用程序。</p><blockquote class="if ig ih"><p id="1c4b" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">我们将使用从图库或相机中选取的图像来查看图像是人、马、猫还是狗。</p></blockquote><p id="c30b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">所以让我们开始吧🎉</p><blockquote class="if ig ih"><p id="269e" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><strong class="il hj">用可教机器训练机器学习模型</strong></p></blockquote><p id="9707" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">要识别图像，进入<a class="ae ka" href="https://teachablemachine.withgoogle.com/train" rel="noopener ugc nofollow" target="_blank">可示教机器</a>网络工具，必须选择图像项目。但是，在训练模型之前，收集用于图像分类的数据，您需要在<a class="ae ka" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上找到数据集。收集完数据后，我们要把它整理成相关的标签(即类)。唯一的东西就是可教机器的力量。</p><p id="6c4c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">在此应用中，我们必须将数据集分为4类(即标签)。下载的数据集有四个不同的文件夹，取决于四个标签。在一台可教的机器中，我们必须通过添加新的类来为四个不同的类提供四个文件夹。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es kb"><img src="../Images/d24c8cc8ce5cbf9c153bcb318504401e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*MiRx4hvLz61RmaHbZlDkEg.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx">Image training model</figcaption></figure><p id="1558" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">训练模型后，您可以通过输入文件或网络摄像头预览它，分析训练模型的输出。导出模型，下载它。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es kc"><img src="../Images/bed755d87ac5c4f1dd891aa65be5481f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*VfYwv1FUfig-I8cujEOccQ.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx">Exporting model and download</figcaption></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="88b6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">现在，创建一个新的flutter应用程序来开始实现不是很容易吗？</p><p id="6df0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated"><strong class="il hj">需要下载的Flutter包有</strong></p><p id="4eeb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated"><strong class="il hj"> image_picker、tflite和meta。</strong></p><div class="kk kl ez fb km kn"><a href="https://pub.dev/packages/image_picker" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">图像拾取器| Flutter包</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">一个适用于iOS和Android的Flutter插件，用于从图像库中拾取图像，并使用…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">公共开发</p></div></div><div class="kw l"><div class="kx l ky kz la kw lb jr kn"/></div></div></a></div><div class="kk kl ez fb km kn"><a href="https://pub.dev/packages/tflite" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">tflite |颤振包</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">一个访问TensorFlow Lite API的Flutter插件。支持图像分类、对象检测(固态硬盘和YOLO)…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">公共开发</p></div></div><div class="kw l"><div class="lc l ky kz la kw lb jr kn"/></div></div></a></div><div class="kk kl ez fb km kn"><a href="https://pub.dev/packages/meta" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">元| Dart包</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">这个包定义了Dart SDK附带的工具可以使用的注释。…中的注释</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">公共开发</p></div></div><div class="kw l"><div class="ld l ky kz la kw lb jr kn"/></div></div></a></div></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="ffac" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">我们从可示教机器中训练的模型，我们必须将这些文件放入assets文件夹并添加到pubspec.yaml文件中。</p><pre class="ji jj jk jl fd le lf lg lh aw li bi"><span id="82e5" class="lj lk hi lf b fi ll lm l ln lo">assets:<br/>  - assets/labels.txt<br/>  - assets/model_unquant.tflite</span></pre><p id="54ac" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">您必须将这些包放到pubspec.yaml文件中，</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="745d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">如果您没有在文件中指定版本，它将自动下载最新的软件包。如下所示的main.dart文件，将HomePage.dart文件放入lib文件夹。</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="08ad" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">有状态部件主页我们必须创建三个变量，其中上传文件的<strong class="il hj"> _image </strong>变量，输出<strong class="il hj">列表的</strong>变量，用于错误检查的布尔变量<strong class="il hj"> _loading </strong>。</p><pre class="ji jj jk jl fd le lf lg lh aw li bi"><span id="4a14" class="lj lk hi lf b fi ll lm l ln lo">PickedFile? _image;<br/>bool _loading = false ;<br/>List&lt;dynamic&gt;? _outputs;</span></pre><p id="7b19" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">将tflite模型加载到HomePage.dart文件</p><pre class="ji jj jk jl fd le lf lg lh aw li bi"><span id="8dfc" class="lj lk hi lf b fi ll lm l ln lo"><em class="ik">//Load the Tflite model<br/></em>loadModel() async {<br/>  await Tflite.loadModel(</span><span id="d9f7" class="lj lk hi lf b fi lr lm l ln lo">   model: “assets/model_unquant.tflite”,<br/>   labels: “assets/labels.txt”,<br/>  );<br/>}</span></pre><p id="4f2e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">通过模型对图像进行分类，</p><pre class="ji jj jk jl fd le lf lg lh aw li bi"><span id="975c" class="lj lk hi lf b fi ll lm l ln lo">classifyImage(image) async {</span><span id="e8e1" class="lj lk hi lf b fi lr lm l ln lo">var output = await Tflite.runModelOnImage(</span><span id="15d3" class="lj lk hi lf b fi lr lm l ln lo">      path: image.path,<br/>      numResults: 2,<br/>      threshold: 0.5,<br/>      imageMean: 127.5,<br/>      imageStd: 127.5,<br/>);<br/>setState(() {</span><span id="6461" class="lj lk hi lf b fi lr lm l ln lo">_loading = false;</span><span id="3fce" class="lj lk hi lf b fi lr lm l ln lo"><em class="ik">//Declare List _outputs in the class which will be used to show the classified classs name and confidence<br/>  </em>_outputs = output;<br/> });<br/>}</span></pre><p id="ef52" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">为应用程序制作最终用户界面、小部件，</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="c24f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">浮动操作按钮，用于使用图像拾取器从图库和相机中选择用于分类的图像天气图像是人、马、猫或狗。</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="7a84" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">🥳，我们已经完成了编码，现在是运行应用程序的时候了！</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="ls lq l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx">P.S waiting for the output of the application</figcaption></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="4b0a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">耶！！！🤩，我们成功地创建了一个图像分类的应用程序，让我们看看这里的输出快照，</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lt"><img src="../Images/26defada615cdee0bb585fe775851025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9qn-E8DEx87ntoPfnMlecg.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Floating button selection, Human, Horse classification with label using gallery</figcaption></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lt"><img src="../Images/efb0229667045d4a1e1db81b5b73e5b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tX1zpxW4_WGPxZwlj80mkA.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Dog, Cat using the gallery, and Human recognizing using the camera</figcaption></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="9670" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">感谢你阅读这篇文章，🥰，如果你觉得这很有见地，然后分享给你👏 :)</p><p id="3532" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jx iv iw ix jy iz ja jb jz jd je jf jg hb bi translated">Github仓库，并与我联系，祝您愉快！🤗</p><div class="kk kl ez fb km kn"><a href="https://github.com/nenncy/ImageClassificationwithflutter/tree/main" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">nency/image classificationwithfutter</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">一个新的颤振项目。这个项目是颤振应用的起点。一些帮助您入门的资源…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">github.com</p></div></div><div class="kw l"><div class="lu l ky kz la kw lb jr kn"/></div></div></a></div></div></div>    
</body>
</html>