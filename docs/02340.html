<html>
<head>
<title>Navigation in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的导航</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/navigation-in-swiftui-997ecd943f8d?source=collection_archive---------16-----------------------#2021-05-11">https://medium.com/geekculture/navigation-in-swiftui-997ecd943f8d?source=collection_archive---------16-----------------------#2021-05-11</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><figure class="hi hj fa fc hk hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et hh"><img src="../Images/3dd3ee402c49cd341a805036dc90eedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kc052DGE9KRAlqS71nxbYw.jpeg"/></div></div></figure><div class=""/><p id="51f6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">在之前的帖子中，我们已经看到了SwiftUI的基础。现在是开始构建更复杂的东西的时候了，如何用<em class="jp">导航条</em>和<em class="jp">标签视图</em>在我们的应用中实现导航。</p><h1 id="ec6a" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">导航栏</h1><p id="5add" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hc bi translated">从上一个帖子的代码开始(【https://nicoladefilippo.com/list-in-swiftui/】):</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="c33f" class="ld jr hu kz b fj le lf l lg lh">struct Vehicle: Identifiable {<br/>    var id = UUID()<br/>    var name: String<br/>    var image: String<br/>}<br/><br/>struct ContentView: View {<br/>    @State var vehicles = [Vehicle(name: "car", image: "car"),<br/>                    Vehicle(name: "bus", image: "bus"),<br/>                    Vehicle(name: "tram", image: "tram"),<br/>                    Vehicle(name: "bicycle", image: "bicycle")]<br/>    <br/>    var body: some View {<br/>        List {<br/>            ForEach(vehicles) { vehicle in<br/>                RowView(vehicle: vehicle)<br/>            }<br/>            .onDelete { (indexSet) in<br/>                self.vehicles.remove(atOffsets: indexSet)<br/>            }<br/>        }<br/>    }<br/>}<br/><br/>struct RowView: View {<br/>    var vehicle: Vehicle<br/>    var body: some View {<br/>        HStack {<br/>            Image(systemName: vehicle.image)<br/>                .resizable()<br/>                .frame(width: 60, height: 60)<br/>            Text(vehicle.name)<br/>        }<br/>    }<br/>}</span></pre><p id="374c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">我们想要点击一行并跳到一个新的视图。</p><p id="6ced" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">第一步是添加NavigationView:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="fb52" class="ld jr hu kz b fj le lf l lg lh">var body: some View {<br/>        NavigationView {<br/>            List {<br/>                ForEach(vehicles) { vehicle in<br/>                    NavigationLink(destination: EmptyView()) {<br/>                        RowView(vehicle: vehicle)<br/>                    }<br/>                }<br/>                .onDelete { (indexSet) in<br/>                    self.vehicles.remove(atOffsets: indexSet)<br/>                }<br/>            }.navigationTitle("Transports")<br/>        }<br/>    }</span></pre><p id="88c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">在<em class="jp">导航视图</em>中，我们插入上例中的列表。要向NavigationView添加标题，必须使用<em class="jp"> navigationTitle </em>功能。</p><p id="16b4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">要跳转到另一个视图，我们必须使用导航链接。在本文中，我们插入了<em class="jp"> RowView </em>(我们希望单击要跳转的行)以及我们如何使用<em class="jp"> EmptyView </em>的目的地，这是一个空白的默认视图，所以如果我们点击任何一行:</p><figure class="ku kv kw kx fe hl es et paragraph-image"><div class="es et li"><img src="../Images/5e7d36e26bfe54d84f2793372486c2f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*PUpznkA3uvmU9qax.png"/></div></figure><p id="a154" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">我们想要一个不是空的视图，而是显示一些东西的视图。</p><p id="6771" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">让我们去创建一个视图。首先，从文件菜单中选择新文件声音，然后:</p><figure class="ku kv kw kx fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et lj"><img src="../Images/53744b0185ff231b52154485f8f0787d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*H0_FGZkZ7Z0n9Eko.png"/></div></div></figure><p id="a637" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">从对话框中选择SwiftUI视图，并将其命名为<em class="jp">车辆视图</em>。</p><p id="032e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">用车辆视图替换空视图:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="8780" class="ld jr hu kz b fj le lf l lg lh">NavigationLink(destination: VehicleView()) {<br/>                        RowView(vehicle: vehicle)<br/>                    }</span></pre><p id="4938" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">现在点击列表，你跳转到新的视图，你会看到“你好，世界”。</p><p id="d098" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">要显示所选行的信息，请在中更改车辆视图的代码:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="629b" class="ld jr hu kz b fj le lf l lg lh">import SwiftUI<br/><br/>struct VehicleView: View {<br/>    var vehicle: Vehicle<br/>    var body: some View {<br/>        VStack(spacing: 20) {<br/>            Image(systemName: vehicle.image)<br/>                .resizable()<br/>                .frame(width: 300, height: 300)<br/>            Text("Selected the \(vehicle.name.uppercased())")<br/>                .font(.title)<br/>            Spacer()<br/>        }<br/>    }<br/>}<br/>struct VehicleView_Previews: PreviewProvider {<br/>    static var previews: some View {<br/>        VehicleView(vehicle: Vehicle(name: "car", image: "car"))<br/>    }<br/>}</span></pre><p id="4a6e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">在视图中，定义了一个Vehicle type的var，我们假设它包含了传递的行，并显示了在VStack中如何定义的信息(参见关于v stack<a class="ae kt" href="https://nicoladefilippo.com/layout-in-swiftui/" rel="noopener ugc nofollow" target="_blank">https://nicoladefilippo.com/layout-in-swiftui/</a>的帖子)。请注意，在VehicleView_Previews中，我们经过一辆车，这是一个默认视图，仅用于预览(当您在不运行代码的情况下“设计”视图时，这很有帮助)。</p><p id="bb97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">要完成导航，我们还必须更改内容视图:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="7bf6" class="ld jr hu kz b fj le lf l lg lh">NavigationLink(destination: VehicleView(vehicle: vehicle)) {<br/>                        RowView(vehicle: vehicle)<br/>                    }</span></pre><p id="2b2f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">你可以看到我们如何通过车辆查看车辆。如果一切正常，如果你搭公车，你应该有:</p><figure class="ku kv kw kx fe hl es et paragraph-image"><div class="es et lk"><img src="../Images/1832be68a5f88b1b86b6edc31d120f15.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*neSCDCF5fbZhfCbC.png"/></div></figure><p id="11dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">可以把酒吧的名字放在中间吗？当然，用navigationBarTitle替换navigationTitle，方法如下:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="2f13" class="ld jr hu kz b fj le lf l lg lh">var body: some View {<br/>        NavigationView {<br/>            List {<br/>                ForEach(vehicles) { vehicle in<br/>                    NavigationLink(destination: VehicleView(vehicle: vehicle)) {<br/>                        RowView(vehicle: vehicle)<br/>                    }<br/>                }<br/>                .onDelete { (indexSet) in<br/>                    self.vehicles.remove(atOffsets: indexSet)<br/>                }<br/>            }.navigationBarTitle("Transports", displayMode: .inline)<br/>        }<br/>    }</span></pre><p id="623d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">注意displayMode设置为. inline。</p><figure class="ku kv kw kx fe hl es et paragraph-image"><div class="es et li"><img src="../Images/bf23caa8b0637afe800bc33bfced3b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*soqjaLEWhVDP7f7k.png"/></div></figure><h1 id="aebb" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">选项卡视图</h1><p id="7e1f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hc bi translated">现在看看如何定义TabView:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="d3d9" class="ld jr hu kz b fj le lf l lg lh">struct ContentView: View {<br/>    var body: some View {<br/>        TabView {<br/>            Text("Tab1") // View First Tab<br/>                .tabItem {  Label("Vehicles", systemImage: "list.dash")}<br/>            <br/>            Text("Tab2") // View Second Tab<br/>                .tabItem {  Label("Profile", systemImage: "person.circle")}<br/>        }  <br/>    }<br/>}</span></pre><p id="d2bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">神奇的词是<em class="jp"> TabView </em>。在本文中，我们插入了带有相对<em class="jp">选项卡</em>的视图。视图是我们在选项卡中看到的，选项卡是我们在选项卡栏中看到的。</p><figure class="ku kv kw kx fe hl es et paragraph-image"><div class="es et li"><img src="../Images/bc9461a804bb8c72b16f605d8a144d6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*k-e67PnvNjmksguN.png"/></div></figure><p id="5bf5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">现在要创建更复杂的东西，我们可以使用navigationview示例中的代码。</p><p id="ec72" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">首先，创建一个VehiclesView视图(注意复数)。</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="8bd5" class="ld jr hu kz b fj le lf l lg lh">import SwiftUI<br/><br/>struct Vehicle: Identifiable {<br/>    var id = UUID()<br/>    var name: String<br/>    var image: String<br/>}<br/><br/>struct VehiclesView: View {<br/>    @State var vehicles = [Vehicle(name: "car", image: "car"),<br/>                    Vehicle(name: "bus", image: "bus"),<br/>                    Vehicle(name: "tram", image: "tram"),<br/>                    Vehicle(name: "bicycle", image: "bicycle")]<br/>    <br/>    var body: some View {<br/>        NavigationView {<br/>            List {<br/>                ForEach(vehicles) { vehicle in<br/>                    NavigationLink(destination: VehicleView(vehicle: vehicle)) {<br/>                        RowView(vehicle: vehicle)<br/>                    }<br/>                }<br/>                .onDelete { (indexSet) in<br/>                    self.vehicles.remove(atOffsets: indexSet)<br/>                }<br/>            }.navigationBarTitle("Transports", displayMode: .inline)<br/>        }<br/>    }<br/>}<br/><br/>struct RowView: View {<br/>    var vehicle: Vehicle<br/>    var body: some View {<br/>        HStack {<br/>            Image(systemName: vehicle.image)<br/>                .resizable()<br/>                .frame(width: 60, height: 60)<br/>            Text(vehicle.name)<br/>        }<br/>    }<br/>}<br/><br/>struct VehiclesView_Previews: PreviewProvider {<br/>    static var previews: some View {<br/>        VehiclesView()<br/>    }<br/>}</span></pre><p id="85be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">然后，像NavigationView示例中那样创建一个VehicleView，然后更改TabView:</p><pre class="ku kv kw kx fe ky kz la lb aw lc bi"><span id="a665" class="ld jr hu kz b fj le lf l lg lh">struct ContentView: View {<br/>    var body: some View {<br/>        TabView {<br/>            VehiclesView() // View First Tab<br/>                .tabItem {  Label("Vehicles", systemImage: "list.dash")}<br/>            <br/>            Text("Tab2") // View Second Tab<br/>                .tabItem {  Label("Profile", systemImage: "person.circle")}<br/>        }   <br/>    }<br/>}</span></pre><p id="6e05" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">现在，在第一个选项卡中，我们有一个导航视图，我们可以在第一个选项卡中导航。</p><figure class="ku kv kw kx fe hl es et paragraph-image"><div class="es et li"><img src="../Images/fc05f1293d33e8984dd262ffa3601206.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*KHfBigzuxIHvacUb.png"/></div></figure><p id="a1cd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">作为练习，您可以创建一个个人资料页面。</p><p id="9d1c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">注意:英语不是我的母语，所以我对一些错误感到抱歉。如果你能纠正我，我将不胜感激。</p></div><div class="ab cl ll lm gq ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hc hd he hf hg"><p id="ed4f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated"><em class="jp">原载于2021年5月11日</em><a class="ae kt" href="https://nicoladefilippo.com/navigation-in-swiftui/" rel="noopener ugc nofollow" target="_blank"><em class="jp"/></a><em class="jp">。</em></p></div></div>    
</body>
</html>