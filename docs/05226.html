<html>
<head>
<title>Making Django website faster than before just using simple tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用简单的技巧让Django网站比以前更快</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/making-django-website-faster-than-before-just-using-simple-tricks-7cbe86df281?source=collection_archive---------11-----------------------#2021-07-15">https://medium.com/geekculture/making-django-website-faster-than-before-just-using-simple-tricks-7cbe86df281?source=collection_archive---------11-----------------------#2021-07-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8779" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天我们将学习一些非常简单的技巧，让你的Django网站比以前更快</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/9577e79fa683c0b4949f9e9e6a4c0487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZjJwpEXpj4Q9I-b5Hjmytw.jpeg"/></div></div></figure><p id="63e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好，</p><p id="9728" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以基本上我是一个Django开发者，在用Django制作网站时，我不喜欢的是有时数据库查询非常慢，最终导致网站运行缓慢，我们知道当我们的网站加载速度不够快时会发生什么。</p><p id="bb7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么我们能做些什么来让我们的网站加载得更快呢？</p><p id="38eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">别担心，我在这里帮助你，今天我将告诉你4个简单的方法让你的Django网站变得更快。</p><p id="d7fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们开始吧。</p><p id="541a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。使用for循环添加多个数据有点无聊:</strong></p><p id="f09e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以当我还是Django的新手时，为了在我用于循环的模型中添加多个数据点。</p><p id="edea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像这样:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/6ca3a99678f8c65c79645c2558f79285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/0*ZYm20l1j-UNsqUej"/></div></figure><p id="2123" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是你知道吗，这是一个非常缓慢的过程，会导致你的网站速度变慢。</p><p id="ee2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么添加多个数据点的最佳方法是什么呢？</p><p id="8f0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需使用<strong class="ih hj"> bulk_create() </strong>这是一个数据库查询API，可以一次创建多个数据点。</p><p id="96ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法是:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/80f36d6b1fc2bee349a92a368cc800a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/0*6AOgvE-7MvhZ_m4i"/></div></figure><p id="825b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些代码片段是我做的一个项目的例子。</p><p id="bb56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这段代码中，我制作了一个问题模型列表，然后使用bulk_create()并将该列表作为参数传递，以创建数据点。</p><p id="60a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你也可以这样做:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/1d1a29b6d52a14917b1cc6d973437f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q6kZZqJN-qXD5Apw"/></div></div></figure><p id="8c13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是实现相同目标的更快的方法，相信我，我真的遵循了这个技巧，并从中受益匪浅。</p><p id="f295" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看与普通循环有什么不同？</p><p id="05a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在正常的循环中，您将一个接一个地创建一个数据，这会导致后端负载增加，最终导致速度变慢，但是bulk_create()会一次创建所有实例。</p><p id="096b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们进入下一个技巧。</p><p id="2683" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。你为什么一个接一个地更新数据点？:</strong></p><p id="c625" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">和以前一样，Django中有一个更新任何数据实例的功能。</p><p id="cf71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用循环或只使用bulk_update()来更新。</p><p id="321a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用循环来更新任何数据点都非常慢，并且需要花费大量时间。</p><p id="ad95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以只需使用bulk_update()。</p><p id="2475" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以可以像这样使用bulk_update ():</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/18bb59ab47cf47b1db796abd45e1c817.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*V1o4GCdugaf_8QXu"/></div></figure><p id="60ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是你可以一次更新多个数据点的方法，也可以减少服务器的负载。</p><p id="1879" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们跳到下一个技巧。</p><p id="52bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。使用串行器上传图像:</strong></p><p id="3497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以上传图片在Django中是非常重要的，但是正如你所知道的，图片非常重，所以上传它们是一个非常大的问题，特别是如果你使用的是Django rest API，并且你有一个像reactJS这样的前端。</p><p id="89f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么你能做些什么呢？</p><p id="e194" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用APIView和解析器类来实现这一点，这是最快也是最简单的方法。</p><p id="8a2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我告诉你怎么做。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/e31529c6cf71761df5109539933b0080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/0*bvpWBjkY2QWOVHRd"/></div></figure><p id="c2b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是通过API上传图像的最佳方式。</p><p id="2e0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">APIView中需要一个后置函数，这样就可以很好地工作了。</p><p id="892a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我知道有时候你会遇到视图集和序列化器，对于上传图片来说，这也是一个很好的方法，但是有时候会出现恼人的错误，所以我认为简单地使用APIView更好，它会帮助你避免恼人的错误。</p><p id="30b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">序列化器总是很适合和API一起使用，因为它非常快。</p><p id="bcf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。创建单个实例的最佳方式:</strong></p><p id="7d30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，无论何时创建任何实例，都有两种方法可以做到这一点，让我向您展示这两种方法。</p><p id="2076" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一种方法是简单地使用。像这样创建()。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/67949c6cf730109d592e0373f2c1211a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/0*QJ8fzJPzk5Wxvjaj"/></div></figure><p id="93f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">显然，这是一个伟大的方法，但我发现一件事，而使用它。</p><p id="072e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你有超过5个值的时候，这是一个非常慢的方法。您会发现仅仅创建一个实例就要花费大量时间。</p><p id="9abe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有时，它甚至会抛出一些恼人的错误。</p><p id="95ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，创建单个实例的最佳方式是什么呢？</p><p id="266f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们来谈谈另一种方法。</p><p id="1419" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个方法看起来没什么问题，但是对于5个以上的值来说是很棒的。</p><p id="2826" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法是:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/c15c0000c5ec9e3157728a01bc569770.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*i9vaGmcpOOKC8JJr"/></div></div></figure><p id="2e08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是超过5个值的最佳方法</p><p id="ce9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">相信我，这是你见过的最伟大的方法。</p><p id="1ad8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它看起来很慢，但对于一个大项目来说很棒，更多的代码行并不意味着更复杂或处理更慢。</p><p id="f22c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这四个技巧是我自己的实验结果，我让我的在线作业管理系统(只是为了练习)更快。</p><p id="47d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些技巧是我2个月的常规练习和工作成果，所以不要忽视这一点，这些都是杰作。</p><p id="b77d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢，我的文章到此结束。</p><p id="1e31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">。在Instagram上关注我:【https://www.instagram.com/aviar.org_/ T2】</p><p id="1924" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以买我的代码:<a class="ae jv" href="https://imojo.in/schoolassignment" rel="noopener ugc nofollow" target="_blank">这里是链接</a></p></div></div>    
</body>
</html>