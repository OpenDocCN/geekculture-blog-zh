<html>
<head>
<title>2.5D Platformer: Collectibles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2.5D平台:收藏品</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/2-5d-platformer-collectibles-6cbf47ab7d66?source=collection_archive---------22-----------------------#2021-08-20">https://medium.com/geekculture/2-5d-platformer-collectibles-6cbf47ab7d66?source=collection_archive---------22-----------------------#2021-08-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f089" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将设置我们必须被玩家收集的球体，并设置一个UI显示来显示已经收集了多少。</p><p id="843f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我做的第一件事是创建一个名为Coins的UI文本对象。然后我把正文改为Coins: 0，放在游戏屏幕的左上角。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d1bafffcb440e304bc21a65cd6e46580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4C4op3sfNhTnR9XPBSyVNw.png"/></div></div></figure><p id="34f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我创建了一个名为Collectible的脚本，它将用于游戏中所有可收集的对象。我还将等级中的球体重命名为硬币，并使它们成为一个预置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/da438579ca626c1888fbcb0bd6f1e3fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v-iNw62oCpZP6X9j9Bh47g.png"/></div></div></figure><p id="2c85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候开始为收藏品、文本对象和播放器编写行为脚本了。首先，我将从玩家脚本开始，通过添加一个变量来跟踪玩家拥有的硬币，并添加一个方法AddCoin()，当玩家收集硬币时将调用该方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/6b02f67e239ce27432272d2dbbea8ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iL36kFBarI8eVVrRJ99Fjw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/10901c744126cca7f6d02d67de1e7f31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5W4gUefddSjQFSstVWVtdQ.png"/></div></div></figure><p id="f548" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我会转到可收集的脚本。在那里我需要添加一个OnTrigerEnter事件，并检查碰撞是否与玩家有关。如果是这样的话，我得到一个玩家脚本的句柄，为了安全起见进行空检查，调用AddCoin()方法，然后销毁GameObject。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/7843ef2f4e93b9e7806622e04b886eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8-9Axo-QkPuvdr8UTeQ8Q.png"/></div></div></figure><p id="8922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，是时候在画布GameObject上设置UIManager脚本了。UIManager将有一个公共方法来更新文本显示，并将接受一个int作为参数。最后，我将获得播放器上UIManager的句柄，并在播放器收集硬币时调用该方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/250a1efce2071fa64391781866c71894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3X6sc65vsl22OCtGy8U_2A.gif"/></div></div></figure><p id="6a12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在UIManger脚本中，我将为文本对象创建一个序列化字段，并创建更新硬币显示的方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/523c21859cc7a4c1af8c628898db2bad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DMz8_OaKm5wirpS1c-KgLQ.png"/></div></div></figure><p id="5e58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保存并返回Unity后，我将文本对象拖到UIManager上的空白处，要求输入一个文本对象。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/6921c81ecaf19d6b378644376745bf31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/1*bSnkZHhTOmJGuPc9pu8kFQ.gif"/></div></figure><p id="c534" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就完成了UIManager的设置。现在我可以继续玩家脚本了。首先，我需要在播放器脚本中为UIManager创建一个变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/60b132b762079d477227328bcf272e07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rWrK4SlMm-G1znIGE-LLMw.png"/></div></div></figure><p id="b8f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我将使用这个变量来引用canvas对象上的UIManager脚本，并对其进行空检查以确保安全。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/da0dc5e5473eda41bf7837bb6df3fdf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hC60IpGFeFPCUfPQpCkF2Q.png"/></div></div></figure><p id="bdf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我有了对UIManager的引用，当玩家收集硬币时，我可以调用它的方法UpdateCoinDisplay()。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jv"><img src="../Images/6dd7a93ede9b26fe4cf62e18b35a7164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BWI7r9XuS_V8QEc8pBWihw.png"/></div></div></figure><p id="e369" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在一切都设置好了，硬币显示应该在收集到硬币时更新。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/94466fd6a6ceb72052953e3683da68bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/1*VqPrkD9phknaWu1r5COa-g.gif"/></div></figure><p id="1a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当玩家收集到第一个和第二个硬币时，你可以看到显示更新，就像它应该的那样。</p><p id="d1bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是为了给游戏设置收藏品。我希望你觉得这很有趣，也很有启发性。一如既往，直到下一次，我祝你在自己的编码之旅中一切顺利。</p></div></div>    
</body>
</html>