<html>
<head>
<title>Introduction to RedwoodJS | Reflect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RedwoodJS | Reflect简介</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/introduction-to-redwoodjs-reflect-d25be39779a?source=collection_archive---------14-----------------------#2022-09-30">https://medium.com/geekculture/introduction-to-redwoodjs-reflect-d25be39779a?source=collection_archive---------14-----------------------#2022-09-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/679b44c1eb007f549b158c02c657500c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ywaPH4M8sHUbV5aBNj8Qlg.jpeg"/></div></div></figure><p id="a33f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">RedwoodJS 是JavaScript生态系统中几个新的全栈web框架之一。它被设计成容易上手，但同样容易从小项目扩展到成熟的创业公司。</p><p id="84ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">RedwoodJS将几个流行的库合并到一个单一的一体化框架中，并实现了自己的特性，使构建和维护应用程序的过程更加容易。这包括RedwoodJS CLI，以及一些有用的特性，比如基于路由的代码分割。</p><h1 id="1bd6" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">背景</h1><p id="f9f1" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">雷德伍德JS是由<a class="ae jo" href="https://en.wikipedia.org/wiki/Tom_Preston-Werner" rel="noopener ugc nofollow" target="_blank">汤姆·普莱斯顿-沃纳</a>创造的。普雷斯顿-沃纳是<a class="ae jo" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>的联合创始人、<a class="ae jo" href="https://jekyllrb.com/" rel="noopener ugc nofollow" target="_blank"> Jekyll </a>和<a class="ae jo" href="https://gravatar.com/" rel="noopener ugc nofollow" target="_blank"> Gravatar </a>的创造者、<a class="ae jo" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">语义版本规范</a>的作者、<a class="ae jo" href="https://toml.io/en/" rel="noopener ugc nofollow" target="_blank"> TOML </a>的发明人。</p><p id="bbee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">红杉是以原产于北加州的红杉命名的，汤姆·普雷斯顿·沃纳就生活在那里。普雷斯顿-华纳认为该框架与红杉树有共同的特征，特别是它从一棵小树苗开始，但成长为一棵健壮成熟的树的能力。</p><p id="0a45" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">除了类比，让我们探索RedwoodJS的细节，并演示如何创建您的第一个RedwoodJS应用程序。</p><h1 id="cafa" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">RedwoodJS与其他流行的全栈框架有什么不同？</h1><p id="1f70" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">RedwoodJS应用程序由前端和后端组件组成。在这方面，它可能与Next.js联系最紧密，后者是当前最流行的JavaScript应用程序全栈框架。在RedwoodJS中，后端实现一个GraphQL API，前端用React构建。前端包含<em class="ks">单元</em>，它允许您声明性地管理获取和显示数据的组件和常规React组件的生命周期。简而言之，RedwoodJS应用程序是一个与自定义GraphQL API通信的React前端。</p><p id="f83d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一些关键特性包括:</p><ul class=""><li id="b994" class="kt ku hi is b it iu ix iy jb kv jf kw jj kx jn ky kz la lb bi translated">简单而强大的路由使您能够映射URL路径来轻松地对“页面”组件做出反应。它用动态(类型化)参数、自定义类型和用于生成正确URL的命名路由函数在一个文件中定义了所有路由。</li><li id="e9ef" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">Redwood的GraphQL API实现允许您开发内部“服务”，这些服务代表它们自己的内部API，并自动将它们与Apollo连接起来。API使用Prisma的ORM与数据库交互，Prisma的迁移工具有助于简化数据库模式的更改。</li><li id="1d92" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">与Jest测试框架以及Storybook的紧密集成使得单元测试和组件测试非常容易设置。</li><li id="9ad5" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">RedwoodJS包括自动代码分割，它根据每个路由边界分割代码。此外，其他关键功能，如设置身份验证或CSS框架，使用RedwoodJS非常容易，因为只需一次命令行调用。</li></ul><h1 id="b793" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">RedwoodJS在用什么库和技术？</h1><p id="089b" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Redwood的理念是尽可能利用流行的库，并提供一个垫片层，使开发体验更具凝聚力。RedwoodJS由以下JavaScript库组成:</p><h1 id="714e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">代码示例:使用RedwoodJS创建一个简单的应用程序</h1><p id="5bbe" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">在开始开发RedwoodJS应用程序之前，请确保您已经安装了以下先决条件。</p><p id="8597" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们将看到如何使用RedwoodJS全栈框架创建一个简单的应用程序。</p><h1 id="4f00" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用“创建redwood-app”创建即时RedwoodJS应用程序</h1><p id="2b45" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">如果您使用的是Windows，请在终端中运行以下命令来安装LTS版本的Node。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="3a3f" class="lq jq hi lm b fi lr ls l lt lu">nvm install lts --latest-npm</span></pre><p id="3f26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，对于以下示例，安装最新的LTS和npm，例如16.13.1。</p><p id="c96c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">RedwoodJS使用Yarn作为它的包管理器，所以您需要通过下面的命令来安装它:</p><p id="a46c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在您已经准备好用Redwood创建您的第一个应用程序了。使用以下命令创建一个Redwood项目框架。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="2c1d" class="lq jq hi lm b fi lr ls l lt lu">yarn create redwood-app my-first-redwood-app</span></pre><p id="9f24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您更喜欢使用TypeScript，可以用一个命令创建一个TypeScript应用程序:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="0937" class="lq jq hi lm b fi lr ls l lt lu">yarn create redwood-app my-redwood-project --typescript</span></pre><p id="c40e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">命令完成后，使用以下命令导航到创建的应用程序目录。</p><p id="ee21" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，启动开发服务器:</p><p id="f06d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个新的浏览器窗口将在<code class="du lv lw lx lm b">http://localhost:8910</code>打开本地开发服务器。您应该会在浏览器中看到以下应用程序:</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/4881901393405656bf548f76ec616395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*izwbMK2wfmI60e0r.png"/></div></div></figure><p id="f87c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜你，你现在有了一个可用的RedwoodJS应用程序！RedwoodJS CLI 有很多功能可以帮助加速开发，即使在最初的应用程序创建之后。您可以通过在线文档或CLI帮助，运行“redwood”或“redwood-tools”命令来探索此功能。</p><h1 id="3999" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">定义模式</h1><p id="96d5" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">用Redwood创建即时应用程序非常容易。通常，数据是应用程序CRUD操作的核心部分。您需要从希望包含在应用程序中的数据库模式或表开始。打开api/db文件夹中的“schema.prisma”文件，并为您的应用程序定义模式。RedwoodJS使用<a class="ae jo" href="https://www.prisma.io/" rel="noopener ugc nofollow" target="_blank"> Prisma </a>，一种流行的JavaScript/TypeScript ORM，与数据库通信。这个模式文件定义了应用程序的数据模型。</p><p id="99f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设我们正在创建一个让您管理图书收藏的应用程序，我们希望创建一个让您输入图书详细信息并将其保存到数据库的页面。此外，我们可能还想列出数据库中现有的书籍，并执行CRUD操作，如创建、删除、编辑等。在“schema.prisma”文件中定义book表的模式，如下例所示。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="3529" class="lq jq hi lm b fi lr ls l lt lu">model Book { id Int @id @default(autoincrement()) BookName String Author String Quantity Int @default(0) Price Float createdAt DateTime @default(now()) }</span></pre><h1 id="a6cd" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">创建迁移</h1><p id="e48f" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">一旦您定义了模型，您需要将您所做的更改应用到您的开发数据库中。为此，使用<a class="ae jo" href="https://www.prisma.io/migrate" rel="noopener ugc nofollow" target="_blank"> Prisma Migrate </a>可以轻松地迁移您的数据库，不会出现任何问题。键入以下命令来创建迁移，并将它们应用到开发数据库。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="8625" class="lq jq hi lm b fi lr ls l lt lu">yarn rw prisma migrate dev</span></pre><p id="9e7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在提示中提供迁移的名称。对于本例，我们将名称指定为“创建书籍”然后，使用下面的命令生成在我们的图书模型上执行所有CRUD(创建、读取、更新、删除)操作所需的一切。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="06ec" class="lq jq hi lm b fi lr ls l lt lu">yarn redwood g scaffold book</span></pre><p id="0934" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转到网址<code class="du lv lw lx lm b">http://localhost:8910/posts/new</code>。您将获得一个基于Book模式的小应用程序，如下所示。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/67ac0a04fbe60daa607af7f8c767bb48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WnjVIshoVY5N-LTk.png"/></div></div></figure><p id="07a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输入书名、作者、数量和价格细节，然后点击“保存”按钮。它将在book表中创建新记录，您将看到所创建数据的输出。单击“创建帐簿”按钮创建新数据。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/8077072bdb240e0abe530a33db7b12a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RoRJMmf129JY-Wt5.png"/></div></div></figure><p id="e2de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击“显示”按钮，您可以查看数据的详细视图。您也可以通过相应的按钮进行编辑和删除操作。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/ca680033dab557f56c9527336aa41fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UKtAIqGoJLYU9hCp.png"/></div></div></figure><p id="2ca9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该应用程序已自动创建以下路径的页面列表。</p><ul class=""><li id="1922" class="kt ku hi is b it iu ix iy jb kv jf kw jj kx jn ky kz la lb bi translated">新书-&gt; <code class="du lv lw lx lm b">/books/new</code></li><li id="2e9e" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">editBook -&gt; <code class="du lv lw lx lm b">/books/{id:Int}/edit</code></li><li id="4781" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">书-&gt; <code class="du lv lw lx lm b">/books/{id:Int}</code></li><li id="afc1" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">书籍-&gt; <code class="du lv lw lx lm b">/books</code></li></ul><p id="c507" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您一定已经注意到，您没有为这些CRUD操作编写任何代码。您只为您的模式声明了模式，框架会自动生成这些操作所需的前端布局和后端功能。这意味着即使像这样简单的应用程序也可以用更少的代码提供重要的功能。它显示了这个框架对于初学者来说是多么容易掌握，并且可以更快地扩展到更复杂的应用程序。</p><h1 id="2b46" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">部署选项</h1><p id="d6ad" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">RedwoodJS脱颖而出的另一个原因是其可用的部署选项。我们可以将一个RedwoodJS应用程序部署到一个无服务器或传统的服务器和容器提供者上，而彼此之间不需要修改代码。这意味着它为无服务器和传统基础设施提供一流的Jamstack风格的部署:<a class="ae jo" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>、<a class="ae jo" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a>、<a class="ae jo" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a>、<a class="ae jo" href="https://render.com/" rel="noopener ugc nofollow" target="_blank"> Render </a>或<a class="ae jo" href="https://community.redwoodjs.com/t/dockerize-redwoodjs/2291" rel="noopener ugc nofollow" target="_blank"> Docker容器</a>(用于AWS、谷歌云、Azure等。).</p><h1 id="88c0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><p id="b777" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">RedwoodJS是一个全栈的web框架，它让您可以用更少的代码开发从简单到复杂的应用程序。本文描述了它区别于其他流行框架的独特特性，以及它使用的库和技术。本文还解释了如何用这个框架创建一个简单的应用程序。总的来说，RedwoodJS是创业公司更快构建应用程序的一个很好的框架。它使您的应用程序更快上市。</p></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="5319" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ks">最初发布于</em><a class="ae jo" href="https://reflect.run/articles/introduction-to-redwood-js/" rel="noopener ugc nofollow" target="_blank"><em class="ks">https://reflect . run</em></a><em class="ks">。</em></p></div></div>    
</body>
</html>