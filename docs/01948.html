<html>
<head>
<title>Understanding Redux with Fun Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用有趣的项目了解Redux</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/understanding-redux-with-fun-project-a58e5a7e017?source=collection_archive---------23-----------------------#2021-04-29">https://medium.com/geekculture/understanding-redux-with-fun-project-a58e5a7e017?source=collection_archive---------23-----------------------#2021-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="dcb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个有趣的项目，用react钩子解释Redux。</p><p id="24d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们将使用创建一个react应用程序</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/8791b40e1812dcb412e6515788fb2a3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*ILtBuerYJ3w4JKJhFJoF6A.png"/></div></figure><p id="467d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，当react脚本和dom安装后，我们需要2个额外的npm包，它们是</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/135001822a605d1fd9f6333ad3fc0a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*z1hTI-uBTbjgKGcka_PLUg.png"/></div></figure><p id="f0a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装完所有这些文件后，现在我们可以开始创建我们的应用程序了。</p><p id="a3c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，redux基本上用于react应用程序中的状态管理，在redux中创建了一个存储，在该存储中存储了我们应用程序的所有状态，并且该存储通过redux对我们应用程序的所有组件可用，因此我们可以在任何我们想要的组件中自由使用我们的状态，而无需经历在组件内传输属性的令人厌倦的属性钻取过程。</p><p id="2cd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们知道了为什么使用redux，并且对它有了一个简要的概述，我们可以深入研究如何在我们的项目中使用redux。在这个项目的帮助下，我将向您解释redux的功能和用法，到本文结束时，您将会很好地掌握redux的特性，并会获得使用它的信心。</p><p id="c09e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在将开始创建一个redux商店，这是通过从Redux包中导入“createStore”函数来实现的</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/bb59f0eb0f2358ba2bb5ddc2d8419824.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*enrbJwtPcqP18seaTVw3rg.png"/></div></figure><p id="45cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们必须将rootReducer作为一个参数传递给我们的createStore，以便我们的存储具有我们想要在组件中访问的状态。(将在前面解释rootReducer)。之后，我们将导入“Provider”函数，该函数将包装在我们的主应用程序组件周围，以便我们可以访问应用程序组件的每个子组件中的商店状态。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jn"><img src="../Images/48e0a5afda48679474db66a06d3c6ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*fELF3myAAeKVkaXFS7tVsA.png"/></div></figure><p id="8cce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在src目录中创建一个store组件，然后在其中创建一个index.js文件。在index.js文件中，我们将导入所有的Reducer，然后将它们组合成一个单独的rootReducer对象，在存储中使用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jo"><img src="../Images/cb760e194ef18bd87fdb25d5911532c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9nflboqSsBHSqHdjtDc39g.png"/></div></div></figure><p id="18fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设置好rootReducer后，我们将进一步了解Reducer。(以上所说的都是样板文件，你需要在你制作的每个redux应用中重复使用)。</p><p id="5950" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">reducer基本上是一个函数，其中我们接收两个参数，即状态和动作，状态是我们的应用程序的状态，动作是一个对象，可以导致此状态的变化。这个动作是由useDispatch钩子触发的，我们可以将它导入到任何组件中，然后在这个钩子的帮助下，可以在redux中改变状态。此外，要访问任何组件内部的存储状态，我们可以使用该组件内部的useSelector挂钩，然后我们可以访问该挂钩中的状态。</p><p id="a686" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能很难理解这一切，但现在坚持住，你会慢慢开始掌握这些东西，直到本文结束。</p><p id="8124" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，现在我们来看看缩减器的结构是什么样子的(缩减器的结构在所有的应用中都是一样的，这是一个标准的惯例，可以这样写)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/e58b419c3caa8b0e26941d2678216fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82wrmmGhdvqrJrtBTsUohQ.png"/></div></div></figure><p id="392d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong> — 1)在reducer函数中，状态永远不能为空，所以总是以初始状态或state=[]或state={}开始。</p><p id="a5bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)我们不能改变存储在内存中的预先存在的状态，这意味着我们不能做state.value = something(不工作)，我们应该并且总是这样做return {…state，value = something}，这样你就创建了一个新的状态对象，而没有改变之前的状态对象。</p><p id="fe5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3)状态参数是我们接收的前一个状态，我们返回的将成为下一个状态(更新的状态)等等。</p><p id="0eee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">动作对象由想要改变状态的组件发送。</p><p id="dae3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">动作对象是这样的——{ type:' INCREMENT '，payload : something}，</p><p id="08cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，使用“类型”,我们将触发不同的更改，有效载荷将保存该更改所需的数据，但在增量的情况下，因为我们不需要任何数据，所以我们不需要在有效载荷中发送任何内容，只有类型将足以对状态进行更改。</p><p id="1210" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong> —随着状态的每一个微小变化，使用该状态的组件将自动重新呈现，以显示该组件中正在使用的状态的任何变化。</p><p id="99f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您对redux的工作有了一些了解，我将告诉您有关该应用程序的信息，因此在该应用程序中，我们将有一个搜索栏，我们将在其中输入一个数字，该数字将被用作运算符=1(默认)和值=0(默认)，将有5个操作-递增，递减，相乘，除，重置。所以，假设你设置操作符的值为5，然后使用增量，我们得到的值为5，通过减量，我们得到的值为-5，我希望你知道这个应用程序是如何工作的。</p><p id="a374" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们将使用编码和Javascript (ES6)技能来操纵reducer函数内部的状态，您可以在arithmeticReducer函数中看到，并了解它需要如何完成。</p><p id="8384" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我将告诉您如何从组件调度操作来更改商店状态，以及如何在我们应用程序的不同组件中访问商店状态。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ju"><img src="../Images/80c78b6d019faebd136f405c849b4248.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5xNBRmUs_nr5CojvzimHCw.png"/></div></div></figure><p id="1d0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了访问状态，我们必须导入useSelector，并从我们将导入的组件中调度操作。useSelector接收状态作为参数，我们可以从状态中访问算法以访问算术Reducer函数的状态，这样做是为了确保我们可以获得所需的reducer函数的状态，因为我们的应用程序可以有许多不同的reducer。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jv"><img src="../Images/76a2a7c2ac7b09abd7ddddae4b8cbabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_cuNh3KJoJj226btIqN_Fw.png"/></div></div></figure><p id="3dcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们知道arithmeticReducer函数状态具有值和运算符属性，我们可以使用对象析构来访问这些属性，如上所示。</p><p id="a88e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谈到如何分派动作，我们将得到dispatch = useDispatch，现在我们需要发送一个包含类型和有效负载(如果需要)的actions对象来访问</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jw"><img src="../Images/8c7e839ea7a1e726ddd5f31b106e711c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*idnG1FZyIbW8Vo4Tkdnxlw.png"/></div></div></figure><p id="4f5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在分派动作后，新的状态对象将被返回，这将导致通过useSelector使用状态重新呈现组件，并且组件内的更改将立即生效。</p><p id="22be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中已经解释了这个应用程序中与redux相关的所有事情，剩下的是基本代码，包括样式和不依赖于redux的用户输入。我希望你做一些类似的事情来克服你自己使用redux的恐惧，这样这篇文章中讲述的所有事情都会牢牢记在你的记忆中。</p><p id="5828" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想玩这个应用程序(这是链接)——<a class="ae jx" href="https://fun-redux-project.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://fun-redux-project.netlify.app/</a></p><p id="7fe8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这篇文章能帮助你理解redux，尽管我已经尽力用最好的方式解释了redux。</p><p id="6832" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读:)</p></div></div>    
</body>
</html>