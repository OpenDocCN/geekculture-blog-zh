<html>
<head>
<title>Validating Roman Numerals — Hackerrank</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">验证罗马数字— Hackerrank</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/validating-roman-numerals-hackerrank-744f73106ebf?source=collection_archive---------4-----------------------#2022-06-14">https://medium.com/geekculture/validating-roman-numerals-hackerrank-744f73106ebf?source=collection_archive---------4-----------------------#2022-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e89ea0af234aeb9ad3e7952b28c737af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CCs5L5YJqvIlmyr70eqlAw.png"/></div></div></figure><p id="7097" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">问题陈述:给你一个字符串，你必须验证它是否是一个有效的罗马数字。如果有效，打印True。否则，打印False。尝试为有效的罗马数字创建一个正则表达式。</p><p id="9259" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">输入格式:</strong>包含一串罗马字符的单行输入。</p><p id="3f79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">输出格式:</strong>根据上面的指令，输出包含真或假的单行。</p><p id="fd7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">约束:</strong>数字将在<strong class="is hj"> 1 </strong>和<strong class="is hj"> 3999 </strong>之间(包括两者)。</p><p id="c516" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">样本输入</strong></p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="0fd5" class="jx jy hi jt b fi jz ka l kb kc">CDXXI</span></pre><p id="4bcd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">样本输出</strong></p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="9d8f" class="jx jy hi jt b fi jz ka l kb kc">True</span></pre></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><h1 id="1d6a" class="kk jy hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated"><strong class="ak">解决方案:- </strong></h1><p id="97c8" class="pw-post-body-paragraph iq ir hi is b it lh iv iw ix li iz ja jb lj jd je jf lk jh ji jj ll jl jm jn hb bi translated">让我们先了解书写罗马数字的规则:-</p><h1 id="b2a9" class="kk jy hi bd kl km lm ko kp kq ln ks kt ku lo kw kx ky lp la lb lc lq le lf lg bi translated">书写罗马数字的规则</h1><ul class=""><li id="f6b1" class="lr ls hi is b it lh ix li jb lt jf lu jj lv jn lw lx ly lz bi translated">重复多少次，符号的值就加多少次。(例如III-3、XXX-30和CCC-300)。</li><li id="56cf" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn lw lx ly lz bi translated">一个符号最多可以重复三次，例如XXX = 30，MMM= 3000，等等。</li><li id="5c5b" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn lw lx ly lz bi translated">符号V、L和D是<strong class="is hj"> <em class="mf">从不</em> </strong>重复。</li><li id="5d06" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn lw lx ly lz bi translated">当较小值的符号出现在较大值的符号之后时，其值将被相加。比如- VI = V + I = 5 + 1 = 6。</li><li id="4ddc" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn lw lx ly lz bi translated">当较小值的符号出现在较大值的符号之前时，它将被减去。例如-IX = X—I = 10–1 = 9。</li><li id="efdb" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn lw lx ly lz bi translated">符号<strong class="is hj"> V、L、</strong>和<strong class="is hj"> D </strong>从不减去<strong class="is hj"><em class="mf"/></strong>，因为它们不写在更大值符号之前。</li><li id="330f" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn lw lx ly lz bi translated">符号<strong class="is hj"> I </strong>只能从<strong class="is hj"> V </strong>和<strong class="is hj"> X </strong>中减去，符号<strong class="is hj"> X </strong>只能从符号<strong class="is hj"> L、M </strong>和<strong class="is hj"> C </strong>中减去。</li></ul><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="e48f" class="jx jy hi jt b fi jz ka l kb kc"># Roman Numerals</span><span id="f249" class="jx jy hi jt b fi mg ka l kb kc"># 1    I<br/># 5    V<br/># 10   X<br/># 50   L<br/># 100  C<br/># 500  D<br/># 1000 M</span><span id="828c" class="jx jy hi jt b fi mg ka l kb kc"># Digits - I II III <strong class="jt hj">IV</strong> V VI VII VIII <strong class="jt hj">IX</strong> X<br/># Tens - X XX XXX <strong class="jt hj">XL</strong> L LX LXX LXXX <strong class="jt hj">XC</strong> C<br/># Hundreds - C CC CCC <strong class="jt hj">CD </strong>DC DCC DCCC <strong class="jt hj">CM</strong> M<br/># Thousands - M MM MMM</span></pre><p id="4878" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要解决这个问题，我们必须把它分解成几个部分。</p><ol class=""><li id="f4a0" class="lr ls hi is b it iu ix iy jb mh jf mi jj mj jn mk lx ly lz bi translated"><strong class="is hj">数字:</strong>由字母I、V和X组成，注意上面的粗体字- <strong class="is hj"> I </strong>后面是<strong class="is hj"> V </strong>和<strong class="is hj"> X </strong>。另外，<strong class="is hj"> I </strong>之前只有一个或零个<strong class="is hj"> V </strong>。<br/>I【VX】—<strong class="is hj">I(最多三个)</strong>由<strong class="is hj"> V </strong>和<strong class="is hj"> X <br/> </strong> V接替？[I]{0，3} — <strong class="is hj"> I </strong>前面只有<strong class="is hj"> V(零或一)<br/> </strong>我们用“或”条件组合这两种模式，因为一次只能出现一种。<br/>于是，digits = '(V？' I]{0，3}|I[VX])'</li><li id="c518" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn mk lx ly lz bi translated"><strong class="is hj">十位:</strong>由字母X、L、C组成，注意上面的粗体字- <strong class="is hj"> X </strong>后面是<strong class="is hj"> L </strong>和<strong class="is hj"> C </strong>。还有，<strong class="is hj"> X </strong>前面只有一个或者零个L，<br/>X【LC】—<strong class="is hj">X(最多三个)</strong>后面是<strong class="is hj"> L </strong>和<strong class="is hj"> C <br/> </strong> L？[X]{0，3} — <strong class="is hj"> X </strong>前面只有<strong class="is hj"> L(零或一)<br/> </strong>我们用“或”条件组合这两种模式，因为一次只能出现一种。<br/>于是，tens = '(L？[X]{0，3}|X[LC])'</li><li id="a3a8" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn mk lx ly lz bi translated"><strong class="is hj">百位:</strong>同理，百位= '(D？' C]{0，3}|C[DM])'</li><li id="b6bd" class="lr ls hi is b it ma ix mb jb mc jf md jj me jn mk lx ly lz bi translated">千:我们得到的范围是1到3999(包括1和3999)。所以只能有1000，2000，3000。<br/>这意味着，千= 'M{0，3} '</li></ol><p id="24f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，组合所有的模式并使用<strong class="is hj"> '$' </strong>来匹配字符串的结尾(表示模式的结尾)</p><p id="8190" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> regex_pattern =千+百+十+位数+'$' </strong></p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="d9a4" class="jx jy hi jt b fi jz ka l kb kc">import re</span><span id="a67a" class="jx jy hi jt b fi mg ka l kb kc">input_string = str(input())</span><span id="33d6" class="jx jy hi jt b fi mg ka l kb kc">digits = '(V?[I]{0,3}|I[VX])'<br/>tens = '(L?[X]{0,3}|X[LC])'<br/>hundreds = '(D?[C]{0,3}|C[DM])'<br/>thousands = 'M{0,3}'</span><span id="0b43" class="jx jy hi jt b fi mg ka l kb kc">regex_pattern = thousands + hundreds + tens + digits +'$'</span><span id="3d74" class="jx jy hi jt b fi mg ka l kb kc">print(str(bool(re.match(regex_pattern, input_string))))</span></pre><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/02950c0c6adc4e2644a0c2f7396ac9a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VG-fyglvUSF6-PPQH1GiTQ.png"/></div></div></figure><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/6c977acab4d6c4b008d06ba7347c93c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgKG6fQdGZkH_U3abU8GWQ.png"/></div></div></figure></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="081e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你觉得这篇文章很有帮助，请与你的朋友和同事分享。如果还有其他问题，可以上<a class="ae mn" href="https://www.linkedin.com/in/shefali-bisht/" rel="noopener ugc nofollow" target="_blank"><em class="mf">Linkedin</em></a><em class="mf">找我。</em></p></div></div>    
</body>
</html>