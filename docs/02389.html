<html>
<head>
<title>E-mails through Python!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Python发邮件！</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/e-mails-through-python-6fec8e865b7a?source=collection_archive---------19-----------------------#2021-05-13">https://medium.com/geekculture/e-mails-through-python-6fec8e865b7a?source=collection_archive---------19-----------------------#2021-05-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="cb24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Python发送电子邮件。是的，你没看错。</p><p id="f10c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将围绕如何使用SMTP和电子邮件库使用Python通过Gmail发送电子邮件展开。这种方法非常简单易懂。所以，事不宜迟，让我们开始吧！</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="286b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在您开始编写代码之前，您需要对您打算在这个小演示中使用的Gmail帐户进行某些安全更改。你需要做的就是进入“管理你的谷歌账户”,然后进入安全设置。一旦你到了那里，你需要做的就是打开“不太安全的应用程序访问”。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/ef19b38177e6be824ccf57275b89dcb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u-0Jq_7GmYSLlSUM1E6h5g.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx">Turn this on.</figcaption></figure><p id="1fbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们可以开始编写代码了。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="39fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，您只需要两个库:来自电子邮件库的SMTP和MIMEText。</p><p id="601f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SMTP或“简单邮件传输协议”,主要处理服务器之间电子邮件的发送和路由。Python慷慨地为我们提供了一个内置的smtplib模块，通过这个模块我们可以创建一个SMTP客户端会话对象，用来发送邮件。</p><p id="2045" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">电子邮件库中的MIMEText将用于构建电子邮件，即正文和主题。</p><p id="ecad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码如下所示。</p><pre class="jl jm jn jo fd ka kb kc kd aw ke bi"><span id="3086" class="kf kg hi kb b fi kh ki l kj kk">import smtplib<br/>from email.mime.text import MIMEText</span><span id="24c5" class="kf kg hi kb b fi kl ki l kj kk">s = smtplib.SMTP('smtp.gmail.com', 587)  #creates object</span><span id="1234" class="kf kg hi kb b fi kl ki l kj kk">s.starttls()</span><span id="dbb1" class="kf kg hi kb b fi kl ki l kj kk">s.login('sender_email@gmail.com', 'password')</span><span id="2c96" class="kf kg hi kb b fi kl ki l kj kk">message = MIMEText('Hey')  #Body of the email<br/>message['Subject'] = 'Hi!'  #Subject of the email<br/>list = ['receiver_address_1@gmail.com', 'receiver_address_2<a class="ae km" href="mailto:hemamatalia@gmail.com" rel="noopener ugc nofollow" target="_blank">@gmail.com</a>']  #the list of all the destinations</span><span id="36c7" class="kf kg hi kb b fi kl ki l kj kk">for i in list:<br/>    s.sendmail('sender_email@gmail.com', i, message.as_string())</span><span id="faf5" class="kf kg hi kb b fi kl ki l kj kk">s.quit()</span></pre><p id="ba35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您甚至可以将文件读入一个字符串，并将其作为邮件正文保存到邮件中。</p><p id="5752" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了简单起见，我用这个给自己发了一封邮件，运行程序后得到的输出是这样的。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kn"><img src="../Images/bb8e0d1c5bfa5350584069db6c940141.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*VZkPQ5DGYNkAQc6cs5t3IA.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx">The received mail.</figcaption></figure><p id="a15d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一小段代码可能是您武器库中的一个不错的小武器。您可以使用它直接通过电子邮件发送您的输出。你甚至可以把它当作一个提醒系统，用它直接向你的收件箱发送提醒。这是一段非常通用的代码，可以让你的程序更上一层楼。</p><p id="fa66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你喜欢这篇短文，请继续关注未来的项目。</p></div></div>    
</body>
</html>