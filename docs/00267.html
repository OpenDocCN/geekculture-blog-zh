<html>
<head>
<title>Playing With Static Partitions(Linux)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用静态分区(Linux)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/playing-with-static-partitions-linux-94b50088fff5?source=collection_archive---------1-----------------------#2020-12-23">https://medium.com/geekculture/playing-with-static-partitions-linux-94b50088fff5?source=collection_archive---------1-----------------------#2020-12-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/864542bf2c6422c557f53ebcfa37ca37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mUIQGOG0mfUHjI8aNYbWfA.png"/></div></div></figure><p id="5763" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">真的吗？我们可以增加或减少在Linux操作系统中创建的静态分区的大小吗？</p><h1 id="d300" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">操作系统中的什么分区</h1><p id="f887" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在操作系统中，内存管理是负责分配和管理计算机主内存的功能。内存管理功能跟踪每个内存位置的状态，无论是分配的还是空闲的，以确保有效和高效地使用主内存</p><p id="3190" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">静态(固定)分区: <br/>这是最古老也是最简单的技术，用于将多个进程放入主存。在这种分区中，RAM中的分区(非重叠)数量<strong class="is hj">是固定的，但是每个分区的大小</strong>可能相同<strong class="is hj">也可能不同</strong>。由于是<strong class="is hj">连续</strong>分配，因此不允许跨越。这里，分区是在执行之前或系统配置期间进行。</p><p id="b46b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们试试增加静态分区的大小，看看我们是否会成功。</p><p id="915e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第一步</strong></p><p id="934f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">向系统添加新硬盘。在<strong class="is hj"> #fdisk -l </strong>命令的帮助下，我们可以看到连接到我们系统的硬盘的所有细节。在我的系统中，我添加了一个5GB的硬盘。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/200498a4d01ec7d16cb5e63b6cf61820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m4SHAbUSAip6RC-93qwJZA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">initial details of hard disk</figcaption></figure><p id="9fe2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第二步</strong></p><p id="c4be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们必须在硬盘上创建一个新的分区。对于这次运行<strong class="is hj"> #fdisk [hd_name ] </strong>在我的情况下/dev/nvme0n2。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/6a851dabeaa20d08878d9d656ba83b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3uEaBfzgN93SQNMPqPYZw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">creating a new partition</figcaption></figure><p id="f98b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，n用于新分区，p用于主分区类型，1个分区号，起始大小用作默认的2048，大小为+2G，即2 gb。最后用“w”来写修改。</p><p id="eaf7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第三步</strong></p><p id="45b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">格式化新创建的分区，并将其挂载到文件夹<strong class="is hj"> /static。</strong></p><p id="02e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以用各种格式来格式化分区，但是在我们的例子中是用<strong class="is hj"># mkfs . ext 4[partition _ name]</strong>来格式化分区，即<strong class="is hj"> nvme0n2p1 </strong>。</p><p id="ff66" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并将分区挂载为<strong class="is hj"># mount/dev/nvme 0 N2 p 1/static</strong>。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/a21b316da3a15807da9ad8c952a71a8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9FONL7m-iW8OOx5EhDSrvw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">formatting and mounting of partition</figcaption></figure><p id="2b9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">#lsblk 是显示所有分区细节的命令。</p><p id="fc41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第4步</strong></p><p id="568a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转到分区目录并创建一些文件。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/60de58248381557c79ed67298268ab93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BjcCBp7LYn75rBO1O27xyQ.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">creating files in /static directory</figcaption></figure><p id="7fdf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第五步</strong></p><p id="2d0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我们增加分区大小的主要步骤。</p><p id="327e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在提交任何更改之前，首先使用<strong class="is hj"># umount[partition _ name]</strong>卸载分区</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/bb92844d7f2786954744c6259ef43f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8d7My6BEgveSA9eLDezpUw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">changing partition size</figcaption></figure><p id="eed5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的“d”用于删除旧分区，“N”用于再次创建新分区，“p”用于主要类型，“4G”用于4 gb，最后给出“N ”,因为它要求删除以前的签名。</p><p id="ce65" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如果我们给出“是”来删除签名，那么它将删除先前的信息节点表，并将创建一个新的信息节点表，并且先前存储的全部数据将被删除。</strong>这就是签名的意义。</p><p id="7b9d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第六步</strong></p><p id="a851" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将运行<strong class="is hj"> #e2fsck -f /dev/nvme0n2p1 </strong>，这将检查分区中是否有任何错误，并删除它们。</p><p id="6c90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一次我们将使用<strong class="is hj"> #resize2fs /dev/nvme0n2p1 </strong>而不是mkfs.ext4，因为该命令只会格式化新添加的数据块，而不会格式化之前的数据块。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/638487bf2c7aef70d9b89defb8f438c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rdBjyz9Qbvi471Aa2B2waA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">running error check and reformatting the newly added block of data</figcaption></figure><p id="368f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第七步</p><p id="c5f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">再次安装分区。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/0dc9ae03841ff65c5f7710ef7261c586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2d6LYrmCY7cOngsl14H_0w.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">remounting the partition</figcaption></figure><p id="c5e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">万岁！！😁😁我们已经成功地增加了分区的大小，而没有改变任何数据。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/1017886625954510362959d7debdda85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7y7-bt72ZS496B_SaKe7OQ.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">final output</figcaption></figure><p id="f9d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">旧数据已经存在于分区中，并且大小也增加了。</p><p id="65ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，我们可以减小大小，但大小应该大于存储的旧数据的大小。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><p id="3955" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢阅读。😊😊</p></div></div>    
</body>
</html>