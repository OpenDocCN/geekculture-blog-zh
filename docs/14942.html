<html>
<head>
<title>Custom Bottom Sheet in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的自定义底部表单</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/custom-bottom-sheet-in-swiftui-48ab9188a809?source=collection_archive---------0-----------------------#2022-10-04">https://medium.com/geekculture/custom-bottom-sheet-in-swiftui-48ab9188a809?source=collection_archive---------0-----------------------#2022-10-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ab4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好，在这个博客中，你将学习如何在SwiftUI中创建一个自定义的底部表单。在这个博客的结尾，你也可以找到源代码链接。在XCode中创建一个全新的SwiftUI项目，跟着我一起做吧。</p><blockquote class="jd je jf"><p id="7cc3" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">在这个博客之后，你将能够创建这样的自定义底部表单:</p></blockquote><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/151e7eb9e9ef6173b8d4b44719c770bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SG1QGn7OTbElzWtdIqO8Qg.png"/></div></div></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jw"><img src="../Images/38e34a1929201df55e9d217f2c7ec32a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*kEL9g5ADnB2tK7dRRg3ErQ.gif"/></div></figure><h1 id="7b57" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak">底板视图</strong></h1><p id="a6ba" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">在创建了一个全新的SwiftUI项目之后，让我们创建<strong class="ih hj"> BottomSheetType </strong> firet。<strong class="ih hj"> BottomSheetType </strong>将是一个枚举，我们在这里只声明了两种情况<strong class="ih hj">在线</strong>和<strong class="ih hj">离线。</strong></p><p id="cb87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，在<strong class="ih hj"> BottomSheetType </strong>中创建一个函数<strong class="ih hj"> view() </strong>，该函数将为每个案例返回一个视图。现在，它为两个声明案例返回两个视图。<strong class="ih hj"> OnlineBottomSheet </strong>和<strong class="ih hj"> OfflineBottomSheet </strong>，我们稍后将创建这两个。</p><p id="f78e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在BottomSheetType之后，现在创建一个<strong class="ih hj"> BottomSheet </strong>视图，<strong class="ih hj"> BottomSheet </strong>将是一个<strong class="ih hj">容器</strong>，我们将传递其中的内容，该视图将显示类似BottomSheet的内容。底板获取两个参数。</p><ol class=""><li id="46c1" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated"><strong class="ih hj"> isShowing: </strong>控制视图的外观</li><li id="ec8a" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">内容:</strong>是<strong class="ih hj">底单</strong>中将要呈现的视图</li></ol><p id="85aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<strong class="ih hj"> ZStack </strong>对准<strong class="ih hj">。底部</strong>，因为我们需要在<strong class="ih hj">底部表单</strong>中显示我们的底部视图。在ZStack之外使用三个修饰符。</p><ol class=""><li id="df37" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated"><strong class="ih hj">框架:</strong>用于给出<strong class="ih hj">底板</strong>的高度和宽度</li><li id="ebe7" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">ignore safe area():</strong>包括<strong class="ih hj">底板</strong>的安全区域空间</li><li id="9708" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">动画:</strong>用于在<strong class="ih hj">底板</strong>上应用动画</li></ol><p id="26cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> ZStack </strong>内部，我们使用if条件，如果<strong class="ih hj">显示</strong>为真<strong class="ih hj">则我们的<strong class="ih hj">底单</strong>内部内容视图显示。我们使用不透明度为0.3的<strong class="ih hj">黑色</strong>作为该视图的背景，在<strong class="ih hj"> ZStack </strong>的顶部，我们的内容视图将显示我们正在传递到底层的内容。</strong></p><p id="4335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们正在使用。<strong class="ih hj">过渡</strong> <strong class="ih hj">修改器</strong>将<strong class="ih hj">过渡</strong>应用到从<strong class="ih hj">底部到顶部</strong>的内容视图上。如你所见<strong class="ih hj">。过渡(。移动(边缘:。底))。</strong>如果你需要任何类型的<strong class="ih hj">过渡</strong>那么，你可以改变<strong class="ih hj">边缘:</strong>值来改变<strong class="ih hj">过渡</strong>。</p><blockquote class="jd je jf"><p id="5e5a" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">我们没有使用SwiftUI的<strong class="ih hj">背景修改器</strong>来给出背景颜色，因为我们需要在<strong class="ih hj">底部表单</strong>出现或消失时动画显示背景。</p></blockquote><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="6b88" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">按钮大视图</h1><p id="ed76" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">创建底部工作表后，创建一个自定义按钮，该按钮将在底部工作表视图中重复使用。</p><p id="6cf2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我创建了ButtonLarge视图，它有四个参数。</p><ol class=""><li id="35b5" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated"><strong class="ih hj">标签:</strong>为按钮文本</li><li id="2fca" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">背景:</strong>为按钮的背景颜色</li><li id="4829" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">文本颜色:</strong>为文本颜色</li><li id="52cf" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">动作:</strong>将用于按钮动作</li></ol><p id="2386" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有一个常数<strong class="ih hj"> cornorRadius </strong>。然后创建一个按钮，并给它背景色和<strong class="ih hj"> cornorRadius </strong>，对于按钮标签，我们使用<strong class="ih hj"> HStack </strong>并使用按钮文本和给框架。无限向<strong class="ih hj">h堆叠</strong>并且<strong class="ih hj">覆盖</strong>的<strong class="ih hj">圆角矩形</strong>为<strong class="ih hj">边框</strong>到按钮。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="aba3" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">圆角</h1><p id="b4e9" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">对于顶部圆角，我们将创建<strong class="ih hj">圆角</strong> <strong class="ih hj">形状</strong>，它将<strong class="ih hj">圆角</strong>和<strong class="ih hj">半径</strong>作为输入。之后，我们将创建一个自定义修改器<strong class="ih hj">。圆角半径</strong>将<strong class="ih hj">圆角</strong>和<strong class="ih hj">半径</strong>作为输入，并将<strong class="ih hj">圆角半径</strong>应用到<strong class="ih hj">视图<strong class="ih hj">的</strong> <strong class="ih hj">圆角</strong>中。</strong></p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="3fc2" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">在线BottomSheet视图</h1><p id="dfb2" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">现在，创建一个视图，我们将把它传递到BottomSheet中，并在BottomSheet中显示它。创建OnlineBottomSheet视图。使用<strong class="ih hj"> VStack </strong>并在其中使用一些<strong class="ih hj">文本</strong>，然后多次使用我们之前创建的<strong class="ih hj">按钮大</strong>视图。您可以看到下面的代码。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="f047" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">脱机底部工作表视图</h1><p id="eb7b" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">OfflineBottomSheet视图也与OnlineBottomSheet相同，只是一些文本和颜色不同，但代码相同。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="lo lp l"/></div></figure><h1 id="8d42" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">内容视图</h1><p id="f304" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">在创建了BottomSheet和一些虚拟视图之后，现在我们需要在ContentView中呈现BottomSheet。</p><p id="789a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建将与BottomSheet绑定的isShowingBottomSheet @State bool属性。现在，使用ZStack，然后创建一个简单的按钮，该按钮将切换isShowingBottomSheet属性以显示底部工作表。ZStack的底部使用BottomSheet并使用BottomSheet绑定isShowingBottomSheet并通过使用BottomSheet类型传递内容，如</p><blockquote class="jd je jf"><p id="5717" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">BottomSheetType.online.view()</p></blockquote><p id="8cd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将返回对应于<strong class="ih hj">的视图。在线</strong>案例。对于<strong class="ih hj">。在线</strong>情况下，会返回<strong class="ih hj"> OnlineBottomSheet </strong>视图，可以看到<strong class="ih hj"> BottomSheetType </strong>枚举。</p><blockquote class="jd je jf"><p id="fac6" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">BottomSheetType.offline.view()</p></blockquote><p id="c9c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将返回对应于<strong class="ih hj">的视图。线下</strong>案例。对于<strong class="ih hj">。离线</strong>情况下，会返回<strong class="ih hj">离线BottomSheet </strong>视图，因为可以看到<strong class="ih hj"> BottomSheetType </strong>枚举。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="4f33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，运行代码并点击按钮<strong class="ih hj">“打开底部表单”</strong>，您将看到从底部出现的<strong class="ih hj">底部表单</strong>。</p><p id="1aa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你能理解这个博客。如果有任何困惑，你可以在这个博客上发表评论。感谢您阅读<strong class="ih hj"> …。</strong></p><h1 id="8317" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">源代码</h1><div class="lq lr ez fb ls lt"><a href="https://github.com/muhammadabbas001/CustomBottomSheet" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hj fi z dy ly ea eb lz ed ef hh bi translated">GitHub-muhammadabbas 001/CustomBottomSheet:swift ui中的自定义底部表单。</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">github.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh ju lt"/></div></div></a></div><h2 id="cc10" class="mi jy hi bd jz mj mk ml kd mm mn mo kh iq mp mq kl iu mr ms kp iy mt mu kt mv bi translated">订阅模式</h2><div class="lq lr ez fb ls lt"><a href="https://www.patreon.com/abbasgujjar" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hj fi z dy ly ea eb lz ed ef hh bi translated">米（meter的缩写））阿巴斯正在创造内容</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">立即成为M.Abbas的赞助人:获得世界上最大会员的独家内容和体验…</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">www.patreon.com</p></div></div><div class="mc l"><div class="mw l me mf mg mc mh ju lt"/></div></div></a></div></div></div>    
</body>
</html>