<html>
<head>
<title>Modulo operator in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的模运算符</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/modulo-operator-in-python-68a44f8d67db?source=collection_archive---------13-----------------------#2022-06-21">https://medium.com/geekculture/modulo-operator-in-python-68a44f8d67db?source=collection_archive---------13-----------------------#2022-06-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/222e9d21fb51b594fae2436e08012cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*L6kt-RBcVLTpxT9s7mjuJQ.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx">Photo by <a class="ae iq" href="https://unsplash.com/@lisanto_?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lisanto 李奕良</a> on <a class="ae iq" href="https://unsplash.com/s/photos/paper-windmill?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="460c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">已经一个多月了，我还没有写新的心得。所以在这里我要写的是Python中的模运算符。</p><p id="420e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">被负数的模运算符搞糊涂了。我曾经遇到过一次。所以我在这里列出了模运算的方式。</p><p id="9b10" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">模数快速入门:</p><p id="92fc" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">模项来自数学的一个分支，叫做<strong class="it hj">模运算。</strong>模运算符用于获取有限边界内的值。一个经典的例子是时钟。十二小时制的时钟有一组固定的值，从1到12。它以12为模。</p><p id="8ab9" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果我们想知道上午8点7小时后是什么时间，你可以简单地将7加8，然后取它的模。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="ef5c" class="jy jz hi ju b fi ka kb l kc kd">8 o'clock + 7 = 15<br/>15 mod 12 = 3</span></pre><p id="8616" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这意味着上午8点过7小时是下午3点</p><p id="a95a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在你可以认为15和3在mod 12上下文中是等价的。模运算将这种关系描述为</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="14d8" class="jy jz hi ju b fi ka kb l kc kd">a <!-- -->≡ b(mod n)</span></pre><p id="caf6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在我们的例子中:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="29d9" class="jy jz hi ju b fi ka kb l kc kd">15 <!-- -->≡ 3 (mod 12)</span></pre><p id="ff0b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">读作15等于3模12。</p><p id="aadd" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在让我们找出不同类型数的模。</p><p id="a166" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于正被除数和正除数:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="d3b7" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt;&gt; 15%2<br/>1</span></pre><p id="35ff" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于负被除数和正除数:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="3d33" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt;&gt; -15%2<br/>1</span></pre><p id="9d94" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们看到，对于除数为正的正负红利，余数都为正。</p><p id="428a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在让我们来看看正被除数和负除数:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="7e2d" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt;&gt; 15%-2<br/>-1</span></pre><p id="eef1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于负被除数和负除数:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="6841" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt;&gt; -15%-2<br/>-1</span></pre><p id="76e2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们看到，对于除数为负的正负红利，余数为负。</p><p id="4fe9" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Python有一个叫做<code class="du ke kf kg ju b">divmod</code>的方法，它给了我们被除数和余数。让我们看看在上述情况下我们得到了什么值:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="f765" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt;&gt; divmod(15,2)<br/>(7, 1)</span><span id="5038" class="jy jz hi ju b fi kh kb l kc kd">&gt;&gt;&gt; divmod(-15,2)<br/>(-8, 1)</span><span id="a379" class="jy jz hi ju b fi kh kb l kc kd">&gt;&gt;&gt; divmod(15,-2)<br/>(-8, -1)</span><span id="9058" class="jy jz hi ju b fi kh kb l kc kd">&gt;&gt;&gt; divmod(-15,-2)<br/>(7, -1)</span></pre><p id="5622" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们看到，对于正除数，模为正，对于负除数，余数为负。股息会相应调整。</p><p id="a729" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">然而，根据您获取余数的方式，此规则不适用于浮点数的模运算符:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="be00" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt;&gt; math.fmod(-12.0, 5.0)<br/>-2.0</span><span id="fc09" class="jy jz hi ju b fi kh kb l kc kd">&gt;&gt;&gt; -12.0%5.0<br/>3.0</span></pre><p id="f67b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果我们使用<code class="du ke kf kg ju b">math.fmod</code>得到余数，即使除数是正的，余数也是负的。而如果我们用正规的取模方法，我们会得到正余数。</p><p id="48e4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是为什么呢？这是因为语言是如何得到商的——<code class="du ke kf kg ju b">trucated division</code>或<code class="du ke kf kg ju b">floor divison</code>。</p><p id="2139" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于截断除法，负商四舍五入为零，使用以下公式:</p><p id="33c4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><code class="du ke kf kg ju b">r = a — (n * trunc(a/n))</code></p><p id="ae3e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在哪里</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="f310" class="jy jz hi ju b fi ka kb l kc kd">r = remainder<br/>a = dividend<br/>n = divisor</span></pre><p id="c9b6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><code class="du ke kf kg ju b">math.fmod</code>使用这个<code class="du ke kf kg ju b">truncated division</code>规则，因此即使除数为正，当被除数为负时，我们得到负余数。</p><p id="fd43" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们详细说明这个等式:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="1e9f" class="jy jz hi ju b fi ka kb l kc kd">r = -12.0 - (-5.0 * trunc(-12.0/5.0))<br/>r = -12.0 - (-5.0 * trunc(-2.4))<br/>r = -12.0 - (5.0 * -2)<br/>r = -12.0 + 10<br/>r = -2</span></pre><p id="9cda" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于下限除法，负商从零四舍五入，使用以下公式:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="d795" class="jy jz hi ju b fi ka kb l kc kd">r = a - (n * floor(a/n))</span></pre><p id="8586" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在哪里</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="e2fd" class="jy jz hi ju b fi ka kb l kc kd">r = remainder<br/>a = dividend<br/>n = divisor</span></pre><p id="e887" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">简单模使用这个<code class="du ke kf kg ju b">floor division</code>，因此当被除数为负，除数为正时，我们得到正余数。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="67bd" class="jy jz hi ju b fi ka kb l kc kd">r = -12.0 - (5.0 * floor(-12.0/5.0))<br/>r = -12.0 - (5.0 * floor(-2.4))<br/>r = -12.0 - (5.0 * -3)<br/>r = -12.0 +15<br/>r = 3</span></pre><p id="3fe1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">就是这样。</p><p id="d525" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">总之，在Python中，对于整数值，如果除数为正，余数将为正，否则为负。对于负浮息，取决于你如何得到模值。如果使用普通的<code class="du ke kf kg ju b">%</code>运算符，由于使用了<code class="du ke kf kg ju b">floor</code>除法，余数将为正。如果你使用<code class="du ke kf kg ju b">math.fmod</code>，你将得到负的余数，因为它将使用<code class="du ke kf kg ju b">truncated</code>除法。</p><p id="cb94" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">希望对你有帮助。感谢您的阅读。🪁</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="d7d0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">灵感:</p><ul class=""><li id="82a7" class="kp kq hi it b iu iv iy iz jc kr jg ks jk kt jo ku kv kw kx bi translated"><a class="ae iq" href="https://realpython.com/python-modulo-operator/" rel="noopener ugc nofollow" target="_blank">真正的蟒蛇</a></li></ul><p id="af1d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">你可以在第七天支持我。</p></div></div>    
</body>
</html>