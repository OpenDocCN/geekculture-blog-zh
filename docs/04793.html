<html>
<head>
<title>Protocol Buffers In C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">C++中的协议缓冲区</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/protocol-buffers-in-c-d60865ae7782?source=collection_archive---------0-----------------------#2021-07-04">https://medium.com/geekculture/protocol-buffers-in-c-d60865ae7782?source=collection_archive---------0-----------------------#2021-07-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b1bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我写这篇文章主要是因为我在网上找不到关于这个话题的好资源。Google官方关于协议缓冲区(c++)的文档对于初学者来说不够直观。</p><blockquote class="jd je jf"><p id="0b9e" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">好吧(！)、</strong> <a class="ae jk" href="https://developers.google.com/protocol-buffers" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">什么是协议缓冲区</strong> </a> <strong class="ih hj"> s </strong></p></blockquote><p id="e5f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">协议缓冲区是Google的语言中立、平台中立、可扩展的机制，用于序列化结构化数据——想想XML，但是更小、更快、更简单。一旦定义了数据的结构化方式，就可以使用专门生成的源代码，使用各种语言轻松地将结构化数据写入各种数据流或从中读取。</p><p id="a2de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">协议缓冲区由文件<strong class="ih hj">定义。proto </strong>文本文件，我们可以像人类一样轻松地阅读和理解它。</p><p id="b6dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">协议缓冲区相对于JSON/XML的优势。</p><ol class=""><li id="5570" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated">数据是完全类型化的。</li><li id="9176" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">数据会自动压缩，因此CPU占用率较低。</li><li id="2ff2" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">文档/注释可以嵌入到模式中(。原型文件)</li><li id="ac30" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">数据可以跨任何语言读取(Python、Java、Go、C++、RUBY)</li><li id="27b1" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">比XML小3-10倍，快20-100倍。</li><li id="c3d3" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated"><strong class="ih hj">协议</strong>是一个<strong class="ih hj">。proto </strong>编译器，它自动生成代码供我们使用。</li></ol><p id="70b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">协议的缺点。</p><ol class=""><li id="4d23" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated">缺乏资源。</li><li id="4fc4" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">较小的社区。</li><li id="04c7" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">无法在文本编辑器中打开序列化数据。</li></ol></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><blockquote class="jd je jf"><p id="3611" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><a class="ae jk" href="http://he .proto file starts with a package declaration, which helps to prevent naming conflicts between different projects. In C++, your generated classes will be placed in a namespace matching the package name." rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">定义协议格式(报文)</strong> </a></p></blockquote><p id="6824" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建您的<code class="du kg kh ki kj b">person</code>应用程序/消息，您需要从一个<code class="du kg kh ki kj b">.proto</code>文件开始。一个<code class="du kg kh ki kj b">.proto</code>文件中的定义很简单:为每个想要序列化的数据结构添加一个<em class="jg">消息</em>，然后为消息中的每个字段指定名称和类型。这里是定义你的信息的<code class="du kg kh ki kj b">.proto</code>文件，<code class="du kg kh ki kj b">person.proto.</code></p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kk"><img src="../Images/8f8323946bcb75570f35fd946fbb9c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oP0uG515-rrd5KowRFnVVw.png"/></div></div></figure><p id="1160" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文件以一个包声明开始(这里是<code class="du kg kh ki kj b">PERSON</code>)，这有助于防止不同项目之间的命名冲突。在C++中，您生成的类将被放在一个与包名匹配的名称空间(<code class="du kg kh ki kj b">PERSON</code>)中。</p><p id="e63f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们有我们的消息定义。消息只是包含一组类型化字段的集合。许多标准的简单数据类型可以作为字段类型，包括<code class="du kg kh ki kj b">bool</code>、<code class="du kg kh ki kj b">int32</code>、<code class="du kg kh ki kj b">float</code>、<code class="du kg kh ki kj b">double</code>和<code class="du kg kh ki kj b">string</code>。</p><p id="90d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个字段必须用下列修饰符之一进行注释:</p><ol class=""><li id="75b9" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated"><code class="du kg kh ki kj b">optional</code>:该字段可以设置，也可以不设置。如果未设置可选字段值，则使用默认值(零表示数值类型，空字符串表示字符串，false表示布尔值)。</li><li id="3837" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated"><code class="du kg kh ki kj b">repeated</code>:将重复的字段视为动态大小的数组(或std::vector)</li></ol><p id="e2de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">标签</strong></p><p id="2732" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于protobuff来说，重要的元素是<strong class="ih hj">标签(<code class="du kg kh ki kj b">person.proto</code>中的</strong><code class="du kg kh ki kj b">name=<strong class="ih hj">1</strong></code>，<code class="du kg kh ki kj b">id=<strong class="ih hj">2</strong>, email=<strong class="ih hj">3</strong></code>，这些数字是标签<strong class="ih hj">)，</strong>最小的标签是1 &amp;最大的是2 ⁹-1，我们不能使用19000–19999，因为这些是Google保留的。</p><blockquote class="jd je jf"><p id="b77c" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">安装协议编译器</strong></p></blockquote><p id="a9f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Mac: <code class="du kg kh ki kj b">brew install protobuf</code></p><p id="c4c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Ubuntu : <code class="du kg kh ki kj b">sudo apt install protobuf-compiler</code></p><blockquote class="jd je jf"><p id="f309" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">检查它是否工作</p></blockquote><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="b526" class="la lb hi kj b fi lc ld l le lf">$ protoc --version<br/>libprotoc 3.17.1</span></pre><blockquote class="jd je jf"><p id="9d78" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">让我们编译person.proto</p></blockquote><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="2426" class="la lb hi kj b fi lc ld l le lf">protoc -I=$SRC_DIR --cpp_out=$DST_DIR $SRC_DIR/person.proto </span><span id="ad00" class="la lb hi kj b fi lg ld l le lf">//if you are in the SRC_DIR or working directory, you can execute with fallowing cmd.<br/>protoc -I=./ --cpp_out=./ person.proto</span><span id="3b30" class="la lb hi kj b fi lg ld l le lf">This generates the following files in your specified destination directory:<br/>1. person.pb.cc<br/>2. person.pb.h</span></pre><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lh"><img src="../Images/cb1efc78f699de96a5354fae0c8fb774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*foVaLLnFvArRC8JZ6NIjqA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">on my machine</figcaption></figure><blockquote class="jd je jf"><p id="c47b" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">协议缓冲API </strong></p></blockquote><p id="e50a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您查看<code class="du kg kh ki kj b">person.pb.h</code>，您可以看到您在<code class="du kg kh ki kj b">person.proto.</code>中指定的每个消息都有一个类</p><p id="19bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是下面的API，我们可以在我们定义的<code class="du kg kh ki kj b">person.proto</code>文件的定义字段上调用。</p><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="7111" class="la lb hi kj b fi lc ld l le lf">// string name<br/>  inline bool has_name() const; //to see if name exit or initialised <br/>  inline void clear_name();     // to clear name from person message<br/>  inline const ::std::string&amp; name() const; // to get name<br/>  inline void set_name(const ::std::string&amp; value); // to set name<br/>  inline void set_name(const char* value);<br/>  inline ::std::string* mutable_name();  //returns the pointer to set/get name<br/><br/>  // int id<br/>  inline bool has_id() const;<br/>  inline void clear_id();<br/>  inline int32_t id() const;<br/>  inline void set_id(int32_t value);<br/><br/>  // string email<br/>  inline bool has_email() const;<br/>  inline void clear_email();<br/>  inline const ::std::string&amp; email() const;<br/>  inline void set_email(const ::std::string&amp; value);<br/>  inline void set_email(const char* value);<br/>  inline ::std::string* mutable_email();</span></pre><blockquote class="jd je jf"><p id="dda4" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">让我们看看一些代码()</strong></p></blockquote><p id="2d83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需浏览代码中的注释，并将代码与。原型文件和API</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lm"><img src="../Images/1d85f932539facd34cceaded34263d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6eGKECP7oJM3qCq3uBvZg.png"/></div></div></figure><blockquote class="jd je jf"><p id="c777" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">让我们编译代码</p></blockquote><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="becc" class="la lb hi kj b fi lc ld l le lf">For Mac:</span><span id="62ac" class="la lb hi kj b fi lg ld l le lf">g++ -std=c++11 -stdlib=libc++  main.cpp person.pb.cc -L/usr/local/lib -lprotobuf -pthread -o my_program</span><span id="cb26" class="la lb hi kj b fi lg ld l le lf">For Ubuntu: change <strong class="kj hj">username</strong> accordingly </span><span id="71f5" class="la lb hi kj b fi lg ld l le lf">g++ -std=c++11 -I /home/<strong class="kj hj">username</strong>/local/include -L /home/<strong class="kj hj">username</strong>/local/lib main.cpp person.pb.cc -lprotobuf -pthread  -o my_program</span></pre><blockquote class="jd je jf"><p id="2021" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">让我们运行可执行文件(my_program)</p></blockquote><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ln"><img src="../Images/99c64b0d9fde946c52816262abc59200.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jAuQXI46dlgMg0SaphYgiw.png"/></div></div></figure><p id="3bbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不错！我们刚刚填充了<strong class="ih hj"> person.proto </strong>消息，我们还可以在终端上打印带有<code class="du kg kh ki kj b">DebugString()</code>的消息。</p><blockquote class="jd je jf"><p id="b46e" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">重复字段(数组或列表)</strong></p></blockquote><p id="cb6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重复修饰符允许我们创建动态大小的数组或列表。</p><p id="1295" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们创建<strong class="ih hj"> address_book.proto </strong>来存储地址簿消息中的个人信息。</p><p id="80f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编译address_book.proto: <code class="du kg kh ki kj b">protoc -I=./ — cpp_out=./ address_book.proto</code></p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lo"><img src="../Images/5152eb233529ca6c617b05f26af8d75c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08rUOZ6lhPSvaNl6v1ePpA.png"/></div></div></figure><p id="1b4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">协议缓冲区在重复字段上的API。</strong></p><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="daec" class="la lb hi kj b fi lc ld l le lf">// repeated Person people</span><span id="97ea" class="la lb hi kj b fi lg ld l le lf">int people_size() const;<br/>void clear_people();<br/>PERSON::Person* mutable_people(int index);</span><span id="3d85" class="la lb hi kj b fi lg ld l le lf">PROTOBUF_NAMESPACE_ID::RepeatedPtrField&lt;::PERSON::Person&gt;*mutable_people();</span><span id="fa16" class="la lb hi kj b fi lg ld l le lf">const ::PERSON::Person&amp; people(int index) const;</span><span id="4315" class="la lb hi kj b fi lg ld l le lf">PERSON::Person* add_people();</span><span id="2416" class="la lb hi kj b fi lg ld l le lf">const::PROTOBUF_NAMESPACE_ID::RepeatedPtrField&lt;::PERSON::Person&gt;&amp;people() const;</span></pre><p id="8f80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一些代码来更好地理解API</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lp"><img src="../Images/583b9cca44d6a8178c78dcfb26968e86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jc1B3OoxsOwRgJgO2D4r-w.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx"><strong class="bd lq">Comments explain everything.</strong></figcaption></figure><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lr"><img src="../Images/639e4715984ee614b740678657e9aa07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kbJ0HlQbCnIwxEtmntC4OA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx"><strong class="bd lq">Output</strong></figcaption></figure><blockquote class="jd je jf"><p id="0c98" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><a class="ae jk" href="https://developers.google.com/protocol-buffers/docs/proto3#enum" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">ENUM</strong></a><strong class="ih hj">。</strong></p></blockquote><ol class=""><li id="3663" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated">如果我们知道一个字段可以取的所有值，我们可以使用枚举。</li><li id="2218" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">枚举必须以标签<code class="du kg kh ki kj b">0</code>开始。</li><li id="1319" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">枚举的第一个值是默认值(<strong class="ih hj">标签0 </strong>)，即使我们没有初始化枚举字段默认值(<strong class="ih hj">标签0 </strong>)也会被初始化。</li></ol><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ls"><img src="../Images/4cd4f7539ba6dc7b83eaedcfb86a8aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6BXV7G-F2Q_agp-7TlkLiA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">ENUM example</figcaption></figure><p id="c7a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">显示设置枚举字段的示例。</strong></p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lt"><img src="../Images/843b59e4f6ae63ff287cdd0c78f67df9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kMm1eDLTyEvyitroCxDLeA.png"/></div></div></figure><ol class=""><li id="1cdd" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated">编译消息<code class="du kg kh ki kj b">example_enum.proto</code></li><li id="ede0" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">在主代码中包含必要的头。</li><li id="eb04" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">编译源代码并运行可执行文件。</li></ol><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lu"><img src="../Images/a1c210a82676c8c300416f3f89f1e7fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DcUGe2SBDYredcMpzVq61w.png"/></div></div></figure><blockquote class="jd je jf"><p id="613f" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">包装</p></blockquote><p id="68e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在proto消息中定义包很重要(就像前面例子中的<code class="du kg kh ki kj b"><strong class="ih hj">package PERSON </strong></code>),以避免不同消息之间的名称冲突。</p><p id="6d5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们创建日期包</p><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="f3e0" class="la lb hi kj b fi lc ld l le lf">// <em class="jg">date_pkg.proto</em></span><span id="c0ea" class="la lb hi kj b fi lg ld l le lf">syntax = "proto3";</span><span id="0f79" class="la lb hi kj b fi lg ld l le lf">package my.date.module;   //date.pkg is the package name</span><span id="01db" class="la lb hi kj b fi lg ld l le lf">message Date{<br/>     int32 year=1;<br/>     int32 month=2;<br/>     int32 day=3;<br/>}</span></pre><p id="51e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看如何将它导入到<code class="du kg kh ki kj b"> person.proto</code>消息中</p><pre class="kl km kn ko fd kw kj kx ky aw kz bi"><span id="eb38" class="la lb hi kj b fi lc ld l le lf">// <em class="jg">person.proto</em></span><span id="7674" class="la lb hi kj b fi lg ld l le lf">syntax = "proto3";<br/>import<strong class="kj hj"><em class="jg"> "date_pkg.proto";  </em></strong>// fully qualified path of <!-- -->.proto<!-- --> message </span><span id="1340" class="la lb hi kj b fi lg ld l le lf">message Person{ <br/>        <strong class="kj hj">my.date.module.Date </strong>Birthday=1; //<strong class="kj hj">!!!!!</strong><br/>        int32 age=2;<br/>        int32 id=3;<br/>}</span></pre><p id="be00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的例子给出了一个关于如何使用包的想法。</p><blockquote class="jd je jf"><p id="b746" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">接下来是什么？</strong></p></blockquote><p id="6351" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jk" href="https://developers.google.com/protocol-buffers/docs/overview" rel="noopener ugc nofollow" target="_blank">阅读官方文档</a></p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="54f7" class="la lb hi bd lq lv lw lx ly lz ma mb mc iq md me mf iu mg mh mi iy mj mk ml mm bi translated">谢谢你，T21</h2></div></div>    
</body>
</html>