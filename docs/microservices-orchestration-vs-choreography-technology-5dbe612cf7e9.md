# 微服务编排与编排|(技术)

> 原文：<https://medium.com/geekculture/microservices-orchestration-vs-choreography-technology-5dbe612cf7e9?source=collection_archive---------0----------------------->

## 理解为你的下一个项目设计架构的艺术

首先，我要说的是，与单片架构相比，大多数技术行业已经在采用基于微服务的架构。实际上，在采用产生微服务的单片架构时存在许多挑战。在 monolithic 中，整个应用程序是非常紧密耦合的。紧密耦合对于任何软件项目来说都是一个福音，除非项目只是为了说“Hello world”而构建的。

构建任何成功项目的技术目标是使其可伸缩和安全。微服务让我们可以自由地让产品具有可扩展性和容错性。

![](img/89165eb014e85c49ef30bf31060ca1b9.png)

Photo by [Marvin Meyer](https://unsplash.com/@marvelous?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

当然，在直接跳到微服务编排和微服务编排之间的差异之前，我们将尝试理解它们。我们将讨论一下微服务及其用途。
文章会有很多有用的内容，所以要密切关注。

# 微服务

微服务可以很容易地定义为可以作为独立应用程序运行的服务集合。微服务可以提供很多好处。对于任何第一次阅读的读者来说，把它看作一场足球比赛，每个球员都被赋予了个人的责任，他们都和谐地一起工作，但有足够的能力像一个微服务一样单独比赛。

我们可以通过让任何球员多练习来提高他的能力，个别球员受伤不会影响整场比赛。该玩家可以被另一个玩家替换。同样，在微服务的情况下，我们可以自由地关注行为荒谬的服务，而不是检查整个应用程序。

在采用基于微服务的架构时，每项服务都可以根据负载进行优化扩展。我们不必升级整个应用程序，如前端、中间件、后端等。这节省了大量的基础设施成本。

如果实现得当，微服务是容错。根据项目的复杂程度，每项服务可以由单独的团队管理。微服务不需要考虑可扩展性。部署完全独立于应用程序，这使它成为更好的选择。在最坏的情况下，只有特定的应用程序可能出错，而不是整个应用程序。

我希望我觉得这是对微服务足够公平的理解，因为这篇文章更多的是关于 cicroservice 编排和编排，而不仅仅是微服务。让我们不要太偏离议程。

# 微服务编排。

微服务编排是一个逻辑实体，有助于管理微服务。

![](img/963f6752f5a636382a968f00c7ef0e8c.png)

Photo by [Kazuo ota](https://unsplash.com/@kazuo513?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

正如我们已经知道的微服务，以及它们的优点和缺点。是时候了解我们可以在微服务之间进行通信的方式了。一旦我们的项目运行了几个微服务，它们当然需要共享数据和构建业务逻辑。

编排是实现这一目标的方法之一。编排脱离了管弦乐队的概念，其中有多名音乐家是演奏乐器的大师，这是我们微服务架构中的一项服务。管弦乐队的指挥给每个人关于节点的方向。播放器(服务)本身有足够的能力来播放整首歌曲，因为他们有歌曲的音符(业务逻辑)可以方便地使用。但是要一起演奏音乐，在交响乐中他们需要一个指挥来管理一切。

同样，当父服务管理请求时，微服务编排以类似的方式工作。它将请求重定向到相应的服务并收集数据。最终的响应在名为 orchestrator 的主服务中生成，然后提供给客户端应用程序。

orchestrator 的角色是与完成任何 API 请求所需的每个服务进行通信。

# 微服务编排

另一方面，微服务编排是微服务间完全不同的通信方式。顾名思义，每个演员都有自己的职责，也知道该怎么做。

![](img/838b4eab46094eceb7ebf075af9eccc6.png)

Photo by [pavan gupta](https://unsplash.com/@cgram2000?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

设计微服务架构有多种模式，其中一种模式是 Saga 模式，可用于设计微服务架构，遵循编排或编排。

在编排中，与编排不同，微服务是并行工作的。整个系统工作在基于事件的架构上，其中服务从消息总线收集数据，执行业务逻辑，然后将数据提交给另一个消息总线。

如果实现正确，这种方法是不能容忍的，因为每个服务都是独立工作的。如果其中任何一个出现故障，我们就会知道
是哪个服务引起了问题，并可以直接解决这个问题。

在微服务编排中，一个服务订阅多个主题，并更新另一个主题。微服务的任务是定义好的，它只是检查题目是否为空。除非主题是空的，否则它会继续执行它应该执行的任务。

# 微服务编排与编排

微服务编排和编排之间的主要区别在于，在编排的情况下，没有什么核心的东西。采用哪一种取决于您的用例。如果您想要服务之间非常频繁的通信，那么您必须选择编排，否则编排是更好的选择。

在编排的情况下，我们需要适当的日志记录，否则，将很难发现哪个服务未能返回正确的数据。记录错误永远是救世主。

大多数情况下，架构师使用两种方法的融合来创建最终的架构设计，这使得整个系统具有弹性。各种操作在本质上是同步的，而其他操作是异步的，因此这两种方法都是使您的产品符合灌装要求所必需的。

# 最后的想法。

在理解微服务编排与编排之前，任何软件开发人员都应该理解什么是微服务架构。

一旦你创建了一些微服务，现在是时候采用其中一种方法了。本文旨在解释两者之间的区别。关于微服务及其架构设计，可以做很多研究。

同时，我也在不断研究各种其他的选择，比如网飞指挥，传奇模式等等。，为此我一定会和大家分享我的心得。

与此同时，为了让自己了解未来的文章，请关注我，你不会失望的。我们会一起成长。

# 关于作者

Apoorv Tomar 是一名软件开发人员，也是 Mindroast 的一员。你可以在[推特](https://twitter.com/apoorvtomar_)、 [Linkedin](https://www.linkedin.com/in/apoorvtomar/) 、[电报](https://t.me/ApoorvTomar)和 [Instagram](https://www.instagram.com/apoorvsinghtomar/) 上和他联系。订阅[简讯](https://www.mindroast.com/newsletter)获取最新策划内容。不要犹豫在任何平台上说“你好”,只需说明你在哪里找到我的资料