<html>
<head>
<title>Visualize Your Skills with D3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用D3可视化你的技能</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/visualize-your-skills-with-d3-e95e5aefff52?source=collection_archive---------21-----------------------#2021-05-22">https://medium.com/geekculture/visualize-your-skills-with-d3-e95e5aefff52?source=collection_archive---------21-----------------------#2021-05-22</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><div class=""><h2 id="0ee7" class="pw-subtitle-paragraph ig hi hj bd b ih ii ij ik il im in io ip iq ir is it iu iv iw ix dy translated">用Javascript和CSS创建气泡图</h2></div><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et iy"><img src="../Images/f0c537e0db707d00f629cc1a458a888a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbuYlyR1bLaaja4x_VUAig.jpeg"/></div></div><figcaption class="jk jl eu es et jm jn bd b be z dy">Photo by <a class="ae jo" href="https://unsplash.com/@maxgotts?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Max Gotts</a> on <a class="ae jo" href="https://unsplash.com/s/photos/diving-bubble?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d2c1" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">十年前，随着移动设备和互联网基础设施的进步，Web 2.0的浪潮拥抱了创建Web和移动应用程序的新范式。它将我们的数字生活提升到了一个新的水平，我们所学习和使用的技能也是如此。</p><p id="4887" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">虽然技术不断快速发展，但数字公民在整个过程中积累了广泛的技能。在求职者和雇主之间匹配技能是一个挑战。几年前精通特定技能的候选人可能对投资it不感兴趣，而新的能力可能会带来更有吸引力的薪水和令人信服的要求。</p><p id="bbfe" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">确定技能的新近性和能力是至关重要的。今天，我们将演示在这种情况下，气泡图是如何帮助我们的。我们使用web开发人员技能作为例子，但是这种方法适用于任何技术或业务领域。对HMTL、CSS和Javascript的基本理解足以完成本教程。</p><h1 id="d987" class="kl km hj bd kn ko kp kq kr ks kt ku kv ip kw iq kx is ky it kz iv la iw lb lc bi translated">什么是泡沫情节？</h1><blockquote class="ld le lf"><p id="39ed" class="jp jq lg jr b js jt ik ju jv jw in jx lh jz ka kb li kd ke kf lj kh ki kj kk hc bi translated">根据维基百科，气泡图/图表是一种显示三维数据的图表。(详见<a class="ae jo" href="https://en.wikipedia.org/wiki/Bubble_chart" rel="noopener ugc nofollow" target="_blank">详情</a>)</p></blockquote><p id="d93a" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">访问<a class="ae jo" href="https://ng-the-engineer.github.io/tutorial-skills-bubble-plot/index.html" rel="noopener ugc nofollow" target="_blank">此处</a>查看最终产品。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="lk ll l"/></div></figure><p id="0127" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">X轴和Y轴很容易理解。圆点大小描述了能力。点越大，越精通。</p><p id="7db1" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">只需看一眼右边的部分，我们就可以立即识别出最熟练的技能，以及哪些节点、反应、Git和CSS是核心能力。它们都被实践了五年以上，最近才被使用。</p><p id="fd68" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">简单的想法和富有表现力的介绍，不是吗？</p><p id="627e" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">让我们转到下一部分来创建一个。</p></div><div class="ab cl lm ln gq lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hc hd he hf hg"><h1 id="7db4" class="kl km hj bd kn ko lt kq kr ks lu ku kv ip lv iq kx is lw it kz iv lx iw lb lc bi translated">第1部分:读取数据</h1><p id="4743" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">查看随后的数据集。<code class="dv md me mf mg b">skill</code>是数据点的唯一标签。一个数据点有四个属性。<code class="dv md me mf mg b">category</code>是对点数进行分类的唯一字符串属性。<code class="dv md me mf mg b">exp</code>(经验年份)和<code class="dv md me mf mg b">lastUse</code>(最近使用年份)属性在X-Y平面定位数据点。<code class="dv md me mf mg b">competency</code>的高低体现在圈子的大小上。</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et mh"><img src="../Images/37cb4f04eef4ded06d120eb2030e2ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STf64Cy7BXWUo-LWQeok9w.png"/></div></div></figure><p id="4c7e" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">D3提供了一个<code class="dv md me mf mg b">csv()</code>函数来加载CSV(逗号分隔值)数据。我们将在回调函数中实现图表。</p><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="6036" class="mm km hj mg b fj mn mo l mp mq">d3.csv(url, () =&gt; {<br/>  ...<br/>})</span></pre><h2 id="d357" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">立正！！</h2><blockquote class="ld le lf"><p id="013d" class="jp jq lg jr b js jt ik ju jv jw in jx lh jz ka kb li kd ke kf lj kh ki kj kk hc bi translated">事实上，2020年，Chrome等现代浏览器在CORS实施了更严格的控制。如果我们访问本地路径或有效URL中的文件，但未启用CORS，将会遇到CORS策略错误。</p></blockquote><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="42a9" class="mm km hj mg b fj mn mo l mp mq">Fetch API cannot load file:///PATH_TO_YOUR_FILE/data.csv. URL scheme must be "http" or "https" for CORS request.</span></pre><p id="8015" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">为了避免这种麻烦，我们将在节点服务器上托管CSV数据，并允许在响应头中使用CORS。</p><p id="683f" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">这是在本教程中为我们的气泡图提供服务的API端点。👉<a class="ae jo" href="https://tutorial-node-api-k8s-ng-the-engineer.cloud.okteto.net/skills" rel="noopener ugc nofollow" target="_blank">技能API </a></p><p id="342e" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">如果您想将CSV文件作为API公开并部署到免费的Kubernetes集群，请不要错过本教程。🔥<a class="ae jo" rel="noopener" href="/geekculture/deploy-api-on-kubernetes-for-free-ffe6889aad9d">在Kubernetes上免费部署API</a>🔥</p></div><div class="ab cl lm ln gq lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hc hd he hf hg"><h1 id="6962" class="kl km hj bd kn ko lt kq kr ks lu ku kv ip lv iq kx is lw it kz iv lx iw lb lc bi translated"><strong class="ak">第二节:制作气泡图</strong></h1><h2 id="eead" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">index.html</h2><p id="57db" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">首先用下面的HTML创建<code class="dv md me mf mg b">index.html</code>。有一个id为<code class="dv md me mf mg b">skills_bubble_plot</code>的<code class="dv md me mf mg b">&lt;div&gt;</code>作为图形的占位符。接下来我们导入D3 <a class="ae jo" href="https://cdnjs.com/libraries/d3/4.13.0" rel="noopener ugc nofollow" target="_blank"> v4.13.0 </a>和色标库(<a class="ae jo" href="https://github.com/d3/d3-scale-chromatic" rel="noopener ugc nofollow" target="_blank"> d3-scale-chromatic </a>)。然后在我们今天要实现的地方导入<code class="dv md me mf mg b">plot.js</code>和<code class="dv md me mf mg b">plot.css</code>。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><h2 id="c4bc" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">plot.js</h2><ol class=""><li id="47d8" class="nf ng hj jr b js ly jv lz jy nh kc ni kg nj kk nk nl nm nn bi translated">定义页边距、宽度和高度(第1行到第4行)</li><li id="2e55" class="nf ng hj jr b js no jv np jy nq kc nr kg ns kk nk nl nm nn bi translated">定位图表(第12行到第17行)</li><li id="459a" class="nf ng hj jr b js no jv np jy nq kc nr kg ns kk nk nl nm nn bi translated">在<code class="dv md me mf mg b">d3.csv</code>的回调函数中实现气泡图(第7行)</li></ol><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><p id="0fae" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">接下来在<code class="dv md me mf mg b">then</code>模块(第7行)中执行<strong class="jr hk">气泡图</strong>。</p><h2 id="511e" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">x轴(年)</h2><p id="da5b" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">我们使用<code class="dv md me mf mg b">.domain()</code>创建一个年份范围，使用<code class="dv md me mf mg b">.range()</code>定义绘图的宽度。</p><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="28d8" class="mm km hj mg b fj mn mo l mp mq">const x = d3.scaleLinear().domain([2013, 2022]).range([0, width]);</span></pre><h2 id="6035" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">y轴(经验)</h2><p id="b98f" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">同样，y轴也是以同样的方式创建的，但是请注意，range参数以高度开始，然后为零。</p><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="0ca3" class="mm km hj mg b fj mn mo l mp mq">const y = d3.scaleLinear().domain([0, 10]).range([height, 0]);</span></pre><p id="587f" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">起初看起来很奇怪，但是当我们检查<code class="dv md me mf mg b">.range()</code>的规格时</p><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="25bd" class="mm km hj mg b fj mn mo l mp mq">.range([closer_to_the_origin, further_from_the_origin])</span></pre><p id="6660" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">并且认识到HTML坐标系的参考点在最左上角[0，0]。<a class="ae jo" href="http://www.d3noob.org/2012/12/setting-scales-domains-and-ranges-in.html" rel="noopener ugc nofollow" target="_blank">详见</a>。</p><h2 id="a00f" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">z轴(能力)</h2><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="58bb" class="mm km hj mg b fj mn mo l mp mq">const z = d3.scaleLinear().domain([0, 30]).range([4, 40]);</span></pre><h2 id="e073" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">颜色</h2><p id="4504" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">为了用<a class="ae jo" href="https://github.com/d3/d3-scale-chromatic" rel="noopener ugc nofollow" target="_blank">色标</a>按类别给数据点着色(第4行到第11行)，我们将在第13行使用<code class="dv md me mf mg b">schemeSet2</code>并将库导入到<code class="dv md me mf mg b">&lt;head&gt;</code>中。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><pre class="iz ja jb jc fe mi mg mj mk aw ml bi"><span id="ce60" class="mm km hj mg b fj mn mo l mp mq">&lt;script src=”https://d3js.org/d3-scale-chromatic.v1.min.js"&gt;&lt;/script&gt;</span></pre><h2 id="e59d" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">标签</h2><p id="f411" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">Y轴标签很棘手，因为它逆时针翻转了90度。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><h2 id="2b46" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">工具提示</h2><p id="b79a" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">为了说明一个基本的工具提示，首先我们在<code class="dv md me mf mg b">skills_bubble_plot</code>元素上附加一个<code class="dv md me mf mg b">div</code>，并为数据点创建一个圆角标签。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><p id="75b6" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">接下来，创建三个事件，分别用于显示、隐藏和移动。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><h2 id="ad65" class="mm km hj bd kn mr ms mt kr mu mv mw kv jy mx my kx kc mz na kz kg nb nc lb nd bi translated">绘制数据点</h2><p id="8f1d" class="pw-post-body-paragraph jp jq hj jr b js ly ik ju jv lz in jx jy ma ka kb kc mb ke kf kg mc ki kj kk hc bi translated">我们将通过定位在<code class="dv md me mf mg b">d.lastUse</code>和<code class="dv md me mf mg b">d.exp</code>来绘制每个数据点。该点的半径基于<code class="dv md me mf mg b">d.competency ** 3 / 100</code>(该值的3次方除以100)做出指数行为。然后我们根据它的类别给它上色。最后，我们绑定了<code class="dv md me mf mg b">mouseover</code>、<code class="dv md me mf mg b">mousemove</code>、<code class="dv md me mf mg b">mouseleave</code>事件。</p><figure class="iz ja jb jc fe jd"><div class="bz dz l di"><div class="ne ll l"/></div></figure><p id="8f95" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">恭喜你！我们已经创建了一个四维气泡图来突出示例候选人的优势。</p><p id="25ca" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated"><a class="ae jo" href="https://github.com/ng-the-engineer/tutorial-skills-bubble-plot" rel="noopener ugc nofollow" target="_blank">完整的源代码</a>👈</p><p id="938c" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">感谢您的宝贵时间！希望你喜欢这个教程。</p><p id="9b24" class="pw-post-body-paragraph jp jq hj jr b js jt ik ju jv jw in jx jy jz ka kb kc kd ke kf kg kh ki kj kk hc bi translated">如果你想用A4格式的普通简历给招聘人员留下深刻印象，看看<a class="ae jo" rel="noopener" href="/geekculture/power-up-your-cv-with-css-part-1-7fa0510130de">增强你的简历第一部分</a> &amp; <a class="ae jo" rel="noopener" href="/geekculture/power-up-your-cv-with-css-part-2-ba27bae7c90b">第二部分</a>。</p></div></div>    
</body>
</html>