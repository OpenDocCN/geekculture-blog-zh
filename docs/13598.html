<html>
<head>
<title>LeetCode — Search in Rotated Sorted Array II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode —在旋转排序数组II中搜索</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/leetcode-search-in-rotated-sorted-array-ii-9ffab3dbe926?source=collection_archive---------13-----------------------#2022-07-17">https://medium.com/geekculture/leetcode-search-in-rotated-sorted-array-ii-9ffab3dbe926?source=collection_archive---------13-----------------------#2022-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="7325" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">问题陈述</h1><p id="2415" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">有一个整数数组<em class="kb"> nums </em>按非降序排序(不一定有<strong class="jf hj">不同的</strong>值)。</p><p id="87ab" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在传递给你的函数之前，<em class="kb"> nums </em>在一个未知的枢轴索引<em class="kb">k(0&lt;= k&lt;nums . length)</em>处<strong class="jf hj">旋转</strong>，这样得到的数组是<em class="kb">【nums[k]，nums[k + 1]，…，nums[n-1]，nums[0]，…，nums[1]，…，nums[k-1]]</em><strong class="jf hj">(0-索引)</strong>。例如，<em class="kb">【0，1，2，4，4，4，5，6，6，7】</em>可能在枢轴索引5处旋转，变成<em class="kb">【4，5，6，6，7，0，1，2，4，4】</em>。</p><p id="00d0" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">给定旋转后的数组<em class="kb">nums</em>T20】和一个整数<em class="kb"> target </em>，如果target在nums中则返回true，如果不在nums中则返回false。</p><p id="b186" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">你必须尽可能减少整个操作步骤。</p><p id="bd22" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">问题陈述摘自:<a class="ae kh" href="https://leetcode.com/problems/search-in-rotated-sorted-array-ii/" rel="noopener ugc nofollow" target="_blank">https://leet code . com/problems/search-in-rotated-sorted-array-ii/</a>。</p><p id="e004" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例1: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="8fd9" class="kr ig hi kn b fi ks kt l ku kv">Input: nums = [2, 5, 6, 0, 0, 1, 2], target = 0<br/>Output: true</span></pre><p id="5677" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例2: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="0a50" class="kr ig hi kn b fi ks kt l ku kv">Input: nums = [2, 5, 6, 0, 0, 1, 2], target = 3<br/>Output: false</span></pre><p id="9c8c" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">约束:</strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="2a8d" class="kr ig hi kn b fi ks kt l ku kv">- 1 &lt;= nums.length &lt;= 10^5<br/>- -2^31 &lt;= nums[i] &lt;= 2^31 - 1<br/>- 0 &lt;= k &lt;= 10^5</span></pre><h1 id="16a0" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">说明</h1><p id="f9b7" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">该问题的解决方案类似于之前在旋转排序数组中的<a class="ae kh" href="https://alkeshghorpade.me/post/leetcode-search-in-rotated-sorted-array" rel="noopener ugc nofollow" target="_blank">搜索。唯一的区别是，由于存在重复项，<strong class="jf hj"> nums[low] == nums[mid] </strong>是一种可能性，我们必须单独处理这种情况。</a></p><p id="1a1f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们直接跳到算法。</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="1192" class="kr ig hi kn b fi ks kt l ku kv">// search function<br/>- if low &gt; high<br/>    - return -1</span><span id="2f27" class="kr ig hi kn b fi kw kt l ku kv">- set mid = low + (high - low) / 2</span><span id="78fb" class="kr ig hi kn b fi kw kt l ku kv">- if nums[mid] == key<br/>    - return true</span><span id="cd74" class="kr ig hi kn b fi kw kt l ku kv">- if nums[low] == nums[mid + 1] &amp;&amp; nums[high] == nums[mid]<br/>    - low++<br/>    - high--<br/>    - search(nums, low, high, key)</span><span id="24e1" class="kr ig hi kn b fi kw kt l ku kv">if nums[low] &lt;= nums[mid]<br/>    - if key &gt;= nums[low] &amp;&amp; key &lt;= nums[mid]<br/>        - return search(nums, low, mid - 1, key)</span><span id="ae7e" class="kr ig hi kn b fi kw kt l ku kv">    - return search(nums, mid + 1, high, key)</span><span id="637a" class="kr ig hi kn b fi kw kt l ku kv">if key &gt;= nums[mid] &amp;&amp; key &lt;= nums[high]<br/>    - return search(nums, mid + 1, high, key)</span><span id="41f9" class="kr ig hi kn b fi kw kt l ku kv">- return search(nums, low, mid - 1, key)</span></pre><p id="794e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们来看看我们在<strong class="jf hj"> C++ </strong>、<strong class="jf hj"> Golang </strong>和<strong class="jf hj"> Javascript </strong>中的解决方案。</p><h2 id="58a5" class="kr ig hi bd ih kx ky kz il la lb lc ip jo ld le it js lf lg ix jw lh li jb lj bi translated">C++解决方案</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="37f9" class="kr ig hi kn b fi ks kt l ku kv">class Solution {<br/>public:<br/>    bool searchUtil(vector&lt;int&gt;&amp; nums, int low, int high, int target) {<br/>        if(low &gt; high) {<br/>            return false;<br/>        }</span><span id="b562" class="kr ig hi kn b fi kw kt l ku kv">        int mid = low + (high - low)/2;</span><span id="07d6" class="kr ig hi kn b fi kw kt l ku kv">        if(nums[mid] == target){<br/>            return true;<br/>        }</span><span id="ebe3" class="kr ig hi kn b fi kw kt l ku kv">        if(nums[low] == nums[mid] &amp;&amp; nums[high] == nums[mid]){<br/>            low++;<br/>            high--;<br/>            return searchUtil(nums, low, high, target);<br/>        }</span><span id="caa2" class="kr ig hi kn b fi kw kt l ku kv">        if(nums[low] &lt;= nums[mid]){<br/>            if(target &gt;= nums[low] &amp;&amp; target &lt;= nums[mid]){<br/>                return searchUtil(nums, low, mid - 1, target);<br/>            }</span><span id="a673" class="kr ig hi kn b fi kw kt l ku kv">            return searchUtil(nums, mid + 1, high, target);<br/>        }</span><span id="66c9" class="kr ig hi kn b fi kw kt l ku kv">        if(target &gt;= nums[mid] &amp;&amp; target &lt;= nums[high]){<br/>            return searchUtil(nums, mid + 1, high, target);<br/>        }</span><span id="4b9a" class="kr ig hi kn b fi kw kt l ku kv">        return searchUtil(nums, low, mid - 1, target);<br/>    }</span><span id="8839" class="kr ig hi kn b fi kw kt l ku kv">    bool search(vector&lt;int&gt;&amp; nums, int target) {<br/>        bool result = searchUtil(nums, 0, nums.size() - 1, target);<br/>        return result;<br/>    }<br/>};</span></pre><h2 id="7225" class="kr ig hi bd ih kx ky kz il la lb lc ip jo ld le it js lf lg ix jw lh li jb lj bi translated">戈朗溶液</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="89d3" class="kr ig hi kn b fi ks kt l ku kv">func searchUtil(nums []int, low, high, target int) bool {<br/>    if low &gt; high {<br/>        return false<br/>    }</span><span id="53c3" class="kr ig hi kn b fi kw kt l ku kv">    mid := low + (high - low) / 2</span><span id="b276" class="kr ig hi kn b fi kw kt l ku kv">    if nums[mid] == target {<br/>        return true<br/>    }</span><span id="b73b" class="kr ig hi kn b fi kw kt l ku kv">    if nums[low] == nums[mid] &amp;&amp; nums[high] == nums[mid] {<br/>        low++<br/>        high--<br/>        return searchUtil(nums, low, high, target)<br/>    }</span><span id="07c4" class="kr ig hi kn b fi kw kt l ku kv">    if nums[low] &lt;= nums[mid] {<br/>        if target &gt;= nums[low] &amp;&amp; target &lt;= nums[mid] {<br/>            return searchUtil(nums, low, mid - 1, target)<br/>        }</span><span id="537d" class="kr ig hi kn b fi kw kt l ku kv">        return searchUtil(nums, mid + 1, high, target)<br/>    }</span><span id="432c" class="kr ig hi kn b fi kw kt l ku kv">    if target &gt;= nums[mid] &amp;&amp; target &lt;= nums[high] {<br/>        return searchUtil(nums, mid + 1, high, target);<br/>    }</span><span id="c9fe" class="kr ig hi kn b fi kw kt l ku kv">    return searchUtil(nums, low, mid - 1, target);<br/>}</span><span id="83fa" class="kr ig hi kn b fi kw kt l ku kv">func search(nums []int, target int) bool {<br/>    return searchUtil(nums, 0, len(nums) - 1, target)<br/>}</span></pre><h2 id="845f" class="kr ig hi bd ih kx ky kz il la lb lc ip jo ld le it js lf lg ix jw lh li jb lj bi translated">Javascript解决方案</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="9aff" class="kr ig hi kn b fi ks kt l ku kv">var searchUtil = function(nums, low, high, target) {<br/>    if(low &gt; high) {<br/>        return false;<br/>    }</span><span id="3470" class="kr ig hi kn b fi kw kt l ku kv">    let mid = low + (high - low)/2;</span><span id="b468" class="kr ig hi kn b fi kw kt l ku kv">    if(nums[mid] == target){<br/>        return true;<br/>    }</span><span id="921a" class="kr ig hi kn b fi kw kt l ku kv">    if(nums[low] == nums[mid] &amp;&amp; nums[high] == nums[mid]){<br/>        low++;<br/>        high--;<br/>        return searchUtil(nums, low, high, target);<br/>    }</span><span id="4714" class="kr ig hi kn b fi kw kt l ku kv">    if(nums[low] &lt;= nums[mid]){<br/>        if(target &gt;= nums[low] &amp;&amp; target &lt;= nums[mid]){<br/>            return searchUtil(nums, low, mid - 1, target);<br/>        }</span><span id="0289" class="kr ig hi kn b fi kw kt l ku kv">        return searchUtil(nums, mid + 1, high, target);<br/>    }</span><span id="b1b4" class="kr ig hi kn b fi kw kt l ku kv">    if(target &gt;= nums[mid] &amp;&amp; target &lt;= nums[high]){<br/>        return searchUtil(nums, mid + 1, high, target);<br/>    }</span><span id="3676" class="kr ig hi kn b fi kw kt l ku kv">    return searchUtil(nums, low, mid - 1, target);<br/>};</span><span id="1fce" class="kr ig hi kn b fi kw kt l ku kv">var search = function(nums, target) {<br/>    return searchUtil(nums, 0, nums.length - 1, target);<br/>};</span></pre><p id="dc76" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们试着解决这个问题。</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="8769" class="kr ig hi kn b fi ks kt l ku kv">Input: nums = [2, 5, 6, 0, 0, 1, 2], target = 3</span><span id="11fe" class="kr ig hi kn b fi kw kt l ku kv">// search function<br/>Step 1: searchUtil(nums, 0, nums.size() - 1, target)<br/>        searchUtil(nums, 0, 6, 0)</span><span id="267e" class="kr ig hi kn b fi kw kt l ku kv">// searchUtil function<br/>Step 2: low &gt; high<br/>        0 &gt; 6<br/>        false</span><span id="c75b" class="kr ig hi kn b fi kw kt l ku kv">Step 3: mid = low + (high - low)/2<br/>            = 0 + (6 - 0)/2<br/>            = 0 + 6/2<br/>            = 3</span><span id="2ecc" class="kr ig hi kn b fi kw kt l ku kv">Step 4: if nums[mid] == target<br/>           nums[3] == 3<br/>           0 == 3<br/>           false</span><span id="56ca" class="kr ig hi kn b fi kw kt l ku kv">Step 5: if nums[low] == nums[mid] &amp;&amp; nums[high] == nums[mid]<br/>           nums[0] == nums[3] &amp;&amp; nums[6] == nums[3]<br/>           2 == 0 &amp;&amp; 2 == 0<br/>           false</span><span id="60d3" class="kr ig hi kn b fi kw kt l ku kv">Step 6: if nums[low] &lt;= nums[mid]<br/>           nums[0] &lt;= nums[3]<br/>           2 &lt;= 0<br/>           false</span><span id="ce3d" class="kr ig hi kn b fi kw kt l ku kv">Step 7: if target &gt;= nums[mid] &amp;&amp; target &lt;= nums[high]<br/>           3 &gt;= nums[3] &amp;&amp; 3 &lt;= nums[6]<br/>           3 &gt;= 0 &amp;&amp; 3 &lt;= 2<br/>           false</span><span id="2394" class="kr ig hi kn b fi kw kt l ku kv">Step 8: searchUtil(nums, low, mid - 1, target)<br/>        searchUtil(nums, 0, 2, 3)</span><span id="1f92" class="kr ig hi kn b fi kw kt l ku kv">// searchUtil function<br/>Step 9: low &gt; high<br/>        0 &gt; 2<br/>        false</span><span id="ddce" class="kr ig hi kn b fi kw kt l ku kv">Step 10: mid = low + (high - low)/2<br/>             = 0 + (2 - 0)/2<br/>             = 0 + 2/2<br/>             = 1</span><span id="30a4" class="kr ig hi kn b fi kw kt l ku kv">Step 11: if nums[mid] == target<br/>            nums[1] == 3<br/>            5 == 3<br/>            false</span><span id="a6db" class="kr ig hi kn b fi kw kt l ku kv">Step 12: if nums[low] == nums[mid] &amp;&amp; nums[high] == nums[mid]<br/>            nums[0] == nums[1] &amp;&amp; nums[2] == nums[1]<br/>            2 == 5 &amp;&amp; 6 == 5<br/>            false</span><span id="4f8c" class="kr ig hi kn b fi kw kt l ku kv">Step 13: if nums[low] &lt;= nums[mid]<br/>            nums[0] &lt;= nums[1]<br/>            2 &lt;= 5<br/>            true</span><span id="65a0" class="kr ig hi kn b fi kw kt l ku kv">            if target &gt;= nums[low] &amp;&amp; target &lt;= nums[mid]<br/>               3 &gt;= nums[0] &amp;&amp; 3 &lt;= nums[1]<br/>               3 &gt;= 2 &amp;&amp; 3 &lt;= 5<br/>               true</span><span id="6bf8" class="kr ig hi kn b fi kw kt l ku kv">               return searchUtil(nums, low, mid - 1, target)<br/>                      searchUtil(nums, 0, 1 - 1, 3)<br/>                      searchUtil(nums, 0, 0, 3)</span><span id="8144" class="kr ig hi kn b fi kw kt l ku kv">// searchUtil function<br/>Step 14: if low &gt; high<br/>            0 &gt; 0<br/>            false</span><span id="a214" class="kr ig hi kn b fi kw kt l ku kv">Step 15: mid = low + (high - low)/2<br/>             = 0 + (0 - 0)/2<br/>             = 0 + 0/2<br/>             = 0</span><span id="af77" class="kr ig hi kn b fi kw kt l ku kv">Step 16: if nums[mid] == target<br/>            nums[0] == 3<br/>            2 == 3<br/>            false</span><span id="70e5" class="kr ig hi kn b fi kw kt l ku kv">Step 17: if nums[low] == nums[mid] &amp;&amp; nums[high] == nums[mid]<br/>            nums[0] == nums[0] &amp;&amp; nums[0] == nums[0]<br/>            2 == 2 &amp;&amp; 2 == 2<br/>            true</span><span id="7521" class="kr ig hi kn b fi kw kt l ku kv">            low++<br/>            low = 1</span><span id="939e" class="kr ig hi kn b fi kw kt l ku kv">            high--<br/>            high = -1</span><span id="3173" class="kr ig hi kn b fi kw kt l ku kv">            return searchUtil(nums, low, high, target)<br/>                   searchUtil(nums, 1, -1, 3)</span><span id="0d30" class="kr ig hi kn b fi kw kt l ku kv">// searchUtil function<br/>Step 14: if low &gt; high<br/>            1 &gt; -1<br/>            true</span><span id="7963" class="kr ig hi kn b fi kw kt l ku kv">            return false</span><span id="25ad" class="kr ig hi kn b fi kw kt l ku kv">// We go back from Step 14 to Step 9 to Step 2 to Step 1 because of recursion</span><span id="7c62" class="kr ig hi kn b fi kw kt l ku kv">We return the answer as false.</span></pre></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><p id="d72f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kb">原载于</em><a class="ae kh" href="https://alkeshghorpade.me/post/leetcode-search-in-sorted-rotated-array-ii" rel="noopener ugc nofollow" target="_blank"><em class="kb">https://alkeshghorpade . me</em></a><em class="kb">。</em></p></div></div>    
</body>
</html>