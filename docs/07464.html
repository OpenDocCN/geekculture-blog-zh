<html>
<head>
<title>PREFECT could be PERFECT</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">级长可能是完美的</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/prefect-could-be-perfect-a318b9b1ad6e?source=collection_archive---------11-----------------------#2021-09-19">https://medium.com/geekculture/prefect-could-be-perfect-a318b9b1ad6e?source=collection_archive---------11-----------------------#2021-09-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2cb08bbf872af1024acf56817b4458a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dLfkEFffIsUr9KXNkAeBGA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">source: <a class="ae iu" href="https://github.com/PrefectHQ/prefect" rel="noopener ugc nofollow" target="_blank">https://github.com/PrefectHQ/prefect</a></figcaption></figure><p id="00e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在21世纪，现代数据工程的概念已经赢得了它的名字和声誉。</p><p id="8b48" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们不讨论如何将数据从源A接收到目的地b。我们还需要担心如何获取XYZ，如何动态应用一些业务核心逻辑，以及如何将目的地置于另一个完全独立于所有系统的系统中。</p><p id="a2d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">真实世界的用例可能比这更糟糕、更复杂。</p><p id="0e75" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Prefect似乎通过保持“作业即代码”下的逻辑简单解决了这个问题。</p><h1 id="1f1d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">长官</h1><p id="9134" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">简单来说完美就是一个工作流管理系统。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/085e94e0e290f2f469023c1ec384ae66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Njy1fW45SU7gS9ioavb4Zw.png"/></div></div></figure><p id="2cc7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Prefect的建立是为了克服当前现代数据工程系统中的问题性区域，同时为用户提供灵活性，在建立流系统时负担更少。</p><p id="f0c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">核心思想是使用python来构建你的工作，但是使用Decorators。</p><h2 id="1d52" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">一个简单的事实:</h2><p id="0ca9" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">与包括整个气流平台在内的任何其他工作流引擎相比，Prefect已经拥有了更多的单元测试和更大的测试覆盖面</p></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><h1 id="c047" class="jt ju hi bd jv jw lw jy jz ka lx kc kd ke ly kg kh ki lz kk kl km ma ko kp kq bi translated">任务是功能</h1><p id="603e" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">提督说你想运行的任务只不过是一个函数。</p><p id="1526" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用python写你的函数，应用装饰器，就大功告成了。</p><p id="ce0d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用一个更专业的术语来说，你的功能是有特殊规则的任务。它可以是何时运行、依赖性/上游任务或参数解析。</p><p id="e6ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是核心思想仍然保持不变。任务是功能。</p><h1 id="83c8" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">工作流是容器</h1><p id="de04" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">当您定义工作流时，它基本上是一组任务。您已经定义了任务中的核心逻辑，并使用工作流将它们分组在一起。</p><p id="9dcb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是请记住，工作流没有任何特定的逻辑可以运行。</p><h1 id="f80f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">通过状态通信</h1><p id="667d" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">现在，您已经定义了任务和工作流。但是，您将如何在每个任务之间或者与其他工作流进行通信呢？</p><p id="4647" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这可以由州政府负责。状态定义了可以传递的工作流的行为。它适用于任务和工作流。</p><p id="66c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在既然你已经理解了完美的概念，让我们来看看它的框架。</p><h1 id="81fd" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">完美的框架</h1><p id="17a6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在高层次上，完美的框架有3个最重要的组成部分。</p><ul class=""><li id="011e" class="mb mc hi ix b iy iz jc jd jg md jk me jo mf js mg mh mi mj bi translated">工作流定义</li><li id="2fdd" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mg mh mi mj bi translated">工作流引擎</li><li id="8b90" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mg mh mi mj bi translated">工作流状态</li></ul><h2 id="b6e6" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">工作流定义</h2><p id="710a" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">这是您编写核心业务逻辑的地方。或者你说你到底想要你的工作做什么。</p><p id="918c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用它来定义特殊的规则。假设您希望您的工作如何运行。您可以定义与其他作业的相关性。或者传递一个参数。或者你想做基于数据的if else条件。</p><h2 id="667f" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">工作流引擎</h2><p id="dd4a" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">这是提督的心。我们执行工作、流程或任务的地方。</p><p id="af7c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您已经在工作流定义中定义了特殊规则，在工作流引擎中您将执行相同的规则。</p><p id="aa27" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">仅仅按顺序“开始”每项任务是不够的；任务可能会因为成功、失败、跳过、暂停甚至崩溃而停止运行！这些结果中的每一个都可能需要不同的响应，要么来自引擎本身，要么来自后续任务。引擎的作用是自省工作流定义，并保证每个任务都遵循分配给它的规则。</p><h2 id="1756" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">工作流状态</h2><p id="b895" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">工作流引擎将在某种状态下结束。</p><p id="f70d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果一切顺利，这可能是成功。也可能是基于某些条件的失败</p><p id="c973" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过给每个任务和工作流注入一个强有力的“状态”概念，Prefect提供了丰富的词汇来描述工作流在执行之前、期间或之后的任何时刻。</p><p id="af0c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，全面完善不仅是你的工作流程管理系统的选择。</p><p id="7b60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有</p><ol class=""><li id="cf48" class="mb mc hi ix b iy iz jc jd jg md jk me jo mf js mp mh mi mj bi translated">被数百个组织采用的气流。</li><li id="50a8" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mp mh mi mj bi translated">Azure逻辑应用</li></ol><h1 id="11c5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">完美与气流</h1><h2 id="e645" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">与气流紧密结合</h2><p id="27ec" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">气流有它自己的方式来表示逻辑，以及你将如何运行、执行或调度它们。在某种程度上，我们不是使用气流来解决我们的用例，而是最终转换我们的用例来适应气流架构。</p><p id="6387" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您想要构建一个复杂的业务逻辑或者完全摆脱气流时，这就成了一个问题。</p><p id="661d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是在Prefect中，任务是带有装饰器的简单函数。这使得它更容易与您的用例集成。</p><h2 id="25dd" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">处决日期的混乱</h2><p id="aa34" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">新数据工程师最常见的问题是什么是执行日期。</p><p id="26b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">气流严格依赖于特定的时间:<code class="du mq mr ms mt b">execution_date</code>。没有执行日期，任何DAG都不能运行，并且任何DAG都不能在同一执行日期运行两次。您是否有一个特定的DAG需要运行两次，并且两个实例化同时开始？气流不支持这一点；没有例外。</p><h2 id="82ce" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">数据交换</h2><p id="4141" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在数据工程中，我们最常见的需求是在任务之间交流和传递数据。我们不想持久化任何数据，而现代数据工程要求数据在没有持久化的情况下动态传递。</p><p id="2bce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">XComs使用管理员访问权限将可执行pickles写入Airflow元数据数据库，这具有安全隐患。即使以JSON的形式，它也有巨大的数据隐私问题。该数据没有TTL或到期时间，这就产生了性能和成本问题。</p><p id="b825" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">提督将数据流提升到一流的操作。任务可以接收输入并返回输出，Prefect以透明的方式管理这种依赖关系。此外，Prefect几乎从不将这些数据写入其数据库；相反，结果的存储(仅在需要时)由用户可以轻松配置的安全结果逻辑来管理。</p><h1 id="0b0d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">完美后端</h1><p id="5d5c" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">码头集装箱</p><p id="e9f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Prefect运行在docker容器之上，这使得它更易于管理和扩展</p><h2 id="9ccc" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">发动机</h2><p id="5ba6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">它是将所有组件绑定在一起的核心</p><h2 id="675e" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">代理人</h2><p id="a28b" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">是负责运行流程、管理</p><h2 id="bf3c" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">GraphQL</h2><p id="8f2f" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">使用GraphQL来查询API的使用。</p><h2 id="26c1" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">Postgres</h2><p id="9432" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">存储作业历史的后端服务器。</p><p id="22d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以在本地和云中部署Prefect。</p><p id="4ef7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它也支持AWS Fargate。</p><p id="4e61" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你不想有任何维护上的麻烦，你可以使用完美云，这是一个完美的管理平台。</p><h1 id="e6fb" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">创造完美的流程</h1><ol class=""><li id="ea97" class="mb mc hi ix b iy kr jc ks jg mu jk mv jo mw js mp mh mi mj bi translated">写任务</li><li id="6b67" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mp mh mi mj bi translated">这基本上是定义核心逻辑的地方</li><li id="5a98" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mp mh mi mj bi translated">在定义规则的任务上添加一个装饰器。</li><li id="f199" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mp mh mi mj bi translated">写一个分组和管理任务的流程图。</li></ol><p id="a4cf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就这么简单。</p><p id="4ffa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">除此之外，您还可以在工作中添加日志记录。</p><p id="63df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以将计划定义为何时运行。</p><p id="2cbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您甚至可以将参数传递给作业。</p><p id="cce1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们以一个小python为例，向您展示将其转换为Prefect是多么容易。</p><p id="e223" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> Python示例:</strong></p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="c9f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们把它转换成提督。</p><p id="56ce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">提督:</strong></p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="aedc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以更现实一些，也可以添加一些依赖项。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="522b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您也可以添加记录器:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="mx my l"/></div></figure><h1 id="f53c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">演示时间</h1><div class="mz na ez fb nb nc"><a href="https://docs.prefect.io/core/getting_started/install.html#basic-installation" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hj fi z dy nh ea eb ni ed ef hh bi translated">安装|完美文档</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">提督要求Python 3.6+。如果您不熟悉Python，我们建议您安装Anaconda发行版。Python 3.9…</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">docs.prefect.io</p></div></div><div class="nl l"><div class="nm l nn no np nl nq io nc"/></div></div></a></div><p id="5543" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们先安装库</p><blockquote class="nr ns nt"><p id="4689" class="iv iw nu ix b iy iz ja jb jc jd je jf nv jh ji jj nw jl jm jn nx jp jq jr js hb bi translated"><strong class="ix hj"> pip安装“提督[viz]”</strong></p></blockquote><p id="6af7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们举个例子</p><p id="a46c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://github.com/ajithshetty/PrefectExample/tree/main" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/ajithshetty/03 FD 2 a 3c 948518 da e97 d 71 f 5b 9 ea 76 a 5</a></p><p id="9cb1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我们奔跑时</p><blockquote class="nr ns nt"><p id="36e9" class="iv iw nu ix b iy iz ja jb jc jd je jf nv jh ji jj nw jl jm jn nx jp jq jr js hb bi translated"><strong class="ix hj"> f.visualize() </strong></p></blockquote><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es ny"><img src="../Images/e458cded5d3476035c4c98de4a9eec4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*Zq-lDfInQ1FxDM9lteJANg.png"/></div></figure><p id="9e42" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在开始执行之前，请启动docker或docker-compose</p><p id="3582" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为本地业务流程配置提督</p><blockquote class="nr ns nt"><p id="894b" class="iv iw nu ix b iy iz ja jb jc jd je jf nv jh ji jj nw jl jm jn nx jp jq jr js hb bi translated"><strong class="ix hj">提督后端服务器</strong></p></blockquote><p id="921b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦代理启动</p><blockquote class="nr ns nt"><p id="b6f6" class="iv iw nu ix b iy iz ja jb jc jd je jf nv jh ji jj nw jl jm jn nx jp jq jr js hb bi translated"><strong class="ix hj">提督服务器启动</strong></p></blockquote><p id="6b5e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦所有组件都在运行，您就可以通过访问<a class="ae iu" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>来查看UI。</p><p id="c2ea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，从服务器执行流需要至少运行一个提督代理:</p><blockquote class="nr ns nt"><p id="9169" class="iv iw nu ix b iy iz ja jb jc jd je jf nv jh ji jj nw jl jm jn nx jp jq jr js hb bi translated"><strong class="ix hj">提督代理本地启动</strong></p></blockquote><p id="2890" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，要向服务器注册任何流，调用<code class="du mq mr ms mt b">flow.register()</code>。更多详情，请参见<a class="ae iu" href="https://docs.prefect.io/orchestration/" rel="noopener ugc nofollow" target="_blank">编排文档</a>。</p><p id="bb23" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们创建一个项目</p><blockquote class="nr ns nt"><p id="74e8" class="iv iw nu ix b iy iz ja jb jc jd je jf nv jh ji jj nw jl jm jn nx jp jq jr js hb bi translated"><strong class="ix hj">级长创建项目‘级长_示例’</strong></p></blockquote><p id="ac05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">并在项目中注册我们的代码。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nz"><img src="../Images/9c324bb66498f52e000aef9a3678a563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*va_-qW3k4KgxqUZQr_BvQA.png"/></div></div></figure><pre class="kx ky kz la fd oa mt ob oc aw od bi"><span id="369e" class="lb ju hi mt b fi oe of l og oh">f.register(project_name="prefect_example")</span></pre><p id="c279" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行代码后，您会得到以下输出:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oi"><img src="../Images/7a7c3d8f412c1705edce4c4c39f77e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5IkOAYX7jE9HeiBLfKffgg.png"/></div></div></figure><p id="4f19" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们导航到用户界面:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oj"><img src="../Images/05740a644f1355ed27e3386b554f1689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oW-AAfRsmvZ2z0WnNKjLog.png"/></div></div></figure><p id="ca01" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">点击快速运行</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ok"><img src="../Images/2f085ea36183d649033271d066b3219f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fQeBJj6OGx59GkE_WPfRyg.png"/></div></div></figure><p id="6609" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">成功运行后:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ol"><img src="../Images/7c572d0dd5305f3b62f95dcd3c48d246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BvJtkaA1g8lwfRbtiWefA.png"/></div></div></figure><p id="d8ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">单击原理图查看相关性</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es om"><img src="../Images/2272697923d605a879dbbffcb034135e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WyXyH13wXEQag3gEaKGHPQ.png"/></div></div></figure><p id="f531" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">单击任务查看单个任务:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es on"><img src="../Images/1b31cf10f87e022953a4186d2dd1bb30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*twVHDtw5sGOHrPf56pYSIw.png"/></div></div></figure><p id="c68e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">参考:</p><div class="mz na ez fb nb nc"><a href="https://www.prefect.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hj fi z dy nh ea eb ni ed ef hh bi translated">完美——数据流自动化的新标准</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">提督是一个新的数据工作流管理系统，专为现代基础设施。提督提供了灵活的…</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">www.prefect.io</p></div></div><div class="nl l"><div class="oo l nn no np nl nq io nc"/></div></div></a></div><div class="mz na ez fb nb nc"><a href="https://github.com/PrefectHQ/prefect" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hj fi z dy nh ea eb ni ed ef hh bi translated">GitHub - PrefectHQ/prefect:自动化数据的最简单方法</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">我们已经为数据科学时代重建了数据工程。提督是一个新的工作流管理系统，专为…</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">github.com</p></div></div><div class="nl l"><div class="op l nn no np nl nq io nc"/></div></div></a></div><p id="5e70" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以上演示代码可以在我的回购中找到:</p><div class="mz na ez fb nb nc"><a href="https://github.com/ajithshetty/PrefectExample/tree/main" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hj fi z dy nh ea eb ni ed ef hh bi translated">GitHub-ajithshetty/prefect示例</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">在GitHub上创建一个帐户，为ajithshetty/PrefectExample开发做出贡献。</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">github.com</p></div></div><div class="nl l"><div class="oq l nn no np nl nq io nc"/></div></div></a></div><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es or"><img src="../Images/82a6c1c105992f194c2781531827ce5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TbKMdxGVvNSlifHx.png"/></div></div></figure><p id="17ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">阿吉特·库玛尔·谢蒂</p><p id="19a2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">大数据工程师—大数据、分析、云和基础设施。</p><p id="a3d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://ajithshetty28.medium.com/subscribe" rel="noopener">订阅</a> ✉️ || <a class="ae iu" href="https://ajithshetty28.medium.com/" rel="noopener">更多博客</a>📝|| <a class="ae iu" href="https://www.linkedin.com/in/ajshetty28" rel="noopener ugc nofollow" target="_blank">链接于</a>📊|| <a class="ae iu" href="https://ajithshetty.github.io/" rel="noopener ugc nofollow" target="_blank">个人资料页面</a>📚|| <a class="ae iu" href="https://github.com/ajithshetty/" rel="noopener ugc nofollow" target="_blank"> Git回购</a>👓</p><p id="e92e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">对获取全球大数据分析的每周更新感兴趣，请订阅我的:</strong> <a class="ae iu" href="https://justenoughdata.substack.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">每周简讯</strong> </a></p></div></div>    
</body>
</html>