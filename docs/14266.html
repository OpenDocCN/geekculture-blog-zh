<html>
<head>
<title>Generate QR codes from images using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python从图像生成QR码</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/generate-qr-codes-from-images-using-python-60e669653440?source=collection_archive---------1-----------------------#2022-08-24">https://medium.com/geekculture/generate-qr-codes-from-images-using-python-60e669653440?source=collection_archive---------1-----------------------#2022-08-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/607de6e03ebd73dd12fc3704ccdd8fad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r0ISFqt3HzzNM_4sDKWhSQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by Sheilalau from <a class="ae iu" href="https://commons.wikimedia.org/wiki/Main_Page" rel="noopener ugc nofollow" target="_blank">Wikimedia Commons</a></figcaption></figure><p id="a943" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">快速响应码(简称QR)的起源可以追溯到90年代，但直到最近才被主流采用。由于智能手机、社交距离和<a class="ae iu" href="https://www.theverge.com/2022/2/13/22932397/coinbases-qr-code-super-bowl-ad-app-crash" rel="noopener ugc nofollow" target="_blank">比特币基地广告</a>，二维码现在已经成为我们生活中的一部分。</p><p id="cc0e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">二维码非常有用——它们可以存储各种数据，如文本、身份证号、二进制数据和URL地址。然而，从视觉上看，大多数二维码都很单调。它们最终看起来像这样:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/3b52261dfd35eb96bfd48be07281d7b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*PJlKQhflW1RwRJBPbCIOTw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">QR code to deepnote.com. Image by author.</figcaption></figure><p id="b327" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是QR码具有强大的内置纠错机制，具有冗余性。这让我们可以通过添加视觉元素来增加一些趣味:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/084f0b88595af85b29239a079d7504ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*S0c9mDayaZIELSB6khqG1w.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">QR code with logo. Image by author.</figcaption></figure><p id="f3d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然这两个二维码做同样的事情(都带你去deepnote.com的<a class="ae iu" href="https://deepnote.com/" rel="noopener ugc nofollow" target="_blank"/>)，但带图片的二维码有趣多了！</p><p id="a7c0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面带有标志的二维码是在一个<a class="ae iu" href="https://deepnote.com/workspace/deepnote-8b0ebf6d-5672-4a8b-a488-2dd220383dd3/project/QR-generator-940ac870-252d-4038-a563-d8d661f7931a/notebook/Notebook%201-c11d1019c1c54385aff431caa1503e9a" rel="noopener ugc nofollow" target="_blank"> Deepnote笔记本</a>中用几行Python代码创建的。你也可以这样做:</p><h1 id="2268" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">如何从图像生成二维码</h1><h2 id="c28f" class="kx ka hi bd kb ky kz la kf lb lc ld kj jg le lf kn jk lg lh kr jo li lj kv lk bi translated">第一步:选择一张图片</h2><p id="8113" class="pw-post-body-paragraph iv iw hi ix b iy ll ja jb jc lm je jf jg ln ji jj jk lo jm jn jo lp jq jr js hb bi translated">我们可以为这一步找到任何图像，但我们发现最好使用大小接近1:1纵横比(相同的宽度和高度)的图像，因为我们必须调整它的大小以适应正方形。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h2 id="e701" class="kx ka hi bd kb ky kz la kf lb lc ld kj jg le lf kn jk lg lh kr jo li lj kv lk bi translated">第二步:选择一个网址</h2><p id="077c" class="pw-post-body-paragraph iv iw hi ix b iy ll ja jb jc lm je jf jg ln ji jj jk lo jm jn jo lp jq jr js hb bi translated">我们的QR码文本限于100个字符。如果需要使用较长的URL，可以使用URL缩写。(顺便说一句，我们在这里不需要使用URL，任何文本都可以编码成结果二维码。)</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="ls lr l"/></div></figure><h2 id="7200" class="kx ka hi bd kb ky kz la kf lb lc ld kj jg le lf kn jk lg lh kr jo li lj kv lk bi translated">第三步:下载并处理你的图像</h2><p id="b439" class="pw-post-body-paragraph iv iw hi ix b iy ll ja jb jc lm je jf jg ln ji jj jk lo jm jn jo lp jq jr js hb bi translated">对于这一步，我们将使用Python的请求库从URL下载图像，并在PIL中打开它进行进一步处理。我们需要把它调整成两种尺寸:93x93px和186x186px。我们将在后面的过程中使用这两种尺寸。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lt lr l"/></div></figure><h2 id="0c7d" class="kx ka hi bd kb ky kz la kf lb lc ld kj jg le lf kn jk lg lh kr jo li lj kv lk bi translated">第四步:生成二维码</h2><p id="9908" class="pw-post-body-paragraph iv iw hi ix b iy ll ja jb jc lm je jf jg ln ji jj jk lo jm jn jo lp jq jr js hb bi translated">我们使用<a class="ae iu" href="https://github.com/xyzzy/qrpicture" rel="noopener ugc nofollow" target="_blank">https://github.com/xyzzy/qrpicture</a>来生成代码。创建照片QR是一个两部分的过程。</p><p id="f168" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们需要创建一个93x93像素抖动的单色图像。该图像覆盖有强制QR像素，以确保生成的图像是有效的QR码。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lu lr l"/></div></figure><p id="dcef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出作为文件直接保存在文件系统中。它看起来是这样的:</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lv lr l"/></div></figure><h2 id="b1b3" class="kx ka hi bd kb ky kz la kf lb lc ld kj jg le lf kn jk lg lh kr jo li lj kv lk bi translated">第五步:加点颜色</h2><p id="be9c" class="pw-post-body-paragraph iv iw hi ix b iy ll ja jb jc lm je jf jg ln ji jj jk lo jm jn jo lp jq jr js hb bi translated">现在，我们使用空间颜色量化在QR码上应用186x186抖动彩色图像。我们可以选择使用多少种颜色。如果我们想保持结果简单或者想节省打印成本，这是很有帮助的。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lw lr l"/></div></figure><p id="aa86" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">瞧啊。我们有一个图像背景的二维码。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lv lr l"/></div></figure><h1 id="144f" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">信用</h1><p id="16d2" class="pw-post-body-paragraph iv iw hi ix b iy ll ja jb jc lm je jf jg ln ji jj jk lo jm jn jo lp jq jr js hb bi translated">这项工作是基于<a class="ae iu" href="https://github.com/xyzzy/qrpicture." rel="noopener ugc nofollow" target="_blank">https://github.com/xyzzy/qrpicture.</a>如果你想修改源代码或重新编译二进制文件，你可以使用这些命令:</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lx lr l"/></div></figure></div></div>    
</body>
</html>