<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/geekculture/binary-exponentiation-faster-way-to-calculate-pow-x-n-python-52bf4fcf42d1?source=collection_archive---------7-----------------------#2022-11-23">https://medium.com/geekculture/binary-exponentiation-faster-way-to-calculate-pow-x-n-python-52bf4fcf42d1?source=collection_archive---------7-----------------------#2022-11-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/14898d6f713a78aba852688b25a030e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NZ9MA_u71rVYSIg0.jpg"/></div></div></figure><h2 id="798f" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">什么是二进制幂运算</h2><p id="eb50" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja id jb jc jd ih je jf jg il jh ji jj jk hb bi translated">二进制取幂是一种快速有效地计算特定数字的方法，该数字的范围从0到10 ⁸.</p><p id="9bd1" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">现在，一种简单的取幂方法是将这个数乘以n倍。举个例子，如果Pow(a，b)那么我们把a * a * a * … b乘以。</p><p id="21d8" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">因此，简单方法的时间复杂度将是O(n)。但是，如果我们可以通过二进制幂运算来降低这个时间复杂度呢？</p><p id="a4df" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">如果我们能以某种方式找到一种方法，使我们的指数运算更快，我们将能够计算大b值的a^b。这正是二进制取幂运算的作用。通过使用二进制取幂，我们可以仅在O(log(b))时间复杂度内计算a^b。这意味着我们现在只需要执行O(log(b))次乘法来找出a^b.的值</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="0722" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">二进制幂运算</h2><p id="2db4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja id jb jc jd ih je jf jg il jh ji jj jk hb bi translated">二进制幂运算基于以下公式。</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/10868bd93ee7296dfe528c41a99ff461.png" data-original-src="https://miro.medium.com/v2/format:webp/1*0F-SNKcKkIpMyImAu5y7mQ.png"/></div></figure><p id="bafc" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">让我们用一个例子来理解它，<br/>让我们我们要计算Pow(3，9)</p><p id="9123" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">在正常情况下，它会被写成，</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/ab35c67f9225e6b9ffa22e9a24302894.png" data-original-src="https://miro.medium.com/v2/format:webp/1*tA12V2coSGQWekweRuhmwg.png"/></div></figure><p id="85b0" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">在这里，您可以观察，然后我们可以按照4–4和1的顺序对3进行分组。</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/7ae28020eec5d57889465aff52cf6a39.png" data-original-src="https://miro.medium.com/v2/format:webp/1*UAdVbrbelEedTA9eVidGjQ.png"/></div></figure><p id="76a9" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">此外，我可以将它们分成2–2的形式</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/6ac0808b4ac727227ebe1d62ddb6cc71.png" data-original-src="https://miro.medium.com/v2/format:webp/1*MIE-sMmHCI46tGkvjbIrUQ.png"/></div></figure><p id="a54d" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">现在既然知道了3x3的值。我可以通过回溯很容易地计算出来。</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/0f1d7ec44666d5cd763deaa6f2845fb5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Qh8RUvZngs5_X8jClKcP4Q.png"/></div></figure><p id="3688" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">现在只要评价9x9也就是81就可以得到答案了。</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/cfedd2daf46f374ebc36651ae37530d9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*MO-ydK0u2XsarbKMXBwDVw.png"/></div></figure><p id="88c1" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">所以，我把问题分成了更小的块，在O(log(n))的时间复杂度内完成了。</p><p id="79f1" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated"><em class="kc">结帐，我的博客关于寻找递归的时间复杂度，以理解它如何变成O(log n) </em></p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="2d2d" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">Python中的二进制取幂代码分步走查</h2><p id="1222" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja id jb jc jd ih je jf jg il jh ji jj jk hb bi translated">这是一个递归的方法，所以我们需要一个函数调用它自己，并接受两个参数a和b。</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="4dd8" class="hr hs ht ke b fi ki kj l kk kl">def power(a,b):<br/>    return</span></pre><p id="b4bc" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">现在，正如我们所讨论的，我们只需要计算Pow(a，b/2)的输出一次，剩下的就是它的自乘。</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="a5c3" class="hr hs ht ke b fi ki kj l kk kl">def power(a,b):<br/>    <br/>    out_ = power(a,b//2)<br/>    out_ = out_ * out_</span></pre><p id="9ca4" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">现在，我们需要它乘以a，当有一个奇怪的情况时。见上例，还剩一个3。</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="ec62" class="hr hs ht ke b fi ki kj l kk kl">def power(a,b):<br/>    <br/>    out_ = power(a,b//2)<br/>    out_ = out_ * out_<br/>    <br/>    if b%2 !=0 :<br/>        out_ = out_ * a</span></pre><p id="8522" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">现在，我们需要定义停止条件。所以当b变成0时我们会停止，我们会返回1</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="d037" class="hr hs ht ke b fi ki kj l kk kl">def power(a,b):<br/>    <br/>    if b==0:<br/>        return 1<br/>    <br/>    out_ = power(a,b//2)<br/>    out_ = out_ * out_<br/>    <br/>    if b%2 !=0 :<br/>        out_ = out_ * a<br/>    <br/>    return out_</span></pre><p id="db1c" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">这是我们的递归函数。让我们用Power(3，9)来测试一下</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="74af" class="hr hs ht ke b fi ki kj l kk kl">print(power(3,9))</span><span id="fb94" class="hr hs ht ke b fi km kj l kk kl">19683</span></pre><p id="3cac" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">耶！我们得到了答案。</p><p id="ac89" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">如果我们想求逆幂，同样的逻辑也适用。例如:幂(2，-2)。唯一的变化是，我们将对a求逆，并改变b的符号。</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="c492" class="hr hs ht ke b fi ki kj l kk kl">def power(a,b):<br/>    <br/>    if b==0:<br/>        return 1<br/>    <br/>    if b&lt;0:<br/>        a = 1/a<br/>        b = -b<br/>        <br/>    out_ = power(a,b//2)<br/>    out_ = out_ * out_<br/>    <br/>    if b%2 !=0 :<br/>        out_ = out_ * a<br/>    <br/>    return out_</span></pre><p id="c0f3" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">你可以通过在<a class="ae kn" href="https://leetcode.com/problems/powx-n/description/." rel="noopener ugc nofollow" target="_blank">https://leetcode.com/problems/powx-n/description/.</a>提交来测试代码，我的代码快了87%。</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="ab fe cl kb"><img src="../Images/33ef66cc1affd138e0f3323a42c72603.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZXGYreSqyuUdETKLOBs8yw.png"/></div></figure><p id="9fb9" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">如果我们写递归函数，它将是T(n) = T(n/2)并且是O(log n)时间复杂度。</p><p id="54dd" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">pow(3，9)的推荐树如下所示:</p><figure class="jx jy jz ka fd hk er es paragraph-image"><div class="er es ko"><img src="../Images/357ae138bcd0ac6305aa89cee688fb3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*aCetdc6LzRhGIVLG8edQiQ.png"/></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="443a" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">二元幂运算的应用</h2><ul class=""><li id="d885" class="kp kq ht is b it iu ix iy id kr ih ks il kt jk ku kv kw kx bi translated">一个数的模的大指数经常在密码学中使用。二进制取幂是一种快速的方法，在这个领域中应用于计算巨大的指数。</li><li id="1005" class="kp kq ht is b it ky ix kz id la ih lb il lc jk ku kv kw kx bi translated">使用这种方法，我们可以快速计算模一个大数的大指数。使用这个特殊的应用程序可以解决许多数学问题。</li><li id="dc15" class="kp kq ht is b it ky ix kz id la ih lb il lc jk ku kv kw kx bi translated">这可以用来确定一个数的模乘逆。</li><li id="925d" class="kp kq ht is b it ky ix kz id la ih lb il lc jk ku kv kw kx bi translated">一般来说，这种方法对于我们需要快速计算指数的情况很有帮助。</li></ul></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><p id="924d" class="pw-post-body-paragraph iq ir ht is b it jl iv iw ix jm iz ja id jn jc jd ih jo jf jg il jp ji jj jk hb bi translated">谢谢大家！为了阅读。关注我，了解更多这样的故事。</p></div></div>    
</body>
</html>