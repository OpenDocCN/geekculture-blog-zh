<html>
<head>
<title>How to Automate Deployments to Shopify Stores</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何自动部署到Shopify商店</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-automate-deployments-to-shopify-stores-b99a89dd42d5?source=collection_archive---------0-----------------------#2020-07-28">https://medium.com/geekculture/how-to-automate-deployments-to-shopify-stores-b99a89dd42d5?source=collection_archive---------0-----------------------#2020-07-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a42c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">电子商务在封锁下蓬勃发展，每周有数千家企业开设网上商店。这意味着开发者需要做更多的工作，包括那些使用Shopify主题的开发者。随着数量的增长，同时部署和管理多个商店会变得很棘手。Buddy通过交付管道解决了这个问题，这是一个快速而优雅的解决方案，让您可以在上线之前自动部署和预览更改。</p><blockquote class="jd"><p id="22f8" class="je jf hi bd jg jh ji jj jk jl jm jc dx translated">在本指南中，我们将设置将Shopify主题自动部署到现有商店。我们将创建两个环境:<em class="jn"> live </em>，在这里你的主题被托管，以及<em class="jn"> stage </em>，在发布到生产之前预览修改。</p></blockquote><p id="0458" class="pw-post-body-paragraph if ig hi ih b ii jo ik il im jp io ip iq jq is it iu jr iw ix iy js ja jb jc hb bi translated"><strong class="ih hj">本指南中使用的好友动作:</strong></p><ul class=""><li id="2b42" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/actions/eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a></li><li id="326b" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/actions/gulp" rel="noopener ugc nofollow" target="_blank">一饮而尽</a></li><li id="6eec" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/actions/shopify" rel="noopener ugc nofollow" target="_blank">购物化</a></li><li id="5be5" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/actions/visual-tests" rel="noopener ugc nofollow" target="_blank">视觉测试</a></li><li id="bd66" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/actions/slack" rel="noopener ugc nofollow" target="_blank">松弛</a></li></ul><h1 id="6bf4" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">步骤1:配置主题工具包CLI</h1><p id="851f" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">从下载Shopify的主题工具包CLI开始。CLI允许您通过运行命令在Shopify主题的上下文中运行各种操作。您可以在他们的<a class="ae kc" href="https://shopify.github.io/themekit/" rel="noopener ugc nofollow" target="_blank">文档页面</a>上找到您的操作系统的安装说明。</p><h2 id="f38c" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">添加新的私人应用程序</h2><p id="f90c" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">完成后，你需要在商店的管理面板中创建一个新的私人应用程序，以访问Shopify的API。</p><ol class=""><li id="6bc3" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc lz jz ka kb bi translated">登录您的商店管理面板</li><li id="f1dd" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">转到<strong class="ih hj">应用程序</strong>选项卡</li><li id="fe67" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">点击已安装应用列表下的<strong class="ih hj">管理私人应用</strong></li><li id="d3c6" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">点击<strong class="ih hj">创建新的私人应用</strong></li><li id="7842" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">填写应用程序的名称(例如，<code class="du ma mb mc md b">theme-kit-cli</code>)</li><li id="bdac" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">在管理API部分，向下滚动到<strong class="ih hj">主题</strong>并将其设置为<code class="du ma mb mc md b">Read and write</code>(您可能需要扩展非活动管理API权限)</li><li id="35cd" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">保存应用程序并复制新生成的密码</li></ol><figure class="me mf mg mh fd mi"><div class="bz dy l di"><div class="mj mk l"/></div></figure><blockquote class="ml mm mn"><p id="9e9f" class="if ig mo ih b ii ij ik il im in io ip mp ir is it mq iv iw ix mr iz ja jb jc hb bi translated">运行Shopify Theme Kit CLI命令需要密码，请务必复制密码，因为我们稍后会用到它！</p></blockquote><h1 id="df8e" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">步骤2:引导主题项目</h1><p id="d05b" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">对于本指南，我们将使用默认的<strong class="ih hj">首次亮相</strong> Shopify主题。为了引导我们的项目，我们将使用主题工具包CLI下载它。</p><ol class=""><li id="3f67" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc lz jz ka kb bi translated">前往商店管理面板，访问<strong class="ih hj">在线商店/主题</strong>选项卡</li><li id="b1a1" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">点击<strong class="ih hj">动作</strong>按钮，选择<strong class="ih hj">复制</strong></li><li id="8dbb" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">当这个过程完成后，用名称<code class="du ma mb mc md b">Stage</code>再次复制主题。我们将使用这个主题来预览舞台环境中的变化。</li></ol><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es ms"><img src="../Images/31a32f8ce0329c7560baf3918abb492a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R0hnflkyOyaTcQu0.png"/></div></div></figure><h2 id="d671" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">使用主题工具包CLI下载主题</h2><p id="5de6" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">创建新主题后，我们必须下载它。</p><ol class=""><li id="03fc" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc lz jz ka kb bi translated">在您的计算机上创建一个目录，并从命令行进入该目录。</li><li id="2b53" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">在我们下载主题之前，我们必须知道它的ID。要列出商店中安装的所有主题，请运行以下命令:</li></ol><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="1fe7" class="ll kj hi md b fi nd ne l nf ng">$ theme get --list -p=[PASSWORD] -s=[SHOP_NAME].myshopify.com</span></pre><p id="ed91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中:</p><ul class=""><li id="5640" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated"><code class="du ma mb mc md b">PASSWORD</code> -是我们之前创建的Shopify API的密码</li><li id="1a99" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><code class="du ma mb mc md b">SHOP_NAME</code> -您的店铺在网站URL中使用的名称(例如<code class="du ma mb mc md b">my-shop.myshopify.com</code></li></ul><p id="9e46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您应该从带有两个新主题的命令中获得此输出—一个用于生产环境，另一个用于暂存环境:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="4e9d" class="ll kj hi md b fi nd ne l nf ng">Available theme versions:<br/>   [103746207896] Debut<br/>   [103747092632][live] My theme<br/>   [103749681304] My theme - stage</span></pre><p id="245b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">括号中的数字是主题的ID。我们现在可以使用它从Shopify下载文件:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="3dea" class="ll kj hi md b fi nd ne l nf ng">$ theme get --themeid=[THEME_ID] -p=[PASSWORD] -s [SHOP_NAME].myshopify.com</span></pre><p id="c3e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，检查是否所有文件都下载成功。您的文件夹结构应该如下所示:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="aee3" class="ll kj hi md b fi nd ne l nf ng">❯ ls<br/>assets config config.yml layout locales sections snippets templates</span></pre><blockquote class="ml mm mn"><p id="3ee2" class="if ig mo ih b ii ij ik il im in io ip mp ir is it mq iv iw ix mr iz ja jb jc hb bi translated"><a class="ae kc" href="https://buddy.works/actions/shopify-theme-kit-cli" rel="noopener ugc nofollow" target="_blank"> Shopify主题套件CLI也可作为Buddy中的专用操作</a>(见下文)。</p></blockquote><h2 id="a3cd" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">设置Git仓库</h2><p id="4d24" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">在本教程中，我们将使用<a class="ae kc" href="https://buddy.works/" rel="noopener ugc nofollow" target="_blank">好友</a>作为代码提供者。但是，如果您愿意，您可以使用任何VCS，因为Buddy集成了所有类型的Git提供者，包括GitHub、Bitbucket和GitLab。在这种情况下，重复下面的步骤，但在开始时选择不同的提供者。</p><p id="3dd8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先在包含您的主题的文件夹中设置一个新的存储库:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="f1dc" class="ll kj hi md b fi nd ne l nf ng">$ git init</span></pre><p id="7bd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kc" href="https://app.buddy.works/login" rel="noopener ugc nofollow" target="_blank">登录您的好友帐户</a>，创建一个新项目并选择好友作为提供商:</p><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nh"><img src="../Images/ae278704307149703636a00c27f09101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o_7F7x3MjqrAhtjP.png"/></div></div></figure><p id="b083" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入名称并点击按钮继续:</p><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es ni"><img src="../Images/a3e34b16f836ebd97099baa18c2049f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pxadR8JqeUeiSvD_.png"/></div></div></figure><p id="3f7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">复制新创建的远程存储库的URL:</p><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nj"><img src="../Images/ad1d23a5cc4331755325919c49133e7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_VxyxCRThlqP70m-.png"/></div></div></figure><blockquote class="ml mm mn"><p id="bcb4" class="if ig mo ih b ii ij ik il im in io ip mp ir is it mq iv iw ix mr iz ja jb jc hb bi translated">为了提高安全性，我们将使用SSH进行身份验证。确保您已经在好友的帐户设置中添加了您的SSH密钥<a class="ae kc" href="https://buddy.works/docs/version-control/ssh-keys" rel="noopener ugc nofollow" target="_blank">！</a></p></blockquote><p id="0c27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用拷贝的URL将遥控器添加到您电脑上的存储库中:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="2ce8" class="ll kj hi md b fi nd ne l nf ng">$ git remote add origin [REPOSITORY_URL]</span></pre><p id="4c64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，用文件夹中的所有文件创建一个初始提交:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="f5e0" class="ll kj hi md b fi nd ne l nf ng">$ git add .<br/>$ git commit -m "first commit"</span></pre><p id="22e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建并检查<code class="du ma mb mc md b">stage</code>分支。我们将使用它来部署对预览环境的更改:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="b984" class="ll kj hi md b fi nd ne l nf ng">$ git checkout -b stage</span></pre><p id="c8cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一切准备就绪后，将提交推送到Buddy上的远程存储库:</p><pre class="me mf mg mh fd mz md na nb aw nc bi"><span id="0246" class="ll kj hi md b fi nd ne l nf ng">$ git push -u origin --all</span></pre><h1 id="cbc1" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">第三步:交付生产</h1><p id="8910" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">存储库中的主题安全可靠，现在是时候配置两个管道来将更改部署到Shopify商店。</p><h2 id="3ed7" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">管道配置</h2><p id="c7ea" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">实时渠道将反映您的客户在Shopify商店上可以看到的内容。它将监视<code class="du ma mb mc md b">master</code>分支上的变化。</p><ol class=""><li id="f419" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc lz jz ka kb bi translated">在项目页面点击<strong class="ih hj">添加新管道</strong></li><li id="524f" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">将名称设置为<code class="du ma mb mc md b">Live</code>或类似名称</li><li id="01f5" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">选择<code class="du ma mb mc md b">Manual</code>作为触发模式</li><li id="605f" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">选择<code class="du ma mb mc md b">master</code>作为部署分支</li><li id="937c" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">单击蓝色按钮完成配置</li></ol><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nk"><img src="../Images/c88e1543c4bf923f932c46fc89cdf6a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MGGeO6lCWc0xyPXk.png"/></div></div></figure><p id="7e09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将触发模式设置为手动(点击)将防止管道意外展开。然而，<code class="du ma mb mc md b">master</code>分支应该<strong class="ih hj">总是</strong>准备好投入使用——确保你的合并是100%测试和验证的。</p><blockquote class="ml mm mn"><p id="f03a" class="if ig mo ih b ii ij ik il im in io ip mp ir is it mq iv iw ix mr iz ja jb jc hb bi translated">您可以展开选项菜单，并在<strong class="ih hj">目标网站URL </strong>中提供您商店的URL，以便您可以在部署后从pipeline视图中快速访问它。</p></blockquote><h2 id="b294" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">部署到Shopify</h2><p id="6bae" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">配置好管道后，我们可以添加Shopify部署操作:</p><ol class=""><li id="8b9d" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc lz jz ka kb bi translated">在动作列表中查找<strong class="ih hj"> Shopify </strong></li><li id="5e2f" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">在整合框中，将URL粘贴到您的商店，准备好后单击按钮</li><li id="7beb" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">好友会将你重定向到你的商店设置。在商店中安装好友以继续</li><li id="140f" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">添加集成后，选择您想要部署的<strong class="ih hj">主题</strong>和商店</li></ol><figure class="me mf mg mh fd mi"><div class="bz dy l di"><div class="mj mk l"/></div></figure><h1 id="b66f" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">第四步:交付到舞台</h1><h2 id="35bb" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">管道配置</h2><p id="4691" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">创建登台管道的工作方式与生产管道相同。不同之处在于我们部署的分支和触发模式:</p><ol class=""><li id="8c70" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc lz jz ka kb bi translated">转到<strong class="ih hj">管道</strong>选项卡，点击<strong class="ih hj">添加新管道</strong></li><li id="a931" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">将名称设置为<code class="du ma mb mc md b">Staging</code>或类似名称</li><li id="c9d4" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">选择<code class="du ma mb mc md b">On push</code>作为触发模式</li><li id="fbb1" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">选择<code class="du ma mb mc md b">staging</code>作为部署分支</li><li id="c410" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc lz jz ka kb bi translated">单击蓝色按钮完成配置</li></ol><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nl"><img src="../Images/4c750f10a967f624b28ce65c0c2aeebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6Aus0ELqLpTkivJr.png"/></div></div></figure><blockquote class="ml mm mn"><p id="ab2a" class="if ig mo ih b ii ij ik il im in io ip mp ir is it mq iv iw ix mr iz ja jb jc hb bi translated">通过这些设置，管道将在每次推送时自动部署更改。</p></blockquote><h2 id="b1ec" class="ll kj hi bd kk lm ln lo ko lp lq lr ks iq ls lt kw iu lu lv la iy lw lx le ly bi translated">部署到Shopify</h2><p id="0b45" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">再次添加Shopify操作。这一次，更改动作将部署到的主题:</p><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nm"><img src="../Images/ab1fdb8de275d689ccaf883e7ab0998f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h1P3EsT8fik57S5b.png"/></div></div></figure><h1 id="5057" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">步骤4:测试交付管道</h1><p id="2709" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">现在您应该有两个管道:一个用于预览舞台上的更改(自动)，另一个用于部署到生产环境(手动):</p><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nn"><img src="../Images/0f6a064737ad464e8c4aac4373499948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AmNxKAJpy2WP7mpg.png"/></div></div></figure><p id="f37c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看它们在实践中是如何工作的。首先，对你的主题做一些修改，并把它们推送到你的staging分支。您将看到Buddy会自动选取这些更改并将其上传到<code class="du ma mb mc md b">My theme - stage</code>:</p><figure class="me mf mg mh fd mi"><div class="bz dy l di"><div class="no mk l"/></div></figure><p id="81ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查网站，看看是否一切正常。如果是，将分支合并到<code class="du ma mb mc md b">master</code>并运行生产流水线。如果您在Buddy上托管源代码，您可以在“代码”选项卡中合并分支:</p><figure class="me mf mg mh fd mi"><div class="bz dy l di"><div class="np mk l"/></div></figure><blockquote class="ml mm mn"><p id="9eff" class="if ig mo ih b ii ij ik il im in io ip mp ir is it mq iv iw ix mr iz ja jb jc hb bi translated">恭喜你！您已经成功地将连续交付引入到您的工作流程中！</p></blockquote><h1 id="f5fe" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">第五步:扩张</h1><p id="27f8" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">本指南仅涵盖了可以通过管道解决的问题之一。Buddy的一个很酷的特性是，它可以让你快速扩展现有的管道，而不会中断你的工作流程。例如，您可以:</p><ul class=""><li id="fa3e" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/docs/pipelines/notifications" rel="noopener ugc nofollow" target="_blank">部署失败时发送通知</a></li><li id="f7f4" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">用<a class="ae kc" href="https://buddy.works/actions/eslint" rel="noopener ugc nofollow" target="_blank"> ESlint </a>和<a class="ae kc" href="https://buddy.works/actions/php-codesniffer" rel="noopener ugc nofollow" target="_blank"> PHP代码嗅探器</a>测试代码错误</li><li id="6731" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/docs/pipelines/builds-and-testing" rel="noopener ugc nofollow" target="_blank">使用Gulp和Webpack缩小资产和捆绑文件</a></li><li id="6e1b" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://buddy.works/guides/visual-tests" rel="noopener ugc nofollow" target="_blank">在浏览器中执行目视测试</a></li></ul><figure class="me mf mg mh fd mi er es paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="er es nq"><img src="../Images/407781a5b82bc3441a790f8345912978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hdht7SMF_vpidyTC.png"/></div></div></figure><p id="360e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，最重要的事情是保持事情简单:添加一个步骤，测试一段时间，只有当你100%确定一切正常时，再添加一个步骤。有了这种方法和你身边的伙伴，你很快就能专注于开发令人敬畏的主题，并将操作上的麻烦远远抛在身后。</p></div><div class="ab cl nr ns gp nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="hb hc hd he hf"><p id="5b26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mo">原载于2020年7月28日</em><a class="ae kc" href="https://buddy.works/guides/shopify" rel="noopener ugc nofollow" target="_blank"><em class="mo">https://buddy . works</em></a><em class="mo">。</em></p></div></div>    
</body>
</html>