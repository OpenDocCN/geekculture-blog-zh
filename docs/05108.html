<html>
<head>
<title>Azure Active Directory (AAD) 101</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure活动目录(AAD) 101</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/azure-active-directory-aad-101-3bd4383bbabe?source=collection_archive---------8-----------------------#2021-07-10">https://medium.com/geekculture/azure-active-directory-aad-101-3bd4383bbabe?source=collection_archive---------8-----------------------#2021-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/44552e24530dad6be72b0d9119fd154a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yMTytDcvnA78ooXR"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@franckinjapan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Franck</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8227" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">大家好！</p><p id="6e96" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我目前正在为AZ-900考试做准备，最近我学习了其中的azure核心身份服务模块。所以我想写一篇关于它的介绍性文章，因为它可能会帮助像我一样准备考试的人或对学习Azure AD基础知识感兴趣的人。</p><h1 id="1a1f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">身份验证与授权</h1><p id="d7e0" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">所以在深入之前，首先我们要了解两个关键词<em class="kw">认证</em>和<em class="kw">授权</em>的区别。这个你可能已经知道了。但无论如何我会很快解释一下。</p><p id="4c07" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，识别某人自己的过程被称为<strong class="ix hj">认证。</strong></p><p id="1439" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">比如说如果我告诉你我是卡尔帕尼，就会有人找我证明。我怎么证明呢？也许我可以给你看政府颁发的身份证、护照或驾驶执照。这就是认证。</p><p id="1379" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那什么是<strong class="ix hj">授权</strong>？</p><p id="4372" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于我已经证明的身份；接下来的问题是，在一个特定的组织或系统中，我能做什么，不能做什么？在Azure的上下文中，我可以访问哪些不同的服务以及我不能访问哪些服务，这被称为授权。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kx"><img src="../Images/abde2260979fcd80300f39293a6b0c7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rj9gRv5VQNFT5ROB.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Authentication vs Authorization — <a class="ae iu" href="https://afteracademy.com/" rel="noopener ugc nofollow" target="_blank">https://afteracademy.com/</a></figcaption></figure><h1 id="0694" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">多因素认证</h1><p id="3eca" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">当我登录一个特定的网站，我提供了我的用户名和密码，并认为不知何故密码被泄露。然后有人未经授权的访问和我的密码可以访问其中的数据和服务。</p><p id="ef87" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么，我们如何缓解这个问题呢？那就是我们需要多因素认证的时候(<strong class="ix hj"> MFA </strong>)。除了用户名和密码之外，还必须提供身份，可能是他们将在手机上获得的OTP，或者是通过移动网络进行的电话呼叫。否则，他们可以安装一个移动应用程序，在该应用程序上，他们必须确认自己是正在登录的人。</p><p id="6498" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，多因素身份认证需要以下两种或多种身份认证方法:</p><ul class=""><li id="2011" class="lc ld hi ix b iy iz jc jd jg le jk lf jo lg js lh li lj lk bi translated"><strong class="ix hj">你知道的东西</strong>，一般是密码。</li><li id="5116" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><strong class="ix hj">你所拥有的</strong>的东西，比如不易复制的可信设备。(例如:电话或硬件键)</li><li id="1e49" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><strong class="ix hj">你是什么样的人</strong>——指纹或面部扫描等生物识别技术。</li></ul><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/e98a38b56a76acaf829de1a83f77ab59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*epD7fvaMjdg3QUkc.jpg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Multi-Factor Authentication steps — <a class="ae iu" href="http://www.securid.com" rel="noopener ugc nofollow" target="_blank">www.securid.com</a></figcaption></figure><h1 id="9f03" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">Azure活动目录(AAD)</h1><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/3b4f3499aa55f826ac139076515de0a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*U_lbY2QLcJet8d4C"/></div><figcaption class="iq ir et er es is it bd b be z dx">Azure Active Directory logo</figcaption></figure><p id="cb9c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们看看谁将提供这种身份认证和授权，以及谁将负责这些多因素身份认证功能。在Azure中，我们有Azure活动目录。我们称之为Azure中的身份和访问管理服务。</p><p id="f647" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="kw">认证</em> </strong></p><p id="607a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Azure AD是一个创建用户和配置文件的地方。因此，组织的用户或员工将使用他们的用户名和密码登录。当然，有时可能需要多因素身份认证。然后基于该身份，我们提供对应用程序的访问。</p><p id="8934" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"><em class="kw"/></strong>单点登录</p><p id="ab7b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同一身份可以跨多个应用程序使用。这个特性叫做单点登录。您只需登录一次，就可以尝试访问所有资源。</p><p id="9a34" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="kw">应用管理</em> </strong></p><p id="c1f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我之前提到的，将为Azure AD创建和配置多个应用程序。这些应用程序可以是企业对企业的应用程序(B2B)。</p><p id="5d13" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我们正在构建应用程序，这些应用程序只能由我的组织内的用户使用，或者在某些情况下，由另一个组织的一些用户使用。我可以邀请其他组织的用户作为嘉宾加入我的广告。这意味着在用户身份存在的地方多了一个AD租户。但在我的广告里，他将以嘉宾的身份存在。</p><p id="5b9b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦该用户与我的其他用户一起被添加到我的AD，该特定用户也可以像同一组织内的任何其他用户一样被授予权限。</p><p id="1d35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，我应该能够为任何用户提供访问，如果他们有某种登录，像可能是脸书登录。如果一个用户有一个脸书帐户，谷歌帐户，或Twitter帐户，他们应该能够登录该身份。然后，相应的服务提供商将向我的Azure AD提供有关该用户的信息。因此，这些服务被称为B到C，企业到消费者。因此，世界上任何拥有社交媒体账户的人，我们都可以让这些用户访问我们azure门户中托管的应用程序。</p><p id="5fbe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="kw">设备管理</em> </strong></p><p id="d4fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过将我们的移动设备或笔记本电脑加入Azure租户，我们可以使用Azure AD提供设备管理。通过租户，我们可以控制设备。比方说，如果我丢失了我的设备，然后我可以锁定我的帐户。因此，在设备上，没有人可以登录和窃取我的数据。</p><p id="d309" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于我上面提到的所有功能，Azure AD是使Azure更受欢迎的主要和强大的服务之一。</p><h1 id="a6e3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">Active Directory到Azure Active Directory</h1><p id="bf22" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">企业很容易在他们的组织中采用azure，因为几乎每个组织都有一个<em class="kw">内部活动目录</em>。这意味着其组织的用户已经在本地active directory中。现在，微软所做的是他们提供一个设施，将所有的内部身份信息都整合到azure Ad中。如果一个用户存在于本地，相同的用户名和密码也可以添加到azure与一些工具，如Azure AD connect。这是将您的现有广告连接到Azure AD的最受欢迎的方式。</p><p id="56ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由此，组织的所有员工都可以使用相同的用户名和密码登录和访问他们本地的应用程序，以及云中的应用程序。这也是单点登录的一种形式。员工的工作效率将会提高，因为他们不必为他们的应用程序记住不同的用户名和密码，这些应用程序是在云中还是在本地。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/0c0e7b655ab88d2bff1d16c181cc0431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/0*wPSPVAZK4w76mVaW.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">Migrating to Azure AD — Mitch Tulloch</figcaption></figure><h1 id="1a90" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">条件接收</h1><p id="2d4d" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">MFA不是免费服务。因此，我们不希望为所有应用程序和所有用户自动启用MFA。只有对于某些重要的应用，我们可以启用MFA。否则，用户应该能够使用一个用户名和密码登录。而这个功能是借助条件接收实现的。</p><p id="698c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">条件访问是Azure Active Directory使用的工具，用于将信号汇集在一起，以做出决策并实施组织策略。</p><p id="ff3c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以根据特定设备、特定应用程序的IP网络范围或位置，仅允许特定用户或群组进行条件访问。甚至你的Azure广告也可以做风险检测。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/b0c17b8bf997b3655d1d8172120aa6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eqhA01v4A3XOZh2d.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Conditional Access — Microsoft docs</figcaption></figure><p id="5387" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，正如你在这张图片中看到的，你可以使用不同的信号。信号通过您正在登录的设备、您的位置、您的凭证、您正在使用的应用程序以及所有实时任务(如使用浏览器等)发出。</p><p id="44cc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将检查每一次尝试是否需要多因素身份认证，是否需要阻止或允许该访问。所以，如果这两个条件都通过了，你就可以访问你的应用程序和数据本身。</p><p id="515f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是啊！现在你对Azure AD及其核心服务的工作原理有了基本的了解。希望这对你有帮助。😃</p><p id="3696" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意安全！快乐学习！</p><h1 id="837e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">参考</h1><div class="lu lv ez fb lw lx"><a href="https://azure.microsoft.com/en-us/services/active-directory/#security" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">Azure活动目录|微软Azure</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">关于Azure AD的常见问题Azure AD有什么新功能？Azure AD获得持续改进。熬夜到…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">azure.microsoft.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml io lx"/></div></div></a></div><div class="lu lv ez fb lw lx"><a href="https://docs.microsoft.com/en-us/azure/active-directory/conditional-access/overview" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">Azure Active Directory中的条件接收是什么？</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">现代安全边界现在已经超出了组织的网络范围，包括用户和设备身份…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">docs.microsoft.com</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml io lx"/></div></div></a></div><div class="lu lv ez fb lw lx"><a href="https://docs.microsoft.com/en-us/azure/active-directory/authentication/concept-mfa-howitworks" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">Azure AD多因素身份验证概述</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">多因素身份认证是一个过程，在此过程中，用户在登录过程中会被提示提供其他形式的…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">docs.microsoft.com</p></div></div><div class="mg l"><div class="mn l mi mj mk mg ml io lx"/></div></div></a></div></div></div>    
</body>
</html>