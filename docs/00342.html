<html>
<head>
<title>Algorithmic Stock Trading Using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js的算法股票交易</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/algorithmic-stock-trading-using-node-js-38afe83812ad?source=collection_archive---------0-----------------------#2021-01-19">https://medium.com/geekculture/algorithmic-stock-trading-using-node-js-38afe83812ad?source=collection_archive---------0-----------------------#2021-01-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2da5" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">用你的策略建立一个算法交易机器人。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/bbb11382a742f81b6cd04fe275b2c0c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vlkMcrcu8IjyNDLg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@jamie452?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jamie Street</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2842" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">简介</strong></h1><p id="b3f8" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">本文的目的是为您提供使用Node.js构建算法交易机器人的重要信息，不要将这些信息视为财务建议。当我对算法交易做了很少的研究后，我发现它的成本很高，只有少数券商提供这些功能，并收取很高的佣金。算法交易有令人难以置信的好处，就像我们不需要浪费时间每天分析股票价格。它可以自动化我们对许多股票的手动分析，所以我决定以一种可扩展的方式建立一个具有简单策略的原型。</p><h1 id="15d3" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">体系结构</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lc"><img src="../Images/8276102de7e1494a85faa8bac9e39529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I-27lmIVlColyW4KNR8Y6g.png"/></div></div></figure><p id="fbb2" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">建筑非常简单；它有三个模块。</p><ul class=""><li id="d196" class="li lj hi ki b kj ld km le kp lk kt ll kx lm lb ln lo lp lq bi translated">数据网关</li><li id="9b07" class="li lj hi ki b kj lr km ls kp lt kt lu kx lv lb ln lo lp lq bi translated">策略机器</li><li id="d483" class="li lj hi ki b kj lr km ls kp lt kt lu kx lv lb ln lo lp lq bi translated">电子邮件通知</li></ul><p id="fce9" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">数据网关从IEX云API获取股票信息。检索到的股票信息被发送到策略机，并在他们做一些计算，并根据其结果，选择一些股票购买。策略机会将那些选中的股票返回到数据网关。最后，选中的股票会通过邮件通知模块给我们发邮件。</p><p id="c4be" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在解释每个模块之前，最好先解释一下我们将要执行的示例策略。因此，你会了解系统是如何工作的，并可以根据你的喜好定制策略。</p><h2 id="9cd7" class="lw jp hi bd jq lx ly lz ju ma mb mc jy kp md me ka kt mf mg kc kx mh mi ke mj bi translated">战略</h2><blockquote class="mk"><p id="da1c" class="ml mm hi bd mn mo mp mq mr ms mt lb dx translated">“你是在购买时赚钱，而不是在出售时赚钱。”~罗伯特·清崎</p></blockquote><p id="c1b1" class="pw-post-body-paragraph kg kh hi ki b kj mu ij kl km mv im ko kp mw kr ks kt mx kv kw kx my kz la lb hb bi translated">上面的引语激励我设计我们在这里作为例子使用的策略。我再次声明，这篇文章不是为了财务建议。策略就像每天一样；我们获取一家公司过去30天的股票价格，并检查当前价格是否低于前30天的价格。如果当前价格低于过去30天，我们就买入。</p><h2 id="c2ca" class="lw jp hi bd jq lx ly lz ju ma mb mc jy kp md me ka kt mf mg kc kx mh mi ke mj bi translated"><strong class="ak">数据网关</strong></h2><p id="abca" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">它是一个接口模块，与模块的其余部分进行通信。最初，数据网关从IEX云API获取股票信息。你也可以在IEX云创建一个账户，并获得一个访问API的令牌。收集到的股票信息会传送到策略机。策略机执行上面解释的策略，根据流程选择一些股票，返回给数据网关。然后电子邮件通知从数据网关收集选定的股票，并通过电子邮件发送给我们。数据网关将有一个setInterval函数，因为我们需要每天自动执行这个策略。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mz na l"/></div></figure><p id="edc6" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">上面的代码片段描述了数据网关，在第8行，您可以从IEX云API放置您的令牌。第21行的setInterval函数每天重复调用getStockData()函数，该函数执行从API获取数据、将数据发送到策略机以及通过电子邮件发送所选股票的任务。</p><h2 id="50bc" class="lw jp hi bd jq lx ly lz ju ma mb mc jy kp md me ka kt mf mg kc kx mh mi ke mj bi translated">策略机器</h2><p id="714c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">策略机计算选择优先购买的股票。在我们的策略中，这个模块需要分析公司30天的股价。如果当前价格低于前几天的价格，Strategy Machine会将该股票添加到买入列表中。参考下面的代码来了解它是如何工作的。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mz na l"/></div></figure><p id="e808" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">策略机是一个独立的模块，假设只做选择优先股的计算。在这个模块中，您可以定义您的首选策略，并将选择的股票作为数组返回到数据网关。</p><h2 id="0584" class="lw jp hi bd jq lx ly lz ju ma mb mc jy kp md me ka kt mf mg kc kx mh mi ke mj bi translated">电子邮件通知</h2><p id="8e20" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">电子邮件通知的职责很简单，就是用电子邮件把股票从策略机中返回给我们。电子邮件通知代码片段附后。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mz na l"/></div></figure><p id="51c8" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">对于身份验证信息，请提供您的电子邮件凭据，并根据您的偏好在第11行自定义对象邮件选项。如果你打算使用类似上述参考代码的Gmail服务，不要忘记启用不太安全的应用程序来访问Gmail；否则，它将阻止您的服务器的电子邮件。</p><h1 id="f94a" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">基本用法</h1><pre class="iy iz ja jb fd nb nc nd ne aw nf bi"><span id="bdf1" class="lw jp hi nc b fi ng nh l ni nj">git clone <a class="ae jn" href="https://github.com/krishheii/AlgorithmStockTrading.git" rel="noopener ugc nofollow" target="_blank">https://github.com/krishheii/AlgorithmStockTrading.git</a><br/>npm i<br/>node dataGateway.js</span></pre><h1 id="06bd" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">结论</h1><p id="dd1b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我建立这个系统只是为了教育的目的，所以不要把它当成财务建议而失去你的投资，即使我描述的策略例子我自己也不会回头。如果你有一个优秀的策略，在这个系统中实现，用之前的数据回溯。像其他算法交易机器人一样，我们的系统本身不会进行交易；它只通过电子邮件向你发送精选的股票。最终的决定取决于你是否需要购买股票。该系统旨在提供一个额外的眼睛来观察市场，该项目的源代码已附后。</p><div class="nk nl ez fb nm nn"><a href="https://github.com/krishheii/AlgorithmStockTrading" rel="noopener  ugc nofollow" target="_blank"><div class="no ab dw"><div class="np ab nq cl cj nr"><h2 class="bd hj fi z dy ns ea eb nt ed ef hh bi translated">krishheii/algorithm stocktrading</h2><div class="nu l"><h3 class="bd b fi z dy ns ea eb nt ed ef dx translated">在GitHub上创建一个帐户，为krish heii/algorithm stocktrading开发做出贡献。</h3></div><div class="nv l"><p class="bd b fp z dy ns ea eb nt ed ef dx translated">github.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob jh nn"/></div></div></a></div></div></div>    
</body>
</html>