<html>
<head>
<title>Fun With Python #5: Bubble Sort Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python #5的乐趣:冒泡排序可视化</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/fun-with-python-5-bubble-sort-visualization-dedd74c86e25?source=collection_archive---------22-----------------------#2021-03-15">https://medium.com/geekculture/fun-with-python-5-bubble-sort-visualization-dedd74c86e25?source=collection_archive---------22-----------------------#2021-03-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f4bb49bbcd4fcfe68c703ec692f5f6e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1XqUJp_JC59f5Z60.jpg"/></div></div></figure><p id="88cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">欢迎阅读“Python的乐趣”，第5部分。在这一部分，我们将利用<code class="du jo jp jq jr b">pygame </code>模块来可视化冒泡排序，并获得关于它如何工作的更多见解。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="d869" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">理论和基础</h1><p id="d0f9" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">每个CS学生或开发人员都花时间研究排序技术和算法，第一个也是最简单的排序算法是冒泡排序。</p><p id="afcb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lc" href="https://en.wikipedia.org/wiki/Bubble_sort" rel="noopener ugc nofollow" target="_blank">冒泡排序</a>是一种排序算法，它比较相邻的数字，并在需要时交换它们。这一直持续到所有元素都被排序。举个例子会让事情更清楚:</p><p id="8c2c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们从这个数字序列开始，我们希望按照升序对它们进行排序:</p><p id="3415" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">5, 3, 2, 6, 1, 4</p><p id="cc3a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先我们比较5和3，5大于3，所以我们交换:</p><p id="c6b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3 </strong>，<strong class="is hj"> 5 </strong>，2，6，1，4</p><p id="a133" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来我们比较5和2。同样，5大于2，所以我们交换:</p><p id="3502" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3、<strong class="is hj"> 2 </strong>、<strong class="is hj"> 5 </strong>、6、1、4</p><p id="6920" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的下一个比较是在5到6之间。这一次，6大于5，所以我们不交换这两个数字。因此，我们继续将6与下一个数字1进行比较，结果是交换:</p><p id="0c0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3，2，5，<strong class="is hj"> 1 </strong>，<strong class="is hj"> 6 </strong>，4</p><p id="1772" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们将6与4进行比较，并将结果交换到以下序列:</p><p id="e5e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3、2、5、1、<strong class="is hj"> 4 </strong>、<strong class="is hj"> 6 </strong></p><p id="b5ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如你所见，最大的数字现在在最后一个位置。如果我们再做一次这个过程，我们将交换数字，5将被放到正确的位置。如果我们继续做这个过程，我们将排序。</p><p id="4da5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从您所看到的，您可能已经猜到了性能方面，这不是一个最佳的算法。事实上，它的复杂度是O(n ),其中n是需要排序的元素的数量。这使得该算法不适合实际使用情况，在实际使用情况下，使用其他更有效的算法。</p><p id="b6bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">凭直觉，人们可以看到在每次迭代中，最大的数字被放在序列的末尾。让我们通过可视化算法来确认一下。在这里，<code class="du jo jp jq jr b">pygame</code>模块将有很大的帮助。</p><p id="5cdd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">据<a class="ae lc" href="https://www.pygame.org/wiki/about" rel="noopener ugc nofollow" target="_blank"> pygame官方页面</a>:</p><blockquote class="ld le lf"><p id="3671" class="iq ir lg is b it iu iv iw ix iy iz ja lh jc jd je li jg jh ji lj jk jl jm jn hb bi translated"><strong class="is hj"> Pygame </strong>是一套为编写视频游戏而设计的Python模块。Pygame在优秀的SDL库的基础上增加了功能。这允许你用python语言创建全功能的游戏和多媒体程序。</p></blockquote><p id="eeb2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">换句话说，<code class="du jo jp jq jr b">pygame</code>是Python中使用的一个模块，为了创建视频游戏，但是我们要使用一些基本功能。让我们开始吧。</p><h1 id="9541" class="jz ka hi bd kb kc lk ke kf kg ll ki kj kk lm km kn ko ln kq kr ks lo ku kv kw bi translated">履行</h1><p id="32b1" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">我们要做的第一件事是创建一个空窗口。我们将定义宽度和高度。我们还将为窗口指定一个名称:</p><pre class="lp lq lr ls fd lt jr lu lv aw lw bi"><span id="6591" class="lx ka hi jr b fi ly lz l ma mb">import random<br/>import pygame</span><span id="e6b8" class="lx ka hi jr b fi mc lz l ma mb">win_width = 700<br/>win_height = 400<br/>values = [int(random.random()*win_height) for _ in range(win_width)]<br/><br/>pygame.init()<br/>win = pygame.display.set_mode((win_width, win_height))<br/>pygame.display.set_caption('Bubble Sort Visualization')</span></pre><p id="9420" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，我们将创建一个随机数列表。我们希望为窗口中的每个像素创建一个数字，我们将归一化返回的值<code class="du jo jp jq jr b">random.random()</code>,以便填充窗口的整个高度。</p><p id="b20d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们在现有的空窗口中绘制我们的值:</p><pre class="lp lq lr ls fd lt jr lu lv aw lw bi"><span id="12d4" class="lx ka hi jr b fi ly lz l ma mb">run = True<br/><br/>while run:<br/>    pygame.time.delay(100)<br/><br/>    for i in range(0, win_width):<br/>        pygame.draw.line(win, (255, 255, 255), (i, win_height),<br/>                         (i, values[i]))<br/><br/>    pygame.display.update()<br/><br/>    for event in pygame.event.get():<br/>        if event.type == pygame.QUIT:<br/>            run = False</span></pre><p id="764a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们创建了一个无限循环，对于列表中的每个值，我们从窗口底部开始画一条线。每条线的高度代表正在绘制的数字的值。此外，我们检查用户是否决定关闭窗口，这样我们就可以退出程序。这是我们得到的结果:</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div class="er es md"><img src="../Images/673b9522fae8229177286a33e55ee420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*fWRzMnbhGPPtuvhYYhWWsQ.png"/></div><figcaption class="me mf et er es mg mh bd b be z dx">Initial list</figcaption></figure><p id="3886" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们将实现冒泡排序。实现非常简单:</p><pre class="lp lq lr ls fd lt jr lu lv aw lw bi"><span id="3c7f" class="lx ka hi jr b fi ly lz l ma mb">for i in range(0, len(values) - 1):<br/>    for j in range(0, len(values) - i - 1):<br/>        if (values[j] &lt; values[j + 1]):<br/>            tmp = values[j]<br/>            values[j] = values[j + 1]<br/>            values[j + 1] = tmp</span></pre><p id="39be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们将在上面创建的循环中插入这段代码。每次迭代后，我们将使用更新后的列表更新我们的窗口:</p><pre class="lp lq lr ls fd lt jr lu lv aw lw bi"><span id="3b55" class="lx ka hi jr b fi ly lz l ma mb">run = True<br/>done = False<br/><br/>while run:<br/>    pygame.time.delay(100)<br/><br/>    if (done == False):<br/>        for i in range(0, len(values) - 1):<br/>            for j in range(0, len(values) - i - 1):<br/>                if (values[j] &lt; values[j + 1]):<br/>                    tmp = values[j]<br/>                    values[j] = values[j + 1]<br/>                    values[j + 1] = tmp<br/><br/>            win.fill((0, 0, 0))<br/>            for i in range(0, win_width):<br/>                pygame.draw.line(<br/>                    win, (255, 255, 255),<br/>                    (i, win_height),<br/>                    (i, values[i])<br/>                )<br/><br/>            pygame.display.update()<br/><br/>        done = True<br/><br/>    for event in pygame.event.get():<br/>        if event.type == pygame.QUIT:<br/>            run = False</span></pre><h1 id="53a2" class="jz ka hi bd kb kc lk ke kf kg ll ki kj kk lm km kn ko ln kq kr ks lo ku kv kw bi translated">结论</h1><p id="7de7" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">第一次迭代后，您将看到以下窗口:</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div class="er es mi"><img src="../Images/b6cd77e8d32283ca20b61e4f469296fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*0gOWdUewVZvuetCETvz0bA.png"/></div><figcaption class="me mf et er es mg mh bd b be z dx">Greatest numbers are moved to the right of the window</figcaption></figure><p id="fe7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如你所见，最大的数字开始向窗口的右边移动。这正是冒泡排序的工作方式。在每一遍中，你都试图把最大的数字放到正确的位置上(或者如果你是升序排序，把最小的数字放到正确的位置上)。排序完成后，窗口将如下所示:</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/09c4c2b6bc8a29e16499418836789306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPSg73USJkR-le481yC2Cg.png"/></div></div><figcaption class="me mf et er es mg mh bd b be z dx">Sorted list</figcaption></figure><p id="9c78" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每一个数字都在正确的位置，我们得到了这个“山”。</p><p id="72bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您对冒泡排序的工作原理有了一个直观的了解。当然，你可以实现其他的排序算法，看看它们是如何工作的，并通过可视化来更好地理解它们。你可以在这里找到完整的功能代码<a class="ae lc" href="https://github.com/OrWestSide/python/blob/master/BubbleSortViz.py" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="75a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望你喜欢读它，并尝试自己。让我知道你的想法和你的想法！同时，你可以在这里找到“Python的乐趣”系列的其余部分<a class="ae lc" href="https://ozekai9.medium.com/fun-with-python-series-5ab2ab4da515" rel="noopener">。</a></p></div></div>    
</body>
</html>