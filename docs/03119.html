<html>
<head>
<title>HTTP Requests in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Node.js中的HTTP请求</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/http-requests-in-node-js-602903e3a54d?source=collection_archive---------48-----------------------#2021-05-31">https://medium.com/geekculture/http-requests-in-node-js-602903e3a54d?source=collection_archive---------48-----------------------#2021-05-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a63d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我一直在努力提高我的整体JavaScript知识，最近我一直在花时间学习Node.js。为此，我一直在开发一个基本的天气应用程序。</p><p id="9c0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与API通信是学习如何组织不同的请求并确定想要回哪些信息的好方法。为了使这个过程更容易，我安装了强烈推荐的HTTP客户机服务器Request。</p><p id="25a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，从2020年2月11日起，请求NPM包已被弃用。令人欣慰的是，广受欢迎和信任的API测试服务Postman填补了这一空白，并修复了自弃用以来出现的任何错误。我之前写过一篇关于Postman和你可以用它做的一些事情的博客。</p><p id="41b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">邮递员申请的<a class="ae jd" href="https://www.npmjs.com/package/postman-request" rel="noopener ugc nofollow" target="_blank">文档</a>强调了一些你可以使用他们的服务完成的更复杂的任务。</p><p id="3d4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用Request发出各种HTTP(s)请求，包括来自表单、定制头和OAuth签名的复杂POST请求。</p><p id="219a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了简单起见，下面是一个简单的GET请求。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/9e93316076c64f89b29fe064cd0a6075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mb6P7NxX4u_BdIZvxEX0pg.png"/></div></div></figure><p id="c0d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，在请求本身中，我调用了API的url，我将它赋给了一个名为url的变量。另一个友好的提醒隐藏您的API键！！不要在GitHub或其他地方公开它们。</p><p id="a5d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经指定我希望信息以JSON形式返回，并且我已经为我希望返回的信息分配了几个变量，然后我在控制台语句中插入并返回这些变量。</p><p id="ca84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我添加了toLowerCase()，所以它以相同的格式返回。有些天气描述都是大写的，出于某种原因，我不喜欢大喊大叫。</p><p id="73d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我没有展示错误处理，但是一种方法是创建一个if/else，例如，if(response . body . error)console . log(error)，else返回上面显示的内容。</p><p id="6510" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Postman和Request的朋友的帮助下，这只是一个在Node中开始请求的好地方。</p></div></div>    
</body>
</html>