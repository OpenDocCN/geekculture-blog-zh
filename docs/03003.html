<html>
<head>
<title>Google Map Platform 101 — Part 3: Image Overlay, Map Style in Runtime</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌地图平台101 —第3部分:运行时的图像叠加、地图样式</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/google-map-platform-101-part-3-image-overlay-4c1210814153?source=collection_archive---------21-----------------------#2021-05-29">https://medium.com/geekculture/google-map-platform-101-part-3-image-overlay-4c1210814153?source=collection_archive---------21-----------------------#2021-05-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c724" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谷歌地图可以添加一个图像覆盖来显示客户的标志。在这一部分中，您将学习如何在地图上创建菜单和图像工具。事先，您可以在运行时更改地图样式。</p><h1 id="1a4c" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">— ===菜单=== —</h1><p id="e2af" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj">🎨1.</strong> <a class="ae kg" href="#1ebe" rel="noopener ugc nofollow"> <strong class="ih hj">创建一个标志</strong> </a> <strong class="ih hj"> <br/> 🖌 2。</strong> <a class="ae kg" href="#9fe9" rel="noopener ugc nofollow"> <strong class="ih hj">创建菜单图标</strong> </a> <strong class="ih hj"> <br/>📜 3.</strong> <a class="ae kg" href="#9b75" rel="noopener ugc nofollow"> <strong class="ih hj">添加菜单→首页</strong> </a> <strong class="ih hj"> <br/>🚵 4.</strong> <a class="ae kg" href="#dc5a" rel="noopener ugc nofollow"> <strong class="ih hj">图像叠加</strong> </a> <strong class="ih hj"> <br/>🍍 5.</strong> <a class="ae kg" href="#86a9" rel="noopener ugc nofollow"> <strong class="ih hj">菜单选项</strong> </a> <strong class="ih hj"> <br/>🎮 6.</strong> <a class="ae kg" href="#d737" rel="noopener ugc nofollow"> <strong class="ih hj">第二菜单项</strong> </a> <strong class="ih hj"> <br/> 🛬 7。</strong> <a class="ae kg" href="#b0f6" rel="noopener ugc nofollow"> <strong class="ih hj">运行时的地图样式</strong> </a></p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="1ebe" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🎨1.创建一个标志… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><p id="b425" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在他们的网站或他们提供给你的信息中找到关于你的客户的详细信息。该徽标图像必须有透明背景。</p><p id="1036" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">举个例子，</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es kt"><img src="../Images/41545152ec5dc795b63f61d83c5a337d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBr_0uGjalXdHt604fwfDg.png"/></div></div></figure><p id="402c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保存到res/drawable</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lf"><img src="../Images/745c1579329aa461326c9c921c700ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*o6bgVlFvPRYQf98fo_T6uQ.png"/></div></figure></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="9fe9" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🖌 2.创建菜单图标…… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lg"><img src="../Images/a9e24eade141e457007161b378a18d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*P5l9ATSrMUpKkLzZEFK9RQ.png"/></div></figure><p id="dc0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我需要一个家庭图标。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lh"><img src="../Images/5eb465239323fec600268a7557bfb9a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*rWgwDfqIUgog9ksIBaBuZg.png"/></div></figure><p id="0f8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">搜索主页:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es li"><img src="../Images/db41263bdab0b3035d61915fd18ac048.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*l-S_GiTPX6GLGebsxE_pFw.png"/></div></figure><p id="d9f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择颜色:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es lj"><img src="../Images/39803c10d4f20377c42f4d6c35f53918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LslqIIsY_sxJOtUvg6_22g.png"/></div></div></figure><p id="a78d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es lk"><img src="../Images/2ca6c27990188e484ac6ffaa456fe75f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BUaqIvcaWFIewfU8fTnOAQ.png"/></div></div></figure></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="9b75" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">📜 3.添加菜单→主页…… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><blockquote class="ll lm ln"><p id="92dc" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">添加资源目录</p></blockquote><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es ls"><img src="../Images/4ed7d27bf36f57eaa27ba57ff12becce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b_KJyyAhsw61LSvBWmq4iA.png"/></div></div></figure><blockquote class="ll lm ln"><p id="c1a7" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">添加菜单目录</p></blockquote><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lt"><img src="../Images/dcffd19aa58598093531435da96d9f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*iBrqAX8aoDUVECNYIiINwA.png"/></div></figure><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lu"><img src="../Images/c7f993a2dfde0798832e5e74ef5d7f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*ydRTHAlgk7xYNFfb5e_4RQ.png"/></div></figure><blockquote class="ll lm ln"><p id="82a1" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">菜单项</p></blockquote><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lv"><img src="../Images/31af1d81dcc643a602abac51f191e71d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*0NZT5iJYKOD0Y1KJ4jM7tQ.png"/></div></figure><p id="bb3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">新建→菜单资源文件</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lw"><img src="../Images/a97fdb1796d4b634a3b02801be499815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*jOE7Hs4V2CTD0Rz0JTLA_w.png"/></div></figure><p id="4fd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">文件名</strong>:主页_菜单</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lx"><img src="../Images/b052d402c4bc1e59a610d642dff56a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*9YJc5ewmGec6sxQQiv9G9A.png"/></div></figure><p id="7aab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> id </strong> → home_menu <br/> <strong class="ih hj">标题</strong> → Home <br/> <strong class="ih hj">图标</strong> →上面我做过的那个。<br/> <strong class="ih hj">显示操作</strong> → ifRoom ( <em class="lo">如果屏幕有空间则显示图标</em>)</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="dc5a" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🚵 4.图像叠加… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><p id="3481" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">让我们回到地图演示项目。</p><p id="ede7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将有两个功能:</p><ul class=""><li id="1ec6" class="ly lz hi ih b ii ij im in iq ma iu mb iy mc jc md me mf mg bi translated">移动到客户的位置</li><li id="3ba9" class="ly lz hi ih b ii mh im mi iq mj iu mk iy ml jc md me mf mg bi translated">添加图像覆盖</li></ul><blockquote class="ll lm ln"><p id="b688" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">准备位置</p></blockquote><p id="2be5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来自<a class="ae kg" href="https://maps.google.com" rel="noopener ugc nofollow" target="_blank">https://maps.google.com/</a></p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es mm"><img src="../Images/1e733a5e81a42ffa3308d4257bb10c81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*OtyLSd_R-3_xHifCYAYddA.png"/></div><figcaption class="mn mo et er es mp mq bd b be z dx">Copied the location data</figcaption></figure><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="60ff" class="mw je hi ms b fi mx my l mz na"><em class="lo">// customer location<br/></em><strong class="ms hj">private val homeLatLng </strong>= LatLng(37.670435397441466, -122.47354342767584)</span></pre><blockquote class="ll lm ln"><p id="e9b6" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">移动到家庭位置</p></blockquote><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="99f7" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">private fun </strong>moveToHome() {<br/>    <strong class="ms hj">mMap</strong>.moveCamera(CameraUpdateFactory.newLatLng(<strong class="ms hj">homeLatLng</strong>))<br/>    <strong class="ms hj">mMap</strong>.animateCamera(CameraUpdateFactory.zoomIn())<br/>    <strong class="ms hj">mMap</strong>.animateCamera(CameraUpdateFactory.zoomTo(17f), 4000, <strong class="ms hj">null</strong>)<br/>}</span></pre><p id="a911" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">变量<strong class="ih hj"> mMap </strong>已经在<a class="ae kg" rel="noopener" href="/geekculture/walk-through-google-map-platform-101-in-android-7c72a4dd40e3"> <strong class="ih hj"> <em class="lo">第一部分</em> </strong> </a>初始化。</p><blockquote class="ll lm ln"><p id="84a2" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">图像叠加</p></blockquote><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="2bf4" class="mw je hi ms b fi mx my l mz na"><em class="lo">/**<br/> * Image Overlay<br/> */<br/></em><strong class="ms hj">private fun </strong>imageOverlay(imageId: Int, size: Float) {<br/>    <strong class="ms hj">val </strong>overlaySize = size<br/><br/>    <strong class="ms hj">val </strong>androidOverlay = GroundOverlayOptions()<br/>        .image(BitmapDescriptorFactory.fromResource(imageId))<br/>        .position(<strong class="ms hj">homeLatLng</strong>, overlaySize)<br/>    <strong class="ms hj">mMap</strong>.addGroundOverlay(androidOverlay)<br/>}</span></pre><p id="537b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单，没什么大不了的！您可以修改该函数，使其运行如下:</p><ul class=""><li id="7143" class="ly lz hi ih b ii ij im in iq ma iu mb iy mc jc md me mf mg bi translated"><strong class="ih hj">来自数据库的图像链接</strong></li><li id="1f85" class="ly lz hi ih b ii mh im mi iq mj iu mk iy ml jc md me mf mg bi translated"><strong class="ih hj">从缓存加载图像</strong></li><li id="5c4a" class="ly lz hi ih b ii mh im mi iq mj iu mk iy ml jc md me mf mg bi translated"><strong class="ih hj">数据库中的营业地点</strong></li><li id="a2dd" class="ly lz hi ih b ii mh im mi iq mj iu mk iy ml jc md me mf mg bi translated"><strong class="ih hj">数据库中的标志尺寸</strong></li></ul><p id="8242" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，您将把它们组合成一个自动加载图像叠加功能。如果你有一些新的想法，请与我分享。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="86a9" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🍍 5.菜单选项… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><blockquote class="ll lm ln"><p id="7cc2" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">菜单布局</p></blockquote><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="317d" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">override fun </strong>onCreateOptionsMenu(menu: Menu?): Boolean {<br/>    <em class="lo">menuInflater</em>.inflate(<strong class="ms hj">R.menu.<em class="lo">home_menu</em></strong>, menu)<br/>    <strong class="ms hj">return true<br/></strong>}</span></pre><blockquote class="ll lm ln"><p id="bd42" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">选择的菜单项</p></blockquote><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="6c3b" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">override fun </strong>onOptionsItemSelected(item: MenuItem): Boolean {<br/><br/>    <strong class="ms hj">when</strong>(item.<em class="lo">itemId</em>) {<br/>        R.id.<em class="lo">home_menu </em>-&gt; {<br/>            imageOverlay(R.drawable.<em class="lo">meet_fresh_logo</em>, 150f)<br/>            moveToHome()<br/>        }<br/>    }<br/>    <strong class="ms hj">return super</strong>.onOptionsItemSelected(item)<br/>}</span></pre><p id="bb85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">超级简单不是吗？</p><p id="72a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们跑吧🐣。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es nb"><img src="../Images/c3bd7525951768f79ead4445ef62f952.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/1*R88zFTSojbUG9WfmDahIVA.gif"/></div></figure><p id="5076" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">工作很好！</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="d737" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🎮 6.第二个菜单项…… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><blockquote class="ll lm ln"><p id="deb9" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">按照第1章创建第2个。图标:</p></blockquote><p id="35f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">剪贴画:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es nc"><img src="../Images/a7aff6a006c4ad09f4ff88fab634c725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*aYLNor3Sjryvtn_ZwEAhqA.png"/></div></figure><p id="2ff6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">颜色:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es nd"><img src="../Images/a13b09770748fbb85bd5e98405d28d57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KizpMRK00obloSiUxvhA-w.png"/></div></div></figure><p id="d2ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es ne"><img src="../Images/37a0a93c3f312e0287e0d683e91a6631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Algl4VkbTXpUiqUBvwetSA.png"/></div></div></figure><blockquote class="ll lm ln"><p id="290a" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">创建一个商业标志:在GIMP中设计。</p></blockquote><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es nf"><img src="../Images/72a40540edb61a09eac6d9a1c6f1b650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*UXak9t94Tu3uPAZtCokuVA.png"/></div></figure><p id="d51a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保存到res/drawable文件夹。</p><blockquote class="ll lm ln"><p id="06f8" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">编辑主页菜单:</p></blockquote><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es ng"><img src="../Images/fbea5618cb7401d4f49b62731f443927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c4-lQp06NsMJN4YmuYrBvQ.png"/></div></div></figure><blockquote class="ll lm ln"><p id="48d5" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">编辑ui/ <strong class="ih hj"> MapsActivity.kt </strong></p></blockquote><p id="af85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">新变量:<strong class="ih hj"> wineyearLatLng ( </strong>这是一个假的位置。<strong class="ih hj"> ) </strong></p><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="e14c" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">private val wineyardLatLng </strong>= LatLng(39.94505180548504, 116.41756601673754)</span></pre><p id="b8b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">新功能:<strong class="ih hj"> moveToWindyard() </strong></p><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="a6ac" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">private fun </strong>moveToWineyard() {<br/>    <strong class="ms hj">mMap</strong>.moveCamera(CameraUpdateFactory.newLatLng(<strong class="ms hj">wineyardLatLng</strong>))<br/>    <strong class="ms hj">mMap</strong>.animateCamera(CameraUpdateFactory.zoomIn())<br/>    <strong class="ms hj">mMap</strong>.animateCamera(CameraUpdateFactory.zoomTo(18f), 4000, <strong class="ms hj">null</strong>)<br/>}</span></pre><p id="7f43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">共享功能:<strong class="ih hj"> imageOverlay() </strong></p><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="7f10" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">private fun </strong>imageOverlay(<br/>    imageId: Int, size: Float, <strong class="ms hj">location: LatLng</strong><br/>) {<br/>    <strong class="ms hj">val </strong>overlaySize = size<br/><br/>    <strong class="ms hj">val </strong>androidOverlay = GroundOverlayOptions()<br/>        .image(BitmapDescriptorFactory.fromResource(imageId))<br/>        .position(<strong class="ms hj">location</strong>, overlaySize)<br/>    <strong class="ms hj">mMap</strong>.addGroundOverlay(androidOverlay)<br/>}</span></pre><p id="948f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择的菜单项:</p><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="fe91" class="mw je hi ms b fi mx my l mz na"><strong class="ms hj">override fun </strong>onOptionsItemSelected(item: MenuItem): Boolean {<br/><br/>    <strong class="ms hj">when</strong>(item.<em class="lo">itemId</em>) {<br/>        R.id.<em class="lo">home_menu </em>-&gt; {<br/>            imageOverlay(<br/>                R.drawable.<em class="lo">meet_fresh_logo</em>, 150f, <strong class="ms hj">homeLatLng</strong>)<br/>            moveToHome()<br/>        }<br/>        R.id.<em class="lo">wind_yard_menu </em>-&gt; {<br/>            imageOverlay(<br/>                R.drawable.<em class="lo">wine_yard_logo</em>, 100f, <strong class="ms hj">wineyardLatLng</strong>)<br/>            moveToWineyard()<br/>        }<br/>    }<br/>    <strong class="ms hj">return super</strong>.onOptionsItemSelected(item)<br/>}<br/></span></pre><p id="7b83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">测试结果:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es nh"><img src="../Images/7974d6e29cea3a63ae078d11e0582767.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*UHeYRSKTlZOMNjnIPSyLFw.png"/></div></figure><p id="793f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种地图风格很可怕吧？其他地标挡住了logo。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="b0f6" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🛬 7.运行时的地图样式…… → <a class="ae kg" href="#1a4c" rel="noopener ugc nofollow">菜单</a></h1><p id="cb2a" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">链接:<a class="ae kg" href="https://homanhuang.medium.com/google-map-platform-101-part-2-map-style-6f6b7e5cc28e?source=your_stories_page-------------------------------------" rel="noopener"> <strong class="ih hj"> <em class="lo">谷歌地图平台101 —第二部分:地图风格</em> </strong> </a></p><blockquote class="ll lm ln"><p id="4340" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">新款:粉色，去除商务色彩</p></blockquote><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es ni"><img src="../Images/fff66409c3d1f88bbdf8580e8dd0e267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DvUvsXGkEdnGbZ29C42JA.png"/></div></div><figcaption class="mn mo et er es mp mq bd b be z dx">Pick your options to minimize the surrounding materials.</figcaption></figure><p id="0eb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保存到一个新的JSON文件:<strong class="ih hj"><em class="lo">map _ style _ bar . JSON</em></strong></p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es nj"><img src="../Images/0785847ec1a7a05c0045bd8275d7fee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDJfzSXhDpSlEbzQ6QhxgA.png"/></div></div></figure><blockquote class="ll lm ln"><p id="4fc1" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">ui/ <strong class="ih hj"> MapaActivity.kt </strong></p></blockquote><p id="d1f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调整参数:</p><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="4e6a" class="mw je hi ms b fi mx my l mz na"><em class="lo">/**<br/> * Map style<br/> */<br/></em><strong class="ms hj">private fun </strong>setMapStyle(mapStyleId: Int) {<br/>    <strong class="ms hj">try </strong>{<br/>        <strong class="ms hj">val </strong>success = <strong class="ms hj">mMap</strong>.setMapStyle(<br/>            MapStyleOptions.loadRawResourceStyle(<br/>                <strong class="ms hj">this</strong>,<br/>                mapStyleId<br/>            )<br/>        )<br/><br/>        <strong class="ms hj">if </strong>(!success) {<br/>            <em class="lo">lge</em>(<strong class="ms hj">"MapStyle: Style parsing failed."</strong>)<br/>        }<br/>    } <strong class="ms hj">catch </strong>(e: Resources.NotFoundException) {<br/>        <em class="lo">lge</em>(<strong class="ms hj">"MapStyle: Can't find style. Error: $</strong>e<strong class="ms hj">"</strong>)<br/>    }<br/>}</span></pre><p id="34fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择的菜单项:</p><pre class="ku kv kw kx fd mr ms mt mu aw mv bi"><span id="584e" class="mw je hi ms b fi mx my l mz na">override fun onOptionsItemSelected(item: MenuItem): Boolean {<br/><br/>    when(item.<em class="lo">itemId</em>) {<br/>        R.id.<em class="lo">home_menu </em>-&gt; {<br/>            <strong class="ms hj">setMapStyle(R.raw.<em class="lo">map_style</em>)</strong><br/>            ...<br/>        }<br/>        R.id.<em class="lo">wind_yard_menu </em>-&gt; {<br/>            <strong class="ms hj">setMapStyle(R.raw.<em class="lo">map_style_bar</em>)</strong><br/>            ...<br/>        }<br/>    }<br/>    return super.onOptionsItemSelected(item)<br/>}</span></pre><p id="1bc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">🚀运行:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es nk"><img src="../Images/a4f66c4f65588fd5c2b74559db0c0973.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*esAyC7m_pne9JFTDWbz_4g.png"/></div></figure><p id="4cb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在更清楚了！</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="ebdf" class="jd je hi bd jf jg ko ji jj jk kp jm jn jo kq jq jr js kr ju jv jw ks jy jz ka bi translated">🙈鼓掌，鼓掌，大家！</h1></div></div>    
</body>
</html>