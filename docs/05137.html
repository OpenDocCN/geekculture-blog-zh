<html>
<head>
<title>Explore Weather Trends</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索天气趋势</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/explore-weather-trend-e78765e22380?source=collection_archive---------13-----------------------#2021-07-11">https://medium.com/geekculture/explore-weather-trend-e78765e22380?source=collection_archive---------13-----------------------#2021-07-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="4672" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">分析本地和全球温度数据，并将您所在地区的温度趋势与全球整体温度趋势进行比较。</h1><p id="50a3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">SQL server上的数据库模式记录了从1825年到2013年的所有全球平均温度和国家平均温度。</p><p id="0215" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">数据库中有三个表:</p><ol class=""><li id="b09e" class="kg kh hi jf b jg kb jk kc jo ki js kj jw kk ka kl km kn ko bi translated">city _ list包含数据库中城市和国家的列表。</li><li id="94a7" class="kg kh hi jf b jg kp jk kq jo kr js ks jw kt ka kl km kn ko bi translated">city _ data包含每个城市每年的平均温度(°C)。</li><li id="5d4e" class="kg kh hi jf b jg kp jk kq jo kr js ks jw kt ka kl km kn ko bi translated">global _ data包含每年的全球平均温度(°C)。</li></ol><p id="c76e" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><em class="ku">使用SQL代码获取我们想要的数据集，导出到CSV文件名'</em> <a class="ae kv" href="https://github.com/HockChong/Explore-The-Weather-Trend/blob/main/temperature.csv" rel="noopener ugc nofollow" target="_blank"> <em class="ku"> temp </em> erature <em class="ku">。CSV</em></a><em class="ku">’。</em></p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="ffcc" class="lf ig hi lb b fi lg lh l li lj">SELECT g.avg_temp as global_avg_temp, c.year,c.city, c.country, c.avg_temp<br/>FROM global_data as g<br/>INNER JOIN city_data as c<br/>ON g.year = c.year<br/>WHERE country =’Malaysia’</span></pre><h1 id="22f3" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">探索数据</h1><p id="0d8b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">使用熊猫来探索数据集，我发现吉隆坡的平均温度有17个缺失数据。让我们放下数据，继续探索。你可以在这里找到完整的代码语法。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="d0c8" class="lf ig hi lb b fi lg lh l li lj">temp.isnull().sum()</span><span id="195d" class="lf ig hi lb b fi lk lh l li lj">global_avg_temp     0<br/>year                0<br/>city                0<br/>country             0<br/>avg_temp           17<br/>dtype: int64</span></pre><p id="da52" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">删除缺失值后，总共有172行。</p><p id="a350" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">让我们通过使用<code class="du ll lm ln lb b">.<a class="ae kv" href="https://www.datacamp.com/community/tutorials/moving-averages-in-pandas" rel="noopener ugc nofollow" target="_blank">rolling</a>()</code>方法获得数据的滚动窗口来创建10年移动平均线，然后使用<code class="du ll lm ln lb b">.mean().</code>移动平均线来平滑数据，以便更容易观察长期趋势，并帮助我们消除那些噪音。</p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="0811" class="lf ig hi lb b fi lg lh l li lj">temp[‘global_10Y_MA’] = temp.iloc[:,0].rolling(window=10).mean()<br/>temp[‘malaysia_10Y_MA’] = temp.iloc[:,4].rolling(window=10).mean()</span></pre><figure class="kw kx ky kz fd lp er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lo"><img src="../Images/4ea46c8b87a820a4228e56db895f7b56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GzBO21DrjcUeH6tq-QLyPw.png"/></div></div></figure><p id="9728" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">这很难区分。让我们用温度变化的百分比来看这些数据。</p><p id="6229" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj"><em class="ku">#计算全年气温变化的百分比</em> </strong></p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="f3c4" class="lf ig hi lb b fi lg lh l li lj">temp[‘global_temp_Percentage’] = temp[‘global_10Y_MA’]*100/temp[‘global_10Y_MA’].iloc[9] — 100</span><span id="5863" class="lf ig hi lb b fi lk lh l li lj">temp[‘Malaysia_temp_Percentage’] = temp[‘malaysia_10Y_MA’]*100/temp[‘malaysia_10Y_MA’].iloc[9] — 100</span></pre><figure class="kw kx ky kz fd lp er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lw"><img src="../Images/237da10e0f850aabc2d433542a5683b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bY8e0TNXFYM1weQSvTDK0g.png"/></div></div></figure><p id="90f6" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">结论:</p><ol class=""><li id="3a50" class="kg kh hi jf b jg kb jk kc jo ki js kj jw kk ka kl km kn ko bi translated">马来西亚吉隆坡的气温在这些年里上升了5.37%。</li><li id="c802" class="kg kh hi jf b jg kp jk kq jo kr js ks jw kt ka kl km kn ko bi translated">全球气温逐年急剧升高，增幅为19.69%。</li><li id="d6ad" class="kg kh hi jf b jg kp jk kq jo kr js ks jw kt ka kl km kn ko bi translated">马来西亚吉隆坡的10年平均气温比全球10年平均气温高3.12倍。</li><li id="70f4" class="kg kh hi jf b jg kp jk kq jo kr js ks jw kt ka kl km kn ko bi translated">由于全球变暖，全球气温将继续升高。</li></ol></div></div>    
</body>
</html>