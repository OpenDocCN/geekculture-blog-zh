<html>
<head>
<title>Create an Offline Interactive Report By Using Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Plotly创建离线交互式报告</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/create-an-interactive-report-by-using-plotly-981a513fdec4?source=collection_archive---------5-----------------------#2021-03-08">https://medium.com/geekculture/create-an-interactive-report-by-using-plotly-981a513fdec4?source=collection_archive---------5-----------------------#2021-03-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/6c397c73d116a2f02ea0528e37646796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pi3CCpvhmgmOOCet"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Photo by <a class="ae hv" href="https://unsplash.com/@lukechesser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luke Chesser</a> on <a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><div class=""><h2 id="7010" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">如果您的公司不想开发仪表板，但需要您长时间监控复杂的数据。也许这是帮助你的一种方式。</h2></div><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jn"><img src="../Images/3e22ea220662ffb36220cb4414cd6955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9Utr4D6ZXq9hXzE9nDHkYA.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Fig1 Offline Interactive Report</figcaption></figure><h1 id="08d5" class="js jt hy bd ju jv jw jx jy jz ka kb kc je kd jf ke jh kf ji kg jk kh jl ki kj bi translated">为什么要用Plotly画图？</h1><p id="8b3c" class="pw-post-body-paragraph kk kl hy km b kn ko iz kp kq kr jc ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">还有许多其他工具可以创建交互式图表。然而，我不会在本文中争论哪种工具更好。如果有人对它感兴趣，可以查看<a class="ae hv" href="https://towardsdatascience.com/the-sweet-spot-of-plotly-c6e1342e3544" rel="noopener" target="_blank">链接</a>。</p><h1 id="6760" class="js jt hy bd ju jv jw jx jy jz ka kb kc je kd jf ke jh kf ji kg jk kh jl ki kj bi translated">离线交互式报告的优势</h1><ul class=""><li id="b76c" class="lg lh hy km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated">创建过程可以是全自动的，因为交互式UI将让您轻松地比较不同条件下的每个项目。</li><li id="1c50" class="lg lh hy km b kn lp kq lq kt lr kx ls lb lt lf ll lm ln lo bi translated">离线交互式报表不需要启动服务器，但仪表板需要。它非常适合那些过去通过电子邮件接收信息的人。</li><li id="bee6" class="lg lh hy km b kn lp kq lq kt lr kx ls lb lt lf ll lm ln lo bi translated">Plotly的交互功能很有帮助，比如下载按钮、隐藏线和缩放图形。</li></ul><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/4826aeeafe3abff559753a292f67db40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hUk2BJ_gPijsIcY7VVZGHA.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Fig2 Download</figcaption></figure><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/21eccd1c349f8e87e492afe87773e662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KMpIpf5QGki-CmWkzL38Fg.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Fig3 Zoom Graph</figcaption></figure><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/0cc3c3bf653f546809f94e6102af44e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qpt6Y3n4PnhN5ZKyuthpvQ.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Fig4 Hidden Line</figcaption></figure><h1 id="0fa3" class="js jt hy bd ju jv jw jx jy jz ka kb kc je kd jf ke jh kf ji kg jk kh jl ki kj bi translated">创建交互式报表的简单教程</h1><p id="9f6e" class="pw-post-body-paragraph kk kl hy km b kn ko iz kp kq kr jc ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">首先，我为这篇文章生成一些假数据。代码如下所示。</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><figure class="jo jp jq jr fd hk er es paragraph-image"><div class="er es lx"><img src="../Images/a1ff897b1e0e8a25dd5ef6b0a0e7102f.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*HXx1zSSiwNqhGALInqhsHw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">weblog dataset: 2000 rows × 4 columns / keyword(search term): 520 rows × 1 columns</figcaption></figure><p id="13c4" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated">其次，打开另一个脚本来导入您的包并加载您之前生成的数据集。</p><pre class="jo jp jq jr fd md me mf mg aw mh bi"><span id="4590" class="mi jt hy me b fi mj mk l ml mm"># plotly<br/>import plotly.graph_objects as go<br/>import plotly<br/>from plotly.subplots import make_subplots<br/># basic package<br/>import pandas as pd<br/>import glob<br/>import config<br/>import numpy as np<br/>import re<br/>from datetime import date<br/>import os<br/>import pickle<br/># wordcloud<br/>from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator<br/># plot<br/>import matplotlib.pyplot as plt<br/>from matplotlib.font_manager import FontProperties<br/>import base64<br/>from io import BytesIO<br/>from os import path<br/>from PIL import Image<br/># from pivottablejs import pivot_ui<br/>from IPython.display import IFrame<br/>import json, io<br/># html<br/>from IPython.display import HTML</span><span id="4fea" class="mi jt hy me b fi mn mk l ml mm">df = pd.read_pickle(‘../Data/web_lod_data.pkl’)<br/>df.head()</span></pre><p id="61bf" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated">这样做了之后，你就可以开始考虑你想要显示什么图形或者表格了。下面我举两个例子。</p><p id="393d" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated"><strong class="km hz">案例1:通过统计动作数量比较不同网络浏览设备的使用情况</strong></p><p id="2f5f" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated">我们的数据集有两个网站，所以我们需要创建一个可以相互切换的按钮。</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mo"><img src="../Images/f9cf12c2f5635d861918c51659e449de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*OkAodFvfp6aW9cbsSYPPaQ.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Fig5 Number of Actions</figcaption></figure><p id="f5d3" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated"><strong class="km hz">案例2:创建一个交互式表格来显示搜索词出现的次数</strong></p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/71bff859c13ac48a62ca1697024decdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UWQbMEmW8D9kzMAuPjUrNg.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Fig6 Interactive Table</figcaption></figure><p id="054d" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated">最后，打开新的脚本并遵循下面的代码，然后你就可以快速地将我们之前创建的HTML文件嵌入到基本的HTML模板中了。</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mp"><img src="../Images/123c0cc95a488289358ae9cc5e69a07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1kw4eNHaAALKYut_s0u6nw.gif"/></div></div></figure><h1 id="1029" class="js jt hy bd ju jv jw jx jy jz ka kb kc je kd jf ke jh kf ji kg jk kh jl ki kj bi translated">结论</h1><p id="4dc3" class="pw-post-body-paragraph kk kl hy km b kn ko iz kp kq kr jc ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">我认为大多数时候在线仪表板是交互式报告的更好的解决方案。但有时，它可能不是您公司的最佳解决方案。例如，如果您是唯一需要监控数据的人，那么创建在线仪表板就是浪费。另一种情况是您的老板或主管不习惯在仪表板上探索数据洞察力。离线交互式报告可能是您的一个好选择。它可以很容易地在报告中添加您的观点或建议。</p><p id="4ae6" class="pw-post-body-paragraph kk kl hy km b kn ly iz kp kq lz jc ks kt ma kv kw kx mb kz la lb mc ld le lf hb bi translated">我最后的想法是找到一种合适的方式来展示你的分析结果，这是你需要记住的一件重要的事情。否则，你的建议或努力可能很难被看到。尤其是如果你是数据科学家，你的老板或主管可能没有工程或数据分析背景。完整的代码在我的<a class="ae hv" href="https://github.com/EricTsai83/offline_interactive_report" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上。谢谢你的时间。</p></div></div>    
</body>
</html>