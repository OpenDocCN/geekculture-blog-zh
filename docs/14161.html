<html>
<head>
<title>2. String &amp; Date Functions in SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2.SQL中的字符串和日期函数</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/2-string-date-functions-in-sql-4085ea9c6ffe?source=collection_archive---------13-----------------------#2022-08-18">https://medium.com/geekculture/2-string-date-functions-in-sql-4085ea9c6ffe?source=collection_archive---------13-----------------------#2022-08-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="88b9" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">SQL中的文本数据、VARCHAR、日期、日期时间</h2><div class=""/><div class=""><h2 id="868a" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">了解SQL中内置字符串和日期函数的功能</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/af8061cb3858b459b454cd542cd72c3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wV0ZQqz_-rBw3ewFebFBtQ.jpeg"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Photo by <a class="ae jw" href="https://unsplash.com/@kmuza?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Carlos Muza</a> on <a class="ae jw" href="https://unsplash.com/s/photos/data-analytics?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="78d9" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">在日常工作中以这样或那样的方式处理数据的人知道将各种利益相关者收到的无格式、笨拙的数据转换成有用的见解&amp; KPIs的痛苦。收到的数据需要一些清理，改变数据类型和格式等。根据要求。当这些数据类型是字符/文本/日期格式时，这些内置函数(字符串函数和日期函数)就很方便了。因此，继第一篇关于SQL 中的<a class="ae jw" rel="noopener" href="/@sdeeksha07/1-comparison-aggregation-functions-in-sql-934d6ec76bff">比较和聚合函数的文章之后，在本文中，我们将研究最常用的字符串&amp;日期函数，它使我们的生活(显然对所有数据分析师来说)变得更加容易。</a></p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="936c" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs">字符串函数:</strong>它通过接受一些输入并将其转换成字符串数据类型来简化字符串数据的操作。用于有效操作数据的各种内置字符串函数有:</p><ol class=""><li id="8d2c" class="la lb hi jz b ka kb kd ke kg lc kk ld ko le ks lf lg lh li bi translated"><strong class="jz hs">STR(</strong><em class="lj">string</em><strong class="jz hs">):</strong>返回一个字符串形式的数字。</li><li id="b779" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">LENGTH(</strong><em class="lj">string</em><strong class="jz hs">)/LEN(</strong><em class="lj">string</em><strong class="jz hs">):</strong>用于查找字符串的长度。</li><li id="6de2" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">CONCAT(</strong>T22】string 1，string2，…，string_n  <strong class="jz hs"> ): </strong>用于将两个或多个字符串连接在一起。也用于连接。</li><li id="fcef" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> CONCAT_WS( </strong> <em class="lj">分隔符，string1，string2，…，string_n </em> <strong class="jz hs"> ): </strong>用分隔符将两个或多个字符串连接在一起。</li><li id="ff74" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">LOWER(</strong>string<strong class="jz hs">):</strong>用于将整个字符串转换成小写。</li><li id="1b0d" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">上(</strong>串<strong class="jz hs"> ): </strong>用于制作整个上盒的串。</li><li id="cd4b" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> REPLACE( </strong> <em class="lj"> string，old_string，new_string </em> <strong class="jz hs"> ): </strong>用于替换字符串中出现的子字符串，并用新字符串替换。</li><li id="8a6d" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">反转(</strong>字符串<strong class="jz hs"> ): </strong>产生顺序相反的字符串。</li><li id="115a" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">SUBSTRING(</strong><em class="lj">string</em>，<em class="lj">起始位置</em>，<em class="lj">长度</em><strong class="jz hs">)/SUBSTR(</strong><em class="lj">string</em>，<em class="lj">起始位置</em>，<em class="lj">长度</em> <strong class="jz hs"> ): </strong>通过指定其位置，从整个字符串中提取一部分字符串。</li><li id="38a8" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> LEFT( </strong> <em class="lj"> string，</em> <strong class="jz hs">的字符数):</strong>用于选择&amp;从左侧提取给定大小的子串或字符数。</li><li id="45f0" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> RIGHT( </strong> <em class="lj"> string，# of chars </em> <strong class="jz hs"> ): </strong>用于选择&amp;从右侧提取给定大小的子串或字符数。</li><li id="b80e" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">TRIM(</strong>string<strong class="jz hs">):</strong>用于删除字符串中的前导&amp;尾随空格以及其他指定的字符串字符。</li><li id="ce94" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">RTRIM(</strong>string<strong class="jz hs">):</strong>仅删除字符串中的尾随空格。</li><li id="348d" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">LTRIM(</strong>string<strong class="jz hs">):</strong>仅删除字符串中的前导空格。</li><li id="4343" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> REPEAT( </strong> string，count <strong class="jz hs"> )/REPLICATE(): </strong>返回按count指定的次数重复的字符串。</li><li id="5d1b" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> SPACE( </strong> N <strong class="jz hs"> ): </strong>返回N个指定长度的空字符串。</li><li id="c2bb" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> STRCMP( </strong> string1，string2 <strong class="jz hs"> ): </strong>该函数比较两个字符串，如果两者相等则返回0，如果string1 &gt; string 2则返回1，如果string1 &lt; string2则返回-1。</li></ol><p id="bfa0" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">以上是一些最常用的数据操作字符串函数，可能还有更多，但我主要是在分析行业遇到这些函数，并发现它很有用。</p><p id="5be9" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">现在，我们将探索最常用的函数之一，即SQL中使用的日期函数。</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="1611" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated"><strong class="jz hs">日期函数:</strong>这些函数有助于有效地操作日期和时间数据。下面是广泛使用的日期函数，但在此之前，我想提一下日期、时间&amp;日期时间函数中的术语日期部分，它们对所有函数都是通用的。各种有效的日期部分包括:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lp"><img src="../Images/1d3db1d30e345470a33fb28ce18bc57d.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*D1e6cEd9Qzjy2lDdJoohDg.jpeg"/></div></figure><p id="b92f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">为了按照要求的格式组织日期，在所有情况下都可以使用以下缩写:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lq"><img src="../Images/4f3a0c9eb26240765fde991e7337b316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*B27_WG7dduQViFNCVdyAHA.jpeg"/></div></figure><ol class=""><li id="aaa5" class="la lb hi jz b ka kb kd ke kg lc kk ld ko le ks lf lg lh li bi translated"><strong class="jz hs">当前日期:</strong>得出系统的当前日期。</li><li id="03f1" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">当前时间</strong>:系统当前时间的结果。</li><li id="a718" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">CURRENT _ TIMESTAMP/GETDATE()/NOW():</strong>返回系统的当前日期和时间，格式为<em class="lj">' yyyy-mm-DD hh:mm:ss . mmm '</em>。</li><li id="5e14" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">DATEDIFF(</strong><em class="lj">datepart，date1，date2 </em> <strong class="jz hs"> ): </strong>返回两个日期之间的差值。</li><li id="0a40" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> DATEADD( </strong> d <em class="lj"> atepart，number，date </em> <strong class="jz hs"> ): </strong>将日期/时间间隔加到date &amp;返回日期。datepart 这里是日期中要加上间隔的部分。<em class="lj">数字</em>表示要添加的区间<strong class="jz hs"> <em class="lj">(正数表示查找未来日期，负数表示查找过去日期)。</em> </strong> <em class="lj">日期</em>是需要修改的实际日期。</li><li id="624c" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">DATEPART(</strong><em class="lj">DATEPART，date </em> <strong class="jz hs"> ): </strong>以整数格式返回日期的特定部分(DATEPART)。对于ex，<strong class="jz hs"> DATEPART( </strong> year <em class="lj">，' 2019–10–02 '</em><strong class="jz hs">)</strong>结果2019，数据类型为整数。</li><li id="ffc3" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">DATENAME(</strong><em class="lj">datepart，date </em> <strong class="jz hs"> ): </strong>以字符串值的形式返回日期的特定部分(datepart)。对于ex，<strong class="jz hs"> DATEPART( </strong> month <em class="lj">，‘2019–10–02’</em>)<strong class="jz hs">)</strong>结果为字符串格式的十月。</li><li id="137d" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">日(</strong> <em class="lj">日</em><strong class="jz hs">)/月(</strong> <em class="lj">日</em><strong class="jz hs">)/年(</strong> <em class="lj">日</em> <strong class="jz hs"> ): </strong>分别得出年/月/日的日期。</li><li id="8a51" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">is date(</strong><em class="lj">date</em><strong class="jz hs">):</strong>此函数检查并验证给定的表达式。如果它返回1，意味着它是一个有效的日期，如果0意味着它不是一个有效的日期。</li><li id="71d9" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs"> DATEFROMPARTS( </strong> <em class="lj">年</em>，<em class="lj">月</em>，<em class="lj">日</em> <strong class="jz hs"> ): </strong>返回上述部分的日期(年、月、日)。</li><li id="f178" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">EXTRACT(</strong><em class="lj">datepart</em><strong class="jz hs">FROM</strong><em class="lj">date</em><strong class="jz hs">):</strong>用于提取日期和时间的特定部分(年、月、日、小时、分钟等)。).</li><li id="4e9f" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">将日期转换为字符串:</strong>对于将日期转换为字符串数据类型，我们可以使用<strong class="jz hs">CAST(</strong><em class="lj">Date</em><strong class="jz hs">AS</strong><em class="lj">string</em><strong class="jz hs">)</strong>或者我们可以使用函数<strong class="jz hs"> TO_CHAR( </strong> <em class="lj"> date，format </em> <strong class="jz hs">)。</strong></li><li id="9c78" class="la lb hi jz b ka lk kd ll kg lm kk ln ko lo ks lf lg lh li bi translated"><strong class="jz hs">将字符串转换为日期:TO_DATE( <em class="lj"> string，format </em> ) </strong>将字符串转换为指定格式的日期，如果字符串有日期值，并且可以转换为日期格式。<strong class="jz hs">CAST(</strong><em class="lj">string</em><strong class="jz hs"><em class="lj">AS</em></strong><em class="lj">date</em><strong class="jz hs">)</strong>也可以将string转换成date。</li></ol><p id="cbac" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">这就是最常用的字符串和日期函数。SQL的美妙之处在于，即使知道了这些函数，我们也需要练习才能最大限度地利用它。所以要坚持练习！！</p><p id="f86f" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">如果你是初学者，你可以联系我，了解数据分析行业的需求以及<em class="lj">推荐人</em>。我很乐意分享&amp;的帮助。</p><p id="237c" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">本文结构中使用的参考资料:</p><div class="lr ls ez fb lt lu"><a href="https://www.sqltutorial.org/sql-functions/" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hs fi z dy lz ea eb ma ed ef hr bi translated">SQL函数</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">本节为您提供了许多内置的SQL函数，包括聚合函数、日期函数、字符串…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.sqltutorial.org</p></div></div></div></a></div><div class="lr ls ez fb lt lu"><a href="https://www.javatpoint.com/sql-tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hs fi z dy lz ea eb ma ed ef hr bi translated">学习SQL教程-Java point</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">SQL教程提供了SQL的基本和高级概念。我们的SQL教程是为初学者和…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.javatpoint.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi jq lu"/></div></div></a></div><div class="lr ls ez fb lt lu"><a href="https://www.w3schools.com/sql/func_sqlserver_current_timestamp.asp" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hs fi z dy lz ea eb ma ed ef hr bi translated">SQL Server CURRENT_TIMESTAMP函数</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">CURRENT_TIMESTAMP函数以“YYYY-MM-DD hh:mm:ss.mmm”格式返回当前日期和时间。提示:还要注意…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.w3schools.com</p></div></div><div class="md l"><div class="mj l mf mg mh md mi jq lu"/></div></div></a></div><div class="lr ls ez fb lt lu"><a href="https://www.geeksforgeeks.org/sql-date-functions-set-1/?ref=lbp" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hs fi z dy lz ea eb ma ed ef hr bi translated">SQL |日期函数(Set-1) - GeeksforGeeks</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">在SQL中，日期对于新手来说很复杂，因为在使用数据库时，表中日期的格式…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.geeksforgeeks.org</p></div></div><div class="md l"><div class="mk l mf mg mh md mi jq lu"/></div></div></a></div></div></div>    
</body>
</html>