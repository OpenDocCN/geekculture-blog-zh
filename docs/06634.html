<html>
<head>
<title>Deploy an AWS EKS cluster using Terraform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Terraform部署AWS EKS集群</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/deploy-an-aws-eks-cluster-using-terraform-965fe680f9d4?source=collection_archive---------3-----------------------#2021-08-25">https://medium.com/geekculture/deploy-an-aws-eks-cluster-using-terraform-965fe680f9d4?source=collection_archive---------3-----------------------#2021-08-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="02eb" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是AWS EKS？</h1><p id="044e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hj">亚马逊弹性Kubernetes服务</strong>(亚马逊EKS)是由AWS提供的托管Kubernetes服务。通过<strong class="jf hj"> AWS EKS </strong>我们可以在不安装和操作Kubernetes控制平面或工作节点的情况下运行Kubernetes。<strong class="jf hj"> AWS EKS </strong>帮助您提供高度可用和安全的集群，并自动执行关键任务，如打补丁、节点供应和更新。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/d4876e9648d8f6dcd1df49225f669bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*34NrXxLL9CiSCQvtw94QnQ.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS EKS</figcaption></figure><h1 id="7827" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是Terraform？</h1><p id="37e0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hj"> Terraform </strong>是一个免费的开源<strong class="jf hj">基础设施as code (IAC) </strong>，可以帮助自动化远程服务器的部署、配置和管理。Terraform可以管理现有的服务提供商和定制的内部解决方案。</p><p id="7c09" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">从<a class="ae kw" href="https://www.terraform.io/intro/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jf hj">这里</strong> </a> <strong class="jf hj">阅读更多关于Terraform的内容。</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kx"><img src="../Images/da61d3b54a8bed5626f5bb75b6aa0924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d7gAOO37nCL3S-gg.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Terraform</figcaption></figure><p id="3023" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">在本教程中，我将在Terraform脚本的帮助下创建一个AWS EKS集群。</p><h1 id="0200" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">先决条件:</h1><ul class=""><li id="c639" class="ky kz hi jf b jg jh jk jl jo la js lb jw lc ka ld le lf lg bi translated"><strong class="jf hj"> AWS账户</strong></li><li id="82ab" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">基本了解<strong class="jf hj"> AWS </strong>、<strong class="jf hj">terra form</strong>&amp;<strong class="jf hj">Kubernetes</strong></li><li id="e529" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated"><strong class="jf hj"> GitHub账户</strong></li></ul><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lm"><img src="../Images/4fb8b4ca314c0c74f16a8ff7efcad336.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iAH-c67wAZ1FArB8"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Terraform-AWS-EKS</figcaption></figure><p id="b36e" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">现在，让我们开始为Kubernetes集群创建terraform脚本。</p><p id="29a4" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第一步:- </strong>创建<strong class="jf hj">。用于存储环境变量的tf </strong>文件</p><ul class=""><li id="fbb1" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">创建<code class="du lq lr ls lt b">vars.tf</code>文件并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="5a97" class="ly ig hi lt b fi lz ma l mb mc">variable "access_key" {<br/>  default = "&lt;Your-AWS-Access-Key&gt;"<br/>}</span><span id="7ffd" class="ly ig hi lt b fi md ma l mb mc">variable "secret_key" {<br/>    default = "&lt;Your-AWS-Secret-Key&gt;"<br/>}</span></pre><p id="15e6" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第二步:- </strong>创建<strong class="jf hj">。AWS配置的tf </strong>文件</p><ul class=""><li id="1014" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">创建<code class="du lq lr ls lt b">main.tf</code>文件并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="5cae" class="ly ig hi lt b fi lz ma l mb mc">provider "aws" {<br/>    region = "us-east-1"<br/>    access_key = "${var.access_key}"<br/>    secret_key = "${var.secret_key}"<br/>}</span><span id="f4b9" class="ly ig hi lt b fi md ma l mb mc">data "aws_availability_zones" "azs" {<br/>    state = "available"<br/>}</span></pre><ul class=""><li id="f514" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated"><code class="du lq lr ls lt b">data “aws_availability_zones” “azs”</code>将提供<code class="du lq lr ls lt b">us-east-1</code>区域的可用区域列表</li></ul><p id="b1dc" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第三步:- </strong>创建<strong class="jf hj">。<strong class="jf hj"> AWS VPC </strong>的tf </strong>文件</p><ul class=""><li id="350d" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">为<strong class="jf hj"> VPC </strong>创建<code class="du lq lr ls lt b">vpc.tf</code>文件，并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="f0a5" class="ly ig hi lt b fi lz ma l mb mc">variable "region" {<br/>    default = "us-east-1"<br/>}</span><span id="d5be" class="ly ig hi lt b fi md ma l mb mc">data "aws_availability_zones" "available" {}</span><span id="5a10" class="ly ig hi lt b fi md ma l mb mc">locals {<br/>    cluster_name = "EKS-Cluster"<br/>}</span><span id="e0d3" class="ly ig hi lt b fi md ma l mb mc">module vpc {<br/>    source = "terraform-aws-modules/vpc/aws"<br/>    version = "3.2.0"<br/>    name = "Demo-VPC"<br/>    cidr = "10.0.0.0/16"<br/>    azs = data.aws_availability_zones.available.names<br/>    private_subnets = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]<br/>    public_subnets =  ["10.0.4.0/24", "10.0.5.0/24", "10.0.6.0/24"]<br/>    enable_nat_gateway = true<br/>    single_nat_gateway = true<br/>    enable_dns_hostname = true</span><span id="b1b9" class="ly ig hi lt b fi md ma l mb mc">tags = {<br/>    "Name" = "Demo-VPC"<br/>}</span><span id="84b8" class="ly ig hi lt b fi md ma l mb mc">public_subnet_tags = {<br/>    "Name" = "Demo-Public-Subnet"<br/>}</span><span id="b146" class="ly ig hi lt b fi md ma l mb mc">private_subnet_tags = {<br/>    "Name" = "Demo-Private-Subnet"<br/>}<br/>}</span></pre><ul class=""><li id="530a" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">我们正在使用<strong class="jf hj"> AWS VPC </strong>模块进行VPC创作</li><li id="dd35" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">以上代码将在<code class="du lq lr ls lt b">us-east-1</code>区域创建<code class="du lq lr ls lt b">10.0.0.0/16</code> CIDR范围的<strong class="jf hj"> AWS VPC </strong></li><li id="6465" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated"><strong class="jf hj"> VPC </strong>将有3个<strong class="jf hj">公共</strong>和<strong class="jf hj">私有</strong>子网</li><li id="91d5" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated"><code class="du lq lr ls lt b">data “aws_availability_zones” “azs”</code>将提供<code class="du lq lr ls lt b">us-east-1</code>区域的可用区域列表</li><li id="8ee9" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">我们已经启用了<code class="du lq lr ls lt b">NAT Gateway</code> &amp; <code class="du lq lr ls lt b">DNS Hostname</code></li></ul><p id="1491" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第四步:- </strong>创建。<strong class="jf hj"> AWS安全组</strong>的tf文件</p><ul class=""><li id="6429" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">为<strong class="jf hj"> AWS安全组</strong>创建<code class="du lq lr ls lt b">security.tf</code>文件，并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="454b" class="ly ig hi lt b fi lz ma l mb mc">resource "aws_security_group" "worker_group_mgmt_one" {<br/>    name_prefix = "worker_group_mgmt_one"<br/>    vpc_id = module.vpc.vpc_id</span><span id="1106" class="ly ig hi lt b fi md ma l mb mc">ingress {<br/>        from_port = 22<br/>        to_port = 22<br/>        protocol = "tcp"</span><span id="c0f6" class="ly ig hi lt b fi md ma l mb mc">cidr_blocks = [<br/>            "10.0.0.0/8"<br/>        ]<br/>    }<br/>}</span><span id="4ca8" class="ly ig hi lt b fi md ma l mb mc">resource "aws_security_group" "worker_group_mgmt_two" {<br/>    name_prefix = "worker_group_mgmt_two"<br/>    vpc_id = module.vpc.vpc_id<br/> <br/>    ingress {<br/>        from_port = 22<br/>        to_port = 22<br/>        protocol = "tcp"</span><span id="dcc0" class="ly ig hi lt b fi md ma l mb mc">cidr_blocks = [<br/>            "10.0.0.0/8"<br/>        ]<br/>    }<br/>}</span><span id="2e13" class="ly ig hi lt b fi md ma l mb mc">resource "aws_security_group" "all_worker_mgmt" {<br/>    name_prefix = "all_worker_management"<br/>    vpc_id = module.vpc.vpc_id</span><span id="a743" class="ly ig hi lt b fi md ma l mb mc">ingress {<br/>        from_port = 22<br/>        to_port = 22<br/>        protocol = "tcp"</span><span id="5808" class="ly ig hi lt b fi md ma l mb mc">cidr_blocks = [<br/>            "10.0.0.0/8"<br/>        ]<br/>    }<br/>}</span></pre><ul class=""><li id="2674" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">我们正在为2个工作节点组创建2个安全组</li><li id="d78a" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">我们只允许<strong class="jf hj"> 22 </strong>端口用于<strong class="jf hj"> SSH </strong>连接</li><li id="40c3" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">我们正在限制对<code class="du lq lr ls lt b">10.0.0.0/8</code> CIDR数据块的SSH访问</li></ul><p id="ff7e" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第五步:- </strong>创建<strong class="jf hj">。<strong class="jf hj"> EKS集群</strong>的tf </strong>文件</p><ul class=""><li id="d898" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">为<strong class="jf hj"> VPC </strong>创建<code class="du lq lr ls lt b">eks.tf</code>文件，并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="b539" class="ly ig hi lt b fi lz ma l mb mc">module "eks"{<br/>    source = "terraform-aws-modules/eks/aws"<br/>    version = "17.1.0"<br/>    cluster_name = local.cluster_name<br/>    cluster_version = "1.20"<br/>    subnets = module.vpc.private_subnets</span><span id="3ce6" class="ly ig hi lt b fi md ma l mb mc">tags = {<br/>        Name = "Demo-EKS-Cluster"<br/>    }</span><span id="9e1b" class="ly ig hi lt b fi md ma l mb mc">vpc_id = module.vpc.vpc_id<br/>    workers_group_defaults = {<br/>        root_volume_type = "gp2"<br/>    }</span><span id="0b51" class="ly ig hi lt b fi md ma l mb mc">workers_group = [<br/>        {<br/>            name = "Worker-Group-1"<br/>            instance_type = "t2.micro"<br/>            asg_desired_capacity = 2<br/>            additional_security_group_ids = [aws_security_group.worker_group_mgmt_one.id]<br/>        },<br/>        {<br/>            name = "Worker-Group-2"<br/>            instance_type = "t2.micro"<br/>            asg_desired_capacity = 1<br/>            additional_security_group_ids = [aws_security_group.worker_group_mgmt_two.id]<br/>        },<br/>    ]<br/>}</span><span id="d479" class="ly ig hi lt b fi md ma l mb mc">data "aws_eks_cluster" "cluster" {<br/>    name = module.eks.cluster_id<br/>}</span><span id="1211" class="ly ig hi lt b fi md ma l mb mc">data "aws_eks_cluster_auth" "cluster" {<br/>    name = module.eks.cluster_id<br/>}</span></pre><ul class=""><li id="1279" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">对于EKS集群的创建，我们使用的是terraform AWS EKS模块</li><li id="9cba" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">下面的代码将创建2个worker组，具有所需的3个类型为<strong class="jf hj"> t2.micro </strong>的实例的容量</li><li id="f9f1" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">我们将最近创建的安全组附加到两个工作节点组</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="c9fd" class="ly ig hi lt b fi lz ma l mb mc">workers_group = [<br/>        {<br/>            name = "Worker-Group-1"<br/>            instance_type = "t2.micro"<br/>            asg_desired_capacity = 2<br/>            additional_security_group_ids = [aws_security_group.worker_group_mgmt_one.id]<br/>        },<br/>        {<br/>            name = "Worker-Group-2"<br/>            instance_type = "t2.micro"<br/>            asg_desired_capacity = 1<br/>            additional_security_group_ids = [aws_security_group.worker_group_mgmt_two.id]<br/>        },<br/>    ]</span></pre><p id="6a35" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第六步:- </strong>创建<strong class="jf hj">。terraform <strong class="jf hj"> Kubernetes </strong>提供者的tf </strong>文件</p><ul class=""><li id="e056" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">创建<code class="du lq lr ls lt b">kubernetes.tf</code>文件并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="c299" class="ly ig hi lt b fi lz ma l mb mc">provider "kubernetes" {<br/>    host = data.aws_eks_cluster.cluster.endpoint<br/>    token = data.aws_eks_cluster_auth.cluster.token<br/>    cluster_ca_certificate = base64encode(data.aws_eks_cluster.cluster.certificate_authority.0.data)<br/>}</span></pre><ul class=""><li id="acf3" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">在上面的代码中，我们使用最近创建的集群作为<code class="du lq lr ls lt b">host</code>，使用认证令牌作为<code class="du lq lr ls lt b">token</code></li><li id="eb51" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">我们将<code class="du lq lr ls lt b">cluster_ca_certificate</code>用于<strong class="jf hj"> CA证书</strong></li></ul><p id="8337" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第七步:- </strong>创建<strong class="jf hj">。<strong class="jf hj">输出</strong>的tf </strong>文件</p><ul class=""><li id="7aef" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">创建<code class="du lq lr ls lt b">outputs.tf</code>文件，并在其中添加以下内容</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="21d6" class="ly ig hi lt b fi lz ma l mb mc">output "cluster_id" {<br/>    value = module.eks.cluster_id<br/>}</span><span id="06eb" class="ly ig hi lt b fi md ma l mb mc">output "cluster_endpoint" {<br/>    value = module.eks.cluster_endpoint<br/>}</span></pre><ul class=""><li id="79a0" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">上面的代码将输出我们集群的名称，并公开我们集群的端点。</li></ul><p id="a0b8" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第8步:- </strong>将我们的代码存储到<strong class="jf hj"> GitHub库</strong></p><ul class=""><li id="0f97" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">现在，我们已经完成了所有的terraform脚本，让我们将代码存储在GitHub存储库中</li></ul><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/bc828f2c538c9b54e8e23ae79b542739.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n33aRnV2WCcxu-ijmRz94A.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">GitHub Repository</figcaption></figure><p id="edfa" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">步骤9:-初始化</strong>工作目录</p><ul class=""><li id="6717" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">运行工作目录中的<code class="du lq lr ls lt b">terraform init</code>命令。它将下载所有必需的提供程序和所有模块</li></ul><p id="de5f" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第十步:- </strong>创建一个<strong class="jf hj">地形图</strong></p><ul class=""><li id="afe2" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">运行工作目录中的<code class="du lq lr ls lt b">terraform plan</code>命令。它会给出执行计划</li></ul><pre class="kc kd ke kf fd lu lt lv lw aw lx bi"><span id="0d16" class="ly ig hi lt b fi lz ma l mb mc">Plan: 50 to add, 0 to change, 0 to destroy.</span><span id="a5a9" class="ly ig hi lt b fi md ma l mb mc">Changes to Outputs:</span><span id="76f2" class="ly ig hi lt b fi md ma l mb mc">+ cluster_endpoint = (known after apply)</span><span id="1938" class="ly ig hi lt b fi md ma l mb mc">+ cluster_id       = (known after apply)</span></pre><p id="0313" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">步骤11:- </strong>在<strong class="jf hj"> AWS </strong>上创建<strong class="jf hj">集群</strong></p><ul class=""><li id="2593" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">运行工作目录中的<code class="du lq lr ls lt b">terraform apply</code>命令。它将在<strong class="jf hj"> AWS </strong>上创建Kubernetes集群</li><li id="9012" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka ld le lf lg bi translated">Terraform将在AWS上创建以下资源</li></ul><ol class=""><li id="4405" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka mf le lf lg bi translated"><strong class="jf hj"> VPC </strong></li><li id="57f9" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka mf le lf lg bi translated"><strong class="jf hj">路由表</strong></li><li id="a896" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka mf le lf lg bi translated"><strong class="jf hj">我的角色</strong></li><li id="85e5" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka mf le lf lg bi translated"><strong class="jf hj"> NAT网关</strong></li><li id="a4b8" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka mf le lf lg bi translated"><strong class="jf hj">安全组</strong></li><li id="5d3d" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka mf le lf lg bi translated"><strong class="jf hj">公共&amp;私有子网</strong></li><li id="f702" class="ky kz hi jf b jg lh jk li jo lj js lk jw ll ka mf le lf lg bi translated"><strong class="jf hj"> EKS集群</strong></li></ol><p id="ce11" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj">第12步:- </strong>验证<strong class="jf hj"> AWS </strong>上的资源</p><ul class=""><li id="b8f2" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka ld le lf lg bi translated">导航到您的<strong class="jf hj"> AWS </strong>帐户并验证资源</li></ul><ol class=""><li id="9faa" class="ky kz hi jf b jg kr jk ks jo ln js lo jw lp ka mf le lf lg bi translated"><strong class="jf hj"> EKS集群:</strong></li></ol><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/6ffd5c9d17932f7bb0b5728c99295029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8X-f0k7F3HImMYhVbsfk3Q.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS EKS</figcaption></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/1a62df4f459f9233c7388bf99663e3df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6oQAYQurEE4RPjRxXPhFA.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS EKS</figcaption></figure><p id="2a07" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj"> 2。VPC &amp;其他资源:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/ba5f0cd19d42d825fa29be93649e9ca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zuCim_aHOhwxSJMLopFfVw.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS VPC</figcaption></figure><p id="1326" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj"> 3。子网:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mg"><img src="../Images/38e759fa7d985da5c2fbdd380099e737.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wQVcmd1Xq6GHgoSrOGan6A.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS Subnets</figcaption></figure><p id="8985" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj"> 4。安全组:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/21342725782f5557398a497d7ea27c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2pIvNQduYue_RNCRhUrKAA.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS Security Group</figcaption></figure><p id="d943" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj"> 5。IAM角色:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mh"><img src="../Images/d3a9484f11ae370d72cf7f53e66dc5ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPVB8z7EpdGZg8-n3QgqAg.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS IAM Role</figcaption></figure><p id="02de" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">6。自动缩放组:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/fb55b4b37275c186b3e27986adfe6434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*10tt-awaSoq_KSnE9VijZg.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS ASG</figcaption></figure><p id="7c79" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated"><strong class="jf hj"> 7。EC2实例:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/ab58d0bf8e65a98de50de54dd9b568c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zoEp17DAjRPuj42pt4XKLg.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">AWS EC2 Instances</figcaption></figure><p id="fe49" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">至此，您已经学习了如何使用Terraform创建AWS EKS集群。您现在可以使用它并对其进行相应的修改。</p><p id="a3d7" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">你可以在我的<a class="ae kw" href="https://github.com/DhruvinSoni30/Terraform-AWS-EKS" rel="noopener ugc nofollow" target="_blank"> <strong class="jf hj"> GitHub </strong> </a>账号找到完整的代码。也可以随意查看我的其他库。</p><p id="0985" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">如果您觉得本指南很有帮助，请点击👏按钮，也可以随意发表评论。</p><p id="04e0" class="pw-post-body-paragraph jd je hi jf b jg kr ji jj jk ks jm jn jo kt jq jr js ku ju jv jw kv jy jz ka hb bi translated">关注更多类似的故事😊</p></div></div>    
</body>
</html>