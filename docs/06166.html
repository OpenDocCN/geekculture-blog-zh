<html>
<head>
<title>Move To Top of Tab on selecting same tab from Tab Bar in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从SwiftUI的标签栏中选择相同的标签时，移动到标签顶部</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/move-to-top-of-tab-on-selecting-same-tab-from-tab-bar-in-swiftui-a2b2cfd33872?source=collection_archive---------5-----------------------#2021-08-09">https://medium.com/geekculture/move-to-top-of-tab-on-selecting-same-tab-from-tab-bar-in-swiftui-a2b2cfd33872?source=collection_archive---------5-----------------------#2021-08-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es im"><img src="../Images/9991eccc613eabbb225e53ce91242139.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Re1b2qMUkCtB6i7gkA8NjQ.gif"/></div><figcaption class="iu iv et er es iw ix bd b be z dx">Functionality: Move to top of Tab</figcaption></figure><p id="a5bb" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">SwiftUI的受欢迎程度与日俱增。在我们的iOS开发栈中拥有这一点是很好的。</p><p id="8459" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">本文旨在构建我们在许多流行的iOS应用程序(如WhatsApp)中遇到的一个常见功能。该功能是当我们从标签栏点击相同的选定标签，如果我们不在选定的标签顶部，那么我们将被移动到顶部。</p><p id="ef70" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">让我们在SwiftUI中构建这个流行的特性。这也可以很容易地定制移动到任何地方，在选定的标签只需点击一下。</p><h2 id="e771" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq bi translated">履行</h2><p id="a54c" class="pw-post-body-paragraph iy iz hi ja b jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr kv jt ju jv hb bi translated">我们将使用一个简单的视图，它将显示为第一个选项卡，由40个项目和一个标题组成。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="fd7b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">FirstTabView显示40个带有标题的项目列表。这个视图非常简单，在ScrollViewReader中包装了一个列表，可以滚动到特定的位置。</p><p id="7f45" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">立场可以由观点的一致性来决定。我们知道SwiftUI中的每个视图由许多视图组成，每个视图在SwiftUI中都有自己的身份。如果我们查看ForEach循环，我们将id作为\.self传递。因此，40个视图列表中的每个视图都有指定的唯一标识。要了解更多关于身份的内容，请参考这篇<a class="ae ky" rel="noopener" href="/geekculture/identity-in-swiftui-6aacf8f587d9">文章</a>。</p><p id="1233" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">此外，除了结构标识之外，我们还可以使用。id()，如第9行所示。</p><p id="f690" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">该身份用于使用“proxy.scrollTo( <identity of="" view="">)”滚动到特定视图</identity></p><p id="31a7" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">我们使用一个绑定布尔变量来检测所选选项卡上的点击。当绑定变量发生变化时，我们滚动到标题，即标签的顶部。类似地，放置在整个视图的底部或中间的任何位置的视图的身份可以被给出。</p><h2 id="7cfe" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq bi translated">主选项卡视图</h2><p id="76d8" class="pw-post-body-paragraph iy iz hi ja b jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr kv jt ju jv hb bi translated">让我们构建最终的选项卡视图，在这里我们更改传递给FirstTabView的绑定布尔值。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="3b3f" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">我们使用TabStateHandler的StateObject来观察选项卡的选择，以及我们在FirstTabView中使用的moveFirstTabToTop布尔变量。</p><p id="6622" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">当选定的标签是第一个标签，并且选定的标签与已经选定的标签相同，然后改变布尔变量的状态，该变量执行我们在里面写的逻辑。FirstTabView内的onChange(of:)。</p><p id="7154" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">就是这样！！</p><p id="eae7" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">感谢阅读:)</p></div></div>    
</body>
</html>