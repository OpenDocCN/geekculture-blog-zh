<html>
<head>
<title>LeetCode — Gas Station</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode —加油站</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/leetcode-gas-station-c6af1d289e93?source=collection_archive---------18-----------------------#2021-12-12">https://medium.com/geekculture/leetcode-gas-station-c6af1d289e93?source=collection_archive---------18-----------------------#2021-12-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="5df9" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">问题陈述</h1><p id="9dc5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">环形路线上有<em class="kb"> n </em>个加油站，其中<em class="kb">第</em>站的气量为<em class="kb">气【I】</em>。</p><p id="63a9" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">你有一辆汽车，油箱是无限的，从第<em class="kb">个</em>站到下一个<em class="kb"> (i + 1)个</em>站需要花费* cost[I]*的汽油。你在一个加油站带着一个空油箱开始旅程。</p><p id="3f69" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">给定两个整数数组<em class="kb"> gas </em>和<em class="kb"> cost </em>，如果可以顺时针方向绕圈一圈，则返回<em class="kb">起始加油站的索引，否则返回-1 </em>。如果存在解决方案，则<strong class="jf hj">保证</strong>是<strong class="jf hj">唯一的</strong>。</p><p id="4dde" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">问题陈述摘自:<a class="ae kh" href="https://leetcode.com/problems/gas-station" rel="noopener ugc nofollow" target="_blank">https://leetcode.com/problems/gas-station</a></p><p id="1433" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例1: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="8626" class="kr ig hi kn b fi ks kt l ku kv">Input: gas = [1, 2, 3, 4, 5], cost = [3, 4, 5, 1, 2]<br/>Output: 3<br/>Explanation:<br/>Start at station 3 (index 3) and fill up with 4 unit of gas. Your tank = 0 + 4 = 4<br/>Travel to station 4. Your tank = 4 - 1 + 5 = 8<br/>Travel to station 0. Your tank = 8 - 2 + 1 = 7<br/>Travel to station 1. Your tank = 7 - 3 + 2 = 6<br/>Travel to station 2. Your tank = 6 - 4 + 3 = 5<br/>Travel to station 3. The cost is 5. Your gas is just enough to travel back to station 3.<br/>Therefore, return 3 as the starting index.</span></pre><p id="fe6e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例2: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="caac" class="kr ig hi kn b fi ks kt l ku kv">Input: gas = [2, 3, 4], cost = [3, 4, 3]<br/>Output: -1<br/>Explanation:<br/>You can't start at station 0 or 1, as there is not enough gas to travel to the next station.<br/>Let's start at station 2 and fill up with 4 unit of gas. Your tank = 0 + 4 = 4<br/>Travel to station 0. Your tank = 4 - 3 + 2 = 3<br/>Travel to station 1. Your tank = 3 - 3 + 3 = 3<br/>You cannot travel back to station 2, as it requires 4 units of gas, but you only have 3.<br/>Therefore, you can't travel around the circuit once, no matter where you start.</span></pre><p id="8397" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">约束:</strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="6b8f" class="kr ig hi kn b fi ks kt l ku kv">- gas.length == n<br/>- cost.length == n<br/>- 1 &lt;= n &lt;= 10^5<br/>- 0 &lt;= gas[i], cost[i] &lt;= 10^4</span></pre><h1 id="fe26" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">说明</h1><h2 id="f5b9" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">强力方法</h2><p id="245a" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">蛮力的解决方法是把每一个加油站都当成一个起点，看看是否有可能的完整回路。</p><p id="97c1" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">为了检查每个站点，我们将使用两个嵌套循环。</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="3d17" class="kr ig hi kn b fi ks kt l ku kv">int start = 0;<br/>int end = 1;<br/><br/>int current_petrol = gas[start] - cost[start];<br/><br/>while (end != start || current_petrol &lt; 0) {<br/>    while (current_petrol &lt; 0 &amp;&amp; start != end) {<br/>        current_petrol -= gas[start] - cost[start];<br/>        start = (start + 1) % n;<br/><br/>        if (start == 0)<br/>            return -1;<br/>    }<br/><br/>    current_petrol += gas[start] - cost[start];<br/>    end = (end + 1) % n;<br/>}<br/><br/>return start;</span></pre><p id="1950" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">上述方法的时间复杂度为<strong class="jf hj"> O(N ) </strong>。</p><h2 id="f43a" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">优化解决方案</h2><p id="0dff" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果我们看问题，我们关注的点应该是天然气的总量应该大于总成本。我们需要考虑的唯一因素是设置起点。</p><p id="14f2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们直接跳到算法。</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="feb8" class="kr ig hi kn b fi ks kt l ku kv">- set current, total, start and diff to 0<br/><br/>- loop for i = 0; i &lt; gas.size(); i++<br/>  - diff = gas[i] -  cost[i]<br/><br/>  - total += diff<br/>  - current += diff<br/><br/>  // current value refers to the total gas - total cost till ith station.<br/>  // if that value is negative, this means gas is exhausted, and we cannot complete the circuit.<br/>  // Hence we set the current index as the start.<br/>  - if current &lt; 0<br/>    - start = i + 1<br/>    - current = 0<br/><br/>- if total &gt;= 0<br/>  - return start<br/><br/>- return -1</span></pre><h2 id="72ba" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">C++解决方案</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="0ec0" class="kr ig hi kn b fi ks kt l ku kv">class Solution {<br/>public:<br/>    int canCompleteCircuit(vector&lt;int&gt;&amp; gas, vector&lt;int&gt;&amp; cost) {<br/>        int current = 0;<br/>        int total = 0;<br/>        int diff = 0;<br/>        int start = 0;<br/><br/>        for(int i = 0; i &lt; gas.size(); i++){<br/>            diff = gas[i] - cost[i];<br/><br/>            total += diff;<br/>            current += diff;<br/>            if(current &lt; 0){<br/>                start = i + 1;<br/>                current = 0;<br/>            }<br/>        }<br/><br/>        if(total &gt;= 0){<br/>            return start;<br/>        }<br/><br/>        return -1;<br/>    }<br/>};</span></pre><h2 id="08a9" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">戈朗溶液</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="38bd" class="kr ig hi kn b fi ks kt l ku kv">func canCompleteCircuit(gas []int, cost []int) int {<br/>    current, total, start, diff := 0, 0, 0, 0<br/><br/>    for i := 0; i &lt; len(gas); i++ {<br/>        diff = gas[i] - cost[i]<br/><br/>        total += diff<br/>        current += diff<br/><br/>        if current &lt; 0 {<br/>            start = i + 1<br/>            current = 0<br/>        }<br/>    }<br/><br/>    if total &gt;= 0 {<br/>        return start<br/>    }<br/><br/>    return -1<br/>}</span></pre><h2 id="f4bb" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">Javascript解决方案</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="005e" class="kr ig hi kn b fi ks kt l ku kv">var canCompleteCircuit = function(gas, cost) {<br/>    let start = 0, diff = 0, total = 0, current = 0;<br/><br/>    for( let i = 0; i &lt; gas.length; i++ ) {<br/>        diff = gas[i] - cost[i];<br/><br/>        total += diff;<br/>        current += diff;<br/><br/>        if( current &lt; 0 ) {<br/>            start = i + 1;<br/>            current = 0;<br/>        }<br/>    }<br/><br/>    if( total &gt;= 0 ) {<br/>        return start;<br/>    }<br/><br/>    return -1;<br/>};</span></pre><p id="68ac" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们试运行一下我们的算法，看看解决方案是如何工作的。</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="cde0" class="kr ig hi kn b fi ks kt l ku kv">Input: gas = [1, 2, 3, 4, 5], cost = [3, 4, 5, 1, 2]<br/><br/>Step 1: current = 0<br/>        total = 0<br/>        diff = 0<br/>        start = 0<br/><br/>Step 2: loop for i = 0; i &lt; gas.size()<br/>        i &lt; gas.size()<br/>        0 &lt; 5<br/>        true<br/><br/>        diff = gas[i] - cost[i]<br/>             = gas[0] - cost[0]<br/>             = 1 - 3<br/>             = -2<br/><br/>        total = total + diff<br/>              = 0 - 2<br/>              = -2<br/><br/>        current = current + diff<br/>                = 0 - 2<br/>                = -2<br/><br/>        if current &lt; 0<br/>          - -2 &lt; 0<br/>          - true<br/><br/>            start = i + 1<br/>                  = 0 + 1<br/>                  = 1<br/><br/>            current = 0<br/><br/>        i++<br/>        i = 1<br/><br/>Step 3: i &lt; gas.size()<br/>        1 &lt; 5<br/>        true<br/><br/>        diff = gas[i] - cost[i]<br/>             = gas[1] - cost[1]<br/>             = 2 - 4<br/>             = -2<br/><br/>        total = total + diff<br/>              = -2 + (-2)<br/>              = -4<br/><br/>        current = current + diff<br/>                = 0 - 2<br/>                = -2<br/><br/>        if current &lt; 0<br/>          - -2 &lt; 0<br/>          - true<br/><br/>            start = i + 1<br/>                  = 1 + 1<br/>                  = 2<br/><br/>            current = 0<br/><br/>        i++<br/>        i = 2<br/><br/>Step 4: i &lt; gas.size()<br/>        2 &lt; 5<br/>        true<br/><br/>        diff = gas[i] - cost[i]<br/>             = gas[2] - cost[2]<br/>             = 3 - 5<br/>             = -2<br/><br/>        total = total + diff<br/>              = -4 + (-2)<br/>              = -6<br/><br/>        current = current + diff<br/>                = 0 - 2<br/>                = -2<br/><br/>        if current &lt; 0<br/>          - -2 &lt; 0<br/>          - true<br/><br/>            start = i + 1<br/>                  = 2 + 1<br/>                  = 3<br/><br/>            current = 0<br/><br/>        i++<br/>        i = 3<br/><br/>Step 5: i &lt; gas.size()<br/>        3 &lt; 5<br/>        true<br/><br/>        diff = gas[i] - cost[i]<br/>             = gas[3] - cost[3]<br/>             = 4 - 1<br/>             = 3<br/><br/>        total = total + diff<br/>              = -6 + 3<br/>              = -3<br/><br/>        current = current + diff<br/>                = 0 + 3<br/>                = 3<br/><br/>        if current &lt; 0<br/>          - 3 &lt; 0<br/>          - false<br/><br/>        i++<br/>        i = 4<br/><br/>Step 6: i &lt; gas.size()<br/>        4 &lt; 5<br/>        true<br/><br/>        diff = gas[i] - cost[i]<br/>             = gas[4] - cost[4]<br/>             = 5 - 2<br/>             = 3<br/><br/>        total = total + diff<br/>              = -3 + 3<br/>              = 0<br/><br/>        current = current + diff<br/>                = 3 + 3<br/>                = 6<br/><br/>        if current &lt; 0<br/>          - 6 &lt; 0<br/>          - false<br/><br/>        i++<br/>        i = 5<br/><br/>Step 7: i &lt; gas.size()<br/>        5 &lt; 5<br/>        false<br/><br/>Step 8: if total &gt;= 0<br/>          - 0 &gt;= 0<br/>          - true<br/><br/>Step 9: return start<br/><br/>So the answer we return is 3.</span></pre></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><p id="7648" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kb">原载于</em><a class="ae kh" href="https://alkeshghorpade.me/post/leetcode-gas-station" rel="noopener ugc nofollow" target="_blank"><em class="kb">https://alkeshghorpade . me</em></a><em class="kb">。</em></p></div></div>    
</body>
</html>