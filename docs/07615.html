<html>
<head>
<title>How to Handle Outliers in Data?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何处理数据中的异常值？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-handle-outliers-in-data-c0b512460acf?source=collection_archive---------7-----------------------#2021-09-24">https://medium.com/geekculture/how-to-handle-outliers-in-data-c0b512460acf?source=collection_archive---------7-----------------------#2021-09-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f8d138bc9fcb7c7eb8f060c308e1fe5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VbZMKrOWQFb7QWSCNpeIXg.png"/></div></div></figure><p id="4a9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们首先了解什么是异常值以及如何识别异常值。简而言之，离群者是一个与众不同的人或从一大群人中脱颖而出的人。在统计学中，离群值是指与其他数据点相差很大的任何数据点。它们很重要，因为它们可以改变我们数据分析的结果。因此，我们必须学会如何处理数据中的异常值。</p><p id="729e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">异常值是极端值。如果我们的数据集有极高或极低的值，那么这些数据点被称为异常值。它表示值要么严重拖尾，要么高度偏斜。这可能是由于测量的可变性或实验误差造成的。</p><p id="2d53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">异常值表示<a class="ae jo" href="https://aichapters.com/types-of-statistical-distribution/" rel="noopener ugc nofollow" target="_blank">分布</a>严重拖尾或高度偏斜。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ef5c44519cde0a71a84978b9aded007f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2azvYRrrFhM_hcH1PJpvVg.png"/></div></div></figure><p id="8a4c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果一个值非常高，远远超出预测范围，分布将向右移动，使曲线<strong class="is hj">向右或正向倾斜</strong>。如果值非常低，分布将向左移动，导致曲线向左<strong class="is hj">或</strong> <strong class="is hj">负偏</strong>。</p><h1 id="3f16" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">异常值分为三种类型:</h1><ul class=""><li id="8fe3" class="kr ks hi is b it kt ix ku jb kv jf kw jj kx jn ky kz la lb bi translated"><strong class="is hj">集体异常值</strong>:它们是一组不寻常的发现，由于其可比的异常值而看起来彼此相似。在时间序列图中，这可能表现为在季节序列正常的时间段之外出现的典型峰值和谷值。</li><li id="a8fc" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated"><strong class="is hj">上下文异常值</strong>:如果一个数据点的值与相同上下文中的其余数据点有很大的偏差，则称该数据点为上下文异常值。</li><li id="1370" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated"><strong class="is hj">集体异常值</strong>:它们是一组不寻常的发现，由于其可比的异常值而看起来彼此相似。</li></ul><h1 id="e9c4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">如何处理数据中的异常值</h1><p id="6ded" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">为了演示，我创建了一个只有一列(年龄)的数据集。我包含了两个值:一个是高值(100)，另一个是低值(-50)。</p><pre class="jp jq jr js fd lk ll lm ln aw lo bi"><span id="b843" class="lp ju hi ll b fi lq lr l ls lt">Sample Dataset: 10,12,34,25,20,22,30,33,40,100,-50</span></pre><h1 id="e0d6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">箱形图</h1><p id="1f55" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">箱形图是对<a class="ae jo" href="https://aichapters.com/introduction-to-statistics-and-probability/" rel="noopener ugc nofollow" target="_blank">统计数据</a>分布的图形描述。它利用了中位数以及上下四分位数。箱线图可以很容易地发现数据集中的异常点，因为胡须上方或下方的任何点都是异常点。有时被称为“单变量方法”</p><p id="40e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">箱线图是将描述性统计数据可视化的统计图(<strong class="is hj">均值</strong>，<strong class="is hj">中位数</strong>，<strong class="is hj"> Q1 </strong>，<strong class="is hj"> Q2 </strong>，<strong class="is hj"> IQR </strong>，<strong class="is hj">最小值</strong>，<strong class="is hj">最大值</strong>)。我将使用R软件。</p><pre class="jp jq jr js fd lk ll lm ln aw lo bi"><span id="a135" class="lp ju hi ll b fi lq lr l ls lt">#First install "readxl" package to read excel file into R<br/>install.packages("readxl")<br/>#load readxl package <br/>library(readxl)<br/>my_data &lt;- read_excel("Outlier.xlsx")<br/>boxplot(my_data)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2bbd2be5cf10d9bfb7341660647230b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wJ_FRGZOkzewunS3KwnOwA.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx">Box Plot</figcaption></figure><h1 id="a8eb" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">柱状图</h1><p id="a940" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">一个直方图，其中大部分信息在一侧，而一些观察值出现在远离主组的地方，这种直方图被称为异常值。观察异常值。</p><p id="ddc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">直方图也检测异常值。生成直方图的r代码。</p><pre class="jp jq jr js fd lk ll lm ln aw lo bi"><span id="eea5" class="lp ju hi ll b fi lq lr l ls lt">Age&lt;- my_data$Age hist(Age,xlab = “Age”,col=”darkmagenta”, xlim = c(-60,100), ylim = c(0,10),main=”Outlier Detection using Histogram”)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1271b2591db8ad94a08cb79294af21b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9C2XGdGjwIH-JFgL6juC0w.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx">Histogram</figcaption></figure><h1 id="36b4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">四分位数间距(IQR)</h1><p id="d075" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">四分位间距规则对于发现异常值非常重要。四分位数范围得分或中间50%或H-spread是统计离差的一种度量，等于第75个百分位数和第25个百分位数之间的差值，即第三个四分位数(Q3)和第一个四分位数(Q1)</p><p id="796e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> IQR=Q3-Q1 </strong></p><p id="1b13" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将异常值定义为小于<strong class="is hj">【Q1-(1.5 * IQR)</strong>或大于<strong class="is hj"> Q3+(1.5 * IQR) </strong>的值</p><pre class="jp jq jr js fd lk ll lm ln aw lo bi"><span id="416e" class="lp ju hi ll b fi lq lr l ls lt">#Install "readxl" package<br/>install.packages("readxl")<br/>#load readxl package <br/>library(readxl) <br/>#Read the excel file <br/>my_data &lt;- read_excel("Outlier.xlsx") <br/>#summary() computes summary statistics of data and model objects.<br/>summary(my_data) <br/>      Age<br/> Min. :-50.00<br/> 1st Qu.: 16.00<br/> Median : 25.00<br/> Mean : 25.09 <br/> 3rd Qu.: 33.50 <br/> Max. :100.00 <br/>#Assigning Values <br/> Q1&lt;-16.00 <br/> Q3&lt;-33.50 <br/>#Calculating IQR <br/> IQR&lt;-Q3-Q1 <br/> IQR <br/> [1] 17.5 <br/> Lower=Q1-(1.5*IQR)<br/> Upper=Q1+(1.5*IQR) <br/> Lower<br/> [1] -10.25<br/> Upper <br/> [1] 42.25 <br/>#Any number smaller than this is an outlier        my_data[my_data$Age&lt;Lower,] -50 <br/>#Any number larger than this is considered an outlier my_data[my_data$Age&gt;Upper,] 100</span></pre><h1 id="5887" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">标准偏差</h1><p id="0d7c" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">对数据集中的值如何变化或偏离平均值的一种度量。</p><p id="9f07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将异常值定义为小于(<strong class="is hj">平均值— 3*SD </strong>)或大于(<strong class="is hj">平均值+ 3*SD </strong>)的值。</p><p id="870b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">计算标准偏差的r代码</p><pre class="jp jq jr js fd lk ll lm ln aw lo bi"><span id="078f" class="lp ju hi ll b fi lq lr l ls lt">#load the readxl library<br/>library(readxl) <br/>#Read the excel file <br/>my_data &lt;- read_excel(“Outlier.xlsx”) <br/>#summary() computes summary statistics of data and model objects. summary(my_data) <br/>    Age <br/>Min. :-50.00<br/>1st Qu.: 16.00<br/>Median : 25.00 <br/>Mean : 25.09 <br/>3rd Qu.: 33.50 <br/>Max. :100.00 <br/>#calculates the standard deviation <br/>sd(my_data$Age) <br/>[1] 34.74609 <br/>#Values greater than Mean + 3*sd are considered as outlier my_data[my_data$Age &gt; Mean + (3*sd),]<br/> 100 <br/>#Values less than Mean — 3*sd are considered as outlier my_data[my_data$Age &lt; Mean — (3*sd),]<br/> -50</span></pre><h1 id="1c11" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">散点图</h1><p id="65a0" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">散点图有助于确定两个数值变量之间的相关程度，例如X和y之间的简单线性关系。异常值是指任何偏离正常值的观察值。</p><h1 id="53ab" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">ML模型和异常值</h1><p id="0b67" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">在<a class="ae jo" href="https://aichapters.com/what-is-machine-learning/" rel="noopener ugc nofollow" target="_blank">机器学习</a>中，离群值通常会从整体上误导对数据的解读，导致训练过程中模型不太准确，结果不正确。虽然不是所有的机器学习模型都对异常值敏感。对下列异常值敏感的ML模型。</p><ul class=""><li id="33e6" class="kr ks hi is b it iu ix iy jb ly jf lz jj ma jn ky kz la lb bi translated">线性回归</li><li id="c9d2" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">逻辑回归</li><li id="d2be" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">k均值</li><li id="ed4a" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">等级体系的</li><li id="b7ee" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">主成分分析</li></ul><h1 id="ad9c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">如何处理异常值？</h1><ul class=""><li id="eb8c" class="kr ks hi is b it kt ix ku jb kv jf kw jj kx jn ky kz la lb bi translated">计算Minkowski误差可以减少异常值对模型的影响。</li><li id="6222" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">从数据集中完全删除这些记录，以减少分析过程中引起的偏斜。</li><li id="6536" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">给这些记录赋予新的价值可以产生有利的结果。</li><li id="8c74" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">转换值可以消除异常值。缩放、对数变换、立方根归一化和其他技术消除了异常值。</li><li id="f678" class="kr ks hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">输入异常值并分别对待。</li></ul><h1 id="c618" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="0435" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb lh jd je jf li jh ji jj lj jl jm jn hb bi translated">在数据集中，并不是所有的异常值都是麻烦的。例如，在信用卡欺诈检测中，注意已经发生的任何异常交易被认为是重要的，并且在股票预测中，必须考虑任何异常峰值。因此，在处理异常值之前，理解数据集和问题陈述是非常重要的。</p><p id="6c70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你觉得这篇文章有帮助，那么请把它发给其他人。</p><p id="76b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">https://youtu.be/OSwuhYfMwWY ✅learn过着社交焦虑的生活⇾ <a class="ae jo" href="https://www.youtube.com/watch?v=OSwuhYfMwWY&amp;t=0s" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>