<html>
<head>
<title>Make a Markdown Blog using Amplication and ReactJS!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Amplication和ReactJS创建一个降价博客！</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/make-a-markdown-blog-using-amplication-and-reactjs-8bec5e59fdc3?source=collection_archive---------25-----------------------#2021-08-23">https://medium.com/geekculture/make-a-markdown-blog-using-amplication-and-reactjs-8bec5e59fdc3?source=collection_archive---------25-----------------------#2021-08-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="67ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">项目介绍</strong></p><p id="9f4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个项目背后的基本想法是创建一个<strong class="ih hj">降价博客网站</strong>。最终产品将是一个网站，用户可以在markdown中写文章，自动转换成纯文本。</p><p id="73d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里先睹为快，看看我们的项目会是什么样子-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3c4ca87264fa494feb6b0f4102750f05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pbwpmIEdKWK8xCou"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f4beb532ce2642930fe9a660322f1b34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nG6M1CAhmbGhp-qr"/></div></div></figure><p id="5393" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">降价</strong></p><p id="c248" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Markdown是一种非常流行的标记语言，用于格式化文档。广泛应用于讨论平台、博客网站、电子邮件、电子书等。</p><p id="cfeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于开发者来说，markdown最著名的现实例子是StackOverFlow和Github comments on PRs！！</p><p id="d347" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是减价的一些基本知识，只是给你介绍一下它是什么？</p><p id="6093" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#用于“标题1”# #用于“标题2”# # #用于“标题3”</p><p id="0bc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是降价的一些基础知识，如果你愿意，你可以在这里进一步阅读它的基础知识。</p><p id="2f38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">扩增简介！！</strong></p><p id="86cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们想建立一个网站。我们必须选择一种语言，一个框架，一个数据库，弄清楚我们想要如何部署，构建一些模型，创建REST端点…等等等等。</p><p id="1e76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实证明，现在我们可以在几分钟内完成所有这些，使用一种叫做<strong class="ih hj"> <em class="jq">扩增</em> </strong>的技术。它需要我们做的只是对数据模型——或者说<em class="jq">实体</em>有一个简单的概念。然后，它会生成一堆代码来完成上述所有任务以及更多任务。</p><p id="4d8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">这是如何工作的？</strong></p><p id="379d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">amplification使用元数据创建了一个成熟的应用程序，您可以使用Amplication web控制台定义这些元数据。自动生成的应用程序在服务器端基于Node.js + Typescript，在客户端作出反应。</p><p id="655f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">amplification团队写了一个很棒的介绍性博客:<a class="ae jp" rel="noopener" href="/amplication/introducing-amplication-the-open-source-development-tool-122994afd805">介绍amplification——我推荐与本文一起阅读的开源开发工具</a>!</p><h1 id="608c" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">技术</h1><p id="3c71" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">Amplication生成的代码基于许多流行的技术。</p><p id="cefe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">框架- </strong> <a class="ae jp" href="https://docs.nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJs </a></p><p id="8902" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据库- </strong> <a class="ae jp" href="https://www.postgresql.org/docs/" rel="noopener ugc nofollow" target="_blank"> Postgres </a></p><p id="0526" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">版本</strong> <strong class="ih hj">控制- </strong> <a class="ae jp" href="https://docs.github.com/en" rel="noopener ugc nofollow" target="_blank"> Github </a></p><p id="aacc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">部署- </strong> <a class="ae jp" href="https://docs.docker.com/get-started/overview/" rel="noopener ugc nofollow" target="_blank">停靠</a></p><p id="eba7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">运行时- </strong> <a class="ae jp" href="https://nodejs.org/en/docs/" rel="noopener ugc nofollow" target="_blank"> Node.js </a></p><p id="c6d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们探索一下这些是如何以一种功能性的、自动生成的后端的形式结合在一起的。我们将使用构建降价<em class="jq">博客应用程序的标准示例。</em></p><h1 id="dfb6" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">让我们开始吧</h1><h1 id="e563" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">后端</h1><p id="c96c" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">创建这个博客应用程序的第一步是<a class="ae jp" href="https://amplication.com/" rel="noopener ugc nofollow" target="_blank">登录amplification</a>并创建一个包含实体<em class="jq">文章</em>的应用程序。</p><p id="75d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将使一个后端应用程序不做重复的编码任务。你可以阅读<a class="ae jp" href="https://docs.amplication.com/docs/getting-started/" rel="noopener ugc nofollow" target="_blank">扩增文件</a>以了解基本过程。</p><p id="eb00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jq">条</em>实体中应包含以下规格:-</p><p id="c1db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">标题- </strong>单行文本</p><p id="4887" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">简短描述- </strong>多行文本</p><p id="d1c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">内容- </strong>多行文本</p><p id="a316" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以<a class="ae jp" href="https://docs.amplication.com/docs/sync-with-github" rel="noopener ugc nofollow" target="_blank">同步扩增代码到Github </a>。现在，我们必须提交、构建和生成代码。</p><p id="93c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将创建一个对所选Github库的pull请求，我们只需合并它。</p><p id="5ccb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在制作markdown博客的下一步中，我们将在本地运行amplication生成的代码。</p><p id="8615" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，只需从Github存储库中克隆代码，并在VSCode中打开。</p><p id="7975" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将目录更改为<em class="jq">服务器</em>，然后运行这里<a class="ae jp" href="https://docs.amplication.com/docs/getting-started/dev-env" rel="noopener ugc nofollow" target="_blank">提到的一些基本命令</a>。</p><p id="8f9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过打开沙盒环境，还可以看到Amplication创建的REST API。它看起来会像这样-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ku"><img src="../Images/d20c95d5286a26e7e41889ccb0d641cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RvWnT1oSr9GvrvXw"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/9f4e70d4ed23f4fc2a299f7be06b612b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DeOiIjLf-NUUVv-j"/></div></div></figure><p id="7980" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这表明服务器正在运行，并且已经准备好工作了！</p><p id="e8c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我只是在想，如果我们在后端过程中不使用放大，而必须自己做编码部分，那么整个过程将会多么漫长和忙碌。</p><p id="97c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">恭喜你！我们已经成功地完成了我们的<em class="jq"> Markdown博客应用</em>的后端。</p><h1 id="97cc" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">前端</h1><p id="651a" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated"><strong class="ih hj">做出反应</strong></p><p id="8dac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React是一个用于构建用户界面的JavaScript库。前端使用<em class="jq"> ReactJS </em>的原因包括几点-</p><ul class=""><li id="7e52" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">更好的性能</li><li id="ebff" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">可重用组件</li><li id="bf97" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">易于实施</li><li id="8b31" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">运行时间</li></ul><p id="8985" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> JSX </strong></p><p id="df78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它是Javascript的语法扩展。JSX产生反应<em class="jq">元素</em>。它有一个普通HTML熟悉的语法，也可以直接在我们的JavaScript文件中使用，但没有浏览器可以在不传输它的情况下读取它。</p><p id="f17b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">设置</strong></p><p id="30a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">编辑器使用- VSCode </strong></p><p id="a568" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了通过本教程创建markdown博客应用程序，我们将安装node version-14。</p><p id="8f1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开CLI并安装<em class="jq"> React </em>并使用该命令创建一个新项目。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="690a" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">npx create-react-app react-markdown-blog</strong></span></pre><p id="313d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的命令将创建一个名为<em class="jq"> react-markdown-blog </em>的目录，其中安装了react和所有依赖项。</p><p id="5926" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在导航到新创建的目录(<em class="jq"> react-markdown-blog </em>)并运行<em class="jq"> npm start </em>来启动服务器。这个命令会自动启动浏览器，并重定向到<a class="ae jp" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/</a>(react的默认主页)。如果没有错误，我们将在屏幕上看到它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/1b42d1469f5def027069cebefbe6e1d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*thnCrP-ozrU4ukIG"/></div></div></figure><p id="2c6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在已经准备好了我们想要创建的React应用程序的结构。</p><p id="ebaa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到<em class="jq">react-markdown-blog/src/app . js</em>，让我们首先在那里创建一个hello world示例程序，看看它是否正常工作。</p><p id="e659" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">替换App的代码。Js与下面的代码。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="9139" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> “react”;</span><span id="b916" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> App = ( ) =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;div&gt;<br/> &lt;h1&gt;Markdown Blog&lt;/h1&gt;<br/> &lt;/div&gt;<br/> );<br/>};<br/><strong class="ll hj">export</strong> <strong class="ll hj">default</strong> App;</span></pre><p id="4df0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在<a class="ae jp" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>上看到<em class="jq"> Markdown博客</em>标题。</p><p id="9b2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码首先从节点模块导入React，然后创建一个功能组件<em class="jq"> App </em>，然后我们渲染JSX代码，最后只需导出<em class="jq"> App </em>。</p><p id="ce05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们有一些在本教程中不会用到的文件，因此从<em class="jq">react-markdown-blog/src</em>中删除所有这些文件</p><ul class=""><li id="af66" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">App.css</li><li id="19ef" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">应用测试网站</li><li id="e24e" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">Index.css</li><li id="0bf6" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">徽标. svg</li><li id="3208" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">setupTests.js</li></ul><p id="8395" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导航到<em class="jq"> index.js </em>文件并删除第三个导入(index.css)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lw"><img src="../Images/4747765532c6a27dd84d5652c2c54ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/0*pGiKfsuGNyU6Ux8M"/></div></figure><p id="c49c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是在<em class="jq"> src </em>文件夹中创建一个文件夹<em class="jq"> Components </em>。</p><p id="eff7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">博客应用的第一件事是创建一篇新文章。创建一个文件<em class="jq"> CreateNewPost.jsx </em>并将以下代码添加到该文件中。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="40c0" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> “react”;<br/><strong class="ll hj">const</strong> CreateNewPost = () =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/>&lt;form&gt;<br/> &lt;h1&gt;Create New Post&lt;/h1&gt;<br/> &lt;input type =”text” placeHolder=”title” size=”39" required&gt;&lt;/input&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;textarea placeHolder=”shortDescription” rows=”8" cols=”41"required&gt;&lt;/textarea&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;textarea placeHolder=”contents” rows=”8" cols=”41"required&gt;&lt;/textarea&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;button&gt;Save Post&lt;/button&gt;<br/>&lt;/form&gt;<br/> &lt;/&gt;<br/> );<br/>};<br/>export default CreateNewPost;</span></pre><p id="2324" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如前所述，这里我们使用的是JSX格式，在这段代码中，我们什么也没做，只是创建了一个包含三个输入的HTML表单——标题、简短描述和内容。</p><p id="6bed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在必须显示这些更改，为此，我们必须导航到<em class="jq">react-markdown-blog/src/app . js</em>并在代码中添加此导入行。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="8210" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> CreateNewPost <strong class="ll hj">from</strong> ‘./components/CreateNewPost’</span></pre><p id="e6f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在移除<h1> Markdown博客</h1>并呈现<em class="jq"> CreateNewPost </em>组件，用&lt; CreateNewPost / &gt;替换它。</p><p id="c967" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React应用程序现在看起来像这样。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/af629f9a2d3485fa3d38b2cf30735d03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DxWOo8gYVX1Wh1WB"/></div></div></figure><p id="720e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我们还没有在<em class="jq">保存帖子</em>按钮中添加功能，也没有CSS，但是我们会在接下来的步骤中添加。</p><p id="f2b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们要添加的下一个组件是<em class="jq"> Post.jsx </em>，并在其中添加以下代码。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="395d" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> ‘react’;</span><span id="0b48" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> Post = () =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;section&gt;<br/> &lt;h3&gt;Post title will appear here&lt;/h3&gt;</span><span id="253d" class="lp js hi ll b fi lv lr l ls lt">&lt;p&gt; Short Description will appear here&lt;/p&gt;<br/> &lt;p&gt; Post contents will appear here&lt;/p&gt;<br/> &lt;/section&gt;<br/> &lt;/&gt;<br/> )<br/>}<br/>export default Post</span></pre><p id="b4b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加了一个简单的代码来显示文章的外观。现在导航到<em class="jq"> App.js </em>并用下面的代码替换它，看看<em class="jq"> Post </em>组件看起来会是什么样子。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="3e2d" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> “react”;<br/><strong class="ll hj">import</strong> Posts <strong class="ll hj">from</strong> ‘./Components/Post’<br/><strong class="ll hj">const</strong> App = ( ) =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;Posts /&gt;<br/> &lt;/&gt;<br/> );<br/>};<br/>export default App;</span></pre><p id="9533" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">刷新浏览器，它将看起来像下面的截图。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ly"><img src="../Images/f1bc1e534ccb43c6e36a897a82e84d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/0*tRn_g-jLwYSOU1El"/></div></figure><p id="ca4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们要添加的最后一个组件是<em class="jq"> DisplayAllPosts.jsx </em>。最初向其中添加以下代码。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="ed21" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> ‘React’;<br/><strong class="ll hj">import</strong> CreateNewPost <strong class="ll hj">from</strong> ‘./CreateNewPost’<br/><strong class="ll hj">const</strong> DisplayAllPosts = () =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;CreateNewPost /&gt;<br/> &lt;/&gt;<br/> )<br/>}<br/>export default DisplayAllPosts</span></pre><p id="ecbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经在<em class="jq"> DisplayAllPosts </em>中渲染了<em class="jq"> CreateNewPost </em>组件。</p><p id="8a7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个目标是从用户那里获取输入，并在用户输入时将其直接存储到组件状态变量中。为了实现这一点，我们将使用React <em class="jq"> usestate </em>。</p><p id="7c0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们用useState声明一个状态变量时，它返回一个包含两项的数组。第一项是当前值，第二项是用于更新状态的updater函数。</p><p id="209e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们将在<em class="jq"> DisplayAllPosts </em>中用以下代码替换它来实现这一点。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="0d38" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React, {useState} <strong class="ll hj">from</strong> ‘react’;<br/><strong class="ll hj">import</strong> CreateNewPost <strong class="ll hj">from</strong> ‘./CreateNewPost’<br/><strong class="ll hj">const</strong> DisplayAllPosts = () =&gt; {<br/><strong class="ll hj">const</strong> [title, setTitle] = useState(“”);</span><span id="c4f5" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> [shortDescription, setShortDescription]= useState(“”);<br/><strong class="ll hj">const</strong> [content, setContent] = useState(“”);<br/><strong class="ll hj">const</strong> savePostTitleToState = event =&gt; {<br/> setTitle(event.target.value);<br/> console.log(title)<br/>};</span><span id="385b" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> saveShortDescriptionToState = event =&gt;{</span><span id="43be" class="lp js hi ll b fi lv lr l ls lt">setShortDescription(event.target.value);</span><span id="edbe" class="lp js hi ll b fi lv lr l ls lt">console.log(shortDescription)</span><span id="64eb" class="lp js hi ll b fi lv lr l ls lt">};<br/><strong class="ll hj">const</strong> savePostContentToState = event =&gt; {<br/> setContent(event.target.value);<br/> console.log(content)<br/>};<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;CreateNewPost <br/> savePostTitleToState = {savePostTitleToState}</span><span id="8e7d" class="lp js hi ll b fi lv lr l ls lt">saveShortDescriptionToState={saveShortDescriptionToState}<br/> savePostContentToState = {savePostContentToState}<br/> /&gt;<br/> &lt;/&gt;<br/> )<br/>}<br/>export default DisplayAllPosts</span></pre><p id="d5fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们创建了三个变量<em class="jq"> title、shortDescription </em>和<em class="jq"> content </em>，并分别设置了它们的更新函数<em class="jq"> setTitle、setShortDescription </em>和<em class="jq"> setContent </em>。然后我们创建了三个函数<em class="jq"> savePostTitletoState、saveShortDescriptionToState</em>和<em class="jq">savepostcontentstate</em>。</p><p id="e759" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些功能将用于保存用户输入值到状态。我们还向每个函数添加了console.log()语句，以便在用户输入时查看输入值。然后我们将这三个函数作为道具传递给CreateNewPost组件。</p><p id="4869" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开<em class="jq"> CreateNewPost </em>，用下面的代码更新它。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="bd1d" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> “react”;<br/><strong class="ll hj">const</strong> CreateNewPost = props =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/>&lt;form&gt;<br/> &lt;h1&gt;Create New Post&lt;/h1&gt;<br/> &lt;input type =”text” onChange={props.savePostTitleToState}<br/> placeHolder=”title” size=”39" required&gt;&lt;/input&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;textarea onChange={props.saveShortDescriptionToState}<br/> placeHolder=”shortDescription” rows=”8" cols=”41"required&gt;&lt;/textarea&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;textarea onChange={props.savePostContentToState}<br/> placeHolder=”contents” rows=”8" cols=”41"required&gt;&lt;/textarea&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;button&gt;Save Post&lt;/button&gt;<br/>&lt;/form&gt;<br/> &lt;/&gt;<br/> );<br/>};<br/>export default CreateNewPost;</span></pre><p id="c93d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用<em class="jq"> Ctrl+Shift+i </em>命令预览chrome中的更改，无论何时您在表单中键入任何内容，它都会在控制台中可见。</p><p id="ce21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们希望在用户单击“保存帖子”按钮后，将捕获的帖子标题、简短描述和内容保存到另一个名为allPosts的状态变量中。</p><p id="9df2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建新的状态变量-</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="0e04" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">const</strong> [allPosts, setAllPosts] = useState([]);</span><span id="f923" class="lp js hi ll b fi lv lr l ls lt">Then create a function <em class="jq">savePost </em>in <em class="jq">DisplayAllPosts</em>-</span><span id="2b73" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> savePost = () =&gt; {<br/> <strong class="ll hj">const</strong> id = Date.now();<br/> setAllPost([…allPost, {title,shortDescription, content, id}]);<br/> console.log(allPost);<br/> };</span></pre><p id="3a65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该功能将输入文本保存到<em class="jq"> allPost </em>状态变量中。我们通过将<em class="jq"> Date.now() </em>放入其中，为每个帖子分配了一个唯一的id。</p><p id="68cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还为<em class="jq">的所有帖子</em>添加了一个console.log()。成功捕获数据后，我们希望清除我们的状态和所有输入字段值，以便用户可以添加另一篇文章。为此，我们必须清除标题和内容状态变量。</p><p id="5108" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们像这样更新我们的savePost函数</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="2631" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">const</strong> savePost = () =&gt; {<br/> setAllPosts([…allPosts, { title, shortDescription, content }]);<br/> setTitle(“”);<br/> setContent(“”);<br/> console.log(allPosts);<br/> };</span></pre><p id="1e1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了定位DOM上的输入字段并清除它们的值，我们将使用React Hook <em class="jq"> useRef。</em>将import语句替换为- <strong class="ih hj"> import </strong> React，“React”中的{ useState，useRef }<strong class="ih hj">；</strong></p><p id="3bd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">初始化<em class="jq"> useRef- </em></p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="2bb5" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">const</strong> getTitle = useRef();<br/><strong class="ll hj">const</strong> getShortDescription = useRef();</span><span id="8979" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> getContent = useRef();</span></pre><p id="1f3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后将引用作为道具传递给<em class="jq"> CreateNewPost </em>组件</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="ea68" class="lp js hi ll b fi lq lr l ls lt">&lt;CreateNewPost<br/> savePostTitleToState = {savePostTitleToState}<br/> saveShortDescriptionToState={saveShortDescriptionToState}<br/> savePostContentToState = {savePostContentToState}<br/> getTitle={getTitle}<br/> getShortDescription={getShortDescription}<br/> getContent={getContent}<br/> /&gt;</span></pre><p id="fc82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将在来自<em class="jq"> CreateNewPosts </em>组件的每个输入中添加引用。新代码看起来会像这样-</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="777c" class="lp js hi ll b fi lq lr l ls lt">import React from “react”;<br/>const CreateNewPost = props =&gt; {<br/> return (<br/> &lt;&gt;<br/> &lt;form onSubmit={props.savePost}&gt;<br/> &lt;h1&gt;Create New Post&lt;/h1&gt;<br/> &lt;input<br/> type=”text”<br/> onChange={props.savePostTitleToState}<br/> placeholder=”title”<br/> size=”39"<br/> required<br/> ref={props.getTitle}<br/> &gt;&lt;/input&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;textarea<br/> onChange={props.saveShortDescriptionToState}<br/> placeholder=”shortDecription”<br/> rows=”8"<br/> cols=”41"<br/> required<br/> ref={props.getShortDescription}<br/> &gt;&lt;/textarea&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;textarea<br/> onChange={props.savePostContentToState}<br/> placeholder=”contents”<br/> rows=”8"<br/> cols=”41"<br/> required<br/> ref={props.getContent}<br/> &gt;&lt;/textarea&gt;<br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;button&gt;Save Post&lt;/button&gt;<br/> &lt;/form&gt;<br/> &lt;/&gt;<br/> );<br/>};<br/>export default CreateNewPost;</span></pre><p id="1624" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你可以打开控制台并保存文章，你可以在那里看到所有文章的列表。</p><p id="2fd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们希望只有当有人点击Create New时，才能看到<em class="jq"> CreateNewPost </em>的内容。因此，将<em class="jq"> DisplayAllPosts </em>的代码替换为以下更改。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="07a2" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React, { useState, useRef } <strong class="ll hj">from</strong> “react”;<br/><strong class="ll hj">import</strong> CreateNewPost <strong class="ll hj">from</strong> “./CreateNewPost”;<br/><strong class="ll hj">const</strong> DisplayAllPosts = () =&gt; {<br/> <strong class="ll hj">const</strong> [title, setTitle] = useState(“”);<br/> <strong class="ll hj">const</strong> [shortDescription, setShortDescription]= useState(“”);<br/> <strong class="ll hj">const</strong> [content, setContent] = useState(“”);<br/> <strong class="ll hj">const</strong> [allPosts, setAllPosts] = useState([]);<br/> <strong class="ll hj">const</strong> [isCreateNewPost, setIsCreateNewPost] = useState(false);</span><span id="6f71" class="lp js hi ll b fi lv lr l ls lt"> <em class="jq">// Initialize useRef</em><br/> <strong class="ll hj">const</strong> getTitle = useRef();<br/> <strong class="ll hj">const</strong> getContent = useRef();<br/> <strong class="ll hj">const</strong> getShortDescription = useRef();</span><span id="f60b" class="lp js hi ll b fi lv lr l ls lt"> <strong class="ll hj">const</strong> savePostTitleToState = event =&gt; {<br/> setTitle(event.target.value);<br/> };<br/> <strong class="ll hj">const</strong> saveShortDescriptionToState = event =&gt;{<br/> setShortDescription(event.target.value);<br/> };<br/> <strong class="ll hj">const</strong> savePostContentToState = event =&gt; {<br/> setContent(event.target.value);<br/> };<br/> <strong class="ll hj">const</strong> toggleCreateNewPost =()=&gt;{<br/> setIsCreateNewPost(!isCreateNewPost)<br/>}</span><span id="2852" class="lp js hi ll b fi lv lr l ls lt"> <strong class="ll hj">const</strong> savePost = event =&gt; {<br/> event.preventDefault();<br/> setAllPosts([…allPosts, { title, shortDescription, content }]);<br/> console.log(allPosts);<br/> getTitle.current.value = “”;<br/> getShortDescription.current.value = “”;<br/> getContent.current.value = “”;<br/> };<br/></span><span id="5ebd" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">if</strong>(isCreateNewPost){<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;CreateNewPost<br/> savePostTitleToState={savePostTitleToState}<br/> savePostContentToState={savePostContentToState}<br/> saveShortDescriptionToState={saveShortDescriptionToState}<br/> getTitle={getTitle}<br/> getShortDescription={getShortDescription}<br/> getContent={getContent}<br/> savePost={savePost}<br/> /&gt;<br/> &lt;/&gt;<br/>);<br/>}<br/>return (<br/> &lt;&gt;<br/> &lt;h2&gt;All Posts&lt;/h2&gt;<br/> &lt;br/&gt;<br/> &lt;br/&gt;<br/> &lt;button onClick={toggleCreateNewPost}&gt;Create New&lt;/button&gt;<br/> &lt;/&gt;<br/>)<br/>};<br/>export default DisplayAllPosts;</span></pre><p id="bbdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出会是这样的-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lz"><img src="../Images/816494694bcf49f90b577e5e59db36ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/0*qgOP-qHXdQI6e3-V"/></div></figure><p id="31d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们创建了一个名为<em class="jq"> isCreateNewPost </em>的新状态变量，并用布尔值false对其进行了初始化。</p><p id="8e11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们创建了另一个名为<em class="jq"> toggleCreateNewpost </em>的函数，这个函数将使<em class="jq"> isCreateNewPost </em>状态变量在真和假之间切换。如果<em class="jq"> isCreateNewPost </em>的前一状态值为真，则<em class="jq"> toggleCreateNewpost </em>会将其改为假，否则为真。</p><p id="0e85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还添加了一个按钮<em class="jq"> Create New </em>，当用户点击它时，它将调用<em class="jq"> toggleCreateNewPost </em>。添加了一个条件语句，该语句仅在被点击时呈现<em class="jq"> CreateNewPost </em>,或者说，布尔值为真。</p><p id="fbc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们想看看屏幕上由<em class="jq"> CreateNewPost </em>保存的内容。为此，让我们先对<em class="jq"> Post.jsx </em>进行一些修改。</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="295f" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React <strong class="ll hj">from</strong> ‘react’;</span><span id="fbc0" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> Post = (props) =&gt; {<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;section&gt;<br/> &lt;h3&gt;{props.title}&lt;/h3&gt;<br/> &lt;p&gt;{props.shortDescription}&lt;/p&gt;<br/> &lt;p&gt; {props.content}&lt;/p&gt;<br/> &lt;/section&gt;<br/> &lt;/&gt;<br/> )<br/>}<br/>export default Post</span></pre><p id="27f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们通过<em class="jq"> DisplayAllPosts </em>组件<em class="jq">显示帖子数据。如果没有创建帖子，代码将显示<em class="jq">这里没有什么可看的</em>，如果我们创建了一些帖子，代码将映射创建的帖子列表。刷新浏览器，点击<em class="jq">新建</em>按钮，创建一个新帖子，输出如下-</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ma"><img src="../Images/3ca083d5bad2b2d03d6c2465819dc289.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/0*eHCMwkz8LBhPF1xn"/></div></figure><p id="9967" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你可以对代码进行CSS修改，也可以直接使用我们从Github制作的样式文件。</p><p id="08f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将前端连接到后端</strong></p><p id="d728" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们必须首先创建一个<em class="jq"> Post </em>请求，此时<em class="jq"> Save Post </em>按钮将被点击，并将数据保存到由<em class="jq">amplification</em>创建的后端。</p><p id="c7de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">继续之前安装三个模块-</p><ul class=""><li id="f39c" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">npm安装请求</li><li id="5c88" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">npm安装axios</li><li id="2524" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">npm安装反应-降价</li></ul><p id="3774" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将以下代码中的<em class="jq">显示所有帖子</em>代码更改为-</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="726c" class="lp js hi ll b fi lq lr l ls lt"><strong class="ll hj">import</strong> React, { useState, useRef } <strong class="ll hj">from</strong> “react”;<br/><strong class="ll hj">import</strong> CreateNewPost <strong class="ll hj">from</strong> “./CreateNewPost”;<br/><strong class="ll hj">import</strong> Post <strong class="ll hj">from</strong> “./Post”;<br/><strong class="ll hj">const</strong> DisplayAllPosts = () =&gt; {<br/> <strong class="ll hj">const</strong> [title, setTitle] = useState(“”);<br/> <strong class="ll hj">const</strong> [shortDescription, setShortDescription]= useState(“”);<br/> <strong class="ll hj">const</strong> [content, setContent] = useState(“”);<br/> <strong class="ll hj">const</strong> [allPosts, setAllPosts] = useState([]);<br/> populateAllPosts(setAllPosts);</span><span id="2ca3" class="lp js hi ll b fi lv lr l ls lt"> <strong class="ll hj">const</strong> [isCreateNewPost, setIsCreateNewPost] = useState(false);</span><span id="e8b3" class="lp js hi ll b fi lv lr l ls lt"> <em class="jq">// Initialize useRef</em><br/> <strong class="ll hj">const</strong> getTitle = useRef();<br/> <strong class="ll hj">const</strong> getContent = useRef();<br/> <strong class="ll hj">const</strong> getShortDescription = useRef();</span><span id="4719" class="lp js hi ll b fi lv lr l ls lt"> <strong class="ll hj">const</strong> savePostTitleToState = event =&gt; {<br/> setTitle(event.target.value);<br/> };<br/> <strong class="ll hj">const</strong> saveShortDescriptionToState = event =&gt;{<br/> setShortDescription(event.target.value);<br/> };<br/> <strong class="ll hj">const</strong> savePostContentToState = event =&gt; {<br/> setContent(event.target.value);<br/> };<br/> <strong class="ll hj">const</strong> toggleCreateNewPost =()=&gt;{<br/> setIsCreateNewPost(!isCreateNewPost)<br/>}</span><span id="989c" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">const</strong> savePost = event =&gt; {<br/> event.preventDefault();<br/> <strong class="ll hj">const</strong> id = Date.now();<br/> setAllPosts([…allPosts, { title,shortDescription, content, id }]);<br/> console.log(allPosts);<br/> <strong class="ll hj">var</strong> request = require(‘request’);<br/> <strong class="ll hj">var</strong> options = {<br/> ‘method’: ‘POST’,<br/> ‘url’: ‘http://localhost:3000/api/articles/',<br/> ‘headers’: {<br/> Authorization: ‘Basic YWRtaW46YWRtaW4=’,<br/> ‘Content-Type’: ‘application/json’<br/> },</span><span id="8972" class="lp js hi ll b fi lv lr l ls lt"> body:JSON.stringify({<br/> “content”: content,<br/> “shortDescription”:shortDescription,<br/> “title”:title<br/> })<br/> };<br/> request(options, <strong class="ll hj">function</strong> (error, response) {<br/> <strong class="ll hj">if</strong> (error) <strong class="ll hj">throw</strong> <strong class="ll hj">new</strong> Error(error);<br/> console.log(response.body);<br/> });<br/>toggleCreateNewPost();<br/> };<br/></span><span id="2288" class="lp js hi ll b fi lv lr l ls lt"><strong class="ll hj">if</strong>(isCreateNewPost){<br/> <strong class="ll hj">return</strong> (<br/> &lt;&gt;<br/> &lt;CreateNewPost<br/> savePostTitleToState={savePostTitleToState}<br/> savePostContentToState={savePostContentToState}<br/> saveShortDescriptionToState={saveShortDescriptionToState}<br/> getTitle={getTitle}<br/> getShortDescription={getShortDescription}<br/> getContent={getContent}<br/> savePost={savePost}<br/> /&gt;<br/> &lt;/&gt;<br/>);<br/>}return (<br/> &lt;&gt;<br/> &lt;h2&gt;All Posts&lt;/h2&gt;<br/> {!allPosts.length ? (<br/> &lt;div&gt;<br/> &lt;h3&gt;There is nothing to see here!&lt;/h3&gt;<br/> &lt;/div&gt;<br/> ) : (<br/> allPosts.map(eachPost =&gt; {<br/> return (<br/> &lt;Post<br/> id={eachPost.id}<br/> key={eachPost.id}<br/> title={eachPost.title}<br/> shortDescription={eachPost.shortDescription}<br/> content={eachPost.content}<br/> /&gt;<br/> );<br/> })<br/> )}<br/> <br/> &lt;br /&gt;<br/> &lt;br /&gt;<br/> &lt;button onClick={toggleCreateNewPost}&gt;Create New&lt;/button&gt;<br/> &lt;/&gt;<br/> );<br/> };<br/></span><span id="6fe4" class="lp js hi ll b fi lv lr l ls lt">var populateAllPosts = async function(setAllPosts) {</span><span id="8e19" class="lp js hi ll b fi lv lr l ls lt"> var axios = require(‘axios’);<br/> var config = {<br/> method: ‘get’,<br/> url: ‘http://localhost:3000/api/articles/’,<br/> headers: {<br/> Authorization: ‘Basic YWRtaW46YWRtaW4=’,<br/> ‘Content-Type’: ‘application/json’<br/> }<br/> };<br/> await axios(config).then(<br/> function(response) {<br/> console.log(response.data)<br/> setAllPosts(response.data)<br/> }<br/> )<br/> };<br/> export default DisplayAllPosts;</span></pre><p id="0260" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，我们简单地做了一个POST和一个GET请求。对于GET请求，我们使用<em class="jq">请求</em>模块，对于POST请求，我们使用<em class="jq"> axios </em>模块。</p><p id="f8d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里为了使事情变得简单，我们发送了一个<em class="jq">头</em>来超越<em class="jq">基础头文件</em>并允许在没有授权的情况下访问每个请求。</p><p id="5bfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在前面的步骤中使用由<em class="jq">扩增</em>创建的<em class="jq">文章API </em>。现在，我们已经将前端连接到后端，您可以访问以前创建的文章，也可以创建新的文章，这些文章将存储在后端数据库中。</p><p id="38bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">添加降价- </strong></p><p id="8b54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将<em class="jq"> Post.jsx </em>的代码替换为以下代码-</p><pre class="je jf jg jh fd lk ll lm ln aw lo bi"><span id="0540" class="lp js hi ll b fi lq lr l ls lt">import React from “react”;<br/>import ReactMarkdown from “react-markdown”</span><span id="a0f9" class="lp js hi ll b fi lv lr l ls lt">const Post = ({ title, content, shortDescription, id, deletePost }) =&gt; {<br/> return (<br/> &lt;&gt;<br/> &lt;section className=”post-container”&gt;<br/> &lt;h2&gt;{title}&lt;/h2&gt;<br/> &lt;br /&gt;<br/> &lt;h3&gt;&lt;b&gt;<br/> Short Description&lt;/b&gt;<br/> &lt;/h3&gt;<br/> &lt;p&gt; {shortDescription}&lt;/p&gt;<br/> &lt;h3&gt;&lt;b&gt;<br/> Content &lt;/b&gt;<br/> &lt;/h3&gt;<br/> &lt;ReactMarkdown&gt;<br/> {content}<br/> &lt;/ReactMarkdown&gt;<br/> <br/> &lt;/section&gt;<br/> &lt;/&gt;<br/> );<br/>};<br/>export default Post;</span></pre><p id="33c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们使用了<em class="jq"> React-Markdown </em>模块以Markdown格式呈现文章的<em class="jq">内容</em>。</p><p id="22eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在由你来添加一些CSS，或者如果你愿意，你可以复制<em class="jq"> styles.css </em>文件，并从Github库将其添加到你的代码中。</p><p id="c307" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">最终输出</strong>看起来会像这样-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/53e254ea364c57a6c486814ff7e6e784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VqPciy19KkkJpnkK"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8f71d89cf4959ebf302fddfdc6d109c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gwseovzS2fYcnZXE"/></div></div></figure><p id="5ac5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在下面的Github仓库中看到完整的代码</p><p id="cfc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Github -</p><ol class=""><li id="5d4a" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc mb lc ld le bi translated">前端</li></ol><p id="4f1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://github.com/souravjain540/React-markdown-blog-frontend" rel="noopener ugc nofollow" target="_blank">https://github . com/souravjain 540/React-markdown-blog-frontend</a></p><p id="b9a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.后端</p><p id="39a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://github.com/souravjain540/markdown-blog" rel="noopener ugc nofollow" target="_blank">https://github.com/souravjain540/markdown-blog</a></p><p id="3591" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与文章相关的一些重要链接-</p><ol class=""><li id="6fea" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc mb lc ld le bi translated"><a class="ae jp" href="https://docs.amplication.com/docs/" rel="noopener ugc nofollow" target="_blank">扩增文件</a></li><li id="b52d" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc mb lc ld le bi translated"><a class="ae jp" href="https://reactjs.org/docs/getting-started.html" rel="noopener ugc nofollow" target="_blank">反应文件</a></li><li id="8732" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc mb lc ld le bi translated">放大<a class="ae jp" href="https://discord.gg/Pch6FUgW" rel="noopener ugc nofollow" target="_blank">不一致</a>(如果你有错误，为了社区帮助，我也用了这个)</li></ol></div></div>    
</body>
</html>