<html>
<head>
<title>Android — Clean Architecture With Dynamic-Features and Hilt/Dagger2 (Pt.2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android——简洁的架构，带有动态特性和刀柄/匕首2(第二部分)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/clean-architecture-with-dynamic-features-and-hilt-dagger2-pt-2-af801f162b0d?source=collection_archive---------7-----------------------#2021-03-04">https://medium.com/geekculture/clean-architecture-with-dynamic-features-and-hilt-dagger2-pt-2-af801f162b0d?source=collection_archive---------7-----------------------#2021-03-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/21eec9e4ecefdf3604042dcb34a20d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EFy3_z65YWWK_WxahTchZQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Bologna — Italy (2019)</figcaption></figure><h1 id="0903" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">介绍</h1><p id="bd7a" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">在我们之前的文章中，我们设置了Gradle文件，现在我们将开始导航工作。如果您还没有检查，请看一下这个系列的第一部分。</p><ul class=""><li id="9b85" class="kq kr hi ju b jv ks jz kt kd ku kh kv kl kw kp kx ky kz la bi translated">第一部分。</li></ul><div class="lc ld ez fb le lf"><a href="https://github.com/PedroOkawa/app-blockchain-mkt" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab dw"><div class="lh ab li cl cj lj"><h2 class="bd hj fi z dy lk ea eb ll ed ef hh bi translated">佩德鲁卡瓦/app-区块链-市场</h2><div class="lm l"><h3 class="bd b fi z dy lk ea eb ll ed ef dx translated">该应用程序侧重于使用动态功能以及Hilt / Dagger2来请求区块链数据。</h3></div><div class="ln l"><p class="bd b fp z dy lk ea eb ll ed ef dx translated">github.com</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt io lf"/></div></div></a></div></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><h1 id="e8a3" class="iu iv hi bd iw ix mb iz ja jb mc jd je jf md jh ji jj me jl jm jn mf jp jq jr bi translated">航行</h1><p id="d045" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">我们的导航文件将包括我们的动态特性，这里我们必须关注一些细节，否则，你将面临一些问题(相信我，我有很多问题)。</p><figure class="mg mh mi mj fd ij"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="iq ir et er es is it bd b be z dx">nav_home</figcaption></figure><p id="18d8" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">如您所见，通过添加动态导航库，我们可以访问“include-dynamic”对象，这需要一些参数来使其工作，您可以在<a class="ae lb" href="https://developer.android.com/guide/navigation/navigation-dynamic" rel="noopener ugc nofollow" target="_blank">谷歌的文档页面</a>上查看这些参数，但是给您一个很好的提示是，您可以使用“${applicationId}”来避免错误键入路径，否则，您必须将其定义为:</p><pre class="mg mh mi mj fd mp mq mr ms aw mt bi"><span id="6daa" class="mu iv hi mq b fi mv mw l mx my">app:graphPackage="com.okawa.blockchain.mkt.stats"</span></pre><figure class="mg mh mi mj fd ij"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="iq ir et er es is it bd b be z dx">nav_pools</figcaption></figure><p id="5881" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">在我们的功能模块中，我们必须定义我们的导航文件，这里有一个最重要的细节，在我们的“nav_pools”上定义的id必须与在“nav_home”上创建的id相同。换句话说，<strong class="ju hj">不要</strong>在这里加加号:</p><pre class="mg mh mi mj fd mp mq mr ms aw mt bi"><span id="75f8" class="mu iv hi mq b fi mv mw l mx my">&lt;navigation xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/><strong class="mq hj">    android:id="@id/nav_pools" &lt;--- DO NOT ADD PLUS SIGN HERE</strong><br/>    app:startDestination="@id/fragment_pools"&gt;</span></pre><p id="68e8" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">如果您在这里添加加号，您将为导航文件声明一个新的id，它不会匹配，结果是这样的:</p><pre class="mg mh mi mj fd mp mq mr ms aw mt bi"><span id="4a5e" class="mu iv hi mq b fi mv mw l mx my">2021-03-04 18:21:27.913 22314-22314/com.okawa.blockchain.mkt E/AndroidRuntime: FATAL EXCEPTION: main<br/>    Process: com.okawa.blockchain.mkt, PID: 22314<br/>    java.lang.IllegalStateException: The included &lt;navigation&gt;'s id com.okawa.blockchain.mkt.pools:id/nav_pools is different from the destination id com.okawa.blockchain.mkt:id/nav_pools. Either remove the &lt;navigation&gt; id or make them match.</span></pre></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="cc89" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">现在，我们必须连接我们的功能，为此，我们将使用底部导航视图，首先定义将要使用的菜单。</p><figure class="mg mh mi mj fd ij"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="iq ir et er es is it bd b be z dx">menu_bottom_home</figcaption></figure><p id="993d" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">id在这里也必须匹配，如果不匹配，应用程序不会崩溃，但导航不会采取任何行动，正如你在下一个动画中看到的。</p><figure class="mg mh mi mj fd ij er es paragraph-image"><div class="er es mz"><img src="../Images/e0425856e5cd720cccbeef1c42552baf.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/1*owtm5UtIbzLTzUMLD_xX7w.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx">Non-matching ids error</figcaption></figure><p id="e754" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">现在我们将菜单添加到活动文件中，并使用<strong class="ju hj"> setupWithNavController </strong>函数以编程方式设置底部导航菜单。</p><figure class="mg mh mi mj fd ij"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="iq ir et er es is it bd b be z dx">activity_home</figcaption></figure><figure class="mg mh mi mj fd ij"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="iq ir et er es is it bd b be z dx">HomeActivity</figcaption></figure><p id="e892" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">瞧啊。！🎉<br/>我们现在已经有了动态导航功能，这篇文章到此为止。在我们的下一篇文章中，我们将设置刀柄和匕首来使用依赖注入。</p><p id="17d1" class="pw-post-body-paragraph js jt hi ju b jv ks jx jy jz kt kb kc kd mm kf kg kh mn kj kk kl mo kn ko kp hb bi translated">任何想法或建议，请添加一些评论。</p></div></div>    
</body>
</html>