<html>
<head>
<title>Scrape YouTube Search with Python (part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python抓取YouTube搜索(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/scrape-youtube-search-with-python-part-1-7521a0f40315?source=collection_archive---------11-----------------------#2021-06-20">https://medium.com/geekculture/scrape-youtube-search-with-python-part-1-7521a0f40315?source=collection_archive---------11-----------------------#2021-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/6adacccbc9b946734c970276452303e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qVDDw6VXIfm925IZ.jpg"/></div></div></figure><div class=""/><p id="c80f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">内容:<a class="ae jo" href="#8f9b" rel="noopener ugc nofollow">简介</a>，<a class="ae jo" href="#3eec" rel="noopener ugc nofollow">导入</a>，<a class="ae jo" href="#dc4e" rel="noopener ugc nofollow">视频搜索</a>，<a class="ae jo" href="#b9cf" rel="noopener ugc nofollow"> fuckit模块</a>，<a class="ae jo" href="#7c3d" rel="noopener ugc nofollow">广告</a>，<a class="ae jo" href="#5d08" rel="noopener ugc nofollow">频道结果</a>，<a class="ae jo" href="#790c" rel="noopener ugc nofollow">链接</a>，<a class="ae jo" href="#de4c" rel="noopener ugc nofollow"> outro </a>。</p><h1 id="8f9b" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">介绍</h1><p id="e16d" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">这篇博文将展示如何抓取YouTube有机搜索、广告和频道结果。</p><p id="cf3b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">每个部分都有一个屏幕截图，显示正在刮削的部分。</strong></p><p id="fb6d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我决定使用不是最快的解决方案<code class="du ks kt ku kv b">Selenium</code>,但是我想把所有东西都放到搜索结果页面的底部，这可以通过直接调用DOM来实现，如下所示:</p><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="3eec" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">进口</h1><pre class="kw kx ky kz fd lc kv ld le aw lf bi"><span id="4dbf" class="lg jq ht kv b fi lh li l lj lk">from selenium import webdriver<br/>from serpapi import GoogleSearch<br/>import json, time # this two could be skipped (prettier output/time buffer)</span></pre><h1 id="dc4e" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">视频搜索结果</h1><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ll"><img src="../Images/685057885cf0f5e3a736943bafa74df7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WnbqSRdwaRQdsaPs.png"/></div></div></figure><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="b9cf" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><a class="ae jo" href="https://github.com/ajalt/fuckitpy" rel="noopener ugc nofollow" target="_blank"> Fuckit模块</a></h1><p id="5b11" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">如果你不喜欢太多的<code class="du ks kt ku kv b">try/except</code>块或者你说:“<a class="ae jo" href="https://github.com/ajalt/fuckitpy#the-python-error-steamroller" rel="noopener ugc nofollow" target="_blank"> <em class="lm">某些代码有错误？去他妈的。</em> </a>"，然后您可以使用<a class="ae jo" href="https://github.com/ajalt/fuckitpy#as-a-context-manager" rel="noopener ugc nofollow" target="_blank"> fuckit </a>模块中的上下文管理器继续运行，跳过导致错误的语句:</p><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="bde4" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用<a class="ae jo" href="https://serpapi.com/youtube-video-results" rel="noopener ugc nofollow" target="_blank"> YouTube视频结果API </a></h1><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="7c3d" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">广告结果</h1><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ll"><img src="../Images/a6648c64898a964025a7c0af4812fa52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5xDhwDlV271cyRX9.png"/></div></div></figure><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="5d6c" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用<a class="ae jo" href="https://serpapi.com/youtube-ad-results" rel="noopener ugc nofollow" target="_blank"> YouTube广告结果API </a></h1><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="5d08" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">渠道结果</h1><figure class="kw kx ky kz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ll"><img src="../Images/289956000b8fecd4b7a1ed69dac2ec9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hzgw7KE-PhxZ4pi7.png"/></div></div></figure><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="7284" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">使用<a class="ae jo" href="https://serpapi.com/youtube-channel-results" rel="noopener ugc nofollow" target="_blank"> YouTube频道结果API </a></h1><figure class="kw kx ky kz fd hk"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="790c" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">链接</h1><p id="65f6" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><a class="ae jo" href="https://replit.com/@DimitryZub1/Scrape-YouTube-Search-organic-ads-channel-results#main.py" rel="noopener ugc nofollow" target="_blank">在线IDE中的代码</a> <br/> <a class="ae jo" href="https://serpapi.com/youtube-search-api" rel="noopener ugc nofollow" target="_blank"> YouTube搜索引擎结果API </a></p><h1 id="de4c" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结尾部分</h1><p id="231e" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">你也可以通过使用<code class="du ks kt ku kv b">requests-html</code>库抓取YouTube，你仍然需要通过调用<code class="du ks kt ku kv b"><a class="ae jo" href="https://docs.python-requests.org/projects/requests-html/en/latest/#javascript-support" rel="noopener ugc nofollow" target="_blank">html.render()</a></code>来渲染页面，我没有测试它比<code class="du ks kt ku kv b">selenium</code>快多少。</p><p id="d144" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ks kt ku kv b">Selenium</code>也可以在Firefox中运行<a class="ae jo" href="https://www.selenium.dev/documentation/en/driver_idiosyncrasies/driver_specific_capabilities/#firefox" rel="noopener ugc nofollow" target="_blank">无头</a>模式。如果第一个解决方案不适合你，看看StackOverflow的<a class="ae jo" href="https://stackoverflow.com/a/55834112/15164646" rel="noopener ugc nofollow" target="_blank"> this </a>或<a class="ae jo" href="https://stackoverflow.com/a/53967684/15164646" rel="noopener ugc nofollow" target="_blank"> this </a>答案。Firefox webdriver <a class="ae jo" href="https://github.com/mozilla/geckodriver/releases/" rel="noopener ugc nofollow" target="_blank">下载</a>。</p><p id="922a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者如果你在Chrome上使用<code class="du ks kt ku kv b">selenium</code>，你可以像<a class="ae jo" href="https://stackoverflow.com/a/46929945/15164646" rel="noopener ugc nofollow" target="_blank">这样做</a>。Chrome webdriver <a class="ae jo" href="https://github.com/ajalt/fuckitpy" rel="noopener ugc nofollow" target="_blank">下载</a>。</p><p id="465a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想知道如何用SerpApi做一些特别的东西或项目，请给我写个消息。</p></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><p id="8582" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lm">原载于2021年6月20日</em><a class="ae jo" href="https://dev.to/dimitryzub/scrape-youtube-search-with-python-part-1-j12" rel="noopener ugc nofollow" target="_blank"><em class="lm">https://dev . to</em></a><em class="lm">。</em></p></div></div>    
</body>
</html>