<html>
<head>
<title>GraphQL: The Good, The Bad, and The Bottomline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL:好的、坏的和底线</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/graphql-the-good-the-bad-and-the-bottomline-623de7dbcffb?source=collection_archive---------9-----------------------#2021-11-28">https://medium.com/geekculture/graphql-the-good-the-bad-and-the-bottomline-623de7dbcffb?source=collection_archive---------9-----------------------#2021-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c4fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GraphQL不同方面的概述</p><blockquote class="jd je jf"><p id="74ef" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">“只知道自己一方情况的人对此知之甚少。他的理由可能是好的，可能没有人能够反驳。但是，如果他同样无法反驳相反方面的理由，如果他甚至不知道它们是什么，他就没有理由倾向于任何一种意见……他从自己的老师那里听到对手的意见也是不够的，因为他们陈述这些意见，并伴随着他们提供的反驳。他必须能够从真正相信它们的人那里听到它们……他必须知道它们最可信和最有说服力的形式。”</p><p id="fdc5" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">― <strong class="ih hj">约翰·斯图亚特·密尔、</strong> <a class="ae jk" href="https://www.google.com/books/edition/On_Liberty/3xARAAAAYAAJ?hl=en&amp;gbpv=1" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">论自由</strong> </a></p></blockquote><p id="3e70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近，我真的迷上了GraphQL，并开始向我能找到的每一个人传播福音，但我看到了两个视频(见帖子底部)让我停顿了一下。他们都没有真正抨击graph QL——相反，他们试图展示基于多年经验的争论的另一面。</p><p id="970f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我想我会尝试阐明GraphQL的平衡立场，让读者决定他们对它的感受。不过，我要声明，我仍然是GraphQL的超级粉丝——但是我对使用GraphQL的优点和缺点有着成熟的理解</p><p id="f58a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">好的</strong></p><p id="4d00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GraphQL基于这样一个想法，即我们可以像遍历图形一样遍历数据库。假设我想得到德里克的朋友，我可以得到德里克的朋友，但我也可以得到德里克的朋友的朋友。也就是说，我不仅可以获得到给定数据节点的直接连接，还可以获得来自该节点的所有路径。美妙之处在于，我可以明确地请求它，并且在前端没有任何设置的情况下获得它。所有这些都在后端的一个调用中！</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/24297dd76e36e9c075530c5622005d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/0*OUAi8EWHR_T5ymMB.png"/></div></figure><p id="5bde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这可以用任何数据来完成。GraphQL网站使用的例子是书籍和作者——我可以获得一个作者列表，然后获得他写的书籍，并根据流派获得类似的书籍。所有这一切只需调用一次我的API！</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="5b0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GraphQL的另一个优点是它有内置的文档。它有一个漂亮的界面(取决于您使用的语言和软件包),在这里您可以尝试对后端的某些调用——称为查询或变异。Graphiql会自动为您生成一个文档，详细解释您的后端是如何构建的，而不必自己编写文档。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es ka"><img src="../Images/addbdc3c5d3973438ae86e01748b60b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MrOWuBpj6u4PCQkD.jpg"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="bf1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GraphQL的另一个绝对惊人的方面是它将权力放在了前端开发人员身上。前端决定它想要什么，<strong class="ih hj"> <em class="jg">只有</em> </strong>得到它所要求的。即使你需要的数据有很多字段，但是你只想要几个，那也是你所能得到的。不多不少。这彻底颠覆了权力动态。这也意味着前端不会因为不想要或不需要的数据而变得臃肿。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="499f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有这些的一个好处是GraphQL附带了一个类型化系统。一切都是打字的，清晰的，有打字的所有好处。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="500b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">坏了</strong></p><p id="ff48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们解决房间里的大象:GraphQL是新的。有些人可能会对GraphQL望而却步，认为它是新的东西，并因此而放弃它。这是有一定道理的。GraphQL在给定语言和生态系统中的实现还不太成熟。他们准备好战斗了吗？他们准备好生产了吗？如果你是一家公司，当GraphQL在你给定的语言中成熟时，你准备好改变实现了吗？这些都是实实在在的担忧。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="9b9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个可能发生的问题是，GraphQL API对数据库的影响可能比您想象的要大。不赘述，这个问题叫做<a class="ae jk" rel="noopener" href="/the-marcy-lab-school/what-is-the-n-1-problem-in-graphql-dd4921cb3c1a">“N+1问题”</a>。例如，如果您想获得一个图书列表，并获得这些图书的作者及其姓名和其他信息，您最终会比您拥有的作者数多查询一次数据库，即N+1，其中N是作者数。</p><p id="251a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一些方法可以解决这个问题，例如，通过一些缓存层或使用DataLoader(见下面的视频)，但这是一个针对GraphQL的合理问题。</p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="kf kg l"/></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="d5e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这只是其中的几个问题。我不打算深入讨论这些问题，但我只想讨论一些容易理解的大问题。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="c8d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我会说这真的取决于你的用例:你想构建什么？这是一个决定，但我认为GraphQL在很多情况下都是有益的。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="7c0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于激发这篇文章的视频，请参见:</p><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="kf kg l"/></div></figure><figure class="jm jn jo jp fd jq"><div class="bz dy l di"><div class="kf kg l"/></div></figure></div></div>    
</body>
</html>