<html>
<head>
<title>React Basics(With Hooks)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应基础(带挂钩)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/react-basics-with-hooks-298d4ac898d8?source=collection_archive---------26-----------------------#2021-03-28">https://medium.com/geekculture/react-basics-with-hooks-298d4ac898d8?source=collection_archive---------26-----------------------#2021-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c111" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你是React的新手，我强烈推荐从<a class="ae jd" href="https://reactwithhooks.netlify.app/" rel="noopener ugc nofollow" target="_blank"> React文档</a>开始，因为它们会给你关于我下面讨论的每个特性的更深入的解释。但是，如果您以前使用过React，并且只需要快速复习一下基础知识，那么这就是您应该去的地方！</p><p id="7889" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React(由脸书创建)是一个JavaScript库，可以相对快速简单地构建动态网页。在传统的网页中，您必须构建一个完整的HTML文件和脚本来更新DOM，而React允许您编写称为<em class="je">组件</em>的代码块，然后可以使用(和重用！)来组装你的网页。然后，这些组件可以使用<em class="je">状态</em>来自动更新自己，而不必重新加载或导航到不同的页面！</p><p id="2bc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建新的React应用</strong></p><p id="a3e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建一个新的React应用程序，请打开您的终端并输入以下内容，将“您的应用程序名称”替换为您想要命名的任何名称。</p><pre class="jf jg jh ji fd jj jk jl jm aw jn bi"><span id="a1d4" class="jo jp hi jk b fi jq jr l js jt">npx create-react-app your-app-name-here</span></pre><p id="3525" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">稍等片刻，等待包下载完成，现在您可以将cd下载到您新创建的应用程序文件夹中并运行</p><pre class="jf jg jh ji fd jj jk jl jm aw jn bi"><span id="3f6c" class="jo jp hi jk b fi jq jr l js jt">npm start</span></pre><p id="d879" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将在终端中得到一条消息，表明您的服务器已经打开，然后您的浏览器应该打开到<a class="ae jd" href="http://localhost:3000.;" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000。现在你已经准备好开始编码了！当您保存代码时，页面将自动刷新并显示您的更改，但是，有时您可能需要重新加载页面以清除页面上的数据，或者正确呈现新的组件。</a></p><p id="c4d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个有用的提示，尤其是如果您打算运行本地后端，是导航到您的react应用程序文件夹中的package.json文件，并在您的“react-scripts start”脚本前面添加PORT= ，如下所示</p><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ju"><img src="../Images/d939422141d1970a92007dde3e52640a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JJ02kvSW0rfhZOBIlFtG-w.png"/></div></div></figure><p id="0ec3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将在http://localhost:4000上启动React应用程序，然后您可以同时在https://localhost:3000上运行后端。</p><p id="e8bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要深入了解最初的创建过程，请查看这个<a class="ae jd" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">回购</a>。</p><p id="eaab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">构建您的应用</strong></p><p id="fd0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React应用是用JSX(JavaScript XML的缩写)编写的，本质上是JavaScript和HTML的结合。虽然您不必用JSX语言编写，但这使得创建组件变得容易得多。我们将在下面讨论用图片写JSX的一些怪癖，但首先，让我们谈谈组件。</p><p id="d853" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">组件的编写就像JavaScript函数一样，但是它们返回一个要在页面上呈现的元素。组件一次只能返回一个元素，但它们可以包含嵌套元素。</p><p id="38a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看下面代码中的注释，看看我们如何使用JSX来返回和呈现一个组件！</p><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kc"><img src="../Images/17b1ddcb6461b22ea3558a1b747d7b62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOkJDWssW6ShQCxMzoKvFQ.png"/></div></div></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kd"><img src="../Images/d74bdd51e266fad1a24303b4b5927d40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IeoGwJEKm3fK1VTgrX7dxg.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Code for App.js</figcaption></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ki"><img src="../Images/e8cb6b0d7bec2e83aeefc839c226a8e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ogGg0Qsd97l72sqAwtht0w.png"/></div></div></figure><p id="81ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你在最后一张图中看到的，我们有一个HTML页面，它的主体中有一个id为“root”的div，它来自我们的React应用程序在安装时附带的index.js。下一步是我们在App.js中声明的div，然后您可以看到从Component.js返回的所有代码都直接呈现在App.js div中，因为我们将它嵌套在<em class="je">片段</em>—&lt;&gt;和&lt; / &gt;标记中。</p><p id="2f33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里阅读更多关于JSX <a class="ae jd" href="https://reactwithhooks.netlify.app/docs/introducing-jsx.html" rel="noopener ugc nofollow" target="_blank">的信息！</a></p><p id="339b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">道具</strong></p><p id="c964" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Props(是<em class="je">属性</em>的缩写)用于将信息从父组件向下传递到子组件。</p><p id="5a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有几种不同的方式传递你的道具——选择你最舒服的方式！下面，您将看到声明同一个组件PropsExample的四种不同方式。请注意，PropsExample.js文件在其当前形式下无法工作，您需要删除所有选项，只保留一个选项。详细信息请查看下面代码中的注释！</p><p id="2672" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些都会呈现一个页面，上面写着“嗨，我是Bob，31岁！”</p><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kj"><img src="../Images/dca4f7601a718c484378a26b65bb4751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m21U-kWMz5Qx_ShhPmDC9A.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Four ways to use props passed down from a parent component.</figcaption></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kk"><img src="../Images/9f10bb54c47e4da494c2f7ab65f386b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oTrhHIqung3GBwf_cTPCA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">The App.js file that passes Props down to PropsExample.</figcaption></figure><p id="2faa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们有多个人使用相同的组件显示在页面上，我们需要确保为组件的每个呈现包含一个唯一的键——在下面的例子中，我们使用人的名字，但是一个好的选择通常是数据库中对象的id。不应在数组中使用对象的索引。React使用这些键来重新呈现单个组件——除了为其分配一个唯一的值之外，不应该在代码中使用它们。</p><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kl"><img src="../Images/b51166ebd15482ebbf4214cae8324255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oUPRvzPpkJQBVpGwgv6FxA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Adding unique keys to props.</figcaption></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div class="er es km"><img src="../Images/c7df9692865a4f384d5b0950cd5c4507.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*zbIR0JEbK805gHZ2Eg-P0Q.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx">The resulting webpage</figcaption></figure><p id="640d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里阅读更多关于组件和道具<a class="ae jd" href="https://reactwithhooks.netlify.app/docs/components-and-props.html" rel="noopener ugc nofollow" target="_blank">的内容！</a></p><p id="0e8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">使用状态、事件处理和受控表单</strong></p><p id="807d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React中最重要的特性之一是状态——它允许我们在页面上动态呈现变化。要使用state，我们需要将任何要使用State的组件顶部的导入行更改为以下内容—</p><pre class="jf jg jh ji fd jj jk jl jm aw jn bi"><span id="9e13" class="jo jp hi jk b fi jq jr l js jt">import React, {useState} from "react"</span></pre><p id="f5b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入后，我们可以调用useState函数，并将其赋给一个析构数组——该数组的第一个值保存状态本身的值，第二个值将是一个为状态赋值的函数——这是为状态赋值的唯一方法。</p><p id="475c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">状态只能在组件函数的顶层改变，不能在循环、条件或嵌套函数中改变。应该少用State只在数据将被页面上的事件改变时才使用它。</p><p id="4661" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要在React中处理事件，我们只需要给需要监听事件的元素添加一个事件处理函数，比如onClick或onSubmit。我们很快会在按钮上看到一个这样的例子，但是让我们先讨论一下受控窗体。</p><p id="8f84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">受控表单是react中表单的标准——我们使用状态来跟踪表单中的数据，并对字段的更改使用setter函数来不断更新状态的值。通过这样做，我们可以在我们的字段中添加动态验证，确保它们满足我们可能有的任何需求，比如长度或复杂性。</p><p id="65f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在接下来的代码截图中，您还会看到三元语句，这些语句根据条件语句的状态有条件地呈现页面的各个部分。这里有一个他们如何工作的快速回顾-</p><pre class="jf jg jh ji fd jj jk jl jm aw jn bi"><span id="d552" class="jo jp hi jk b fi jq jr l js jt">(*condition to check* ? *expression if condition is true* : *expression if condition is false*)</span></pre><p id="5db9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看下面代码中的注释，了解事件侦听器、状态和受控表单是如何工作的。</p><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kn"><img src="../Images/907aa51846df7af1f2e67091890cb598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wneUwJgddUMCMeRHz2iiFA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">App.js code w/ state and event handling</figcaption></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ko"><img src="../Images/f73f6b43a0c57388298056a214c24472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6kR7cF10Y57CIsxdcO8ugg.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Controlled form component</figcaption></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kp"><img src="../Images/082bacc34f694299868358c251237413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_msozw5ClPziDDkO0P7o_Q.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Page on load</figcaption></figure><figure class="jf jg jh ji fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kq"><img src="../Images/ae8ce90d81132e5a8db8fcdc3236585c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IbrtVTucnmnVPdo9UkD7Ag.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Page after button is clicked and form is submitted</figcaption></figure><p id="f9a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里阅读更多关于状态<a class="ae jd" href="https://reactwithhooks.netlify.app/docs/state-and-lifecycle.html" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="ced9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里阅读更多关于事件处理<a class="ae jd" href="https://reactwithhooks.netlify.app/docs/handling-events.html" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><p id="44d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里阅读受控表格<a class="ae jd" href="https://reactwithhooks.netlify.app/docs/forms.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="dcf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论</strong></p><p id="3efe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了这里介绍的内容，还有很多东西需要考虑，但希望这是对一些基础知识的有用回顾。点击这里查看其余的文档！</p></div></div>    
</body>
</html>