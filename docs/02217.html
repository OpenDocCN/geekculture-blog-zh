<html>
<head>
<title>Make the Next React Blog Site You Code Easier. Use Markdown Files.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你编写的下一个React博客网站更容易。使用降价文件。</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/make-the-next-react-blog-site-you-code-easier-use-markdown-files-8e2d3b684dfe?source=collection_archive---------14-----------------------#2021-05-07">https://medium.com/geekculture/make-the-next-react-blog-site-you-code-easier-use-markdown-files-8e2d3b684dfe?source=collection_archive---------14-----------------------#2021-05-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="00df" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">为markdown-to-jsx动态加载降价文件</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a815a37421cee481a197181992d9e544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*inFI_cmKicxU_Khh.png"/></div></div></figure><h1 id="0094" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">我正忙着如何在我的一个React组件中显示副本。</h1><p id="7986" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">而不是处理HTML <strong class="kd hj"> divs </strong>、<strong class="kd hj">段落</strong>、<strong class="kd hj">图片</strong>、<strong class="kd hj">* *表格** </strong>等。</p><p id="a2e9" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">我找到了一种方法来导入<strong class="kd hj">。md </strong> ( <em class="lc"> markdown </em>)文件我已经有了。</p><h2 id="4f33" class="ld jk hi bd jl le lf lg jp lh li lj jt kk lk ll jv ko lm ln jx ks lo lp jz lq bi translated">这一过程包括:</h2><ul class=""><li id="7ec7" class="lr ls hi kd b ke kf kh ki kk lt ko lu ks lv kw lw lx ly lz bi translated"><a class="ae ma" href="https://www.npmjs.com/package/markdown-to-jsx" rel="noopener ugc nofollow" target="_blank"><strong class="kd hj">markdown-to-jsx</strong></a></li><li id="b55d" class="lr ls hi kd b ke mb kh mc kk md ko me ks mf kw lw lx ly lz bi translated">对反应状态管理和生命周期了解不多；我们将在这里使用<strong class="kd hj">钩子</strong></li><li id="521b" class="lr ls hi kd b ke mb kh mc kk md ko me ks mf kw lw lx ly lz bi translated">对JavaScript <strong class="kd hj"> Fetch API </strong>了解很少(非常少的知识，不要担心)</li></ul></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><h1 id="8a63" class="jj jk hi bd jl jm mn jo jp jq mo js jt io mp ip jv ir mq is jx iu mr iv jz ka bi translated">我们需要做的第一件事是整理减价文件。</h1><p id="f940" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">我已经选择储存<strong class="kd hj">。<strong class="kd hj"> src </strong>目录下<em class="lc"> markdown </em>文件夹中的md </strong>文件。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ms"><img src="../Images/275f2bffb25a7dfe12030d86a4020bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/0*ZlQ-QfU5f2QgbHrp.png"/></div></figure></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><h1 id="06bb" class="jj jk hi bd jl jm mn jo jp jq mo js jt io mp ip jv ir mq is jx iu mr iv jz ka bi translated">下面是将所有内容整合在一起的代码。</h1><p id="71b7" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">下面是我将要解释的代码:</p><pre class="iy iz ja jb fd mt mu mv mw aw mx bi"><span id="3385" class="ld jk hi mu b fi my mz l na nb">// App.js</span><span id="5c88" class="ld jk hi mu b fi nc mz l na nb">import React, { useState, useEffect } from ‘react’;</span><span id="1662" class="ld jk hi mu b fi nc mz l na nb">import Markdown from ‘markdown-to-jsx’;</span><span id="8390" class="ld jk hi mu b fi nc mz l na nb">import ‘./styles/main_styles.css’;<br/></span><span id="fbfa" class="ld jk hi mu b fi nc mz l na nb">function App() {</span><span id="55cc" class="ld jk hi mu b fi nc mz l na nb">  const file_name = ‘react_pinterest_clone.md’;</span><span id="de8e" class="ld jk hi mu b fi nc mz l na nb">  const [post, setPost] = useState(‘’);</span><span id="6033" class="ld jk hi mu b fi nc mz l na nb">  useEffect(() =&gt; {</span><span id="4fcf" class="ld jk hi mu b fi nc mz l na nb">    import(`./markdown/${file_name}`)</span><span id="eaf1" class="ld jk hi mu b fi nc mz l na nb">      .then(res =&gt; {</span><span id="5bbf" class="ld jk hi mu b fi nc mz l na nb">        fetch(res.default)</span><span id="93bb" class="ld jk hi mu b fi nc mz l na nb">          .then(res =&gt; res.text())</span><span id="0554" class="ld jk hi mu b fi nc mz l na nb">          .then(res =&gt; setPost(res))</span><span id="f313" class="ld jk hi mu b fi nc mz l na nb">          .catch(err =&gt; console.log(err));</span><span id="be11" class="ld jk hi mu b fi nc mz l na nb">      })</span><span id="a459" class="ld jk hi mu b fi nc mz l na nb">      .catch(err =&gt; console.log(err));</span><span id="8286" class="ld jk hi mu b fi nc mz l na nb">  });</span><span id="bc3c" class="ld jk hi mu b fi nc mz l na nb">  return (</span><span id="c3c4" class="ld jk hi mu b fi nc mz l na nb">    &lt;div className=”container”&gt;</span><span id="456c" class="ld jk hi mu b fi nc mz l na nb">      &lt;Markdown&gt;</span><span id="504a" class="ld jk hi mu b fi nc mz l na nb">        {post}</span><span id="4061" class="ld jk hi mu b fi nc mz l na nb">      &lt;/Markdown&gt;</span><span id="3c65" class="ld jk hi mu b fi nc mz l na nb">    &lt;/div&gt;</span><span id="feaf" class="ld jk hi mu b fi nc mz l na nb">  );</span><span id="e2c2" class="ld jk hi mu b fi nc mz l na nb">}</span><span id="28ae" class="ld jk hi mu b fi nc mz l na nb">export default App;</span></pre><h2 id="34ce" class="ld jk hi bd jl le lf lg jp lh li lj jt kk lk ll jv ko lm ln jx ks lo lp jz lq bi translated"><strong class="ak">这里发生了4件关键的事情:</strong></h2><ol class=""><li id="9ebf" class="lr ls hi kd b ke kf kh ki kk lt ko lu ks lv kw nd lx ly lz bi translated">导入<strong class="kd hj"> markdown-to-jsx </strong>包。</li></ol><p id="4f8a" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">2.设置状态。</p><p id="7396" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">3.获取并显示降价。</p><p id="9486" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated"><strong class="kd hj">首先是</strong>，我们当然需要导入<strong class="kd hj"> markdown-to-jsx </strong>包。我们在返回街区使用它。</p><p id="82ff" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated"><strong class="kd hj">其次</strong>，我们设置我们将用来持有<strong class="kd hj">的状态。md </strong>数据。最初，我们将变量<strong class="kd hj"> post </strong>设置为一个<em class="lc">空白字符串</em>，并将其放置在<strong class="kd hj"> Markdown </strong>标签之间。</p><p id="f085" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">我们还有一个<strong class="kd hj">文件名</strong>来动态选择我们想要的降价文件。既然这样</p><p id="d86e" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">我对它进行了硬编码，但是您可以根据一些逻辑将其设置为您想要的任何值。</p><p id="667e" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated"><strong class="kd hj">第三</strong>，一旦我们的组件加载，<strong class="kd hj"> useEffect() </strong>，我们使用<strong class="kd hj"> **import** </strong>作为函数。</p><p id="0089" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">以这种方式使用的<strong class="kd hj">导入</strong>充当<em class="lc">承诺</em>并将绝对路径返回给我们的markdown文件。</p><p id="36ae" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">然后我们使用<strong class="kd hj">获取API </strong>获取我们想要的<strong class="kd hj"> markdown </strong>文件。</p><p id="e8e6" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">获取文件后，我们需要将响应解析为一个<strong class="kd hj">文本</strong>文件，然后将解析后的响应存储在我们的<strong class="kd hj"> post </strong>状态变量中。</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><h1 id="8f5e" class="jj jk hi bd jl jm mn jo jp jq mo js jt io mp ip jv ir mq is jx iu mr iv jz ka bi translated"><strong class="ak">就这么简单。</strong></h1><p id="70bd" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">你可以在这里 得到源文件<a class="ae ma" href="https://github.com/an-object-is-a/reactjs-markdown-dynamic-file" rel="noopener ugc nofollow" target="_blank"> <strong class="kd hj">。</strong></a></p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="e39c" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">如果你想要更深入的指导，可以看看我在YouTube上的完整视频教程，<a class="ae ma" href="https://www.youtube.com/c/anobjectisa" rel="noopener ugc nofollow" target="_blank"> <strong class="kd hj">一个物体是一个</strong> </a>。</p><p id="eb07" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">一定要在<a class="ae ma" href="https://www.instagram.com/an_object_is_a/" rel="noopener ugc nofollow" target="_blank"> <strong class="kd hj"> Instagram </strong> </a>和<a class="ae ma" href="https://twitter.com/anobjectisa1" rel="noopener ugc nofollow" target="_blank"> <strong class="kd hj"> Twitter </strong> </a>上关注我们，及时了解我们最新的<strong class="kd hj"> Web开发教程</strong>。</p><h2 id="c029" class="ld jk hi bd jl le lf lg jp lh li lj jt kk lk ll jv ko lm ln jx ks lo lp jz lq bi translated">为您的博客动态加载降价文件到React | Markdown-to-jsx</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ne nf l"/></div></figure></div></div>    
</body>
</html>