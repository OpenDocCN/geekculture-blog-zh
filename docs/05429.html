<html>
<head>
<title>Working Around JS Events: Click &amp; Submit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解决JS事件:单击并提交</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/working-around-js-events-click-submit-58b0d7725564?source=collection_archive---------39-----------------------#2021-07-20">https://medium.com/geekculture/working-around-js-events-click-submit-58b0d7725564?source=collection_archive---------39-----------------------#2021-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d7a3083b7e44fafd9212ad71fee7707b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GvGHNMEf9Q1L9sio"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3518" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">自从开始学习JavaScript以来，我很快发现在学习另一种编程语言之前，我还有很多工作要做。我花了2020年的大部分时间和Ruby一起工作，但是2021年很快就变成了关于JS的。这种语言的一个方面，我仍然很难学习的是处理事件。在FlatIron的第三阶段，我两次未能通过代码挑战，因此不得不重新进入这一阶段，但老实说，我很高兴能有时间学习。那段时间，我把注意力集中在两个常见的、让我纠结的事件上:“点击”和“提交”。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/3b63bda910a760ec5bc53e172bd56427.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*nr4A0eYrVINULttIZFZT2Q.jpeg"/></div></figure><h2 id="ec17" class="kf kg hi bd kh ki kj kk kl km kn ko kp jg kq kr ks jk kt ku kv jo kw kx ky kz bi translated">点击</h2><p id="7340" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi translated">当指针位于元素内部时，按下并释放定点设备按钮(如鼠标)会发生click事件。它在鼠标按下和鼠标抬起事件触发后触发，并且必须按顺序发生。</p><p id="a09c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以我下面提供的例子有一个按钮。当点击时，它会简单地呈现一只狗的随机图片。首先是HTML代码:</p><pre class="kb kc kd ke fd lf lg lh li aw lj bi"><span id="1f03" class="kf kg hi lg b fi lk ll l lm ln">&lt;html&gt;</span><span id="3cf4" class="kf kg hi lg b fi lo ll l lm ln">&lt;body&gt;</span><span id="96d6" class="kf kg hi lg b fi lo ll l lm ln">&lt;button id="btn" type="button"&gt;Click Me!&lt;/button&gt;</span><span id="2950" class="kf kg hi lg b fi lo ll l lm ln">&lt;/body&gt;</span><span id="4985" class="kf kg hi lg b fi lo ll l lm ln">&lt;/html&gt;</span></pre><p id="64d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来是包含一个<code class="du lp lq lr lg b">addEventListener</code>和两个函数的js文件。编写点击事件的示例语法如下:</p><pre class="kb kc kd ke fd lf lg lh li aw lj bi"><span id="2154" class="kf kg hi lg b fi lk ll l lm ln">document.getElementById('btn').addEventListener('click', firstThangsFirst)</span><span id="895b" class="kf kg hi lg b fi lo ll l lm ln"><br/>const BASE_URL = 'https://api.thedogapi.com/v1/images/search'</span><span id="74a8" class="kf kg hi lg b fi lo ll l lm ln"><br/>function firstThangsFirst() {</span><span id="c1dd" class="kf kg hi lg b fi lo ll l lm ln">fetch(BASE_URL)</span><span id="98e7" class="kf kg hi lg b fi lo ll l lm ln">.then(r =&gt; r.json())</span><span id="f7d7" class="kf kg hi lg b fi lo ll l lm ln">.then(dogThang =&gt; dogThang.forEach(renderDog))</span><span id="d132" class="kf kg hi lg b fi lo ll l lm ln">}</span><span id="6295" class="kf kg hi lg b fi lo ll l lm ln"><br/>function renderDog(dog) {</span><span id="9bff" class="kf kg hi lg b fi lo ll l lm ln">let home = document.querySelector('body')</span><span id="eed6" class="kf kg hi lg b fi lo ll l lm ln">const dogImg = document.createElement('img')</span><span id="0395" class="kf kg hi lg b fi lo ll l lm ln">dogImg.src = dog.url</span><span id="954f" class="kf kg hi lg b fi lo ll l lm ln">home.appendChild(dogImg)</span><span id="9ecd" class="kf kg hi lg b fi lo ll l lm ln">}</span></pre><p id="19ca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦用户点击按钮，他们应该会看到一个可爱的狗图片类似于下面的❤️.</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/565c1af16d6b305b2bc2cdf65c3dbd4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wEqSOC3UJdkAplUA.jpg"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/40df605a0f09bfc0177d4653d4500fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S1hybHMj-xqfzdsBlEpkgA.jpeg"/></div></div></figure><h2 id="250e" class="kf kg hi bd kh ki kj kk kl km kn ko kp jg kq kr ks jk kt ku kv jo kw kx ky kz bi translated">使服从</h2><p id="27de" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi translated">当提交一个<code class="du lp lq lr lg b">&lt;form&gt;</code>时，就会发生一个<code class="du lp lq lr lg b">submit</code>事件。值得注意的是，它是在<code class="du lp lq lr lg b">&lt;form&gt;</code>元素本身上触发的，而不是在它内部的<code class="du lp lq lr lg b">&lt;button&gt;</code>或<code class="du lp lq lr lg b">&lt;input type="submit"&gt;</code>上触发的。现在，当触发提交事件时，需要<code class="du lp lq lr lg b">&lt;button&gt;</code>(与提交按钮关联)和<code class="du lp lq lr lg b">&lt;input type="text"</code>(当用户在字段中按下<code class="du lp lq lr lg b">enter</code>时关联)。</p><p id="888e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面的例子包含了一个带有按钮的表单，点击这个按钮会显示祝贺信息。首先是HTML代码:</p><pre class="kb kc kd ke fd lf lg lh li aw lj bi"><span id="27cb" class="kf kg hi lg b fi lk ll l lm ln">&lt;html&gt;</span><span id="457b" class="kf kg hi lg b fi lo ll l lm ln">&lt;head&gt;</span><span id="4b1d" class="kf kg hi lg b fi lo ll l lm ln">&lt;/head&gt;</span><span id="35ec" class="kf kg hi lg b fi lo ll l lm ln">&lt;body&gt;</span><span id="6555" class="kf kg hi lg b fi lo ll l lm ln">&lt;form id="form"&gt;</span><span id="f9e6" class="kf kg hi lg b fi lo ll l lm ln">&lt;label&gt;Random form: &lt;input type="text"&gt;&lt;/label&gt;</span><span id="bc46" class="kf kg hi lg b fi lo ll l lm ln">&lt;br&gt;&lt;br&gt;</span><span id="e034" class="kf kg hi lg b fi lo ll l lm ln">&lt;button type="submit"&gt;Submit form&lt;/button&gt;</span><span id="e399" class="kf kg hi lg b fi lo ll l lm ln">&lt;/form&gt;</span><span id="38cf" class="kf kg hi lg b fi lo ll l lm ln">&lt;p id="response"&gt;&lt;/p&gt;</span><span id="886e" class="kf kg hi lg b fi lo ll l lm ln">&lt;/body&gt;</span><span id="8c1c" class="kf kg hi lg b fi lo ll l lm ln">&lt;/html&gt;</span></pre><p id="afd5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来是包含一个<code class="du lp lq lr lg b">.addEventListener</code>和一个函数的js文件:</p><pre class="kb kc kd ke fd lf lg lh li aw lj bi"><span id="1618" class="kf kg hi lg b fi lk ll l lm ln">const form = document.getElementById('form');</span><span id="ab10" class="kf kg hi lg b fi lo ll l lm ln">const response = document.getElementById('response');</span><span id="5d2b" class="kf kg hi lg b fi lo ll l lm ln">form.addEventListener('submit', handleSubmit);</span><span id="3113" class="kf kg hi lg b fi lo ll l lm ln">let today = new Date();</span><span id="467f" class="kf kg hi lg b fi lo ll l lm ln">function handleSubmit(event) {<br/>response.textContent = `Congrats! Your Form Has Been Submitted on ${today}!`;<br/>event.preventDefault();<br/>}</span></pre><p id="5416" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用户单击该按钮后，应该会看到类似下面示例的结果。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/bf0fce3fd3c29a64e70aba78652f734e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_IIiBQ0Hsx59Qr2Gu4hjvg.png"/></div></div></figure><p id="c270" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请随意评论、分享和查看下面发布的一些资源。感谢阅读！</p><div class="lv lw ez fb lx ly"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">元素:单击事件-Web API | MDN</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">当定点设备按钮(如鼠标的主鼠标按钮)同时为……时，元素接收click事件</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">developer.mozilla.org</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm io ly"/></div></div></a></div><div class="lv lw ez fb lx ly"><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">html element . click()-Web API | MDN</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">HTMLElement.click()方法模拟鼠标单击元素。当click()与支持的元素一起使用时…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">developer.mozilla.org</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm io ly"/></div></div></a></div><div class="lv lw ez fb lx ly"><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit_event" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">HTMLFormElement:提交事件-Web API | MDN</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">请注意，submit事件在元素本身上触发，而不是在任何元素或元素内部触发。但是，SubmitEvent是…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">developer.mozilla.org</p></div></div><div class="mh l"><div class="mo l mj mk ml mh mm io ly"/></div></div></a></div><div class="lv lw ez fb lx ly"><a href="https://www.w3schools.com/js/js_htmldom_eventlistener.asp" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">JavaScript DOM事件监听器</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">组织良好，易于理解的网站建设教程，有很多如何使用HTML，CSS，JavaScript的例子…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">www.w3schools.com</p></div></div><div class="mh l"><div class="mp l mj mk ml mh mm io ly"/></div></div></a></div></div></div>    
</body>
</html>