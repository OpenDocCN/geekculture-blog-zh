<html>
<head>
<title>System Design Interview For Mobile Engineers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">移动工程师系统设计面试</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/system-design-interview-for-mobile-engineers-ce712d6ac2c1?source=collection_archive---------0-----------------------#2021-10-31">https://medium.com/geekculture/system-design-interview-for-mobile-engineers-ce712d6ac2c1?source=collection_archive---------0-----------------------#2021-10-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="c919" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">摇滚你的下一个移动系统设计面试。</h2><div class=""/><div class=""><h2 id="ee6b" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">移动系统设计面试终极指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es jg"><img src="../Images/dee431792b9420ffb3088e27aaeee6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*2EqyOgiVQRA2OLnX"/></div></figure><p id="1193" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs">简介</strong></p><p id="8412" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">随着你在软件工程领域资历的增加，系统设计面试成为最重要的面试。这次面试的重点是你作为一名工程师从整体水平看待和理解应用程序设计的能力。您应该从一个高层次的视图开始，然后深入研究各个组件。</p><p id="c17a" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在本文中，我通过一个例子分享了我解决系统设计面试问题的方法。听起来很有趣？…继续阅读</p><p id="da78" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我发现系统设计面试很有趣，因为它们最现实、最全面，并且涉及到很好的沟通技巧。</p><p id="d559" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs">着手解决系统设计问题</strong></p><p id="b244" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">所以我看了不同种类的系统设计面试教程，并制作了自己的定制脚本，这对我这个移动开发人员来说很有意义。无论如何，这是一个全面的清单，这只是对我有用的东西。这里是我用来解决系统设计问题的不同部分的概要。这是我的食谱👇</p><p id="2357" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">1.<strong class="jq hs">功能需求</strong> —从定义应用的用例及一些功能开始。</p><p id="cee0" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">2.<strong class="jq hs">非功能性需求</strong> —定义性能、体验和规模需求。</p><p id="b4c9" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">3.<strong class="jq hs">假设</strong> —定义问题的边界、任何规模约束、您将使用的功能等。</p><p id="d400" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">4.<strong class="jq hs">客户端-服务器通信</strong> —定义连接选项，如HTTP请求、轮询、服务器端事件。</p><p id="33e7" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">5.<strong class="jq hs"> API设计</strong> —为您正在构建的特性定义端点。</p><p id="d978" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">6.<strong class="jq hs">数据模型</strong> —定义对象的数据模型字段。</p><p id="78cb" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">7.<strong class="jq hs">应用流程(用例流程)</strong> —定义并浏览您正在设计的功能的用户流程。</p><p id="a092" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">8.<strong class="jq hs">性能&amp;工具</strong> —定义您将如何收集数据和指标，以了解应用程序的执行情况—内存利用率、CPU利用率。</p><p id="c15d" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">9.ADA——确保你定义了可访问性特征，以及如何让应用程序变得可访问。</p><p id="2e59" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">10.<strong class="jq hs">国际化</strong> —随着应用程序的国际化发展，你将如何应对？</p><p id="0b3c" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">11.<strong class="jq hs">安全性</strong> —定义如何保护应用程序。</p><p id="7afb" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，让我们用一个例子来处理一个系统设计问题，来解释我如何使用这个结构。我使用一个名为<a class="ae kk" href="https://excalidraw.com/" rel="noopener ugc nofollow" target="_blank"> excalidraw </a>的免费工具来绘制我的组件。你可以使用任何你喜欢的工具来绘制图表。假设你被要求设计一个应用程序，列出你周围有趣的地方。</p><p id="13f7" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs">设计一个应用程序，列出你周围有趣的地方</strong></p><p id="6aeb" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">1.<strong class="jq hs">功能需求</strong></p><ul class=""><li id="5a3c" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated">显示我周围有趣地方的列表。</li><li id="15bf" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">当我向下滚动时加载更多</li></ul><p id="85c3" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">2.<strong class="jq hs">非功能需求</strong></p><ul class=""><li id="f1d6" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated">该列表应该加载非常快或者具有低延迟</li><li id="6c8a" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">列表不应抖动</li><li id="b4e3" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">应该可以平滑滚动</li></ul><p id="48d4" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">3.<strong class="jq hs">假设</strong></p><ul class=""><li id="16f0" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated">日活跃用户有多少？</li><li id="dc11" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated">API是可用的，我们需要明智地使用它们</li></ul><p id="aeaf" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">4.<strong class="jq hs">客户端-服务器通信</strong></p><p id="8b16" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">主要有以下客户端与服务器对话的方式/协议。给面试官定义一下，你要用哪一个。对于我们的用例，常规的http请求就可以了，但是让我来分享一下所有的选项，以及为什么你会在你的特定情况下使用一个而不是另一个。</p><ul class=""><li id="840d" class="kl km hi jq b jr js ju jv jx kn kb ko kf kp kj kq kr ks kt bi translated"><strong class="jq hs">常规HTTP请求</strong> —这是最常见的用例场景，其中客户端向服务器请求数据/资源。例如，获取提要中的提要条目列表。</li><li id="8463" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hs">轮询</strong> —这种通信方式有以下几种</li><li id="02ef" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hs">定期轮询</strong> —客户端可以不断向服务器发出请求以获取最新信息，但很多时候服务器可能没有任何更新。这不仅导致大部分时间的空响应，而且在多次设置HTTP连接时浪费资源。</li><li id="50d0" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hs">长轮询</strong> —如果我们有一个用例，我们知道我们不会从服务器频繁更新。在这种情况下，我们能做的就是使用长轮询。客户端将建立与服务器的HTTP连接，并保持与服务器的连接打开，以便服务器可以在需要推送更新时向客户端推送更新。这样我们就省去了打开和关闭与服务器连接的无用工作。请记住，这个长轮询连接也可能超时，因此我们需要重新启动连接。</li><li id="e9f5" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hs"> WebSockets </strong> —在客户端和服务器都可以发起通信并且客户端和服务器之间不断来回通信的情况下，我们可以使用WebSockets。这个用例的一个很好的例子就是聊天应用程序。</li><li id="28a3" class="kl km hi jq b jr ku ju kv jx kw kb kx kf ky kj kq kr ks kt bi translated"><strong class="jq hs">服务器端事件(SSE)——</strong>客户端与服务器建立持久且长期的连接。服务器使用此连接发送数据。客户端处于监听模式，因为只有服务器可以与客户端通信。如果客户端需要与服务器通信，它需要使用不同的协议。比如说，我们有一个社交媒体应用程序，可以列出朋友的订阅源。但是现在，如果在我们使用应用程序时有更新发生，客户端可以通过服务器端事件(SSE)协议轻松获得这些更新。</li></ul><p id="af30" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> 5。API设计</strong></p><p id="ae19" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">API通过协议相互通信。常见的协议有SOAP、REST和GraphQL。关于这些的细节不是这个博客的一部分，但你可以很容易地搜索。对于我们这里的用例来说，REST应该没问题，它将适用于大多数其他用例。根据我们的要求，以下几点是明确的:</p><p id="9fc9" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">a)我们需要一个地点列表</p><p id="f12e" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">b)由于我们列出了附近的地方，我们想到的一件事是API调用需要某种位置信息来返回数据。这可以是我们的查询参数。</p><p id="62e6" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">c)考虑到这是一个移动应用程序，我们没有像台式机或笔记本电脑那样的计算/连接和能力等无限资源，我们需要小心我们应该获取的数据量。因此，如果能够分段获取数据，并在需要时获取更多数据，那就太好了。所以我们需要能够请求数据片段，这就是分页的用武之地。基于偏移量、键集和光标是分页服务器支持的不同类型。如果您还不知道这些，请了解更多信息。</p><p id="e91e" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于我们的用例，我们可以选择其中任何一个，但是要确保您对分页是如何工作的有所了解。我们将选择偏移分页。因此，我们将有一个页码和页数限制来限制资源的数量。考虑到这一点，我们的API应该是这样的</p><p id="1e69" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">得到<strong class="jq hs">——/名额？lat = { }&amp;long = { }&amp;page = { }&amp;page limit = { }</strong></p><p id="bfdf" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> 6。数据模型</strong></p><p id="83c8" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这一节中，我们将介绍对我们的用例有意义的潜在数据模型。考虑到我们得到了一个列表，我们的数据模型可能看起来像这样👇</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es jg"><img src="../Images/02c0c0ae06abe7e2a9a548fd958d1379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*_e7T39MC3VqoLQ2c.png"/></div></figure><p id="a5c0" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> 7。App流程</strong></p><p id="387e" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在本节中，我们将讨论应用程序的流程。我们可以使用任何符合您需求的设计模式。可以是MVC —模型视图控制器、MVVM —模型视图视图模型、MVP —模型视图演示器、VIPER等。对于我们的简单用例，我使用MVVM。您应该使用在您的用例中有意义的模式，并且您可以选择捍卫它。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es kz"><img src="../Images/66c126039f41aaf50e0dc44334bb5ead.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/0*LyCF4MkKI1HIYeRj.png"/></div></figure><p id="e464" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> 8。性能</strong></p><p id="169f" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是解决您的非功能性需求和任何其他与性能相关的项目的部分。在本节中，我们将讨论所有可以提高应用性能的方法。</p><p id="9c89" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">a) <strong class="jq hs">显示框架</strong> —感觉有东西在加载，让用户感觉数据加载得更快了。在加载数据时显示一些框架块会对用户体验产生巨大影响</p><p id="0ea4" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">b) <strong class="jq hs">使用尺寸合适的图像</strong>。如果API支持高度和宽度作为查询参数，那么您将获取对您的移动设备有意义的资源。用户的眼睛无法分辨图像大小之间的差异，但这对应用程序的性能有着巨大的影响，因为你加载的数据较少。</p><p id="54ea" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">c) <strong class="jq hs">使用内容交付网络(CDN) </strong>进行静态图像缓存，帮助更快地交付内容。在我们将CDN用于图像和静态内容的用例中，这将缓存位置描述和图像。</p><p id="5698" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">d) <strong class="jq hs">在后台线程</strong>上加载数据，这样主线程就不会被阻塞，UI也不会被卡住。</p><p id="63bc" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这些是一些表现良好的做法，还有其他方法，你可以在面试中深入了解。</p><p id="76c7" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">9.<strong class="jq hs">无障碍</strong></p><p id="9ca9" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们总是希望每个人都能使用我们的应用。为了让它真正具有包容性，我们需要关注应用程序的可访问性。以下是我们在解决可访问性方面可以做的一些事情:</p><p id="00c6" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">a)对库使用自动检查，例如:<a class="ae kk" href="https://github.com/google/GTXiLib" rel="noopener ugc nofollow" target="_blank"> GTXilib </a>这样他们可以确保每个UI元素都有一个标签，适当的特征，标签不是多余的。</p><p id="bd0d" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">b)确保颜色对比正确</p><p id="d0a7" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">c)每个目标尺寸至少为44pt</p><p id="6269" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">d)添加可访问性标注的自定义调用</p><p id="ed6a" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">e)使用合适的配色方案</p><p id="ffb3" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">f)支持动态字体</p><p id="1708" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我上面说的做法，可以应用到任何手机app上。你也可以在谷歌和苹果网站上阅读更多关于可访问性的信息。</p><p id="d24b" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> 10。国际化/本地化</strong></p><p id="9080" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">应用程序的国际化为其用户提供了本地和个人体验，这对应用程序的使用和采用有很大的帮助。通常，我们可以通过在应用程序中为内容/文本提供不同的本地化字符串文件来支持这一点。您还可以使用高级技术，比如将您的设备区域设置发送到服务器，然后服务器返回本地化文件。根据您的需要，您可以采取不同的途径来实现本地化。这是苹果公司的本地化指南。</p><p id="ed13" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> 11。安全性</strong></p><p id="403b" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">安全性是一个非常广泛而复杂的话题。作为一名移动应用程序的开发者，我通常会在我的应用程序中遵循一些提示和技巧。这里有一个<a class="ae kk" href="https://www.shashankthakur.dev/2020/09/how-to-make-ios-app-secure.html" rel="noopener ugc nofollow" target="_blank">链接</a>到一篇详细的文章，您可以在系统设计面试中遵循这篇文章的安全最佳实践。</p><p id="efdc" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs">结论</strong></p><p id="46a3" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">系统设计侧重于我们作为一名工程师从整体水平而非单个部分的本质来看待/理解应用程序设计的能力。在处理系统设计问题时，没有正确或错误的答案。它更多的是知道完成某一组需求的方法和手段。</p></div></div>    
</body>
</html>