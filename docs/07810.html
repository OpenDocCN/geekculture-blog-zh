<html>
<head>
<title>Hack This Site: Realistic Web Mission — Level 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">黑掉这个网站:现实的网络任务-第5级</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/hack-this-site-realistic-web-mission-level-5-876ff4cfe2ec?source=collection_archive---------6-----------------------#2021-10-02">https://medium.com/geekculture/hack-this-site-realistic-web-mission-level-5-876ff4cfe2ec?source=collection_archive---------6-----------------------#2021-10-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6331741881ee9c9c9ca4425ecbef9379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fDMF95bPzIXzDwK7Iemovg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Hack This Site: Realistic Web Mission — Level 5</figcaption></figure><p id="35d0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">今天我们来看看黑客网站现实任务5。这是一个有趣的挑战，要求您枚举web应用程序，然后破解发现的散列。为了完成这个任务，你需要一些关于Linux web服务器如何工作的基础知识，以及一些关于什么是密码散列和如何破解它们的知识。如果你没有看过我在现实系列上的其他帖子，你可以在这里看到:<a class="ae js" href="https://haxez.org/2021/09/hack-this-site-realistic-web-missions-level-1/" rel="noopener ugc nofollow" target="_blank">第一部分</a>、<a class="ae js" href="https://haxez.org/2021/09/hack-this-site-realistic-web-mission-level-2/" rel="noopener ugc nofollow" target="_blank">第二部分</a>和<a class="ae js" href="https://haxez.org/2021/09/hack-this-site-realistic-web-mission-level-3/" rel="noopener ugc nofollow" target="_blank">第三部分</a>。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/303e1ee6679358b708c637dd155f0d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*xDF5cu0GP1y5U2N1"/></div><figcaption class="iq ir et er es is it bd b be z dx">Realistic Web Mission — Level 5 Damn Telemarketers</figcaption></figure><p id="86ab" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个任务的目的是破解一个电话销售网站的密码。有了这个密码，我们就可以破坏数据库，从而恢复受害者的隐私。为了获得密码，我们需要浏览web应用程序来寻找线索。登录后，我们收到以下来自的信息</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/c6a1acae91d3a7ec506fdca217982556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*dIgLD3UgeOtb5m-U"/></div><figcaption class="iq ir et er es is it bd b be z dx">Message From Spiffomatic64</figcaption></figure><h1 id="dcc0" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">探索网络应用</h1><p id="8964" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">Spiffomatic64为我们提供了一个电话销售应用程序的链接。访问web应用程序时，我们会看到下图所示的页面。该应用程序具有一些基本功能，如新闻页面、联系人页面和数据库页面。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/7cef4867a8fc5d98fe6d4ec00aa973c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*_u22PVJvsob56egS"/></div><figcaption class="iq ir et er es is it bd b be z dx">Main Web Application Page</figcaption></figure><p id="0c7b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">导航到新闻页面会告诉我们关于应用程序的很多信息。可能比造物主应该告诉我们的还要多。例如，他们告诉我们网站以前被黑客攻击过。他们还告诉我们，谷歌正在抓取它不应该抓取的链接，所以他们采取了额外的预防措施。为了阻止google索引web应用程序的某些部分，您可以在您的域的根目录中添加一个<a class="ae js" href="https://en.wikipedia.org/wiki/Robots_exclusion_standard" rel="noopener ugc nofollow" target="_blank"> Robots排除标准</a>文件。通过向robots.txt文件添加URL，你是在告诉Google，下次它抓取应用程序时，你不希望这些URL被编入索引。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/25fb4d7c8a33b81378ce4b17b3517735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*zfI7RQ7iotykn7e_"/></div><figcaption class="iq ir et er es is it bd b be z dx">Main Web Application News Feed</figcaption></figure><h1 id="cb9e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">深入探究</h1><p id="8547" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">导航到robots.txt文件，我们可以看到该文件告诉所有用户代理(用星号表示)不允许索引/lib和/secret。搜索引擎蜘蛛有自己的用户代理，允许应用程序识别它们并将它们列入白名单。参见我在<a class="ae js" href="https://haxez.org/2021/09/bypass-web-application-paywalls-with-user-agent-switching/" rel="noopener ugc nofollow" target="_blank">用户代理切换</a>上的帖子，了解这可能会被滥用。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/27ddb3e17a3663a8d1eb5a2b54321989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*UE1--7I-b46Zg21b"/></div><figcaption class="iq ir et er es is it bd b be z dx">Main Web Application Robots.txt</figcaption></figure><p id="d5f1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">浏览这些目录会发现一些有趣的文件。首先，在秘密目录中，我们有一个admin.bak.php文件和一个admin.php文件。我们可以推断admin.bak.php很可能是admin.php文件的备份。试图访问admin.php文件会导致密码错误警告。这让我们可以断定admin.php页面就是我们试图访问的页面。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/1634f9ed3800c6d598f35b47953fadb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*vTh7cK2gIkyQGqKL"/></div><figcaption class="iq ir et er es is it bd b be z dx">Secret Directory Listing</figcaption></figure><p id="30cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来，让我们看看admin.bak.php的档案。我已经将这个文件的副本下载到我的虚拟机上，并使用cat命令来显示内容。我们可以从文件中看到有一个对MD4的引用。MD4是一种用于哈希密码的哈希算法。哈希密码试图在密码泄露的情况下保护密码。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/a725cf7e251fd4d787f9533bf37fd7fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*9R2Jp8v4DNWwZ0ox"/></div><figcaption class="iq ir et er es is it bd b be z dx">Backup Admin.php File MD4 Hash</figcaption></figure><h1 id="7749" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">应用黑客</h1><p id="8032" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">回到robots.txt文件，有另一个名为lib的目录。导航到这个目录会显示一个名为hash的文件。如果我们下载该文件并查看其内容，似乎我们已经恢复了密码哈希“51 ba 17 c 17338 c 1031 e 11432 DFB 47105 a”。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/d8f03782cb4a490c9697c939e3bad58d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*D_g2VlxhEZyzKiA1"/></div><figcaption class="iq ir et er es is it bd b be z dx">Lib DIrectory Listing</figcaption></figure><p id="e621" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">根据我们在admin.bak.php文件中找到的信息，我们可以有把握地假设散列是MD4。幸运的是，MD4是一种相当古老的哈希算法，很容易被破解。我试图使用crackstation.net和其他几个网站在线破解哈希，但似乎黑客网站的偷偷摸摸的管理员喜欢定期改变哈希，而这个哈希以前没有被破解过。所以为了破解这个难题，我们需要联系我们的老朋友约翰。使用开膛手约翰，我指定了MD4的格式，并告诉约翰要破解哪个文件。通常我会指定一个单词表，但我让John使用他的默认单词表。破解散列的命令如下。</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="f6c0" class="lg jz hi lc b fi lh li l lj lk">john --format=raw-MD4 &lt;file-to-crack&gt;</span></pre><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/a3ce88a5c02548a9605d4f82b88e6dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*yuNxIsj1ndIE55rb"/></div><figcaption class="iq ir et er es is it bd b be z dx">Hash Cracking MD4 With John The Ripper</figcaption></figure><p id="d687" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一旦恢复了正确的密码，您就可以转到主页上的数据库链接并粘贴它。这应该能完成任务。</p></div></div>    
</body>
</html>