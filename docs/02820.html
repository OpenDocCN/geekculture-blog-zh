<html>
<head>
<title>Creating a backend for CRUD application with NodeJS, ExpressJS, and MongoDB (Part 2 of 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NodeJS、ExpressJS和MongoDB为CRUD应用程序创建后端(第2部分，共2部分)</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/creating-a-backend-for-crud-application-with-nodejs-expressjs-and-mongodb-part-2-of-2-d997d94dcbd2?source=collection_archive---------7-----------------------#2021-05-26">https://medium.com/geekculture/creating-a-backend-for-crud-application-with-nodejs-expressjs-and-mongodb-part-2-of-2-d997d94dcbd2?source=collection_archive---------7-----------------------#2021-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/84e6716d2335390309b21c45fad22ef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FyohDhzkGwssERzgPZK9w.png"/></div></div></figure><p id="b2ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你还没有读过第一部分，你可以在这里找到。</p><p id="4169" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在第2部分中，我们将介绍:</p><ol class=""><li id="30a8" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">创建与MongoDB通信的模型。</li><li id="02f1" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">为GET请求设置控制器和快速路由器。</li><li id="4296" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">创建其余的路线。</li></ol></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="b6be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第二部分</strong></p><ol class=""><li id="8448" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated"><strong class="is hj">创建与MongoDB通信的模型。</strong></li></ol><p id="8b3e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在项目文件夹中，创建一个名为“models”的文件夹。在该文件夹中创建一个文件<strong class="is hj"> project.js </strong>:</p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/df203f210c5cf13c9ddd1352f3cdeed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*yHYXsAouaDgpe5U6qBnHwg.png"/></div></figure><p id="e1b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将mongose库导入到<strong class="is hj"> project.js </strong>文件中，并创建mongose模式。<strong class="is hj">数据库模式</strong>是一个抽象的设计，表示数据库中数据的存储。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="1793" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们继续指定<code class="du kr ks kt ku b">projectSchema</code>(这就像一个指定数据类型和是否需要的模板)。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="a4bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的项目模板包含字符串类型的项目名称、项目状态、项目经理和数字类型的项目成本。我们不需要有项目id，因为MongoDB会自动为我们生成项目id。</p><p id="cee2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在文件的最后，我们将projectSchema分配给我们的模型，然后导出它。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="c042" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.<strong class="is hj">为GET请求设置Express路由器和控制器。</strong></p><p id="f726" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们创建另外两个文件夹“控制器”和“路线”。然后，在相应的文件夹中创建<strong class="is hj"> projectController.js </strong>和<strong class="is hj"> projectRoutes.js </strong>。您的项目目录应该如下所示:</p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es kv"><img src="../Images/c450e4f1942288a3fd0b47aef788f1f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*PcVd8VpryD8IBkCbBm7T3g.png"/></div></figure><p id="8a09" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们需要安装两个依赖项，Express和CORS。在您的终端中运行以下每个命令来安装它们:</p><blockquote class="kw kx ky"><p id="17bd" class="iq ir kz is b it iu iv iw ix iy iz ja la jc jd je lb jg jh ji lc jk jl jm jn hb bi translated"><code class="du kr ks kt ku b"><strong class="is hj">npm install express</strong></code></p><p id="5c6e" class="iq ir kz is b it iu iv iw ix iy iz ja la jc jd je lb jg jh ji lc jk jl jm jn hb bi translated"><code class="du kr ks kt ku b"><strong class="is hj">npm install cors</strong></code></p></blockquote><p id="c61b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">跨来源资源共享</strong> ( <a class="ae jo" href="https://developer.mozilla.org/en-US/docs/Glossary/CORS" rel="noopener ugc nofollow" target="_blank"> CORS </a>)是一种基于<a class="ae jo" href="https://developer.mozilla.org/en-US/docs/Glossary/HTTP" rel="noopener ugc nofollow" target="_blank"> HTTP </a>报头的机制，它允许服务器指示除它自己以外的任何其他<a class="ae jo" href="https://developer.mozilla.org/en-US/docs/Glossary/Origin" rel="noopener ugc nofollow" target="_blank">来源</a> s(域、方案或端口),浏览器应该允许从这些来源加载资源。您可以在<strong class="is hj"> package.json </strong>文件中检查您的依赖项安装:</p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/ea554d46288f20fd2823707b89bd5947.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*QakcoYNrNz_al_SyJI3ZOA.png"/></div></figure><p id="96f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在index.js文件中，让我们导入CORS和Express。然后，我们通过调用<code class="du kr ks kt ku b">express()</code>创建一个Express应用程序，然后将它分配给一个<code class="du kr ks kt ku b">app</code>变量。我们还需要定义后端服务URL监听的端口:</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="de89" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您的计算机当前未使用的任何端口都可以。我会选择8080端口。</p><p id="ec0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们创建一个主页路由并在我们的应用程序上使用CORS策略，然后将端口分配给我们的应用程序。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="dac4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的整个index.js文件目前如下所示:</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="5efc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们回到我们的终端，再次运行<code class="du kr ks kt ku b">node index.js</code>，我们看到“服务器正在端口上运行…”和“数据库已连接”这两个消息被打印出来。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es le"><img src="../Images/9b4d21f21e128499cbff43c24e41c634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*lnrCxZudGKqWy7gZ6k9XVg.png"/></div></figure><p id="274d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们打开我们最喜欢的网络浏览器，进入“<a class="ae jo" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">http://localhost:8080</strong></a>”，我们会看到这条消息被打印在主页上:</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/c8b76961a6e317859cb8819496cc9d3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vq6w470vUpx-G0tNVsULyw.png"/></div></div></figure><p id="4fcc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们需要创建GET路由和该路由对应的控制器方法。这个GET路径显示了存储在Mongo数据库中的所有项目数据。</p><p id="e735" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们需要将我们在models文件夹中创建的<code class="du kr ks kt ku b">Project</code>模式导入到<strong class="is hj"> projectController.js </strong>中，这样我们就可以使用它与数据库进行通信。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="4757" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们创建一个方法来响应路由。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="6676" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kr ks kt ku b">project_get_all</code>方法返回存储在mongoDB中的所有项目列表。该方法使用<code class="du kr ks kt ku b">Project</code>模式来<code class="du kr ks kt ku b">find()</code>所有项目，然后通过<code class="du kr ks kt ku b">createdAt</code>标签以<code class="du kr ks kt ku b">-1</code>顺序<code class="du kr ks kt ku b">sort()</code>它们(降序/首先新建)。一旦<code class="du kr ks kt ku b">result</code>准备就绪，<code class="du kr ks kt ku b">res</code>发回状态码<code class="du kr ks kt ku b">200</code> (OK)和已经排序的<code class="du kr ks kt ku b">result</code>。如果在获取<code class="du kr ks kt ku b">result</code>时出现任何错误，则发送回状态代码<code class="du kr ks kt ku b">400</code>(错误请求)。</p><p id="5883" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<strong class="is hj"> projectRoutes.js </strong>中，为Express Router导入<code class="du kr ks kt ku b">express</code>，为我们刚刚创建的方法导入<code class="du kr ks kt ku b">projectController</code>以响应获取路由。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="84d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们通过添加以下代码行将项目route的“/”页面连接到其对应的控制器方法。之后，我们导出路由器。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="5c60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<strong class="is hj"> index.js里面我们还需要做一件事</strong>我们需要将项目路线添加到应用程序中。</p><p id="cfd9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们将刚刚创建的<code class="du kr ks kt ku b">projectRoutes</code>和<code class="du kr ks kt ku b">bodyParser</code>导入到<strong class="is hj"> index.js </strong>的开头:</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="7d6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，将其添加到<strong class="is hj"> index.js </strong>文件的末尾:</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="6e29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kr ks kt ku b">/projects</code>是指在<code class="du kr ks kt ku b">http://localhost:8080</code>的主页后添加<code class="du kr ks kt ku b">/projects</code>即可前往该路线(http://localhost:8080/projects)。</p><p id="b971" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，在您的终端中重新运行<code class="du kr ks kt ku b">node index.js</code>命令，并转到<a class="ae jo" href="http://localhost:8080/projects" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/projects</a>，您将看到一个空数组显示，因为我们的数据库中还没有任何数据:</p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/9ecfda9e5d5c1998d0bd20716a8a7ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*Qq17Ou3oPnqTlieIyzcmcw.png"/></div></figure><p id="210d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们回到MongoDB云，转到我们最初创建的集群，然后单击<code class="du kr ks kt ku b">Collection</code>按钮。在收集选项卡中，寻找<code class="du kr ks kt ku b">Insert Document</code>按钮，并在其中添加一些数据。添加数据时，要移动到下一个输入框，可点击键盘上的<code class="du kr ks kt ku b">Tab</code>。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/7177e135d2db1231f64d9437ed0f5e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HhpgqVZlbkSLOzARVo4ohg.png"/></div></div></figure><p id="155e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，回到<a class="ae jo" href="http://localhost:8080/projects" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/projects</a>并刷新它。您将看到数据现在显示出来:</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/7ee80237294636544c4dcdf9f4a24d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GKF3ZuzZJAUlGb-5XJ_CwA.png"/></div></div></figure><p id="3911" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本上，这是<a class="ae jo" href="http://localhost:8080/projects" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/projects</a>是一个URL，您可以从前端发送请求，从后端获取数据。</p><p id="8eca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.<strong class="is hj">创建其余路线:</strong></p><p id="e65e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">i) " <strong class="is hj"> GET /:id "路线:</strong></p><p id="3579" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们创建一个路由，您可以通过它的id获取特定的项目，它看起来像这样<strong class="is hj">http://localhost:8080/projects/:id</strong>，其中“:ID”是您想要获取的项目的ID。</p><p id="ffe0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们先在<strong class="is hj"> projectController.js </strong>中创建一个方法<code class="du kr ks kt ku b">project_get_byID()</code>:</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="f7fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kr ks kt ku b">req</code>是前端发送的输入请求，它应该有一个id参数(<code class="du kr ks kt ku b">req.params.id</code>)。然后我们使用给定的<code class="du kr ks kt ku b">id</code>通过ID使用<code class="du kr ks kt ku b">findById()</code> mongoDB方法找到项目。不要忘记在文件末尾导出<code class="du kr ks kt ku b">project_get_byID()</code>方法。</p><p id="105e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之后，在<strong class="is hj"> projectRoutes.js </strong>中，我们创建一个route <code class="du kr ks kt ku b">\:id</code>并连接控制器方法。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="1b04" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重新运行<code class="du kr ks kt ku b">node index.js</code>命令。</p><p id="e05d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在您的MongoDB cloud中，复制您在MongoDB中创建的项目的id，然后转到<strong class="is hj">http://localhost:8080/projects/:id</strong>，其中<code class="du kr ks kt ku b">:id</code>是您复制的项目id。您将会看到，只有具有匹配id的项目会从数据库中检索出来。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/f2db7548f11106441ef95f32e3d1b69f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8Pv5qLzfOsMMjMPO2xMnQ.png"/></div></div></figure><p id="85ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ii)“<strong class="is hj">POST/”和“DELETE /:id”路线:</strong></p><p id="66c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们添加了<code class="du kr ks kt ku b">project_create</code>和<code class="du kr ks kt ku b">project_delete</code>方法，这样我们就可以通过HTTP请求(前端请求)创建新项目或删除现有项目。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="e71a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<code class="du kr ks kt ku b">project_create</code>，我们创建一个<code class="du kr ks kt ku b">new Project()</code>模式来与MongoDB通信。我们将新的项目数据<code class="du kr ks kt ku b">req.body</code>传递给它。然后我们将新创建的项目<code class="du kr ks kt ku b">save()</code>到MongoDB。</p><p id="25e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<code class="du kr ks kt ku b">project_delete</code>，我们首先得到需要删除的项目的<code class="du kr ks kt ku b">id</code>。然后，我们用匹配的<code class="du kr ks kt ku b">id</code>项目<code class="du kr ks kt ku b">findByIdAndDelete</code>。</p><p id="1e41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">还有别忘了最后导出<code class="du kr ks kt ku b">project_create</code>和<code class="du kr ks kt ku b">project_delete</code>。</p><p id="314a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<strong class="is hj"> projectRoutes.js </strong>中，我们将<code class="du kr ks kt ku b">project_create</code>方法连接到POST路径，而将<code class="du kr ks kt ku b">project_delete</code>连接到DELETE路径。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="a60c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们重新运行<code class="du kr ks kt ku b">node index.js</code>。恭喜你！我们已经完成了编码部分，现在让我们测试新的POST和DELETE routes。现在，我们需要一些东西来模拟前端的发送请求功能。</p><p id="be7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">打开<a class="ae jo" href="https://www.postman.com/downloads/" rel="noopener ugc nofollow" target="_blank">邮差</a>桌面app，点击<code class="du kr ks kt ku b">+ New</code>按钮添加请求。我们将该请求命名为“POST项目”。在POST PROJECT request选项卡中，单击下拉菜单选择POST选项，并键入<a class="ae jo" href="http://localhost:8080/projects/" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/projects/</a>作为URL链接。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/b03ed7f0ffa82df651e2a5f6cc5c7433.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBEO2thvSS42vnfv9_dSOA.png"/></div></div></figure><p id="2c5c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样在POST PROJECT选项卡中，单击<code class="du kr ks kt ku b">Body</code>选项卡，然后单击<code class="du kr ks kt ku b">raw</code>选项，将新项目数据附加到我们的请求中。点击JSON选项，因为我们的数据是JSON格式的</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/2a9578959fe6d6452038d9d55b774d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqB7UukaMtdv_PmprR-Jdw.png"/></div></div></figure><p id="281f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后将以下数据添加到<code class="du kr ks kt ku b">Body</code>:</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="fa0d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后点击蓝色按钮<code class="du kr ks kt ku b">Send</code>。转到我们的MongoDB云网站，在集合中，我们会看到它已被添加到那里。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/3b721fe0710efd5fa09502630d0e68c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M1T8QikvPpyXbU7Z91RviQ.png"/></div></div></figure><p id="3dac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要删除一个现有的项目，我们创建一个新的请求，并将其命名为“删除项目”。我们选择DELETE作为请求的选项，并传入<a class="ae jo" href="http://localhost:8080/projects/:id" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">http://localhost:8080/projects/:id</strong></a><strong class="is hj"/>其中<code class="du kr ks kt ku b">:id</code>是我们要删除的项目id。然后点击<code class="du kr ks kt ku b">Send</code>。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/abbd7a040833fcbbbb96c13dc7beaf42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pr0JQFSlvNFRz5M3A01UOw.png"/></div></div></figure><p id="6aa8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们看到带有给定<code class="du kr ks kt ku b">id</code>的项目已经从我们的云数据库中删除了。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/742801cb95bc9d5beb19c54c0d7119fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xz_RyKnCQpNIMJNTKp3Erg.png"/></div></div></figure><p id="e3b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜你！您已经完成了第2部分！你应该得到热烈的掌声和放松的散步。</p></div></div>    
</body>
</html>