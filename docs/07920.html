<html>
<head>
<title>Swing Like a Champ with Computer Vision | Backhand Tracker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">借助计算机视觉像冠军一样挥杆|反手跟踪器</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swing-like-a-champ-with-computer-vision-backhand-tracker-543534536912?source=collection_archive---------6-----------------------#2021-10-06">https://medium.com/geekculture/swing-like-a-champ-with-computer-vision-backhand-tracker-543534536912?source=collection_archive---------6-----------------------#2021-10-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/adfa305ef007f04355d4dfe3118c588d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w-7BgoE7ZRHVSH_a"/></div><figcaption class="im in et er es io ip bd b be z dx"><a class="ae iq" href="https://www.gettyimages.co.uk/detail/news-photo/novak-djokovic-of-serbia-during-the-mens-singles-final-news-photo/1125290115" rel="noopener ugc nofollow" target="_blank">Photo by James D. Morgan/Getty Images</a></figcaption></figure><p id="de48" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi jp translated">看了2020年东京奥运会、美网和ATP巡回赛后，我迷上了网球。我没有意识到网球比赛会如此激烈。三平后的胜利时刻再好不过了。即使我坐在柔软的沙发上看比赛，<strong class="it hj"> <em class="jy">我的手心也在冒汗，就好像我真的在赛场上打</em> </strong>。为了在现实生活中体验同样的感觉，除了开始学习网球，别无选择。</p><p id="f6ee" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">到目前为止，我认为这是相当成功的。经过几个月的学习，我的技术有了很大的提高——可以控制并以适中的速度击打高低球。</p><p id="1b25" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">然而，我并不满意，我一直在思考如何改进我的游戏。在youtube上浏览网球比赛和教程可能有些重复——每看一次，你学到的东西就少一点。我想要别的东西，能让我更上一层楼的不同的东西。</p><blockquote class="jz"><p id="0eea" class="ka kb hi bd kc kd ke kf kg kh ki jo dx translated">我意识到我可以整合计算机视觉来即兴创作我的网球比赛。</p></blockquote><p id="6e3f" class="pw-post-body-paragraph ir is hi it b iu kj iw ix iy kk ja jb jc kl je jf jg km ji jj jk kn jm jn jo hb bi translated">以下是我选择计算机视觉的几个原因:</p><ol class=""><li id="26a3" class="ko kp hi it b iu iv iy iz jc kq jg kr jk ks jo kt ku kv kw bi translated">计算机视觉在寻找人类关节的关键点方面非常出色。</li><li id="f5c1" class="ko kp hi it b iu kx iy ky jc kz jg la jk lb jo kt ku kv kw bi translated">有许多开源软件可供使用。我不需要从头开始训练一个模特就能检测出人类的姿势。</li><li id="a508" class="ko kp hi it b iu kx iy ky jc kz jg la jk lb jo kt ku kv kw bi translated">我可以很容易地分析我的挥杆，并与他人进行比较。</li></ol><p id="8cf9" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">希望这篇文章能成为我的网球比赛中计算机视觉的众多实现之一。在这篇文章中，我将展示一种跟踪反手挥杆动作的方法，并分析我的挥杆与这一行业中最好的德约科维奇有何不同。</p><h1 id="96e0" class="lc ld hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">媒体管道[1]</h1><p id="4563" class="pw-post-body-paragraph ir is hi it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hb bi translated">在开源社区中有各种各样的姿势评估可供选择。举几个例子，OpenPose[2]、HRNet[3]、DeepCut[4]和Deep Pose[5]被广泛使用。</p><blockquote class="mf mg mh"><p id="00a7" class="ir is jy it b iu iv iw ix iy iz ja jb mi jd je jf mj jh ji jj mk jl jm jn jo hb bi translated">查看此<a class="ae iq" href="https://viso.ai/deep-learning/pose-estimation-ultimate-overview/" rel="noopener ugc nofollow" target="_blank">链接</a>以获取关于人体姿态估计概述的更多信息</p></blockquote><p id="93c4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">对于本文，我将使用Google提供的MediaPipe。它为直播和流媒体提供可定制的深度学习解决方案，包括人脸检测、人脸网格、姿态检测、3d对象检测等。此外，它还提供了一个可以在非GPU环境中使用的训练模型。换句话说，可以使用便携式设备(笔记本电脑、智能手机等)实时检测物体。</p><p id="7d5e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">从个人经验来看，<a class="ae iq" href="https://google.github.io/mediapipe/" rel="noopener ugc nofollow" target="_blank">网站</a>很好地记录了初学者如何轻松地使用和实现他们的项目。</p><h2 id="a855" class="ml ld hi bd le mm mn mo li mp mq mr lm jc ms mt lq jg mu mv lu jk mw mx ly my bi translated">中间管道姿势</h2><p id="b8e0" class="pw-post-body-paragraph ir is hi it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hb bi translated">MediaPipe姿势是一种<strong class="it hj">自上而下的方法。</strong>更具体地说，它利用了两步检测器。首先，它在图像中定位人的感兴趣区域(ROI)。然后，它使用<strong class="it hj">ROI裁剪帧作为输入来预测ROI内的姿态界标。</strong></p><p id="9a83" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我用<strong class="it hj"> MediaPipe Pose </strong>来定位影片中被检测玩家的33个关节。</p><figure class="na nb nc nd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="er es mz"><img src="../Images/7c1daeb1777dbb23e5fa5f7e4ba4fe5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*unEA4KQcnaKPg0Rz.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">MediaPipe Pose 33 landmarks.</figcaption></figure><h1 id="0f48" class="lc ld hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">反手跟踪器</h1><p id="2f4e" class="pw-post-body-paragraph ir is hi it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hb bi translated">反手追踪不需要全部33个关节。因为我的右手是优势手，我简单地用我的左腕关节来说明我接近球时的挥杆动作。</p><p id="ce78" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这个追踪器最具挑战性的部分是找到我挥杆的起点和终点。 <em class="jy">我的意思是每次挥杆都不一样</em>。挥杆速度、角度和高度根据不同的来球进行调整。因此，一个简单的基于规则的算法不足以跟踪各种类型的挥杆。</p><p id="7200" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">唯一一次我没有在物理101课上睡着，我记得我学习了变化率。例如，如果我们知道一个粒子相对于时间的位置，我们就知道一个粒子的速度，因为我们知道这个粒子运动的速率。使用同样的概念，加速度可以被发现为速度的变化率。</p><figure class="na nb nc nd fd ij er es paragraph-image"><div class="er es ni"><img src="../Images/aecc52309d89954195c17088b1be44a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*yZ5b1NqORrL_alHCfDYdpA.png"/></div><figcaption class="im in et er es io ip bd b be z dx">Relationship among position, velocity, and acceleration in respect to time. Source: University of Cambridge Department of Engineering.</figcaption></figure><p id="71a1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">从姿态检测器，<strong class="it hj">我手腕的位置已经给定。</strong>使用速度和加速度方程以及下图，我能够估算出每次挥杆的起点和终点。</p><figure class="na nb nc nd fd ij er es paragraph-image"><div class="er es nj"><img src="../Images/3271ee0e26e82cc82c56d125955741f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/0*btthBO4jcTi1ErXD"/></div></figure><div class="na nb nc nd fd ab cb"><figure class="nk ij nl nm nn no np paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><img src="../Images/c9fb568344b86ddceb313e63d5acbb9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*4Ihul4fkq3Ks0oqmh4DhsQ.png"/></div></figure><figure class="nk ij nl nm nn no np paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><img src="../Images/a32586aa8cb21ebc396c5ed7aaaa0439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*IzN3nOF6wCmdOb9EWDFQIw.png"/></div><figcaption class="im in et er es io ip bd b be z dx nq di nr ns">Graph of velocity and acceleration of my swings.</figcaption></figure></div><p id="4555" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这些图表是根据三次连续摆动绘制的。我们可以明确地看到一次挥杆的速度和加速度模式，并且可以掌握如何精确定位每次挥杆的起点和终点。</p><p id="c02d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">回想这篇文章的主要目标，我想追踪反手击球。<strong class="it hj">更具体地说，我感兴趣的是当我向前挥拍时，我能伸出或送出多少球拍。</strong></p><blockquote class="mf mg mh"><p id="a140" class="ir is jy it b iu iv iw ix iy iz ja jb mi jd je jf mj jh ji jj mk jl jm jn jo hb bi translated">TMI:我习惯于缩短我的挥杆，用更小的力度击球，让对手更容易回应。</p></blockquote><h2 id="3cd4" class="ml ld hi bd le mm mn mo li mp mq mr lm jc ms mt lq jg mu mv lu jk mw mx ly my bi translated">结果</h2><p id="2e21" class="pw-post-body-paragraph ir is hi it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hb bi translated">结果是用TensorFlow Lite XNNPACK检索的(没有GPU！)，由MediaPipe提供。结果是相当可以接受的，因为它跟踪手腕的位置。跟踪线是我所期望的——形成一条双曲线。</p><figure class="na nb nc nd fd ij"><div class="bz dy l di"><div class="nt nu l"/></div><figcaption class="im in et er es io ip bd b be z dx">A backhand is tracked with a blue line.</figcaption></figure><div class="na nb nc nd fd ab cb"><figure class="nk ij nv nm nn no np paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><img src="../Images/a4e656aa369decbed1ad50169bd1d8d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*d-nBgAcGGBAxDZP_Yf__vg.png"/></div></figure><figure class="nk ij nw nm nn no np paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><img src="../Images/1db8a8846e5f957619c05a4f1a365851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*O0naf5h8zhJ07_AnNjG3Zg.png"/></div><figcaption class="im in et er es io ip bd b be z dx nx di ny ns">Comparison between Djokovic’s and Sam’s backhand profiles.</figcaption></figure></div><p id="4a9d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="jy">请注意，我的挥杆不是用slow-mo录的，而德约科维奇的视频要慢很多。因此，你在我的反手击球图上看到的点数较少。</em></p><p id="a538" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">正如你在图表上看到的，与德约科维奇相比，我的挥杆非常不同。<strong class="it hj">德约科维奇是流畅的U型挥杆，而我是L型挥杆。</strong>我可以从图表中找到一些有趣的事实:</p><ol class=""><li id="3d1f" class="ko kp hi it b iu iv iy iz jc kq jg kr jk ks jo kt ku kv kw bi translated">德约科维奇的挥杆更加一致。</li><li id="6f6f" class="ko kp hi it b iu kx iy ky jc kz jg la jk lb jo kt ku kv kw bi translated">德约科维奇马上向下挥杆，而我拖一点然后向下挥杆。这个微妙的变化可能意味着一切，因为我可能会在“滞后”区失去力量。</li><li id="7b9f" class="ko kp hi it b iu kx iy ky jc kz jg la jk lb jo kt ku kv kw bi translated">我倾向于在挥杆开始时移动上半身。换句话说，我的站姿并不是在每次挥杆之前就确立的。</li><li id="1f46" class="ko kp hi it b iu kx iy ky jc kz jg la jk lb jo kt ku kv kw bi translated">我的挥杆要短得多。德约科维奇一直保持网拍速度直到挥拍结束。我倾向于更早地失去网拍速度。</li></ol><h2 id="3c52" class="ml ld hi bd le mm mn mo li mp mq mr lm jc ms mt lq jg mu mv lu jk mw mx ly my bi translated">讨论</h2><p id="f7e2" class="pw-post-body-paragraph ir is hi it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hb bi translated">对我来说，用计算机视觉分析我的挥杆动作是一个有趣的练习。令人惊讶的是，分析给了我比我预期更多的见解，并指导我如何纠正我的站姿、姿势和挥杆。</p><p id="2f22" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">使用计算机视觉的一个缺点是数据的质量。必须保证数据的质量。如果影片有噪声且模糊，关节会在帧间跳跃，导致结果不准确。我也建议用慢动作拍摄，以获得更一致的效果。</p></div><div class="ab cl nz oa gp ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="hb hc hd he hf"><p id="d8c5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我期待着在我的网球比赛中加入额外的计算机视觉实现。你们可以跟着我了解最新情况！</p><p id="2d8a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果你们有任何关于这个追踪器的建议或想法，请在下面评论。我很想听听。</p><p id="1a61" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">感谢大家花时间阅读这篇文章。快乐摇摆:D</p><p id="ebc4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">参考文献</strong></p><p id="ec7a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">[1]media pipe:【https://google.github.io/mediapipe/ T2】</p><p id="833d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">[2]open pose:【https://github.com/CMU-Perceptual-Computing-Lab/openpose】T4</p><p id="56b6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">[3]HRNet:<a class="ae iq" href="https://arxiv.org/abs/1908.07919" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1908.07919</a></p><p id="7cc1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">【4】深切:<a class="ae iq" href="https://arxiv.org/abs/1511.06645" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1511.06645</a></p><p id="9bc7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">【5】深度姿势:<a class="ae iq" href="https://arxiv.org/abs/1312.4659" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1312.4659</a></p></div></div>    
</body>
</html>