<html>
<head>
<title>Dealing with the most common cause of death in the world</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理世界上最常见的死因</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/dealing-with-the-most-common-cause-of-death-in-the-world-c8b4fb509ac1?source=collection_archive---------42-----------------------#2021-05-24">https://medium.com/geekculture/dealing-with-the-most-common-cause-of-death-in-the-world-c8b4fb509ac1?source=collection_archive---------42-----------------------#2021-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="cfbc" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">我们能否利用数据将心脏病风险评估和教育扩展到医疗资源有限的人群？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/f0253f14b2bf8d476df0e9630276798c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ou4YcPXyHNdfEm12kVMgyA.jpeg"/></div></div></figure><blockquote class="jj jk jl"><p id="e9bc" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">免责声明:</strong>我写这篇文章是作为Udacity的数据科学家纳米学位项目的一个项目。<strong class="jp hj">我的任何发现都不应被视为医学建议</strong>，尽管我确实在医学院咨询过我的兄弟，但这绝不是同行评审的科学工作。确保在任何健康问题上寻求专业帮助。</p></blockquote><p id="a5a6" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">关于心脏状况和冠状动脉疾病的文献浩如烟海，诊断方法也多种多样，但是有没有一种方法可以降低成本，并将医疗援助<strong class="jp hj">扩展到无法获得专业诊断设备的人群？在本文中，我们将使用<strong class="jp hj"> CRISP-DM </strong>框架来更好地理解这个问题，并尝试提出可行的解决方案。</strong></p><h2 id="789b" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">脆皮什么？</h2><p id="963d" class="pw-post-body-paragraph jm jn hi jp b jq lh ij js jt li im jv kj lj jy jz kk lk kc kd kl ll kg kh ki hb bi translated">CRISP-DM是对数据挖掘的跨行业标准流程的别称。这是一个包含数据挖掘所有步骤的框架，可以应用于任何可量化的问题。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lm"><img src="../Images/065cfc14c99dd959f36ba7b0d8e2b650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YvUQGRgDNMaZ5CONaxeOTg.jpeg"/></div></div></figure><p id="f7f7" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">该过程由以下一般步骤组成:</p><p id="1d2e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 1。业务理解</strong>，或收集关于问题领域的信息，如技术术语、通用流程或实践、目标和之前对某个主题的研究。</p><p id="31d1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 2。</strong> <strong class="jp hj">数据理解</strong>，通常需要了解数据来源、固有偏差、数据收集条件或目标以及数据集中每个变量/特征的细节。</p><p id="4deb" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 3。数据准备</strong>，或处理缺失数据、根据变量类型重新映射变量并删除有噪声或不可靠数据的过程。</p><p id="7d8c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 4。建模</strong>，也被称为数据科学家的乐趣时代，它包括对预处理的数据采用统计模型，并生成可能有助于回答问题或估计未来值的预测值。</p><p id="fc8c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 5。评估</strong>，或确保模型实际上如预期的那样运行，以及验证结果与文献和先前实验的一致性。</p><p id="3606" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">6。部署/可视化，包括汇编所有获得的知识和生成的工具，并使用这些资源来回答最初的问题或帮助解决预先陈述的问题。</p><p id="6236" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">这些步骤在设计上是非特定的，因此该过程实际上可以应用于几乎任何领域，从医学数据到油画，从工程到文学和社交媒体。这些步骤也是相互关联的，例如，经常在建模和评估之间来回切换，或者并行收集业务和数据理解。</p><blockquote class="jj jk jl"><p id="1cb0" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这篇文章的重点是我的分析结果，如果你想更深入地了解CRISP-DM方法的代码和应用，请点击<a class="ae ln" href="https://github.com/guischmitd/heart_attack_analysis" rel="noopener ugc nofollow" target="_blank">链接</a>到我的Github repo。</p></blockquote></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="766d" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们将使用来自<a class="ae ln" href="https://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank"> UCI机器学习库</a>的<a class="ae ln" href="https://archive.ics.uci.edu/ml/datasets/Heart+Disease" rel="noopener ugc nofollow" target="_blank">心脏病数据集</a>，并尝试使用CRISP-DM框架回答3个问题:</p><p id="8638" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 1。</strong>冠状动脉疾病的<strong class="jp hj">关键指标</strong>有哪些？</p><p id="b9ff" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 2。</strong>遗传<strong class="jp hj">/内在因素<strong class="jp hj">比环境</strong>/行为因素<strong class="jp hj">更能预测未来吗？</strong></strong></p><p id="29c4" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> 3。</strong>有没有更简单或者<strong class="jp hj">低成本</strong>的方法来评估<strong class="jp hj">自身患冠心病的风险</strong>？</p><p id="0b38" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">该数据集由1981年至1987年在欧洲和美国的5个合作心脏病机构的920行(或患者)上观察到的76列(或变量)组成。这些数据最初由Detrano等人用于本文，后来被用于该领域的许多其他研究。</p><p id="6e10" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我在<a class="ae ln" href="https://www.kaggle.com/rashikrahmanpritom/heart-attack-analysis-prediction-dataset" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>中找到了干净的<code class="du lv lw lx ly b">.csv</code>数据子集，只包含14个变量和来自克利夫兰诊所的303名患者。完整的数据集可以在<a class="ae ln" href="https://archive.ics.uci.edu/ml/datasets/Heart+Disease" rel="noopener ugc nofollow" target="_blank"> UCI机器学习库</a>找到。尽管存在丢失数据和损坏文件的问题，但通过一些定制的解析代码和数据清理，我能够整合数据集并使其达到相当可用的状态。原始文件、解析代码和完整处理过的数据集都可以在<a class="ae ln" href="https://github.com/guischmitd/heart_attack_analysis" rel="noopener ugc nofollow" target="_blank">项目的Github页面</a>上找到。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><h2 id="ad96" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">问题1:冠状动脉疾病的一些关键指标是什么？</h2><p id="4ac4" class="pw-post-body-paragraph jm jn hi jp b jq lh ij js jt li im jv kj lj jy jz kk lk kc kd kl ll kg kh ki hb bi translated">在数据清理和填充之后，相关性分析揭示了以下结果。</p><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="70c9" class="km kn hi ly b fi md me l mf mg"><strong class="ly hj"># Feature #                  # Correlation to target #</strong><br/>cp_type_atypical_angina              -0.3965 <br/>heart_rate_peak                      -0.3813 <br/>sex_F                                -0.3218 <br/>ex_duration                          -0.2834 thalium_stress_result_normal         -0.2774<br/>chol                                  0.1154<br/>age                                   0.2775 <br/>cp_rest_relieve                       0.2881 <br/>cp_exertion                           0.3200 <br/>sex_M                                 0.3218 <br/>st_dep                                0.3689 <br/>ex_angina                             0.4328 <br/>cp_type_no_pain                       0.5112</span></pre><ul class=""><li id="b7a0" class="mh mi hi jp b jq jr jt ju kj mj kk mk kl ml ki mm mn mo mp bi translated"><code class="du lv lw lx ly b">ex_angina</code>、<code class="du lv lw lx ly b">cp_exertion</code>和<code class="du lv lw lx ly b">cp_rest_relieve</code>与目标的相关值分别为0.43、0.32和0.29。这表明，随着休息而消失的运动诱发的胸痛与冠状动脉疾病呈正相关。</li><li id="e428" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated"><code class="du lv lw lx ly b">st_dep</code>在0.37告诉我们，在EKG期间测量的<a class="ae ln" href="https://litfl.com/st-segment-ecg-library/" rel="noopener ugc nofollow" target="_blank"> ST段</a>压低与冠状动脉疾病之间存在直接关联。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/c5435b602b48a77fe9212be58a6fce83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DRIxi1-Kwpx8iIEU.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx">st_dep relates to the amount by which the wave deviates downward between the S and T wave segments in the EKG</figcaption></figure><ul class=""><li id="43b5" class="mh mi hi jp b jq jr jt ju kj mj kk mk kl ml ki mm mn mo mp bi translated"><code class="du lv lw lx ly b">age</code>和<code class="du lv lw lx ly b">sex_M</code>都与冠状动脉疾病呈正相关，这一点在文献中得到广泛认同，并且<a class="ae ln" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3819990/" rel="noopener ugc nofollow" target="_blank">也得到了世卫组织统计数据的证实。</a></li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es na"><img src="../Images/7cfc78148f9fc3ee1d8ee9ccf5cf5e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ITWLd7c2C-c43-s9.jpg"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx">WHO statistics showing a higher prevalence of death by heart disease in older men</figcaption></figure><ul class=""><li id="9969" class="mh mi hi jp b jq jr jt ju kj mj kk mk kl ml ki mm mn mo mp bi translated"><code class="du lv lw lx ly b">heart_rate_peak</code>和<code class="du lv lw lx ly b">ex_duration</code>与目标值呈负相关，这表明健康人能够达到更高的心率，并在更长时间内进行锻炼，而不会过度劳累或导致胸痛。</li><li id="08fe" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated"><code class="du lv lw lx ly b">thalium_stress_result_normal</code>也显示负相关值，表明正常的<a class="ae ln" href="https://en.wikipedia.org/wiki/Scintigraphy#Heart" rel="noopener ugc nofollow" target="_blank">闪烁扫描</a>结果是整体冠状动脉健康的良好指标。</li></ul><p id="f223" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">这些<em class="jo">大部分与预期一致</em>，尽管数值可能看起来有点低。另一方面，一些结果提出了有趣的问题:</p><ul class=""><li id="adfc" class="mh mi hi jp b jq jr jt ju kj mj kk mk kl ml ki mm mn mo mp bi translated"><strong class="jp hj">最高正相关特征</strong>是<code class="du lv lw lx ly b">cp_type_no_pain</code>，这指向以下结论之一:1)患者没有报告胸痛是心脏病的强指标，或者2)我们的样本偏向于先前没有胸痛报告史的冠状动脉疾病患者。假设1似乎不太可能，这允许进一步调查以识别数据中的这种偏斜。一个可能的假设是，<strong class="jp hj">男性不太容易报告胸痛</strong> ( <a class="ae ln" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1495200/" rel="noopener ugc nofollow" target="_blank">或任何其他症状</a>)，这是对“脆弱”的普遍感觉的结果，尤其是在20世纪80年代，<strong class="jp hj">同时整体上更容易患心脏病</strong>。该假设得到了以下事实的支持:数据集中59%的男性报告没有胸痛，相比之下，只有35%的女性没有胸痛，而63%的男性和24%的女性患有CAD。这个特性将在我们最后的建模步骤中被删除。</li><li id="f11c" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated"><code class="du lv lw lx ly b">chol</code>显示值为0.11，这与高胆固醇水平是心脏病<em class="jo">本身</em>的一个强风险因素的流行观点相矛盾。的确，胆固醇在心脏病风险中扮演了一个角色，但是<strong class="jp hj">有不同类型的胆固醇和脂肪需要观察</strong>。我的哥哥很快就要成为一名内科医生，他结束了他的医学院学业，在向他咨询时，他告诉我，血清胆固醇(正在通过这项功能进行测量)本身在测量风险方面没有什么价值。我们必须验证其他更具体指标的比率，如低密度脂蛋白、高密度脂蛋白和甘油三酯。该数据集中另一个缺失的信息是<strong class="jp hj">患者是否正在接受胆固醇控制药物治疗</strong>，这肯定会扭曲这一特征。</li></ul></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="41e0" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">总体而言，相关性分析表明，预测心脏病风险需要关注的关键指标是<strong class="jp hj">年龄</strong>(年龄较大)<strong class="jp hj">性别</strong>(男性)<strong class="jp hj">运动诱发的心绞痛</strong>(胸痛)<strong class="jp hj">运动耐力</strong>(时间更长、心率更高)，以及特定的医学检查结果，如<strong class="jp hj"> ST波压低</strong>、<strong class="jp hj">铊-201闪烁扫描结果</strong>。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><h2 id="b222" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">问题2:<strong class="ak">遗传</strong>/内在因素<strong class="ak">比<strong class="ak">环境</strong>/行为因素更好预测吗？</strong></h2><p id="cc60" class="pw-post-body-paragraph jm jn hi jp b jq lh ij js jt li im jv kj lj jy jz kk lk kc kd kl ll kg kh ki hb bi translated">我们将特性分成几类，并采用自动统计建模来评估特性的重要性，并比较不同类别之间的结果。对于模型训练和优化，我用python写了一些简单的建模函数，使用sklearn来辅助下面的步骤。同样，细节可以在这个项目的Github页面上找到。</p><p id="2a04" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">第一步是评估基于<strong class="jp hj">所有可用功能</strong>的不同模型架构的性能:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/8cf938401bafecb9317d627a66783fdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*xkAzcP-SU_AkcLwHphDuKA.png"/></div></figure><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="2e2b" class="km kn hi ly b fi md me l mf mg"><strong class="ly hj">                    linear  random_forest  gradient_boost </strong><br/><strong class="ly hj">f1_score         </strong>85.245902      86.557377       86.468647 <strong class="ly hj">accuracy_score   </strong>83.333333      84.814815       84.814815 <strong class="ly hj">precision_score  </strong>82.278481      83.544304       83.974359 <strong class="ly hj">recall_score     </strong>88.435374      89.795918       89.115646</span></pre><p id="f81e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">所有三个训练过的模特<strong class="jp hj">在数据</strong>上都表现良好，在每个测试指标上得分在80%到90%之间。随机森林模型在<a class="ae ln" href="https://en.wikipedia.org/wiki/F-score" rel="noopener ugc nofollow" target="_blank"> F1和回忆分数</a>中得分最高，而梯度增强模型获得了更高的精度。RF模型的<strong class="jp hj">召回率高于其精度</strong>，这意味着该模型更加<strong class="jp hj">敏感</strong>，并且检测到更多的CAD病例，而<strong class="jp hj">可能容易出现假阳性</strong>。在像这样的风险评估任务中，这可能是首选行为，只要假阳性保持在合理的比例。</p><p id="7de0" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">既然我们的建模流程已在完整数据集上得到验证，我们可以将相同的方法应用于特征子集，并将这些结果与第一次测试中获得的结果进行比较。两个被评估的特征类别如下所述。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nc"><img src="../Images/4dbf5da937116aa3ca2435ae8fe0b357.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*9PTxcmsKBeI6Z-rSjBCM_g.jpeg"/></div></figure><p id="e816" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">环境/行为特征</strong>是可以被习惯、环境或药物影响的特征:</p><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="804c" class="km kn hi ly b fi md me l mf mg">                <strong class="ly hj">feature      feature_type</strong><br/>34                 chol            E <br/>35               smoker            E <br/>36  smoker_cigs_per_day            E <br/>37         smoker_years            E <br/>38  fasting_blood_sugar            E</span></pre><p id="54e4" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj">遗传/内在特征</strong>是患者和医务人员无法控制的指标:</p><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="f8e1" class="km kn hi ly b fi md me l mf mg">                 <strong class="ly hj">feature      feature_type</strong><br/>0                  sex_F            G<br/>1                  sex_M            G <br/>29                   age            G <br/>39  heart_disease_family            G</span></pre><p id="5e7d" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">在仅用可用特征的子集训练模型之后，获得了以下分数:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/790693e3c636f483e9185de385234fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*IyafmtnbRXozCGYBPdCumw.png"/></div></figure><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="9a2b" class="km kn hi ly b fi md me l mf mg"><strong class="ly hj">                   genetic  environmental </strong><br/><strong class="ly hj">f1_score         </strong>75.147929      73.354232 <br/><strong class="ly hj">accuracy_score   </strong>68.888889      68.518519 <br/><strong class="ly hj">precision_score  </strong>66.492147      68.023256 <br/><strong class="ly hj">recall_score     </strong>86.394558      79.591837</span></pre></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="f67a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">总体而言，<strong class="jp hj">遗传特征是冠心病风险的更好预测因素</strong>，尤其是考虑到回忆(或敏感度)得分。这些分数与之前使用所有可用特征训练模型时发现的分数不一致，这在一定程度上是意料之中的。将模型限制在如此少的特征上显然对它们的预测能力有负面影响，但这种比较仍然成立。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><h2 id="a631" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">问题<strong class="ak"> 3: </strong>有没有更简单或者<strong class="ak">低成本</strong>的方法来评估<strong class="ak">自身患冠心病的风险</strong>？</h2><p id="a023" class="pw-post-body-paragraph jm jn hi jp b jq lh ij js jt li im jv kj lj jy jz kk lk kc kd kl ll kg kh ki hb bi translated">这是本研究开始时提出的主要问题，也是我和参与分析的人认为最实用的问题。</p><p id="4254" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">在本节中，我们将使用所有的先验知识来训练一个用于<strong class="jp hj">预测冠状动脉疾病风险</strong>的模型，该模型仅基于<strong class="jp hj">低成本</strong>和<strong class="jp hj">简单测量给定患者的</strong>特征，同时将其性能与先前的发现进行比较。我们还将在文献中寻找可比较的方法，以进行进一步的比较，并根据机器学习和心脏病学的最新发展来理解我们的结果。</p><p id="2b7a" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们将继续使用<strong class="jp hj">功能类别</strong>将所有可用的列分为需要专门设备的列和不需要昂贵设备和训练有素的员工就可以执行的列。</p><p id="d18c" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">除了上一个问题中使用的<code class="du lv lw lx ly b">genetic</code>和<code class="du lv lw lx ly b">environmental</code>类别之外，我们将为这个测试增加两个要素类:</p><ul class=""><li id="e10c" class="mh mi hi jp b jq jr jt ju kj mj kk mk kl ml ki mm mn mo mp bi translated"><strong class="jp hj">历史数据(H) </strong>与患者的病史相关，特别是他们过去是否有任何胸痛发作</li><li id="3d6e" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated"><strong class="jp hj">廉价测试(CT) </strong>仅包含可以用最少的设备和医学知识进行的测试，如粗略测量心率和测量休息时的血压。</li></ul><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="52c6" class="km kn hi ly b fi md me l mf mg"><strong class="ly hj"># Full list of features used by the low-cost model</strong></span><span id="104c" class="km kn hi ly b fi nd me l mf mg">                 <strong class="ly hj">feature      feature_type </strong><br/>      blood_press_s_rest           CT <br/>         heart_rate_peak           CT <br/>         heart_rate_rest           CT <br/>               ex_angina           CT<br/> cp_type_atypical_angina            H <br/>         cp_type_no_pain            H <br/>     cp_type_non_anginal            H <br/>  cp_type_typical_angina            H<br/>                    chol            E <br/>                  smoker            E <br/>     smoker_cigs_per_day            E <br/>            smoker_years            E <br/>     fasting_blood_sugar            E                   <br/>                   sex_F            G <br/>                   sex_M            G <br/>                     age            G <br/>    heart_disease_family            G</span></pre><p id="1e60" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">与全特征模型相比，在这些特征上训练的随机森林模型实现了以下结果:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/9b4de8e955a6ad271d824e7012bf266d.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*IVcEOU0tJsj4-5mncPehFA.png"/></div></figure><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="ede5" class="km kn hi ly b fi md me l mf mg"><strong class="ly hj">                      full   low_cost </strong><br/><strong class="ly hj">f1_score         </strong>86.468647  84.177215<br/><strong class="ly hj">accuracy_score   </strong>84.814815  81.481481 <br/><strong class="ly hj">precision_score  </strong>83.974359  78.698225 <br/><strong class="ly hj">recall_score     </strong>89.115646  90.476190</span></pre><p id="19dd" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们<strong class="jp hj">能够真正接近</strong>完整的模型，而不使用任何更昂贵和复杂的测试结果，我们甚至能够实现更高的召回率，即使以精度为代价。这告诉我们，至少对于这个样本来说，<strong class="jp hj">我们可以以相当高的置信度</strong>预测患者的心脏病风险<strong class="jp hj">，而不需要昂贵的设备</strong>和高度专业化的员工。这可以用作将患者分成风险组并优先考虑那些更有可能患有严重心脏病的患者的分类方法。类似的模型<strong class="jp hj">也可以部署</strong>作为在线工具<strong class="jp hj">供人们评估自己的心脏病风险</strong>，只要做更多的研究来发现隐藏的偏见，并在不同人群和种族群体中交叉验证结果。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><h2 id="bc93" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">奖励回合！弗雷明汉风险评分</h2><p id="830d" class="pw-post-body-paragraph jm jn hi jp b jq lh ij js jt li im jv kj lj jy jz kk lk kc kd kl ll kg kh ki hb bi translated">对这一主题的初步研究揭示了许多旨在回答这一具体问题的论文和长期研究，并从整体上对心脏病有了更好的理解。值得注意的是，<a class="ae ln" href="https://en.wikipedia.org/wiki/Framingham_Risk_Score" rel="noopener ugc nofollow" target="_blank">弗雷明汉风险评分</a>是在与我哥哥的交谈中首先出现的方法之一。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/98d70eda121e9b71e35ed63cac4fd170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wA8l2teZOzmjcNOJMpDjXA.jpeg"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx">The city of Framingham, MA</figcaption></figure><p id="cfe4" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">弗雷明汉评分是由弗雷明汉心脏研究开发的一种非侵入性方法，弗雷明汉心脏研究是一项对马萨诸塞州弗雷明汉居民的长期持续研究，始于20世纪40年代末，目前已有第三代参与者。该分数是根据几个变量计算出来的，用于评估患者未来10年的心血管风险。在这项研究中，我实现了该算法的一个版本，试图将我的模型的结果与这个流行的工具进行比较。</p><p id="f147" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">由于弗雷明汉模型的输出是一个连续的概率(即10年内心脏病发作的百分比“机会”)，我必须定义一个阈值来区分健康和患病患者的预测(顺便说一下，这被称为<a class="ae ln" href="https://en.wikipedia.org/wiki/Discretization_of_continuous_features" rel="noopener ugc nofollow" target="_blank">离散化</a>)。这是通过反复分割和评估结果并确定可能的最佳F1分数的分割来完成的。<strong class="jp hj">选择弗雷明汉风险评分的8% </strong>阈值来确定患者是健康还是患病。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/4f0f40caa3ef7461b6feb608af7cb87e.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*xIRtJs18Ua_mo4Bjx_HxsA.png"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/1d37da67e021b5e6bef1b53d0bc75ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*sqzHys3Sn3kT7gvXp0tVYA.png"/></div></figure><pre class="iy iz ja jb fd lz ly ma mb aw mc bi"><span id="fa92" class="km kn hi ly b fi md me l mf mg">                 <strong class="ly hj">framingham   low_cost </strong><br/><strong class="ly hj">f1_score          </strong>73.563218  84.177215 <br/><strong class="ly hj">accuracy_score    </strong>65.925926  81.481481 <br/><strong class="ly hj">precision_score   </strong>63.681592  78.698225 <br/><strong class="ly hj">recall_score      </strong>87.074830  90.476190</span></pre><p id="0d28" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">需要注意的是<strong class="jp hj">这些模型预测的目标</strong>并不完全相同，假设这些结果表明我们训练的模型比Framingham Score等相当成熟的算法<em class="jo">更好</em>是不负责任的。一种更好的表述方式是，给定我们的样本和目标，我们证明了训练一个具有高准确度、精确度和召回率的统计模型是可能的，这当然可以<strong class="jp hj">进行优化和进一步测试</strong>，以便最终部署为医疗专业人员和普通大众的有用工具。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><h2 id="90fd" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">参考</h2><ul class=""><li id="3cde" class="mh mi hi jp b jq lh jt li kj nf kk ng kl nh ki mm mn mo mp bi translated">从Kaggle下载的数据集—<a class="ae ln" href="https://www.kaggle.com/rashikrahmanpritom/heart-attack-analysis-prediction-dataset" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/rashikrahmanpritom/heart-attack-analysis-prediction-dataset</a></li><li id="9265" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">原始数据(https://archive.ics.uci.edu/ml/datasets/Heart+Disease UCI ML存储库)——<a class="ae ln" href="https://archive.ics.uci.edu/ml/datasets/Heart+Disease" rel="noopener ugc nofollow" target="_blank"/></li><li id="4ae0" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated"><strong class="jp hj">上世纪80年代的原始论文:</strong></li><li id="3f4f" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">贝叶斯概率分析:对其在冠心病诊断中的临床应用的前瞻性论证—<a class="ae ln" href="https://pubmed.ncbi.nlm.nih.gov/6692516/" rel="noopener ugc nofollow" target="_blank">https://pubmed.ncbi.nlm.nih.gov/6692516/</a></li><li id="4fd5" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">冠心病诊断新概率算法的国际应用—<a class="ae ln" href="https://pubmed.ncbi.nlm.nih.gov/2756873/" rel="noopener ugc nofollow" target="_blank">https://pubmed.ncbi.nlm.nih.gov/2756873/</a></li><li id="12a0" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">使用临床可解释的基于模糊规则的系统进行冠状动脉疾病无创诊断的方法—【https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4468223/ T2】</li><li id="cfb6" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">ST段—【https://litfl.com/st-segment-ecg-library/ T4】</li><li id="1fb9" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">心脏缺血时的电生理变化—<a class="ae ln" href="https://www.cvphysiology.com/CAD/CAD012" rel="noopener ugc nofollow" target="_blank">https://www.cvphysiology.com/CAD/CAD012</a></li><li id="7073" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">心脏病指标—<a class="ae ln" href="http://rstudio-pubs-static.s3.amazonaws.com/24341_184a58191486470cab97acdbbfe78ed5.html" rel="noopener ugc nofollow" target="_blank">http://r studio-pubs-static . S3 . Amazon AWS . com/24341 _ 184 a 58191486470 cab 97 acdbbfe 78 ed 5 . html</a></li><li id="673f" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">https://lucdemortier.github.io/projects/3_mcnulty麦纽提项目:评估心脏病的风险</li><li id="36fb" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">非典型胸痛——是时候摆脱了——<a class="ae ln" href="https://www.amjmed.com/article/S0002-9343(12)00488-3/pdf" rel="noopener ugc nofollow" target="_blank">https://www . amjmed . com/article/s 0002-9343(12)00488-3/pdf</a>或<a class="ae ln" href="https://www.amjmed.com/article/S0002-9343(12)00488-3/fulltext" rel="noopener ugc nofollow" target="_blank">https://www . amjmed . com/article/s 0002-9343(12)00488-3/full text</a></li><li id="a7fa" class="mh mi hi jp b jq mq jt mr kj ms kk mt kl mu ki mm mn mo mp bi translated">女性和男性的躯体症状报告—<a class="ae ln" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1495200/" rel="noopener ugc nofollow" target="_blank">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1495200/</a></li></ul><h2 id="2f9d" class="km kn hi bd ko kp kq kr ks kt ku kv kw kj kx ky kz kk la lb lc kl ld le lf lg bi translated">承认</h2><p id="8ff5" class="pw-post-body-paragraph jm jn hi jp b jq lh ij js jt li im jv kj lj jy jz kk lk kc kd kl ll kg kh ki hb bi translated">感谢Detrano M.D .等人在我们没有google drive来快速存储和共享的时候勤奋地保存数据。</p><p id="b525" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">特别感谢我的兄弟利奥花时间讨论、研究和发掘80年代的论文，以及审阅草稿和最终文本。</p><p id="b758" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">也感谢我的合作伙伴安娜审查文本和跳跃的想法关于医学历史，临床行为和社会科学。</p><p id="23da" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">感谢每一位同意参与最初研究的患者，希望推进我们对心脏病的理解。</p></div></div>    
</body>
</html>