<html>
<head>
<title>Spring Boot and Beans ! 🍃</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spring Boot和豆子！🍃</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/spring-boot-and-beans-b2797b488fde?source=collection_archive---------4-----------------------#2021-06-27">https://medium.com/geekculture/spring-boot-and-beans-b2797b488fde?source=collection_archive---------4-----------------------#2021-06-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="517d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring boot是后端开发中使用最广泛的框架之一。我最近加入了一个以Spring Boot为技术平台的项目，我从来没有使用过这个框架！所以我开始在网上学习，但是很多东西我都没有掌握。我了解了如何建立一个spring boot项目，如何创建一个RESTful API，以及如何创建服务和存储库等等。等等。但我仍然对它实际上是如何实现自动布线的魔力感到困惑。所以我开始更多地探索这个框架，并试图理解Spring中的一个基本概念，即<strong class="ih hj">bean</strong>。这是我所理解的…</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/484f30ced10172511e78eb1eee234ecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NR3QNSbR1MmC1qsRrFsEpQ.jpeg"/></div></div></figure><p id="beee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要了解<em class="jp">豆</em>，首先要了解一下弹簧使用的<strong class="ih hj"> <em class="jp">反转控制</em> </strong>原理。</p><p id="eb9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在普通编程范例中，我们使用<strong class="ih hj"> new </strong>关键字来创建一个对象。这在两个类之间创建了依赖关系。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/ccee798e6371965b373fbe12ff155c48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*25mujuqgZYPtbwbB3z1OGw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/838ac1b42f7e98c5af0765c032b26e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rsY1TDdJgwXtNqHIUxeMsA.png"/></div></div></figure><p id="1d44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本例中，数学类直接依赖于加法类，而<br/>在创建数学类时，我们无法控制加法类。</p><p id="6008" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> <em class="jp">反转控制</em> </strong>中，我们这样做:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/a27740d5199d1f274d65829c0474ea3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wET6XB8aApTEHhIxet0UVg.png"/></div></div></figure><p id="fd3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这种情况下，我们通过setter方法接收addition class类型的Addition对象。<strong class="ih hj">这样就消除了数学课和加法课之间的依赖关系。</strong></p><p id="e1b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经<strong class="ih hj">控制在实例化数学类时使用哪个加法类实现</strong>。</p><p id="73c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种实践也被称为<strong class="ih hj">依赖注入</strong>。Spring中的自动布线也是基于同样的原理。</p><h2 id="7b4f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">那么豆子基本上是什么呢？</h2><p id="d57e" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">Bean是一个预定义、预配置和<strong class="ih hj">预实例化的某个类的对象</strong>。</p><p id="87cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用外行的话来说，</p><p id="54ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Bean是一个我们可以注入到任何类中的对象，我们不需要担心它的实例化或者它的依赖，因为这是由框架本身来处理的。 </p><p id="6a3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring中的beans存储在一个<strong class="ih hj"> IoC(控制反转)容器</strong>中，这个容器通常被称为<strong class="ih hj"> <em class="jp">应用程序上下文。</em> </strong></p><h2 id="cd3e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">我们如何创建一个Bean？</h2><p id="f7ba" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">有很多方法可以创建一个Bean。使用<strong class="ih hj"> @Component </strong>注释就是其中之一。</p><p id="e31d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们在上面的例子中使用beans和自动连接。</p><p id="c7e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们创建一个加法类的bean。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/d7a0076326eb8576cb66bf270339e643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SVWc8z0pOtnMsVZrLSHww.png"/></div></div></figure><p id="4f6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！现在，将创建一个添加类的bean，并将<strong class="ih hj">存储在应用程序上下文</strong>中。</p><p id="1170" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">由于应用程序上下文中存在添加类的bean，我们现在可以使用@Autowired注释在任何类中直接注入该bean。</em> </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ku"><img src="../Images/803c00672e4a3131a965d2ab8d9c0949.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OwxF8tEgzljCMJItfKanog.png"/></div></div></figure><p id="87c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所看到的，我们已经使用@Autowired annotation，<strong class="ih hj">直接注入了Addition类型的对象，因为Addition类型的Bean出现在应用程序上下文</strong>中。</p><p id="1a31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们得到了一个已经实例化的对象，所以我们不需要担心它的实例化。</p><p id="4a10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，现在我们必须让数学类也成为Bean，否则自动布线逻辑将无法工作。</p><p id="b09c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，如果我们注意到，我们在这里使用了IoC或DI(依赖注入)原则，因为我们是从外部注入所需的依赖，而不是在类本身中实例化相同的依赖。</p><p id="f33b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">@Autowired注释负责搜索应用程序上下文，并自动找到所需类的Bean。</p><p id="098a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你读了<strong class="ih hj">，那么豆子基本上是什么</strong>还是那句话，会更有意义。</p><p id="9fa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以使用<strong class="ih hj"><em class="jp">application context</em></strong>的<strong class="ih hj"> <em class="jp"> getBean </em> </strong>方法来验证我们的Bean是否存储在应用程序上下文中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/36c00472e1be4e207167e8c1e31dec21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z1OucE8I4JI2OObPd03kgQ.png"/></div></div></figure><p id="7f1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将会很好的工作！</p><blockquote class="kw kx ky"><p id="eb33" class="if ig jp ih b ii ij ik il im in io ip kz ir is it la iv iw ix lb iz ja jb jc hb bi translated">这里有一个指向相同代码的github链接，你可以随意克隆它，并开始自己进行实验，以消除你对Spring bean的疑虑:<a class="ae lc" href="https://github.com/yogeshnikam671/springioc.git" rel="noopener ugc nofollow" target="_blank">https://github.com/yogeshnikam671/springioc</a></p></blockquote></div></div>    
</body>
</html>