<html>
<head>
<title>Auto discovering and auto actions in data monitoring or How to drink coffee instead of routine tasks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据监控中的自动发现和自动操作或如何喝咖啡来代替日常任务</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/auto-discovering-and-auto-actions-in-data-monitoring-or-how-to-drink-coffee-instead-of-routine-cf3b31312efa?source=collection_archive---------16-----------------------#2022-05-11">https://medium.com/geekculture/auto-discovering-and-auto-actions-in-data-monitoring-or-how-to-drink-coffee-instead-of-routine-cf3b31312efa?source=collection_archive---------16-----------------------#2022-05-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5afd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗨中号！我是瑞克·莱瑟姆。我是一名IT工程师，在一家美国电信公司负责数据监控。直到今天，我只是一个谦虚的读者和害羞的内容消费者，但在花费多年时间进行日常手工活动并最终发现解决方案后，我觉得有必要分享。这是我的第一篇文章，希望你会觉得有趣和有用。我期待着你的反馈，但现在，让自己舒服，倒一些咖啡，享受！</p><h1 id="e59f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">顺便说一下，关于咖啡…</h1><p id="f7f4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">跷着二郎腿喝咖啡，看着系统所有元件附近的绿灯，是每个做IT监控的IT工程师的梦想。但根据我的经验，这通常只是一场梦。在我的工作中，我支持100多个不同的系统、服务和服务器，并且这个基础设施不断地扩展、改变、获取新的项目和连接。我与Zabbix一起工作，虽然它满足性能要求，但我不仅需要监控it基础设施，还需要监控我自己。如果我不在监控中加入新的元素，当这些元素之一没有响应时，我将不会收到警报。当然，直到当其中一个服务关闭时，愤怒的用户在我的部门的外部接口上模拟DDoS攻击。</p><p id="95e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了避免此类事件，并确保我不会在冷汗中醒来，试图记住我是否将一个新的配置项目放在监控上，我决定寻找是否有一个解决方案来自动化这些过程并将这一日常工作分配给机器。我就是这样找到阿库雷的。不，这不是一个错别字，这是一个AIOps平台的名字——这个故事的主角。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/07b2390b65001d9dfe78915a6ee4ccd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wSKPUqRFtcy0nXKT"/></div></div></figure><h1 id="ebb3" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">什么是AIOps？</h1><p id="c3d2" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">几年前我听说了“IT运营的人工智能”这个术语，或“AIOps”，这要感谢Gartner(还有谁？)这是定义:</p><blockquote class="ks kt ku"><p id="7044" class="if ig kv ih b ii ij ik il im in io ip kw ir is it kx iv iw ix ky iz ja jb jc hb bi translated">AIOps平台利用大数据、现代机器学习和其他高级分析技术，通过主动、个性化和动态的洞察力，直接和间接增强IT运营(监控、自动化和服务台)功能。AIOps平台支持同时使用多种数据源、数据收集方法、分析(实时和深度)技术和表示技术。</p></blockquote><p id="f7c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，AIOps有两个方面——大数据和机器学习。现在你应该看到一个聪明的图片。</p><p id="c4c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">啊，在这里。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kz"><img src="../Images/35d4c2f64704ca3b64f38c7c1f59b124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*DOw4DpmiONDanpu2"/></div><figcaption class="la lb et er es lc ld bd b be z dx"><em class="le">The source: Gartner, Inc</em></figcaption></figure><p id="13fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很明显，对于我的情况，我将从AIOps平台中受益，但我需要选择正确的平台。我遇到的问题是一个严重的成本障碍，因为我没有埃隆·马斯克那样的预算。所以我开始寻找免费的解决方案，找到了<a class="ae lf" href="https://acure.io/" rel="noopener ugc nofollow" target="_blank"> Acure.io. </a></p><h1 id="076d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">治愈方法？</h1><p id="656c" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">一点Acure的背景。Acure是一个新的事件控制和自动化平台，由拉脱维亚的一家公司创建，他们集成了许多功能。它引起了我的注意，因为他们将它推销为由工程师为工程师<strong class="ih hj">制造，这对我很重要，因为没有人比一位同事工程师更了解It监控的所有痛点和内幕。它拥有灵活和开放的架构、根本原因和影响分析、拓扑模型、整个It系统状态的单一屏幕、与流行的监控系统的集成(当然包括Zabbix)以及低代码引擎。这一切听起来都很棒，尤其是那些低代码，因为尽管我是一个It奇才，但我不是编码高手，所以我可以自己完成所有的配置和更改。</strong></p><p id="24d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很快Acure将发布SaaS版本，但他们也有企业内部许可证。我联系了团队，解释了我的需求，他们友好地给了我一个内部版本，让我可以测试它。我必须配置数据流，自动发现配置项目，对其进行监控，甚至启动自动修复脚本。所有这些过程在内容丰富的Acure用户指南中都有详细描述。</p><p id="cffe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我只写了我的案例，展示了我的界面、设置、按钮和脚本，但不要担心大量的配置。配置完成后，Acure将使您未来的工作流程更加轻松。</p><p id="0b9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我提到的，Acure是一个SaaS解决方案，本地版本需要单独申请。因此，我不会把重点放在安装过程上(在SaaS版本中，它只是意味着创建空间)，而是直接进入我的要点。</p><h1 id="4769" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">来自外部系统的事件的汇总和分析</h1><p id="a797" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">首先，我建立了一个<strong class="ih hj">数据流</strong>来接收来自其他系统的数据。在Acure中，这个过程非常简单和直观。在<em class="kv">数据采集—数据流</em>部分，只需按下<em class="kv">+添加流</em>按钮，并填写以下字段。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lg"><img src="../Images/3c44d1ddb690801bcfab4a4089555664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKHMkuXw7HHi0lEcTJFl1A.jpeg"/></div></div></figure><p id="a47d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Acure允许您选择一个带有预配置任务和处理程序的流行监控系统的模板，这是一个很棒的特性。你不需要为复杂的配置而困惑，因为系统会为你做好一切。</p><p id="9e15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我已经说过的，我正在使用Zabbix，所以我选择了它的模板。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lh"><img src="../Images/a43a83004d70274a9d341eb839293324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eVaQlrmnR5ZKXnNV5Alt6w.png"/></div></div></figure><p id="934a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我使用连接URL连接Zabbix和Acure，并登录到Zabbix。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es li"><img src="../Images/f37505a7c18f99f7cab096d544ad9ab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P6djVw_ycl5lgtK1"/></div></div></figure><p id="1ec0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">配置模板已经包含了将Zabbix绑定到Acure的任务，但是在我的例子中，我需要再添加一个自定义任务来从Zabbix获取数据，以便进一步创建拓扑。我在YAML写了这个脚本，并向Zabbix API提出了一个请求:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es li"><img src="../Images/ed0cf0166f82e6d88af4f7f5a0443420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EgOJVir6OnKxLypg"/></div></div></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es lj"><img src="../Images/c93824be93dc9bd99f7a7ad0cfa4d045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*uNCJjWqSHJ9Z-VqToxyzcg.png"/></div><figcaption class="la lb et er es lc ld bd b be z dx">This script can easily be used as a template by inserting it manually and changing URL of primary system, the source for data receiving and token according to your data.</figcaption></figure><p id="9090" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">API令牌取自Zabbix:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lk"><img src="../Images/2fbb8de31804dfdf95557c2a5b9f9b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wJTwHj_cWVu7tXbI"/></div></div></figure><p id="8cea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我保存了更改，瞧！该流被添加到数据流中</p><div class="kh ki kj kk fd ab cb"><figure class="ll kl lm ln lo lp lq paragraph-image"><img src="../Images/205153ed821d08f62133c404a8fb7eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/0*6jRxmF1CZDQ82Nn2"/></figure><figure class="ll kl lr ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/d21fd0f6f739a40bcdbebf5756c232d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/0*jmsXo-xHm8ijslDi"/></div></figure></div><p id="cde4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，魔法并不止于此。由于安全策略，拓扑数据收集任务无法在内部代理上运行。在运行它之前，我必须连接外部代理。这听起来可能有点复杂，但它真的没有那么糟糕。一旦这一步做好了，你就不需要再担心了。</p><p id="ed22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我添加了一个新的协调器，并在其中设置了自定义代理。</p><div class="kh ki kj kk fd ab cb"><figure class="ll kl ls ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/348c3397135a9c58753bb5938c58178f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*3kNfLtxi5Uog_ArchImpKg.jpeg"/></div></figure><figure class="ll kl lt ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/e0702023d242a409355dae976ea606ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/0*D9KgUAcbRD2Rcelj"/></div></figure></div><p id="5348" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设置完成后，我返回到数据流，并将手动添加的定制任务中的代理更改为新创建的代理。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es lu"><img src="../Images/57cce1a2294308c5e85392a44acbe4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/0*UExJNvGMUWvWJGau"/></div></figure><p id="a599" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">终于，我开始流了。在<em class="kv">事件和日志</em>中，我可以检查事件以确保系统正在收集数据。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lv"><img src="../Images/f39ec17d6356c4c0ce86e7cf5613d9eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qq-koqCnMWWhVZBpV5fdhQ.png"/></div></div></figure><p id="e9c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在“陷入”一个报告问题的事件之后，我不仅看到了它的表视图，其中包含了Zabbix中所有元素的信息，还看到了Zabbix的标准JSON结构，例如:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lw"><img src="../Images/ad8f1aca524f0db0a3a453c13b3bc4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6lqBWrzVp8tiqqezmv8L0A.jpeg"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx">Info about the Zabbix hosts</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lx"><img src="../Images/9369c4e7edd883993173167cf12bb21a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LN0-VQTfu4skay5C"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx"><em class="le">JSON structure for one of the Zabbix events</em></figcaption></figure><p id="2b01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于来自主监控系统的事件，我构建了资源服务模型。</p><p id="c629" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">资源服务模型的建立</strong></p><p id="f924" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">资源服务模型(RSM)是来自系统的配置项目(CI)以及它们之间的连接的列表。在Acure中，RSM是基于拓扑的，但我不会超越自己。让我们回到JSON结构。以下参数是RSM的基础。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ly"><img src="../Images/850dc5119a878fd2613cc14c8f9fd93e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eLEBFyA4RT2Y4t3q"/></div></div></figure><p id="765d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了进一步自动创建配置项，我决定:</p><p id="e328" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kv"> CI的名字== host.name (Zabbix主机名)</em></p><p id="304c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kv">父配置项的名称== host.groups[0]。名称</em></p><p id="7938" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kv">相关对象= &gt; Zabbix节点</em></p><p id="dd4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在自动化部分，我为我的工作组添加了一个新的场景。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lz"><img src="../Images/8fef667e8931ea21b503c112e2354b49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mYZSNvge8-g1AEvh"/></div></div></figure><p id="d2a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文档中清楚地描述了场景创建的过程。在阅读完它并查看了几个例子之后，任何人都可以创建一个任意复杂的场景，而无需任何硬编码。低代码引擎使得这个过程对于像我这样的非程序员来说非常容易。只需添加块，绑定它们，并创建脚本。</p><p id="97fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个场景都从接收拓扑事件的“OnLogEvent”块开始。我的也不例外。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ma"><img src="../Images/2e7843e5e7a19099aef0014a6577ae40.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/0*5916S6UvLzBZJzKn"/></div></figure><p id="9644" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我检查了流:我的流名与脚本中的值匹配(在我的例子中，是Zabbix Sync)，所以脚本被进一步执行。否则，脚本将不会执行。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mb"><img src="../Images/72cd04f16161b18462dc78167ffcf3d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yuzn3dKXmhPDKeGr"/></div></div></figure><p id="301a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了从一个信息系统扩展拓扑“bush ”,我通过Service Model Graph选项卡中的CI创建选项手动创建了一个根CI。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es li"><img src="../Images/781fdc7e39aac421dc0f7dd678375bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MtsatWUHrUc1YAUb"/></div></div></figure><p id="d471" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建了一个配置项后，我从链接中取出它的ID，并将其粘贴到脚本中的以下块中。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es mc"><img src="../Images/10709a9bee0441ac279f90da4edd8165.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/0*dhVPa9sHoUzzCbGf"/></div></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es md"><img src="../Images/37ee65e2def57f27bb5a880372c709c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/0*HgMB9cwCGd4fbZGF"/></div></figure><p id="8211" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建场景时，所有组都链接到该根配置项，该配置项显示拓扑上整个系统的运行状况。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es me"><img src="../Images/eff19c904d77bf32d661b762875d7838.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_lKlpSMrS2M-S3f2"/></div></div></figure><p id="48da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还不想破坏拓扑结构，所以让我们回到创建一个脚本，这个脚本可以有条件地分为两个部分:</p><p id="459d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.配置项(CI)的创建。</p><p id="0626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.绑定主要监控系统的节点(用于进一步绑定触发器)。</p><p id="7558" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我改进了我的脚本，进行了各种检查，添加了配置项的自动创建并配置了它们之间的绑定，编译并运行了该场景。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lz"><img src="../Images/244f3e6d1d0b6aba468ee5c2a65a8466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NxR2yS2jwyj8_umZ"/></div></div></figure><p id="5d66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该脚本的执行向我展示了服务模型图，该图实时显示了所有组件的状态和系统的健康状况。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mf"><img src="../Images/b672559f8a868657941caee8432a5c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ag4D8c6FCbrcUzOc"/></div></div></figure><p id="33bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我添加了新的配置项来测试自动发现，并立即在地图上看到了它。为了确保系统没有欺骗我，我在事件日志中检查了新项目的添加。哇哦！所有新配置项都是自动添加的。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mg"><img src="../Images/0971133930332b2a00c319ec65cdfbea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jzVCuee01paZlAqY"/></div></div></figure><p id="2e97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是如果我把自己局限于自我发现，我就不是我了。</p><h1 id="d9fb" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">自动规则和自动操作</h1><p id="316f" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">正如您已经了解的那样，Acure接管了一些任务，并自动化了以前手动执行的常规流程。我决定检查系统本身是否能够执行由CI中的某些变化触发的某些操作和规则的算法。</p><p id="b8e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在“规则和操作”部分，我为优先级为2或更高的所有配置项和事件添加了一条新规则。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mh"><img src="../Images/e2d149e0bd0fca7cb9a7bcfae787b550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0vIO1uOJk1_is0v5"/></div></div></figure><p id="febf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我配置了一个自动操作，如果触发该规则，将执行该操作。在我的例子中，有两个通过电子邮件发送的通知，时间间隔分别为2分钟和30分钟，如果在这段时间内没有修复事件，将执行自动修复脚本。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lz"><img src="../Images/ae528c29feab5d6567caee93db3dfe94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QIXqnDE29t379vFn"/></div></div></figure><p id="c43b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">警报模板也可以在Acure中配置。我使用了预配置的模板，但也能够使用Markdown和HTML标记添加任何文本和附加必要的文件。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es mi"><img src="../Images/9c8c9fde2b79e672618490686a6ddd21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/0*jQ6yfLGoka_21yil"/></div></figure><p id="889e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，当检测到具有高优先级的事件时，应该触发这个自动操作脚本:发送必要的通知并运行自动修复。自动！当你舒舒服服地把腿放在桌子上喝咖啡的时候。</p><h1 id="f855" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="f871" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在本文中，以Acure平台为例，我展示了为什么在将日常工作委托给机器时没有理由紧张，以及它如何可以将您的时间释放出来用于更有趣的任务。</p><p id="66e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该系统有一个方便直观的界面和几个很酷的功能:与其他监控系统集成的能力，拓扑结构，低代码，在一个屏幕上显示整个基础设施的状态，以及从设置监控配置项目到运行自动脚本的全自动化过程。当事件进入系统时，它会改变服务模型本身或其状态。Acure自动允许跟踪所有这些变化，并采取相关的行动。自动添加对象，自动绑定主要本地监控系统触发器，自动传播升级策略，自动计算系统健康状况，并运行自动化脚本。</p><p id="e38e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如此简单的解决方案如此强大，真是太棒了。这是监控系统由使用这些系统的人自己制造的结果。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es mj"><img src="../Images/25004a2bd223e1bec8591191b053cb06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/0*HoHgGDT4Ns9aIEZv"/></div></figure><p id="af15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我也喜欢开发团队——他们反应迅速，迅速回答问题，并提供所有必要的信息和许可证。尽管Acure是一个年轻的平台，它有值得努力的地方，但我看到了巨大的潜力。</p><p id="733a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很快这些家伙就会发布新的SaaS版本，当然，我会一边喝咖啡一边期待；)</p><p id="df7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但现在分享你的想法，反馈，并在评论中看到你。</p></div></div>    
</body>
</html>