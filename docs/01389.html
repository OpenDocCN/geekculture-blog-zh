<html>
<head>
<title>Build a WhatsApp Chatbot Voting Application Using NodeJs and Twilio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NodeJs和Twilio构建一个WhatsApp聊天机器人投票应用程序</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/build-a-whatsapp-chatbot-voting-application-using-nodejs-and-twilio-570c05324589?source=collection_archive---------14-----------------------#2021-04-08">https://medium.com/geekculture/build-a-whatsapp-chatbot-voting-application-using-nodejs-and-twilio-570c05324589?source=collection_archive---------14-----------------------#2021-04-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="76ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着本世纪技术进步的速度，我们总是在寻找新的方法来自动化我们的任务，使我们的生活变得更好。聊天机器人帮助我们减少对手动沟通方式的依赖，同时也挑战我们实施解决方案的先入为主的方式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/89e7c36d7636071cb58c941c493f4567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rWd1wZXM-EXwJ7Rs"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Photo by <a class="ae jt" href="https://unsplash.com/@owenbeard?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Owen Beard</a> on <a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="11b2" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">什么是聊天机器人？</h1><p id="d2ae" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">就其定义而言，它是一个软件应用程序，用于通过文本或文本到语音的方式进行在线聊天，而不是提供与真人代理的直接联系。它已经被用在不同的环境中，从客户支持，电影/表演的预定票，银行(UBA利奥)等等。它的用途只能受到我们创造力的限制！</p><p id="000c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我们将通过使用Twilio平台构建一个带有NodeJs的投票WhatsApp聊天机器人，开始一段创意之旅。</p><p id="3912" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功完成本教程后，您将学会如何:</p><ol class=""><li id="83bc" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">回复发送到您Twilio WhatsApp号码的WhatsApp消息</li><li id="a906" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">开发基于Rest API的投票应用程序</li><li id="1fbf" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">使用Twilio WhatsApp API发送自由格式的消息</li></ol><h1 id="8868" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">先决条件</h1><p id="9bb0" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">要成功完成本教程，需要具备以下条件:</p><ul class=""><li id="56b1" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc ll ld le lf bi translated">NodeJs基础知识</li><li id="ff1f" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ll ld le lf bi translated">您的计算机上安装的NodeJs和Npm</li><li id="b600" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ll ld le lf bi translated">一个支持WhatsApp的Twilio号码</li><li id="7e2b" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ll ld le lf bi translated">Twilio帐户</li><li id="6cf4" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ll ld le lf bi translated">一个<a class="ae jt" href="https://ngrok.com/product" rel="noopener ugc nofollow" target="_blank"> ngrok </a>的装置</li></ul><h1 id="2765" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">设置和安装</h1><p id="3ef1" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我们会利用Nodejs。首先创建一个目录，然后进入cd并运行这个命令</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="616c" class="lr jv hi ln b fi ls lt l lu lv">$ mkdir <!-- -->e-voting<!-- --> &amp;&amp; cd <!-- -->e-voting</span></pre><p id="4347" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们通过创建package.json来初始化节点项目，该命令允许创建文件，而无需我们输入提示值。您可以稍后更改该文件中的值。</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="d06f" class="lr jv hi ln b fi ls lt l lu lv">$ npm init -y </span></pre><p id="bf8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们继续安装我们将要使用的包</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="2f5d" class="lr jv hi ln b fi ls lt l lu lv">$ npm i <!-- -->express twilio</span></pre><p id="38ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快速—我们用来设置我们的服务器</p><p id="9d3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Twilio——我们用来发送消息的Twilio库</p><p id="f8fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经设置好了我们的环境，让我们继续进行我们的Twilio <a class="ae jt" href="https://www.twilio.com/console/sms/whatsapp/learn" rel="noopener ugc nofollow" target="_blank">沙箱</a>的设置。</p><h1 id="0f26" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">设置WhatsApp沙盒</h1><p id="71a9" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为了让我们的聊天机器人访问来自WhatsApp的消息，Twilio提供了一个非常强大的<a class="ae jt" href="https://www.twilio.com/whatsapp" rel="noopener ugc nofollow" target="_blank"> WhatsApp API </a>，允许我们在应用程序中发送和接收WhatsApp消息。</p><p id="1527" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，在我们可以开始在生产中使用Twilio WhatsApp API发送和接收消息之前，我们必须首先获得一个<a class="ae jt" href="https://www.twilio.com/whatsapp/request-access" rel="noopener ugc nofollow" target="_blank"> WhatsApp批准的Twilio号码</a>，它将作为我们发送和接收消息的WhatsApp号码。在本教程中，我们不会让自己卷入这个过程，我们宁愿利用Twilio为开发和测试目的提供的安全<a class="ae jt" href="https://www.twilio.com/console/sms/whatsapp/learn" rel="noopener ugc nofollow" target="_blank">沙箱</a>。</p><p id="b44f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要开始使用Twilio WhatsApp沙箱，我们进入Twilio仪表板上的<a class="ae jt" href="https://www.twilio.com/console/sms/whatsapp/learn" rel="noopener ugc nofollow" target="_blank"> WhatsApp部分</a>，并向提供的沙箱号码发送一条消息；通常，<code class="du lw lx ly ln b">+14155238886</code>带有提供的代码，其格式为<code class="du lw lx ly ln b">join-{unique word}</code>:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/3815d5d1090b5d550487ced3ac9521eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lqGb0hDYQmc6sJ18Ltxbbw.png"/></div></div></figure><p id="e61e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">加入后，您应该会收到类似下面的回复。如果你没有检查你所遵循的过程，以确保你没有错过任何一步。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ma"><img src="../Images/e0eee63dd96d9dfe3a6587fcfae808cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*XslwAxlsILNzK5EeXYWl_g.jpeg"/></div></figure><h1 id="6d56" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">构建应用程序</h1><p id="dcc0" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">从安装开始，我们的项目中只有一个package.json文件。然后，我们将创建一个名为index.js的新文件，该文件将用于设置我们的应用服务器(使用expressjs)</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="672f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面简单地使用了express来启动服务器，并使用了在第2行导入的路由文件。稍后，我们会将所有请求发送到指向这个外部路由文件的<strong class="ih hj"> /vote </strong>路由上的服务器。</p><p id="bba7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们继续创建包含逻辑的routes.js</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="ef70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我知道这个文件看起来很长，但是通过一些解释，你会发现它并没有那么复杂。为了使解释更容易，我将一节一节地解释。</p><p id="908d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从第1行到第5行的第一部分<strong class="ih hj">是我们在应用程序中安装助手文件和方法的地方。在第3行，我们安装了Twilio官方NodeJs模块，我们将使用它发送回我们的响应。第4行我们导入了助手响应模块(这将有助于格式化我们的各种响应)。第5行，我们引入了实用程序模块，在这里我们存储了助手函数。</strong></p><p id="f02d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第7–25行的第<strong class="ih hj">部分</strong>是我们定义文件变量和默认值的地方，比如投票和候选人。</p><p id="ca79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三部分</strong>从第27–43行开始，仅包含一个函数showCandidates，我们简单地使用它来显示用户请求的候选列表。</p><p id="c628" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四部分</strong>跨越第46–136行，由四个功能组成，负责实际接受和验证用户投票，并向用户显示结果。前两个函数是实际的投票，后两个函数用于显示结果。它是这样工作的:</p><p id="e718" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a) castVote ():它开始投票过程，并接受用户投票。一旦用户选择投票，并且通过线218第一次调用该方法，在它已经执行检查以确定有候选人要被投票(线81)之后，它通过线82在服务器中为该特定用户创建跟踪器。</p><p id="caa8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，它返回一个带有候选人列表及其id的响应，使用户能够知道如何在下一次聊天中为他们选择的候选人投票，它还包括一种取消投票过程的方法，并通过附加唯一值(0)从用户端删除跟踪器，用户应该使用该值退出投票过程(调用list_of_candidate的第83行接受showCandidates函数作为参数)。</p><p id="49f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当用户接下来用聊天进行响应时，我们通过将聊天值转换为一个数字并检查其值来进行检查，如果它是0，我们知道用户想要取消投票过程(第203行)，然后我们取消该过程并向用户发送一个响应。如果用户发送任何其他值，那么我们调用带有所需参数的<strong class="ih hj"> castVote </strong>(第207行)。</p><p id="32a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当调用castVote并传递这些值时，我们转到第75行，确保用户之前没有投票，然后我们转到第76行，再次检查用户是否确实已经开始投票，最后我们在第77行确认实际上有候选人要投票。在这之后，我们用提供的参数调用第78行的<strong class="ih hj"> addVote </strong>。</p><p id="a84b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b) <strong class="ih hj"> addVote </strong>():这个函数负责实际接收用户的投票。首先，我们检查第58行，以确保用户提供的值实际上是候选人的id。然后，我们继续添加用户投票，将他们从投票过程中删除，并发回一个成功的响应(第61-63行)。</p><p id="1c2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">c) <strong class="ih hj"> showResult() </strong>:我们使用这个函数向用户显示结果。第118–119行只是用来验证和确保选票和候选人分别存在。在第121行，我们根据候选人对所有选票进行分组。然后在第122行，我们将从第121行得到的响应格式化，这样我们就可以向用户显示每个候选人的名字、他们累积的总票数以及他们的投票百分比。此外，我们在适用的地方显示了赢家或平局(第95行的formatResult函数帮助我们进行格式化和结果响应。</p><p id="003f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d) <strong class="ih hj"> formatResponse </strong>():如上所述，在第95行，它简单地获取候选人的分组投票，然后返回每个候选人的名字、他们的票数和投票百分比。它还检查平局或赢家，并返回这个格式化的结果作为它的响应。</p><p id="41ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第五部分</strong>从第139-191行开始，由显示和默认消息以及一个页脚组成，我们在每个响应中都包含了这个页脚。<strong class="ih hj"> showDefaultMessage </strong>()用在开头，显示可以执行的动作列表。<strong class="ih hj"> showHelp </strong> () <strong class="ih hj"> </strong>无论何时调用都会显示帮助菜单，而<strong class="ih hj">页脚</strong>包括所有响应的附加消息。</p><p id="e67c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从第191–243行开始的第六个也是最后一个部分是我们接受对服务器的post请求、解析主体内容、处理用户输入并发送响应的地方。第197行简单地给出了用户电话号码，这是每个用户的唯一标识符。我们使用switch语句来获得用户的响应并调用相应的函数。</p><p id="ac65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是这个文件的基本功能，它是我们聊天机器人的引擎。</p><p id="8f6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，让我们添加将保存我们的助手文件的utility.js文件</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="be1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们只有4种方法，基本上可以帮助我们执行各种数据操作。</p><p id="7291" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还包括我们的responses.js文件</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="2564" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经完成了编码部分，您的项目结构应该如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es md"><img src="../Images/5c3f4686f51a13306e60a13b1d52f1fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*tiHvp9SGtQzO2Fjt2pDUlg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Project Structure</figcaption></figure><p id="1119" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们有了一个功能服务器，我们现在将继续创建一个webhook，它将允许我们重定向请求。</p><h1 id="5f9c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">创建一个网页挂钩</h1><p id="30bf" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">这使得Twilio API能够将请求发送到我们的应用程序端点。这就是ngrok.io。</p><p id="3047" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您没有<a class="ae jt" href="https://ngrok.com" rel="noopener ugc nofollow" target="_blank"> ngrok </a>，请在此处继续<a class="ae jt" href="https://ngrok.com/download" rel="noopener ugc nofollow" target="_blank">操作</a>以查看如何获取并设置它在您的系统中运行。我们将使用ngrok提供的URL作为我们的webhook URL。</p><p id="28a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是在此之前，我们需要启动我们的服务器，让我们在项目的根目录下打开一个终端并运行:</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="caf0" class="lr jv hi ln b fi ls lt l lu lv">node index.js</span></pre><p id="391c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将加速我们的服务器并将其暴露给一个端口。在我们的例子中，端口是4000。</p><p id="487b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们打开一个不同的终端并运行</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="7cf3" class="lr jv hi ln b fi ls lt l lu lv">ngrok http 4000</span></pre><p id="42ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后你应该在你的终端上看到这个，Ngrok正在做它的工作！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es me"><img src="../Images/6f28d07454daf6a9db346224e31bf625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e58LnG_4YYFIGIsaPnIpPg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Port Forwarding with Ngrok</figcaption></figure><p id="e1b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然不需要，但我们可以转到图像中提供的Web接口URL(http://127.0.0.1:4040)来查看向端点发出的请求:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mf"><img src="../Images/8317bf90a5caa3416c6e1f17e1ec6de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6npkjXJXfa4bJ9GmygQlmA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Request Dashboard</figcaption></figure><p id="a8f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在更新Twilio中的webhook，指向Ngrok提供的公开URL。这将把所有消息从Twilio重定向到我们系统上本地运行的nodeJs服务器。在这里输入从Ngrok获得的URL，并附加/vote，因为这是我们的完整端点。然后用这个值更新标记为“当有消息进来时”的输入字段。</p><p id="8e45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于我们的例子，我们将输入<a class="ae jt" href="http://9905d7076291.ngrok.io/vote" rel="noopener ugc nofollow" target="_blank">http://9905d7076291.ngrok.io/vote</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mg"><img src="../Images/a0b2500a4e8be47350f03aae2f9c68d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RUTF0M1q19YYvmJdb76f0w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Twilio Sandbox Configuration</figcaption></figure><h1 id="e77e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">测试</h1><p id="a278" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">既然我们已经设置好了webhook，让我们在WhatsApp上测试一下。Hi消息用我们在代码中提供的默认消息来响应。我们可以看到工作正常:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mh"><img src="../Images/49034c84aa7706a5759daed9ec087188.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*Ky4eqycF_lnfuGB_GtZJhg.png"/></div></figure><p id="bedc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们发送3到机器人，我们得到轮询结果回来，它的工作！：</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mh"><img src="../Images/e19512a3fa935ad565a8d2057c8e734c.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*ai3YH7IVqS_77Tf_OspMeg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Shows Result</figcaption></figure><h1 id="9513" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">演示</h1><p id="481a" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">现场演示可以在<a class="ae jt" href="https://www.youtube.com/watch?v=xls_7abY27I" rel="noopener ugc nofollow" target="_blank">这里</a>找到。我进一步添加了更多的功能到项目中，完整的管理功能和功能项目可以在<a class="ae jt" href="https://github.com/chyke007/e-voting" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h1 id="454c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="ceee" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我喜欢这个投票应用程序的一个主要原因是，它允许我参与投票过程，而不必离开我最好的消息平台。</p><p id="1072" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">技术进步使我们能够实现我们的想象，这在过去的一个世纪里是不可能的。我刚刚活出了我的一个！我等不及要看你造的东西了！</p></div></div>    
</body>
</html>