<html>
<head>
<title>Android : Splash Screen using styles / themes.xml</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android:使用styles / themes.xml的闪屏</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/android-splash-screen-using-styles-themes-xml-6997f2f8c09e?source=collection_archive---------33-----------------------#2021-06-15">https://medium.com/geekculture/android-splash-screen-using-styles-themes-xml-6997f2f8c09e?source=collection_archive---------33-----------------------#2021-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0ac83a0a484b27708aed40c5b8ae3b16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LdvUMmlnq79lIX1s"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@marcus_ganahl?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marcus Ganahl</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="aa9b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我之前的一篇<a class="ae iu" href="https://anubhav-arora.medium.com/android-quick-and-simple-splash-screen-ba1d82ccb22d" rel="noopener">文章</a>中，我们谈到了用传统的方式创建一个闪屏。在本文中，我将讨论一种通过使用styles/themes.xml实现闪屏的方法，这将消除创建另一个活动来显示闪屏的需要。</p><p id="6896" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，首先我们需要在styles/themes.xml文件中为闪屏创建一个样式。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="bce9" class="kc kd hi jy b fi ke kf l kg kh">&lt;style name="<strong class="jy hj">SplashScreenTheme</strong>" parent="<strong class="jy hj">Theme.MaterialComponents.DayNight.NoActionBar</strong>"&gt;<br/>    &lt;item name="<strong class="jy hj">android:windowBackground</strong>"&gt;@drawable/ic_splash_screen&lt;/item&gt;<br/>&lt;/style&gt;</span></pre><p id="2778" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我创建了一个名为SplashScreenTheme的样式，其父样式没有动作栏。我添加了一个属性为<strong class="ix hj"> windowBackground，</strong>的项目，这是我们需要放置闪屏样式/ drawable的地方。我正在使用我的drawable文件夹中的图像。</p><p id="b77e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了在我们的启动器活动之前显示闪屏，我们需要用我们刚刚创建的主题替换我们的应用程序主题。<br/>转到清单文件，将应用程序主题设置为<strong class="ix hj"> SplashScreenTheme，</strong></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="eda1" class="kc kd hi jy b fi ke kf l kg kh">&lt;application<br/>    ...<br/>    <strong class="jy hj">android:theme="@style/SplashScreenTheme"</strong>&gt;<br/><br/>    ....<br/><br/>&lt;/application&gt;</span></pre><p id="8cf4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们的应用程序风格被设置为<strong class="ix hj"> SplashScreenTheme </strong>。</p><p id="cbbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，在闪屏显示完成后，给我们的应用程序我们的旧主题，我们需要设置我们之前在启动器活动中使用的应用程序主题<strong class="ix hj"> onCreate(..)</strong>法。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="cd92" class="kc kd hi jy b fi ke kf l kg kh">override fun onCreate(savedInstanceState: Bundle?) {<br/>    super.onCreate(savedInstanceState)<br/>    <strong class="jy hj">setTheme(R.style.<em class="ki">YOUR_THEME</em>)</strong><br/>    <br/>    ....</span><span id="7dd3" class="kc kd hi jy b fi kj kf l kg kh">}</span></pre><blockquote class="kk"><p id="5bb0" class="kl km hi bd kn ko kp kq kr ks kt js dx translated">在我们的启动器活动onCreate(..)被称为我们显示闪屏主题，在它的onCreate(..)叫做我们切换到我们的app主题。</p></blockquote><p id="2e16" class="pw-post-body-paragraph iv iw hi ix b iy ku ja jb jc kv je jf jg kw ji jj jk kx jm jn jo ky jq jr js hb bi translated">如果我们现在运行我们的应用程序，闪屏将会出现。<br/>如果你注意到我们可以在闪屏上看到状态栏和导航按钮，我们可以隐藏它们以给用户更好的体验。同样，我们需要在我们创建的主题中再设置两个属性，</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="757e" class="kc kd hi jy b fi ke kf l kg kh">&lt;style name="SplashScreenTheme" parent="Theme.MaterialComponents.DayNight.NoActionBar"&gt;<br/>    &lt;item name="android:windowBackground"&gt;@drawable/ic_splash_screen&lt;/item&gt;<br/>    <strong class="jy hj">&lt;item name="android:windowTranslucentStatus"&gt;true&lt;/item&gt;<br/>    &lt;item name="android:windowTranslucentNavigation"&gt;true&lt;/item&gt;</strong><br/>&lt;/style&gt;</span></pre><p id="602a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上述属性是不言自明的，它们使状态栏和导航栏半透明。</p><p id="99e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就是这样，伙计们，您已经启动并运行了闪屏，无需创建另一个活动。</p></div></div>    
</body>
</html>