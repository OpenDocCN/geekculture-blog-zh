<html>
<head>
<title>Simple cluster analysis using the K-Means Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用K-Means算法的简单聚类分析</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/simple-cluster-analysis-using-the-k-means-algorithm-72894179a54f?source=collection_archive---------45-----------------------#2021-06-29">https://medium.com/geekculture/simple-cluster-analysis-using-the-k-means-algorithm-72894179a54f?source=collection_archive---------45-----------------------#2021-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2b6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">聚类分析使用数学模型，根据每个组中客户之间的最小差异来发现相似的客户组。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/dc3a3753ae9565367e5ce1fa767e945d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*L6nm5aCgu_BAPZnc.png"/></div></div></figure><h1 id="2396" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">概述</strong></h1><p id="6904" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">这篇文章旨在以简单的方式解释如何使用K-Means算法对你的客户进行聚类，以及这种方法如何帮助营销团队更好地开展客户活动。为此，我使用了一个简单的数据库，你可以在这里<a class="ae ks" href="https://medium.com/r?url=https%3A%2F%2Fwww.kaggle.com%2Fvjchoudhary7%2Fcustomer-segmentation-tutorial-in-python" rel="noopener">找到</a>。</p><h2 id="4a3d" class="kt jq hi bd jr ku kv kw jv kx ky kz jz iq la lb kd iu lc ld kh iy le lf kl lg bi translated">什么是聚类分析？</h2><p id="9e9e" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">聚类是一套使用数学和机器学习模型将数据划分成组或簇的技术。聚类被松散地定义为数据对象组，这些数据对象组与它们所在聚类中的其他对象的相似性高于它们与其他聚类中的数据对象的相似性</p><p id="ca07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从商业的角度来看，聚类分析的主要目标是实现更有效的营销策略，根据客户的需求和偏好，利用聚类分析为目标客户提供特定的优惠和收益。一种常见的聚类方法是数学模型K-Means。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="5389" class="jp jq hi bd jr js lo ju jv jw lp jy jz ka lq kc kd ke lr kg kh ki ls kk kl km bi translated">K均值方法</h1><p id="aa23" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">k-means聚类方法是一种无监督的机器学习技术，用于识别数据集中数据对象的聚类。有许多不同类型的聚类方法，但k-means是最古老和最容易接近的方法之一。</p><blockquote class="lt lu lv"><p id="13cf" class="if ig lw ih b ii ij ik il im in io ip lx ir is it ly iv iw ix lz iz ja jb jc hb bi translated">它使用迭代技术根据聚类中心(<em class="hi">质心</em>)将未标记的数据分组到K个聚类中。选择每个聚类中的数据，使得它们到各自质心的平均距离最小化<em class="hi"/>。</p></blockquote><h2 id="a89d" class="kt jq hi bd jr ku kv kw jv kx ky kz jz iq la lb kd iu lc ld kh iy le lf kl lg bi translated">惯性</h2><p id="22b5" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">惯性衡量数据集被K-Means聚类的程度。其计算方法是<strong class="ih hj">测量每个数据点与其质心之间的距离，对该距离求平方，并对一个聚类上的这些平方求和</strong>。</p><p id="9cb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个好的模型是具有<strong class="ih hj">低惯性和低簇数(K) </strong>的模型。然而，这是一种权衡，因为随着K的增加，惯性减小。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h2 id="7a07" class="kt jq hi bd jr ku kv kw jv kx ky kz jz iq la lb kd iu lc ld kh iy le lf kl lg bi translated">那么，我怎么知道需要多少个K簇呢？</h2><p id="e565" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">其中最常见的方法是使用<strong class="ih hj">肘法</strong>。基本上，有必要确定一个点，该点指示更大的同质性和聚类之间的最大差异之间的平衡，<strong class="ih hj">这将是曲线上距离点P0和P1 </strong>之间绘制的直线最远的点，遵循以下等式。别担心，我们会用一种简单的方法来解决这个问题。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ma"><img src="../Images/f7fa7e336f5d316b52e7e7bfb06ea20d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FMUQdUDxjzf7GNxn.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">EQUATION 1 — Formula to find the distance between a point to a line</figcaption></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mf mg l"/></div></figure></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="f678" class="jp jq hi bd jr js lo ju jv jw lp jy jz ka lq kc kd ke lr kg kh ki ls kk kl km bi translated">数据分析</h1><h2 id="27f4" class="kt jq hi bd jr ku kv kw jv kx ky kz jz iq la lb kd iu lc ld kh iy le lf kl lg bi translated">数据背后的故事…</h2><p id="78c2" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">你拥有一家超市，通过会员卡，你拥有一些关于你的客户的基本数据，并希望通过了解你的客户的特征和购买行为来改进你的营销策略，并将其提供给你的营销团队来计划未来的活动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/9cc4f32cf4c4abdd6177e766eb0fd060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OcWugKHuMPrvdSaoXsvJfw.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">FIG 1 — The dataset</figcaption></figure><p id="ac35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是数据集中每个变量的模式和解释:</p><ul class=""><li id="7ea2" class="mi mj hi ih b ii ij im in iq mk iu ml iy mm jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">用户ID </em> </strong> <em class="lw"> —顾客id </em></li><li id="bb58" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">性别</em> </strong> <em class="lw"> —服装师性别</em></li><li id="faa8" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">年龄</em> </strong> <em class="lw"> —服装商的年龄</em></li><li id="06d5" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">年收入</em> </strong> <em class="lw"> —客户年收入</em></li><li id="6f3c" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"><em class="lw">SPENDING _ SCORE</em></strong><em class="lw">—客户基于行为和购买数据的得分(得分越高，客户费用越高)</em></li></ul><h2 id="b2af" class="kt jq hi bd jr ku kv kw jv kx ky kz jz iq la lb kd iu lc ld kh iy le lf kl lg bi translated">数据分析</h2><p id="54bf" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在图3中，我们可以看到每个人口统计信息的客户分布情况。首先，我们有了<strong class="ih hj">年龄对比</strong> —女性在数据集中出现得更多，年龄在35-50岁之间的略有增加。<strong class="ih hj">年收入</strong>的分布似乎更加平均，其峰值为7万，而<strong class="ih hj">支出得分</strong>遵循相同的模式，在avg上有50分的最多消费者。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/38f1a4a00af42a7f761ca0441187b59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gIHc3xSxIPDib19I346KrA.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">FIG 3 — Age, Annual Income and Spending Score distribution by gender</figcaption></figure></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="7812" class="jp jq hi bd jr js lo ju jv jw lp jy jz ka lq kc kd ke lr kg kh ki ls kk kl km bi translated"><strong class="ak">现在，实现K-Means算法</strong></h1><p id="1582" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">第一步是计算惯性，这将测量K-Means对数据集的聚类程度，下面的代码显示了一个计算惯性的简单函数。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mx mg l"/></div><figcaption class="mb mc et er es md me bd b be z dx">CODE 1 — Function the calclate the inertia</figcaption></figure><p id="953f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了惯性，我们可以绘制出图4所示的图表。它基本上是画出了惯性和簇数的关系。绿线代表我们在等式1中看到的点P0和P1 之间画出的<strong class="ih hj">直线。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/65288ba89b4056e172aa646eda805000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lOGJg2MO-AUFEw4QayNW3A.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">FIG 4 — The Elbow Method</figcaption></figure><p id="4a10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用代码1中计算的惯性，我们将为建议的数据集确定最佳聚类数。代码2，将找到曲线中离绿线最远的<strong class="ih hj"/><strong class="ih hj">点。</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mx mg l"/></div><figcaption class="mb mc et er es md me bd b be z dx">CODE 2 — Find the optimal number of clusters</figcaption></figure><p id="d110" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后但同样重要的是，我们将使用代码3来确定聚类和每个组的质心。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mx mg l"/></div><figcaption class="mb mc et er es md me bd b be z dx">CODE 3 — Function to calclate the clusters and the centroid</figcaption></figure><h1 id="2f89" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">我们成功了…</h1><p id="a2e9" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">既然所有客户都被分组，我们将使用散点图来比较分类前后的数据。即使只有一个简单的数据集，并且缺乏关于客户的信息，通过观察图5，也有可能发现细分中的巨大差异。根据特征标记每个集群:</p><ul class=""><li id="5daf" class="mi mj hi ih b ii ij im in iq mk iu ml iy mm jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">聚类0</em></strong><em class="lw">—</em><strong class="ih hj"><em class="lw">重要客户</em> </strong> <em class="lw">，中等收入和支出得分</em></li><li id="ce10" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">聚类1</em></strong><em class="lw">——</em><strong class="ih hj"><em class="lw">目标消费者</em> </strong> <em class="lw">，高收入低消费得分</em></li><li id="9268" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">聚类2</em></strong><em class="lw">——</em><strong class="ih hj"><em class="lw">不太重要的顾客</em> </strong> <em class="lw">，收入和支出得分低</em></li><li id="ec08" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">聚类3</em></strong><em class="lw">——</em><strong class="ih hj"><em class="lw">预警</em> </strong> <em class="lw">，低收入高支出得分</em></li><li id="6341" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><strong class="ih hj"> <em class="lw">聚类4</em></strong><em class="lw">—</em><strong class="ih hj"><em class="lw">最重要的顾客</em> </strong> <em class="lw">，高收入和高支出分数</em></li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mz"><img src="../Images/357a3217e36b28193e67b0327ec9830c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jx5bRFmdDeHZ9flMFEqAXw.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">FIG 5 — Clusters comparison</figcaption></figure><p id="7a54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的图7中，我们可以看到每个集群的性别分布。对于营销团队来说，这是一个有用的信息，可以用来分析和建议具体的活动，以提高他们的支出分数，尤其是聚类0和1。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/75d8dd14281280996a8c462ef182c8e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WilGftu5zlDTk-aiMwpYw.png"/></div></div><figcaption class="mb mc et er es md me bd b be z dx">FIG 7— Gender by Cluster</figcaption></figure><p id="1574" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是你如何使用一个简单的算法来聚类你的客户，你可以添加更多的信息来进一步分析。希望你喜欢，下面是一些参考资料和我的github页面。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h2 id="2eb8" class="kt jq hi bd jr ku kv kw jv kx ky kz jz iq la lb kd iu lc ld kh iy le lf kl lg bi translated">一些参考资料:</h2><ul class=""><li id="4c91" class="mi mj hi ih b ii kn im ko iq nb iu nc iy nd jc mn mo mp mq bi translated"><a class="ae ks" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html#sklearn.cluster.KMeans" rel="noopener ugc nofollow" target="_blank">sci kit-learn文档</a></li><li id="984d" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><a class="ae ks" href="https://jtemporal.com/kmeans-and-elbow-method/" rel="noopener ugc nofollow" target="_blank">K法和肘法</a></li><li id="2c9b" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><a class="ae ks" href="https://www.codecademy.com/learn/machine-learning/modules/dspath-clustering/cheatsheet#:~:text=K-Means:%20Inertia,number%20of%20clusters%20(%20K%20" rel="noopener ugc nofollow" target="_blank">聚类K均值</a></li><li id="d051" class="mi mj hi ih b ii mr im ms iq mt iu mu iy mv jc mn mo mp mq bi translated"><a class="ae ks" href="https://www.kaggle.com/vjchoudhary7/customer-segmentation-tutorial-in-python" rel="noopener ugc nofollow" target="_blank">数据集— Kaggle </a></li></ul><p id="be9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">你可以在我的github页面获得完整代码:</em></p><div class="ne nf ez fb ng nh"><a href="https://github.com/matsuch/Mall-Costumer-Segmentation" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">matsuch/商场-客户-细分</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">来自Kaggle的数据包含关于客户的信息，这里应该没有必要的库来运行代码…</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">github.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv jn nh"/></div></div></a></div></div></div>    
</body>
</html>