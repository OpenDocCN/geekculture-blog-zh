<html>
<head>
<title>Software development: what has changed?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件开发:什么改变了？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/software-development-what-has-changed-cd901207fa0d?source=collection_archive---------9-----------------------#2021-06-01">https://medium.com/geekculture/software-development-what-has-changed-cd901207fa0d?source=collection_archive---------9-----------------------#2021-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5bcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">379km，约1小时“门对门”(登机)41分钟的飞行。</p><p id="5218" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是由阿联酋航空公司于2019年夏天在迪拜和多哈之间开通的A380运营的最短航线。</p><p id="4a27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这次飞行中，大约有14吨煤油在大气中燃烧…</p><p id="b6bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你觉得这很荒谬吗？然而，成千上万的公司用同样的方式处理他们的IT，大多数时候甚至没有意识到这一点。</p><h1 id="03e9" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">摩尔定律和兴奋</h1><p id="4e07" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">让我们回到几年前，到90年代初，“微型”公司正在蓬勃发展。</p><p id="c930" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“云”还不存在，大规模的计算机化,“数字革命”的开端，从设备旁边经过。</p><p id="7545" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有大公司都想要他们的数据中心，或者至少是他们的服务器机房。Sun Microsystem、HP、Silicon Graphics、IBM和法国的Bull等制造商以其专有的硬件和架构分享Unix服务器市场，而微软则说服越来越多的中小型公司加入其基于英特尔服务器的生态系统，这些服务器要便宜得多。</p><p id="f01d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Linux还不存在，Google也不存在。</p><p id="aa5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">企业IT的钟摆现在明显站在资本支出一边:投资和摊销。</p><p id="5592" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们购买大型服务器，在3年、5年甚至10年内分期偿还，无论它们的利用率是5%、50%还是100%。</p><p id="ab61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">软件行业刚刚进入成熟期，SaaS和PaaS显然还不存在，主导战略在从软件供应商处收购(对于“内部”安装)和内部开发之间摇摆不定。</p><p id="8f5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">摩尔定律预测，在每24个月不变的价格下，CPU中的晶体管数量将翻一番，该定律正在如火如荼地实施。英特尔1993年发布奔腾，差不多10年都不会抵触。</p><p id="95da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在硬件性能恶性膨胀的背景下，软件性能管理比开发人员的生产力更不是问题，开发人员已经是一种稀有而昂贵的资源。</p><p id="57fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">语言理论研究和许多个人倡议催生了新语言，这些新语言的目标是开发人员的生产力，而不是纯粹的性能(无论如何，只要等待两年，程序运行速度就会提高一倍，除了更新硬件，什么都不用做)。</p><p id="9db5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Perl诞生于1987年，Python诞生于1991年，Ruby诞生于1995年，Java诞生于1996年，此外还有许多其他的“开发环境”,比如1993年的WinDev(及其teaser ads)或1995年的Delphi。</p><p id="1f48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算机化的竞赛正在加速，快速发展是必要的，即使这意味着做得不好。</p><h1 id="3a93" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">生产力竞赛</h1><p id="e973" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">1994年，斯坦迪什集团发布了第一份“<a class="ae kg" href="https://www.projectsmart.co.uk/white-papers/chaos-report.pdf" rel="noopener ugc nofollow" target="_blank">斯坦迪什混乱报告</a>”，该报告分析了企业IT项目的成功率和失败的性质。</p><p id="6bc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果很明显:几乎90%的项目都是失败的:要么大大超出了最初的预算(几乎一半的项目超出了预算一倍)，要么不得不牺牲部分功能来发布软件，要么项目被取消并被埋葬，当然还没有提到交付的反复延迟。</p><p id="a599" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">没有其他行业会接受这样的质量灾难。</p><p id="4deb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了改变这种状况，人们发明了新的项目管理方法:V-cycle、Merise、AGL，以及越来越多的硬件标准化(英特尔和微软利用了这一点)和软件标准化(ISO模型、ASN.1、XML、X500等)。).</p><p id="fc83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管前景黯淡，硬件性能继续增长，几乎是线性增长，没有放缓的迹象。</p><p id="fed2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">硬件销售很好，因为明天的机器需要运行今天开发的程序。</p><p id="e7d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，语言设计者被鼓励以牺牲性能为代价，甚至牺牲一点点质量来进一步提高生产率。</p><p id="21ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对象模型越来越成功，解释语言变得越来越有吸引力，1994年第一次出现的PHP在当时使Web开发民主化。</p><p id="12b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">越来越多的抽象，越来越多的间接，越来越多的层次，无论“代价”是什么，我们知道它都会被下一代CPU所吸收。</p><p id="66fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但那是以前。在戏剧之前。</p><h1 id="c7e0" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">冬天来了</h1><p id="6d5e" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在2004年，发生了一件CPU设计者/创始人一直害怕的事情。</p><p id="482f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果晶体管的数量继续像摩尔定律预测的那样每24个月翻一倍，这一翻不再直接转化为可用总功率的增加，或者我应该说，很容易获得。</p><p id="2938" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实上，CPU能力的不间断增长以前是通过CPU更快地执行一系列操作的能力来表达的。</p><p id="b477" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们谈论“免费”性能提升时，这并不意味着向客户提供了新的机器，而是他们不必在程序中做任何特殊的事情来利用这种提升(甚至不需要重新编译)。</p><p id="3b34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2004年，由于一方面晶体管数量的增长，另一方面处理器工作频率的增加，创始人达到了热极限。</p><p id="3685" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从那以后，频率一直停滞不前。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kh"><img src="../Images/fcd919f0a2724f066dcdb552365a256b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhj9l0mMUGM2bRIw-FtYSA.png"/></div></div></figure><p id="344f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，加工者雕刻的精细程度的提高让摩尔感到满意。越来越多的晶体管被放在同一个硅表面和同一个热封套中，但它们必须以不同的方式使用。</p><p id="0512" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所谓的“多核”处理器出现了(或者说变得很普遍)。</p><p id="84ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在2004年之前，创始人的目标是越来越快地处理指令，但在这关键的一年之后，战斗转移到了并行化领域:他们同时处理越来越多指令的能力。</p><p id="3935" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上图清楚地显示了频率停滞与逻辑内核数量开始上升的一致性。另一方面，晶体管的数量继续悄悄地增加(双核CPU意味着大约是单核CPU的两倍多的晶体管——尽管现实中并没有那么简单)。</p><p id="6211" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">三十多年来第一次，升级一个人的基础设施不允许“免费”增加程序的性能…其主要被设计成以线性方式工作(非并行化)，因此不能利用额外的内核和额外的晶体管。</p><h1 id="2648" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">宿醉</h1><p id="92d8" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">不再有免费的性能提升，不再有新的抽象、间接、覆盖的系统吸收。</p><p id="d6d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一次，如果开发者想要提高他的产品的性能，他有三个选择:</p><ul class=""><li id="9c5b" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">回复到低级语言并优化他的程序:但是生产率可能会受到很大的影响。</li><li id="7080" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">使用并行编程:但是这要困难得多，这是难以预测和重现的多种错误的来源(竞争条件、死锁、互斥的危险管理等)。)，它需要高得多的技术水平，而且在市场上太罕见，无法推广。</li><li id="76af" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">将大型程序分割成几个较小的模块(但仍然是单线程的)，这些模块可以并行运行，从而使用一点可用的能量。</li></ul><p id="4e1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从本质上讲，第三种解决方案是最便宜、风险最小的，将会受到青睐。</p><p id="486f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后出现了新的范式:多层架构，然后是面向服务的架构，接着是微服务架构，这种架构一直沿用至今。</p><p id="12e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在90年代/ 2000年代设计的大型单片程序可以被分解成小模块(比如说20个左右)，这些小模块将一起工作，每个模块消耗相当于一个CPU核心的资源，以提供相同的服务。</p><p id="d275" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">显然，部署、监控和运行20个程序的成本超过1个，因此我们必须找到一种方法来自动化这些任务，以避免经济灾难:向Docker和Kubernetes问好。</p><h1 id="1bf6" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">并非所有人都失去了一切…</h1><p id="9d51" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">一方面，我们有新的CPU架构，公司正在努力优化使用，另一方面，自动化部署和操作系统变得越来越高效。</p><p id="727d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在几家公司之间共享多核基础设施不是一个好主意吗？</p><p id="2080" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云就这样诞生了。</p><p id="64c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2010年代出现了新类型的报价，这是一场新的革命，与其说是技术革命，不如说是经济革命。</p><p id="0bfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管硬件的使用不仅仅是部分使用，但该公司现在可以以其价格的一小部分租赁其使用，而不是投资于将在几年内分期偿还的硬件，因为几家公司将共享(原则上无意识地)相同的硬件基础设施。</p><p id="8427" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从资本支出，我们切换到<a class="ae kg" href="https://en.wikipedia.org/wiki/Operating_expense" rel="noopener ugc nofollow" target="_blank"> OPEX </a>:这改变了开发者的一切。</p><p id="c2c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该公司的成本现在将与其程序的性能成正比(许多公司尚未意识到这一点)。</p><p id="2edc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">性能越好，它们消耗的资源(CPU时间、RAM、存储、网络)越少，云提供商的账单就越低，这是基于“按使用量付费”的原则。</p><p id="92ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在2021年，我们不得不承认:</p><ul class=""><li id="0111" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">很大一部分公司还没有完全意识到这一点。</li><li id="0ad4" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">那些已经意识到这一点的人正惊恐地发现25年来生产力优先所造成的损害程度。</li></ul><h1 id="1c2b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">技术债务</h1><p id="70b6" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">基础设施模型的发展比开发实践要快得多。</p><p id="3d42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开发人员市场上的工作机会不言自明:最流行的语言是90年代的语言，设计时考虑到了开发人员的生产力，牺牲了性能(或资源的有效利用)。</p><p id="8066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:</p><ul class=""><li id="6195" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated"><a class="ae kg" href="https://en.wikipedia.org/wiki/JavaScript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>:一种解释性语言，其灾难性的性能只能通过其可靠性和安全性水平来匹配</li><li id="8ce3" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae kg" href="https://en.wikipedia.org/wiki/Python_(programming_language)" rel="noopener ugc nofollow" target="_blank"> Python </a>:另一种解释语言，受到数据科学家和其他RAD(快速应用开发)爱好者的推崇。与JavaScript相比，它至少有引入类型化编程概念的优点(尽管它仍然是动态的),减少了一些潜在的错误。</li><li id="3fb7" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">Java:发布于1996年，当时CPU架构的多样性仍然很重要，并有一个诱人的承诺:“编写一次，在任何地方运行”。它引入了一个新概念，它是一种编译语言，但针对一个不存在的CPU。后者产生的“字节码”实际上是在一个虚拟机(JVM)上执行的，该虚拟机会动态地将其转换成底层物理CPU可执行的代码。</li></ul><p id="9410" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看后者，它仍然代表着公司中大多数的业务应用程序代码。</p><p id="a7f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最初的承诺是诱人的，在2000年代，这十年见证了它的流行爆炸，公司中的服务器园区仍然非常多样化:</p><ul class=""><li id="706b" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">Unix服务器(每个制造商都有自己的操作系统和专有的CPU架构)，</li><li id="41d9" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">“Wintel”服务器(Windows + Intel)，</li><li id="abba" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">还有很多大型主机。</li></ul><p id="c3ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，应用程序开发被划分为与硬件目标一样多的筒仓，每个筒仓都有专用的工具(IDE、编译器、构建工具、调试器、库、框架……)和专用的人力技能。</p><p id="d451" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是集合开发和团队合理化的真正障碍。</p><p id="b520" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不管目标平台是什么，只需编写一次代码的技术承诺是一个奇迹:这是许多公司的解决方案。</p><p id="0361" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java还普及了一个以前相对保密的概念:面向对象编程。</p><p id="9add" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更容易重用代码的能力，不管是自己写的还是别人写的:从长远来看，生产率提高了。</p><p id="de07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个耀眼的成功，它从1996年在TIOBE排名中的第26位上升到2001年的第3位，并在2005年登上了最受欢迎语言的领奖台(这个位置它只会在2012年失去)。</p><p id="8fa6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它的采用是不可否认的，它开始在工程学校教授。<br/>但正如在计算机科学中一样，魔法并不存在，它的两个主要品质(普遍性和生产力)再次在资源消耗领域得到了偿付。</p><p id="af73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java有两个大问题:</p><ul class=""><li id="19ce" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">巨大的内存消耗:例如，比用C编写的同等程序高20到100倍。</li><li id="c464" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">启动时间非常慢，因为JVM必须分析字节码及其在运行时的实际使用，以优化其到本机代码的转录。</li></ul><h2 id="07bb" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">贪婪和有限的资源</h2><p id="eab8" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Java是贪婪的，非常非常贪婪，尤其是当它运行在机器的RAM上时。</p><p id="bc36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种贪食症可以用语言的三个特性来解释:</p><ul class=""><li id="2295" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">它的操作模式:编译“实时”:在运行时，大量使用内省，贪婪的资源。</li><li id="78b6" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">它的内存分配管理模式:所有的Java对象都分配在堆里，效率最低，在Java里，一切都是对象。</li><li id="199b" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">它的对象模型:虽然它促进了代码重用，但也鼓励了不必要代码的不受控制的加载。</li></ul><p id="171a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算机上有两种资源:有限资源和无限资源。</p><ul class=""><li id="3d80" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">内存和存储是有限的资源:机器有固定的数量(例如64GB的RAM和2TB的磁盘)，它不会随着时间的推移而增加(除非通过物理方式添加更多)。</li><li id="1f4b" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">CPU是一种无限的资源:周期的数量，以及它所执行的操作的数量，随着时间的推移而增加，而时间是先验无限的(尽管并不是所有的物理学家都确定这一假设)。它的速度随着时间的推移是恒定的(它不会随着年龄的增长而加速，但也不会减慢)，但时间流逝得越多，所执行的操作的总和就增加得越多。</li></ul><p id="4ecb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云提供商显然已经通过对有限资源、RAM和/或存储的使用进行收费来建立他们的定价模式。</p><p id="85c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个用Java编写的软件，比用另一种语言编写的软件消耗更多的内存，因此运行起来会更昂贵。</p><h2 id="5fb0" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">与微服务模型不兼容</h2><p id="9733" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Java的诞生和普及是在一个整体为王的时代，大型软件运行在一个属于公司并且只有公司使用的大型服务器上。</p><p id="873e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它的启动时间并不重要，因为它启动了一次，然后日夜不停地运行，不管是否有用户使用它。</p><p id="3b69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只要公司在财务上分期偿还服务器，不管它是否被使用，它被加载到其容量的5%或100%的事实就不是问题。其现有资源被浪费的事实并不重要。</p><p id="6c3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">20世纪90年代和21世纪初的许多首席信息官甚至用服务器机房里排列的机器数量来衡量他们的成功和重要性。不幸的是，环境问题还不相关。</p><p id="87d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于上述原因，微服务架构和编排器的出现改变了游戏规则。</p><p id="b564" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于微服务仍然大多无法利用现代CPU的多线程/多核能力，因此其想法是通过增加前端负载平衡器通常分配工作的每个微服务的实例数量来增加系统的处理能力。</p><p id="5705" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现代编排器可以很容易地检测到一个实例的处理能力限制，因此它们触发服务的一个新实例的启动，然后平衡它们之间的流量。</p><p id="a1fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当流量减少时，orchestrator将“销毁”无用的实例，以减少资源的预留/消耗，从而减少客户的账单(按使用付费)，我们称之为弹性。</p><p id="3eab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是这种弹性假设:</p><ul class=""><li id="a8df" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">新实例的启动足够快，不会对触发它的用户造成不利影响(最多一两秒钟)</li><li id="f9c1" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">这种启动并不意味着高资源消耗</li></ul><p id="04da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是对于使用JVM的程序来说，情况正好相反。</p><p id="64ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它可能需要30秒(或更长时间)才能启动，在此期间，它将消耗大量的CPU周期和GB的RAM。</p><p id="1bbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在infra world中，据说JVM“变热了”，就像一台旧的柴油发动机。</p><p id="6f19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，很明显，基于JVM的技术(Java、Scala、Kotlin、Groovy、JRuby……)并不是新的云范例的理想候选者……尽管它们在企业应用程序领域中存在得非常多。</p><p id="2bb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用最终优先考虑性能和多线程处理的技术重写应用程序将需要时间、年甚至几十年，我们称之为(除其他外):技术债务。</p><h1 id="ca43" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">充满生气的新的生活阶段</h1><p id="ffed" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">用更适合现代硬件和部署范例的现代技术重写(或编写)企业软件，假设这些技术存在。</p><p id="67c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确实如此。在过去的十年中，我们已经看到了新语言的出现，这些语言试图尽可能地协调生产力和性能。</p><p id="92cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kg" href="https://golang.org" rel="noopener ugc nofollow" target="_blank">围棋</a>和<a class="ae kg" href="https://www.rust-lang.org/" rel="noopener ugc nofollow" target="_blank">铁锈</a>是两个最显著的代表。</p><p id="c9e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们的设计都考虑到了新的计算环境:大规模多核架构和基于弹性的部署模式。</p><p id="7eb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们都是强类型的，并且是为真正的CPU编译的，目标是达到解释型或半编译型语言(如Java)无法达到的性能和效率水平。</p><p id="576b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们在并发编程管理、安全性能和合理但有效的硬件资源消耗方面都很出色。</p><p id="c206" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生产率和性能是相当矛盾的，他们用不同的方法处理练习的限制:</p><ul class=""><li id="b550" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">当达到极限时，<a class="ae kg" href="https://bastienvigneron.medium.com/why-i-use-go-25cd2ac5dfc6" rel="noopener"> Go </a>专注于简单和高效。</li><li id="16d1" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">当达到极限时，<a class="ae kg" href="https://bastienvigneron.medium.com/rust-first-impressions-after-6-months-469268ed7dc" rel="noopener"> Rust </a>有利于性能和安全性。</li></ul><p id="615f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们的受欢迎程度和被采用的程度已经开始上升，但是要在企业中取代Java和Python还有很长的路要走。</p><p id="4329" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就我个人而言，我很高兴它们是可用的，我呼吁所有开发者对它们感兴趣:为了地球，为了所有管理者和决策者:为了他们的运营账户。</p><h1 id="f033" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">诺言终于兑现了</h1><p id="7f71" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我不会对不同语言的程序实现的性能和消耗进行比较，因为网络上到处都是。</p><p id="3a26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将简单地确认，我的个人经验证明了这些差异是显而易见的，并且足够重要，在许多情况下证明了用这些现代语言重写许多企业程序的资金是合理的。</p><p id="d03f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“运行”成本的财务收益(即云提供商的账单)通常会很快吸收重写软件所需的投资。</p><p id="ce1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，在这种情况下，不排除后者利用这些语言的新的安全和质量控制机制(例如:集成的单元测试机制、自动或安全的内存管理、简化但高效的并发编程模型……)来消除一定数量的历史错误。</p><p id="6c26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云的承诺，即降低基础设施成本和总体IT成本，已被证明是许多公司的海市蜃楼，总的来说，很难从纯财务角度证明他们的转变是正确的。</p><p id="762b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其他所谓的优势，如敏捷性、风险控制和我最喜欢的一个:重新专注于公司的核心业务，经常被提出来；-)</p><p id="0db4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，现实离承诺并没有那么远:</p><ul class=""><li id="c1a4" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">通过将基础设施集中在超优化的大型数据中心，我们有效地降低了每家公司的平均能耗。</li><li id="76df" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">我们只允许他们在资源被使用时付费。</li><li id="a43d" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">他们获得了以前无法想象的处理能力的灵活性和弹性。</li></ul><p id="172e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但为了实现这一现实，他们的开发团队(或编辑)必须挖掘出一项在商业计算领域已经被遗忘了几十年的技能:寻求软件性能和效率。</p><h1 id="8b7e" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="2ebf" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我们的行业似乎以大约20年为周期进化。</p><p id="1bfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大型机在70年代和90年代统治了世界，微型计算机在大约15年后达到了全盛时期，然后云范式在2005年出现，到2010年，它花了5年时间才真正突破成为默认标准。</p><p id="52b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以假设这种情况至少会持续到2030年。</p><p id="b646" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，投资于性能、弹性和软件质量(有时以开发人员生产率的小幅下降为代价)并不是一场不合理的赌博，尤其是因为没有理由相信我们会在不久的将来看到90年代到2004年性能的“免费”增长。</p><p id="f0fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我坚信这是值得的，在经济上，生态上和智力上。</p></div></div>    
</body>
</html>