<html>
<head>
<title>New Feature Alert 🚨 Rule Extraction for Machine Learning Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新功能警报🚨机器学习模型的规则提取</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/new-feature-alert-rule-extraction-for-machine-learning-models-d7bd376e5b1c?source=collection_archive---------54-----------------------#2021-05-25">https://medium.com/geekculture/new-feature-alert-rule-extraction-for-machine-learning-models-d7bd376e5b1c?source=collection_archive---------54-----------------------#2021-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/be06cebb70a4b671b033b98b39840613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zEhsfnQn6YCFu-VcCDkE_A.png"/></div></div></figure><div class=""/></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="dc57" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">据数据科学行业所知，创建ML模型相对较快且较容易，但将其投入生产却很困难且成本高昂。你会惊讶地发现只有很小比例的ML项目进入生产——只有大约12%。(<a class="ae jv" href="https://www.gartner.com/en/newsroom/press-releases/2018-02-13-gartner-says-nearly-half-of-cios-are-planning-to-deploy-artificial-intelligence#:~:text=Gartner%20predicts%20that%20through%202022,teams%20responsible%20for%20managing%20them." rel="noopener ugc nofollow" target="_blank">来源</a>)</p><p id="31d1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这就是为什么，在仔细观察了客户用Datagran的管道构建的东西之后，我们认为规则提取是朝着正确方向迈出的一步，可以减轻一些痛苦。</p><p id="7c62" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">从本质上说，规则提取帮助公司连接他们的数据，运行算法，并自动检测事件，然后将输出发送到业务应用程序。这种模式的最佳用例之一是在电子商务行业。让我们来看一个例子:</p><p id="cbce" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">拥有超过700万用户、价值10亿美元的送货应用Rappi希望了解为什么他们的用户在几乎完成订单后放弃购物车。</p><p id="05ee" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">首先，他们集成了Datagran的SDK，从他们的IOs和Android应用程序中提取客户行为。</p><p id="6cdc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">然后他们选择了一种算法。因为规则提取只能应用于分类或回归模型，以提取在模型中找到的一组规则和属于每个规则的数据，所以他们选择了分类算法。</p><p id="11d6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">同样值得注意的是，规则提取<em class="jw">专门</em>在决策树算法上工作——它们可以在两种类型的模型中找到:</p><ul class=""><li id="5b88" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju kc kd ke kf bi translated"><a class="ae jv" href="https://blog.datagran.io/posts/how-to-predict-customer-churn-rate-with-classification-algorithm" rel="noopener ugc nofollow" target="_blank">分类</a></li><li id="acc5" class="jx jy ht iz b ja kg je kh ji ki jm kj jq kk ju kc kd ke kf bi translated"><a class="ae jv" href="https://blog.datagran.io/posts/how-to-run-a-regression-model" rel="noopener ugc nofollow" target="_blank">回归</a></li></ul><p id="466a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">一旦他们运行该算法，其中一个发现是一个标记为WARNING_MSG-&gt; <strong class="iz hu">的事件，该事件导致70%的用户放弃了他们的移动应用程序订单</strong>。</p><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kl"><img src="../Images/8798be2bd36d04f94ce8cfd18a97689d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HMl241Ho88zzHdCC.png"/></div></div></figure><p id="5ad6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这一发现使该团队在顾客进入购物车之前就查明了顾客下车的确切原因，并输入了他们的送货地址。该消息通过显示一个弹出窗口来警告用户，询问他们是否确定地址是正确的，因为他们似乎离餐馆太远了。</p><p id="63c0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因此，该团队重新设计了警告弹出窗口，因此该消息不是警告，而是整个结账过程中的又一个问题。</p><p id="748f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">然而事情并没有就此结束，Rappi的团队利用这些预测让聊天机器人为用户提供替代方案和建议，以防止用户流失。</p><p id="b820" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">考虑到公司可以在几分钟内建立这样的管道，测试和迭代而没有高度的复杂性，规则提取可能是非常强大和有用的，因为像Datagran这样的低代码平台。没有ML OPs的团队可以追求这样的项目，或者有强大团队的团队现在可以在投入资源构建复杂管道之前进行测试和迭代。</p><h1 id="82bc" class="kq kr ht bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">使用规则提取的流失教程</h1><p id="eded" class="pw-post-body-paragraph ix iy ht iz b ja lo jc jd je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju hb bi translated">在本教程中，您将使用电信公司的数据预测导致客户流失的事件，使用规则提取，您将从他们的客户服务日志中提取数据。</p><ol class=""><li id="03fa" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju lt kd ke kf bi translated">首先，您必须创建一个新的数据集成。点击了解更多关于集成的信息<a class="ae jv" href="https://www.youtube.com/watch?v=p4G6UfukDwM&amp;t=1s" rel="noopener ugc nofollow" target="_blank">。然后，您将通过转到管道来构建分类模型。命名您的模型，然后通过从右侧菜单中选择它并将其拖到画布中来拖放您的集成。</a></li><li id="2da7" class="jx jy ht iz b ja kg je kh ji ki jm kj jq kk ju lt kd ke kf bi translated">通过拖放SQL操作符并将其连接到集成来处理数据。将鼠标悬停在元素上并单击编辑图标以打开查询画布。使用下面的示例查询并替换这些值。完成后，运行查询并保存表。进入画布后，将鼠标悬停在操作员上方，然后按播放。</li></ol><p id="c1db" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi">‍</p><p id="9fd6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">SELECT CAST(Account _ Length AS float 64)Account _ Length，CAST(Vmail _ Message AS float 64)Vmail _ Message，CAST(Day _ Mins AS float 64)Day _ Mins，CAST(Eve _ Mins AS float 64)Eve _ Mins，CAST(Night _ Mins AS float 64)Night _ Mins，CAST(Intl _ Mins AS float 64)Intl _ Mins，CAST(CustServ _ Calls AS float 64)CustServ _ Calls，CASE Intl_Plan '否'时，EN 0 '是' CAST(Night _ Charge AS float 64)Night _ Charge，CAST(Intl _ Calls AS float 64)Intl _ Calls，CAST(Intl _ Charge AS float 64)Intl _ Charge，ABS(FARM _ FINGERPRINT(State))num _ State，State，CAST(Area _ Code AS float 64)Area _ Code，CAST(REPLACE(TRIM(Phone)，"-"，" ")AS INT64) num_Phone，Phone，CASE Churn当'否'时，EN 0当'是'时，否则0END AS num _ Churn，chur</p><p id="96ec" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi">‍</p><ol class=""><li id="557f" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju lt kd ke kf bi translated">现在，您将训练您的模型。拖放三个SQL操作符，一个用于训练，一个用于测试，一个用于预测。重复步骤2，并对每个操作符使用以下示例查询。</li></ol><p id="95ea" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">*确保运行查询，保存表，然后在输入每个查询后运行运算符。</p><p id="7e39" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">训练数据集:</strong></p><p id="19ec" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi">‍</p><p id="dbed" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">选择dat。*来自` operator _ 609 AE 007079 b46d 760 F9 bb1b _ _ SQL _ output ` dat where churn = ' yes ' AND RAND()&lt; 0.8UNION ALLSELECT dat.*FROM `operator_609ae007079b46d760f9bb1b__sql_output` datWHERE churn = ‘no’ AND RAND() &lt; 0.68</p><p id="f00f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">测试数据集:</strong></p><p id="72a9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi">‍</p><p id="d574" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">选择dat。*来自` operator _ 609 AE 007079 b46d 760 F9 bb1b _ _ SQL _ output ` dat where churn = ' yes ' AND RAND()&lt; 0.2UNION ALLSELECT dat.*FROM `operator_609ae007079b46d760f9bb1b__sql_output` datWHERE churn = ‘no’ AND RAND() &lt; 0.32</p><p id="3f26" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">预测数据集:</strong></p><p id="be3d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi">‍</p><p id="dc1a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">选择dat。* FROM ` operator _ 609 AE 007079 b46d 760 F9 bb1b _ _ SQL _ output ` dat where churn = ' yes ' AND RAND()&lt; 0.2UNION ALLSELECT dat.*FROM `operator_609ae007079b46d760f9bb1b__sql_output` datWHERE churn = ‘no’ AND RAND() &lt; 0.06</p><ol class=""><li id="add9" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju lt kd ke kf bi translated">Now, you will add the Classification operator to the pipeline. Drag and drop the Classification Operator from the right-hand side menu and connect it to the last three training operators you just set up. Then, press edit and set up the type of algorithm you will be using along with the Rule Extraction. Choose the Decision Tree algorithm and follow the instructions below. When you’re done, hit Save and press play on the element to run the operator.</li></ol><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/b22036a0a5c86cc3496a7a280a97d466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zd7nHor_zQxmrmWd.png"/></div></div></figure><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/a9ec3b58eec2998af8403c17e4f748d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F13jXhxf5-FMFr9H.png"/></div></div></figure><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/8f70a843a93f7cdc0ac39b8dcc89a21d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v5Q8tcB61wkExEtU.png"/></div></div></figure><ol class=""><li id="ea2b" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju lt kd ke kf bi translated">You will now visualize the model’s output with a chart. At the bottom of the Operator, select ‘Send to Charts’. This will make your data available in the Charts section.</li></ol><p id="e7b9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">Once all the operators are ready to go, press the plus sign located on the canvas and click Run to begin running your model.</p><p id="4761" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">提示:</strong>管道可以运行、保存或调度。</p><ol class=""><li id="0047" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju lt kd ke kf bi translated">然后，转到图表，创建一个新的图表，并选择您想要可视化的操作员数据。</li></ol><p id="a9f6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">可视化格式:</strong></p><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/d54fe5632664bc7d6aa8037610747a43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZvJABSaOauze7Alr.png"/></div></div></figure><p id="6ff8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">表格格式:</strong></p><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/4a3d0847faa3eafef61c850e8d1a3c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qZq2exQ4YuSoFtP0.png"/></div></div></figure><figure class="km kn ko kp fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/c27dd46bd88d27969e5d0d21e99b1464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cf2mBPokQ_ba1cw9.png"/></div></div></figure><p id="8364" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">该模型发现了29条规则，其中1条符合259人，由于以下变量的组合，有可能发生流失:</p><ul class=""><li id="b837" class="jx jy ht iz b ja jb je jf ji jz jm ka jq kb ju kc kd ke kf bi translated">国际收费价值少于43美元</li><li id="48be" class="jx jy ht iz b ja kg je kh ji ki jm kj jq kk ju kc kd ke kf bi translated">少于3次夜间通话</li><li id="8890" class="jx jy ht iz b ja kg je kh ji ki jm kj jq kk ju kc kd ke kf bi translated">不到172个支持电话</li><li id="2556" class="jx jy ht iz b ja kg je kh ji ki jm kj jq kk ju kc kd ke kf bi translated">每天不到246个电话</li></ul><p id="5fef" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">有了这些数据，公司可以重新评估支持票和流程、产品谬误、不满原因，然后制定策略以避免客户流失。</p><p id="ca3e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">规则提取可以在多种情况下使用，以找到导致公司内特定问题的模式。通常，数据量太大而无法理解挑战背后的原因，因此拥有正确的工具来理解原因是快速行动的关键。</p></div></div>    
</body>
</html>