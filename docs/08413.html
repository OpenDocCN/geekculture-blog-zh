<html>
<head>
<title>Build a Telegram Bot using TypeScript, Node.js, and Telegraf and deploy it on Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript、Node.js和Telegraf构建一个电报机器人，并将其部署在Heroku上</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/build-a-telegram-bot-using-typescript-node-js-and-telegraf-and-deploy-it-on-heroku-fcc28c15614f?source=collection_archive---------1-----------------------#2021-10-29">https://medium.com/geekculture/build-a-telegram-bot-using-typescript-node-js-and-telegraf-and-deploy-it-on-heroku-fcc28c15614f?source=collection_archive---------1-----------------------#2021-10-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/397ce1538036286a317ac2f56ae4d4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKv52IHuIkGREl08gKgOpQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@gamell?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Joan Gamell</a> on <a class="ae iu" href="https://unsplash.com/s/photos/node-js?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="968d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Telegram允许开发者构建第三方应用，并在其平台内运行。它提供了Bot API，这是一个记录良好的基于HTTP的接口，并提供了许多用几种语言编写的示例Bot，作为快速入门的例子。</p><p id="77d4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，有很多不同的库，选择使用哪一个，了解它，然后找到一个主机来部署bot以随时访问它，这可能是压倒性的和耗时的。</p><p id="ce9f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我将解释如何使用Node.js和TypeScript编写一个电报机器人，以及如何在Heroku上部署它。</p><h2 id="020b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">发展环境</h2><p id="f229" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">我正在使用一台装有Linux Mint 20.2和Visual Studio Code 1.61.2的计算机来编写这个机器人。</p><p id="ccd5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该项目将使用以下依赖项。我稍后会解释如何安装它们。</p><ul class=""><li id="b8bc" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated">Node.js: 17.0.1</li><li id="624b" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated">国家预防机制:8.1.0</li><li id="81a8" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b">typescript</code> : 4.4.4</li><li id="f418" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b">telegraf</code> : 4.4.2</li><li id="60ac" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b">@types/node</code> : 16.11.2</li><li id="9441" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b">eslint</code> : 8.1.0</li></ul><p id="34a3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以从这个GitHub库中看到并下载这个项目，如下所述。</p><h1 id="1782" class="ll ju hi bd jv lm ln lo jz lp lq lr kd ls lt lu kg lv lw lx kj ly lz ma km mb bi translated">Node.js项目</h1><h2 id="5fd3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">安装Node.js</h2><p id="aa63" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">第一步，从其<a class="ae iu" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">官网</a>安装Node.js。在Linux上，我使用了<a class="ae iu" href="https://nodejs.org/en/download/package-manager/#nvm" rel="noopener ugc nofollow" target="_blank">节点版本管理器(nvm) </a>。</p><p id="47ca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我使用以下命令安装了<em class="mc"> nvm </em>。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="19ae" class="jt ju hi lk b fi ml mm l mn mo">curl -o- <a class="ae iu" href="https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh</a> | bash</span></pre><p id="2fed" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后安装下一个节点。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="d58d" class="jt ju hi lk b fi ml mm l mn mo">nvm install node</span></pre><h2 id="7a40" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">创建项目</h2><p id="7744" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">第二步是开始一个新项目。为您的项目创建一个目录，打开它并在终端中运行以下命令来初始化它。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="86a9" class="jt ju hi lk b fi ml mm l mn mo">npm init</span></pre><p id="5392" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它将询问一些关于项目的信息。您可以在前面的命令中添加<code class="du lh li lj lk b">-y</code>选项来使用默认值。</p><p id="a807" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在<a class="ae iu" href="https://nodejs.org/en/docs/guides/getting-started-guide/" rel="noopener ugc nofollow" target="_blank">入门指南</a>中找到更多关于如何创建Node.js项目的信息。</p><p id="1bdb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此时，项目应该看起来像<a class="ae iu" href="https://github.com/pirasalbe/Telegram-Bot_Node.js/tree/d1b547ffc9f7e735073918561070b842a979da14" rel="noopener ugc nofollow" target="_blank">这个提交</a>。</p><h2 id="7b63" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">添加类型脚本</h2><p id="b16c" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated"><a class="ae iu" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>是一种基于JavaScript的强类型编程语言，在任何规模下都能为您提供更好的工具。</p><p id="7649" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用以下命令将TypeScript添加到项目中。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="b5fc" class="jt ju hi lk b fi ml mm l mn mo">npm install -D typescript<br/>npm install -D tslint</span></pre><p id="87f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lh li lj lk b">-D</code>是<code class="du lh li lj lk b">--save-dev</code>的快捷方式。这些命令安装最新的TypeScript版本；您可以通过在依赖名称的末尾添加<code class="du lh li lj lk b">@version</code>来指定所需的名称，例如<code class="du lh li lj lk b">npm install -D typescript@4.4.4</code>。</p><h2 id="98f3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">配置TypeScript</h2><p id="894b" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">下一步是配置编译器选项。在项目的根目录下添加一个文件<code class="du lh li lj lk b">tsconfig.json</code>，并添加以下内容。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="03eb" class="jt ju hi lk b fi ml mm l mn mo">{<br/>  "compilerOptions": {<br/>    "module": "commonjs",<br/>    "esModuleInterop": true,<br/>    "target": "es2021",<br/>    "moduleResolution": "node",<br/>    "strict": true,<br/>    "sourceMap": true,<br/>    "lib": ["es2021"],<br/>    "skipLibCheck": true,<br/>    "rootDir": "src",<br/>    "outDir": "dist"<br/>  }<br/>}</span></pre><p id="aaff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它定义了:</p><ul class=""><li id="4eff" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">module</em></code>:指定生成方式。节点使用<code class="du lh li lj lk b">commonjs</code>。</li><li id="c4c8" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">esModuleInterop</em></code>:如果为真，它会生成额外的文件来简化对导入<em class="mc"> CommonJS </em>模块的支持。</li><li id="09b9" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">target</em></code>:发出的JavaScript文件的JavaScript语言版本。</li><li id="afb5" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">moduleResolution</em></code>:指定TypeScript如何从给定的模块说明符中查找文件。</li><li id="8e14" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">strict</em></code>:启用所有严格的类型检查选项。</li><li id="7770" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">sourceMap</em></code>:为true时，它生成额外的JavaScript文件以使调试更容易。</li><li id="19df" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">lib</em></code>:指定目标运行时环境中可用的库。</li><li id="3e92" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">skipLibCheck</em></code>:跳过所有<code class="du lh li lj lk b">.d.ts</code>文件的类型检查，这些文件是关于用JavaScript编写的API的类型脚本信息。</li><li id="4f20" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">rootDir</em></code>:指定源文件夹。我将把我的源文件添加到<code class="du lh li lj lk b">src</code>文件夹中。</li><li id="c534" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">outDir</em></code>:指定生成的JavaScript文件的输出文件夹。</li></ul><p id="7442" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者，也可以使用以下命令创建该文件。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="77e4" class="jt ju hi lk b fi ml mm l mn mo">tsc --init</span></pre><p id="5aea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在<a class="ae iu" href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" rel="noopener ugc nofollow" target="_blank"> TypeScript文档</a>和<a class="ae iu" href="https://json.schemastore.org/tsconfig" rel="noopener ugc nofollow" target="_blank"> JSON模式</a>上了解更多。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><p id="2851" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以选择为项目配置TypeScript林挺。TypeScript ESLint文档描述了如何做以及如何工作。</p><p id="104a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">也可以使用<a class="ae iu" href="https://editorconfig.org/" rel="noopener ugc nofollow" target="_blank"> EditorConfig </a>为您的项目定义编辑器配置。这样，您的IDE将遵循在<code class="du lh li lj lk b">.editorconfig</code>文件中定义的规则。</p><h2 id="2877" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">更新Node.js配置</h2><p id="7fb2" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">下一步是配置Node.js项目来构建TypeScript代码。更新<em class="mc"> package.json </em>如下。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="49e5" class="jt ju hi lk b fi ml mm l mn mo">{<br/>  ...<br/>  "main": "dist/app.js",<br/>  "scripts": {<br/>    "build": "tsc",<br/>    "start": "node dist/app.js",<br/>    ...<br/>  },<br/>  ...<br/>}</span></pre><ul class=""><li id="dee6" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">main</em></code> : TypeScript在<code class="du lh li lj lk b">outDir</code>内部生成JavaScript入口点。更新这个值，使它指向在输出目录中生成的JS文件。</li><li id="0f25" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">scripts.build</em></code>:包含编译打字稿文件的命令<code class="du lh li lj lk b">tsc</code>。可以用<code class="du lh li lj lk b">npm run build</code>运行这个脚本。</li><li id="546c" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><code class="du lh li lj lk b"><em class="mc">scripts.start</em></code>:包含运行项目的命令。可以用<code class="du lh li lj lk b">npm start</code>运行这个脚本。</li></ul><p id="01d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此时，项目应该看起来像是<a class="ae iu" href="https://github.com/pirasalbe/Telegram-Bot_Node.js/tree/489d987e8423e67de87442adb64e48e26384e08a" rel="noopener ugc nofollow" target="_blank">这个提交</a>。</p><h2 id="cea1" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">Telegraf</h2><p id="a815" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">Telegram提供了允许开发者编写机器人的API。你可以在<a class="ae iu" href="https://core.telegram.org/bots/api" rel="noopener ugc nofollow" target="_blank">电报机器人API </a>页面找到它们。</p><p id="6cfc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些API需要一个令牌来与之交互。如<a class="ae iu" href="https://core.telegram.org/bots#creating-a-new-bot" rel="noopener ugc nofollow" target="_blank">官方指南</a>中所述，可以通过使用<a class="ae iu" href="https://t.me/botfather" rel="noopener ugc nofollow" target="_blank">机器人父亲</a>请求一个。你可以在我的另一个故事<a class="ae iu" rel="noopener" href="/geekculture/tasker-and-telegram-integration-278c53ab1d00#69d7"> Tasker和Telegram integration </a>中看到这个过程的截图。</p><p id="f41e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://github.com/telegraf/telegraf" rel="noopener ugc nofollow" target="_blank"> Telegraf </a>是一个使用Node.js开发僵尸工具的文档丰富、用途广泛的库。与许多其他库一样，它使得与API的交互比发送HTTP请求更容易。你可以在<a class="ae iu" href="https://core.telegram.org/bots/samples#node-js" rel="noopener ugc nofollow" target="_blank">这个电报页面</a>上找到Node.js和其他语言的全部内容。</p><p id="e175" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用以下命令安装依赖项。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="412e" class="jt ju hi lk b fi ml mm l mn mo">npm install telegraf</span></pre><h2 id="21b3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">写一个简单的机器人</h2><p id="cd4e" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">下一步是为机器人编写一些逻辑。你可以在<a class="ae iu" href="https://telegraf.js.org/#/" rel="noopener ugc nofollow" target="_blank"> telegraf.js </a>页面上看到文档，你也可以从<a class="ae iu" href="https://telegraf.js.org/#shorthand-methods" rel="noopener ugc nofollow" target="_blank">速记方法</a>段落中复制一个例子。</p><p id="263d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最开始导入库，然后创建一个新的<code class="du lh li lj lk b">Telegraf</code>对象，如下所示。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="5acd" class="jt ju hi lk b fi ml mm l mn mo">import { Context, Telegraf } from 'telegraf';<br/>import { Update } from 'typegram';</span><span id="f231" class="jt ju hi lk b fi mw mm l mn mo">const bot: Telegraf&lt;Context&lt;Update&gt;&gt; = new Telegraf(process.env.BOT_TOKEN as string);</span></pre><p id="81db" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">IDE将显示一个关于<code class="du lh li lj lk b">process</code>对象的错误。使用以下命令安装节点的类型定义以解决这些问题。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="e78d" class="jt ju hi lk b fi ml mm l mn mo">npm i --save-dev <a class="ae iu" href="http://twitter.com/types/node" rel="noopener ugc nofollow" target="_blank">@types/node</a></span></pre><p id="8335" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过使用<code class="du lh li lj lk b">process.env.BOT_TOKEN</code>，可以通过环境变量提供报文令牌。这样，您就不需要将它写在代码中，并将其推送到您的存储库中。</p><p id="5c3e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此时，是时候定义消息处理程序了。你可以在<a class="ae iu" href="https://telegraf.js.org/classes/Telegraf.html#on" rel="noopener ugc nofollow" target="_blank"> Telegraf | telegraf.js </a>页面上看到它们。一些例子是:</p><ul class=""><li id="f0ee" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated"><a class="ae iu" href="https://telegraf.js.org/classes/Telegraf.html#on" rel="noopener ugc nofollow" target="_blank"> <em class="mc"> on </em> </a>:监听指定的事件。</li><li id="5c6f" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><a class="ae iu" href="https://telegraf.js.org/classes/Telegraf.html#start" rel="noopener ugc nofollow" target="_blank"> <em class="mc">开始</em> </a>:监听<code class="du lh li lj lk b">/start</code>命令。</li><li id="20c5" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><a class="ae iu" href="https://telegraf.js.org/classes/Telegraf.html#help" rel="noopener ugc nofollow" target="_blank"> <em class="mc">帮助</em> </a>:听从<code class="du lh li lj lk b">/help</code>的命令。</li><li id="60bf" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><a class="ae iu" href="https://telegraf.js.org/classes/Telegraf.html#command" rel="noopener ugc nofollow" target="_blank"> <em class="mc">命令</em> </a>:监听指定的命令。</li></ul><p id="f75f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是一个处理程序的例子。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="934a" class="jt ju hi lk b fi ml mm l mn mo">bot.start((ctx) =&gt; {<br/>  ctx.reply('Hello ' + ctx.from.first_name + '!');<br/>});</span><span id="af4f" class="jt ju hi lk b fi mw mm l mn mo">bot.help((ctx) =&gt; {<br/>  ctx.reply('Send /start to receive a greeting');<br/>  ctx.reply('Send /keyboard to receive a message with a keyboard');<br/>  ctx.reply('Send /quit to stop the bot');<br/>});</span><span id="2a73" class="jt ju hi lk b fi mw mm l mn mo">bot.command('quit', (ctx) =&gt; {<br/>  // Explicit usage<br/>  ctx.telegram.leaveChat(ctx.message.chat.id);</span><span id="10fd" class="jt ju hi lk b fi mw mm l mn mo">// Context shortcut<br/>  ctx.leaveChat();<br/>});</span><span id="c49b" class="jt ju hi lk b fi mw mm l mn mo">bot.command('keyboard', (ctx) =&gt; {<br/>  ctx.reply(<br/>    'Keyboard',<br/>    Markup.inlineKeyboard([<br/>      Markup.button.callback('First option', 'first'),<br/>      Markup.button.callback('Second option', 'second'),<br/>    ])<br/>  );<br/>});</span><span id="da87" class="jt ju hi lk b fi mw mm l mn mo">bot.on('text', (ctx) =&gt; {<br/>  ctx.reply(<br/>    'You choose the ' +<br/>      (ctx.message.text === 'first' ? 'First' : 'Second') +<br/>      ' Option!'<br/>  );<br/>});</span></pre><p id="9f7f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在文档的<a class="ae iu" href="https://telegraf.js.org/modules/Markup.html" rel="noopener ugc nofollow" target="_blank">标记</a>和<a class="ae iu" href="https://telegraf.js.org/modules/Markup.button.html" rel="noopener ugc nofollow" target="_blank">标记&gt;按钮</a>页面找到更多关于键盘的信息。</p><p id="3956" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在声明了处理程序之后，就可以启动机器人了。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="3b81" class="jt ju hi lk b fi ml mm l mn mo">bot.launch();</span></pre><p id="c4d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在启动bot之前声明处理程序是很重要的。否则，它们将不会被注册，因此无法工作。</p><p id="fd14" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果希望在停止Node.js进程时正常关闭bot，请添加这些指令。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="1aa3" class="jt ju hi lk b fi ml mm l mn mo">process.once('SIGINT', () =&gt; bot.stop('SIGINT'));<br/>process.once('SIGTERM', () =&gt; bot.stop('SIGTERM'));</span></pre></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><p id="6fef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您也可以使用<a class="ae iu" href="https://core.telegram.org/bots/api#available-methods" rel="noopener ugc nofollow" target="_blank">电报机器人API </a>页面中描述的方法，使用<a class="ae iu" href="https://telegraf.js.org/classes/Telegram.html" rel="noopener ugc nofollow" target="_blank">电报</a>组件。这样，无需用户直接交互就可以发送消息。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="13ca" class="jt ju hi lk b fi ml mm l mn mo">import { Telegram } from 'telegraf';</span><span id="191e" class="jt ju hi lk b fi mw mm l mn mo">const telegram: Telegram = new Telegram(process.env.BOT_TOKEN as string);</span><span id="0e4d" class="jt ju hi lk b fi mw mm l mn mo">const chatId = '...';</span><span id="e88c" class="jt ju hi lk b fi mw mm l mn mo">telegram.sendMessage(<br/>    chatId,<br/>    'This message was sent without your interaction!'<br/>  );</span></pre><p id="4797" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请记住，Telegram允许机器人只向与它交互过的用户发送消息。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><p id="08f5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在GitHub仓库的<a class="ae iu" href="https://github.com/pirasalbe/Telegram-Bot_Node.js/tree/e938cb3cd1ad68100262bb68e2c7473c6975fb56" rel="noopener ugc nofollow" target="_blank">这个提交</a>中找到完整的<code class="du lh li lj lk b">app.ts</code>。</p><h2 id="cf5e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">构建项目</h2><p id="7cbc" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">使用之前添加到<code class="du lh li lj lk b">package.json</code>中的构建脚本来构建项目。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="4080" class="jt ju hi lk b fi ml mm l mn mo">$:~/Telegram-Bot_Node.js$ npm run build</span><span id="e273" class="jt ju hi lk b fi mw mm l mn mo">&gt; telegram-bot_node@1.0.0 build<br/>&gt; tsc</span></pre><p id="1144" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它会在<code class="du lh li lj lk b">tsconfig.json</code>的<code class="du lh li lj lk b">outDir</code>参数中定义的<code class="du lh li lj lk b">dist</code>目录下创建一个<code class="du lh li lj lk b">app.js</code>文件。</p><p id="0ef5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还可以使用以下命令继续构建项目，如文档<a class="ae iu" href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" rel="noopener ugc nofollow" target="_blank">中所述。</a></p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="cbbd" class="jt ju hi lk b fi ml mm l mn mo">tsc --watch</span></pre><h2 id="5979" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">运行项目</h2><p id="8d02" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">bot需要一个<strong class="ix hj"> BOT_TOKEN </strong> env变量来运行。声明它并运行之前添加到<code class="du lh li lj lk b">package.json</code>的启动脚本，如下所示。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="9ab9" class="jt ju hi lk b fi ml mm l mn mo">BOT_TOKEN="110201543:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw" npm start</span></pre><p id="fb28" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">机器人将启动并允许你与之互动。</p><p id="46cd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">记得用你从<em class="mc">僵尸父</em>那里得到的令牌替换命令中<strong class="ix hj">无效</strong>的令牌。</p><h1 id="1583" class="ll ju hi bd jv lm ln lo jz lp lq lr kd ls lt lu kg lv lw lx kj ly lz ma km mb bi translated">赫罗库</h1><p id="7710" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">你需要找到一个主机提供商来保持机器人一直运行。</p><p id="0a9b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">真的有很多提供商，有不同的计划和服务。你可以在这个<a class="ae iu" href="https://github.com/dalisoft/awesome-hosting" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>和<a class="ae iu" href="https://github.com/dalisoft/awesome-hosting#nodejs" rel="noopener ugc nofollow" target="_blank"> Node.js </a>部分找到一个提供Node.js托管的列表。</p><p id="9e7b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我看来，免费方案最好的提供商是<a class="ae iu" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>。它允许你运行多达5个应用程序，并给你550 dyno小时/月。</p><p id="2338" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有两种类型的动态:</p><ul class=""><li id="1ea4" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated">Worker dyno :在后台执行任务，不响应web请求。只使用免费工作者dyno的应用程序不会休眠；他们全天候运行。</li><li id="93a1" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><em class="mc"> Web dyno </em>:曝光一个网站，如果它在30分钟内没有收到网络流量就休眠。除了web dyno休眠之外，<em class="mc"> worker dyno </em>(如果存在)也会休眠。免费<em class="mc">网络动态</em>睡眠时不消耗免费动态时间。</li></ul><p id="7947" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">机器人是一个连续运行550小时/月(~22天/月)的<em class="mc">工作者dyno </em>。如果您在帐户中添加了一张卡，限额将达到1000小时/月(约42天/月)。</p><p id="edb2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当你在一个月内用完了所有的免费dyno小时，Heroku会强制你的所有应用程序在这个月的剩余时间内休眠。</p><p id="2116" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在这里阅读更多关于免费计划的信息。</p><h2 id="2df6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">添加部署信息</h2><p id="ffa2" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">Heroku需要在项目中进行一些额外的配置来正确地部署它。</p><p id="b96e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先要添加的是<code class="du lh li lj lk b">package.json</code>中的节点和npm版本。添加一个带有<em class="mc">节点</em>和<em class="mc"> npm </em>键及其各自版本的<em class="mc">引擎</em>对象，如下所示。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="22fc" class="jt ju hi lk b fi ml mm l mn mo">{<br/>  ...<br/>  "engines": {<br/>    "node": "17.0",<br/>    "npm": "8.1"<br/>  },<br/>  ...<br/>}</span></pre><p id="0cf8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Heroku在<code class="du lh li lj lk b">package.json</code>中查找以下脚本。</p><ul class=""><li id="9bf6" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated">构建脚本:让开发人员指定构建项目的步骤。</li><li id="3e62" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><em class="mc">启动</em>脚本:Heroku用它来启动应用。</li></ul><p id="c905" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它还寻找一个名为<code class="du lh li lj lk b">Procfile</code>的文件，该文件配置部署步骤，可选地包括<em class="mc">构建</em>和<em class="mc">启动</em>指令。您可以在<a class="ae iu" href="https://devcenter.heroku.com/articles/procfile" rel="noopener ugc nofollow" target="_blank"> Procfile文档</a>中阅读其工作原理和配置方法。</p><p id="ff0b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将<code class="du lh li lj lk b">Procfile</code>添加到您的项目的根中，内容如下。它指定应用程序是一个worker dyno以及如何启动它。</p><pre class="md me mf mg fd mh lk mi mj aw mk bi"><span id="dc76" class="jt ju hi lk b fi ml mm l mn mo">worker: node dist/app.js</span></pre><p id="3f94" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此时，项目应该看起来像是<a class="ae iu" href="https://github.com/pirasalbe/Telegram-Bot_Node.js/tree/2323eacdc1ec3d69284e92108bcf6f3e7779e828" rel="noopener ugc nofollow" target="_blank">这个提交</a>。</p></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><p id="c604" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以阅读Heroku 文档上的<a class="ae iu" href="https://devcenter.heroku.com/articles/deploying-nodejs" rel="noopener ugc nofollow" target="_blank">部署Node.js应用程序，以找到关于这些步骤的更多信息。</a></p><h2 id="1ce8" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">创建Heroku应用程序</h2><p id="27a2" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">如果你还没有帐号，创建一个帐号，然后登录<a class="ae iu" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>。</p><p id="d3f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">点击<strong class="ix hj">新建</strong>按钮，选择<strong class="ix hj">新建app </strong>。</p><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mx"><img src="../Images/21961a30bffeca3e88f336a399091b24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eh8KsSD9nyRNtuVk-gXRyQ.png"/></div></div></figure><p id="dfc9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">键入您的<strong class="ix hj"> App名称</strong>，选择您想要部署的地区，点击<strong class="ix hj">创建app </strong>按钮。</p><figure class="md me mf mg fd ij er es paragraph-image"><div class="er es my"><img src="../Images/6ca27eaa47a5e8e67048aba316804b1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*pL_NazjoKkxLXHLztGwqGA.png"/></div></figure><p id="30b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，Heroku展示了<strong class="ix hj">部署</strong>选项卡，它提供了三种部署方法。其中两个需要<a class="ae iu" href="https://devcenter.heroku.com/articles/heroku-cli" rel="noopener ugc nofollow" target="_blank"> Heroku CLI </a>，而另一个部署了GitHub库。我将使用GitHub方法。</p><p id="48f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">单击GitHub选项，一旦您连接了您的GitHub帐户，搜索并连接您想要部署的存储库。</p><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/5f0ba0fcabef9df06f9e900e91afe2ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nS7KvqNWf1kOtGikNlhNLA.png"/></div></div></figure><p id="4cd7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在部署应用程序之前，有必要定义存储电报令牌的环境变量。打开<strong class="ix hj">设置</strong>选项卡，点击<strong class="ix hj">显示配置变量</strong>按钮。</p><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es na"><img src="../Images/da6766188b754cef01814e70d943bcb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*erW-VGQY_mizxtjgIQBvLA.png"/></div></div></figure><p id="1528" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">定义一个新的由<code class="du lh li lj lk b">BOT_TOKEN</code>键标识的环境变量，并将<em class="mc"> BotFather </em>收到的令牌设置为其值。</p><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/e62daabd1a9359d7b5a3eaabf7d53c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYYxE9Zu7u_1bCcnqhweiA.png"/></div></div></figure><h2 id="2b6a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">部署</h2><p id="f2c2" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">环境现在已经准备好了，所以下一步是部署应用程序。</p><p id="4f29" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">返回到<strong class="ix hj">部署</strong>选项卡。您可以决定使用以下选项进行部署。</p><ul class=""><li id="d7e1" class="kt ku hi ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated"><strong class="ix hj">自动部署</strong> : Heroku监控所选分支，并在每次提交时部署它。</li><li id="33fa" class="kt ku hi ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated"><strong class="ix hj">手动部署</strong>:可以手动触发部署。</li></ul><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/502215d81703240e7f7315b4e2736719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0-IVzz5Tjl3KfQavnSeikg.png"/></div></div></figure><p id="5bee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可以配置<em class="mc">自动展开</em>，也可以手动触发展开。我将手动部署我的<strong class="ix hj"> dev </strong>分支。</p><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/3e510da0be42494dbc375382888c8647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcnI0OLQfM7MLCvSSsV2vQ.png"/></div></div></figure><p id="9ca5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在部署结束时，转到<strong class="ix hj">资源</strong>选项卡。禁用<em class="mc"> web </em> dyno，启用<em class="mc"> worker </em>。</p><figure class="md me mf mg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/0080383789c5e02a49e0fff60ade010c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bjQ0RgUYm7nI_JTnlg3tPA.png"/></div></div></figure><p id="34da" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在可以和机器人互动了。</p><figure class="md me mf mg fd ij er es paragraph-image"><div class="er es nd"><img src="../Images/1ef4deec666ee2fd293d0dcb975ea116.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*DrKBiwQMuxl8v2OYK3O91w.png"/></div></figure></div></div>    
</body>
</html>