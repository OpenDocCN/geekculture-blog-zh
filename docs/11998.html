<html>
<head>
<title>How to Structure Your DBT Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建你的DBT项目</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-structure-your-dbt-project-c62103deceb4?source=collection_archive---------0-----------------------#2022-04-20">https://medium.com/geekculture/how-to-structure-your-dbt-project-c62103deceb4?source=collection_archive---------0-----------------------#2022-04-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="5dfa" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">DBT /最佳实践</h2><div class=""/><p id="1657" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">这篇文章描述了构建你的DBT项目的不同方法，最重要的是，它介绍了这样做的步骤。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jm"><img src="../Images/87d03367fcc192b5dab82f47e91228db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bs4QsEzWBpQMfwP2cNfrWw.png"/></div></div></figure><h2 id="e628" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">议程</h2><ol class=""><li id="8ffe" class="ks kt hi iq b ir ku iv kv iz kw jd kx jh ky jl kz la lb lc bi translated">目标受众</li><li id="dcc1" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">默认DBT项目结构的问题</li><li id="288b" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">候选DBT项目结构</li><li id="a3a3" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">演示/操作方法</li></ol><ul class=""><li id="9936" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl ll la lb lc bi translated">如何实现DBT的“分层”项目结构</li><li id="1c3d" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">如何在DBT项目之间引用对象</li><li id="404d" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">如何跨多个DBT项目生成DBT文档</li></ul><p id="46a5" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">5.摘要</p><p id="962c" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">6.进一步阅读</p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h1 id="ed36" class="lt jz hi bd ka lu lv lw ke lx ly lz ki ma mb mc kl md me mf ko mg mh mi kr mj bi translated">1.目标受众</h1><p id="e56a" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">这篇文章是为那些对DBT有所了解并希望了解DBT项目结构最佳实践的人准备的。</p><h1 id="e23b" class="lt jz hi bd ka lu mn lw ke lx mo lz ki ma mp mc kl md mq mf ko mg mr mi kr mj bi translated">2.默认DBT项目结构的问题</h1><h2 id="b260" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">不必要/多余的查询处理</h2><p id="a9c8" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">当你默认安装DBT时，你使用的是“<strong class="iq hs">单片</strong>”DBT项目结构。当您在数据仓库中进行更改时，这样做可能会产生重大影响。例如，由于DBT模型的依赖性，提议的变更可能会触发一系列不必要的查询。除非您在运行DBT命令时始终如一地标记/定位DBT项目中的对象，否则您的更改很可能会尝试在整个数据模型中运行一系列的查询？！</p><h2 id="17f2" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">单个DBT项目中的多个复杂用例—糟糕的内务管理/开发人员体验</h2><p id="2cb4" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">随着时间的推移，您很可能已经建立了一个相当成熟的数据仓库结构，以满足以下典型用例的需求:</p><ul class=""><li id="03be" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl ll la lb lc bi translated">源数据处理</li><li id="c54d" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">数据质量处理</li><li id="cda1" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">CDC处理</li><li id="3405" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">数据模型转换</li><li id="3d00" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">数据集市管理层/表示层对象</li></ul><p id="6ec4" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">因此，在一个单一的DBT项目中包含支持上述内容所需的所有转换逻辑可能会导致糟糕的最终用户/开发人员体验。也就是说，你最终会得到一个非常拥挤的git repo。另一种方法是使用<strong class="iq hs">多个</strong> DBT项目来管理您的数据仓库转换。下面介绍了一些可用的选项。</p><h1 id="1b6f" class="lt jz hi bd ka lu mn lw ke lx mo lz ki ma mp mc kl md mq mf ko mg mr mi kr mj bi translated">3.候选DBT项目结构</h1><p id="6acc" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">你想如何处理和组织你的DBT项目文件？您是否希望每次进行更改时都构建一个完整的数据模型？您应该为您的仓库转换创建多个DBT项目吗？或者将相似的逻辑归入较小的DBT模型？</p><p id="ee54" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">下面的图片(和描述的项目结构)来自<a class="ae ms" rel="noopener" href="/photobox-technology-product-and-design/practical-tips-to-get-the-best-out-of-data-building-tool-dbt-part-1-8cfa21ef97c5"> Stefano Solimito的《中邮》</a>。然而，这篇文章关注的是创建这种<strong class="iq hs">非默认</strong> DBT项目结构的步骤，使用<strong class="iq hs">分层</strong>项目结构作为例子:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es mt"><img src="../Images/cc41c5832ff204e7a218ed70596e1f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*crH7Z8nc7iYndFyHfL5Z-w.png"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx">Source: <a class="ae ms" rel="noopener" href="/photobox-technology-product-and-design/practical-tips-to-get-the-best-out-of-data-building-tool-dbt-part-1-8cfa21ef97c5">Practical tips to get the best out of Data Build Tool (DBT) | Medium.com</a></figcaption></figure><h2 id="133c" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">默认DBT项目结构:“整体”(单个DBT项目)</h2><p id="a469" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">如果你没有围绕如何构建你的DBT项目做出设计决策，你将默认遵循'<strong class="iq hs">整体式</strong>'结构。在这个项目结构中，你只使用一个<strong class="iq hs">单个</strong> DBT项目。下面显示的是文件/文件夹结构的外观:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es my"><img src="../Images/743574f7cf175ad967793b4fad3e0d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mj1VLN1N6qySdcBh2w1U7A.jpeg"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx">The default ‘monolithic’ project structure consists of a single DBT project</figcaption></figure><h2 id="3240" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">DBT“分层”项目结构(多个DBT项目)</h2><p id="ebf5" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">在一个DBT项目中处理各种类型的数据有其优点和缺点。拥有一个单一的整体式DBT项目的另一种方法是代表您的数据环境，而不是创建多个DBT项目。作为这种方法的一个例子，下面显示了一个<strong class="iq hs">分层DBT项目的文件/文件夹结构:</strong></p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es mz"><img src="../Images/923fdf5515946ea4cdfdd76a8613069f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L-VBSI5YOw8sTEGd_ZXmIQ.jpeg"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx">Using the ‘layered’ project structure, the layer is itself a DBT project</figcaption></figure><p id="d1ce" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">在这个项目结构中，每个“层”是一个<strong class="iq hs">子</strong> DBT项目，它们作为DBT包安装在一个<strong class="iq hs">父</strong>项目上(由上面的<code class="du na nb nc nd b">&lt;dbt project name&gt;</code>表示)。下面描述了分层DBT项目结构的文件夹结构/内容与默认<strong class="iq hs">整体</strong>项目结构的区别:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es ne"><img src="../Images/8a89828e8a062dc68b936143db145f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tLBKkPH83S2NSQQsyjlMQ.jpeg"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx">In a layered structure, the DBT projects are installed as <strong class="bd ka">child</strong> projects underneath the data modules folder</figcaption></figure><h2 id="5c1e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">DBT文档呢？我可以跨多个DBT项目生成DBT文档吗？</h2><p id="9616" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">你可以！参见'<a class="ae ms" href="#ed44" rel="noopener ugc nofollow"> <em class="nf">如何跨多个DBT项目生成DBT文档</em> </a> <em class="nf"> ' </em>。</p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h1 id="8f57" class="lt jz hi bd ka lu lv lw ke lx ly lz ki ma mb mc kl md me mf ko mg mh mi kr mj bi translated">4.演示/操作方法</h1><p id="62e2" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">下面描述的是支持演示/操作指南，以帮助使用“层”、“垂直”或“层和垂直”项目结构。</p><h2 id="b647" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">4.1.如何实现DBT的“分层”项目结构</h2><p id="6751" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">1.首先，创建一个<strong class="iq hs">父</strong> dbt项目，按照您通常创建dbt项目的方式:<code class="du na nb nc nd b">dbt init &lt;dbt parent project name, e.g. ‘bike_shop’&gt;</code></p><p id="9874" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">2.通过以下方式安装所有<strong class="iq hs">子</strong> DBT项目:</p><p id="37f3" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">a)列出<code class="du na nb nc nd b">packages.yml</code>文件中的所有‘子’项目:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es ng"><img src="../Images/329b4ae791846b8391e236e5e0b60ead.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*rk26qrB_pBvt5i1ArZ5PUg.png"/></div><figcaption class="mu mv et er es mw mx bd b be z dx">DBT ‘child’ projects are installed as DBT packages</figcaption></figure><p id="eab1" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">b)使用DBT CLI命令<code class="du na nb nc nd b">dbt deps</code>安装这些<strong class="iq hs">子</strong>项目</p><p id="aed8" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">3.这样做可以在项目根目录下的<code class="du na nb nc nd b">dbt_modules</code>文件夹中创建一个DBT文件的副本(你已经在<code class="du na nb nc nd b">packages.yml</code>中引用过了):</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es nh"><img src="../Images/f74ce5c8753bf44eb8a8bb8e4a6a94d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2NAgfA2BGnAcEQrUQvm7vQ.jpeg"/></div></div></figure><p id="132c" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs">注意</strong>:你也可以从Git repo安装DBT包(包括子项目)。为此，请遵循DBT<a class="ae ms" href="https://docs.getdbt.com/docs/building-a-dbt-project/package-management" rel="noopener ugc nofollow" target="_blank">包管理文档页面</a>上的说明。下面的屏幕截图强调了安装本地或远程DBT软件包的要求:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es ni"><img src="../Images/439b3ee3b82dd67391b962fd1681f087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SqSm2tq4y2jMo4FdFRp3mQ.png"/></div></div></figure><p id="33bc" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">考虑到这一点，您可以<strong class="iq hs">为每个DBT项目/处理层创建单独的git repos。</strong></p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h2 id="ed44" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">4.2.如何跨多个DBT项目生成<strong class="ak"> DBT </strong>文档</h2><p id="9c2f" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">由于提到了DBT <strong class="iq hs">父子</strong>项目关系，这意味着用户可以从以下两个位置查看DBT文档:</p><ul class=""><li id="ea07" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl ll la lb lc bi translated">单一DBT项目视角(即单一“层”)</li><li id="a11c" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">以及所有DBT项目(层)</li></ul><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es nj"><img src="../Images/17976c8c8b59d9afe35c51fb2e276aa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1GQCNzeSc9qCLqjKQIBjA.jpeg"/></div></div></figure><p id="6355" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">上面的示例说明了如何选择DBT项目(即层)来动态更新DBT DAG。注意灰色的表格；这些来自取消选择的<code class="du na nb nc nd b">data_quality</code>和<code class="du na nb nc nd b">snapshot_cdc_processing</code> DBT项目(截图如下):</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es nk"><img src="../Images/71b15db589536136c7d3c06bc4742d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*lJcLNjkzogF83uet-Vym3w.jpeg"/></div></figure><p id="ea7f" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">要设计允许以这种方式生成DBT文档的DBT项目，请执行以下操作:</p><ol class=""><li id="5c3c" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl kz la lb lc bi translated">首先，创建一个<strong class="iq hs">父</strong> DBT项目:这是我们将用来生成我们的DBT文档的依据</li><li id="db2f" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">然后为每个子项目创建<strong class="iq hs">子</strong> DBT项目</li><li id="97ba" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">然后针对<strong class="iq hs">父</strong> DBT项目，通过运行<code class="du na nb nc nd b">dbt docs &amp;&amp; dbt serve</code>生成您的DBT文档</li><li id="894e" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">瞧啊。你有一个DBT DAG现在显示血统在你的仓库的所有阶段！</li></ol><p id="46eb" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">遵循这种方法意味着您可以将精力集中在每个DBT项目层所需的转换上，而不必担心这会如何影响正在生成的DBT文档。</p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h2 id="4eb8" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iz kj kk kl jd km kn ko jh kp kq kr ho bi translated">4.3.如何在DBT项目之间引用对象</h2><p id="35cb" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">这是一个简单的。你需要使用DBT <code class="du na nb nc nd b">ref()</code>功能。但是，与通常只向ref函数传递一个参数不同，您可以传递两个参数:</p><ol class=""><li id="cdfd" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl kz la lb lc bi translated">第一个指示您希望引用的DBT项目(包)</li><li id="7fae" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl kz la lb lc bi translated">第二个是指定您想要选择的对象</li></ol><p id="75a9" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">例如:</p><pre class="jn jo jp jq fd nl nd nm nn aw no bi"><span id="4b18" class="jy jz hi nd b fi np nq l nr ns">SELECT *</span><span id="bbe4" class="jy jz hi nd b fi nt nq l nr ns">FROM {{ ref(‘<strong class="nd hs">snapshot_cdc_processing</strong>’, ‘<strong class="nd hs">customers_snapshot</strong>’) }}</span></pre><p id="a23c" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">其中<code class="du na nb nc nd b">snapshot_cdc_processing</code>是另一个DBT项目(包)<code class="du na nb nc nd b">customers_snapshot</code>是项目内的对象:</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es nu"><img src="../Images/252beb80e10e3ef4e0aedd552fe54587.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*g01n7ZeUEkYbk41HzSvxfg.jpeg"/></div></figure></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h1 id="7c75" class="lt jz hi bd ka lu lv lw ke lx ly lz ki ma mb mc kl md me mf ko mg mh mi kr mj bi translated">5.摘要</h1><p id="a35b" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">这篇文章旨在描述如何实现Stefano Solimito的文章中描述的项目结构。以及提供将有助于以后工作的支持性考虑。</p><p id="7aa2" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">如果您是使用DBT的新手，最好开始使用默认的项目结构。尽管一旦你掌握了这些概念，我还是建议实施“层”、“垂直”或“层和垂直”DBT项目结构，而不是使用默认的整体结构，因为:</p><ol class=""><li id="c406" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl kz la lb lc bi translated"><strong class="iq hs">对您的数据环境进行无缝的未来更改</strong></li></ol><ul class=""><li id="4ec1" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl ll la lb lc bi translated">与使用单一项目结构相比，使用分层、垂直(或“层和垂直”)方法时，对您的数据环境进行未来更改非常非常容易</li><li id="561b" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">删除/解除大量依赖关系</li></ul><p id="8951" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs"> 2。避免不必要的处理</strong> —您可以编排处理，仅针对特定的层/垂直行业运行</p><p id="6984" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs"> 3。CI/CD集成更加容易</strong></p><ul class=""><li id="ba27" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl ll la lb lc bi translated">测试可以在单个项目中设计和管理</li><li id="de64" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated">有了这个整体结构，所有的DBT测试将被捆绑在一个单一的项目中，这对于管理和维护来说是一个挑战</li></ul><p id="8ed6" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs"> 4。数据沿袭更加用户友好— </strong>只有在这些架构中，才能看到每个项目或父项目级别的沿袭</p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h1 id="ccc7" class="lt jz hi bd ka lu lv lw ke lx ly lz ki ma mb mc kl md me mf ko mg mh mi kr mj bi translated">6.进一步阅读</h1><p id="e606" class="pw-post-body-paragraph io ip hi iq b ir ku it iu iv kv ix iy iz mk jb jc jd ml jf jg jh mm jj jk jl hb bi translated">只是为了给上述论点提供一些额外的背景，请参见下面的链接:</p><ul class=""><li id="a24c" class="ks kt hi iq b ir is iv iw iz li jd lj jh lk jl ll la lb lc bi translated">我应该有一个组织范围的项目(monorepo)还是每个工作流都有自己的项目？| discourse.getdbt.com</li><li id="8e64" class="ks kt hi iq b ir ld iv le iz lf jd lg jh lh jl ll la lb lc bi translated"><a class="ae ms" href="https://discourse.getdbt.com/t/how-to-configure-your-dbt-repository-one-or-many/2121" rel="noopener ugc nofollow" target="_blank">如何配置您的dbt存储库(一个或多个)？| discourse.getdbt.com</a></li></ul><p id="d44b" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">尽情享受吧！</p></div></div>    
</body>
</html>