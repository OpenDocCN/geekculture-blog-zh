<html>
<head>
<title>What’s The Difference Between Lambda Functions And List Comprehensions?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lambda函数和列表理解有什么区别？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/whats-the-difference-between-lambda-functions-and-list-comprehensions-54247515e17d?source=collection_archive---------56-----------------------#2021-06-22">https://medium.com/geekculture/whats-the-difference-between-lambda-functions-and-list-comprehensions-54247515e17d?source=collection_archive---------56-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/917e9a2c5696d5ab7a2c78626255d91c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4TLlisFk7XvtREAsS7C7Q.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@cgower?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Christopher Gower</a> on <a class="ae iu" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="db20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据科学家最耗时的任务之一</strong>(或者，实际上，只是寻求以某种有意义的方式利用数据的人，并且是从一开始就处理数据的人……这不是拥有“数据科学家”头衔的人独有的)<strong class="ix hj">是数据准备。</strong></p><p id="60ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在大多数情况下，在进行任何建模、构建训练集或许多其他步骤之前，必须首先收集、清理和组织数据。</p><p id="4c99" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下面的数据框架为例，它包含莱特币的历史价格信息，莱特币是“最古老”的加密货币之一，由前谷歌工程师李宗南在2011年作为比特币的“精简”版本推出:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/d2a0289c57bf12d45d6ae477224cbefb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aT_8eIiV3mxA9RkQIOeBWA.jpeg"/></div></div></figure><p id="08a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设我们想要<em class="jy">清理</em>在“时间段开始”列中的条目，在这种情况下，这可能指的是让特定的日期清晰可见，没有所有的零，也没有时间信息。</p><p id="28e4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一种方法是创建一个全新的列，<em class="jy">循环遍历</em>每个条目，并且只提取日期(即在第<strong class="ix hj"> 0 </strong>行中，对于<em class="jy">时间段开始</em>列，它将是<strong class="ix hj">2021–05–17</strong>)。</p><p id="1775" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，这个<em class="jy">可以用循环</em>的<em class="jy">来实现</em>，但是我选择使用列表理解:</p><pre class="ju jv jw jx fd jz ka kb kc aw kd bi"><span id="72f0" class="ke kf hi ka b fi kg kh l ki kj">ltc_series_sorted['period_start'] = [i[0:10] <strong class="ka hj">for</strong> i <strong class="ka hj">in</strong> ltc_series_sorted['Time_Period_Start']]</span></pre><p id="5ae6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于循环来说，列表理解通常比<em class="jy">更快，并且需要更少的代码。</em></p><p id="d452" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当完成一个数据科学项目时，能够用更少的代码更快地完成任务是非常重要的。</p><p id="06f6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在“时间段开始”和“时间段结束”列上使用上述代码，然后删除所有其他不需要的列，得到了这个清理后的数据框架(您也可以在“wk_price_change”列中看到我完成的一些功能工程的结果):</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/0b37021d7a51126d0536ec8822277917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hnc1OUFL7X01HFdX4Iao_A.jpeg"/></div></div></figure><p id="5c4d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，除了使用列表理解之外，还可以使用Lambda函数以及apply()或map()等函数。</p><p id="2ead" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就我的理解，Lambda函数可以永远被认为是<em class="jy">T21函数，只有在它们被创建的地方才需要它们。这与传统的函数不同，我们通常会创建一个函数，以便在以后使用它。</em></p><blockquote class="kl"><p id="3666" class="km kn hi bd ko kp kq kr ks kt ku js dx translated">Python中更多的传统函数是为以后使用而创建的。Lambda函数是为使用<em class="kv">而创建的，目前仅用于</em>。</p></blockquote><p id="8db0" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">而列表理解只输出列表，<strong class="ix hj"> Lambda函数可用于输出列表或值</strong>。人们甚至可以在Lambda函数中使用更普通的函数(其中函数是<em class="jy">定义的</em>)。</p><p id="36ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是一个Lambda函数与apply()一起使用的示例，任务是通过删除<em class="jy">停用词</em>对加密出版物标题进行一些NLP预处理。</p><pre class="ju jv jw jx fd jz ka kb kc aw kd bi"><span id="a68d" class="ke kf hi ka b fi kg kh l ki kj">df_testr['step_one_process'] = df_testr['headline'].apply(<strong class="ka hj">lambda</strong> x: ' '.join([word.lower() <strong class="ka hj">for</strong> word <strong class="ka hj">in</strong> x.split() <br/>                                                                    <strong class="ka hj">if</strong> word.lower() <strong class="ka hj">not</strong> <strong class="ka hj">in</strong> stop_words <strong class="ka hj">and</strong> word.isalpha()]))</span></pre><p id="b122" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">停用词是给定语言中的常用词，可能不会为分析和执行相应文本的建模增加太多价值。</p><p id="1a9d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以在这里看到Lambda函数与apply()一起使用的结果:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/4016e8d4b8524815b172fc7f0e5889fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y85VWnHNT2oQJjgaQkDTZg.jpeg"/></div></div></figure><p id="d2a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你能看到一个被多次删除的单词吗？</p><p id="9746" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">单词<strong class="ix hj"> <em class="jy">和</em> </strong>已经从行0、1和3中移除，并且其他单词也已经从数据帧中移除。</p><p id="8fdb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">据我所知，列表理解和lambda函数都比循环的<em class="jy">提供了更好的性能。</em></p><p id="7b50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是这两者有什么区别呢？</p><p id="9e2d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">列表理解和Lambda函数之间的区别似乎很大程度上是偏好的问题。</p><p id="22e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，在想要在不使用<em class="jy">定义</em>函数的情况下利用函数<em class="jy">的情况下，lambda函数似乎非常有用。</em></p><p id="e365" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在研究他们的差异后，似乎许多人更喜欢列表理解，因为它们通常可读性更强。</p><p id="183d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我倾向于同意。</p><p id="75b8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，lambda函数同样有用。</p></div></div>    
</body>
</html>