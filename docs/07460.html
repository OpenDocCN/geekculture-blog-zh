<html>
<head>
<title>Convert Your Python Script to Executable File</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将您的Python脚本转换为可执行文件</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/convert-your-python-script-to-executable-file-b7517c6960d3?source=collection_archive---------7-----------------------#2021-09-19">https://medium.com/geekculture/convert-your-python-script-to-executable-file-b7517c6960d3?source=collection_archive---------7-----------------------#2021-09-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/350697ec36222bab692ddb1b1e4b73e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o_FVnuqpS7ZU5tHj"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/@jexo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jexo</a> on <a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0af7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你是否曾经想和别人分享你的脚本，但是不想给出源代码？或者你想和那些没见过任何代码也不知道什么是编程的人分享一个你写的很棒的程序？事实证明，使用<strong class="ix hj"> pyinstaller </strong>包在Python中创建可执行文件有一种简单的方法。官方文件可以在下面找到:</p><div class="jt ju ez fb jv jw"><a href="https://www.pyinstaller.org/" rel="noopener  ugc nofollow" target="_blank"><div class="jx ab dw"><div class="jy ab jz cl cj ka"><h2 class="bd hj fi z dy kb ea eb kc ed ef hh bi translated">py installer quick start-py installer捆绑Python应用程序</h2><div class="kd l"><h3 class="bd b fi z dy kb ea eb kc ed ef dx translated">PyInstaller将Python应用程序冻结(打包)成独立的可执行文件，在Windows、GNU/Linux、Mac OS X下…</h3></div><div class="ke l"><p class="bd b fp z dy kb ea eb kc ed ef dx translated">www.pyinstaller.org</p></div></div><div class="kf l"><div class="kg l kh ki kj kf kk io jw"/></div></div></a></div><p id="8ece" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，在本文中，我将尽可能多地介绍实际的例子，以便将文档留给其他更具体的任务。</p><h1 id="aaee" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">示例应用程序</h1><p id="0948" class="pw-post-body-paragraph iv iw hi ix b iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">就我个人而言，看到应用程序在您的环境中做一些事情总是很有趣，这就是为什么在本教程中我们将构建一个可执行文件，它将在每次运行时创建一个新的空文件夹。为了更有趣一点，文件夹名称将等于可执行文件运行的日期和时间。顺便说一下，在Python中处理时间和日期非常容易。我已经在我的另一篇文章中写了，你可以在这里找到:</p><div class="jt ju ez fb jv jw"><a rel="noopener follow" target="_blank" href="/@arturasvy/working-with-time-and-date-in-python-6cce748f90f5"><div class="jx ab dw"><div class="jy ab jz cl cj ka"><h2 class="bd hj fi z dy kb ea eb kc ed ef hh bi translated">在Python中处理时间和日期</h2><div class="kd l"><h3 class="bd b fi z dy kb ea eb kc ed ef dx translated">我经常要做的事情之一是处理包括时间在内的各种形式的数据。我认为它是…</h3></div><div class="ke l"><p class="bd b fp z dy kb ea eb kc ed ef dx translated">medium.com</p></div></div><div class="kf l"><div class="lo l kh ki kj kf kk io jw"/></div></div></a></div><p id="e5b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，为了探索不同的<strong class="ix hj"> <em class="lp"> pyinstaller </em> </strong>构建选项的一些其他可能性，我将在代码末尾添加一些打印语句和一个延迟。因此，让我们从导入本例中需要的所有模块开始:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="1b12" class="lz km hi lv b fi ma mb l mc md">from datetime import datetime<br/>import os<br/>import time</span></pre><p id="adc0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本例中，来自<strong class="ix hj"> <em class="lp"> datetime </em> </strong>模块的<strong class="ix hj"> <em class="lp"> datetime </em> </strong>类将用于检索当前时间，因为我们希望我们的文件夹名称等于当前时间。另一个名为<strong class="ix hj"> <em class="lp"> os </em> </strong>的模块将用于检索运行脚本的工作目录，并在该特定目录下创建一个新文件夹。最后，<strong class="ix hj"> <em class="lp">时间</em> </strong>模块将用于创建延迟结束的应用程序。</p><p id="4a5e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们可以使用datetime类读取当前时间:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="c97d" class="lz km hi lv b fi ma mb l mc md">datetime_obj = datetime.now()<br/>print(f"datetime_obj = {datetime_obj}")<br/>print(f"datetime_obj type = {type(datetime_obj)}")</span></pre><p id="6f83" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">输出:</strong></p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="225c" class="lz km hi lv b fi ma mb l mc md">datetime_obj = 2021-09-19 11:57:08.004920<br/>datetime_obj type = &lt;class 'datetime.datetime'&gt;</span></pre><p id="01f8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请记住，您的<strong class="ix hj"> <em class="lp"> datetime_obj </em> </strong>值会有所不同，因为它实际上每微秒都会发生变化，并且取决于您运行脚本的时间。我还添加了一个打印来显示我们的<strong class="ix hj"> <em class="lp"> datetime_obj </em> </strong>的类型。</p><p id="fd39" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来要做的是将这个<strong class="ix hj"> <em class="lp"> datetime_obj </em> </strong>转换成字符串，这样我们就可以用它来形成一个目录名，用于创建一个新的文件夹。还有一点需要注意的是<strong class="ix hj"> <em class="lp"> datetime_obj </em> </strong>中包含了冒号符号':'，这在Windows中是不允许用于文件命名的，所以我们将':'改为' _ '符号使用<strong class="ix hj"> <em class="lp">替换</em> </strong>的方法。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="81bf" class="lz km hi lv b fi ma mb l mc md">folder_name = datetime_obj.strftime("%Y-%m-%d %H:%M:%S.%f")<br/>folder_name = folder_name.replace(':', '_')<br/>print(f"Folder name will be: {folder_name}")<br/>print(f"folder_name type = {type(folder_name)}")</span></pre><p id="1db2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">输出:</strong></p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="1356" class="lz km hi lv b fi ma mb l mc md">Folder name will be: 2021-09-19 11_57_08.004920<br/>folder_name type = &lt;class 'str'&gt;</span></pre><p id="4a32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如你所见，我们的<strong class="ix hj"> <em class="lp"> folder_name </em> </strong>现在是<strong class="ix hj"> <em class="lp"> str </em> </strong>类对象，而不是<strong class="ix hj"> <em class="lp"> datetime </em> </strong>，所以我们现在可以用它来构成我们将要创建的目录名。</p><p id="0518" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，是时候使用<strong class="ix hj"> <em class="lp"> os </em> </strong>模块获取当前工作目录了。这将有助于我们形成新文件夹的最终目录。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="152f" class="lz km hi lv b fi ma mb l mc md">cwd = os.getcwd()<br/>print(f"Current working directory: {cwd}")<br/><br/>folder_directory = cwd + "\\" + folder_name<br/>print(f"Will try to create new folder: {folder_directory}")</span></pre><p id="5231" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">输出:</strong></p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="210a" class="lz km hi lv b fi ma mb l mc md">Current working directory: C:\python_projects\pyinstaller_example<br/>Will try to create new folder: C:\python_projects\pyinstaller_example\2021-09-19 11_57_08.004920</span></pre><p id="59f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意，在形成<strong class="ix hj"><em class="lp">folder _ directory</em></strong>的时候我把三个字符串加在一起，中间有一个是<strong class="ix hj"><em class="lp">“\ \”。</em> </strong>我们需要这个，因为在Python中反斜杠符号<strong class="ix hj"> <em class="lp"> '\' </em> </strong>被用作转义字符。</p><p id="d7e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这一阶段，我们准备使用已形成的<strong class="ix hj"> <em class="lp">文件夹_目录</em> </strong>创建我们的新文件夹。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="0175" class="lz km hi lv b fi ma mb l mc md">try:<br/>    if not os.path.exists(folder_directory):<br/>        os.mkdir(folder_directory)<br/>        print(f"Successfully created directory: {folder_directory}")<br/>except Exception as e:<br/>    print(f"Failed to create directory! {e}")</span></pre><p id="b90e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">输出:</strong></p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="8ba5" class="lz km hi lv b fi ma mb l mc md">Successfully created directory: C:\python_projects\pyinstaller_example\2021-09-19 11_57_08.004920</span></pre><p id="5685" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里需要注意一些事情。首先，在本例中，我收到了这个输出，因为新目录创建成功。我可能会收到一个print异常，显示新目录创建失败。第二，我添加了一段代码来捕捉在创建新目录时可能发生的任何异常，这通常不是一个好的做法，但我将把它留在这里，以便它可以捕捉您可能遇到的任何意外错误。第三，<strong class="ix hj"><em class="lp">OS . path . exists()</em></strong>用于检查您将要创建的目录是否已经存在，如果不存在，那么我们使用<strong class="ix hj"> <em class="lp"> os.mkdir() </em> </strong>方法<strong class="ix hj">创建那个新目录。</strong></p><p id="a746" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">至此，我想向您展示示例应用程序差不多完成了。我想添加的最后一部分代码如下所示:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="828e" class="lz km hi lv b fi ma mb l mc md">print("Finish!")<br/>time.sleep(5)</span></pre><p id="3e91" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里发生的事情是我使用<strong class="ix hj"> <em class="lp"> time.sleep()到</em> </strong> make add延迟5秒钟，然后退出(我稍后会解释我为什么这样做)。</p><p id="b496" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是本示例应用程序中使用的完整代码片段:</p><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="04dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就是这样。我们已经完成了示例应用程序，我们将把它打包到可执行文件中。如果你想的话，你可以单独运行这个脚本，它会运行，你会看到结果，但是我的目标是展示如何创建可执行文件，所以我将在最后用可执行文件来演示结果。</p><h1 id="5d5f" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">Pyinstaller用于创建可执行文件</h1><p id="3f49" class="pw-post-body-paragraph iv iw hi ix b iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">在这一点上，我建议你从我的github库<a class="ae iu" href="https://github.com/vycart/pyinstaller_example" rel="noopener ugc nofollow" target="_blank">https://github.com/vycart/pyinstaller_example</a>中克隆这个示例应用程序代码，或者如果你跟随并且自己编写了代码，那么看看下一步。</p><p id="44cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦您克隆了存储库并完成了虚拟环境的设置和激活，我们现在就可以安装<strong class="ix hj"> <em class="lp"> pyinstaller </em> </strong>。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="379c" class="lz km hi lv b fi ma mb l mc md">pip install pyinstaller</span></pre><p id="66e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要检查pyinstaller是否安装成功，可以运行</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="b706" class="lz km hi lv b fi ma mb l mc md">pyinstaller --version</span></pre><p id="9588" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">输出:</strong></p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="ced6" class="lz km hi lv b fi ma mb l mc md">4.5.1</span></pre><p id="0cc5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在撰写本文时，这是最新的<strong class="ix hj"> <em class="lp"> pyinstaller </em> </strong>版本。如果到目前为止一切都正确，那么现在是时候实际构建可执行文件了。我们通过执行以下命令来实现这一点:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="f272" class="lz km hi lv b fi ma mb l mc md">pyinstaller main.py</span></pre><p id="e84d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果一切运行成功，您应该看到在您的工作目录下创建了几个新目录。以下是您应该看到的示例:</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/33901ea02a53b292f1866bf0428bb042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9S8Ma4lW-pDcPKLRCESVQw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 1. Directory view after running “pyinstaller main.py” (image by Author)</figcaption></figure><p id="40b8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，要找到您的可执行文件，您必须转到<strong class="ix hj"> <em class="lp"> dist </em> </strong>目录下，并进入<strong class="ix hj"> <em class="lp"> main </em> </strong>文件夹。您应该会看到下图所示的内容</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/0838d17189f02241a2e8e1cfcfaf6f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b6qiou3mF_ymyJBGlA4uvw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 2. Created executable file (image by Author)</figcaption></figure><p id="7c58" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，如果您运行这个文件，您将看到一个新的弹出窗口，显示我们在代码中添加的所有打印语句。</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/496d9d9a6abf830e4715554f03d39010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MMQpoGoySaEBLqiFdTklpg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 3. Running the executable file (image by Author)</figcaption></figure><p id="6077" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在这个窗口在5秒钟后自动关闭。这就是我们为什么在代码末尾添加了<strong class="ix hj"><em class="lp">time . sleep(5)</em></strong>的原因，这样你就能够看到可执行文件的输出。</p><p id="968b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，如果您再运行几次这个可执行文件，您将会看到在您的可执行文件所在的文件夹中创建了新的目录。下面是一个例子</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/3e5918ec0789d3026c5641e1d17bb594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tzPxO99R53hNolP3PV_85w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 4. New folder created every time after running executable (image by Author)</figcaption></figure><p id="378e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这种方式创建可执行文件的最大缺点是，你必须复制主文件夹中的所有内容(可执行文件所在的文件夹中的所有内容),如果我们不必这样做，那会好得多。实际上有一种方法可以做到这一点，但是在进行下一步之前，我建议从工作目录中删除<strong class="ix hj"> <em class="lp"> dist </em> </strong>文件夹，这样您就不会在下一步创建新的可执行文件后感到困惑。换句话说，在执行下一步之前，您的文件夹视图应该是这样的:</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/b98cd57af71a9b24bca5831e02d46950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sar-nXWorSjYsP2CaOuOkA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 5. dist directory deleted (image by Author)</figcaption></figure><p id="5536" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">实际上，我想指出的是，这一步并不是必须的，但我认为这样会减少混淆。以后你可以自己实验，看看有什么不同。</p><h1 id="64b3" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">将所有内容放入一个可执行文件中</h1><p id="272d" class="pw-post-body-paragraph iv iw hi ix b iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">Pyinstaller有很多构建可执行文件的选项，不可能在一篇文章中介绍所有选项并详细解释所有内容，但我想向您展示一些您可能想做的最重要的事情，其中一件事显然是拥有一个可执行文件，您可以与任何人共享，并且它可以在其他机器上工作。为此，您必须使用<code class="du ml mm mn lv b">--onefile</code>选项:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="293e" class="lz km hi lv b fi ma mb l mc md">pyinstaller main.py --onefile</span></pre><p id="cb00" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行后，您将看到与<strong class="ix hj">图1 </strong>中相同的视图，但是<strong class="ix hj"> <em class="lp"> dist </em> </strong>文件夹的内容这次会有所不同，您将只看到一个可执行文件:</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/778298db62ac116fcdf02c868b4f4bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HvO4SclZRMPqbaRfcgaqQA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 6. Single executable inside dist directory with ` — — onefile` option (image by Author)</figcaption></figure><p id="0249" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在这样好多了。您可以与任何人共享这个可执行文件，这是您唯一需要共享的文件，因为运行这个可执行文件所需的所有依赖项都打包在里面。你可以从<strong class="ix hj"> <em class="lp">图1 </em> </strong>中实际看到，在第一个方法<strong class="ix hj"><em class="lp"/></strong>期间，主<strong class="ix hj"><em class="lp"/></strong>的可执行文件大小约为1.4 KB，但现在它的大小约为<strong class="ix hj"><em class="lp"/></strong>的4.8 KB，但它仍然比整个<strong class="ix hj"> <em class="lp">区</em> </strong>目录中的所有<strong class="ix hj">要小得多。dll文件，我们使用第一种方法。</strong></p><p id="66d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在你可以把这个可执行文件复制到任何你想要的文件夹，并从那里运行它，你会看到和以前一样的东西(弹出窗口如图<strong class="ix hj"> <em class="lp">图3 </em> </strong>，程序完成后出现新的目录)。</p><h1 id="6304" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">更改可执行文件名称</h1><p id="709a" class="pw-post-body-paragraph iv iw hi ix b iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">我想展示的另一件事是如何更改可执行文件的名称。您可能不希望所有的可执行文件都被称为<strong class="ix hj"> main </strong>。您可以通过使用<code class="du ml mm mn lv b">--name</code>选项来实现。因此，如果您想创建一个名为<strong class="ix hj"> <em class="lp"> MyExecutable </em> </strong>的可执行文件，您可以使用下面的代码:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="a80f" class="lz km hi lv b fi ma mb l mc md">pyinstaller main.py --onefile --name MyExecutable</span></pre><p id="70f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，您的输出可执行文件将具有您描述的名称:</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/a9f3266d018d87395140cedfe0bf27e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AB7GhoiJEvcPgGt_nUPz9g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Figure 7. Specifying name for your executable file (image by Author)</figcaption></figure><p id="0319" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想指出的是，如果您想在可执行文件名称中添加下划线，您可能会遇到一些问题。克服它们是可能的，但是我建议在这一点上选择不带下划线的名字。</p><h1 id="bfc4" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">隐藏弹出窗口</h1><p id="55f3" class="pw-post-body-paragraph iv iw hi ix b iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">最后我想说的是如何隐藏当你启动可执行文件时弹出的窗口(<strong class="ix hj">图3 </strong>)。现在，您可能想要调试您的应用程序，并且您可以看到发生了什么，但是与您共享应用程序的人可能不需要这样做。此外，如果您正在创建图形用户界面(GUI)，您肯定希望隐藏该窗口，这样就不会打扰用户。为此，您需要为pyinstaller指定另一个选项<code class="du ml mm mn lv b">--windowed</code></p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="3003" class="lz km hi lv b fi ma mb l mc md">pyinstaller main.py --onefile --name MyExecutable --windowed</span></pre><p id="b7e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行此程序后，您的输出可执行文件看起来将与图7 中的<strong class="ix hj">完全相同，但是在启动后，图3 </strong>中显示的弹出窗口将不再可见。因此，在这一点上，您还可以从脚本末尾删除5秒钟的延迟，并重新构建可执行文件。</p><h1 id="e05b" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">结论</strong></h1><p id="d053" class="pw-post-body-paragraph iv iw hi ix b iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo ln jq jr js hb bi translated">使用<strong class="ix hj"> <em class="lp"> pyinstaller </em> </strong>包构建简单的可执行文件相当容易。当然，我们可以用它做很多更复杂的事情，但是在另一篇文章中写这个会更有意义。</p><p id="654c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">无论如何，我希望现在你应该能够把你的python脚本变成可执行文件，你可以和你的朋友或同事分享。</p><p id="0ee4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你有任何问题，请随意提问，我很乐意回答。</p><p id="83a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>