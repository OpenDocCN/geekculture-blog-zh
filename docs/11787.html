<html>
<head>
<title>An introduction to the Computer Vision services on Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure上的计算机视觉服务简介</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/an-introduction-to-the-computer-vision-services-on-azure-fbbd5096cca3?source=collection_archive---------10-----------------------#2022-04-09">https://medium.com/geekculture/an-introduction-to-the-computer-vision-services-on-azure-fbbd5096cca3?source=collection_archive---------10-----------------------#2022-04-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="3cf1" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">了解Azure计算机视觉服务，包括AutoML for Imagery。</h2></div></div><div class="ab cl ix iy gp iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hb hc hd he hf"><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/44a11b0f334c6a4f666bad1cd8f09828.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eGHkpxzlnzwfR6yBG1JgWw.jpeg"/></div></div></figure><h1 id="5225" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">介绍</h1><p id="8dbc" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">Azure是一个相当广泛的云平台，有时似乎有无数不同的服务；今天，我们将重点介绍其中的一小部分—计算机视觉或CV服务。Azure提供低代码/无代码的CV服务，例如Custom Vision，以及编程性服务，例如用于图像的AutoML。我们还将简要介绍用于创建资源组和资源的Azure CLI。</p><h2 id="6394" class="le jr hi bd js lf lg lh jw li lj lk ka kr ll lm kc kv ln lo ke kz lp lq kg lr bi translated">Azure上的选项</h2><p id="7731" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">在撰写本报告时，我们在Azure上有以下CV选项:</p><ul class=""><li id="97e6" class="ls lt hi kk b kl lu ko lv kr lw kv lx kz ly ld lz ma mb mc bi translated"><strong class="kk hj">Azure Computer Vision</strong>——作为Azure认知服务的一部分，Computer Vision为用户提供了使用各种用例的现成算法的机会。</li><li id="5c1a" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated"><strong class="kk hj">Azure Custom Vision</strong>——Custom Vision为用户提供了在低代码/无代码环境中进行实践和培训自己的定制模型的机会，同时为编程开发提供了一个易于使用的SDK。</li><li id="90fa" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated"><strong class="kk hj">AutoML for imaging(<em class="mi">Public Preview</em>)</strong>——作为Azure ML产品的一部分，AutoML for imaging为用户提供了一种代码优先的方法来培训和部署模型。</li></ul><p id="19d3" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">现在，我们已经了解了这些服务，让我们更深入地了解一下它们。请随意直接跳到您感兴趣的服务，而不是阅读整篇文章！</p><h1 id="2fa1" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">天蓝色计算机视觉</h1><p id="42f0" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">Azure的计算机视觉服务是Azure认知服务产品的一部分，允许用户通过API端点与一系列专业的现成模型交互。计算机视觉服务提供光学字符识别功能以及图像和空间分析。</p><h2 id="ef90" class="le jr hi bd js lf lg lh jw li lj lk ka kr ll lm kc kv ln lo ke kz lp lq kg lr bi translated">创建资源— Azure命令行界面设置</h2><p id="e479" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">在深入讨论该示例之前，我们首先需要在我们的Azure订阅中创建一个Computer Vision资源——您可以在此处创建免费订阅<a class="ae mm" href="https://azure.microsoft.com/en-gb/free/cognitive-services/" rel="noopener ugc nofollow" target="_blank"/>。我们将使用<a class="ae mm" href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli" rel="noopener ugc nofollow" target="_blank"> Azure CLI </a>创建该资源，但也可以在门户中轻松完成。</p><p id="598d" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">一旦您通过上面的链接安装了CLI，我们就可以开始创建新的资源组和计算机视觉资源了。</p><pre class="jf jg jh ji fd mn mo mp mq aw mr bi"><span id="6abb" class="le jr hi mo b fi ms mt l mu mv"><strong class="mo hj">az login</strong></span></pre><p id="729e" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">首先，我们想使用上面的命令登录。运行后，您应该会进入Azure登录页面，登录后，应该会显示您的订阅列表。</p><pre class="jf jg jh ji fd mn mo mp mq aw mr bi"><span id="f99a" class="le jr hi mo b fi ms mt l mu mv"><strong class="mo hj">az group create -l uksouth -n medium_blog_3</strong></span></pre><p id="e0fc" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">接下来，让我们使用上面的命令创建一个资源组——确保替换位置和名称标志以满足您的需要。</p><pre class="jf jg jh ji fd mn mo mp mq aw mr bi"><span id="8646" class="le jr hi mo b fi ms mt l mu mv"><strong class="mo hj">az cognitiveservices account create -n "Comp_Vision_Medium" -g "medium_blog_3" --kind "ComputerVision" --sku "S1" -l UKSouth --yes</strong></span></pre><p id="232a" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">接下来，我们将使用上面的命令创建一个计算机视觉资源。在门户中查看时，应该会出现以下情况:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mw"><img src="../Images/6a1f31b5e2c534567e3d26bee45186d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h899EZWgzE18fH1w4C3a9A.png"/></div></div></figure><p id="3cc0" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">在这里，您需要通过Azure门户导航到计算机视觉资源中的<em class="mi">密钥&amp;证书</em>选项卡，从您的资源中获取密钥和端点。</p><h2 id="777f" class="le jr hi bd js lf lg lh jw li lj lk ka kr ll lm kc kv ln lo ke kz lp lq kg lr bi translated">编程示例</h2><p id="9749" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">现在我们来看一个使用一些计算机视觉API的编程示例。请记住这个例子是用Python写的，所以假设你已经在你的机器上运行了它。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="5852" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">这看起来像是一大块代码，但是我们会分解它——不要担心！在这里，我也遵循了我在博客中提出的关于文档字符串的指导方针和建议，以帮助提高代码可读性——点击<a class="ae mm" rel="noopener" href="/geekculture/the-importance-of-writing-clear-docstrings-in-programming-62bffffa3881">这里</a>！</p><ul class=""><li id="4220" class="ls lt hi kk b kl lu ko lv kr lw kv lx kz ly ld lz ma mb mc bi translated">第1–14行涵盖了模块的docstring和脚本所需的导入库！就在这一点之后，你可以看到全局变量，它们将存储你的键和端点，我们在上一节的末尾获取了它们。</li><li id="0a31" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">第20–39行包含脚本的命令行参数，包括任何图像路径或URL，以及该脚本的自定义打印功能。</li></ul><p id="6192" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">第40行及以上是脚本开始充实的地方…</p><ul class=""><li id="4762" class="ls lt hi kk b kl lu ko lv kr lw kv lx kz ly ld lz ma mb mc bi translated">定义的下一个函数是<em class="mi"> auth_client() </em>函数，它使用密钥和端点来认证我们的客户机，以便查询任何API端点。</li><li id="d95b" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">第49–76行是我们第一个API调用的地方——这里我们将使用远程图像查询OCR端点。如您所见，我们传入了经过身份验证的客户端、图片URL的可选参数以及我们是否希望打印边界框。第62行之前是请求和处理响应的地方。</li><li id="496c" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">第78–103行基本上是远程图像函数的翻版，但用于本地图像——不同之处在于第89行，这里我们调用了不同的端点。</li><li id="a475" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">之后，我们找到了决定程序流程的<em class="mi"> main() </em>函数。</li></ul><h1 id="c822" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">Azure自定义视觉</h1><p id="d52a" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">Azure Custom Vision是一种图像识别服务，允许用户构建和训练自己的自定义模型——该服务允许用户指定自己的标签，并随后检测它们。该服务以SDK或无代码友好的<a class="ae mm" href="https://customvision.ai/" rel="noopener ugc nofollow" target="_blank">门户网站</a>的形式提供——您可以根据自己的喜好在任一界面中创建、测试和训练模型。</p><h2 id="b482" class="le jr hi bd js lf lg lh jw li lj lk ka kr ll lm kc kv ln lo ke kz lp lq kg lr bi translated">创建自定义视觉资源</h2><p id="a4dd" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">首先，让我们通过导航到位于<a class="ae mm" href="https://www.customvision.ai/" rel="noopener ugc nofollow" target="_blank"> Custom Vision — Home </a>的门户来创建一个自定义Vision项目。登录后，系统会提示您创建一个资源，然后创建一个项目—在本例中，我们将选择一个对象检测项目，并选择<em class="mi"> General [A1] </em>作为我们的<a class="ae mm" href="https://docs.microsoft.com/en-us/azure/cognitive-services/custom-vision-service/select-domain" rel="noopener ugc nofollow" target="_blank">域</a>。</p><h2 id="d971" class="le jr hi bd js lf lg lh jw li lj lk ka kr ll lm kc kv ln lo ke kz lp lq kg lr bi translated">模型的无代码开发</h2><p id="4c3d" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">所以，我们已经准备好了资源和项目，这意味着我们现在可以开始创建我们的模型了！对于这个例子，我将创建一个模型来检测美国台球中的3号球。</p><p id="5cf5" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">首先，我们需要将我们的图像上传到项目中，这可以使用“<em class="mi">添加图像</em>按钮直观地完成。从那里，下一步是现在用我们自己的标签标记我们的图像——添加新的标签类可以通过选择一个图像，然后在框右上角的文本框中输入标签来完成。</p><p id="4a3f" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">与Azure ML Studio中的功能类似，UI使标记您的图像变得非常容易——我们只需在我们希望检测的对象周围拖动一个框，然后为该边界框添加一个标签……简单吧？</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mz"><img src="../Images/417e0727b096a8d4f2b29d421f2b9572.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P43xIqeomyzWkjae6RSumQ.png"/></div></div></figure><p id="d99c" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">一旦我们标记了我们的图像，我们可以点击<em class="mi">训练</em>按钮来训练我们的模型的第一次迭代。在这里，您可以选择快速训练或高级训练——不需要太多的细节，高级训练会解冻底层神经网络中的最后几层，而快速训练会使它们保持冻结状态。</p><p id="210c" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">训练好模式后，您将看到指标——精确度、召回率和地图(平均精确度)。从这里，您可以点击UI左上角的<em class="mi"> Publish </em>按钮来发布模型，这样如果您对结果满意，就可以通过预测API访问它。</p><p id="a215" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">不过，对于这个例子，我将只使用<em class="mi">快速测试</em>功能来检查模型在测试图像上的输出。在这一阶段，您可以使用本地或远程图像测试模型，并更改阈值以查看模型的预测。</p><p id="2fca" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated"><strong class="kk hj"> <em class="mi">如果有足够的兴趣，我可以更深入地研究定制的Vision API&amp;SDK——我不想让这个博客因为包含它而持续太久！</em> </strong></p><h1 id="9fa4" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">图像自动绘制(<em class="na">公开预览</em>)</h1><p id="971e" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">AutoML是Azure的机器学习功能，使专业和公民数据科学家能够快速构建机器学习模型。</p><p id="7e0c" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">最近，在公开预览中宣布了对视觉任务的支持。我们现在能够轻松地为图像分类(多类别、多标签)、对象检测和实例分割等场景生成基于图像数据训练的模型。</p><h2 id="837a" class="le jr hi bd js lf lg lh jw li lj lk ka kr ll lm kc kv ln lo ke kz lp lq kg lr bi translated">使用AutoML for Imagery和Azure Kubernetes服务培训和部署模型</h2><p id="33e9" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">我们将使用Azure ML Studio在笔记本中以编程方式开发和训练我们的模型，因此直观地说，我们将通过创建Azure机器学习资源来开始这一部分——我将通过门户来完成这一工作。</p><p id="3c4f" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">我不会花时间介绍工作室本身，但如果你想了解更多，我会在参考资料部分留下一些资源链接。</p><p id="21e0" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">首先，我们将前往<em class="mi">计算</em>部分，创建一个轻量级计算来运行我们的笔记本电脑单元。在这一点上，我将添加警告<strong class="kk hj">不要忘记把你的计算实例等。关</strong>——你被警告了！</p><p id="7cf8" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">对于我们的数据，我们将使用Azure ML Studio中的数据标记功能来标记我们的数据并将其导出到注册的数据集中——有关准备数据的指导，请参见文档<a class="ae mm" href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-prepare-datasets-for-automl-images" rel="noopener ugc nofollow" target="_blank">页面</a>。为了方便起见，我将使用自定义视觉示例中的相同图像。</p><p id="4e4e" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">要标记您的数据，请前往工作室的<em class="mi">数据标记</em>部分，然后单击<em class="mi">新项目</em>。在这里，您将拥有定义标签项目的所有选项，即<em class="mi">媒体类型</em> &amp;标签类型。对于我的项目，我将再次选择对象检测。按照屏幕上的指示，上传您的图像，直到您看到如下所示的用户界面:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es nb"><img src="../Images/cef9c85f72b2951f772b7e32a6ee7f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZUl8OiDPKeyAHzXt5gJm3w.png"/></div></div></figure><p id="3125" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">这个仪表板提供了一个很好的标签项目概述，并将更新以及去。要开始贴标签，请前往<em class="mi">标签数据</em>选项卡，然后您会看到一个类似于自定义视觉的用户界面。</p><p id="e852" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">一旦数据集在Azure ML Studio中被标记，我们需要将其导出并注册为Azure ML数据集。要做到这一点，请回到您的项目，转到<em class="mi">导出</em>选项卡并选择<em class="mi"> Azure ML数据集</em>。如果您现在前往左侧的<em class="mi">数据集</em>选项卡，您应该能够看到导出的数据集！</p><p id="c885" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">出于对这成为我的论文的恐惧，我会指引你到这个公共的<a class="ae mm" href="https://github.com/retkowsky/AutoMLforImages" rel="noopener ugc nofollow" target="_blank">仓库</a>去找一些完全成熟的笔记本——我只是在更高的层次上回顾这些步骤。<strong class="kk hj"> <em class="mi">类似于自定义的Vision SDK，如果有足够的需求为AutoML开发一个单独的图像博客，我会很乐意专门为它再写一篇文章。</em>T25】</strong></p><p id="45e8" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">首先，我们想要定义我们的工作空间并创建我们的实验——这个实验充当了我所称的所有不同运行的“外壳”。它允许我们轻松地比较不同模型和超参数的指标，帮助我们选择想要部署的模型。</p><p id="5955" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">接下来，我们需要提供一个GPU来训练我们的模型，这可以在UI中完成，或者使用可用的<a class="ae mm" href="https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py" rel="noopener ugc nofollow" target="_blank"> SDK </a>以编程方式完成。调配完成后，我们需要读入数据集并设置运行，如下所示:</p><pre class="jf jg jh ji fd mn mo mp mq aw mr bi"><span id="1e5c" class="le jr hi mo b fi ms mt l mu mv">image_config_yolov5 = AutoMLImageConfig(<br/>task=ImageTask.IMAGE_OBJECT_DETECTION,<br/>compute_target=compute_target,<br/>training_data=training_dataset,                        hyperparameter_sampling=GridParameterSampling({'model_name': choice('yolov5')}),<br/>iterations=1)</span><span id="f996" class="le jr hi mo b fi nc mt l mu mv">automl_image_run = experiment.submit(image_config_yolov5)</span><span id="84e0" class="le jr hi mo b fi nc mt l mu mv">automl_image_run.wait_for_completion(wait_post_processing=True)</span></pre><p id="3448" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">从代码片段中，我们可以看到我正在使用YoloV5模型在。为了清楚起见，<em class="mi"> compute_target </em>是我的GPU实例，<em class="mi"> training_dataset </em>是我的标记数据集。</p><p id="f4f0" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">一旦运行完成，我们可以导航到工作室的<em class="mi">实验</em>部分，查看每个子运行的度量。</p><p id="2515" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">在这一点上，我们在下一步该做什么方面遇到了一个十字路口——我们要么提交另一次运行，进行一些超参数调整，要么根据我们对模型性能的满意程度，将我们的模型部署到Kubernetes集群。</p><p id="6616" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">在前面的例子中，我们以与上次几乎相同的方式设置和提交运行，代码如下所示:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="2209" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">一旦我们对模型的指标感到满意，我们就可以考虑部署到AKS。要开始这个过程，我们必须从提供一个GPU推理集群开始——这也可以使用UI或使用SDK以编程方式完成。关于部署的更多细节，请参见<a class="ae mm" href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-deploy-and-where?tabs=python" rel="noopener ugc nofollow" target="_blank">这里的</a>，但这里是我笔记本中部署我的模型的代码:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="a541" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">在模型被部署之后，我们可以查询它的端点，使用一些测试数据使用<em class="mi"> requests </em>库来测试它的输出——模型的端点只是一个REST端点，所以可以这样使用。</p><p id="e370" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">如果您想下载。ONNX文件，并将其部署在边缘设备上，您可以在此了解更多详细信息<a class="ae mm" href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-inference-onnx-automl-image-models?tabs=multi-class" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="a4c1" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">结论</h1><p id="c6cc" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">所以，我们有它！我们已经查看了Azure上的所有计算机视觉服务，从计算机视觉及其API到AutoML for Imagery。</p><p id="983a" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">一如既往，保重</p><p id="4881" class="pw-post-body-paragraph ki kj hi kk b kl lu ij kn ko lv im kq kr mj kt ku kv mk kx ky kz ml lb lc ld hb bi translated">~伊森</p><h1 id="9293" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">参考</h1><ul class=""><li id="95aa" class="ls lt hi kk b kl km ko kp kr nd kv ne kz nf ld lz ma mb mc bi translated"><a class="ae mm" href="https://techcommunity.microsoft.com/t5/ai-machine-learning-blog/announcing-automated-ml-automl-for-images/ba-p/2843034" rel="noopener ugc nofollow" target="_blank">https://tech community . Microsoft . com/t5/ai-machine-learning-blog/announcing-automated-ml-automl-for-images/ba-p/2843034</a></li><li id="f793" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae mm" href="https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/#overview" rel="noopener ugc nofollow" target="_blank">https://azure . Microsoft . com/en-us/services/cognitive-services/computer-vision/#概述</a></li><li id="cf50" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae mm" href="https://azure.microsoft.com/en-gb/services/cognitive-services/custom-vision-service/" rel="noopener ugc nofollow" target="_blank">https://azure . Microsoft . com/en-GB/services/cognitive-services/custom-vision-service/</a></li><li id="65e1" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae mm" href="https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/quickstarts-sdk/client-library?tabs=visual-studio&amp;pivots=programming-language-python" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/cognitive-services/computer-vision/quick starts-SDK/client-library？tabs = visual-studio&amp;pivots =编程语言-python </a></li><li id="0e63" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated">retkowsky/AutoMLforImages:Azure AutoML for Images。AutoML for Images是Azure ML的一部分。AutoML for images在public preview中可用。(github.com)</li><li id="3a18" class="ls lt hi kk b kl md ko me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae mm" rel="noopener" href="/microsoftazure/azure-automl-for-images-baseline-and-beyond-for-computer-vision-models-7a9631644d02">Azure AutoML for Images:Baseline and beyond for Computer Vision models | by Mercy ran JIT | Microsoft Azure | Medium</a></li></ul></div></div>    
</body>
</html>