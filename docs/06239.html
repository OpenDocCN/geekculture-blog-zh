<html>
<head>
<title>Display SVG with Coil — Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">显示带线圈的SVG-Jetpack组合</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/display-svg-with-coil-jetpack-compose-3c7bfc1f5e67?source=collection_archive---------5-----------------------#2021-08-14">https://medium.com/geekculture/display-svg-with-coil-jetpack-compose-3c7bfc1f5e67?source=collection_archive---------5-----------------------#2021-08-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b8918c845f3942670a4cc542dd06c893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1YwEdPoQ9Yn5hVlkQnNh5g.jpeg"/></div></div></figure><p id="a418" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为一名android开发人员，加载SVG图像是一项日复一日的任务。</p><p id="3c76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用Coil库，这项任务变得非常高效，因为Coil自动处理网络请求、转换和缓存。</p><p id="407c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想知道更多关于线圈库和它是如何工作的，参考这篇博文<a class="ae jo" rel="noopener" href="/@_pundirAbhishek/jetpack-compose-image-loading-using-coil-647a8098c217">这里</a>。</p><ol class=""><li id="9fd9" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated"><strong class="is hj">导入依赖关系</strong></li></ol><p id="6c24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在build.gradle文件中，为线圈库添加这些依赖项。</p><p id="499a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">(届时版本可能会有所不同，你可以从<a class="ae jo" href="https://coil-kt.github.io/coil/compose/" rel="noopener ugc nofollow" target="_blank">这里</a>查看。)</p><pre class="jy jz ka kb fd kc kd ke kf aw kg bi"><span id="2a55" class="kh ki hi kd b fi kj kk l kl km">// Coil Library Dependencies<br/>implementation "io.coil-kt:coil-compose:1.3.2"<br/>implementation "io.coil-kt:coil-svg:1.3.2"</span></pre><p id="105f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.<strong class="is hj">获取SVG Url </strong></p><p id="e80d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Coil有一个SVG解码器，帮助我们在组件中显示SVG图像。</p><p id="b7b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设我们有一个SVG链接。</p><pre class="jy jz ka kb fd kc kd ke kf aw kg bi"><span id="de67" class="kh ki hi kd b fi kj kk l kl km">val svgLink = "https://restcountries.eu/data/aus.svg"</span></pre><p id="3c4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.<strong class="is hj">图像加载器</strong></p><p id="ace8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们需要定义一个图像加载器。</p><p id="e100" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kn ko kp kd b">ImageLoader</code>是执行<code class="du kn ko kp kd b"><a class="ae jo" href="https://coil-kt.github.io/coil/image_requests/" rel="noopener ugc nofollow" target="_blank">ImageRequest</a></code>的<a class="ae jo" href="https://publicobject.com/2019/06/10/value-objects-service-objects-and-glue/" rel="noopener ugc nofollow" target="_blank">服务对象</a>，它们处理缓存、数据获取、图像解码、请求管理、位图池、内存管理等等。</p><pre class="jy jz ka kb fd kc kd ke kf aw kg bi"><span id="4223" class="kh ki hi kd b fi kj kk l kl km">val imageLoader = ImageLoader.Builder(<em class="kq">LocalContext</em>.current)<br/>    .componentRegistry <strong class="kd hj">{<br/>        </strong>add(SvgDecoder(<em class="kq">LocalContext</em>.current))<br/>    <strong class="kd hj">}<br/>    </strong>.build()</span></pre><p id="41f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.<strong class="is hj">获取图像</strong></p><p id="88af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，无论何时我们想要使用它，我们都必须将它传递给CompositionLocalProvider。在里面你定义一个画家，其余的是经典构图。</p><pre class="jy jz ka kb fd kc kd ke kf aw kg bi"><span id="c908" class="kh ki hi kd b fi kj kk l kl km"><em class="kq">CompositionLocalProvider</em>(<em class="kq">LocalImageLoader </em>provides imageLoader) <strong class="kd hj">{<br/>    </strong>val painter = <em class="kq">rememberImagePainter</em>(svgLink)<br/><br/>    <em class="kq">Image</em>(<br/>        painter = painter,<br/>        contentDescription = "SVG Image",<br/>        modifier = Modifier<br/>                     .size(80.dp)<br/>                     .<em class="kq">clip</em>(<em class="kq">CircleShape</em>),<br/>        contentScale = ContentScale.FillBounds<br/>    )<br/><strong class="kd hj">}</strong></span></pre><p id="60a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们看了如何在我们的组件中显示SVG图像，只需要一个SVGDecoder。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="08d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们将探索一些其他与Jetpack Compose相关的特性。</p><p id="299d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">到那时快乐作曲。</strong></p></div></div>    
</body>
</html>