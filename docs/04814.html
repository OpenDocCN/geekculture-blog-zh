<html>
<head>
<title>Bundling code using Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Webpack捆绑代码</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/bundling-a-code-using-webpack-93eb6fe9ce5d?source=collection_archive---------21-----------------------#2021-07-04">https://medium.com/geekculture/bundling-a-code-using-webpack-93eb6fe9ce5d?source=collection_archive---------21-----------------------#2021-07-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5a9d689fc9771b4ac7575f26ca0011d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DewSRCzYqnoRSvanSnujXg.png"/></div></div></figure><h1 id="e9e1" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">先决条件:</h1><p id="9438" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">对TypeScript的基本理解。</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h1 id="1d79" class="iq ir hi bd is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn bi translated">什么是Webpack？</h1><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/6140c2f9cda11939364dfe03c4c11b89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nh1uyCxisDzDEn6sMgdHVg.png"/></div></div></figure><p id="ebc1" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj"> → Webpack </strong>是帮助我们优化代码性能的代码捆绑工具。</p><p id="3027" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→在一个实时的大项目中，会有很多ts文件(可能超过100个)。TypeScript使用<code class="du li lj lk ll b">tsc — watch</code>命令将这些文件转换成js文件</p><p id="ddaf" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→因此将生成相同数量的js文件(比如100个JS文件)。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/372506e80a89864e1e1f6bbcff135b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCo608LXt_S5-pWjH__Nmg.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Multiple files generated inside dist folder</figcaption></figure><p id="6624" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→如果我们观察上面的截图:</p><p id="6b1f" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">这个目录包含了应用程序的所有tsc文件</p><p id="750f" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj"> dist: </strong>将生成相同数量的js文件，这些文件将在浏览器中呈现。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/cf5b83e18fcc04d95ea526a06d51018a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5G3TCEkArfynPdwAgJwg7w.png"/></div></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/c3b1361bb6c03f8a2d194e09bd53bdc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TLi0saQM4epT9MzMPr43EQ.png"/></div></div></figure><p id="618e" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→在上面chrome浏览器开发工具的网络选项卡中，我们找到了所有呈现在这里的JS文件。</p><p id="3387" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">上述方法的问题:</strong></p><p id="7e6a" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">a.<strong class="jq hj">多个文件</strong>会调用<strong class="jq hj">多个HTTP请求</strong>。<strong class="jq hj">每个电话都需要一段时间才能得到回应。</strong>整体文件响应将花费大量时间，这将<strong class="jq hj">影响站点性能</strong>。</p><p id="e973" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">b.我们可以在上面的截图中观察到这个<strong class="jq hj">瀑布标签</strong>。</p><p id="a307" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">白色</strong> <strong class="jq hj">框线:</strong>在HTTP请求中告诉我们<strong class="jq hj">等待时间</strong>和</p><p id="00cf" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">蓝框线:</strong>是我们得到的的<strong class="jq hj">响应。</strong></p><p id="a7d2" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">c.这里我们在本地服务器上开发。想象一下，如果我们部署在生产服务器中，页面加载时间会增加更多。</p><p id="4753" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">解决方案:</strong> Webpack</p><p id="f632" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">这将在dist文件夹中生成一个bundle.js文件。</p><p id="50b5" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">HTTP调用的数量将是<strong class="jq hj">一个</strong>。因此<strong class="jq hj">总体应用</strong>性能将会<strong class="jq hj">提高</strong></p><p id="0464" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">视频1: Webpack安装和一些概述:</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="6538" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">最终输出:</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/7062ba858002c3e84f08401b77631e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*algI_GTDCAw-gzXcClC2PA.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Inside</figcaption></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/639e5149ebf5cfeca02eff965671a1d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HsAr5y0MWb3W-IJOoZP3oA.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Bundle.js is the only JS file that will be rendered in the browser</figcaption></figure></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="8f86" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">让我们开始Webpack的开发。</p><p id="adc3" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">步骤1: </strong>在项目中，终端安装以下插件:</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="9a00" class="ly ir hi ll b fi lz ma l mb mc">npm install — save-dev webpack webpack-cli webpack-dev-server typescript ts-loader;</span></pre><p id="5e5e" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">步骤2: </strong>转到tsconfig.ts文件</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="0a67" class="ly ir hi ll b fi lz ma l mb mc">"target": "es6",   </span><span id="cbea" class="ly ir hi ll b fi md ma l mb mc">"module": "es2015",</span><span id="8c11" class="ly ir hi ll b fi md ma l mb mc">"sourceMap" true,</span><span id="b8e1" class="ly ir hi ll b fi md ma l mb mc"><em class="me">// "rootDir": "./src",    // this must be commented</em></span></pre><p id="013b" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→ <strong class="jq hj"> rootDir: </strong> TypeScript将ts文件转换成等价的JS文件，并使用这个键保存它。对其进行注释将会停止JS文件的默认创建。</p><p id="3bf6" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→ <strong class="jq hj">目标:</strong>根据浏览器选择，这可以是es5或者es6。</p><p id="cd78" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→ <strong class="jq hj"> sourceMap: </strong>这将有助于在浏览器中调试TS文件。</p><p id="01a8" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→ <strong class="jq hj">模块:</strong>这一定是“es2015”</p><p id="538c" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">第三步:</strong>创建<strong class="jq hj"> webpack.config.js </strong>。默认情况下，Webpack会搜索该文件。</p><p id="3f89" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">此页面遵循Node js语法。</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="294e" class="ly ir hi ll b fi lz ma l mb mc">module.exports = {</span><span id="5717" class="ly ir hi ll b fi md ma l mb mc">  mode: 'development',</span><span id="1787" class="ly ir hi ll b fi md ma l mb mc">  entry: "./src/app.ts",</span><span id="c5b6" class="ly ir hi ll b fi md ma l mb mc">  output: {</span><span id="394f" class="ly ir hi ll b fi md ma l mb mc">    filename: "bundle.js",</span><span id="b62e" class="ly ir hi ll b fi md ma l mb mc">    path: path.<strong class="ll hj">resolve</strong>(__dirname, 'dist'),</span><span id="2d2f" class="ly ir hi ll b fi md ma l mb mc">    publicPath: '/dist',</span><span id="de30" class="ly ir hi ll b fi md ma l mb mc">  },</span><span id="cdb0" class="ly ir hi ll b fi md ma l mb mc">` devtool: 'inline-source-map',</span><span id="5033" class="ly ir hi ll b fi md ma l mb mc">  module: {</span><span id="5ec8" class="ly ir hi ll b fi md ma l mb mc">    rules: [</span><span id="43bb" class="ly ir hi ll b fi md ma l mb mc">      {</span><span id="cfb3" class="ly ir hi ll b fi md ma l mb mc">        test: /\.ts$/,</span><span id="9ae6" class="ly ir hi ll b fi md ma l mb mc">        use: 'ts-loader',</span><span id="bbdd" class="ly ir hi ll b fi md ma l mb mc">        exclude: /node_modules/</span><span id="cec8" class="ly ir hi ll b fi md ma l mb mc">      }</span><span id="a1ba" class="ly ir hi ll b fi md ma l mb mc">    ]</span><span id="bd0d" class="ly ir hi ll b fi md ma l mb mc"> },</span><span id="319b" class="ly ir hi ll b fi md ma l mb mc"> resolve: {</span><span id="d3aa" class="ly ir hi ll b fi md ma l mb mc">   extensions: ['.ts', '.js']</span><span id="1ae4" class="ly ir hi ll b fi md ma l mb mc"> }</span><span id="9150" class="ly ir hi ll b fi md ma l mb mc"> };</span></pre><p id="02a7" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">解释上面的每个键:</p><ol class=""><li id="903b" class="mf mg hi jq b jr ld jv le jz mh kd mi kh mj kl mk ml mm mn bi translated"><strong class="jq hj">模式:</strong>这可以是开发，也可以是生产。在生产中，将生成简化的捆绑代码</li><li id="e7e5" class="mf mg hi jq b jr mo jv mp jz mq kd mr kh ms kl mk ml mm mn bi translated"><strong class="jq hj">条目:</strong>这是应用程序的起始页，这里是app.ts</li></ol><p id="6111" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">3.<strong class="jq hj"> output.filename: </strong>这是将要生成的捆绑文件名(即bundle.js)</p><p id="f508" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">4.<strong class="jq hj"> output.path: </strong>生成捆绑文件的路径。</p><p id="3780" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">5.<strong class="jq hj"> output.publicPath: </strong></p><p id="2f17" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">a.我们将首先使用<strong class="jq hj"> Lite服务器</strong>来<strong class="jq hj">创建dist/bundle . js</strong>——因为路径键就足够了。</p><p id="d4b3" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">b.当我们使用Webpack服务器时，物理上dist目录将是空的，并将来自webpack服务器内存。此路径仅在使用webpack服务器时添加(通常与路径密钥相同)</p><p id="dbbb" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">6.<strong class="jq hj"> devtool: </strong>开发中—内联源映射，用于生产—可以是无或评估</p><p id="a4b0" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">参考—<a class="ae mt" href="https://webpack.js.org/configuration/devtool/" rel="noopener ugc nofollow" target="_blank">https://webpack.js.org/configuration/devtool/</a></p><p id="8fef" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">7.<strong class="jq hj"> modules.rules.test: </strong>这包含一个规则列表。对于这个应用程序，我们告诉webpack哪个监控所有的ts文件</p><p id="f53c" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">8.<strong class="jq hj">模块.规则.用途:</strong>使用TS加载器</p><p id="d872" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">9.<strong class="jq hj">modules . rules . exclude:</strong>web pack将忽略监控这里指定的目录。</p><p id="63de" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">10.<strong class="jq hj"> resolve.extensions: </strong>在所有的导入语句中，不需要编写扩展名，即js和。ts，webpack会监控它。</p><p id="7327" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">步骤4: </strong>转到package.json文件</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="81a8" class="ly ir hi ll b fi lz ma l mb mc">{</span><span id="fc4b" class="ly ir hi ll b fi md ma l mb mc">   “name”: “understanding-typescript”,</span><span id="f9bf" class="ly ir hi ll b fi md ma l mb mc">   “version”: “1.0.0”,</span><span id="c1ed" class="ly ir hi ll b fi md ma l mb mc">   “description”: “Understanding TypeScript Course Setup”,</span><span id="033f" class="ly ir hi ll b fi md ma l mb mc">   “main”: “app.js”,</span><span id="da9a" class="ly ir hi ll b fi md ma l mb mc">   “scripts”: {</span><span id="5759" class="ly ir hi ll b fi md ma l mb mc">   “test”: “echo \”Error: no test specified\” &amp;&amp; exit 1",</span><span id="86a8" class="ly ir hi ll b fi md ma l mb mc">   “start”: “lite-server”,</span><span id="429e" class="ly ir hi ll b fi md ma l mb mc">   “build”: “webpack”       // Write this build line</span><span id="f0b3" class="ly ir hi ll b fi md ma l mb mc">},</span><span id="3085" class="ly ir hi ll b fi md ma l mb mc">“keywords”: [</span><span id="b210" class="ly ir hi ll b fi md ma l mb mc">  “typescript”,</span><span id="83f8" class="ly ir hi ll b fi md ma l mb mc">  “course”</span><span id="b0d4" class="ly ir hi ll b fi md ma l mb mc">],</span><span id="934b" class="ly ir hi ll b fi md ma l mb mc">“author”: “Amir Mustafa”,</span><span id="4083" class="ly ir hi ll b fi md ma l mb mc">“license”: “ISC”,</span><span id="d4a6" class="ly ir hi ll b fi md ma l mb mc">“devDependencies”: {</span><span id="af8c" class="ly ir hi ll b fi md ma l mb mc">  “lite-server”: “².5.4”,</span><span id="59f8" class="ly ir hi ll b fi md ma l mb mc">  “ts-loader”: “⁹.2.3”,</span><span id="78a8" class="ly ir hi ll b fi md ma l mb mc">  “typescript”: “⁴.3.5”,</span><span id="8fb6" class="ly ir hi ll b fi md ma l mb mc">  “webpack”: “⁵.41.1”,</span><span id="1df8" class="ly ir hi ll b fi md ma l mb mc">  “webpack-cli”: “⁴.7.2”,</span><span id="7092" class="ly ir hi ll b fi md ma l mb mc">  “webpack-dev-server”: “³.11.2”</span><span id="47a2" class="ly ir hi ll b fi md ma l mb mc"> }</span><span id="8e1c" class="ly ir hi ll b fi md ma l mb mc">}</span></pre><p id="d85a" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">步骤5: </strong>现在在终端中运行下面的命令(在项目目录中的三个终端中打开)</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="029f" class="ly ir hi ll b fi lz ma l mb mc">npm run build // creates bundle.js inside dist directory</span><span id="62d6" class="ly ir hi ll b fi md ma l mb mc">npm start     // starts lite server</span><span id="e1b8" class="ly ir hi ll b fi md ma l mb mc">tsc –watch    // Typescript watching</span></pre><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/86f1bf8e1ab683026f53b469ee8b505d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mffb3zEvEekDqpW7WW_76w.png"/></div></div></figure><p id="11ae" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→现在我们在浏览器中只看到<strong class="jq hj">一个bundle.js </strong>下载，因此<strong class="jq hj">瀑布延迟</strong></p><p id="f19b" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→因此多个页面没有不必要的HTTP请求</p><p id="86c1" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→在你的index.html档案中</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="74ac" class="ly ir hi ll b fi lz ma l mb mc">&lt;script <em class="me">type</em>="module" <em class="me">src</em>="dist/bundle.js"&gt;&lt;/script&gt;</span></pre><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/57a3f1808233bb1e9e82aedf98c21daf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W5s0vvmLDFJsqjbkFNc_XQ.png"/></div></div></figure><p id="9de6" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">视频2:从多个文件转换为一个包。js:</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ls lt l"/></div></figure></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h1 id="25bc" class="iq ir hi bd is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn bi translated">C.使用Webpack服务器:</h1><h2 id="2e88" class="ly ir hi bd is mv mw mx iw my mz na ja jz nb nc je kd nd ne ji kh nf ng jm nh bi translated">为什么使用Webpack服务器？</h2><p id="1b95" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">I .当我们编写代码时，浏览器中的自动刷新就像与服务器反应一样。</p><p id="23e9" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">二。有了Lite server，我们习惯一次又一次地点击<code class="du li lj lk ll b">npm run bundle</code>。代码更改后。这里不需要同样的东西。</p><p id="3238" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">三。目前bundle.js文件创建在dist文件夹中。对于webpack server，不会创建任何物理bundle.js文件。这将从webpack服务器的内存中呈现。因此，代码更加优化。</p><p id="cbd2" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">我们需要在上面讨论过的webpack配置中进行编写。</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="30ef" class="ly ir hi ll b fi lz ma l mb mc">publicPath: '/dist',</span></pre><p id="ea47" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">第一步:在package.json中</strong></p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="90c7" class="ly ir hi ll b fi lz ma l mb mc">"start": "npx webpack serve",</span></pre><p id="dcc0" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">您也可以在此处关注这一变化:</p><p id="51c8" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><a class="ae mt" href="https://github.com/AmirMustafa/DragNDrop/commit/f44862849d4cd31d1089d34efb61dd13c1ef079a" rel="noopener ugc nofollow" target="_blank">https://github . com/Amir Mustafa/DragNDrop/commit/f 44862849 D4 CD 31d 1089d 34 efb 61 DD 13 C1 ef 079 a</a></p><p id="cad9" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><strong class="jq hj">第二步:在webpack.config.js中</strong></p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="efac" class="ly ir hi ll b fi lz ma l mb mc">const path = require('path');</span><span id="b2c9" class="ly ir hi ll b fi md ma l mb mc">module.exports = {<br/>    mode: 'development',<br/>    entry: "./src/app.ts",<br/>    output: {<br/>        filename: "bundle.js",<br/>        path: path.resolve(__dirname, 'dist'),<br/>        publicPath: '/dist',     // webpack memory serve - bundle.js<br/>    },<br/>    devtool: 'inline-source-map',<br/>    module: {<br/>        rules: [</span></pre><p id="b8f1" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated"><a class="ae mt" href="https://user-images.githubusercontent.com/15896579/124289049-7e322380-db6f-11eb-95e6-17b5d2582f4b.png" rel="noopener ugc nofollow" target="_blank">https://user-images . githubusercontent . com/15896579/124289049–7e 322380-db6f-11eb-95e 6–17b 5d 2582 f4b . png</a></p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ni"><img src="../Images/f467ddd148d8f0928314fb46c905e6d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmRdoD7Eo9IYJRCIObD8Yw.png"/></div></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/f0e2c85b7a2c610ec369340005684d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ipkDTqxGcH0x5I_4tEVJ0Q.png"/></div></div></figure><p id="4217" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→现在，当您这次运行<code class="du li lj lk ll b">npm start</code>而不是lite server时，webpack server将运行并打开:8080端口</p><p id="aa5f" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→观察:此时<strong class="jq hj"> dist目录将为空</strong>，文件将从webpack存储器中提供<strong class="jq hj"/></p><p id="a1a4" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">视频3:从Lite服务器转换到Webpack服务器:</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ls lt l"/></div></figure></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h1 id="88db" class="iq ir hi bd is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn bi translated">D.为生产环境准备bundle.js</h1><p id="0301" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在生产环境中，包代码应该是优化的，不可读的。</p><p id="20cd" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">第一步:<code class="du li lj lk ll b">npm install clean-webpack-plugin</code></p><p id="7741" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">步骤2:在package.json中，我们将引用新的生产配置文件。</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="8722" class="ly ir hi ll b fi lz ma l mb mc">"build": "webpack --config webpack.config.prod"</span></pre><p id="1a87" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">步骤3:创建一个新文件wepack.config.prod.js</p><pre class="kz la lb lc fd lu ll lv lw aw lx bi"><span id="e90e" class="ly ir hi ll b fi lz ma l mb mc">const path = require('path');<br/>const CleanPlugin = require('clean-webpack-plugin');</span><span id="e183" class="ly ir hi ll b fi md ma l mb mc">module.exports = {<br/>    mode: 'production',<br/>    entry: "./src/app.ts",<br/>    output: {<br/>        filename: "bundle.js",<br/>        path: path.resolve(__dirname, 'dist'),<br/>    },<br/>    devtool: "eval",<br/>    module: {<br/>        rules: [<br/>            {<br/>                test: /\.ts$/,<br/>                use: 'ts-loader',<br/>                exclude: /node_modules/<br/>            }<br/>        ]<br/>    },<br/>    resolve: {<br/>        extensions: ['.ts', '.js']<br/>    },<br/>    plugins: [<br/>        new CleanPlugin.CleanWebpackPlugin() // clear everything, before writing in dist folder<br/>    ],</span><span id="238b" class="ly ir hi ll b fi md ma l mb mc">};</span></pre><p id="fb1a" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→在创建新的bundle.js文件之前，清理插件将删除dist文件夹中的所有内容</p><p id="13d1" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">→也从输出中删除了<code class="du li lj lk ll b">publicPath: ‘/dist’</code></p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h1 id="8303" class="iq ir hi bd is it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn bi translated">结束语:</h1><p id="2386" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Webpack在大多数大型应用程序中用于增强代码优化和更快的web应用程序加载。</p><p id="00da" class="pw-post-body-paragraph jo jp hi jq b jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh lh kj kk kl hb bi translated">我希望你今天学到了一些新东西。这将有助于您开始使用Webpack。</p><blockquote class="nk nl nm"><p id="142a" class="jo jp me jq b jr ld jt ju jv le jx jy nn lf kb kc no lg kf kg np lh kj kk kl hb bi translated">谢谢你一直坚持到最后🙌。如果你喜欢这篇文章或者学到了新的东西，请点击下面的分享按钮来支持我，让更多的人了解我和/或在<a class="ae mt" href="https://twitter.com/amir__mustafa" rel="noopener ugc nofollow" target="_blank"><em class="hi">Twitter</em></a><em class="hi">上关注我，看看我在那里学到和分享的其他技巧、文章和东西。</em></p></blockquote></div></div>    
</body>
</html>