<html>
<head>
<title>The Arduino Microcontroller: Hardware and GPIO Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Arduino微控制器:硬件和GPIO功能</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/the-arduino-microcontroller-hardware-and-gpio-functions-1bcf542d7379?source=collection_archive---------8-----------------------#2021-07-19">https://medium.com/geekculture/the-arduino-microcontroller-hardware-and-gpio-functions-1bcf542d7379?source=collection_archive---------8-----------------------#2021-07-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/2d73829d5019f510140927a802363de0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*xuWOTWw0vH2FuxozgpXBhg.jpeg"/></div></figure><p id="198d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当我开始创建一个机器人的项目时，我对所需的计算机硬件只有一个模糊的概念。阅读其他机器人项目，提到Arduino和Raspberry Pi。两者都是重要的计算机，但用途非常不同。在我的微控制器博客系列中，我想调查Arduino，Raspberry PI，它们的硬件功能和连接选项。</p><p id="1fb3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Arduino是一个真正的自己动手项目的干将。自2012年成立以来，它已经为无数业余爱好者的项目提供了平台，从家用电器、IOT到机器人。存在不同的硬件版本，但最常见的是经典的Arduino Uno Rev3。</p><p id="4e41" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">本文详细介绍了Arduino Uno的硬件、GPIO引脚和支持的连接协议。</p><p id="ec44" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">本文原载于</em> <a class="ae jl" href="https://admantium.com/blog/micro02_arduino/" rel="noopener ugc nofollow" target="_blank"> <em class="jk">我的博客</em> </a>。</p><h1 id="e31e" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">Arduino Uno Rev 3 / Arduino Nano</h1><figure class="kk kl km kn fd ij er es paragraph-image"><div class="er es if"><img src="../Images/af749539c09730e40550b32218ef855b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*bjxGJKxtdDs006zk.jpg"/></div></figure><p id="6fc0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">来源:</em>【wikipedia.org】<em class="jk"/></p><p id="bb6c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Arduino Uno Rev 3具有以下硬件:</p><p id="de0b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">微控制器:ATmega328P / ATmega328P <br/>闪存:32KB<br/>SRAM:2KB<br/>EEPROM:1KB<br/>时钟速度:16MhZ <br/> GPIO: 20 (14个数字，6个模拟)</p><h1 id="4e54" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数字引脚</h1><p id="908f" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">Arduino有14个数字引脚，可用作输入或输出引脚。</p><h1 id="04cf" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数字输入</h1><p id="fa7c" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">默认情况下，所有数字引脚都配置为输出引脚。然而，它们可以用方法<code class="du kt ku kv kw b">setPinMode(pinNumber, mode)</code>显式配置，其中模式可以是<code class="du kt ku kv kw b">INPUT</code>或<code class="du kt ku kv kw b">INPUT_PULLUP</code>。</p><p id="2ffa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输入状态——根据电压转换为真/假——是<code class="du kt ku kv kw b">HIGH</code>和<code class="du kt ku kv kw b">LOW</code>。要获得状态，使用方法<code class="du kt ku kv kw b">digitalRed(pinNumber)</code>。模式<code class="du kt ku kv kw b">INPUT_PULLUP</code>反转<code class="du kt ku kv kw b">HIGH</code>和<code class="du kt ku kv kw b">LOW</code>的值，电线的接收端应接地。</p><h1 id="d278" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数字输出</h1><p id="c75d" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">要输出数字信号，需要使用<code class="du kt ku kv kw b">pinMode(pinNumer, OUTPUT)</code>方法配置引脚。要写入一个值，方法<code class="du kt ku kv kw b">digitalWrite(pinNumber, Value)</code>，其中value是<code class="du kt ku kv kw b">HIGH</code>或<code class="du kt ku kv kw b">LOW</code>。</p><h1 id="7d62" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">模拟引脚</h1><p id="6e10" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">Arduino有6个模拟引脚。</p><h1 id="551c" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">模拟输入</h1><p id="6c3a" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">输入模式也是模拟引脚的默认行为。Arduino板使用10位模数转换器，提供0到1023的值。这些引脚可以用<code class="du kt ku kv kw b">setPinMode(pinNumber, mode)</code>明确配置。通过<code class="du kt ku kv kw b">analogRead(pinNumber</code>，可以读取当前信号值。如果锁定模式设置为<code class="du kt ku kv kw b">INPUT_PULLUP</code>，获得的值将受到影响。</p><h1 id="b6b0" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">模拟输出</h1><p id="125f" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">由于Arduino板卡没有数模转换器，模拟引脚只能配置为带<code class="du kt ku kv kw b">setPinMode(pinNumber, OUTPUT)</code>的数字输出引脚，其中引脚号以<code class="du kt ku kv kw b">A</code>为前缀。</p><h1 id="c892" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">GPIO功能</h1><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es kx"><img src="../Images/7ff3b891a5dcd78a6412b3d6774c1f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*m5NRHyF4yyx1ln2a.png"/></div></div></figure><p id="40c5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">来源:</em> <a class="ae jl" href="https://store.arduino.cc/usa/arduino-uno-rev3" rel="noopener ugc nofollow" target="_blank"> <em class="jk"> Arduino商店</em> </a></p><p id="1747" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Arduino通过其引脚提供以下功能:</p><ul class=""><li id="bbe1" class="lc ld hi io b ip iq it iu ix le jb lf jf lg jj lh li lj lk bi translated">PWM: <a class="ae jl" href="https://en.wikipedia.org/wiki/Pulse-width_modulation" rel="noopener ugc nofollow" target="_blank">脉宽调制</a>是一种信号技术，在这种技术中，数字信号以一定的频率在高电平和低电平两种状态之间快速切换。引脚3、5、6、9、10、11可用于PWM。Arduinos以1000Hz的32P时钟速率覆盖可用的调制模式</li><li id="6e2f" class="lc ld hi io b ip ll it lm ix ln jb lo jf lp jj lh li lj lk bi translated">UART:数字引脚0 (RX)和DP 1 TX可用于直接连接两个器件。<a class="ae jl" href="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter" rel="noopener ugc nofollow" target="_blank"> UART协议</a>创建一个串行连接，数据异步传输，数据与一根线上的时钟信号同步。从技术上讲，UART连接也可以通过USB端口建立，Arduino有一个内置的串行到USB转换器。</li><li id="0355" class="lc ld hi io b ip ll it lm ix ln jb lo jf lp jj lh li lj lk bi translated">I2C:SCL和SDA引脚可用于将Arduino连接到I2C总线。<a class="ae jl" href="https://en.wikipedia.org/wiki/I%C2%B2C" rel="noopener ugc nofollow" target="_blank"> I2C协议</a>也创建串行连接，但支持多达128个设备的多个服务器/客户端连接。该协议是标准化的，但是存在具有不同命令子集的不同实现。通信流通常由服务器发起:主动向客户机轮询新数据。</li><li id="b633" class="lc ld hi io b ip ll it lm ix ln jb lo jf lp jj lh li lj lk bi translated">SPI:<a class="ae jl" href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface" rel="noopener ugc nofollow" target="_blank">SPI协议</a>是一个服务器和几个客户端之间的同步串行通信，双方都可以主动发送数据。SPI是与传感器接口的常用协议。Arduino为两种不同的SPI总线提供引脚:专用ICSP引脚和DP 10至13</li></ul><h1 id="cfdb" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">引脚类型</h1><p id="233b" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">除了所解释的协议，还有另一类引脚:中断引脚。在正常的、不间断的程序流程中，Arduino不间断地运行它的程序。当一个中断引脚变为有效时，该程序流停止以调用一个中断处理程序。要使用此功能，需要对引脚进行显式编程</p><p id="f835" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后一种引脚是中断引脚，它们允许输入信号优先于微控制器的当前功能。用<code class="du kt ku kv kw b">attachInterrupt(vectorNumber, callbackFunction, CHANGE)</code>定义中断。<code class="du kt ku kv kw b">vectorNumber</code>引用Arduinos内存中的特殊空间，当这个内存改变时，回调函数被执行。只有引脚2和3可以配置为中断引脚。</p><h1 id="334a" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">结论</h1><p id="7c93" class="pw-post-body-paragraph im in hi io b ip ko ir is it kp iv iw ix kq iz ja jb kr jd je jf ks jh ji jj hb bi translated">Arduino是许多DIY项目的既定工作平台。尽管它已经有将近10年的历史了，但它是通用的、快速的、廉价的，并且有一个庞大的库目录来连接许多不同类型的硬件。本文详细介绍了Arduino的GPIO引脚:它的数字和模拟引脚，如何设置和读取数据，以及它支持的协议。在下一篇文章中，我将研究树莓Pi的GPIO。</p></div></div>    
</body>
</html>