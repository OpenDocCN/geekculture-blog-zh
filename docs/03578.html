<html>
<head>
<title>From RGB to HEX in Coda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Coda中从RGB到HEX</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/from-rgb-to-hex-in-coda-ad7c2b2da86b?source=collection_archive---------37-----------------------#2021-06-10">https://medium.com/geekculture/from-rgb-to-hex-in-coda-ad7c2b2da86b?source=collection_archive---------37-----------------------#2021-06-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/63a6fdb1a133288f61414701c8bf00e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YK6bROEu_j428-e-5cX9ug.png"/></div></div></figure><div class=""/><p id="bc2e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它开始于我寻找一个配色方案，为一个项目获得一些灵感。我看到了下面的<code class="du jo jp jq jr b">html() </code>表，觉得有必要将这些值转换成十六进制值，以查看它们所代表的颜色。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es js"><img src="../Images/87989dfac7ceb16b08a5e6ed4cd6867e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aeh7ENLNj0AAe2Pp9mtkDg.png"/></div></div></figure><p id="0fa6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我给自己设置的挑战是首先从剩余部分中剥离RGB部分，然后分离颜色概念，如<em class="jx">红色渐变。</em></p><p id="d2b8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的第一步是用原始数据创建一个表格。在尾声，这很容易，走得很快。我创建了一个表并将值粘贴到一列中。</p><p id="7fbd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">接下来</strong>我写了一个简单的公式，只在一个单独的列中获取RGB值。起点是找到一个元素来定义拆分。这是“；”</p><p id="4ffa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">thisRow.source.Split(<strong class="is hu">“:”</strong>).Last().Substitute(“;”,””).Split(“,”)</code></p><p id="c08c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我通过<code class="du jo jp jq jr b">Last()</code>拿到了最后一部分，因为在最后一部分的末尾，我找到了一个“；”我通过一个<code class="du jo jp jq jr b">Substitute()</code>摆脱了它。</p><p id="c21b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它还没有工作，我需要使用列表中常用的逻辑来拆分数字:<code class="du jo jp jq jr b">Split(“,”)</code></p></div><div class="ab cl jy jz gp ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hb hc hd he hf"><h2 id="7cc0" class="kf kg ht bd kh ki kj kk kl km kn ko kp jb kq kr ks jf kt ku kv jj kw kx ky kz bi translated">颜色的名称</h2><p id="f917" class="pw-post-body-paragraph iq ir ht is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">在我们深入研究从RGB到Hex的转换之前，首先我是如何得到这个名字的。</p><p id="245d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我需要去掉第一部分和最后一部分。要在一列中实现这一点，您需要应用一个<code class="du jo jp jq jr b">FormulaMap()</code>,为什么呢？</p><pre class="jt ju jv jw fd lf jr lg lh aw li bi"><span id="52d6" class="kf kg ht jr b fi lj lk l ll lm">thisRow.source.Substitute("--kr-","").FormulaMap(CurrentValue.Slice(1,CurrentValue.find("-rgb:")-1))</span></pre><p id="8089" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一步是通过<code class="du jo jp jq jr b">Substitute()</code>去掉第一部分，我们在搜索部分中使用文本，在替换部分中仅使用“”。很简单。接下来是最后一部分，这有点复杂，因为我们看到了由名字引起的总字符串长度的变化。我们需要知道目标点来设置我们的第二个<code class="du jo jp jq jr b">Slice()</code>值。</p><p id="d43f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用<code class="du jo jp jq jr b">FormulaMap()</code>，我可以通过<code class="du jo jp jq jr b">CurrentValue</code>将公式的第二部分基于第一部分的结果</p><p id="e072" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我应用了<code class="du jo jp jq jr b">Find() </code>来获得“-rgb:”的位置，并且我加了-1来获得开始之前的位置作为我的<code class="du jo jp jq jr b">Slice().</code>的终点，更多关于本文中<code class="du jo jp jq jr b">Find()</code>函数<a class="ae ln" href="https://huizer.medium.com/coda-find-bbd01215e552" rel="noopener">的丰富性。</a></p><p id="f696" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们已经知道了颜色的名称和RGB值。是时候将RGB转换成十六进制值了。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lo"><img src="../Images/1bc2b47d87ce73435cc4d1949a881715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JrmmXLpY7wII2kXdDyTdjA.png"/></div></div></figure><h2 id="a654" class="kf kg ht bd kh ki kj kk kl km kn ko kp jb kq kr ks jf kt ku kv jj kw kx ky kz bi translated">从RGB到十六进制</h2><p id="3cfa" class="pw-post-body-paragraph iq ir ht is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">我知道RGB指的是红色、绿色和蓝色，但我不知道是怎么回事。所以当我遇到像(10)和(16)这样的符号时，我问一个朋友(他是学工程的)这是怎么回事。他给我写道:“十六进制数字，对我来说是很久以前的事了”。这让我开始思考，我发现不是10个数字的列表，而是16个项目的列表，不是10 * 10，而是16 * 16，当我们看到255时，这是有意义的(当添加0时，我们有256个项目)。</p><p id="b541" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我需要的是一个从0到255的项目列表，将每组三个数字转换成两个数字的十六进制格式。我考虑过编写一个公式来创建一个包含这些值的表，但是我采用了一种简单的方法，将一个列表复制到一个包含十六进制和十进制数字的表中。到目前为止一切顺利。</p><pre class="jt ju jv jw fd lf jr lg lh aw li bi"><span id="937f" class="kf kg ht jr b fi lj lk l ll lm">Concatenate("#",</span><span id="4e93" class="kf kg ht jr b fi lp lk l ll lm">Sequence(1,thisRow.RGB.Count()).FormulaMap(CurrentValue.WithName(Postion,</span><span id="5112" class="kf kg ht jr b fi lp lk l ll lm">[Hex - Decimal].Filter(Decimal = thisRow.RGB.Nth(Postion)))).WithName(Outcome,</span><span id="fce1" class="kf kg ht jr b fi lp lk l ll lm">Sequence(1,Outcome.Count()).FormulaMap(Outcome.Nth(CurrentValue).ListCombine().LeftPad(2,0))))</span></pre><p id="c076" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我需要一个过滤器来过滤每一项，这次我们需要一个<code class="du jo jp jq jr b">FormulaMap()</code>来抓取每一项并过滤它以得到一个十六进制值。因此，首先是项目1，然后是项目2，最后是项目3。结果是一个三个十六进制值的列表，我们最终通过<code class="du jo jp jq jr b">ListCombine()</code>聚集在一起，然后我以为我完成了，但还没有。一些结果没有显示为我可以转换为颜色的有效值。</p><p id="6746" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我开始阅读应用逻辑，了解到符号总是两位数，因此如果结果是1，就是01。通过<code class="du jo jp jq jr b">LeftPad(2,0)</code>我补充说，我需要一个每十六进制两位数的结果和所有的值翻译好。</p><p id="b363" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在表格中添加了一个有助于更好地理解颜色的URL:</p><pre class="jt ju jv jw fd lf jr lg lh aw li bi"><span id="f0af" class="kf kg ht jr b fi lj lk l ll lm">concatenate("https://www.colorhexa.com/",Lower(Slice(thisRow.Hex,2,99))).Hyperlink()</span></pre><div class="jt ju jv jw fd ab cb"><figure class="lq hk lr ls lt lu lv paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/415612d17b43184dcc71bd84348ddf22.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*wEnNLkGHs6GmWxQMCDVESg.png"/></div></figure><figure class="lq hk lw ls lt lu lv paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/79e493d1db78cd2d08a3204d01d44310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*X__jyhH2IJEB7XWDGxQQYw.jpeg"/></div><figcaption class="lx ly et er es lz ma bd b be z dx mb di mc md">table with colors</figcaption></figure></div></div><div class="ab cl jy jz gp ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hb hc hd he hf"><p id="fefa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望你喜欢这篇文章。如果您有任何问题，请随时联系我们。虽然这篇文章是免费的，但我的工作(包括建议)不会是免费的，但总有聊天的空间，看看可以做些什么。此外，你可以在<a class="ae ln" href="https://community.coda.io/" rel="noopener ugc nofollow" target="_blank"> Coda社区</a>和<a class="ae ln" href="https://twitter.com/CodaExpert" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上找到我的(免费)贡献</p><p id="50f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我叫Christiaan Huizer，是<a class="ae ln" href="https://huizer.be/" rel="noopener ugc nofollow" target="_blank"> Huizer Automation </a>的所有者。一家专门为SME收集数据并保持数据一致的公司。我主要依靠<a class="ae ln" href="https://coda.io/?r=O8dJLrFiTDS_2ttrz-1brA" rel="noopener ugc nofollow" target="_blank"> Coda </a>，Mailjet，Zapier&amp;paper form<a class="ae ln" href="https://paperform.co/invite/bmv2e3" rel="noopener ugc nofollow" target="_blank">来完成工作。</a></p><figure class="jt ju jv jw fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es me"><img src="../Images/32d9825e2abbbadcfe6e9398ce722995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TErBEZiBEYsOIyqJ.jpeg"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Huizer Automation on using Coda to turn RGB into HEX</figcaption></figure></div></div>    
</body>
</html>