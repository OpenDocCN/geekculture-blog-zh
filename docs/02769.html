<html>
<head>
<title>Swift Core Data Preload at App First Launch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用首次发布时的Swift核心数据预加载</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swift-core-data-preload-at-app-first-launch-e8b54cc2c3d6?source=collection_archive---------28-----------------------#2021-05-25">https://medium.com/geekculture/swift-core-data-preload-at-app-first-launch-e8b54cc2c3d6?source=collection_archive---------28-----------------------#2021-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b9f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">样本记录的核心数据预加载在应用程序首次启动时填充视图。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/9a09ad7b81cd0ba995e97df7da57bdb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*W_hHFteN_siDXmGXiBZ_Iw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">AppsGym Books App Core Data Preload vs Empty Table View</figcaption></figure><h1 id="5ec7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">方案</h1><p id="5cd1" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们的应用程序将在首次启动时填充图书表视图的初始视图，优先于空表视图或带有图像或动画的视图，以提示用户添加记录。这种方法还将帮助用户探索应用程序的特性和功能，以获得良好的第一印象。</p><h1 id="df45" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">技术</h1><p id="1ccb" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们将在视图出现之前和视图加载之后构建核心数据样本记录，然后检查这是否是应用程序的第一次启动，如果是，则从核心数据样本记录填充视图。</p><h1 id="e8a5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">观众</h1><p id="a41f" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">本文面向寻求完整、成熟、以代码为中心的解决方案来加速开发项目的Swift开发人员。下面的代码片段只需很少的定制就可以使用(你的应用核心数据记录)。</p><h1 id="a6a8" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">应用模型</h1><p id="49e1" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们基于苹果App Store上发布的AppsGym <a class="ae kw" href="https://appsgym.com/projects/books" rel="noopener ugc nofollow" target="_blank"> Books </a>模型应用(名为<a class="ae kw" href="https://apps.apple.com/au/app/8books/id1152860892" rel="noopener ugc nofollow" target="_blank"> 8Books </a>，你可以在<a class="ae kw" href="https://appsgym.com" rel="noopener ugc nofollow" target="_blank">AppsGym.com</a>上免费下载完整的<a class="ae kw" href="https://appsgym.com/appsgym-books-swift-xcode-project-tour/" rel="noopener ugc nofollow" target="_blank"> Xcode </a>项目。</p><h1 id="1331" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">用户界面</h1><p id="72ab" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">不需要特定的UI设置，因为UITableView显示逻辑和代码将显示核心数据记录，无论是应用程序首次启动时的样本记录，还是后续应用程序启动时的完整核心数据记录集。</p><h1 id="1f8a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">逻辑</h1><p id="1b0b" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated"><strong class="ih hj"> BuildCoreData.swift </strong>将初始化核心数据实体‘Book’和‘Book photos’，managedObjectContext和dateFormatter。</p><p id="34a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们将在自己的函数中构建每个图书样本记录和相关的图像，然后在一个主函数中调用所有样本记录函数。然后，我们将设置应用程序UserDefaults，以表明我们添加了样本记录。</p><p id="b93b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">bookstableviewcontroller . swift</strong>中，我们将检查UserDefaults以确定是否已经添加了样本记录，如果为假，则执行构建样本记录的主函数。</p><h1 id="8cc5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">密码</h1><p id="2b73" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">BuildCoredData.swift <strong class="ih hj">初始化</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="401f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">buildcoreddata . swift<strong class="ih hj">add 8 books records()</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="5661" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">buildcoreddata . swift<strong class="ih hj">add 8 book1()</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="d109" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kz">使用add8Books2()，… add8Books8()，对所有样本记录重复上述步骤。</em></p><p id="ccd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">bookstableviewcontroller . swift viewDidLoad()</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="aaf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文介绍了用app样本记录预加载核心数据数据库的完整逻辑和代码。显示应用程序记录的初始UITableView将检查这是否是应用程序首次启动，并显示示例记录(而不是空视图或临时图像/动画)。希望你觉得它在你的应用程序中有用。感谢阅读！</p></div></div>    
</body>
</html>