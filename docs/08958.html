<html>
<head>
<title>Building an NFT Sales Bot with JavaScript and Solana</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript和Solana构建一个NFT销售机器人</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/building-an-nft-sales-bot-with-javascript-and-solana-3d7add28f995?source=collection_archive---------3-----------------------#2021-11-21">https://medium.com/geekculture/building-an-nft-sales-bot-with-javascript-and-solana-3d7add28f995?source=collection_archive---------3-----------------------#2021-11-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/1b2c5caaae88b61757b7c0302f5f996d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*OwtvCnkucPYgH3a79EtljA.jpeg"/></div></figure><p id="a4a1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">TL；</strong>博士——如果你是那种“说得多，给我看看代码”类型的人，你可以在这里找到<a class="ae jk" href="https://github.com/Turk-Mumtaz/nft-sales-bot/blob/main/sales_bot.js" rel="noopener ugc nofollow" target="_blank">源代码。</a></p><h1 id="d280" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">背景</h1><p id="370a" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">如果你现在想学习如何在Solana上制作一个NFT销售机器人，你的选择并不多。有一些开源机器人回购，它们写得很好——但我认为它们比必要的更复杂。</p><p id="065b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">此外，出于某些奇怪的原因，Solana的新开发人员会自动假定您必须是一个Rust wizard才能构建任何东西。这不是真的。<strong class="io hj">你不需要知道Rust来构建Solana </strong>(除非你需要写合同)<strong class="io hj">。</strong></p><p id="52b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">更糟糕的是，如果您不是开发人员，您唯一的选择是:</p><p id="8328" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">a)付钱给一个随机的开发者(然后被多收了钱)</p><p id="dab0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">b)购买一个现有的销售机器人解决方案(然后被多收了钱)</p><p id="ab11" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这很烦人——所以我决定做一堆免费的机器人来帮忙。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ko"><img src="../Images/926ea58741a73f99fe8ecaa2827c2082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8pBKsTYQBapUVycI9KtJ-w.png"/></div></div></figure><p id="73e5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">显然，这是不可扩展的。但是在制作了9个左右的机器人之后，我想我已经对这个主题有了足够的理解，可以写一个关于它的小指南了。</p><h1 id="168d" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">高级概述(可选)</h1><p id="4a91" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们正在建立:一个销售机器人，跟踪所有主要的索拉纳市场给定NFT的销售，并张贴销售细节到一个不和谐的渠道。</p><p id="5e83" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在深入研究代码之前，首先建立一个概念性的理解是有帮助的。</p><p id="0d52" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们实现这一目标的方法如下:</p><ol class=""><li id="0eb2" class="kx ky hi io b ip iq it iu ix kz jb la jf lb jj lc ld le lf bi translated">找出NFT收藏收取版税的账户/地址</li><li id="c7b0" class="kx ky hi io b ip lg it lh ix li jb lj jf lk jj lc ld le lf bi translated">不断轮询此地址以获取新的事务签名</li><li id="c7ea" class="kx ky hi io b ip lg it lh ix li jb lj jf lk jj lc ld le lf bi translated">遍历交易签名，获取它们的交易细节，并检查有效的NFT销售</li><li id="2310" class="kx ky hi io b ip lg it lh ix li jb lj jf lk jj lc ld le lf bi translated">如果有效，获取NFT的元数据并将详细信息发布到Discord</li><li id="0ae0" class="kx ky hi io b ip lg it lh ix li jb lj jf lk jj lc ld le lf bi translated">转到步骤2 —确保只轮询在最近观察到的事务之后发生的事务</li></ol><h2 id="cef4" class="ll jm hi bd jn lm ln lo jr lp lq lr jv ix ls lt jz jb lu lv kd jf lw lx kh ly bi translated">轮询与流(可选)</h2><p id="bbb5" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">每当您处理“实时”数据时，您基本上有两种选择:轮询或流/发布。</p><p id="a52c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一般来说，使用流/发布订阅模式是更好的方法，在这种模式下，你只需订阅你的NFT收藏的主账户，然后监听变化。</p><p id="12a0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本教程中，我们将投票获取数据。这是因为1)从概念上更容易编码和解释(IMO ), 2)这使得回填历史销售数据更容易。</p><h1 id="46a8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">设置</h1><p id="7df5" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">首先确保你已经安装了Node JS(版本14.17.0或更高)，我推荐使用<a class="ae jk" href="https://github.com/nvm-sh/nvm" rel="noopener ugc nofollow" target="_blank"> NVM </a>。然后，打开一个终端，创建一个新文件夹，<code class="du lz ma mb mc b">cd</code>到里面，初始化npm。</p><pre class="kp kq kr ks fd md mc me mf aw mg bi"><span id="a475" class="ll jm hi mc b fi mh mi l mj mk">$ mkdir nft-sales-bot<br/>$ cd nft-sales-bot<br/>$ npm init</span></pre><p id="ffe3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦回购启动，我们实际上只需要3样东西:</p><pre class="kp kq kr ks fd md mc me mf aw mg bi"><span id="9724" class="ll jm hi mc b fi mh mi l mj mk">$ npm i @solana/web3.js @metaplex/js axios</span></pre><p id="1d53" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jk" href="https://github.com/solana-labs/solana-web3.js" rel="noopener ugc nofollow" target="_blank"> Solana/web3.js </a>是一个用于与链上的Solana节点交互的库(获取交易、账户信息、签名等)。,).</p><p id="c790" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jk" href="https://docs.metaplex.com/" rel="noopener ugc nofollow" target="_blank"> Metaplex </a>是一套与Solana NFTs交互的工具/合同/标准。</p><p id="e2cb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">而<a class="ae jk" href="https://www.npmjs.com/package/axios" rel="noopener ugc nofollow" target="_blank"> axios </a>是一个用于发出HTTP请求的库。</p><h1 id="cdb1" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">代码</h1><p id="cd5d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">(在继续之前，我想强调的是，这里的代码仅仅是为了便于理解而优化的，这绝不是一个通用的好模式)</p><p id="2b23" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，导入我们刚刚安装的库。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ml"><img src="../Images/e5e38b7c939d83482953e58e3e2dcd9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-wjHKFRX4I_B7Pfru-IVXw.png"/></div></div></figure><p id="ad07" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，让我们初始化一些变量并做一些验证。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ko"><img src="../Images/21476969e572a72bf61f08da614c1130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S1FF9m4j6wbi9YFH7-B7iw.png"/></div></div></figure><p id="1c4b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里发生了一些事情。首先，我们验证项目地址和Discord URL是否被传递给了bot(稍后将详细介绍)。第二，我们正在连接Metaplex和Solana的mainnet。或者，您可以连接到devnet进行测试。第三，我们正在从Metaplex中析构元数据程序，这将帮助我们获取NFT元数据。第四，我们将从PROJECT_ADDRESS环境变量创建一个新的<code class="du lz ma mb mc b">PublicKey</code>对象——这是传递到solana/web3库所必需的。最后，我们设置了一个轮询间隔，以确定我们希望机器人检查新销售的频率。我建议至少设置在2000-5000毫秒之间。这是因为默认的Solana RPC节点有速率限制，如果您在短时间内进行太多的调用，您的请求将不会通过。你可以使用像GenesysGo这样的RPC提供者进行无限制的调用，尽管这不是免费的。</p><p id="189a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，让我们添加主要的索拉纳NFT市场和他们的计划地址。每当市场上出现NFT的销售时，市场的程序地址显然必须被包含在内，你可以观察到这种连锁反应(<a class="ae jk" href="https://explorer.solana.com/tx/2chhhKzDtuYoke7sVTjZygqwWFL4SrGnDgzi56R8r6xYFrZ1MBUBkKJ8qXmpRUxZEnAxvVHMSFjTcpUavzJmVC9d" rel="noopener ugc nofollow" target="_blank">这里有一个关于魔法伊甸园的例子</a>)。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mm"><img src="../Images/df63f7d01d7dc59d6f28352faa12c848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5RtRCUekbcrmJPzv87SUTA.png"/></div></div></figure><p id="be19" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们开始运行销售机器人的主要功能。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mn"><img src="../Images/988ea28327e00f71ea3f585c4e441b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x8AnfGBq1L5Ujl4HZ4jDBw.png"/></div></div></figure><p id="8c2f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在可以忽略未赋值的变量——这里要注意的主要是<code class="du lz ma mb mc b">getSignaturesForAddress</code>函数。这将返回涉及给定地址的事务的已确认签名，从最近的已确认块开始向后追溯(或者您在选项中传递的任何签名)。基本上，如果主项目地址得到任何新的事务，这个函数将得到它们。如果没有事务，我们等待轮询间隔持续时间，并在无限循环中继续再次检查。您可以在<a class="ae jk" href="https://github.com/Turk-Mumtaz/nft-sales-bot/blob/main/sales_bot.js" rel="noopener ugc nofollow" target="_blank">源代码</a>中找到<code class="du lz ma mb mc b">timer</code> fn和任何其他帮助器fns的实现。</p><p id="e677" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们完成主要功能。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mo"><img src="../Images/a99e53e449b34fcd9b0fd589c511c954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHlKNuHQnbQtezxzVpvK2w.png"/></div></div></figure><p id="963b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">记住<code class="du lz ma mb mc b">getSignaturesForAddress</code>按照时间降序返回事务。这意味着我们需要从<code class="du lz ma mb mc b">signatures</code>数组的最后一个元素开始循环，按时间顺序显示销售额。<strong class="io hj"> </strong>对于每个签名，我们可以调用web3库上的<code class="du lz ma mb mc b">getTransaction</code>方法来获取准确的交易细节。有了手头的细节，我们首先检查交易是否有任何错误，在这种情况下，我们知道不会有一次成功的销售。</p><p id="3952" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，我们将Unix时间中的<code class="du lz ma mb mc b">blockTime</code>转换成可读性更好的日期对象。然后，我们做一个简单的计算来获得销售价格，并查看最后一个帐户映射到哪个市场(根据我的经验，最后一个帐户总是市场标识符——我不确定这是否普遍适用，因为我很笨，如果你想非常安全，可以查看所有帐户)。</p><p id="49fc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后我们得到交换的NFT的元数据——这样我们就有了在Discord上发布销售细节所需的所有信息。</p><p id="7a8e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在再次轮询之前，我们还希望确保只获取自上次轮询以来发生的事务。为了做到这一点，<code class="du lz ma mb mc b">getSignaturesForAddress</code>方法接受一个<code class="du lz ma mb mc b">until</code>选项，我们可以将它设置为我们所知道的最近的事务，<code class="du lz ma mb mc b">lastKnownSignature</code>。</p><p id="c725" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">(<strong class="io hj">注意:</strong> <code class="du lz ma mb mc b">getSignaturesForAddress</code>默认返回最后1000个签名。这意味着销售机器人将实际上开始重放旧的销售。我喜欢这样做，以便回填关于不和谐的历史数据——这是社区喜欢看的。<strong class="io hj">如果你想只显示新的销售额，你需要修改这个。</strong>例如，您可以在bot第一次启动时设置一个<code class="du lz ma mb mc b">bootupDate</code>,然后在过账之前检查所有交易的日期必须晚于这个日期)</p><h1 id="9ad8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">获取元数据</h1><p id="89db" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">现在是时候定义我们之前提到的<code class="du lz ma mb mc b">getMetadata</code>函数了。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mp"><img src="../Images/15ba422fd26fb8ca746c3b2ef358d8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*db7mjpntWW1_dupiDXDMzw.png"/></div></div></figure><p id="bc4a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我们获取<a class="ae jk" href="https://pencilflip.medium.com/learning-solana-3-what-is-a-program-derived-address-732b06def7c1" rel="noopener">程序派生的地址(PDA) </a>作为我们的令牌地址，然后我们将它插入Metaplex的内置<code class="du lz ma mb mc b">Metadata.load</code>中，以获取指向元数据的链接。然后，我们使用这个链接来获取实际的元数据。</p><p id="acd7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我不打算撒谎，这在实践中相当缓慢。我们正在进行连续的网络呼叫，最后一个呼叫通常是打给IPFS的，这是一个巨大的瓶颈。</p><p id="6fda" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">幸运的是，我们实际上可以通过利用我们信任的朋友Magic Eden的帮助来优化这一点，Magic Eden是索拉纳最大也是我认为最好的NFT市场。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mq"><img src="../Images/8bc04063c7c59f5105043d689398129a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*poECZjkbNcl545DFIR7gRA.png"/></div></div></figure><p id="2718" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">由于这些市场每天必须处理大量的元数据，它们很可能会缓存这些数据，从而大大提高性能。幸运的是，它们还公开了一个非官方的公共端点。由于这是一个非官方的端点，随时都可能发生变化，所以我不鼓励您使用这种方法，除非性能对您来说确实是一个问题。</p><h1 id="5dfc" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">发布到Discord</h1><p id="a2d7" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">为了发布到Discord，我们首先需要获得一个webhook URL。要做到这一点:右击你的服务器-&gt;服务器设置-&gt;集成-&gt; webhooks -&gt; new webhook。在这里，您可以命名webhook并配置您希望它将销售发送到哪个渠道。配置完成后——只需点击“复制Webhook URL”即可。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mr"><img src="../Images/0066441bb27901480f4fda77b29dc420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jimeeTb_uPDkEchKsG7Emg.png"/></div></div></figure><p id="b527" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，让我们编写发送销售的函数。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ms"><img src="../Images/1c9bea03d010bee8c1fbf11115638d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CQZ8etUEJ062Gm_ZJa0s6Q.png"/></div></div></figure><p id="f013" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你想了解更多关于如何定制的信息，请看一下<a class="ae jk" href="https://gist.github.com/Birdie0/78ee79402a4301b1faf412ab5f1cdcf9" rel="noopener ugc nofollow" target="_blank">这个</a>文档。</p><h1 id="1a55" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">运行机器人</h1><p id="9940" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">代码现在完成了。为了运行它，我们还需要一些东西。</p><p id="17a7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我们需要弄清楚<code class="du lz ma mb mc b">process.env.PROJECT_ADDRESS</code>应该是什么。为此，我通常只需在Solana Explorer上调出NFT，确定哪些创作者获得了大部分版税。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mt"><img src="../Images/fa115f07a95b86d96461e9555aa4e9eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nsXJfZr3pV6gvZ-q9wjQkg.png"/></div></div></figure><p id="2541" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">其次，有了这个和Discord URL，只需添加一行运行bot <code class="du lz ma mb mc b">runSalesBot();</code>的代码，最后运行:</p><p id="bc6e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du lz ma mb mc b">$ PROJECT_ADDRESS=8u...s DISCORD_URL=paste-url-here node sales_bot.js</code></p><p id="d14a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">提示:对于托管机器人，我喜欢在永远在线模式下使用<a class="ae jk" href="https://replit.com/~" rel="noopener ugc nofollow" target="_blank"> Replit </a>，但是你也可以使用Heroku甚至你自己的机器。</p><h1 id="bddf" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">结论/后续步骤</h1><p id="095d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">你可以在这里找到的<a class="ae jk" href="https://github.com/Turk-Mumtaz/nft-sales-bot/blob/main/sales_bot.js" rel="noopener ugc nofollow" target="_blank">成品代码。</a></p><p id="69ad" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我想重申一下，我并不是说这是构建机器人的最佳方式(甚至是一个好方法)。我相信有无数其他的方法可以让它变得更好。我写这篇教程的主要目的是写一些你能容易阅读/理解和从概念上推理的东西。整个过程大约只有100行。在实践中，您最好使用PubSub模型和一个更好的项目结构以及经过良好测试的助手函数。</p><p id="ffc2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你喜欢这个教程或者有任何问题/建议/修正/建议，请在<a class="ae jk" href="https://twitter.com/turkmmtz" rel="noopener ugc nofollow" target="_blank"> Twitter </a> (@turkmmtz)上关注我。</p></div></div>    
</body>
</html>