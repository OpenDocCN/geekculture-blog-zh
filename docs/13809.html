<html>
<head>
<title>WHY ORDER OF CONDITIONS IN YOUR “AND” CLAUSE IS A CRUCIAL ONE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么在你的“和”从句中条件的顺序是至关重要的</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/why-order-of-conditions-in-your-and-clause-is-a-crucial-one-7e8eeb91ca9?source=collection_archive---------17-----------------------#2022-07-29">https://medium.com/geekculture/why-order-of-conditions-in-your-and-clause-is-a-crucial-one-7e8eeb91ca9?source=collection_archive---------17-----------------------#2022-07-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/851c8b7163551e83c1538c6dd17eac9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9i6jaTne5YP2NSIk8yOEA.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Photo by <a class="ae hv" href="https://unsplash.com/@sunder_2k25?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sunder Muthukumaran</a> on <a class="ae hv" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><div class=""><h2 id="1b0f" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">更好地理解您的数据</h2></div><p id="d067" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这只是我在玩<strong class="jp hz"> Olympics </strong>数据集时观察到的结果，因为这是一个相对较小的数据集(大约20万条记录)，所以差异很小，但当相同的概念应用于更大的数据集时，我相信这会产生巨大的差异。</p><p id="dc1c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">所以，我想获得在<strong class="jp hz">第二次世界大战(1945) </strong>后获得奥运会奖牌的德国男性的名单，有两个查询可以获得我们想要的结果，</p><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es kj"><img src="../Images/b62e548a4b0fb19d406f4cd48a129e17.png" data-original-src="https://miro.medium.com/v2/resize:fit:494/format:webp/1*IvlWv4aC3sFthmSr8CEtnA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">1st Query</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es ko"><img src="../Images/2230cbcba0eb1dd2b084760ddfcb8d8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*UEctAeFT7TXt4CxZK9rehA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">2nd Query</figcaption></figure><p id="124c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这两个查询给出了相同的结果，但是在分析查询运行时，我们可以看到明显的差异。</p><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es kp"><img src="../Images/e6b1e4d2db04d97c7124eb39bdb01bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*LM6WXSOwpE_90wEi0lfUQg.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Query runtime for the 1st Query</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es kq"><img src="../Images/70ece5edeb04c591bca44a9704e17d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*BAo9AR82mF1bnME9QiqFrQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Query runtime for the 2nd Query</figcaption></figure><p id="85c9" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">第一个查询的运行时间几乎是第二个查询的两倍。</p><blockquote class="kr ks kt"><p id="70ac" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated"><strong class="jp hz">那么为什么会发生这种情况呢？？？？</strong></p></blockquote><p id="4952" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">因此，让我们计算一下满足AND子句中每个条件的记录总数。</p><p id="7599" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">a)1945年以上的记录数量</p><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es ky"><img src="../Images/b9d96809f61d8da9e53245b2cac06bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/1*jebzBzO2xJcYcbtMA1obKA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records having value of the column Year&gt;1945</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es kz"><img src="../Images/5eb5acbf005306706842c3898b9ac283.png" data-original-src="https://miro.medium.com/v2/resize:fit:216/format:webp/1*KImFqo0J7g2IcFyKVed12w.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 232344 Records that have value of the column Year&gt;1945</figcaption></figure><p id="882c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">b)发生性行为的记录数量='M '</p><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es la"><img src="../Images/8e6ba15157c7041b41978c0585c1cc88.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*WTgWjIVimNed5pM99K-iTw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records having value of the column Sex=’M’</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lb"><img src="../Images/68bfd10d9c77223baf72d040980c87f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:218/format:webp/1*fzSBjyVwxz1NWKV1ksAlOw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 196594 Records that have value of the column Sex=’M’</figcaption></figure><p id="b843" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">c)奖牌栏中具有非空值的记录的数量</p><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lc"><img src="../Images/386e4e868d69086968cb950b25b0e0dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:372/format:webp/1*ChveU_68NLlPEdjklh2oDw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records having non null values in the column Medal</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es ld"><img src="../Images/ce75b8c8e17053cb8e161620c11e6897.png" data-original-src="https://miro.medium.com/v2/resize:fit:212/format:webp/1*uvAqcRZD8mbKHOnuwdxn-Q.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 39783 records that have non null values in the Medal column</figcaption></figure><p id="6a8f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">d)团队=“德国”的记录数量</p><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es le"><img src="../Images/71df2926391dcfa188d4b21b920eab1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*3M0m_ysF_1K4C_rQp8JvJA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records that have the value of the column Team = ‘Germany’</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lf"><img src="../Images/0744888e39c18ea44e0716dc3661da1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:210/format:webp/1*aUguy4KJjYABWYs5hLigtQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are a total of 9326 records that have the value Germany in the team column</figcaption></figure><p id="b1df" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">从上面的结果中，您可以大致了解为什么第二个查询的运行时间较短，这是因为在第一个查询中，第一个条件总共满足2，32，344条记录，然后检查第二个条件，依此类推，而在第二个查询中，第一个条件仅满足9，326条记录，然后检查第二个条件，依此类推…</p><p id="dbec" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">让我们更深入地研究一下，找到满足两个查询的每个步骤的记录数</p><blockquote class="kr ks kt"><p id="cb7c" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated"><strong class="jp hz">第一次查询:</strong></p><p id="4aab" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">1)年份&gt; 1945且性别='M '的记录数</p></blockquote><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lg"><img src="../Images/e8dccb1483f2b2bebfc06a76a5477684.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*sJ6FzfQbDIlq7Cm8_t3anA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records having year&gt;1945 and value of Sex column = ‘M’</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es kz"><img src="../Images/8fbc65ba9a5f5effa26154f98a581f3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:216/format:webp/1*4mK-rxd_BpraHxCV8LhEeg.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 159766 records that satisfies both of this condition</figcaption></figure><blockquote class="kr ks kt"><p id="cc18" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">2)年份&gt; 1945年、性别='M '且奖牌栏中的值不为空的记录数</p></blockquote><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lh"><img src="../Images/fd44c99e68e433b99c9cfcc198ab0724.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*m3w_pfikkMjboGtxnB5kqw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records having year&gt;1945 and value of Sex column = ‘M’ and non null values in Medal column</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lf"><img src="../Images/77004d024821aa9601829c961726d9c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:210/format:webp/1*AK4iFrCQYVMu5RfNdCTNwg.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 20649 records that satisfies these 3 condition</figcaption></figure><blockquote class="kr ks kt"><p id="cbbe" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">3)年份&gt; 1945年、性别='M '以及奖牌列和团队= '德国'中的非空值的记录数</p></blockquote><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es li"><img src="../Images/a20e1fc65c3d909276252f03f9ae6770.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*_CGP79dFV1wLCzGq6JAlSQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning count of records having year&gt;1945 and value of Sex column = ‘M’ and non null values in Medal column and value of Team column = ‘Germany’</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lb"><img src="../Images/a69c2ae434454ceaab9cb0f4ccabb0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:218/format:webp/1*hwT4TrR11GivlYutx8KAzg.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 887 records that satisfies the 4 conditions</figcaption></figure><p id="6ff1" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz"> <em class="ku">因此，第一个查询将首先处理2，32，344条记录，然后处理1，59，766条记录，然后处理20，649条记录，最后处理887条记录，然后从这887条记录中返回运动员的不同姓名。</em>T11】</strong></p><p id="5c79" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在，我们将对第二个查询进行同样的检查</p><blockquote class="kr ks kt"><p id="e531" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">第二次查询:</p><p id="d710" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">1)在奖牌栏中具有团队=“德国”和非空值的记录的数量</p></blockquote><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lj"><img src="../Images/07b119abd3b9f2d0a21c31a6efe0e9f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*qGg53ywio7LDVRnoHECrtA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning the count of records that have value of column team as Germany and non null values in Medal columns</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lk"><img src="../Images/ab6cc0157cc8b260f8aba1bac4c44e05.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/format:webp/1*xl41Nq6jeEFxFJlHDpZm7g.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 1984 records that satisfies both of the above condition</figcaption></figure><blockquote class="kr ks kt"><p id="157e" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">2)在奖牌列中具有团队= '德国'和非空值以及性别列的值='M '的记录数</p></blockquote><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es ll"><img src="../Images/ebc81167d5d41942f3b33e437ca5fd8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*XVG0szShvNURHtTyKnkm8w.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning the count of records that have value of column team as Germany and non null values in Medal columns and value of the column sex=’M’</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es kz"><img src="../Images/6185317dab6a6c468996d8f0e9920664.png" data-original-src="https://miro.medium.com/v2/resize:fit:216/format:webp/1*IAffsNzWV29zGxtanA2eFw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 1327 records that satisfies the above conditions</figcaption></figure><blockquote class="kr ks kt"><p id="f5ba" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">3)在奖牌列中具有团队= '德国'和非空值以及性别列的值='M '和年份&gt; 1945的记录数</p></blockquote><figure class="kk kl km kn fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/c360da3bccf8b2f400907252305b5755.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*edvprdxczJHBGzs1vk-tXg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Returning the count of records that have value of column team as Germany and non null values in Medal columns and value of the column sex=’M’ and Year&gt;1945</figcaption></figure><figure class="kk kl km kn fd hk er es paragraph-image"><div class="er es lf"><img src="../Images/d53b6698d50c2931222afcb0d298e31a.png" data-original-src="https://miro.medium.com/v2/resize:fit:210/format:webp/1*v1bHA5LmtxQLB2DU-vnjlQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">There are total of 887 records that satisfies the above condition</figcaption></figure><p id="1208" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz"> <em class="ku">因此，第二个查询将首先处理9326条记录，然后处理1984条记录，再处理1327条记录，然后处理887条记录并找到运动员的不同姓名。</em>T15】</strong></p><p id="34ca" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这就是为什么第二个查询比第一个查询只花了一半的时间。</p><h2 id="cc67" class="ln lo hy bd lp lq lr ls lt lu lv lw lx jw ly lz ma ka mb mc md ke me mf mg mh bi translated">总结:</h2><p id="b192" class="pw-post-body-paragraph jn jo hy jp b jq mi iz js jt mj jc jv jw mk jy jz ka ml kc kd ke mm kg kh ki hb bi translated">最后要说明的是，这是一个人对数据的理解至关重要的原因之一，因为看起来很小的变化会在查询运行时产生巨大的变化，所以当相同的and条件放在更复杂的查询中时，会在运行时产生很大的变化。</p><p id="4138" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果你觉得这篇文章很有帮助，请拍下这篇文章，如果你对这篇文章有什么建议，可以发表评论。</p><blockquote class="kr ks kt"><p id="9499" class="jn jo ku jp b jq jr iz js jt ju jc jv kv jx jy jz kw kb kc kd kx kf kg kh ki hb bi translated">谢谢你</p></blockquote></div></div>    
</body>
</html>