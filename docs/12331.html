<html>
<head>
<title>Open-Faas on Centos 7</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Centos 7上的开放式Faas</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/open-faas-on-centos-7-c4dc629f28fe?source=collection_archive---------13-----------------------#2022-05-07">https://medium.com/geekculture/open-faas-on-centos-7-c4dc629f28fe?source=collection_archive---------13-----------------------#2022-05-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0bd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你好，在本文中，我将介绍使用minikube集群在centos 7机器上安装OpenFaas的步骤，然后在此设置的基础上部署和运行go-microservice。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/594769c81d1b7a0daac2c716a3661570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hJuGnLGMeqooCSl8"/></div></div></figure><p id="0501" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于这个设置，我一直在关注<a class="ae jp" href="https://github.com/openfaas/workshop/" rel="noopener ugc nofollow" target="_blank"> OpenFaas研讨会</a>的文档，以及<a class="ae jp" href="https://www.openfaas.com/blog/golang-serverless/" rel="noopener ugc nofollow" target="_blank"> OpenFaas博客</a>。</p><h2 id="17e7" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">先决条件</h2><ol class=""><li id="a8ab" class="kl km hi ih b ii kn im ko iq kp iu kq iy kr jc ks kt ku kv bi translated">Docker:说明可以从官方<a class="ae jp" href="https://docs.docker.com/engine/install/centos/" rel="noopener ugc nofollow" target="_blank"> Docker文档</a>中找到。</li><li id="9f97" class="kl km hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">OpenFaas CLI:来自<a class="ae jp" href="https://github.com/openfaas/workshop/blob/master/lab1.md#openfaas-cli" rel="noopener ugc nofollow" target="_blank">官方github文档</a>。<br/>$ curl-sLSf<a class="ae jp" href="https://cli.openfaas.com" rel="noopener ugc nofollow" target="_blank">https://cli.openfaas.com</a></li><li id="43bc" class="kl km hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">Minikube:我遵循了本文档中<a class="ae jp" href="https://phoenixnap.com/kb/install-minikube-on-centos" rel="noopener ugc nofollow" target="_blank">的步骤。</a></li><li id="6669" class="kl km hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">docker注册中心:在这种情况下，我使用了我的Harbor image注册中心，但是你可以按照我的前一篇文章创建你自己的docker注册中心。(可以使用minikube Docker注册表:<code class="du lb lc ld le b">eval $(minikube docker-env)</code>)</li><li id="3fd7" class="kl km hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">Helm: <a class="ae jp" href="https://helm.sh/docs/intro/install/" rel="noopener ugc nofollow" target="_blank">官方安装指南</a>。</li><li id="7bae" class="kl km hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">去</li></ol><h2 id="cd3b" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">装置</h2><p id="c575" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">现在我们已经收集了我们的先决条件，让我们继续部署OpenFaas。</p><p id="1bd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先让我们开始minikube。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="e9ea" class="jq jr hi le b fi lm ln l lo lp">minikube start</span></pre><p id="aa53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经为OpenFaas安装使用了舵图。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="3f79" class="jq jr hi le b fi lm ln l lo lp">helm repo add openfaas <a class="ae jp" href="https://openfaas.github.io/faas-netes/" rel="noopener ugc nofollow" target="_blank">https://openfaas.github.io/faas-netes/</a></span><span id="e0ce" class="jq jr hi le b fi lq ln l lo lp">kubectl apply -f <a class="ae jp" href="https://raw.githubusercontent.com/openfaas/faas-netes/master/namespaces.yml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/openfaas/faas-netes/master/namespaces.yml</a></span><span id="f13c" class="jq jr hi le b fi lq ln l lo lp">helm repo update \<br/> &amp;&amp; helm upgrade openfaas --install openfaas/openfaas \<br/>    --namespace openfaas  \<br/>    --set functionNamespace=openfaas-fn \<br/>    --set generateBasicAuth=true</span></pre><p id="d84d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将在kubernetes集群中创建两个名称空间，名为openfaas和openfaas-fn。我们可以通过检查下面的pod状态来检查我们的安装是否成功。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="2a21" class="jq jr hi le b fi lm ln l lo lp">kubectl get pods -n openfaas -w</span></pre><p id="6e71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有单元都应处于运行状态。</p><p id="ccbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过下面的命令检查网关是否准备好了。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="955b" class="jq jr hi le b fi lm ln l lo lp">kubectl rollout status -n openfaas deploy/gateway</span></pre><p id="e6b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将从集群中获取我们的身份验证详细信息。下面的命令将打印openfaas登录的管理员密码。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="a370" class="jq jr hi le b fi lm ln l lo lp">PASSWORD=$(kubectl -n openfaas get secret basic-auth -o jsonpath="{.data.basic-auth-password}" | base64 --decode) &amp;&amp; \<br/>echo "OpenFaaS admin password: $PASSWORD"</span></pre><p id="a96a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们需要端口转发这个端口，从我们的机器访问。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="ff36" class="jq jr hi le b fi lm ln l lo lp">export OPENFAAS_URL=<a class="ae jp" href="http://127.0.0.1:31112" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:</a>31112<br/>kubectl port-forward -n openfaas svc/gateway 31112:8080 &amp;</span></pre><p id="fa85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了添加普罗米修斯(metrics)，我们可以运行下面的命令。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="ea10" class="jq jr hi le b fi lm ln l lo lp">kubectl --namespace openfaas port-forward deployment/prometheus 31119:9090</span></pre><p id="351b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了添加grafana监控，让我们运行下面的命令。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="d9b2" class="jq jr hi le b fi lm ln l lo lp">kubectl -n openfaas run \<br/>--image=stefanprodan/faas-grafana:4.6.3 \<br/>--port=3000 \<br/>grafana</span><span id="9978" class="jq jr hi le b fi lq ln l lo lp">kubectl -n openfaas expose pod grafana \<br/>--type=NodePort \<br/>--name=grafana</span><span id="7faf" class="jq jr hi le b fi lq ln l lo lp">GRAFANA_PORT=$(kubectl -n openfaas get svc grafana -o jsonpath="{.spec.ports[0].nodePort}")<br/>GRAFANA_URL=<a class="ae jp" href="http://IP_ADDRESS:$GRAFANA_PORT/dashboard/db/openfaas" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:$GRAFANA_PORT/dashboard/db/openfaas</a></span><span id="f2fb" class="jq jr hi le b fi lq ln l lo lp">kubectl port-forward pod/grafana 3000:3000 -n openfaas</span></pre><p id="fca0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以访问openfaas ui的url http://127.0.0.1:31112(管理员/生成的密码)，Prometheus ui的<a class="ae jp" href="http://127.0.0.1:31119" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:31119 </a>和Grafana ui的<a class="ae jp" href="http://127.0.0.1:31119" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 0 . 1:3</a>000(管理员/管理员)。</p><p id="cac1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了进行测试，我们可以转到openfaas ui并点击deploy new function。在列表中选择“figlet”。在将它添加到左窗格之后，将任何文本添加到请求正文空间并点击invoke按钮。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/c9b9d4ce1024d495d99e589e48123310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bv5-jiq2qZZGLxJIQIfUsg.png"/></div></div></figure><p id="1657" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很酷吧！</p><h2 id="17f9" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">部署Go-微服务</h2><p id="70f6" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">现在我们已经完成了安装，让我们在OpenFaas中部署一个简单的go-microservice。</p><p id="f41f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">OpenFaas有几个模板可以用于我们的任务。他们在自己的模板库中维护模板。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="a3a8" class="jq jr hi le b fi lm ln l lo lp">faas-cli template pull</span></pre><p id="b2aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以用下面的命令检查可用的模板。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="32c4" class="jq jr hi le b fi lm ln l lo lp">faas-cli template store pull</span></pre><p id="1631" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们可以拉任何模板，我们需要如下。这将提取golang-http的模板。我们可以使用这些模板，并根据需要进行相应的更改。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="5f2c" class="jq jr hi le b fi lm ln l lo lp">faas-cli template store pull golang-http</span></pre><p id="cb3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，我们可以创建自己的函数，如下一节所述。</p><p id="3be8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先我们必须用Dockerfile创建我们的函数yaml文件。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="92a7" class="jq jr hi le b fi lm ln l lo lp">faas-cli new --lang dockerfile go-microservice</span></pre><p id="0d4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你会得到一个go-microservice.yaml文件，和go-microservice目录。在yaml文件中，您可以随意更改内容。我的yml文件如下。我已经相应地添加了我的网关和图像URL。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="37d3" class="jq jr hi le b fi lm ln l lo lp">version: 1.0<br/>provider:<br/>  name: openfaas<br/>  gateway: <a class="ae jp" href="http://127.0.0.1:31112" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:31112</a><br/>functions:<br/>  go-microservice:<br/>    lang: dockerfile<br/>    handler: ./go-microservice<br/>    image: localhost:5000/go-microservice:1.0</span></pre><p id="a359" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以为生成的docker文件添加任何内容，以便在我们的函数中使用。我使用了下面的内容，这些内容摘自<a class="ae jp" href="https://www.openfaas.com/blog/golang-serverless/" rel="noopener ugc nofollow" target="_blank">这里的</a>。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="26f4" class="jq jr hi le b fi lm ln l lo lp">FROM<em class="ls"> golang:1.10.4-alpine3.8 as build</em><br/><br/>RUN mkdir -p /go/src/handler<br/>WORKDIR<em class="ls"> /go/src/handler</em><br/>COPY<em class="ls"> . .</em><br/><br/>RUN CGO_ENABLED=0 GOOS=linux \<br/>    go build --ldflags <em class="ls">"-s -w"</em> -a -installsuffix cgo -o handler . &amp;&amp; \<br/>    go test <em class="ls">$(</em>go list ./... | grep -v /vendor/<em class="ls">)</em> -cover<br/><br/>FROM<em class="ls"> alpine:3.9</em><br/><em class="ls"># Add non root user and certs</em><br/>RUN apk --no-cache add ca-certificates \<br/>    &amp;&amp; addgroup -S app &amp;&amp; adduser -S -g app app \<br/>    &amp;&amp; mkdir -p /home/app \<br/>    &amp;&amp; chown app /home/app<br/><br/>WORKDIR<em class="ls"> /home/app</em><br/><br/>COPY<em class="ls"> --from=build /go/src/handler/handler    .</em><br/><br/>RUN chown -R app /home/app<br/><br/>RUN touch /tmp/.lock <em class="ls">#  Write a health check for OpenFaaS here or in the HTTP server start-up</em><br/><br/>USER<em class="ls"> app</em><br/><br/>CMD<em class="ls"> ["/home/app/handler"]</em></span></pre><p id="3cc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们必须为此添加中间件。在go-microservice目录中，添加main.go类。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="56b0" class="jq jr hi le b fi lm ln l lo lp">package main<br/><br/>import (<br/>	<em class="ls">"fmt"</em><br/>	<em class="ls">"log"</em><br/>	<em class="ls">"net/http"</em><br/>	<em class="ls">"time"</em><br/>)<br/><br/>func addServedHeader(w http.ResponseWriter, r *http.Request) {<br/>	w.Header().Add(<em class="ls">"X-Served-Date"</em>, time.Now().String())<br/>}<br/><br/>func makeRequestHandler(middleware http.HandlerFunc) func(http.ResponseWriter, *http.Request) {<br/>	return func(w http.ResponseWriter, r *http.Request) {<br/>		middleware(w, r)<br/><br/>		w.Write([]byte(<em class="ls">"OK"</em>))<br/>	}<br/>}<br/><br/>func main() {<br/>	s := &amp;http.Server{<br/>		Addr:           fmt.Sprintf(<em class="ls">":%d"</em>, 8080),<br/>		ReadTimeout:    3 * time.Second,<br/>		WriteTimeout:   3 * time.Second,<br/>		MaxHeaderBytes: 1 &lt;&lt; 20, <em class="ls">// Max header of 1MB</em><br/>	}<br/><br/>	next := addServedHeader<br/>	http.HandleFunc(<em class="ls">"/"</em>, makeRequestHandler(next))<br/>	log.Fatal(s.ListenAndServe())<br/>}</span></pre><p id="1c66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过下面的命令来运行它。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="a92e" class="jq jr hi le b fi lm ln l lo lp">faas-cli up -f go-microservice.yml</span></pre><p id="9dc1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">—你的回答会是这样的。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="7284" class="jq jr hi le b fi lm ln l lo lp">$  faas-cli up -f go-microservice.yml<br/>[0] &gt; Building go-microservice.<br/>Clearing temporary build folder: ./build/go-microservice/<br/>Preparing: ./go-microservice/ ./build/go-microservice/<br/>Building: localhost:5000/go-microservice:1.0 with dockerfile template. Please wait..<br/>Sending build context to Docker daemon   7.68kB<br/>Step 1/13 : FROM golang:1.10.4-alpine3.8 as build<br/> ---&gt; bd36346540f3<br/>Step 2/13 : RUN mkdir -p /go/src/handler<br/> ---&gt; Using cache<br/> ---&gt; 41771b742138<br/>Step 3/13 : WORKDIR /go/src/handler<br/> ---&gt; Using cache<br/> ---&gt; ac151ca23319<br/>Step 4/13 : COPY . .<br/> ---&gt; Using cache<br/> ---&gt; 0a3341d2af2e<br/>Step 5/13 : RUN CGO_ENABLED=0 GOOS=linux     go build --ldflags "-s -w" -a -installsuffix cgo -o handler . &amp;&amp;     go test $(go list ./... | grep -v /vendor/) -cover<br/> ---&gt; Using cache<br/> ---&gt; 92991031eb2b<br/>Step 6/13 : FROM alpine:3.9<br/> ---&gt; 78a2ce922f86<br/>Step 7/13 : RUN apk --no-cache add ca-certificates     &amp;&amp; addgroup -S app &amp;&amp; adduser -S -g app app     &amp;&amp; mkdir -p /home/app     &amp;&amp; chown app /home/app<br/> ---&gt; Using cache<br/> ---&gt; 0859da0160a9<br/>Step 8/13 : WORKDIR /home/app<br/> ---&gt; Using cache<br/> ---&gt; 5f1498c7bbb0<br/>Step 9/13 : COPY --from=build /go/src/handler/handler    .<br/> ---&gt; Using cache<br/> ---&gt; 232b70435105<br/>Step 10/13 : RUN chown -R app /home/app<br/> ---&gt; Using cache<br/> ---&gt; d45c326c6576<br/>Step 11/13 : RUN touch /tmp/.lock #  Write a health check for OpenFaaS here or in the HTTP server start-up<br/> ---&gt; Using cache<br/> ---&gt; 1f8118c3b271<br/>Step 12/13 : USER app<br/> ---&gt; Using cache<br/> ---&gt; 616b2b430d95<br/>Step 13/13 : CMD ["/home/app/handler"]<br/> ---&gt; Using cache<br/> ---&gt; 4f002caa7740<br/>Successfully built 4f002caa7740<br/>Successfully tagged localhost:5000/go-microservice:1.0<br/>Image: localhost:5000/go-microservice:1.0 built.<br/>[0] &lt; Building go-microservice done in 0.30s.<br/>[0] Worker done.</span><span id="9018" class="jq jr hi le b fi lq ln l lo lp">Total build time: 0.30s</span><span id="c0d4" class="jq jr hi le b fi lq ln l lo lp">[0] &gt; Pushing go-microservice [localhost:5000/go-microservice:1.0].<br/>The push refers to repository [localhost:5000/go-microservice]<br/>84b6a101f13e: Layer already exists <br/>24bb6e3aa142: Layer already exists <br/>8f7644cfa0e9: Layer already exists <br/>f67c1d81b066: Layer already exists <br/>89ae5c4ee501: Layer already exists <br/>1.0: digest: sha256:47c504fea63aecbd70b6f29f41d18f9b6ac3e36b0bf74b6a3e9e86072cdf6628 size: 1367<br/>[0] &lt; Pushing go-microservice [localhost:5000/go-microservice:1.0] done.<br/>[0] Worker done.</span><span id="b514" class="jq jr hi le b fi lq ln l lo lp">Deploying: go-microservice.</span><span id="fc94" class="jq jr hi le b fi lq ln l lo lp">Deployed. 202 Accepted.<br/>URL: <a class="ae jp" href="http://127.0.0.1:31112/function/go-microservice" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:31112/function/go-microservice</a></span></pre><p id="11d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过尝试以下命令来检查该功能是否部署正确。它将显示我们部署的状态。(状态应为正在运行)。或者我们可以从用户界面检查状态。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="de06" class="jq jr hi le b fi lm ln l lo lp">$ kubectl get pods -n openfaas-fn <br/>NAME                              READY   STATUS    RESTARTS      AGE<br/>go-microservice-8466b7fdb-l9lwb   1/1     Running   0             12m</span></pre><p id="5987" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们可以弯曲我们的端点并得到响应。</p><pre class="je jf jg jh fd li le lj lk aw ll bi"><span id="0574" class="jq jr hi le b fi lm ln l lo lp">curl -i <a class="ae jp" href="http://127.0.0.1:31112/function/go-microservice" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:31112/function/go-microservice</a> ;echo<br/>HTTP/1.1 200 OK<br/>Content-Length: 2<br/>Content-Type: text/plain; charset=utf-8<br/>Date: Mon, 09 May 2022 20:06:38 GMT<br/>X-Call-Id: e9b5af76-2a95-4107-8d7c-e51c752d3005<br/>X-Served-Date: 2022-05-09 20:06:38.482143283 +0000 UTC m=+465.848986153<br/>X-Start-Time: 1652126798479241355</span><span id="fc8c" class="jq jr hi le b fi lq ln l lo lp">OK</span></pre><p id="fdbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个调用可以像前面的例子一样使用ui来完成。</p><p id="87a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在OpenFaas UI中检查我们的部署，也可以在我们之前公开的Prometheus UI中检查指标。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/da417cecf319e62ad995ed20d3ffefb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8flUQbML8y8xp5C_vK9QTg.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx">Prometheus Graph</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/7884d104b23f1bb4a1fa96f3a9c441ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLHyiL-hL8QjHxQ9n_Xv8g.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx">Grafana Graph</figcaption></figure><p id="e9d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们已经设置了openfaas环境，并部署了简单的go-lang微服务。</p><p id="546d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在接下来的帖子中介绍一些其他与OpenFaas相关的学习内容。😁</p></div></div>    
</body>
</html>