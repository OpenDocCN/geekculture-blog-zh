<html>
<head>
<title>Building a SaaS Project Week Two: Hosting on Vercel, Automatic Deploys With GitHub and Configuring Custom Domains</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建SaaS项目第二周:在Vercel上托管，使用GitHub自动部署并配置自定义域</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/hosting-on-vercel-automatic-deploys-with-github-and-configuring-custom-domains-b58d30ca6738?source=collection_archive---------14-----------------------#2021-04-29">https://medium.com/geekculture/hosting-on-vercel-automatic-deploys-with-github-and-configuring-custom-domains-b58d30ca6738?source=collection_archive---------14-----------------------#2021-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="283d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这一周，我们将重点放在所有的东西托管！我们将逐步在Vercel上托管我们的next.js应用程序，当我们在GitHub中进行代码更改时自动触发新的部署，并配置一个定制域来适应我们的品牌！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/ca72878b0800d65e5e72750b3780c49d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9WFzqoPhphS5lr6Rzn0Mgw.png"/></div></div></figure><p id="61ac" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae kf" href="https://github.com/dijonmusters/courses" rel="noopener ugc nofollow" target="_blank">项目回购</a></p><p id="4393" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这一周我们关注所有的主机:让我们的next.js应用程序在万维网上可用；当我们改变代码时设置自动部署；和配置自定义域！</p><h2 id="8263" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">构建应用程序</h2><p id="5d03" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">我们可以通过运行构建脚本来构建应用程序的生产版本——这也是我们的托管平台将要使用的！</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="d599" class="kg kh hi lh b fi ll lm l ln lo">npm run build</span></pre><h2 id="4706" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">错误！</h2><p id="8813" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">这给了我们下面的错误。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="379a" class="kg kh hi lh b fi ll lm l ln lo">Error: connect ECONNREFUSED 127.0.0.1:80</span></pre><p id="87f4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">那是因为我在第一周犯了一个小错误！我们试图从一个无服务器函数加载数据，但是当我们构建一个新版本的应用程序时，这个无服务器函数也会被构建。如果“构建无服务器功能”步骤在“构建我们的下一个应用程序”步骤之前，这没什么问题，但不幸的是，事实并非如此！</p><blockquote class="lp lq lr"><p id="98ac" class="jj jk ls jl b jm jn ij jo jp jq im jr lt jt ju jv lu jx jy jz lv kb kc kd ke hb bi translated">这在本地工作，因为next做了一些性能魔术，并在我们请求时通过刷新浏览器来重建页面。</p></blockquote><p id="ef02" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">看起来我们不能从我们的无服务器函数中读取预渲染/静态生成页面的数据，但是没关系！我们的每一个getStaticProps函数实际上都是一小块服务器端逻辑，所以我们可以在那里构建我们的Prisma查询！</p><p id="1296" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们在项目的根目录下创建一个新的utils文件夹，并添加一个包含以下内容的db.js文件。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="c3ca" class="kg kh hi lh b fi ll lm l ln lo">// utils/db.js<br/><br/>import { PrismaClient } from '@prisma/client'<br/>const prisma = new PrismaClient()<br/><br/>const getCourses = () =&gt;<br/>  prisma.course.findMany({<br/>    include: {<br/>      lessons: true,<br/>    },<br/>  })<br/><br/>export { getCourses }</span></pre><p id="df33" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们可以导入getCourses函数，并在getStaticProps函数中调用它。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="9cf6" class="kg kh hi lh b fi ll lm l ln lo">// pages/index.js<br/><br/>import CourseList from 'components/CourseList'<br/>import { getCourses } from '../utils/db'<br/><br/>const Index = ({ courses }) =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;Courses&lt;/h1&gt;<br/>      &lt;pre&gt;<br/>        {JSON.stringify(courses, null, 2)}<br/>      &lt;/pre&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export const getStaticProps = async () =&gt; {<br/>  const data = await getCourses()<br/><br/>  return {<br/>    props: {<br/>      courses: data,<br/>    },<br/>  }<br/>}<br/><br/>export default Index</span></pre><p id="0b33" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们再检查一遍那栋大楼！</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="2998" class="kg kh hi lh b fi ll lm l ln lo">npm run build</span></pre><h2 id="289d" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">更多错误！</h2><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="c9a3" class="kg kh hi lh b fi ll lm l ln lo">Error: Error serializing `.courses[0].createdAt` returned from `getStaticProps` in "/".<br/>Reason: `object` ("[object Date]") cannot be serialized as JSON. Please only return JSON serializable data types.</span></pre><p id="dbe1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">好吧，这是一个奇怪的问题，但基本上当createdAt日期从Prisma返回时，Next.js试图将其转换为字符串(序列化)并且不高兴。</p><p id="bb5a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这里我们可以使用的一个小技巧是手动创建从Prisma返回的课程的字符串，然后将它们解析回json。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="1c58" class="kg kh hi lh b fi ll lm l ln lo">// pages/index.js<br/><br/>import { getCourses } from '../utils/db'<br/><br/>// other component stuff<br/><br/>export const getStaticProps = async () =&gt; {<br/>  const data = await getCourses()<br/><br/>  return {<br/>    props: {<br/>      courses: JSON.parse(JSON.stringify(data)),<br/>    },<br/>  }<br/>}</span></pre><p id="c431" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们的整个组件应该是这样的。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="831f" class="kg kh hi lh b fi ll lm l ln lo">// pages/index.js<br/><br/>import { getCourses } from '../utils/db'<br/><br/>const Index = ({ courses }) =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;Courses&lt;/h1&gt;<br/>      &lt;pre&gt;<br/>        {JSON.stringify(courses, null, 2)}<br/>      &lt;/pre&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export const getStaticProps = async () =&gt; {<br/>  const data = await getCourses()<br/><br/>  return {<br/>    props: {<br/>      courses: JSON.parse(JSON.stringify(data)),<br/>    },<br/>  }<br/>}<br/><br/>export default Index</span></pre><p id="b04d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">最后一次运行该构建！</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="304b" class="kg kh hi lh b fi ll lm l ln lo">npm run build</span></pre><h2 id="fcf1" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">没有错误！</h2><p id="0388" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">耶！我们的应用程序正在正确构建！我们可以运行“npm start”在本地运行生产版本，并确保它在浏览器中看起来不错。</p><p id="0feb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这是可托管的！但是在哪里举办呢？！？</p><h2 id="64f6" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">韦尔塞尔</h2><p id="a5e6" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">我们需要实际托管我们的应用程序，以获得一个公共URL，我们可以给与互联网连接的人，所以他们可以看到我们的超级涂料网站！</p><p id="9ea5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有许多无服务器主机提供商可供选择。我最喜欢的两个是Netlify和Vercel。他们都非常注重开发人员的体验，并有特殊的免费层！完全免费开始，你需要有一个非常成功的应用程序来达到你需要付费的地步！Next.js可以在这两个平台上运行，但是，我发现Vercel倾向于在Netlify之前实现新的Next.js特性(可能是因为他们也是Next.js的创造者！)，所以我将在这个SaaS项目中使用它们。</p><p id="51a1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您需要使用<a class="ae kf" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>创建一个帐户，并使用以下命令安装CLI工具。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="8d7e" class="kg kh hi lh b fi ll lm l ln lo">npm i -g vercel</span></pre><p id="10db" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在你可以登录了。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="bdde" class="kg kh hi lh b fi ll lm l ln lo">vercel login</span></pre><p id="840f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">并部署您的应用程序。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="0d6f" class="kg kh hi lh b fi ll lm l ln lo">vercel --prod</span></pre><p id="43b5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这将引导你回答几个关于这个项目的问题。您可以接受所有的默认选项，因为Vercel对托管Next.js应用程序进行了大量优化！</p><p id="7477" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">就是这样！超级简单！</p><h2 id="8a8e" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">在Vercel中添加一个秘密</h2><p id="d296" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">在本地运行时，我们已经指定了一个环境变量(或密码)来连接到我们的Supabase DB实例。我们需要告诉Vercel这一点，这样我们的应用程序就可以连接到prod中的数据库。</p><p id="4a53" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae kf" href="https://vercel.com/docs/environment-variables" rel="noopener ugc nofollow" target="_blank">这是一篇关于不同类型的环境变量以及如何在Vercel中配置它们的好文章</a>。</p><p id="8aaf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">前往你的应用程序的Vercel仪表板，进入设置&gt;环境变量。选择“secret”作为变量类型，输入“DATABASE_URL”作为名称，然后下拉输入值“Create a new Secret for null”。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lw"><img src="../Images/793e1f4bed40792484d78fdd6661f067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2EnjYqIN53SKUE0L.png"/></div></div></figure><p id="678a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在输入来自Supabase的连接字符串作为值，并将其命名为“@database-url”。在Vercel中，秘密总是以“@”开头。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lx"><img src="../Images/42ce6a9185e378da091092ec1139e12f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LBvagHbeHEp8L2qh.png"/></div></div></figure><p id="4358" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，我们可以从下拉列表中选择这个秘密，将其链接到我们的DATABASE_URL环境变量。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ly"><img src="../Images/f8217df71d45131ad60262a67577e239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yew1SJEW5tOt9p4d.png"/></div></div></figure><blockquote class="lp lq lr"><p id="7163" class="jj jk ls jl b jm jn ij jo jp jq im jr lt jt ju jv lu jx jy jz lv kb kc kd ke hb bi translated">这种将环境变量与秘密分开的区别允许您在不同的项目中共享环境变量。</p></blockquote><h2 id="dc45" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">从GitHub自动部署</h2><p id="f6ec" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">接下来，我们希望告诉Vercel在我们做出更改时自动部署应用程序。为此，我们将使用GitHub。将回购初始化为git项目。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="5e42" class="kg kh hi lh b fi ll lm l ln lo">git init</span></pre><p id="5774" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在创建一个新的GitHub repo。你可以通过<a class="ae kf" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub UI </a>做到这一点，但是，gh CLI允许你呆在你的终端里！</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="ec51" class="kg kh hi lh b fi ll lm l ln lo">brew install gh</span><span id="8f53" class="kg kh hi lh b fi lz lm l ln lo">gh repo create courses</span></pre><p id="a8c1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们需要创建一个. gitignore文件，这样我们就不会把一大堆不必要的东西推给GitHub——node _ modules、容易生成的文件等等。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="156c" class="kg kh hi lh b fi ll lm l ln lo">// .gitignore<br/><br/>node_modules/<br/>.next/<br/>.DS_Store<br/>out/</span></pre><p id="ecad" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们可以添加、提交和推送到GitHub。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="4cf1" class="kg kh hi lh b fi ll lm l ln lo">git add .<br/>git commit -m 'create initial project'<br/>git push origin master</span></pre><p id="e45b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们在GitHub中有了一些代码，我们把它告诉Vercel吧。</p><p id="143e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">登录到<a class="ae kf" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>并导航到您的项目仪表板。</p><p id="a339" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在导航到设置&gt; git并点击连接Git库。</p><p id="2db2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这将要求您通过GitHub认证，并允许Vercel访问您的回购。</p><p id="c386" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">选择您的项目回购和您的生产分支——我的是主分支。</p><p id="fe58" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，每当您将更改推送到该分支时，Vercel都会自动部署应用程序的新版本。试一试！</p><p id="b667" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">对你的主页做一个小改动，提交并推送到GitHub。您应该看到这在您的Vercel仪表板中启动了一个新的部署。一旦完成，您的更改应该在您的部署站点上生效！</p><h2 id="52c7" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">自定义域</h2><p id="3a94" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">最后一件事，我要设置这个星期是一个自定义域。这是这个系列中唯一要花钱的部分，但它完全是可选的！Vercel将为我们提供一个公共URL，我们可以用它与全世界分享我们的应用程序。自定义域只是允许我们定制更多的东西，这可能对你的品牌很重要。</p><p id="af6d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Vercel提供了一个超级简单的方法来通过他们的仪表板购买域名，然而，我发现其他服务往往有相同的域名稍微便宜一点。我在hover.com注册了几个域名，到目前为止，我有一个非常好的体验，但是任何域名注册服务都可以。他们都应该让你添加DNS记录和更改名称服务器，这是我们需要做的。</p><p id="6936" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在您已经购买了令人惊讶的自定义域名，您需要添加两个DNS记录。应该有一个DNS的菜单项，它应该包含类型，主机名和IP地址字段。</p><p id="70b5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">使用以下信息创建一个:</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="2816" class="kg kh hi lh b fi ll lm l ln lo">Type: A<br/>Hostname: @<br/>IP Address: 76.76.21.21</span></pre><p id="b99e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">另一个是这样的信息:</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="ed93" class="kg kh hi lh b fi ll lm l ln lo">Type: A<br/>Hostname: *<br/>IP Address: 76.76.21.21</span></pre><p id="7ec7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">@表示查找该域名的任何内容，发送到Vercel的IP地址，而*对子域也是如此——比如www。</p><p id="8efb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这就是悬停时的样子。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ma"><img src="../Images/b2e45bdb90dcbf5ee993ea5d4c9b64f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ljw8Mhp8WXk9l0oC.png"/></div></div></figure><p id="ebf8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">最后，我们需要将域名服务器指向Vercel。悬停时，它位于概览页面上。</p><p id="0cc1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">将这些值更新为以下值。</p><pre class="iy iz ja jb fd lg lh li lj aw lk bi"><span id="04c2" class="kg kh hi lh b fi ll lm l ln lo">ns1.vercel-dns.com<br/>ns2.vercel-dns.com</span></pre><p id="8545" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这是它在悬停时的样子。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mb"><img src="../Images/e32708746d010656bce3c10b749d847b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dqR_NiZKwI5ddCB1.png"/></div></div></figure><p id="6394" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们需要告诉Vercel，这是我们希望在项目中使用的域名。前往您的项目的Vercel仪表板，导航到Settings &gt; Domains，在Domains输入框中输入您的新自定义域，然后单击Add。</p><p id="3c8b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这将向您的域发送一个请求，并确保其配置正确。如果一切顺利，它看起来会像这样。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mc"><img src="../Images/bde0ffd88b6c876186441781e24c8919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*m1FdNt8Nq1azDKF3.png"/></div></div></figure><p id="7768" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果有问题，它看起来会像这样。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es md"><img src="../Images/dbe9cfb6264a5a39ef3e885473de3ac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hko5B_iSnHOP8UPS.png"/></div></div></figure><p id="6887" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有时传播DNS更改需要一点时间，所以不要马上惊慌！或许喝杯咖啡或者小睡一会儿。如果它仍然不工作，仔细检查上面的配置。</p><p id="a1f9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果一切都是绿色的，你的应用程序现在可以在你的自定义域中使用了！干得好！</p><h2 id="c290" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">包扎</h2><p id="f6a2" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated">厉害！我们的应用程序是托管的，我们有自动部署设置，可以在任何时候向GitHub推送更改，并且我们(可能)已经配置了我们自己的定制品牌域名！</p><h2 id="a95f" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">有用的资源</h2><ul class=""><li id="86dd" class="me mf hi jl b jm lb jp lc js mg jw mh ka mi ke mj mk ml mm bi translated"><a class="ae kf" href="https://vercel.com/docs/platform/deployments" rel="noopener ugc nofollow" target="_blank"> Vercel部署文档</a></li><li id="b76b" class="me mf hi jl b jm mn jp mo js mp jw mq ka mr ke mj mk ml mm bi translated"><a class="ae kf" href="https://www.youtube.com/watch?v=MxR5I5_hOKk&amp;list=PL6bwFJ82M6FXgctyoWXqj7H0GK8_YIeF1&amp;index=3&amp;t=155s" rel="noopener ugc nofollow" target="_blank"> React 2025设置视频</a></li><li id="db57" class="me mf hi jl b jm mn jp mo js mp jw mq ka mr ke mj mk ml mm bi translated"><a class="ae kf" href="https://vercel.com/docs/custom-domains" rel="noopener ugc nofollow" target="_blank"> Vercel自定义域名文档</a></li></ul><h2 id="bfbe" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">跟我来</h2><p id="dae7" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated"><a class="ae kf" href="https://jonmeyers.io/" rel="noopener ugc nofollow" target="_blank">网站</a></p><p id="5e8e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae kf" href="https://twitter.com/_dijonmusters" rel="noopener ugc nofollow" target="_blank">推特</a></p><p id="0fc1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae kf" href="https://www.youtube.com/channel/UCPitAIwktfCfcMR4kDWebDQ" rel="noopener ugc nofollow" target="_blank"> YouTube </a></p><h2 id="35b2" class="kg kh hi bd ki kj kk kl km kn ko kp kq js kr ks kt jw ku kv kw ka kx ky kz la bi translated">下星期</h2><p id="a041" class="pw-post-body-paragraph jj jk hi jl b jm lb ij jo jp lc im jr js ld ju jv jw le jy jz ka lf kc kd ke hb bi translated"><a class="ae kf" href="https://jonmeyers.io/blog/build-a-saas-platform-with-stripe/authentication-with-auth0-and-nextjs" rel="noopener ugc nofollow" target="_blank">使用Auth0和Next.js进行认证</a></p></div></div>    
</body>
</html>