<html>
<head>
<title>Make a clone of momentum chrome extension which has 3M+ active users</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">克隆拥有300多万活跃用户的momentum chrome extension</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/make-a-clone-of-momentum-chrome-extension-which-has-3m-active-users-332c28525add?source=collection_archive---------5-----------------------#2022-01-16">https://medium.com/geekculture/make-a-clone-of-momentum-chrome-extension-which-has-3m-active-users-332c28525add?source=collection_archive---------5-----------------------#2022-01-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8092" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗯，不是真正的克隆。我想对这个非常受欢迎的扩展做一个模仿，并给它一个扭转。本教程是从初学者到初学者，我将详细介绍什么是chrome扩展以及任何chrome扩展的基本架构。</p><p id="38ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们直入主题，这是我们的新标签在本教程结束时的样子，正如你所看到的，我不是通过引用和想法来激励用户，而是通过烘烤来激励自己</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/205302ccfc0b6da778cad51ae61da6b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DXoIHVKfoBUu0G0TaKz3EQ.png"/></div></div></figure><p id="b8c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，chrome扩展最基本的类型是为你的浏览器添加功能的扩展，另一种是主题。Chrome主题是我们在本教程中要做的。</p><p id="c4cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于任何chrome扩展，基本组件是一个manifest.json文件，它可以被视为您的浏览器的说明手册，然后我们有一个内容脚本，后台脚本，一个HTML文件和一个CSS文件。</p><h1 id="0620" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">开始吧！</h1><p id="74c3" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">让我们做一些编码，好吗？👩‍💻</p><p id="08a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我个人使用atom来编码，它是免费且易于使用的，坦率地说，作为一个初学者，我没有太多使用其他IDE的经验，所以我们打算使用它。这里是你如何<a class="ae jd" href="https://atom.io/" rel="noopener ugc nofollow" target="_blank">获得atom </a>的方法，但是你可以随意选择任何IDE，这对本教程来说应该没什么影响。</p><h1 id="59af" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">设置manifest.json文件</h1><p id="c834" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我们将放在一起的第一件事是一个manifest.json文件，它看起来像这样:</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="38bb" class="ky jr hi ku b fi kz la l lb lc">{<br/>    "name": "momentum parody",<br/>    "version": "1.0",<br/>    "description": "roast you",<br/>    "manifest_version": 3,<br/>    "chrome_url_overrides": {<br/>        "newtab": "homepage.html"<br/>    }<br/>}</span></pre><p id="c191" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个JSON文件，以JavaScript Object Notation (JSON)格式存储简单的数据结构和对象。</p><p id="15a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">前几个字段是不言自明的，我们在其中命名我们的扩展，给它一个版本、描述和manifest version 3，这是本文发表时的最新版本。然后你会注意到“chrome_url_overrides”，它定义了打开什么页面，而不是默认的chrome新标签，在我们的例子中是homepage.html的<em class="ld">。</em></p><h1 id="3fc1" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">新建标签HTML文件</h1><p id="4bba" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">创建一个新文件，命名为homepage.html。现在，我们将致力于chrome标签的布局，每次打开一个新标签时都会看到这个布局。我们需要的主要元素是当前时间、对用户的问候以及我们将从本地数组中随机生成的烤肉。</p><p id="7b7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您对HTML有所了解，这个文件非常容易阅读和理解:</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="02dc" class="ky jr hi ku b fi kz la l lb lc">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="3911" class="ky jr hi ku b fi le la l lb lc">&lt;head&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;<br/>    &lt;link rel="stylesheet" href="homepagecss.css"&gt;<br/>    &lt;title&gt;New Tab&lt;/title&gt;<br/>&lt;/head&gt;</span><span id="79ee" class="ky jr hi ku b fi le la l lb lc">&lt;body style="background-image: url('your-image-url.jpg');"&gt;<br/>    &lt;h1 id="currentTime"&gt; &lt;/h1&gt;<br/>    &lt;h1 id="greetingHeading"&gt; &lt;/h1&gt;<br/>    &lt;h1 id="roasts"&gt; &lt;/h1&gt;</span><span id="ae73" class="ky jr hi ku b fi le la l lb lc">    &lt;script src="random_roast.js"&gt;&lt;/script&gt;<br/>    &lt;script src="time.js"&gt;&lt;/script&gt;</span><span id="fd9c" class="ky jr hi ku b fi le la l lb lc">&lt;/body&gt;</span><span id="1273" class="ky jr hi ku b fi le la l lb lc">&lt;/html&gt;</span></pre><p id="d26d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">定义头部和元数据，如果你是HTML新手，阅读一下<a class="ae jd" href="https://www.w3schools.com/html/html_head.asp#:~:text=The%20element%20is%20a,scripts%2C%20and%20other%20meta%20information." rel="noopener ugc nofollow" target="_blank">头部标签</a>会很有帮助。在head标签中，我们定义了CSS文件(我们将在后面讨论)和新标签的标题，例如，“HTML head Elements”是标签的标题，如下所示。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lf"><img src="../Images/66fa688a0b8e41fcd035e05bf4d01715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nnNTc2vAQMn47BJoCMReEQ.png"/></div></div></figure><p id="265e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们在<a class="ae jd" href="https://www.w3schools.com/tags/tag_body.asp" rel="noopener ugc nofollow" target="_blank">主体标签</a>中定义元素，我们给它一个像本地图像的样式，你可以选择任何一个，但是我从<a class="ae jd" href="https://www.istockphoto.com/photo/nature-gm1360246100-433331271?utm_source=unsplash&amp;utm_medium=affiliate&amp;utm_campaign=srp_photos_top&amp;utm_content=https%3A%2F%2Funsplash.com%2Fs%2Fphotos%2Fpexels-francesco&amp;utm_term=pexels%20francesco%3A%3A%3A" rel="noopener ugc nofollow" target="_blank"> Unsplash选择了一个漂亮的森林主题图像。</a></p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="242e" class="ky jr hi ku b fi kz la l lb lc">&lt;body style="background-image: url('pexels-francesco-ungaro-1671324.jpg');"&gt;<br/>&lt;/body&gt;</span></pre><p id="55be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在body标签中，我们将添加我们的时间，问候用户，并使用header标签h1随机生成烤肉。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="17a1" class="ky jr hi ku b fi kz la l lb lc">&lt;body style="background-image: url('pexels-francesco-ungaro-1671324.jpg');"&gt;<br/>    &lt;h1 id="currentTime"&gt; &lt;/h1&gt;<br/>    &lt;h1 id="greetingHeading"&gt; &lt;/h1&gt;<br/>    &lt;h1 id="roasts"&gt; &lt;/h1&gt;<br/>&lt;/body&gt;</span></pre><p id="df7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目前，HTML文件不会做任何事情，只是简单地显示图像，因为我们还没有定义h1头的内容。我们将使用JavaScript来添加显示当前时间的功能，根据时间问候用户，并从本地数组中生成随机烘烤</p><h1 id="ff7d" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">使用JavaScript中的日期对象显示当前时间和问候语</h1><p id="21ad" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">创建一个新文件并将其命名为time.js，为了实现这个功能，我们将在JavaScript中使用date对象。对象返回本地系统的当前日期和时间。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="b2c3" class="ky jr hi ku b fi kz la l lb lc">function updateTime(){</span><span id="a0a4" class="ky jr hi ku b fi le la l lb lc">var today = new Date();<br/>if(today.getMinutes() &lt; 10){<br/>  var time = today.getHours() + ":0" + today.getMinutes();<br/>}<br/>else if(today.getMinutes() &gt;= 10){<br/>  var time = today.getHours() + ":" + today.getMinutes();<br/>}<br/>var t = document.getElementById('currentTime');<br/>t.innerHTML = time;</span></pre><p id="df9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">日期和时间在今天变量中返回，我们使用<em class="ld">。getHours() </em>和<em class="ld">。getMinutes() </em>以HH:MM (24小时制)格式显示时间。Javascript不会将时间返回为01或09，如果。如果小于10，则获取分钟数，因此我们需要在字符串中添加一个0，如果分钟数小于10，则将我们的时间格式更正为HH:MM，如这行代码所示。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="0be7" class="ky jr hi ku b fi kz la l lb lc">if(today.getMinutes() &lt; 10){<br/>  var time = today.getHours() + ":0" + today.getMinutes();<br/>}</span></pre><p id="4fa8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在可以实现if和else语句来检查当前的时间，并向用户输出正确的问候。<em class="ld">document . getelementbyId()</em>和<em class="ld"> innerHTML </em>帮助我们使用在HTML文件中定义的id输出问候。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="f601" class="ky jr hi ku b fi kz la l lb lc">const greet1 = "Good morning, John Doe.";<br/>const greet2 = "Good afternoon, John Doe.";<br/>const greet3 = "Good evening, John Doe.";</span><span id="d10e" class="ky jr hi ku b fi le la l lb lc">var greeting = document.getElementById('greetingHeading');</span><span id="747e" class="ky jr hi ku b fi le la l lb lc">if (today.getHours() &gt; 4 &amp;&amp; today.getHours() &lt; 12) {<br/>  greeting.innerHTML = greet1;<br/>}<br/>if(today.getHours() &gt;= 12 &amp;&amp; today.getHours() &lt; 16){<br/>  greeting.innerHTML = greet2;<br/>}<br/>if(today.getHours() &gt;= 16 &amp;&amp; today.getHours() &lt;= 24){<br/>  greeting.innerHTML = greet3;<br/>}</span></pre><p id="2224" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后一步是自动更新时间，我们可以通过添加<em class="ld"> setInterval(函数，时间(毫秒))</em>来完成。<em class="ld"> setInterval() </em>函数接受两个变量，第一个是你要更新的函数名，第二个是函数的更新频率。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="f261" class="ky jr hi ku b fi kz la l lb lc">setInterval(updateTime, 10);</span></pre><h1 id="5241" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">从本地数组输出随机烘烤</h1><p id="1f7f" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我们会新建一个文件，命名为<em class="ld">random _ bake . js</em>。在这个文件中，我们将用你选择的烤肉制作一个常量数组，你可以随意填充。让我们再次从id为“roasts”的HTML文件中获取我们的空标签，并使用<em class="ld"> innerHTML </em>和一个简单的随机化函数，我们可以随机化每次打开新标签时显示在屏幕上的roasts。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="a8f3" class="ky jr hi ku b fi kz la l lb lc">const roasts = ["roast 1","roast 2","roast 3","add your own roasts"];</span><span id="1e8e" class="ky jr hi ku b fi le la l lb lc">var roast = document.getElementById('roasts');<br/>roast.innerHTML = roasts[Math.floor(Math.random() * roasts.length)];</span></pre><h1 id="2909" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">使用CSS给我们的homepage.html添加样式</h1><p id="064a" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">新建一个CSS文件，命名为<em class="ld"> homepage_style.css </em>。我选择了一种看起来和<a class="ae jd" href="https://momentumdash.com/" rel="noopener ugc nofollow" target="_blank">动量扩展</a>中使用的字体非常相似的字体，为了更好的可读性，我把所有的文字都保持为白色，但是，你可以随意摆弄。</p><pre class="jf jg jh ji fd kt ku kv kw aw kx bi"><span id="e2df" class="ky jr hi ku b fi kz la l lb lc">*{<br/>    color: white;<br/>}</span><span id="cfdf" class="ky jr hi ku b fi le la l lb lc">#greetingHeading{<br/>    margin-top: 0in;<br/>    font-size: 1in;<br/>    font-family: -apple-system, BlinkMacSystemFont, "Neue Haas Grotesk Text Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;<br/>    text-align: center;<br/>}</span><span id="585d" class="ky jr hi ku b fi le la l lb lc">#currentTime{<br/>    margin-top: 1.7in;<br/>    margin-bottom: 0in;<br/>    font-size: 2.2in;<br/>    font-family: -apple-system, BlinkMacSystemFont, "Neue Haas Grotesk Text Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;<br/>    text-align: center;<br/>}<br/>#roasts{</span><span id="6a8c" class="ky jr hi ku b fi le la l lb lc">    font-size: 0.3in;<br/>    font-family: -apple-system, BlinkMacSystemFont, "Neue Haas Grotesk Text Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;<br/>    text-align: center;<br/>}</span></pre><h1 id="3346" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">把这一切放在一起，🧰</h1><p id="3b65" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">现在，你应该有一个名为<em class="ld"> manifest.json，homepage.html，time.js，random _ bake . js，</em>和<em class="ld"> homepage_style.css </em>的文件。一旦你把所有这些文件放在一个文件夹中，你就可以启动你的chrome扩展了！现在，在chrome上的搜索栏中键入<em class="ld"> chrome://extensions/ </em>或者从chrome工具栏右上角的按钮导航到扩展页面，然后打开开发者模式👩‍💻👨‍💻</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lg"><img src="../Images/cce37fdfda3e94a5a378c9fc41c6485f.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*4EwK9utSpYFhk25ZGuMTYA.gif"/></div><figcaption class="lh li et er es lj lk bd b be z dx"><strong class="bd js">Turn on developer mode in chrome browser</strong></figcaption></figure><p id="4762" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，点击加载解压缩，并选择与您的所有文件的文件夹。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ll"><img src="../Images/69ca98c2c8b81f056c8f785a55bb3170.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/1*OzJqkoTJzBPv42K6Drh_hQ.gif"/></div><figcaption class="lh li et er es lj lk bd b be z dx"><strong class="bd js">Click on Load Unpacked and select the folder with all your files</strong></figcaption></figure><p id="524e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">瞧，你有了你的第一个chrome扩展。但是从现在开始你打开的每一个新标签都会侮辱你。如果您不想再使用该扩展，您可以随时禁用或删除它。如果您有任何问题，请告诉我，我会尽快回复您！</p><p id="af1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里是这个项目的<a class="ae jd" href="https://github.com/aggarwalnatik/momentum_parody" rel="noopener ugc nofollow" target="_blank"> Github链接</a>供你参考🙂</p></div></div>    
</body>
</html>