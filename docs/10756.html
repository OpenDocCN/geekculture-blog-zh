<html>
<head>
<title>SwiftUI| matchedGeometryEffect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI| matchedGeometryEffect</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/swiftui-matchedgeometryeffect-20fa63ff9db9?source=collection_archive---------11-----------------------#2022-02-14">https://medium.com/geekculture/swiftui-matchedgeometryeffect-20fa63ff9db9?source=collection_archive---------11-----------------------#2022-02-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="32ff" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用matchedGeometryEffect和@Namespace的完整指南</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/9f16c2266eee93f2feb3150e61280faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dmW-mcmIRmsPh-jEcksCyA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@iam_robin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Robin Spielmann</a> on <a class="ae jn" href="https://unsplash.com/s/photos/geometry?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c002" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果您想让同一个视图在两个不同的视图之间产生动画效果，请使用匹配几何体效果。当您在两种视图状态之间切换时，这将允许SwiftUI无缝地动态显示同步视图。</p><p id="2101" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当您使用if else语句在两个视图之间制作动画时，这看起来很不自然，因为两个视图在制作动画时会重叠。matchedGeometryEffect解决了这个问题。这个修饰符应该使用@Namespace属性包装器为视图创建一个名称空间。</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="378f" class="kp kq hi kl b fi kr ks l kt ku"> @NameSpace private var animation</span></pre><p id="5d4d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然后在所需的视图中添加修改器</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="531d" class="kp kq hi kl b fi kr ks l kt ku">//Text<br/>.matchedGeometryEffect(id:"text" , in: animation)<br/>//Image <br/>.matchedGeometryEffect(id:"icon" , in: animation)</span></pre><h2 id="e99d" class="kp kq hi bd kv kw kx ky kz la lb lc ld jx le lf lg kb lh li lj kf lk ll lm ln bi translated">让我们来看一个例子，动画两个视图没有匹配的几何效果。</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="9d65" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这段代码看起来像下面这样</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lq"><img src="../Images/54617478f4e8c695a625a0566afe930e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*L7LDYZB1f0AZXn71Z7bD4w.gif"/></div></figure><p id="b007" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如你所见，动画有点笨拙。这两个视图相互重叠，它看起来不像我们希望的那样平滑。</p><h2 id="40d6" class="kp kq hi bd kv kw kx ky kz la lb lc ld jx le lf lg kb lh li lj kf lk ll lm ln bi translated">让我们看看同样的例子，但是有几何效应</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="23ff" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这段代码显示了以下结果</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lq"><img src="../Images/710b3b81c2101d2ed72edbc6a5320f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*k1W1xnLkILMaoYaaIF5NKQ.gif"/></div></figure><p id="1ef7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这部动画看起来比上一部好。因此，当你有两个相互动画的视图时，确保使用GeometryEffect()</p></div></div>    
</body>
</html>