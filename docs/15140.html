<html>
<head>
<title>What is a good code, and why is it all about others, not ourselves?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是好的代码，为什么都是关于别人，而不是我们自己？</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/what-is-a-good-code-and-why-is-it-all-about-others-not-ourselves-40730c7a03e5?source=collection_archive---------5-----------------------#2022-10-15">https://medium.com/geekculture/what-is-a-good-code-and-why-is-it-all-about-others-not-ourselves-40730c7a03e5?source=collection_archive---------5-----------------------#2022-10-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6a6299e7bdf9cf713c550c866d07b7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g518oKzB7ggtJ7iz6Xvz9w.jpeg"/></div></div></figure><p id="aecc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">软件工程师写了很多代码，但是如果你知道如何识别的话，你会很快发现这些代码通常质量很差。这有不同的原因。从没有足够的时间在注重功能的公司里把事情做好，到在过去的工作中养成的坏习惯，再到懒惰和不给一个该死的结局。</p><h1 id="4505" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">什么是好的代码？</h1><p id="c61b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">所以让我们回顾一下好代码的主要方面。因为我主要用JavaScript编写，所以所有的例子都是基于这种语言的，但是它们可以很容易地翻译成其他任何语言(很少需要注意)。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="ff0d" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">命名约定</h2><p id="bd15" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果命名是一致的，并且风格不是随机混合的，我们可以识别出好的代码。它有助于在最基本的层面上消除困惑。</p><ul class=""><li id="3170" class="lm ln hi is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu bi translated"><strong class="is hj">驼峰</strong> —变量和方法命名</li><li id="7ed1" class="lm ln hi is b it lv ix lw jb lx jf ly jj lz jn lr ls lt lu bi translated"><strong class="is hj"> PascalCase </strong> —用于类、组件和导入，因为它们的行为都类似于类(更具体地说，是单例)。</li><li id="90b3" class="lm ln hi is b it lv ix lw jb lx jf ly jj lz jn lr ls lt lu bi translated"><strong class="is hj"> SNAKE_CASE </strong> —为常量。这在很大程度上取决于一个人的写作风格，因为人们经常完全按照驼峰式写作。</li></ul><blockquote class="ma mb mc"><p id="828f" class="iq ir md is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hb bi translated">提示:<strong class="is hj"> let-first方法</strong>假设任何东西都可以被重新赋值，因为默认感觉更好，并且在let和const之间创建了一个明显的区别。常量是一个有意识的决定，因为SNAKE_CASE突出了“重要”和“不能改变”。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="fbb9" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">变量和方法的可读名称</h2><p id="da2b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">变量和函数名应该容易记住。经验法则是，它们不应该由超过4个单词组成，因为它们会变得难以理解。命名可能是编码中唯一困难的事情，我们花了太多时间却仍然会出错。名字是多么的准确和不言自明，这充分说明了编写代码的人。</p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="2e2f" class="ky jp hi mm b fi mq mr l ms mt">/* BAD */<br/>let n = 'No Title'; //you have no idea what 'n' means.</span><span id="2848" class="ky jp hi mm b fi mu mr l ms mt">let cbo = 'Chief Banana Officer'; //acronyms are usually a bad idea</span><span id="d5ae" class="ky jp hi mm b fi mu mr l ms mt">let mojeDane = 'Some data'; //use names in English!</span><span id="af53" class="ky jp hi mm b fi mu mr l ms mt">function toggle(){} //what the hell I'm toggling? Although, this might be OK as a method in a class as it will be within a context.</span><span id="ef56" class="ky jp hi mm b fi mu mr l ms mt">function togglePopupAndRefreshWindowTrack () {} //try to remember that! Not only it's long, but it also describes what function does.</span></pre></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="5df8" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">高效功能(干态)</h2><p id="048d" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">理想情况下，函数只做一项工作，而不改变输入(纯函数)。所有的代码和分支都应该是可测试的，快速的，易于更新的。可重用性是我们经常寻找的优秀代码的标志。这也延伸到像函数式和面向对象式这样的写作风格，如果你看到两者的混合，它可能不是好代码。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="d3f2" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">结构和风格良好</h2><p id="c671" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">结构是代码在文件中的组织方式——根据职责或目的。一个好的代码应该有一个逻辑流程。您应该能够识别几个块，每个块负责做一件特定的事情(按职责组织)，或者从定义配置和变量开始，到私有方法，最后是公共方法(按目的组织)。</p><p id="b152" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">样式包括一致的缩进、样式和换行符。所有这些小事都很重要。一个人如何格式化他们的代码可以很好地洞察他们是如何思考的。对细节的关注是优秀工程师之所以伟大的原因。如今，它们中的大多数应该由IDE和构建工具来处理。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="bf4e" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">容易理解</h2><p id="8924" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">易于理解的代码是许多东西的集合。它包括命名、结构和格式。如果已经应用了所有的常识规则，并且已经为人类编写了代码，那么它将很容易阅读和理解。</p><blockquote class="ma mb mc"><p id="1189" class="iq ir md is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hb bi translated">提示:写代码就像<strong class="is hj">说另一种语言</strong>。有科学证据表明，在编写优秀的代码时，最重要的不是数学，而是语言技能。Js、Python、C、Java……都只是为了人类和机器交流而创造的外语。如果你是唯一一个了解你的代码在做什么的人，那么你作为一个软件工程师是失败的。</p></blockquote><p id="8584" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最好的代码总是简单的代码。使用奇特的方法、意想不到的方法和甜蜜的俏皮话经常会导致可怕的结果——对任何人来说都是缓慢和不可读的。最后，你总是为其他人写代码(当你不得不在性能上极客化时，偶尔为机器写代码)，好代码的一个最重要的标志是易读性。</p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="ae35" class="ky jp hi mm b fi mq mr l ms mt">// Sweet one-liner but good luck trying to figure out what it does. <br/>// Plus, it is not performant code.<br/>function doCoolThings(n){<br/>    return (n).toString(2).split('').reverse().map((v,i)=&gt;v==="1" &amp;&amp; Math.pow(2,i)).filter(Boolean);<br/>}</span><span id="9a07" class="ky jp hi mm b fi mu mr l ms mt">// Does the same thing as above, but ultra-fast (2.4M ops/sec)<br/>// Even junior can understand what is happening here<br/>function doCoolThings(value) {<br/>    var returnArray = [];<br/>    var highestValue = Math.pow(2, Math.floor(Math.log(value) / Math.log(2)));<br/>    <br/>    while (value &gt; 0) {<br/>        if (value &gt;= highestValue) {<br/>            returnArray.push(highestValue);<br/>            value-=highestValue;<br/>        }<br/>    <br/>        highestValue/=2;<br/>     }<br/>      <br/>     return returnArray;<br/>}</span></pre></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="4e26" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">可测试和已测试</h2><p id="fd08" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">好的代码是伴随测试而来的，不仅仅是虚拟行覆盖，而是真正好的单元测试。这也包括“破坏性的”场景，检查优雅的故障处理。如果测试有突变测试支持就更好了。</p><blockquote class="ma mb mc"><p id="93be" class="iq ir md is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hb bi translated">提示:<strong class="is hj">突变测试</strong>——如果你还没听说过，那就去看看Stryker吧。这个小测试套件会故意破坏你的代码来测试你的测试质量。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="2840" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">评论很好</h2><p id="b1d4" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">令人困惑的事情应该得到解释，方法应该得到充分的描述。完全没有评论是很可怕的。另一方面，太多的评论也不好。好的代码有正确的平衡，注释主要解释为什么，有时解释什么，从不解释什么</p><blockquote class="ma mb mc"><p id="8057" class="iq ir md is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hb bi translated">提示:如果有人说他们的代码是<strong class="is hj">所以</strong> <strong class="is hj">干净、不言自明</strong>并且不需要任何注释，他们可能是个混蛋。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="2fd5" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">证明文件</h2><p id="de30" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">文档支持的代码主要与库和更重要的解决方案相关，因为通常情况下，没有它你就无法开始项目。这就是为什么jQuery在前十年广受欢迎并统治了JavaScript——他们的文档比什么都好。易于使用的好文档推动互联网的采用率超过70%。</p><blockquote class="ma mb mc"><p id="ad4d" class="iq ir md is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hb bi translated">提示:当您在团队中编写代码并遵循JSDoc 之类的<strong class="is hj">标准时，您就拥有了自动生成文档的所有工具，而没有在某些第三方工具中管理它的开销。代码注释和文档一气呵成！</strong></p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="7296" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">逻辑文件夹结构</h2><p id="77fb" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这有点脱离代码本身，但是在代码所在的地方有一个坚实的文件夹结构是很重要的。文件应该适当命名，并且在命名约定中不同文件夹之间保持一致。这也意味着不要以包含所有内容的文件夹告终。</p><blockquote class="ma mb mc"><p id="bb9b" class="iq ir md is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hb bi translated">示例:/tests文件夹，其中包含100个文件，每个特性和组件的测试位于另外100个不同的文件夹中。这是一个糟糕的设计，会导致未来的问题(尤其是当团队快速成长的时候)。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="babb" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">表演</h2><p id="3d03" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">代码应该很快，没有理由让它变得很慢。虽然，在大多数情况下，这是由于缺乏知识或简单的懒惰，经常用“我一直是这样做的，而且很好”来解释。当然，代码的性能应该取决于它在整个应用程序中的使用频率，但是让事情变得更快通常会导致一个更干净和更可读的应用程序。所以是双赢。</p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="4646" class="ky jp hi mm b fi mq mr l ms mt">// Both examples are easy to read.<br/>// So why would you use the slower one?</span><span id="1d77" class="ky jp hi mm b fi mu mr l ms mt">// SLOW<br/>// You can use for object and array<br/>for (let item in items) { <br/>    console.log('got item', items[item]);<br/>}</span><span id="5e12" class="ky jp hi mm b fi mu mr l ms mt">// FAST<br/>// Only for arrays. For objects, you might go with Object.keys loop.<br/>for (let i = 0; i &lt; arr.length; i ++) {<br/>     console.log('got item', items[i]);<br/>}</span></pre></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="02b0" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">实施示例</h2><p id="a003" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我们能看看实现的例子吗？我们有呈现特定对象、特性、组件或功能的实际代码示例吗？这主要适用于库，但对于可重用组件和设计系统也非常重要。从某样东西开始并了解它是如何工作的最简单的方法是通过简单地复制/粘贴代码来观察它们的运行。这是优秀文档的一部分，回答了列表中的另一个问题…</p><div class="mv mw ez fb mx my"><a href="https://blog.devgenius.io/web-design-system-that-is-not-a-build-it-from-scratch-with-some-confidence-af77fb1d23e5" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">更好的网页设计系统策略——组件、可重用性、技术和成功。</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">为您团队的未来web应用程序构建“乐高积木”时，计划、构建并避免常见错误。拿一些…</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">blog.devgenius.io</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm io my"/></div></div></a></div></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="7370" class="ky jp hi bd jq kz la lb ju lc ld le jy jb lf lg kc jf lh li kg jj lj lk kk ll bi translated">这是正确的解决方案吗？有用吗？</h2><p id="8ee7" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果代码看起来像有人因为看到钉子而用了锤子，那很可能就是这么回事。如果开发者只有一把锤子，那么一切看起来都像钉子。我们的知识对于找到问题的正确解决方案至关重要，而不是相反。学习是必须的，即使是最初可能觉得无关紧要的事情。一个问题是如何解决的，很大程度上说明了程序员的技能。</p><p id="f21e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，代码应该工作了！你的It有多好的结构和组织并不重要。这可能是最重要的，我们应该回答的第一个问题是，“它有效吗？”:)</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><figure class="mh mi mj mk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/57e34c03b6c7853fcd05b63dc9065284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ilhh1kqzlfGmSI-LshYnIQ.png"/></div></div><figcaption class="nn no et er es np nq bd b be z dx">A doughnut</figcaption></figure><h1 id="4fc0" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">代码质量就像一份食谱</h1><p id="59ca" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果你试图戒掉甜食，将很难抗拒，但最终，当你改变你的自然“默认设置”时，你将达到一个点。处理代码的方式类似。努力提高质量，后期会有回报，成为自然的“牛逼默认”。</p><blockquote class="nr"><p id="c094" class="ns nt hi bd nu nv nw nx ny nz oa jn dx translated">优秀不是一种行为，而是一种习惯</p></blockquote><p id="b14d" class="pw-post-body-paragraph iq ir hi is b it ob iv iw ix oc iz ja jb od jd je jf oe jh ji jj of jl jm jn hb bi translated">代码质量不是你做一次就排序的。事物在不断发展，新功能不断增加，产品需求也在不断增加。Web应用程序是活的有机体，你需要确保代码质量是它们DNA的一部分，就像卡路里是甜甜圈的一部分一样。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><figure class="mh mi mj mk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/81d6cabd918cb41ffef342fbe46ae44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPCGZtL2caFHk2_v-ETWCQ.jpeg"/></div></div></figure><h1 id="611c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">知与行</h1><p id="3f01" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果开发人员不在现实世界中应用这些东西，那么知道所有这些东西就毫无意义。当工程师被问到，“什么是好的代码？”这是我在采访中经常谈到的话题之一，他们的回答差别很大。大多数人会提到变量名、结构、样式，也许还有文档。这些都是显而易见的事情，但很少能详细解释它们真正的意思。尤其是当你开始寻找答案，需要在编写好代码的背景下考虑整个团队的时候。</p><p id="ec8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">人们谈论高质量代码的方式很大程度上说明了他们的关注点。无论他们是以自我为中心，还是明白写好代码几乎与他们想要什么无关，都是为了别人。</p></div></div>    
</body>
</html>