<html>
<head>
<title>Phase II: Balanced Spawning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第二阶段:平衡产卵</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/phase-ii-balanced-spawning-14ac9c08d972?source=collection_archive---------57-----------------------#2021-06-30">https://medium.com/geekculture/phase-ii-balanced-spawning-14ac9c08d972?source=collection_archive---------57-----------------------#2021-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6e31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目的:</strong>打造平衡的产卵系统。像弹药这样的拾取应该更频繁，而像健康这样的拾取应该更少。</p><p id="66f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了这个目标，我将设置一个加权系统来让能量产生，我将把敌人的产生与当前的波联系起来，这样随着波数的增加，更多类型的敌人将会产生。</p><p id="8885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经建立了一个表，为权力的加权产卵。我给弹药最大的机会掉落，然后逐渐减少其他弹药掉落的机会。这是他们的机会表。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3350623e5b2e87b0e6a9c7ddc1321461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YM130hBEnRRSzYORbNOUQA.png"/></div></div></figure><p id="1770" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用一个<strong class="ih hj"> PowerUpSelector() </strong>方法使用加权系统从表中选择powerup。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/a1b6545264a2ef1066fcfe184a172103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4k950BNglUnGfWpGIaXIjw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">PowerUpSelector() method</figcaption></figure><p id="bbad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个方法中，我从表中选择一个介于0和所有权重之和之间的随机权重。然后我遍历这个表，检查随机数是否小于每个权重。如果是这样，我用它作为加电ID，然后从方法返回。否则，我从权重中减去current _table[i]并再次检查。下面的<strong class="ih hj"> SpawnPowerup() </strong>协程中调用了<strong class="ih hj">powerupselectee()</strong>方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/45bdc697f68205778b996f54642c6237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCA2j8SWStj90KiQnbdrzA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">SpawnPowerup() Coroutine</figcaption></figure><p id="3b0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我要确保玩家还活着。然后我设置了一个随机的X位置，在那里能量将会产生。接下来，我调用上面讨论的<strong class="ih hj"> PowerUpSelector() </strong>方法。然后，我在游戏区域和选定的X位置上实例化选定的加电。我还将它生成到一个<strong class="ih hj"><em class="jv">_ power up container</em></strong><strong class="ih hj">game object</strong>中，以保持层次结构的整洁。最后，我随机等待3到7秒，并处理另一个加电的种子。</p><p id="ff15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于敌人，老实说，我没有那么详细。我有一个SpawnEnemy()方法来负责繁殖敌人。我在方法中做的一件事是随机生成一个_enemyID，通过生成一个0和_waveCount变量之间的随机整数来选择要繁殖的敌人。因为我有6种敌人类型，所以我现在会使用6种波。这将需要修改时，我添加了老板，更模块化和可扩展性。下面是SpawnEnemy()方法，您可以看到我是如何设置它的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/67859538f4bc29650e3683b1d9ae49c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wBVLL6eHo-6Ah5x1YKfO9Q.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">SpawnEnemy() Coroutine</figcaption></figure><p id="b6c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你觉得这很有趣，也许还能提供一些信息。接下来，我将为游戏制作Boss遭遇战。在那之后，我会做一些润色，一些代码清理，可能还有一点重构。然后我将最终发布我的第一个游戏到互联网的荒野。祝我好运吧，在下一次之前，我一定会祝你在自己的编码之旅中好运。</p></div></div>    
</body>
</html>