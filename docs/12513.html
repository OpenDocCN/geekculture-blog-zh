<html>
<head>
<title>Graphs or Networks — Chapter 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图形或网络—第3章</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/graph-or-networks-depth-first-search-algorithm-d3d4f6a66f01?source=collection_archive---------14-----------------------#2022-05-16">https://medium.com/geekculture/graph-or-networks-depth-first-search-algorithm-d3d4f6a66f01?source=collection_archive---------14-----------------------#2022-05-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0644" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">深度优先搜索算法</strong></p><p id="1ce0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你还没有读过以前的文章，并且是图论的新手，我强烈建议你访问下面的链接来加深理解。</p><ul class=""><li id="a23b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae jm" rel="noopener" href="/geekculture/graphs-or-networks-chapter-1-57aa9497be06">第1章</a></li><li id="848d" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><a class="ae jm" rel="noopener" href="/geekculture/graphs-or-networks-chapter-2-2af64596858e">第二章</a></li></ul><p id="7b91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图的遍历是图论中最有趣的课题之一，深度优先搜索是最基本最简单的遍历算法之一。</p><blockquote class="js jt ju"><p id="d7a1" class="if ig jv ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> DFS从根节点开始，在回溯之前，即当它遇到叶节点或已经看到的节点时，尽可能地搜索每条边。根节点可以是随机的或用户定义的。</strong></p></blockquote><p id="1eec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">发展直觉</strong>:</p><ul class=""><li id="fb01" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">让我们创建一个图表，我们将在其上实现DFS。</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="f90c" class="ki kj hi ke b fi kk kl l km kn">import networkx as nx<br/>import matplotlib.pyplot as plt<br/>import pandas as pd<br/><br/>data = [('A','B','1'),("A","C",'2'),("C","D",'6'),("C","E",'4'),<br/>        ("B","C",'3'),("F","D",'7'),("D","B",'5')]<br/>df = pd.DataFrame(data=data,columns=['node1','node2','edge'])<br/>graph = nx.from_pandas_edgelist(df=df, source='node1', target='node2', edge_attr='edge',create_using=nx.Graph())<br/>pos = nx.spring_layout(graph, k=5)<br/>nx.draw(graph, pos, with_labels=True)<br/>labels = {edge_attribute: graph.edges[edge_attribute]['edge'] for edge_attribute in graph.edges}<br/>nx.draw_networkx_edge_labels(graph, pos, edge_labels=labels)<br/>plt.show()</span></pre><p id="6c57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:边数仅用于识别边，而不是权重。</p><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ko"><img src="../Images/57edf9828b113724980bd216faa09c67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QZEel_OYfUE1H7cG7zKkEA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 1</figcaption></figure><ul class=""><li id="2111" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">设根节点为“A”。(选择根节点作为“A”的决定是任意的。)</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es la"><img src="../Images/00283d22414bb770771100b1ba43610c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*suAtj57dBiV8y5_uKS0I6w.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 2</figcaption></figure><ul class=""><li id="cb24" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">因为A有两个邻居“B”和“C”。(任意选择任一节点。).在这个例子中，让我们遍历边1。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lb"><img src="../Images/f84ca8a0d20158872d710bc7aafcf956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OX5CWBSz4XbtK5GyvCsR9w.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 3</figcaption></figure><ul class=""><li id="f6dd" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">现在，“B”有三个邻居，但是我们已经访问了节点“A”。所以我们选择了edge 3。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lc"><img src="../Images/d96403a27c6a6f842498e72cc304ae5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPJlYaD05YdfWYlWTgtqcw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 4</figcaption></figure><ul class=""><li id="28ed" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">现在，“C”有3个邻居，让我们遍历边2。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ld"><img src="../Images/592e1aa6dd56c86cb7033e41e4c0d37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fl0AGzuujTVo6ZJrKHSakA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 5</figcaption></figure><ul class=""><li id="51d1" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">通过这次遍历，我们再次到达节点A，因此算法将返回到c。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es le"><img src="../Images/524504f195f9a28517ca525062d7b583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6zvZ8nbShfdpEGcvAyN0-A.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 6</figcaption></figure><ul class=""><li id="063a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">DFS遍历边4。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lf"><img src="../Images/9ad160e39841a7d9a65e55f19be5dd25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nMcMmUtE0NHqCrma2Ej0Ow.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 7</figcaption></figure><ul class=""><li id="fc94" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">由于边E除了C没有任何邻居，算法将回溯。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lg"><img src="../Images/7bebab8efd728b3c3599a92324dee7ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AwTCPRpWsjPDB90dNIe9IQ.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 8</figcaption></figure><ul class=""><li id="220c" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">搜索遍历边6。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lh"><img src="../Images/0d73a64e25bc9ab038170bcdc62c31e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fr6nLDcIWGnIkURES-p6ZA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 9</figcaption></figure><ul class=""><li id="4713" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">DFS遍历边缘5。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es li"><img src="../Images/897f78d19f5a886bae1eadd50e50ffc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TU_iJQjrhWG7AXd70CGdBA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 10</figcaption></figure><ul class=""><li id="3d23" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">DFS再次回溯到“D”节点。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lj"><img src="../Images/cf5401db86774c983ff12cab7040049e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pyZPDc0WlS388ZRMI1xexw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 11</figcaption></figure><ul class=""><li id="1f4b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">DFS通过边7到达f。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lk"><img src="../Images/beab15f2bd182694a844b6c98e0c6560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pf2JTnIRHhbZadSlnqT__Q.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 12</figcaption></figure><ul class=""><li id="0f17" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">因为节点“F”没有任何邻居。算法回溯。</li></ul><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ll"><img src="../Images/0a38717abf56c108fe2ba1a454b8a9be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dx12pNEaR2c5Gou_ud5owA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 13</figcaption></figure><p id="6e89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样的，</p><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lm"><img src="../Images/6160c9b590e26db2992649bb864822dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KLRyrE3DWh7ZBAAU2nUinA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 14</figcaption></figure><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ln"><img src="../Images/218e838a7424749d2b5e4abca6aeb7a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kVPnXeyYP169sHVFnAfXUg.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 15</figcaption></figure><figure class="jz ka kb kc fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lo"><img src="../Images/1dca98003949c76de6987a87a9f8012b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WpKY5suBBqVEofIib9ADiQ.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx">Graph 16</figcaption></figure><p id="4ef1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> Python </strong>中编码DFS:</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="f57f" class="ki kj hi ke b fi kk kl l km kn">import networkx as nx<br/>import pandas as pd<br/><br/><br/>data = [('A','B','1'),("A","C",'2'),("C","D",'6'),("C","E",'4'),<br/>        ("B","C",'3'),("F","D",'7'),("D","B",'5')]<br/>df = pd.DataFrame(data=data,columns=['node1','node2','edge'])<br/>graph = nx.from_pandas_edgelist(df=df, source='node1', target='node2', edge_attr='edge',create_using=nx.Graph())<br/><br/>total_nodes = len(graph.nodes)<br/>is_seen = [False] * total_nodes<br/><br/>def depth_first_algo(graph,start_node='A'):<br/>    print(start_node,end='---&gt;')<br/>    start_node_index = list(graph.nodes).index(start_node)<br/>    if is_seen[start_node_index]:<br/>        print('retracting from',start_node)<br/>        return 0<br/>    is_seen[start_node_index] = True<br/>    node_neighbours = graph.neighbors(start_node)<br/>    for neighbour in node_neighbours:<br/>        print('neighbour:',neighbour)<br/>        depth_first_algo(graph,start_node=neighbour)<br/>depth_first_algo(graph)</span></pre><p id="bb78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这篇文章能帮助你发展对DFS的直觉。</p><p id="f17b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想了解DFS算法在网络中的应用，请点击<a class="ae jm" href="https://saket-shubham16.medium.com/graph-or-networks-chapter-4-a04a34a2f084" rel="noopener"> <strong class="ih hj">这里</strong> </a>阅读下一篇文章。</p><p id="9a2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用的代码也可以在github上找到:<a class="ae jm" href="https://github.com/Shubham-Saket/graphNetworks" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://github.com/Shubham-Saket/graphNetworks</strong></a>。</p></div></div>    
</body>
</html>