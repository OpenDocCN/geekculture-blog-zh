<html>
<head>
<title>How to Host a Static Website using AWS Route 53, S3, and CloudFront</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用AWS Route 53、S3和CloudFront托管静态网站</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-host-a-static-website-using-aws-route-53-s3-and-cloudfront-e425fa5de349?source=collection_archive---------3-----------------------#2021-02-15">https://medium.com/geekculture/how-to-host-a-static-website-using-aws-route-53-s3-and-cloudfront-e425fa5de349?source=collection_archive---------3-----------------------#2021-02-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="9865" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">虚拟主机教程</h2><div class=""/><div class=""><h2 id="761c" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">这是一个循序渐进的教程，讲述了如何在Route 53上注册域名，在S3上托管网站，并使用CloudFront保护它们</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/c001a38383855fcaf90bea8a77f56ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MnJdbYhXVwMANpy_"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Photo by <a class="ae jw" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Austin Distel</a> on <a class="ae jw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8074" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">介绍</h1><p id="2ccd" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">在我之前的Medium文章中，我向用户展示了如何创建静态网站。</p><p id="2273" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">当网站开发工作完成后，网站需要在线托管，以便可以与世界共享，尽管有许多平台可以托管静态网站，但亚马逊网络服务(AWS)提供了最实惠和可扩展的选择之一[1]！</p><p id="4ac4" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">根据Bluestack的说法，以下是在AWS上托管静态网站是一个好主意的几个原因[2]:</p><ol class=""><li id="9c70" class="lq lr hi kr b ks ll kv lm ky ls lc lt lg lu lk lv lw lx ly bi translated"><strong class="kr hs">自动扩展</strong>—AWS S3的一个特点是它可以自动扩展以处理大量请求，因此用户不必担心高流量。</li><li id="39e1" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated"><strong class="kr hs">高可用性</strong> —由于亚马逊保证AWS S3 99.99%的可用性，用户的网站将默认99.99%的可用性。</li><li id="63b5" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated"><strong class="kr hs">低成本</strong> —虽然用户可以通过使用AWS月度计算器获得准确的成本估计，但平均每月30，000次请求将使用户每月花费约1美元的AWS成本，并且比其他托管选项便宜得多。</li></ol><p id="67ab" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">在本教程中，我将向用户展示如何利用AWS服务，以便他们可以使用Route 53注册域名，在S3上托管网站，并使用CloudFront保护它们！</p><h1 id="1758" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">AWS服务</h1><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es me"><img src="../Images/7c09de64cf40f3aa2dfb9bc831c23a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MYB0Z1zkicTjkbp1"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Photo by <a class="ae jw" href="https://unsplash.com/@christianw?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christian Wiediger</a> on <a class="ae jw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="862b" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">一般来说，托管网站有三个组成部分:</p><ol class=""><li id="b04b" class="lq lr hi kr b ks ll kv lm ky ls lc lt lg lu lk lv lw lx ly bi translated">注册自定义域</li><li id="28c6" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">托管网站的源代码</li><li id="6667" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">保护网站的访问</li></ol><p id="7f55" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">幸运的是，AWS有几个不同的服务来帮助这些组件！</p><h2 id="597e" class="mf jy hi bd jz mg mh mi kd mj mk ml kh ky mm mn kj lc mo mp kl lg mq mr kn ho bi translated">向AWS路由53注册域</h2><p id="08bb" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">公开托管网站的第一步是注册自定义域名，这样用户就不会被迫使用默认的AWS S3域名作为他们网站的URL。</p><p id="8d60" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">幸运的是，AWS为用户提供了通过Route 53服务注册域名的能力[3]。</p><p id="d70b" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">以下是用户配置Route 53[4]时可以遵循的步骤:</p><ol class=""><li id="921c" class="lq lr hi kr b ks ll kv lm ky ls lc lt lg lu lk lv lw lx ly bi translated">转到AWS控制台</li><li id="18cf" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">导航到AWS Route 53服务</li><li id="bbf0" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">决定自定义域名</li><li id="ea14" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">选择他们的网站需要哪些子域</li><li id="0c53" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">为每个子域创建Route 53记录，这些记录将在最后一节中用于指向CloudFront发行版</li></ol><h2 id="5b3f" class="mf jy hi bd jz mg mh mi kd mj mk ml kh ky mm mn kj lc mo mp kl lg mq mr kn ho bi translated">在S3 AWS上托管网站</h2><p id="cfe6" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">既然域名已经注册，用户现在可以开始正确设置AWS S3桶来托管他们的网站[5]。</p><p id="8a95" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">用户需要按照以下步骤正确设置他们的S3桶[6]:</p><ol class=""><li id="0359" class="lq lr hi kr b ks ll kv lm ky ls lc lt lg lu lk lv lw lx ly bi translated">转到AWS控制台</li><li id="21a5" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">导航到AWS S3服务</li><li id="8ab2" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">创建公共S3存储桶</li><li id="4655" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">为托管网站设置S3存储桶</li><li id="e9bd" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">创建一个样本HTML文件来测试S3桶是否设置正确[7]</li><li id="3e92" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">访问公共S3 URL，并验证示例HTML文件是否正确显示</li><li id="5c08" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">上传实际的网站源代码，但请记住，S3桶在这一点上是公开的，所以桶中的一切都可以被任何人看到！</li></ol><h2 id="0e37" class="mf jy hi bd jz mg mh mi kd mj mk ml kh ky mm mn kj lc mo mp kl lg mq mr kn ho bi translated">使用AWS CloudFront保护网站访问</h2><p id="49e2" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">由于该网站现在可以公开访问，用户需要使用AWS CloudFront来保护它，并使用世界各地边缘位置的缓存来实现快速访问[8]。</p><p id="686a" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">为了正确设置CloudFront发行版，用户应该遵循以下步骤[9]:</p><ol class=""><li id="2aca" class="lq lr hi kr b ks ll kv lm ky ls lc lt lg lu lk lv lw lx ly bi translated">转到AWS控制台</li><li id="19f2" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">导航到AWS CloudFront服务并启动CloudFront发行版创建过程</li><li id="c903" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">为您的分配指定必要的参数，并使用上一节中的S3存储桶信息:</li><li id="0305" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">将S3 bucket设为私有，只允许从CloudFront访问这个bucket(最好启用这个安全特性，并禁用对S3 bucket的公共访问)</li><li id="023e" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">更新设置以要求查看器和CloudFront之间的HTTPS</li><li id="09fe" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">创建一个可由CloudFront使用的SSL证书</li><li id="cd0b" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">更新CloudFront分发设置，以便从第一部分中创建的Route 53记录中访问</li><li id="2eea" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated">通过自定义域名测试到网站的连接，并确认对S3存储桶的公共访问已禁用。</li></ol><h1 id="5da1" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">结论</h1><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ms"><img src="../Images/7d7b37a8fe01bb80c69ad6d189b4b3d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R634_4knHdOc0L8d"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx">Photo by <a class="ae jw" href="https://unsplash.com/@brucemars?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">bruce mars</a> on <a class="ae jw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c1e3" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">恭喜你！！！该网站现已成功托管在AWS上，任何人都可以在其自定义域上访问它！</p><p id="4a2c" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">总的来说，有很多方法可以托管静态网站，但是如果用户想使用AWS托管他们的网站，这里有三种服务:</p><ol class=""><li id="040d" class="lq lr hi kr b ks ll kv lm ky ls lc lt lg lu lk lv lw lx ly bi translated"><strong class="kr hs"> Route 53 </strong> —用户可以为自己的网站注册自定义域名。</li><li id="6b35" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated"><strong class="kr hs">S3</strong>——用户可以利用AWS的原生S3特性来处理他们网站的性能和可扩展性。</li><li id="c33e" class="lq lr hi kr b ks lz kv ma ky mb lc mc lg md lk lv lw lx ly bi translated"><strong class="kr hs"> CloudFront </strong> —用户可以安全访问他们的网站，并在全球范围内实现快速访问。</li></ol><p id="c7d9" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">下面是一个使用53号公路、S3和CloudFront托管在AWS上的网站示例:</p><div class="mt mu ez fb mv mw"><a href="https://www.deeptaanshu.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab dw"><div class="my ab mz cl cj na"><h2 class="bd hs fi z dy nb ea eb nc ed ef hr bi translated">迪普塔安舒·库马尔</h2><div class="nd l"><h3 class="bd b fi z dy nb ea eb nc ed ef dx translated">欢迎来到我的网站！请看看我的工作，并随时与我联系！</h3></div><div class="ne l"><p class="bd b fp z dy nb ea eb nc ed ef dx translated">www.deeptaanshu.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk jq mw"/></div></div></a></div><p id="c3c2" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">希望这篇教程对你有所帮助，也能启发其他人创建/托管他们自己的网站！！！</p><h1 id="a439" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">参考</h1><p id="10cf" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">[1]什么是AWS:<a class="ae jw" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/https://aws.amazon.com/</a></p><p id="58ee" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[2]为什么应该使用AWS S3托管网站:<a class="ae jw" href="https://www.bluestackcloud.com/insights/2018/5/7/advantages-of-hosting-your-static-website-on-amazon-s3" rel="noopener ugc nofollow" target="_blank">https://www . blue stack cloud . com/insights/2018/5/7/advantages-of-hosting-your-static-website-on-Amazon-S3</a></p><p id="efb1" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[3] AWS路线53:<a class="ae jw" href="https://aws.amazon.com/route53/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/route53/</a></p><p id="0814" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[4]设置自定义域:<a class="ae jw" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon S3/latest/dev/website-hosting-custom-domain-walk through . html</a></p><p id="d856" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[5]AWS https://aws.amazon.com/s3/ S3:<a class="ae jw" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank"/></p><p id="c4d8" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[6]设置S3桶:<a class="ae jw" href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/static-website-hosting.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon S3/latest/user-guide/static-website-hosting . html</a></p><p id="4b1d" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[7]样本HTML文件:<a class="ae jw" href="https://www.w3schools.com/html/html_basic.asp" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/html/html_basic.asp</a></p><p id="28cb" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[8]AWS CloudFront:<a class="ae jw" href="https://aws.amazon.com/cloudfront/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/cloudfront/</a></p><p id="6ac6" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">[9]设置CloudFront发行版:<a class="ae jw" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon CloudFront/latest/developer guide/distribution-we b-values-specify . html</a></p></div></div>    
</body>
</html>