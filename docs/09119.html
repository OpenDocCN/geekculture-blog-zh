<html>
<head>
<title>How To Fart With Javascript….</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Javascript放屁…</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/how-to-fart-with-javascript-5796ce2fc23c?source=collection_archive---------6-----------------------#2021-11-27">https://medium.com/geekculture/how-to-fart-with-javascript-5796ce2fc23c?source=collection_archive---------6-----------------------#2021-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ad0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我看到你仍然点击了这个故事来了解如何😉所以让我们开始吧</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d2d722b44b3537dd7ae5456d377ccf77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KX7cckt-JtrUNJ3NULszWg.png"/></div></div></figure><p id="44f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">这是一个点击诱饵吗？？？😕</strong></p><p id="6923" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">老实说，不，在这篇文章中，我们将看到一个名为<code class="du jp jq jr js b">Audio()</code>的原生浏览器API，它允许我们在网页上播放音频文件，并利用这一知识，为什么不制作一个程序，每当你点击一个链接或按钮时，播放一个屁的声音👀</p><p id="6641" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">好吧，但我如何编写这样的脚本在每一页上运行</strong></p><p id="91de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，现在是我向你介绍<strong class="ih hj"> <em class="jt">用户脚本和脚本管理器</em> </strong>的时候了</p><p id="8753" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用户脚本只是一个javascript文件，它在页面加载之前运行，所以可以把它想象成一个扩展，但它更容易制作，你可以指定它应该运行的模式或特定网站</p><p id="8820" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是脚本管理器，我如何获得它？</strong></p><p id="532d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">脚本管理器是一个方便的扩展，允许您运行这些用户脚本。这是他们赖以生存的环境</p><p id="7d4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有两个流行的脚本管理器值得一提，Chrome的<a class="ae ju" href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en" rel="noopener ugc nofollow" target="_blank"> TamperMonkey </a>和Firefox的<a class="ae ju" href="https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/" rel="noopener ugc nofollow" target="_blank"> GreaseMonkey </a></p><p id="7efe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如何安装脚本或编写自己的DO？</strong></p><p id="f4aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有很多关于如何使用这两个脚本管理器的教程，最好的开始方式是<a class="ae ju" href="https://simply-how.com/enhance-and-fine-tune-any-web-page-the-complete-user-scripts-guide" rel="noopener ugc nofollow" target="_blank">这个教程</a>，因为在这篇文章中我们更关心如何编写我们的javascript</p><p id="821d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">让我们开始编码</strong></p><p id="7c24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像我说的，用户脚本只是一个javascript文件，在任何网页加载之前运行，或者作为我们提供的模式，所以要为TamperMonkey编写一个新的用户脚本，请遵循以下步骤</p><p id="3d62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1️⃣点击扩展，然后“创建一个新的脚本”，如下图所示</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/666bb6d846201e68b216b5a25df06774.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*h01kFibJkuJYvgHMm59kaw.png"/></div></figure><p id="3f20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2️⃣一旦你看到文本编辑器就粘贴这个非常简单但令人讨厌的代码🙄</p><p id="f161" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jp jq jr js b">alert("OMG THIS IS WORKING")</code>看到了吗？就这么简单，现在让我们指定它应该运行的页面模式，我将指定任何包含https的内容，因此添加元数据部分—脚本的上半部分</p><p id="a045" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jp jq jr js b">// @include https://*</code>现在重新加载页面，你会看到一个非常烦人的警告😞</p><p id="ee3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用户脚本结构的快速概述</strong></p><ol class=""><li id="5802" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated">看起来像注释的上部称为元数据</li></ol><p id="d1c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基本上，我们添加任何与脚本相关的库或配置，有些是</p><ul class=""><li id="aedb" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kf kc kd ke bi translated"><code class="du jp jq jr js b">@include</code>用于指定脚本应该运行的网页</li><li id="d5b4" class="jw jx hi ih b ii kg im kh iq ki iu kj iy kk jc kf kc kd ke bi translated"><code class="du jp jq jr js b">@match</code>与之颇为相似</li><li id="e7e7" class="jw jx hi ih b ii kg im kh iq ki iu kj iy kk jc kf kc kd ke bi translated"><code class="du jp jq jr js b">@run-at</code>帮助您决定何时开始执行脚本[“文档-开始”、“文档-结束”、“文档-正文]，]</li></ul><p id="2872" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于这些的完整参考资料，请点击查看文档<a class="ae ju" href="https://www.tampermonkey.net/documentation.php" rel="noopener ugc nofollow" target="_blank"/></p><p id="3351" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.然后另一部分是你的代码应该去哪里，你可能会立即注意到的一件事是自调用函数</p><p id="eb25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该语法告诉脚本立即执行该函数，而不是像下面的例子中那样执行</p><pre class="je jf jg jh fd kl js km kn aw ko bi"><span id="efd9" class="kp kq hi js b fi kr ks l kt ku">function greeting(){alert("welcome home")}<br/>greeting()</span></pre><p id="8c4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现在是时候使用音频API了</strong></p><p id="79d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于javascript，我最喜欢的部分是原生的<a class="ae ju" href="https://developer.mozilla.org/en-US/docs/Web/API" rel="noopener ugc nofollow" target="_blank">浏览器API</a>以及它们用很少的代码为你的web应用提供了多少功能，所以有一个API引起了我的注意并给了我灵感，那就是<code class="du jp jq jr js b">Audio()</code></p><p id="cd54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个api只是允许我们加载和播放一个音频文件，为此我刚刚谷歌了一下3D音效，给自己弄了一个……身体乐器声音效果👼</p><p id="1ec6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看它的实际效果，好吗</p><pre class="je jf jg jh fd kl js km kn aw ko bi"><span id="577c" class="kp kq hi js b fi kr ks l kt ku">let fart = new Audio(URL_TO_FILE);<br/>fart.play();</span></pre><p id="dfd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请戴上耳机🎧</p><p id="4d07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是使用API的最基本的方法，但是我相信你来这里不是为了看两行代码，所以让我们给这个用户脚本添加一些逻辑</p><p id="2d71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">认真用JAVASCRIPT编码个屁</strong></p><p id="8e94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以这个脚本的步骤非常简单明了:</p><p id="39e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1️⃣等待页面加载</p><p id="253e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2️⃣使用<code class="du jp jq jr js b">querySelectorAll()</code>抓取所有的按钮和链接元素</p><p id="12b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3️⃣为每个元素添加一个点击事件的事件监听器</p><p id="ebe1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4️⃣希望科尔一家不会挡我们的路😫</p><p id="3306" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">没有进一步的原因，让我们用代码实现这个算法</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="45b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你知道了！一个用户脚本，每当你点击一个链接或按钮时就会放屁😆</p><p id="9f4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在刷新页面，到YouTube上，享受😌</p><p id="3f39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">常见问题</strong></p><p id="08ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">唯一的问题，我遇到了，并尝试了无数的修复，以解决最可靠的方式是<strong class="ih hj"> CORS </strong>这是一个浏览器安全政策，你可以阅读关于<strong class="ih hj"> </strong> <a class="ae ju" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">在这里</strong> </a></p><p id="9a63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我到底要用用户脚本做什么呢</strong></p><p id="9f91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗯，任何事情，实际上任何事情，一旦你有了坚实的javascript基础，这真的不是很难，然后你可以发布你自己的用户脚本或安装脚本</p><p id="b82f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">你说发表？但是如何</strong></p><p id="5318" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我自己最喜欢的地方是<a class="ae ju" href="https://greasyfork.org/en" rel="noopener ugc nofollow" target="_blank">油腻的叉子</a>那里有社区提供的大量脚本，这也是分享你的脚本的最好方式</p><p id="3ec6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你甚至可以从<a class="ae ju" href="https://greasyfork.org/en/scripts/436075-the-fart-effect" rel="noopener ugc nofollow" target="_blank">这个链接</a>下载这个脚本</p><p id="b902" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读，请联系我的不和谐:继兄#2048任何帮助，我会尽全力💕</p></div></div>    
</body>
</html>