<html>
<head>
<title>Using a Pandas DataFrame to Solve a Probability Question</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用熊猫数据框架解决一个概率问题</h1>
<blockquote>原文：<a href="https://medium.com/geekculture/using-a-pandas-dataframe-to-solve-a-probability-question-e631f838652d?source=collection_archive---------13-----------------------#2021-07-27">https://medium.com/geekculture/using-a-pandas-dataframe-to-solve-a-probability-question-e631f838652d?source=collection_archive---------13-----------------------#2021-07-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="cd96" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">掷色子</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/845bce55d54ba408624ce8b1fc3f121b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zn7z4JEunT6ZD0zGS0cw0Q.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by Denes Kozma via Unsplash</figcaption></figure><p id="6c9a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在我最近的文章中，我解释了如何使用熊猫来计算我小时候遇到的掷出6个骰子的超级长镜头场景的概率。在这篇文章中，我将提出另一个概率问题，解释用于寻找答案的思维过程，并展示最终结果。</p><h1 id="052b" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">问题是:</h1><p id="9f91" class="pw-post-body-paragraph jn jo hi jp b jq lc ij js jt ld im jv jw le jy jz ka lf kc kd ke lg kg kh ki hb bi translated">在这种情况下，我们将再次使用6个骰子。问题是这样提出的:如果6个骰子都掷出来了，只有2个骰子是重复的概率是多少？</p><p id="f643" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">让我们利用这段时间重新审视这个问题。有什么比想象几个例子更好的方法呢？请注意，对于每个示例/卷，有一个值显示两次。其他值都不一样。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lh"><img src="../Images/2312b16393426d5a9c11a10881764e24.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*MFdGrsgfkQfDm7ZwVLqUZQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by Author</figcaption></figure><p id="db62" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这也可以表述为:只有一对的概率是多少？</p><h1 id="48b2" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">这怎么用熊猫解决？</h1><p id="490a" class="pw-post-body-paragraph jn jo hi jp b jq lc ij js jt ld im jv jw le jy jz ka lf kc kd ke lg kg kh ki hb bi translated">我将使用一个熊猫数据框架来解决这个问题。有多种方法可以做到这一点，但要查看我使用的代码，请随意查看<a class="ae kj" href="https://www.kaggle.com/josephburton06/probability-with-6-dice-in-python" rel="noopener ugc nofollow" target="_blank"> Kaggle笔记本</a>。</p><ol class=""><li id="d0bb" class="li lj hi jp b jq jr jt ju jw lk ka ll ke lm ki ln lo lp lq bi translated">理解被问的问题(上图)。</li><li id="1b98" class="li lj hi jp b jq lr jt ls jw lt ka lu ke lv ki ln lo lp lq bi translated">创建显示每个可能的row场景的数据框架(在<a class="ae kj" href="https://www.kaggle.com/josephburton06/probability-with-6-dice-in-python" rel="noopener ugc nofollow" target="_blank"> Kaggle笔记本</a>中)。</li><li id="8e8a" class="li lj hi jp b jq lr jt ls jw lt ka lu ke lv ki ln lo lp lq bi translated">确定哪些行将被视为优胜行。</li><li id="adbf" class="li lj hi jp b jq lr jt ls jw lt ka lu ke lv ki ln lo lp lq bi translated">提问:什么可以打破这个？</li><li id="8390" class="li lj hi jp b jq lr jt ls jw lt ka lu ke lv ki ln lo lp lq bi translated">计算获胜场景的概率。</li></ol><h1 id="4c66" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">识别获奖行</h1><p id="8fbe" class="pw-post-body-paragraph jn jo hi jp b jq lc ij js jt ld im jv jw le jy jz ka lf kc kd ke lg kg kh ki hb bi translated">该数据帧有6列，每一列对应一个骰子，其中包含该特定场景下每个骰子的值。我们可以这样说，如果D1 = D2或D1 = D3，…或D5 = D6，那么它就是赢家。让我们尝试一些不同的东西。</p><p id="a5d6" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果将所有骰子值合并到一个列表中，我们将知道在6个骰子中有5个唯一值的地方，该行将有一个骰子是另一个骰子的副本。让我们这样做，并看看一些输赢行:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lw"><img src="../Images/9c7a49e72c426b7f6816ff4cf9515580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*YGakDxxQtUJ9S6eA6Uci8Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by Author</figcaption></figure><p id="da41" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">请注意，在前2行中，值3在每行中出现了3次。在第四行中，2和5都是重复的。</p><h1 id="de18" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">什么能打破这个？</h1><p id="9b83" class="pw-post-body-paragraph jn jo hi jp b jq lc ij js jt ld im jv jw le jy jz ka lf kc kd ke lg kg kh ki hb bi translated">仅仅因为可以编写逻辑来标识这些行，并不意味着它们可以应用于每个场景。总是问这样一个问题:什么能打破这个？</p><p id="9999" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">假设，我们试图回答一个类似的问题，但是我们想找到有2对或2组重复数字的行。如果我们尝试使用唯一值4，我们会遇到将上面的前2行标记为赢家的问题，因为它们有4个唯一值，但它们是单个值的三倍。</p><h1 id="15e1" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">计算概率</h1><p id="b8e8" class="pw-post-body-paragraph jn jo hi jp b jq lc ij js jt ld im jv jw le jy jz ka lf kc kd ke lg kg kh ki hb bi translated">有多种方法可以得到这个答案。我们将使用value_count()作为我们的路由。我们可以通过组合两个小的数据帧来显示计数和百分比，结果如下:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lx"><img src="../Images/27591c9e0db186e2af88c15ffc313e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tn8OOmFBwFa5QGrS82vCKA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by Author</figcaption></figure><p id="e7e5" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">因此，当掷出6个骰子时，大约有23%的几率只有2个骰子显示相同的数值/得到一对。</p><h1 id="54ee" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">最终注释</h1><p id="a497" class="pw-post-body-paragraph jn jo hi jp b jq lc ij js jt ld im jv jw le jy jz ka lf kc kd ke lg kg kh ki hb bi translated">如前所述，我希望能让你思考如何使用代码来帮助解决问题。随着我在分析领域的发展，我发现专注于几个项目真的会有帮助:将问题分解成步骤，以不同的方式问问题，以及想出打破逻辑的场景都真的有帮助。</p></div></div>    
</body>
</html>